;/*FB_PKG_DELIM*/

__d("MpsFutureProofKey",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({WCEPlaintextPayloadFutureProofPlaceholder:0,WCEPlaintextPayloadFutureProofNoPlaceholder:1,WCEPlaintextPayloadFutureProofIgnore:2});f.WCEPlaintextPayloadFutureProof=a}),66);
__d("WAAbPropsHelpers",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["maybeUpdateExpoKeys: config_expo_key "," changed"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["maybeUpdateExpoKeys: deleting config_expo_key ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["maybeUpdatePropValues: deleting config ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["parseValue: unsure how to read ",""]);k=function(){return a};return a}var l=86400,m=600,n=604800;function a(a){return a==null?l:Math.max(m,Math.min(n,a))}function o(a){var b=[];Object.keys(a).forEach(function(c){var d=a[c],e=d[0];d[1];d=d[2];if(typeof e!=="number")return;b.push({configName:c,configCode:e,configDefault:d})});return b}function b(a,b){a=a[b][0];return typeof a==="number"?a:null}function p(a,b){switch(typeof b){case"boolean":return a==="1";case"number":return parseFloat(a);case"string":return a;default:d("WALogger").WARN(k(),a);return null}}function c(a,b){var c=new Map();b.forEach(function(a){var b=a.configCode,d=a.configValue;a=a.configExpoKey;c.set(b,{configValue:d,configExpoKey:a})});var d={},e={};o(a).forEach(function(a){var b=a.configName,f=a.configCode;a=a.configDefault;var g=c.get(f);if(g==null)return;var h=g.configValue;g=g.configExpoKey;h=p(h,a);h!=null&&(d[b]=h);e[f]=g!=null?g:null});return{values:d,expoKeys:e}}function e(a,b,c){var e=babelHelpers["extends"]({},b,a),f={};Object.keys(e).forEach(function(a){if(c[a]==null){d("WALogger").LOG(j(),a);return}f[a]=e[a]});return f}function f(a,b,c){var e=babelHelpers["extends"]({},b,a),f={};a=o(c).map(function(a){return a.configCode});var g=new Set(a),j=new Set();Object.keys(e).forEach(function(a){a=parseInt(a,10);var c=b?b[a]:null;!g.has(a)?(d("WALogger").LOG(i(),a),c!=null&&c.trim()&&j.add(c)):(e[a]!==c&&(d("WALogger").LOG(h(),a),c!=null&&c.trim()&&j.add(c)),f[a]=e[a])});return{propExpoKeys:f,expoKeysToDelete:j}}function q(a,b){if(b==null)return;var c=b;a.forEach(function(a){c["delete"](a)});if(c.size===0)return;return{internalExpoKeys:c,expoKeyStr:Array.from(c).join(",")}}g.maybeUpdateRefresh=a;g.asAbList=o;g.asAbCode=b;g.parseAbProps=c;g.maybeUpdatePropValues=e;g.maybeUpdateExpoKeys=f;g.maybeUpdateInternalExpoKeys=q}),98);
__d("WAAbProps",["WAAbPropsHelpers","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(a){if(h)return h;else throw c("err")("abProps::"+a+" called before startAbProps")}function a(a,b){h==null&&(h={config:b,db:a})}function b(){return i("getHash").db.getHash()}function e(){return i("getRefreshSecs").db.getRefreshSecs().then(function(a){return d("WAAbPropsHelpers").maybeUpdateRefresh(a)})}function f(){return i("getConfig").config}function j(){return i("getAbProps").db.getAbProps()}function k(a){return i("getAbProps").db.setAbProps(a)}g.startAbProps=a;g.getHash=b;g.getRefreshSecs=e;g.getConfig=f;g.getAbProps=j;g.setAbProps=k}),98);
__d("WASmaxInAbPropsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInAbPropsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-implemented");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",501);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotImplementedMixin=a}),98);
__d("WASmaxInAbPropsNoRetryErrors",["WAResultOrError","WASmaxInAbPropsIQErrorBadRequestMixin","WASmaxInAbPropsIQErrorFeatureNotImplementedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorFeatureNotImplemented"],[b,c])}g.parseNoRetryErrors=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry",["WAResultOrError","WASmaxInAbPropsIQErrorResponseMixin","WASmaxInAbPropsNoRetryErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInAbPropsNoRetryErrors").parseNoRetryErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorNoRetryErrors:b.value}))}g.parseGetExperimentConfigResponseErrorNoRetry=a}),98);
__d("WASmaxInAbPropsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry",["WAResultOrError","WASmaxInAbPropsIQErrorInternalServerErrorMixin","WASmaxInAbPropsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInAbPropsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseGetExperimentConfigResponseErrorRetry=a}),98);
__d("WASmaxInAbPropsExperimentConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"config_code",1,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"config_value");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"config_expo_key",0,void 0);return!a.success?a:d("WAResultOrError").makeResult({configCode:b.value,configValue:c.value,configExpoKey:a.value})}g.parseExperimentConfigMixin=a}),98);
__d("WASmaxInAbPropsSamplingConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"event_code",1,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"sampling_weight",-1e4,1e4);return!a.success?a:d("WAResultOrError").makeResult({eventCode:b.value,samplingWeight:a.value})}g.parseSamplingConfigMixin=a}),98);
__d("WASmaxInAbPropsConfigs",["WAResultOrError","WASmaxInAbPropsExperimentConfigMixin","WASmaxInAbPropsSamplingConfigMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsExperimentConfigMixin").parseExperimentConfigMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"ExperimentConfig",value:b.value});var c=d("WASmaxInAbPropsSamplingConfigMixin").parseSamplingConfigMixin(a);return c.success?d("WAResultOrError").makeResult({name:"SamplingConfig",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["ExperimentConfig","SamplingConfig"],[b,c])}g.parseConfigs=a}),98);
__d("WASmaxInAbPropsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseSuccess",["WAResultOrError","WASmaxInAbPropsConfigs","WASmaxInAbPropsIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxInAbPropsConfigs").parseConfigs(a);return!b.success?b:d("WAResultOrError").makeResult({configs:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"erid");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,1,100);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"props");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"erid",i);if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"protocol","1");if(!f.success)return f;var g=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"ab_key");if(!g.success)return g;var j=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"hash");if(!j.success)return j;var k=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh",0,void 0);if(!k.success)return k;var l=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh_id",0,void 0);if(!l.success)return l;a=d("WASmaxInAbPropsIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"prop",0,Infinity,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({propsProtocol:f.value,propsAbKey:g.value,propsHash:j.value,propsRefresh:k.value,propsRefreshId:l.value},a.value,{erid:e.value,propsProp:b.value}))}g.parseGetExperimentConfigResponseSuccessPropsProp=h;g.parseGetExperimentConfigResponseSuccessErid=i;g.parseGetExperimentConfigResponseSuccess=a}),98);
__d("WASmaxAttrs",["WAWap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b==null)return d("WAWap").DROP_ATTR;else return a(b)}function b(a,b){if(b)return a;else return d("WAWap").DROP_ATTR}g.OPTIONAL=a;g.OPTIONAL_LITERAL=b}),98);
__d("WASmaxOutAbPropsBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutAbPropsGetExperimentConfigRequest",["WASmaxAttrs","WASmaxJsx","WASmaxOutAbPropsBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=a.propsHash;a=d("WASmaxOutAbPropsBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"abt",to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("props",{protocol:"1",hash:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)})));return a}g.makeGetExperimentConfigRequest=a}),98);
__d("WASmaxAbPropsGetExperimentConfigRPC",["WAComms","WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry","WASmaxInAbPropsGetExperimentConfigResponseErrorRetry","WASmaxInAbPropsGetExperimentConfigResponseSuccess","WASmaxOutAbPropsGetExperimentConfigRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutAbPropsGetExperimentConfigRequest").makeGetExperimentConfigRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInAbPropsGetExperimentConfigResponseSuccess").parseGetExperimentConfigResponseSuccess(b,a);if(c.success)return{name:"GetExperimentConfigResponseSuccess",value:c.value};var e=d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry").parseGetExperimentConfigResponseErrorNoRetry(b,a);if(e.success)return{name:"GetExperimentConfigResponseErrorNoRetry",value:e.value};b=d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry").parseGetExperimentConfigResponseErrorRetry(b,a);if(b.success)return{name:"GetExperimentConfigResponseErrorRetry",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetExperimentConfig",{Success:c,ErrorNoRetry:e,ErrorRetry:b}))}g.sendGetExperimentConfigRPC=a}),98);
__d("WAGetAbPropsProtocol",["WALogger","WAResultOrError","WASmaxAbPropsGetExperimentConfigRPC"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getAbPropsProtocol failed ",""]);h=function(){return a};return a}async function a(a){a=await d("WASmaxAbPropsGetExperimentConfigRPC").sendGetExperimentConfigRPC({propsHash:a});if(a.name==="GetExperimentConfigResponseSuccess"){var b=a.value,c=b.propsAbKey,e=b.propsHash,f=b.propsRefresh,g=b.propsRefreshId,j=b.propsProp;b=b.erid;j=i(j);var k=j.newProps;j=j.samplingConfigs;return d("WAResultOrError").makeResult({abKey:c,hash:e,refresh:f,refreshId:g,props:k,samplingConfigs:j,erid:b==null?void 0:b.elementValue})}d("WALogger").WARN(h(),a.value);return d("WAResultOrError").makeError()}function i(a){var b=[],c=[];a.forEach(function(a){a=a.configs;if(a.name==="ExperimentConfig"){var d;b.push({configCode:a.value.configCode,configValue:a.value.configValue,configExpoKey:(d=a.value.configExpoKey)==null?void 0:d.toString()})}else a.name==="SamplingConfig"&&c.push({eventCode:a.value.eventCode,samplingWeight:a.value.samplingWeight})});return{newProps:b,samplingConfigs:c}}g.getAbPropsProtocol=a}),98);
__d("WAAbPropsSync",["WAAbProps","WAAbPropsHelpers","WAGetAbPropsProtocol","WALogger","WAPromiseManagement","WAResultOrError","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAAbProps.update: updating ab configs"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAAbProps.update: detected no hash"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncAbProps: detected no hash"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchAbProps failed"]);k=function(){return a};return a}b=d("WAPromiseManagement").cacheWhilePending(function(){return"abProps"},a);function a(a){var b=a.sendHash;b=b===void 0?!0:b;var c=a.eventFlow;c==null?void 0:c.addPoint("sync_ab_props",{bool:{sendHash:b}});return b==null||b===!1?l(null,c):d("WAAbProps").getHash().then(function(a){return l(a,c)})}c=a;async function l(a,b){b==null?void 0:b.addPoint("fetch_ab_props");a=await d("WAGetAbPropsProtocol").getAbPropsProtocol(a);if(!a.success)d("WALogger").ERROR(k());else{a=a.value;var c=a.abKey,e=a.hash,f=a.refresh;a=a.props;a=d("WAAbPropsHelpers").parseAbProps(d("WAAbProps").getConfig(),a);b==null?void 0:b.addPoint("save_ab_props");b=await m(c,e,f,a);b.success===!1&&(b.error,d("WALogger").LOG(j()))}c=await d("WAAbProps").getRefreshSecs();return{seconds:c}}async function m(a,b,c,e){var f=await d("WAAbProps").getAbProps();a={abKey:(a=a)!=null?a:f.abKey,hash:(a=b)!=null?a:f.hash,refresh:d("WAAbPropsHelpers").maybeUpdateRefresh(c),lastSyncTime:d("WATimeUtils").unixTime(),propValues:f.propValues,propExpoKeys:f.propExpoKeys,internalExpoKeys:f.internalExpoKeys,expoKeyStr:f.expoKeyStr};if(b==null){await d("WAAbProps").setAbProps(a);d("WALogger").LOG(i());return d("WAResultOrError").makeError("noHash")}d("WALogger").LOG(h());c=e.values;b=e.expoKeys;e=d("WAAbPropsHelpers").maybeUpdatePropValues(c,f.propValues,d("WAAbProps").getConfig());c=d("WAAbPropsHelpers").maybeUpdateExpoKeys(b,f.propExpoKeys,d("WAAbProps").getConfig());b=c.propExpoKeys;c=c.expoKeysToDelete;var g,j;c=d("WAAbPropsHelpers").maybeUpdateInternalExpoKeys(c,f.internalExpoKeys);c!=null&&(g=c.internalExpoKeys,j=c.expoKeyStr);await d("WAAbProps").setAbProps(babelHelpers.extends({},a,{propValues:e,propExpoKeys:b,internalExpoKeys:g,expoKeyStr:j}));return d("WAResultOrError").makeResult()}g.syncAbProps=b;g.syncAbPropsDebug=c}),98);
__d("WAAppData",[],(function(a,b,c,d,e,f){"use strict";a=1;b=2;f.EPOCH_STATUS_OPEN=a;f.EPOCH_STATUS_CLOSE=b}),66);
__d("WAArmadilloICDC.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.name="ICDCIdentityList";a.internalSpec={seq:[1,(c=d("WAProtoConst")).TYPES.INT32],timestamp:[2,c.TYPES.INT64],devices:[3,c.FLAGS.REPEATED|c.TYPES.BYTES],signingDeviceIndex:[4,c.TYPES.INT32]};b.name="SignedICDCIdentityList";b.internalSpec={details:[1,c.TYPES.BYTES],signature:[2,c.TYPES.BYTES]};g.ICDCIdentityListSpec=a;g.SignedICDCIdentityListSpec=b}),98);
__d("WAArrayChunk",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){c===void 0&&(c=!1);var e=0,f=[];while(e<a.length){var g=[],h=0;while(e<a.length){var i=a[e],j=d?d(i):1;if(!c&&h===0||h+j<=b)h+=j,g.push(i),e++;else{c&&j>b&&e++;break}}g.length>0&&f.push(g)}return f}f.chunk=a}),66);
__d("WACryptoPkcs7",["WACryptoDependencies","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new Uint8Array(1);do d("WACryptoDependencies").getCrypto().getRandomValues(b);while(b[0]===0);h(a,b[0])}function b(a){var b=new Uint8Array(1);d("WACryptoDependencies").getCrypto().getRandomValues(b);h(a,(b[0]&15)+1)}function h(a,b){for(var c=0;c<b;c++)a.writeUint8(b)}function e(a){if(a.length===0)throw c("err")("unpadPkcs7 given empty bytes");var b=a[a.length-1];if(b>a.length)throw c("err")("unpadPkcs7 given "+a.length+" bytes, but pad is "+b);return new Uint8Array(a.buffer,a.byteOffset,a.length-b)}g.writeRandomPad=a;g.writeRandomPadMax16=b;g.writePad=h;g.unpadPkcs7=e}),98);
__d("WAMsgTransport.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={NOOP:0,UPSERT:1,DELETE:2,UPSERT_AND_DELETE:3};b={};c={};e={};f={};var i={},j={},k={},l={},m={},n={},o={};b.name="MessageTransport";b.internalSpec={payload:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,c],protocol:[2,h.TYPES.MESSAGE,e]};c.name="MessageTransport$Payload";c.internalSpec={applicationPayload:[1,h.TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],futureProof:[3,h.TYPES.ENUM,d("WACommon.pb").FUTURE_PROOF_BEHAVIOR]};e.name="MessageTransport$Protocol";e.internalSpec={integral:[1,h.TYPES.MESSAGE,m],ancillary:[2,h.TYPES.MESSAGE,f]};f.name="MessageTransport$Protocol$Ancillary";f.internalSpec={skdm:[2,h.TYPES.MESSAGE,l],deviceListMetadata:[3,h.TYPES.MESSAGE,o],icdc:[4,h.TYPES.MESSAGE,j],backupDirective:[5,h.TYPES.MESSAGE,i]};i.name="MessageTransport$Protocol$Ancillary$BackupDirective";i.internalSpec={messageId:[1,h.TYPES.STRING],actionType:[2,h.TYPES.ENUM,a],supplementalKey:[3,h.TYPES.STRING]};j.name="MessageTransport$Protocol$Ancillary$ICDCParticipantDevices";j.internalSpec={senderIdentity:[1,h.TYPES.MESSAGE,k],recipientIdentities:[2,h.FLAGS.REPEATED|h.TYPES.MESSAGE,k],recipientUserJids:[3,h.FLAGS.REPEATED|h.TYPES.STRING]};k.name="MessageTransport$Protocol$Ancillary$ICDCParticipantDevices$ICDCIdentityListDescription";k.internalSpec={seq:[1,h.TYPES.INT32],signingDevice:[2,h.TYPES.BYTES],unknownDevices:[3,h.FLAGS.REPEATED|h.TYPES.BYTES],unknownDeviceIds:[4,h.FLAGS.REPEATED|h.TYPES.INT32]};l.name="MessageTransport$Protocol$Ancillary$SenderKeyDistributionMessage";l.internalSpec={groupId:[1,h.TYPES.STRING],axolotlSenderKeyDistributionMessage:[2,h.TYPES.BYTES]};m.name="MessageTransport$Protocol$Integral";m.internalSpec={padding:[1,h.TYPES.BYTES],dsm:[2,h.TYPES.MESSAGE,n]};n.name="MessageTransport$Protocol$Integral$DeviceSentMessage";n.internalSpec={destinationJid:[1,h.TYPES.STRING],phash:[2,h.TYPES.STRING]};o.name="DeviceListMetadata";o.internalSpec={senderKeyHash:[1,h.TYPES.BYTES],senderTimestamp:[2,h.TYPES.UINT64],recipientKeyHash:[8,h.TYPES.BYTES],recipientTimestamp:[9,h.TYPES.UINT64]};g.MESSAGE_TRANSPORT_PROTOCOL_ANCILLARY_BACKUP_DIRECTIVE_ACTION_TYPE=a;g.MessageTransportSpec=b;g.MessageTransport$PayloadSpec=c;g.MessageTransport$ProtocolSpec=e;g.MessageTransport$Protocol$AncillarySpec=f;g.MessageTransport$Protocol$Ancillary$BackupDirectiveSpec=i;g.MessageTransport$Protocol$Ancillary$ICDCParticipantDevicesSpec=j;g.MessageTransport$Protocol$Ancillary$ICDCParticipantDevices$ICDCIdentityListDescriptionSpec=k;g.MessageTransport$Protocol$Ancillary$SenderKeyDistributionMessageSpec=l;g.MessageTransport$Protocol$IntegralSpec=m;g.MessageTransport$Protocol$Integral$DeviceSentMessageSpec=n;g.DeviceListMetadataSpec=o}),98);
__d("WAAsMessageTransport",["WABinary","WACryptoPkcs7","WAJids","WAMsgTransport.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.type){case"text":return{actionType:d("WAMsgTransport.pb").MESSAGE_TRANSPORT_PROTOCOL_ANCILLARY_BACKUP_DIRECTIVE_ACTION_TYPE.UPSERT,messageId:a.externalId,supplementalKey:null};case"media":return{actionType:d("WAMsgTransport.pb").MESSAGE_TRANSPORT_PROTOCOL_ANCILLARY_BACKUP_DIRECTIVE_ACTION_TYPE.UPSERT,messageId:a.externalId,supplementalKey:null};case"reaction":return{actionType:d("WAMsgTransport.pb").MESSAGE_TRANSPORT_PROTOCOL_ANCILLARY_BACKUP_DIRECTIVE_ACTION_TYPE.UPSERT,messageId:a.originalMsgExternalId,supplementalKey:"reaction:"+d("WAJids").extractChatId__DANGEROUS(a.chatJid)};case"edit":return{actionType:d("WAMsgTransport.pb").MESSAGE_TRANSPORT_PROTOCOL_ANCILLARY_BACKUP_DIRECTIVE_ACTION_TYPE.UPSERT,messageId:a.originalMsgExternalId,supplementalKey:"edit:"+d("WAJids").extractChatId__DANGEROUS(a.chatJid)+":"+(a.timestamp*1e3).toString()}}}function b(a,b,c,e,f,g){g===void 0&&(g=2);var h;b!=null&&(h={destinationJid:b});var i;a!=null&&(i={applicationPayload:{payload:a,version:g}});b=new(d("WABinary").Binary)();d("WACryptoPkcs7").writeRandomPadMax16(b);return{payload:i,protocol:{integral:{padding:b.readBuffer(),dsm:h},ancillary:{skdm:c==null?void 0:c,icdc:e==null?void 0:e,backupDirective:f==null?void 0:{actionType:f.actionType,messageId:f.messageId,supplementalKey:f.supplementalKey}}}}}g.backupDirectiveActionType=d("WAMsgTransport.pb").MESSAGE_TRANSPORT_PROTOCOL_ANCILLARY_BACKUP_DIRECTIVE_ACTION_TYPE;g.constructBackupDirective=a;g.asMessageTransport=b}),98);
__d("WABuildMpsPayload",["MpsFutureProofKey","MpsTypes","WAArmadilloBackupMessage.pb","WAArmadilloTransportEvent.pb","WAGlobals","WAJids","WALogger","WATimeUtils","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["buildMpsAppdataPayload: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["buildMpsAppdataPayload: No appdata payload"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["buildMpsMessagePayload: ",""]);j=function(){return a};return a}function k(a,b){var c=d("WAJids").extractUserId(b.senderJid),e=d("MpsTypes").toThreadId(b.threadId),f;b.hideDecryptionFailure!=null&&(f=b.hideDecryptionFailure?d("MpsFutureProofKey").WCEPlaintextPayloadFutureProof.WCEPlaintextPayloadFutureProofNoPlaceholder:d("MpsFutureProofKey").WCEPlaintextPayloadFutureProof.WCEPlaintextPayloadFutureProofPlaceholder);var g=b.serverTs*1e3+d("WAGlobals").getDependencies().extractMsFromStanzaId(b.externalId);a=d("encodeProtobuf").encodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,babelHelpers["extends"]({},a,{metadata:{frankingMetadata:{frankingTag:b.frankingTag,reportingTag:b.reportingTag},messageId:b.externalId,payloadVersion:3,senderId:c,futureProofBehavior:f,timestampMs:g}})).readBuffer();return{messageId:d("MpsTypes").toMessageId(b.externalId),payload:a,senderId:c,threadId:e,timestampMs:g}}function a(a,b,c){try{var e={};switch(c.type){case"message":e={encryptedTransportMessage:c.applicationPayload};break;case"ciphertext":e={encryptedTransportEvent:{payload:d("encodeProtobuf").encodeProtobuf(d("WAArmadilloTransportEvent.pb").TransportEventSpec,{placeholder:{type:d("WAArmadilloTransportEvent.pb").TransportEvent$Placeholder$Type.DECRYPTION_FAILURE}}).readBuffer(),version:3}};break;case"unavailable":e={encryptedTransportEvent:{payload:d("encodeProtobuf").encodeProtobuf(d("WAArmadilloTransportEvent.pb").TransportEventSpec,{placeholder:{type:d("WAArmadilloTransportEvent.pb").TransportEvent$Placeholder$Type.DECRYPTION_FAILURE}}).readBuffer(),version:3}};break;default:c.type}return k(e,{senderJid:d("WAJids").extractUserJid(b.from),externalId:a.stanzaId,serverTs:a.serverTs,frankingTag:a.frankingTag,reportingTag:a.reportingTag,hideDecryptionFailure:a.hideDecryptionFailure,threadId:b.chat})}catch(a){d("WALogger").ERROR(j(),a);return null}}function b(a,b,c){if(c.payload==null){d("WALogger").ERROR(i());return null}try{return k({encryptedTransportMessage:c.payload},{senderJid:d("WAJids").extractUserJid(a.from),externalId:a.stanzaId,serverTs:b,threadId:d("WAJids").extractUserJid(a.from)})}catch(a){d("WALogger").ERROR(h(),a);return null}}function c(a,b,c){var e={payload:d("encodeProtobuf").encodeProtobuf(d("WAArmadilloTransportEvent.pb").TransportEventSpec,{event:{icdcAlert:{type:d("WAArmadilloTransportEvent.pb").TransportEvent$Event$IcdcAlert$Type.DETECTED}}}).readBuffer(),version:3};return k({encryptedTransportEvent:e},{serverTs:(e=b)!=null?e:d("WATimeUtils").unixTime(),externalId:c,hideDecryptionFailure:!1,senderJid:a,threadId:a})}function e(a,b,c,e,f,g){e={payload:d("encodeProtobuf").encodeProtobuf(d("WAArmadilloTransportEvent.pb").TransportEventSpec,{event:{deviceChange:{type:e,devicePlatform:f,deviceModel:g}}}).readBuffer(),version:3};return k({encryptedTransportEvent:e},{serverTs:(f=b)!=null?f:d("WATimeUtils").unixTime(),externalId:c,hideDecryptionFailure:!1,senderJid:a,threadId:a})}g.buildMpsMessage=k;g.buildMpsMessageFromIncomingMessage=a;g.buildMpsAppdataPayload=b;g.buildMpsIcdcAdminMessage=c;g.buildMpsDeviceChangeAdminMessage=e}),98);
__d("WASmaxInPreKeysIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInPreKeysIQErrorNoValidJIDMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","not-acceptable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",406);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorNoValidJIDMixin=a}),98);
__d("WASmaxInPreKeysRequestErrorsFetch",["WAResultOrError","WASmaxInPreKeysIQErrorBadRequestMixin","WASmaxInPreKeysIQErrorFallbackClientMixin","WASmaxInPreKeysIQErrorNoValidJIDMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInPreKeysIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInPreKeysIQErrorNoValidJIDMixin").parseIQErrorNoValidJIDMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorNoValidJID",value:c.value});var e=d("WASmaxInPreKeysIQErrorFallbackClientMixin").parseIQErrorFallbackClientMixin(a);return e.success?d("WAResultOrError").makeResult({name:"IQErrorFallbackClient",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorNoValidJID","IQErrorFallbackClient"],[b,c,e])}g.parseRequestErrorsFetch=a}),98);
__d("WASmaxInPreKeysFetchKeyBundlesResponseRequestError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysRequestErrorsFetch","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysRequestErrorsFetch").parseRequestErrorsFetch(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRequestErrorsFetch:b.value}))}g.parseFetchKeyBundlesResponseRequestError=a}),98);
__d("WASmaxInPreKeysFetchKeyBundlesResponseServerError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysServerErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysServerErrors").parseServerErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorServerErrors:b.value}))}g.parseFetchKeyBundlesResponseServerError=a}),98);
__d("WASmaxInPreKeysEnums",["WAJids"],(function(a,b,c,d,e,f,g){b={validators:[(a=d("WAJids")).validateDeviceJid,a.validateDeviceJid],typeName:"DeviceJid|DeviceJid"};c={validators:[a.validateDeviceJid,a.validateDeviceJid,a.validateInteropDeviceJid,a.validateInteropDeviceJid],typeName:"DeviceJid|DeviceJid|InteropDeviceJid|InteropDeviceJid"};e={validators:[a.validateDeviceJid,a.validateDomainJid],typeName:"DeviceJid|DomainJid"};f={validators:[a.validateUserJid,a.validateUserJid],typeName:"UserJid|UserJid"};g.DEVICEJID_DEVICEJID=b;g.DEVICEJID_DEVICEJID_INTEROPDEVICEJID_INTEROPDEVICEJID=c;g.DEVICEJID_DOMAINJID=e;g.USERJID_USERJID=f}),98);
__d("WASmaxInPreKeysResponsePaddingMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"iq");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"padding");if(!b.success)return b;a=d("WASmaxParseUtils").contentBytesRange(b.value,0,524288);return!a.success?a:d("WAResultOrError").makeResult({paddingElementValue:a.value})}g.parseResponsePaddingMixin=a}),98);
__d("WASmaxInPreKeysFetchKeyBundlesUserErrorFallbackMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"user");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(b.value,"text");if(!a.success)return a;b=d("WASmaxParseUtils").attrIntRange(b.value,"code",500,599);return!b.success?b:d("WAResultOrError").makeResult({errorText:a.value,errorCode:b.value})}g.parseFetchKeyBundlesUserErrorFallbackMixin=a}),98);
__d("WASmaxInPreKeysFetchKeyBundlesUserErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"user");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(b.value,"text");if(!a.success)return a;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,b.value,"code",500);return!b.success?b:d("WAResultOrError").makeResult({errorText:a.value,errorCode:b.value})}g.parseFetchKeyBundlesUserErrorMixin=a}),98);
__d("WASmaxInPreKeysDeviceIdentityMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"device-identity");if(!a.success)return a;a=d("WASmaxParseUtils").contentBytes(a.value);return!a.success?a:d("WAResultOrError").makeResult({deviceIdentityElementValue:a.value})}g.parseDeviceIdentityMixin=a}),98);
__d("WASmaxInPreKeysPreKeyMixin",["WAResultOrError","WASmaxInPreKeysKeyDataMixin","WASmaxInPreKeysKeyIDMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"key");if(!a.success)return a;var b=d("WASmaxParseUtils").flattenedChildWithTag(a.value,"id");if(!b.success)return b;a=d("WASmaxParseUtils").flattenedChildWithTag(a.value,"value");if(!a.success)return a;b=d("WASmaxInPreKeysKeyIDMixin").parseKeyIDMixin(b.value);if(!b.success)return b;a=d("WASmaxInPreKeysKeyDataMixin").parseKeyDataMixin(a.value);return!a.success?a:d("WAResultOrError").makeResult({keyIdKeyIDMixin:b.value,keyValueKeyDataMixin:a.value})}g.parsePreKeyMixin=a}),98);
__d("WASmaxInPreKeysFetchKeyBundlesUserSuccessMixin",["WAResultOrError","WASmaxInPreKeysDeviceIdentityMixin","WASmaxInPreKeysIdentityKeyMixin","WASmaxInPreKeysKeyTypeMixin","WASmaxInPreKeysPreKeyMixin","WASmaxInPreKeysRegistrationIDMixin","WASmaxInPreKeysSignedPreKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"user");if(!b.success)return b;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"t",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalLiteral(d("WASmaxParseUtils").attrString,a,"is_cloud_api","true");if(!c.success)return c;var e=d("WASmaxInPreKeysRegistrationIDMixin").parseRegistrationIDMixin(a);if(!e.success)return e;var f=d("WASmaxInPreKeysKeyTypeMixin").parseKeyTypeMixin(a),g=d("WASmaxInPreKeysIdentityKeyMixin").parseIdentityKeyMixin(a);if(!g.success)return g;var h=d("WASmaxInPreKeysPreKeyMixin").parsePreKeyMixin(a),i=d("WASmaxInPreKeysSignedPreKeyMixin").parseSignedPreKeyMixin(a);if(!i.success)return i;a=d("WASmaxInPreKeysDeviceIdentityMixin").parseDeviceIdentityMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({t:b.value,isCloudApi:c.value},e.value,{keyTypeMixin:f.success?f.value:null},g.value,{preKeyMixin:h.success?h.value:null},i.value,{deviceIdentityMixin:a.success?a.value:null}))}g.parseFetchKeyBundlesUserSuccessMixin=a}),98);
__d("WASmaxInPreKeysUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup",["WAResultOrError","WASmaxInPreKeysFetchKeyBundlesUserErrorFallbackMixin","WASmaxInPreKeysFetchKeyBundlesUserErrorMixin","WASmaxInPreKeysFetchKeyBundlesUserSuccessMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInPreKeysFetchKeyBundlesUserSuccessMixin").parseFetchKeyBundlesUserSuccessMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"FetchKeyBundlesUserSuccess",value:b.value});var c=d("WASmaxInPreKeysFetchKeyBundlesUserErrorMixin").parseFetchKeyBundlesUserErrorMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"FetchKeyBundlesUserError",value:c.value});var e=d("WASmaxInPreKeysFetchKeyBundlesUserErrorFallbackMixin").parseFetchKeyBundlesUserErrorFallbackMixin(a);return e.success?d("WAResultOrError").makeResult({name:"FetchKeyBundlesUserErrorFallback",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["UserSuccess","UserError","UserErrorFallback"],[b,c,e])}g.parseUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup=a}),98);
__d("WASmaxInPreKeysFetchKeyBundlesResponseSuccess",["WAResultOrError","WASmaxInPreKeysEnums","WASmaxInPreKeysIQResultResponseMixin","WASmaxInPreKeysResponsePaddingMixin","WASmaxInPreKeysUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"user");if(!b.success)return b;b=d("WASmaxParseJid").attrJidEnum(a,"jid",d("WASmaxInPreKeysEnums").DEVICEJID_DEVICEJID);if(!b.success)return b;a=d("WASmaxInPreKeysUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup").parseUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult({jid:b.value,userFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup:a.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"list");if(!c.success)return c;b=d("WASmaxInPreKeysIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!b.success)return b;a=d("WASmaxInPreKeysResponsePaddingMixin").parseResponsePaddingMixin(a);c=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"user",0,1e5,h);return!c.success?c:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{responsePaddingMixin:a.success?a.value:null,listUser:c.value}))}g.parseFetchKeyBundlesResponseSuccessListUser=h;g.parseFetchKeyBundlesResponseSuccess=a}),98);
__d("WASmaxOutPreKeysFetchKeyBundlesRequest",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxOutPreKeysClientRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.userJid;a=a.hasUserReasonIdentity;b=d("WASmaxJsx").smax("user",{jid:d("WAWap").JID(b),reason:d("WASmaxAttrs").OPTIONAL_LITERAL("identity",a)});return b}function a(a){a=a.userArgs;a=d("WASmaxOutPreKeysClientRequestMixin").mergeClientRequestMixin(d("WASmaxJsx").smax("iq",{type:"get"},d("WASmaxJsx").smax("key",null,d("WASmaxChildren").REPEATED_CHILD(h,a,1,1e5))));return a}g.makeFetchKeyBundlesRequestKeyUser=h;g.makeFetchKeyBundlesRequest=a}),98);
__d("WASmaxPreKeysFetchKeyBundlesRPC",["WAComms","WASmaxInPreKeysFetchKeyBundlesResponseRequestError","WASmaxInPreKeysFetchKeyBundlesResponseServerError","WASmaxInPreKeysFetchKeyBundlesResponseSuccess","WASmaxOutPreKeysFetchKeyBundlesRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutPreKeysFetchKeyBundlesRequest").makeFetchKeyBundlesRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInPreKeysFetchKeyBundlesResponseSuccess").parseFetchKeyBundlesResponseSuccess(b,a);if(c.success)return{name:"FetchKeyBundlesResponseSuccess",value:c.value};var e=d("WASmaxInPreKeysFetchKeyBundlesResponseRequestError").parseFetchKeyBundlesResponseRequestError(b,a);if(e.success)return{name:"FetchKeyBundlesResponseRequestError",value:e.value};b=d("WASmaxInPreKeysFetchKeyBundlesResponseServerError").parseFetchKeyBundlesResponseServerError(b,a);if(b.success)return{name:"FetchKeyBundlesResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("FetchKeyBundles",{Success:c,RequestError:e,ServerError:b}))}g.sendFetchKeyBundlesRPC=a}),98);
__d("WAFetchPreKeyBundlesProtocol",["WAConvertRegistrationIdMixin","WAConvertSignedPreKeyMixin","WAParsableXmlNode","WAResultOrError","WASignalKeys","WASmaxPreKeysFetchKeyBundlesRPC","WATagsLogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["RequestError: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ServerError: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetched prekey successfully"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["start fetching prekey of ","..."]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["fetchPreKeyBundlesProtocol"]);async function a(a){l.LOG(k(),a.join(", "));a=await d("WASmaxPreKeysFetchKeyBundlesRPC").sendFetchKeyBundlesRPC({userArgs:a.map(function(a){return{userJid:a,hasUserReasonIdentity:!1}})});switch(a.name){case"FetchKeyBundlesResponseSuccess":l.LOG(j());var b=new Map();a.value.listUser.map(function(a){var c=a.userFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup;c.name==="FetchKeyBundlesUserSuccess"&&b.set(a.jid,m(c.value))});return d("WAResultOrError").makeResult(b);case"FetchKeyBundlesResponseServerError":var c=a.value.errorServerErrors.name;l.WARN(i(),c);return d("WAResultOrError").makeError({type:"server-error",payload:c});case"FetchKeyBundlesResponseRequestError":c=a.value.errorRequestErrorsFetch.name;l.ERROR(h(),c);return d("WAResultOrError").makeError({type:"request-error",payload:c})}}function m(a){var b=d("WAConvertRegistrationIdMixin").registrationIdMixin(a),c=d("WASignalKeys").serializeIdentity(a.elementValue),e=d("WAConvertSignedPreKeyMixin").convertSignedPreKeyMixin(a),f=a.preKeyMixin?n(a.preKeyMixin):null;a=d("WATimeUtils").castToUnixTime(a.t||0);return{keys:{regId:b,identity:c,oneTimeKey:f,signedKey:{id:e.id,signature:e.signature,publicKey:d("WASignalKeys").serializeIdentity(e.pubkey)}},timestamp:a}}function n(a){return{id:d("WAParsableXmlNode").convertBytesToUint(a.keyIdKeyIDMixin.elementValue,3),publicKey:d("WASignalKeys").serializeIdentity(a.keyValueKeyDataMixin.elementValue)}}g.fetchPreKeyBundlesProtocol=a}),98);
__d("WABulkRequestKeys",["WAFetchPreKeyBundlesProtocol","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=await d("WAFetchPreKeyBundlesProtocol").fetchPreKeyBundlesProtocol(a);return!a.success?d("WAResultOrError").makeError("errRequestKeysParsingFailed"):d("WAResultOrError").makeResult(a.value)}g.bulkRequestKeys=a}),98);
__d("WABulkSaveSignalDataApiV2",["WACryptoManager","WADbSignal","WAJids","WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a){var b=a.dhashUpdate,c=a.icdcUpdate,e=a.identityRemove,f=a.identityUpdate,g=a.preKeyRemove,j=a.senderKeySessionUpdate,k=a.sessionRemove,l=a.sessionUpdate,m=a.lastSyncTsUpdate,n=l.map(function(a){var b=a.id;a=a.updated;return{id:b,session:d("WACryptoManager").encodeSession(a)}}),o=[];j.forEach(function(a){var b=a.author,c=a.groupId;a=a.updated;var e=d("WAJids").extractUserJid(b);b=d("WAJids").extractDeviceId(b);var f=d("WADbSignal").buildSenderKeySessionId(c,e,b);o.push({deviceId:b,groupJid:c,id:f,record:d("WACryptoManager").encodeSenderKeySession(a),userJid:e})});await d("WASignalDB").getDb().runInTransaction(["contacts","identity","prekey","senderKeySessions","session"],"readwrite",function(a){var d=a.stores,j=d.session,l=d.identity,p=d.senderKeySessions;d=d.prekey;return Promise.all([j.bulkDelete(k),l.bulkDelete(e),j.bulkPut(n),p.bulkPut(o),i(a.stores,f),h(a.stores,c,f,b,m),d.bulkDelete(g.map(function(a){a=a.id;return a}))])},d("WASignalDB").signalOp("bulkSaveSignalData"))};async function h(a,b,c,e,f){var g=new Set();for(c of c)g.add(d("WAJids").extractUserJid(c.id));c=Array.from(g);for(var h of b)g.add(h.id);h=await a.contacts.bulkGet(Array.from(g));g=new Map();for(h of h){if(h==null)continue;g.set(h.contactJid,h)}for(h of c){c=g.get(h);c==null?(c={contactJid:h,dhash:null},g.set(h,c)):c.dhash=null}for(c of b){h=g.get(c.id);h==null?(h={contactJid:c.id,dhash:null,icdcInfo:c.icdc},g.set(c.id,h)):h.icdcInfo=c.icdc}for(b of e){h=g.get(b.id);h==null?(h={contactJid:b.id,dhash:b.dhash},g.set(b.id,h)):h.dhash=b.dhash}for(c of f){e=g.get(c.id);e==null?(e={contactJid:c.id,dhash:null,lastSyncTs:c.lastSyncTs},g.set(c.id,e)):e.lastSyncTs=c.lastSyncTs}return a.contacts.bulkPut(Array.from(g.values()))}async function i(a,b){if(b.length===0)return;b=b.map(function(a){var b=a.id;a=a.identity;return{deviceJid:b,identity:a,userJid:d("WAJids").extractUserJid(b)}});await a.identity.bulkPut(b)}g.bulkSaveSignalData=a}),98);
__d("WADbPersonalSenderKeyStatusTxns",["MAWDexieTable","MAWTransactionMode","WADbTransactor","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h={hasSenderKey:new Set(),rotateSenderKey:!0,senderKeyId:null,senderKeyTs:d("WATimeUtils").castToUnixTime(0)},i=d("WADbTransactor").makeSignalTransactor({personalSenderKeyStatuses:d("MAWTransactionMode").READWRITE},"putNewPersonalSenderKeyStatus",function(a){return function(b){return d("MAWDexieTable").dexieAll(b.map(function(b){return j(a,b)})).then(function(){})}});function j(a,b){var c=babelHelpers["extends"]({},h,{groupJid:b});return a.personalSenderKeyStatuses.put(c).then(function(){return c})}function a(a,b,c){return l(a,b).then(function(b){var d=[];b.forEach(function(a){if(a==null||a.rotateSenderKey)return;c.forEach(function(b){return a.hasSenderKey["delete"](b)});d.push(a)});return a.personalSenderKeyStatuses.bulkPut(d).then(function(){return b})})}function b(a,b){return a.personalSenderKeyStatuses.bulkDelete(b)}function c(a,b){return k(a,[b]).then(function(a){return a[0]})}function k(a,b){return l(a,b).then(function(b){var c=[];b.forEach(function(a){if(a==null)return;a.rotateSenderKey=!0;c.push(a)});return a.personalSenderKeyStatuses.bulkPut(c).then(function(){return b})})}function e(a,b){return a.personalSenderKeyStatuses.bulkPut(b).then(function(){})}function f(a,b,c,d){return a.personalSenderKeyStatuses.get(b).then(function(e){var f=babelHelpers["extends"]({},e||h,{groupJid:b,rotateSenderKey:!1,senderKeyId:c,senderKeyTs:d});return a.personalSenderKeyStatuses.put(f).then(function(){return f})})}function l(a,b){return a.personalSenderKeyStatuses.bulkGet(b)}g.bulkPutNewPersonalSenderKeyStatus=i;g.putNewPersonalSenderKeyStatus=j;g.removeDevicesToMultiplePersonalSenderKeyStatuses=a;g.bulkDeletePersonalSenderKeyStatus=b;g.setRotateSenderKeyToTrue=c;g.bulkSetRotateSenderKeyToTrueTxn=k;g.bulkUpdateSenderKeyStatus=e;g.updateSenderKeyStatusAsRotated=f;g.bulkGetPersonalSenderKeyStatuses=l}),98);
__d("WABulkSetRotateSenderKeyToTrueApi",["MAWTransactionMode","WADbPersonalSenderKeyStatusTxns","WADbTransactor"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({personalSenderKeyStatuses:d("MAWTransactionMode").READWRITE},"bulkSetRotateSenderKeyToTrue",function(a){return function(b,c){return d("WADbPersonalSenderKeyStatusTxns").bulkSetRotateSenderKeyToTrueTxn(a,c).then(function(){})}});g.bulkSetRotateSenderKeyToTrue=a}),98);
__d("WACheckCiphertextInServer",["WAHttpResumeCheck","WAMediaUrl","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return e.run(async function(e,f){e=d("WAMediaUrl").buildUploadUrl(a,c,b,e.domain,f,!0);f=await d("WAHttpResumeCheck").httpResumeCheck(e);if(f.success)return d("WAResultOrError").makeResult(f);else{e=f.error;switch(e){case"server-timeout":case"unspecified-http-error":return d("WAResultOrError").makeError({progressMade:!0});default:return d("WAResultOrError").makeResult(d("WAResultOrError").makeError(e))}}}).then(function(a){return(a=a)!=null?a:d("WAResultOrError").makeError("max-attempts-exceeded")})}g.checkCiphertextInServer=a}),98);
__d("WAIdentityUtils",["WABinary","WACryptoDependencies","WASignalOther"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.length===33&&a[0]===5;return b?a.slice(1):a}function i(a,b){for(var c=0;c<a.length&&c<b.length;++c)if(a[c]!==b[c])return a[c]-b[c];return a.length-b.length}function a(a){a=a.map(function(a){return h(a)});var b=new(d("WABinary").Binary)();a.sort(i).forEach(function(a){return b.writeByteArray(a)});a=d("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",b.readByteArray());return a.then(function(a){a=new Uint8Array(a);return d("WASignalOther").sliceBytes(a,0,10)})}g.removeKeyTypeIfNeeded=h;g.computeIdentitiesHash=a}),98);
__d("WAICDCUtils",["WAArmadilloICDC.pb","WABase64","WABinary","WACryptoDependencies","WACryptoEd25519","WACryptoUtils","WAIdentityUtils","WALogger","WASignalKeys","WASignalOther","WASignalSignatures","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["ICDC timestamp is negative. time: ",", closkSkew: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["signingDeviceIndex not found. This should never happen. ",". caller: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched missed signingDeviceIndex"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched timestamp between XML node and byte structure"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched sequence between XML node and byte structure"]);l=function(){return a};return a}function a(a,b,c,e){if(a!==e.details.seq){d("WALogger").ERROR(l());return null}if(c!==e.details.timestamp){d("WALogger").ERROR(k());return null}if(e.details.signingDeviceIndex==null){d("WALogger").ERROR(j());return null}var f=e.details.signingDeviceIndex;return{dirty:b,sequence:a,timestamp:c,signingDeviceIndex:f,devices:e.details.devices.map(function(a){return new Uint8Array(a)})}}function b(a){return a.signingDeviceIndex<0||a.signingDeviceIndex>=a.devices.length}function e(a){a=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloICDC.pb").SignedICDCIdentityListSpec,a);var b=a.signature;a=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloICDC.pb").ICDCIdentityListSpec,a.details);return{signature:b,details:a}}function f(a){return a.map(function(a){return d("WASignalKeys").serializeIdentity(new Uint8Array(d("WABase64").decodeB64UrlSafe(a)))})}function m(a,b,e,f,g){var j=d("WAIdentityUtils").removeKeyTypeIfNeeded(a.publicKey);e=e.map(function(a){return d("WAIdentityUtils").removeKeyTypeIfNeeded(a)});var k=e.findIndex(function(a){return d("WACryptoUtils").uint8ArraysEqual(a,j)});if(k===-1){d("WALogger").ERROR(i(),f,g);throw c("err")("signingDeviceIndex not found")}f=b==null?1:b+1;g=d("WATimeUtils").unixTime();g<0&&d("WALogger").ERROR(h(),Date.now(),d("WATimeUtils").getClockSkew());b={seq:f,timestamp:g,devices:e,signingDeviceIndex:k};f=d("encodeProtobuf").encodeProtobuf(d("WAArmadilloICDC.pb").ICDCIdentityListSpec,b).readBuffer();g=n(a,d("WABinary").Binary.build(f).readByteArray());e={details:f,signature:g};k=d("encodeProtobuf").encodeProtobuf(d("WAArmadilloICDC.pb").SignedICDCIdentityListSpec,e).readBuffer();return{icdcInfo:b,encodedSignedICDC:k}}function n(a,b){var c=d("WASignalOther").makeBytes(64);d("WACryptoDependencies").getCrypto().getRandomValues(c);var e=new Uint8Array(64);d("WACryptoEd25519").hashSha512(e,b,b.length);e=d("WASignalSignatures").makeSignature(a,b,c);return d("WABinary").Binary.build(e).readBuffer()}var o=4*d("WATimeUtils").HOUR_SECONDS;function p(a){return a==null?!0:!d("WATimeUtils").happenedWithin(a,o)}g.validateAndPrepareICDCFromNotification=a;g.isICDCIndexInvalid=b;g.decodeICDCInfo=e;g.base64DeviceIdentitiesToSerializedPubKeys=f;g.computeICDCInfoForUpload=m;g.isLastSyncTsExpired=p}),98);
__d("WAComputeAndUploadICDCInfo",["WABase64","WADeprecatedSendIq","WADeprecatedWapParser","WAGetDevices","WAGlobals","WAICDCUtils","WAIdentityUtils","WALogger","WAPromiseBackoffs","WAWap"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot update ICDC for user, because of "," server response"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed getting devices ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Loading identities fails with error: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["computeAndUploadICDCInfo called ",""]);k=function(){return a};return a}var l=new(c("WADeprecatedWapParser"))("parseUploadICDCInfoResponse",function(a){a.assertTag("iq"),a.assertFromServer(),a.assertAttr("type","result")}),m=0;a=async function(a,b){a=b.reason;var c=b.caller;b=b.sequence;d("WALogger").LOG(k(),b);var e;try{e=await d("WAGlobals").getWaOneQueue().enqueue(async function(a){a=a.cryptoManager;var b=await a.storage.loadIdentities(d("WAGlobals").getMyUserJid());a=a.regInfo;return{regInfo:a,identities:Array.from(b.values())}},{operationType:"icdc_load_identities",flush:!1,afterInit:!0})}catch(a){d("WALogger").ERROR(j(),a.toString())}if(e==null)return;var f=e,g=f.regInfo;f=f.identities;g=d("WAICDCUtils").computeICDCInfoForUpload(g.staticKeyPair,b,f,a,c);var n=g.icdcInfo;b=g.encodedSignedICDC;a=await d("WAIdentityUtils").computeIdentitiesHash(f);c=d("WAWap").wap("iq",{id:d("WAWap").generateId(),to:d("WAWap").S_WHATSAPP_NET,type:"set",xmlns:"fbid:devices"},d("WAWap").wap("icdc",{ihash:d("WAWap").CUSTOM_STRING(d("WABase64").encodeB64(a)),seq:d("WAWap").INT(n.seq),ts:d("WAWap").INT(n.timestamp)},b));g=await d("WADeprecatedSendIq").deprecatedSendIq(c,l);g.success?(m=0,await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.saveICDC(d("WAGlobals").getMyUserJid(),{sequence:n.seq,timestamp:n.timestamp,devices:n.devices,signingDeviceIndex:n.signingDeviceIndex,dirty:!1})},{operationType:"save_icdc",flush:!0,afterInit:!0})):(m+=1,g.errorCode===406||g.errorCode===500?setTimeout(function(){d("WAGetDevices").getDevices(null,{ignoreDhash:!0,reason:"compute-Upload-icdc",users:new Set().add(d("WAGlobals").getMyUserJid())}).catch(function(a){d("WALogger").ERROR(i(),a.toString())})},d("WAPromiseBackoffs").getDelay(m,{jitter:.1,max:3e4,algo:{type:"fibonacci",first:1e3,second:1e3}})):d("WALogger").WARN(h(),g.errorCode))};g.computeAndUploadICDCInfo=a}),98);
__d("WAGetDevices",["WADevicesState","WALogger","WAPushSafeTypes"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchAndSaveDevices: ",""]);h=function(){return a};return a}async function a(a,b){a=d("WAPushSafeTypes").unsafeNotNullable(b);b=a.users;var c=a.reason;a=a.ignoreDhash;a=a===void 0?!1:a;d("WALogger").LOG(h(),c);a&&d("WADevicesState").getDevicesState().reset(Array.from(b));await d("WADevicesState").getDevicesState().waitForUserDevices(Array.from(b),"getDevices job: "+c,a)}g.getDevices=a}),98);
__d("WAFetchAndSaveDevices",["WAComputeAndUploadICDCInfo","WAGlobals","WAICDCUtils","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["computeAndSaveICDC: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Update user devices signal and DB"]);i=function(){return a};return a}async function a(a){if(a.length===0)return;var b=[];await d("WAGlobals").getWaOneQueue().enqueue(function(c){var e=c.cryptoManager;d("WALogger").LOG(i());return Promise.all(a.map(function(a){var c;b.push({contactJid:a.jid,dhash:a.dhash,lastSyncTs:a.lastSyncTs,icdcInfo:(c=a.icdcInfo)!=null?c:void 0});return e.storage.updateUserDevicesInfo([a])}))},{operationType:"get_devices",flush:!0,afterInit:!0});var c=d("WAGlobals").getMyUserJid(),e=a.find(function(a){return a.jid===c});if(e!=null){e=e.icdcInfo;if(e==null||d("WAICDCUtils").isICDCIndexInvalid(e)||(e==null?void 0:e.dirty)){var f;e==null?f="empty":e.dirty?f="dirty":f="invalidIndex";d("WAComputeAndUploadICDCInfo").computeAndUploadICDCInfo(null,{reason:f,caller:"get_devices",sequence:e==null?void 0:e.sequence}).catch(function(a){d("WALogger").DEV(h(),a)})}}}g.updateUsersDevicesSignalAndDB=a}),98);
__d("WAHandleFbDeviceChangeNotificationProtocol",["WAICDCUtils","WAResultOrError","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.dhash}function b(a){var b;b=((b=a.iCDCDirtyMixin)==null?void 0:b.dirty)==="true";var c=d("WATimeUtils").castToUnixTime(a.ts),e=a.seq;a=d("WAICDCUtils").decodeICDCInfo(a.elementValue);e=d("WAICDCUtils").validateAndPrepareICDCFromNotification(e,b,c,a);return e==null?d("WAResultOrError").makeError("icdc-validation-failure"):d("WAResultOrError").makeResult(e)}g.parseDhash=a;g.parseICDCFromServer=b}),98);
__d("WALoadContactsApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().runInTransaction(["contacts"],"readonly",function(b){return b.stores.contacts.bulkGet(a).then(function(a){return new Map(a.filter(Boolean).map(function(a){return[a.contactJid,{contactJid:a.contactJid,dhash:a.dhash,icdcFails:a.icdcFails,icdcInfo:a.icdcInfo,lastSyncTs:a.lastSyncTs}]}))})},d("WASignalDB").signalOp("loadContacts"))};g.loadContacts=a}),98);
__d("WARPCAbortController",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h="rpc-timeout";function a(a,c){var d,e=new(g||(g=b("Promise")))(function(a,b){d=setTimeout(function(){b(h)},c)});return g.race([a,e])["finally"](function(){clearTimeout(d)})}f.RPC_TIMEOUT=h;f.rpcAbortController=a}),66);
__d("WASmaxInDevicesIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInDevicesIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInDevicesNonRetryableIQErrorMixin",["WASmaxInDevicesIQErrorBadRequestMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxInDevicesIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);return!b.success?b:b}g.parseNonRetryableIQErrorMixin=a}),98);
__d("WASmaxInDevicesIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInDevicesIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInDevicesIQErrorInternalServerErrorOrServiceUnavailableMixinGroup",["WAResultOrError","WASmaxInDevicesIQErrorInternalServerErrorMixin","WASmaxInDevicesIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:b.value});var c=d("WASmaxInDevicesIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorInternalServerError","IQErrorServiceUnavailable"],[b,c])}g.parseIQErrorInternalServerErrorOrServiceUnavailableMixinGroup=a}),98);
__d("WASmaxInDevicesRetryableIQErrorMixin",["WAResultOrError","WASmaxInDevicesIQErrorInternalServerErrorOrServiceUnavailableMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"backoff",0,86400);if(!b.success)return b;a=d("WASmaxInDevicesIQErrorInternalServerErrorOrServiceUnavailableMixinGroup").parseIQErrorInternalServerErrorOrServiceUnavailableMixinGroup(a);return!a.success?a:d("WAResultOrError").makeResult({backoff:b.value,iQErrorInternalServerErrorOrServiceUnavailableMixinGroup:a.value})}g.parseRetryableIQErrorMixin=a}),98);
__d("WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup",["WAResultOrError","WASmaxInDevicesNonRetryableIQErrorMixin","WASmaxInDevicesRetryableIQErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesRetryableIQErrorMixin").parseRetryableIQErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"RetryableIQError",value:b.value});var c=d("WASmaxInDevicesNonRetryableIQErrorMixin").parseNonRetryableIQErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"NonRetryableIQError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["RetryableIQError","NonRetryableIQError"],[b,c])}g.parseRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup=a}),98);
__d("WASmaxInDevicesFetchResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup").parseRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup:b.value}))}g.parseFetchResponseError=a}),98);
__d("WASmaxInDevicesIQErrorItemNotFoundMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","item-not-found");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",404);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorItemNotFoundMixin=a}),98);
__d("WASmaxInDevicesFetchNonRetryableUserErrorMixin",["WASmaxInDevicesIQErrorItemNotFoundMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxInDevicesIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(a);return!b.success?b:b}g.parseFetchNonRetryableUserErrorMixin=a}),98);
__d("WASmaxInDevicesFetchRetryableUserErrorMixin",["WAResultOrError","WASmaxInDevicesIQErrorInternalServerErrorOrServiceUnavailableMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxInDevicesIQErrorInternalServerErrorOrServiceUnavailableMixinGroup").parseIQErrorInternalServerErrorOrServiceUnavailableMixinGroup(a);return!b.success?b:d("WAResultOrError").makeResult({iQErrorInternalServerErrorOrServiceUnavailableMixinGroup:b.value})}g.parseFetchRetryableUserErrorMixin=a}),98);
__d("WASmaxInDevicesFetchOrFetchNonRetryableUserErrorMixinGroup",["WAResultOrError","WASmaxInDevicesFetchNonRetryableUserErrorMixin","WASmaxInDevicesFetchRetryableUserErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesFetchRetryableUserErrorMixin").parseFetchRetryableUserErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"FetchRetryableUserError",value:b.value});var c=d("WASmaxInDevicesFetchNonRetryableUserErrorMixin").parseFetchNonRetryableUserErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"FetchNonRetryableUserError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["RetryableUserError","NonRetryableUserError"],[b,c])}g.parseFetchOrFetchNonRetryableUserErrorMixinGroup=a}),98);
__d("WASmaxInDevicesFetchUserResponseFailureMixin",["WAResultOrError","WASmaxInDevicesFetchOrFetchNonRetryableUserErrorMixinGroup","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"user");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!b.success)return b;a=d("WASmaxParseJid").attrUserJid(a,"jid");if(!a.success)return a;b=d("WASmaxInDevicesFetchOrFetchNonRetryableUserErrorMixinGroup").parseFetchOrFetchNonRetryableUserErrorMixinGroup(b.value);return!b.success?b:d("WAResultOrError").makeResult({jid:a.value,errorFetchOrFetchNonRetryableUserErrorMixinGroup:b.value})}g.parseFetchUserResponseFailureMixin=a}),98);
__d("WASmaxInDevicesDeviceModelInfoMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"platform");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"model");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a){var b=d("WASmaxParseUtils").optionalChildWithTag(a,"platform",h);if(!b.success)return b;a=d("WASmaxParseUtils").optionalChildWithTag(a,"model",i);return!a.success?a:d("WAResultOrError").makeResult({platform:b.value,model:a.value})}g.parseDeviceModelInfoPlatform=h;g.parseDeviceModelInfoModel=i;g.parseDeviceModelInfoMixin=a}),98);
__d("WASmaxInDevicesDhashMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrString(a,"dhash");return!a.success?a:d("WAResultOrError").makeResult({dhash:a.value})}g.parseDhashMixin=a}),98);
__d("WASmaxInDevicesKeyDataMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").contentBytesRange(a,32,32);return!a.success?a:d("WAResultOrError").makeResult({elementValue:a.value})}g.parseKeyDataMixin=a}),98);
__d("WASmaxInDevicesIdentityKeyMixin",["WASmaxInDevicesKeyDataMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"identity");if(!a.success)return a;a=d("WASmaxInDevicesKeyDataMixin").parseKeyDataMixin(a.value);return!a.success?a:a}g.parseIdentityKeyMixin=a}),98);
__d("WASmaxInDevicesDeviceListMixin",["WAResultOrError","WASmaxInDevicesDeviceModelInfoMixin","WASmaxInDevicesDhashMixin","WASmaxInDevicesIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"id",1,999);if(!b.success)return b;var c=d("WASmaxInDevicesIdentityKeyMixin").parseIdentityKeyMixin(a);if(!c.success)return c;a=d("WASmaxInDevicesDeviceModelInfoMixin").parseDeviceModelInfoMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({id:b.value},c.value,{deviceModelInfoMixin:a.success?a.value:null}))}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"devices");if(!b.success)return b;b=d("WASmaxInDevicesDhashMixin").parseDhashMixin(a);a=d("WASmaxParseUtils").mapChildrenWithTag(a,"device",0,25,h);return!a.success?a:d("WAResultOrError").makeResult({dhashMixin:b.success?b.value:null,device:a.value})}g.parseDeviceListDevice=h;g.parseDeviceListMixin=a}),98);
__d("WASmaxInDevicesICDCDirtyMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"icdc");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"dirty","true");return!b.success?b:d("WAResultOrError").makeResult({dirty:b.value})}g.parseICDCDirtyMixin=a}),98);
__d("WASmaxInDevicesICDCSeqMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").attrIntRange(a,"seq",0,2147483647);return!a.success?a:d("WAResultOrError").makeResult({seq:a.value})}g.parseICDCSeqMixin=a}),98);
__d("WASmaxInDevicesICDCSignedListMixin",["WAResultOrError","WASmaxInDevicesICDCSeqMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"icdc");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"ts",0,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").contentBytesRange(a,1,40072);if(!c.success)return c;a=d("WASmaxInDevicesICDCSeqMixin").parseICDCSeqMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({ts:b.value,elementValue:c.value},a.value))}g.parseICDCSignedListMixin=a}),98);
__d("WASmaxInDevicesICDCFromServerMixin",["WAResultOrError","WASmaxInDevicesICDCDirtyMixin","WASmaxInDevicesICDCSignedListMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"icdc");if(!b.success)return b;b=d("WASmaxInDevicesICDCSignedListMixin").parseICDCSignedListMixin(a);if(!b.success)return b;a=d("WASmaxInDevicesICDCDirtyMixin").parseICDCDirtyMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{iCDCDirtyMixin:a.success?a.value:null}))}g.parseICDCFromServerMixin=a}),98);
__d("WASmaxInDevicesFetchUserResponseSuccessMixin",["WAResultOrError","WASmaxInDevicesDeviceListMixin","WASmaxInDevicesICDCFromServerMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"devices");if(!b.success)return b;b=d("WASmaxInDevicesDeviceListMixin").parseDeviceListMixin(a);return!b.success?b:b}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"icdc");if(!b.success)return b;b=d("WASmaxInDevicesICDCFromServerMixin").parseICDCFromServerMixin(a);return!b.success?b:b}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"user");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"devices",h);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a,"icdc",i);if(!c.success)return c;a=d("WASmaxParseJid").attrUserJid(a,"jid");return!a.success?a:d("WAResultOrError").makeResult({jid:a.value,devices:b.value,icdc:c.value})}g.parseFetchUserResponseSuccessDevices=h;g.parseFetchUserResponseSuccessIcdc=i;g.parseFetchUserResponseSuccessMixin=a}),98);
__d("WASmaxInDevicesUserResponseFetchFailureOrFetchSuccessMixinGroup",["WAResultOrError","WASmaxInDevicesFetchUserResponseFailureMixin","WASmaxInDevicesFetchUserResponseSuccessMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesFetchUserResponseFailureMixin").parseFetchUserResponseFailureMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"FetchUserResponseFailure",value:b.value});var c=d("WASmaxInDevicesFetchUserResponseSuccessMixin").parseFetchUserResponseSuccessMixin(a);return c.success?d("WAResultOrError").makeResult({name:"FetchUserResponseSuccess",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["UserResponseFailure","UserResponseSuccess"],[b,c])}g.parseUserResponseFetchFailureOrFetchSuccessMixinGroup=a}),98);
__d("WASmaxInDevicesFetchUserResponseMixin",["WAResultOrError","WASmaxInDevicesUserResponseFetchFailureOrFetchSuccessMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"user");if(!b.success)return b;b=d("WASmaxInDevicesUserResponseFetchFailureOrFetchSuccessMixinGroup").parseUserResponseFetchFailureOrFetchSuccessMixinGroup(a);return!b.success?b:d("WAResultOrError").makeResult({userResponseFetchFailureOrFetchSuccessMixinGroup:b.value})}g.parseFetchUserResponseMixin=a}),98);
__d("WASmaxInDevicesIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInDevicesFetchResponseSuccess",["WAResultOrError","WASmaxInDevicesFetchUserResponseMixin","WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"user");if(!b.success)return b;b=d("WASmaxInDevicesFetchUserResponseMixin").parseFetchUserResponseMixin(a);return!b.success?b:b}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"users");if(!c.success)return c;a=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"user",0,25,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{usersUser:b.value}))}g.parseFetchResponseSuccessUsersUser=h;g.parseFetchResponseSuccess=a}),98);
__d("WASmaxOutDevicesBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutDevicesDhashMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyDhash;a=d("WASmaxJsx").smax("smax$any",{dhash:d("WAWap").CUSTOM_STRING(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeDhashMixin=a}),98);
__d("WASmaxOutDevicesICDCSeqMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.anySeq;a=d("WASmaxJsx").smax("smax$any",{seq:d("WAWap").INT(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeICDCSeqMixin=a}),98);
__d("WASmaxOutDevicesFetchRequest",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutDevicesBaseIQGetRequestMixin","WASmaxOutDevicesDhashMixin","WASmaxOutDevicesICDCSeqMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.userJid,c=a.dhashMixinArgs;a=a.iCDCSeqMixinArgs;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutDevicesICDCSeqMixin").mergeICDCSeqMixin,d("WASmaxMixins").optionalMerge(d("WASmaxOutDevicesDhashMixin").mergeDhashMixin,d("WASmaxJsx").smax("user",{jid:d("WAWap").USER_JID(b)}),c),a);return b}function a(a){a=a.userArgs;a=d("WASmaxOutDevicesBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxJsx").smax("users",null,d("WASmaxChildren").REPEATED_CHILD(h,a,1,25))));return a}g.makeFetchRequestUsersUser=h;g.makeFetchRequest=a}),98);
__d("WASmaxDevicesFetchRPC",["WAComms","WASmaxInDevicesFetchResponseError","WASmaxInDevicesFetchResponseSuccess","WASmaxOutDevicesFetchRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutDevicesFetchRequest").makeFetchRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInDevicesFetchResponseSuccess").parseFetchResponseSuccess(b,a);if(c.success)return{name:"FetchResponseSuccess",value:c.value};b=d("WASmaxInDevicesFetchResponseError").parseFetchResponseError(b,a);if(b.success)return{name:"FetchResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Fetch",{Success:c,Error:b}))}g.sendFetchRPC=a}),98);
__d("WAFetchFbDevicesProtocolV2",["WAArrayChunk","WAHandleFbDeviceChangeNotificationProtocol","WAJids","WALoadContactsApiV2","WARPCAbortController","WASignalKeys","WASmaxDevicesFetchRPC","WATagsLogger","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Timeout for fetchAndSaveDevices"]);i=function(){return a};return a}var j=25,k=1e4,l=d("WATagsLogger").TAGS(["wa-devices-protocol"]);async function a(a,b){if(a.length===0)return new Map();var c=await m(a,b);b=d("WAArrayChunk").chunk(a.map(function(a){var b=c.get(a);b=b!=null?{anyDhash:b}:null;return{userJid:a,dhashMixinArgs:b}}),j);var e=new Map();await Promise.allSettled(b.map(function(a){return n(e,a)}));return e}async function m(a,b){if(b)return new Map();b=await d("WALoadContactsApiV2").loadContacts(a);var c=new Map();b.forEach(function(a){a&&a.dhash!=null&&c.set(a.contactJid,a.dhash)});return c}async function n(a,b){try{var e=new Set(b.map(function(a){return a.userJid}));b=await d("WARPCAbortController").rpcAbortController(d("WASmaxDevicesFetchRPC").sendFetchRPC({userArgs:b}),k);if(b.name==="FetchResponseError")throw c("err")("Failed to fetch user devices");b.value.usersUser.map(function(b){b=b.userResponseFetchFailureOrFetchSuccessMixinGroup;if(b.name==="FetchUserResponseFailure")return;b=b.value;var c=b.jid,f=b.devices;b=b.icdc;e.delete(c);a.set(c,{newState:o(c,f,b,d("WATimeUtils").unixTime()),stateIsUpToDate:!1})});e.forEach(function(b){a.set(b,{stateIsUpToDate:!0})})}catch(a){if(a===d("WARPCAbortController").RPC_TIMEOUT){l.ERROR(i());return}l.ERROR(h(),a)}}function o(a,b,c,e){e===void 0&&(e=null);var f=[],g=null;if(b){f=b.device.map(function(a){var b;return{id:d("WAJids").interpretAsDeviceId(a.id),identity:d("WASignalKeys").serializeIdentity(a.elementValue),platform:(b=a.deviceModelInfoMixin)==null?void 0:(b=b.platform)==null?void 0:b.elementValue,model:(b=a.deviceModelInfoMixin)==null?void 0:(a=b.model)==null?void 0:a.elementValue}});g=(b=b.dhashMixin)==null?void 0:b.dhash}b=null;if(c){c=d("WAHandleFbDeviceChangeNotificationProtocol").parseICDCFromServer(c);b=c.success?c.value:null}return{jid:a,devices:f,lastSyncTs:d("WATimeUtils").unixTime(),dhash:g,icdcInfo:b,notificationTs:e}}g.fetchFbDevicesProtocol=a}),98);
__d("WADevicesState",["I64","WAFetchAndSaveDevices","WAFetchFbDevicesProtocolV2","WAJids","WALogger","WAPREList","WAPREMetrics","WAResolvable","WAResultOrError","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateDevicesSignalAndDB failed: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["getDevices -> update devices signal"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchFBDevicesProtocol failed: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["getDevices called for users ",", reason: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[S406998] Invalid userJid reason: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id ",": ",""]);n=function(){return a};return a}var o=3e4,p=1e3*60*60,q=d("WATagsLogger").TAGS(["WADevicesState"]);function r(a){var b=6917529027641082e3,c=!1;try{c=(h||(h=d("I64"))).equal(h.and_(h.of_string(a),h.of_float(b)),h.of_float(b))}catch(b){d("WALogger").ERROR(n(),a,b)}return c}b=function(){function a(){this.$1=new Map()}var b=a.prototype;b.$2=function(a){var b=this;setTimeout(function(){a.forEach(function(a){var c=a[0];a=a[1];a.resolveWasCalled()||(a.resolve(d("WAResultOrError").makeError()),b.$1.get(c)===a&&b.$1.delete(c))})},o);setTimeout(function(){a.forEach(function(a){var c=a[0];a=a[1];b.$1.get(c)===a&&b.$1.delete(c)})},p)};b.waitForUserDevices=async function(a,b,c){var e=this;c===void 0&&(c=!1);var f=[];for(var g of a)r(d("WAJids").userIdFromJid(g))?d("WALogger").ERROR(m(),b):f.push(g);var h=[],n=[];c===!0&&a.forEach(function(a){e.$1.delete(a)});f.forEach(function(a){var b=e.$1.get(a);if(b==null){var c=new(d("WAResolvable").Resolvable)();h.push([a,c]);e.$1.set(a,c)}else n.push([a,b.promise])});this.$2(h);q.LOG(l(),Array.from(f),b);var o=d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.GET_DEVICES,{string:{reason:b}});o.addPoint("fetch_start");var p=await d("WAFetchFbDevicesProtocolV2").fetchFbDevicesProtocol(h.map(function(a){a=a[0];return a}),c).catch(function(a){o.addPoint("fetch_fail");q.ERROR(k(),a);return new Map()});o.addPoint("fetch_end");var s=!0;q.DEV(j());o.addPoint("signal_update_start");await d("WAFetchAndSaveDevices").updateUsersDevicesSignalAndDB(Array.from(p.values()).map(function(a){return a.newState}).filter(Boolean)).catch(function(a){s=!1,q.ERROR(i(),a)});o.addPoint("signal_update_end");h.forEach(function(b){var a=b[0];b=b[1];if(!s){b.resolve(d("WAResultOrError").makeError());e.$1.delete(a);return}p.has(a)?b.resolve(d("WAResultOrError").makeResult()):(b.resolve(d("WAResultOrError").makeError()),e.$1.delete(a))});o.endSuccess();await Promise.allSettled(n.map(function(a){a[0];a=a[1];return a}))};b.reset=function(a){var b=this;a.forEach(function(a){return b.$1.delete(a)})};return a}();var s=new b();function a(){return s}g.DeviceStateClassV2=b;g.getDevicesState=a}),98);
__d("WAComputeICDC",["WAGetDevices","WAICDCUtils","WAIdentityUtils","WAJids","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error during get devices for users with missing icdc info: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Triggering getDevices for users with missing or incorrect icdc info."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["ICDC has invalid index"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sender does not have identity"]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["WAComputeICDC"]);async function a(a,b,c,e){var f=new Set(),g=[].concat(a);a=a.find(function(a){return a.user===b});if(a==null){a=await e.cryptoManager.storage.loadIdentities(b);a=a.get(c);if(a==null){l.ERROR(k());return}g.push({user:b,devicesInfo:[{identity:a,jid:c}]})}a=void 0;var m=[],n=[];await Promise.all(g.map(async function(c){var g=await Promise.all([e.cryptoManager.storage.loadICDC(c.user),e.cryptoManager.storage.loadLastSyncTs(c.user)]),h=g[0];g=g[1];d("WAICDCUtils").isLastSyncTsExpired(g)&&f.add(c.user);g=new Set();if(h==null)f.add(c.user);else if(d("WAICDCUtils").isICDCIndexInvalid(h))f.add(c.user),l.ERROR(j()),h=null;else for(var i of h.devices)g.add(i.toString());i=[];var k=[];for(var o of c.devicesInfo){var p=d("WAJids").extractDeviceId(o.jid),q=d("WAIdentityUtils").removeKeyTypeIfNeeded(o.identity);g.has(q.toString())||(i.push(p),k.push(q.buffer))}p={unknownDevices:k,unknownDeviceIds:i};h!=null&&(p.seq=h.sequence,p.signingDevice=h.devices[h.signingDeviceIndex].buffer);c.user===b?a=p:(m.push(p),n.push(c.user))}));f.size>0&&(l.LOG(i()),d("WAGetDevices").getDevices(null,{ignoreDhash:!0,reason:"missing-icdc-info",users:f}).catch(function(a){l.ERROR(h(),a)}));return{senderIdentity:a,recipientIdentities:m,recipientUserJids:n}}g.computeICDC=a}),98);
__d("WAMultiDevice.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={};a.name="MultiDevice";a.internalSpec={payload:[1,(d=d("WAProtoConst")).TYPES.MESSAGE,c],metadata:[2,d.TYPES.MESSAGE,b]};b.name="MultiDevice$Metadata";b.internalSpec={};c.name="MultiDevice$Payload";c.internalSpec={applicationData:[1,d.TYPES.MESSAGE,e],signal:[2,d.TYPES.MESSAGE,m],__oneofs__:{payload:["applicationData","signal"]}};e.name="MultiDevice$ApplicationData";e.internalSpec={appStateSyncKeyShare:[1,d.TYPES.MESSAGE,h],appStateSyncKeyRequest:[2,d.TYPES.MESSAGE,f],__oneofs__:{applicationData:["appStateSyncKeyShare","appStateSyncKeyRequest"]}};f.name="MultiDevice$ApplicationData$AppStateSyncKeyRequestMessage";f.internalSpec={keyIds:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,l]};h.name="MultiDevice$ApplicationData$AppStateSyncKeyShareMessage";h.internalSpec={keys:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,i]};i.name="MultiDevice$ApplicationData$AppStateSyncKey";i.internalSpec={keyId:[1,d.TYPES.MESSAGE,l],keyData:[2,d.TYPES.MESSAGE,j]};j.name="MultiDevice$ApplicationData$AppStateSyncKey$AppStateSyncKeyData";j.internalSpec={keyData:[1,d.TYPES.BYTES],fingerprint:[2,d.TYPES.MESSAGE,k],timestamp:[3,d.TYPES.INT64]};k.name="MultiDevice$ApplicationData$AppStateSyncKey$AppStateSyncKeyData$AppStateSyncKeyFingerprint";k.internalSpec={rawId:[1,d.TYPES.UINT32],currentIndex:[2,d.TYPES.UINT32],deviceIndexes:[3,d.FLAGS.REPEATED|d.FLAGS.PACKED|d.TYPES.UINT32]};l.name="MultiDevice$ApplicationData$AppStateSyncKeyId";l.internalSpec={keyId:[1,d.TYPES.BYTES]};m.name="MultiDevice$Signal";m.internalSpec={};g.MultiDeviceSpec=a;g.MultiDevice$MetadataSpec=b;g.MultiDevice$PayloadSpec=c;g.MultiDevice$ApplicationDataSpec=e;g.MultiDevice$ApplicationData$AppStateSyncKeyRequestMessageSpec=f;g.MultiDevice$ApplicationData$AppStateSyncKeyShareMessageSpec=h;g.MultiDevice$ApplicationData$AppStateSyncKeySpec=i;g.MultiDevice$ApplicationData$AppStateSyncKey$AppStateSyncKeyDataSpec=j;g.MultiDevice$ApplicationData$AppStateSyncKey$AppStateSyncKeyData$AppStateSyncKeyFingerprintSpec=k;g.MultiDevice$ApplicationData$AppStateSyncKeyIdSpec=l;g.MultiDevice$SignalSpec=m}),98);
__d("WAParseAppStateSyncKeyRequest",["WASyncdKeyTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];for(a of a.keyIds)a.keyId!=null&&b.push(d("WASyncdKeyTypes").toSyncKeyId(a.keyId));return{keyIds:b}}g.parseAppStateSyncKeyRequest=a}),98);
__d("WASyncdKeyManagementUtils",["WASyncdKeyTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new DataView(d("WASyncdKeyTypes").fromSyncKeyId(a)).getUint16(0)}function h(a){return new DataView(d("WASyncdKeyTypes").fromSyncKeyId(a)).getUint32(2)}function b(a){return h(a)+1}g.getKeyDeviceId=a;g.getKeyEpoch=h;g.generateNewKeyEpoch=b}),98);
__d("WAParseAppStateSyncKeyShare",["WALogger","WALongInt","WASyncdKeyManagementUtils","WASyncdKeyTypes"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Key missing keyId"]);h=function(){return a};return a}function a(a){var b=[],c=[];for(a of a.keys){var d=i(a);d!=null&&(d.type==="orphan"?c.push(d.keyId):(d.type,b.push(d.keyData)))}return{keys:b,orphanKeys:c}}function i(a){var b,c,e,f,g,i;if(((b=a.keyId)==null?void 0:b.keyId)==null){d("WALogger").WARN(h());return null}b=d("WASyncdKeyTypes").toSyncKeyId(a.keyId.keyId);c=(c=a.keyData)==null?void 0:c.keyData;e=d("WALongInt").maybeNumberOrThrowIfTooLarge((e=a.keyData)==null?void 0:e.timestamp);f=(f=a.keyData)==null?void 0:(f=f.fingerprint)==null?void 0:f.currentIndex;g=(g=a.keyData)==null?void 0:(g=g.fingerprint)==null?void 0:g.deviceIndexes;i=(i=a.keyData)==null?void 0:(i=i.fingerprint)==null?void 0:i.rawId;return a.keyData==null||c==null||e==null||f==null||g==null||i==null?{keyId:b,type:"orphan"}:{keyData:{fingerprint:{currentIndex:f,deviceIndexes:g,rawId:i},keyData:d("WASyncdKeyTypes").toSyncKeyData(c),keyEpoch:d("WASyncdKeyManagementUtils").getKeyEpoch(b),keyId:b,timestamp:e},type:"key"}}g.parseAppStateSyncKeyShare=a}),98);
__d("WAConvertAppData",["WAAppData","WAArmadilloApplication.pb","WAJids","WALogger","WAMultiDevice.pb","WAParseAppStateSyncKeyRequest","WAParseAppStateSyncKeyShare","WAStanzaUtils","WASyncdKeyTypes","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unknown appdata type: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unknown appdata type: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unknown appdata type: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unknown appdata type: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unknown appdata type: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["missing keys in EncryptedBackupsSecrets"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["status in EncryptedBackupsSecretsEpoch has invalid value"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["missing keys in EncryptedBackupsSecretsEpoch"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unknown appdata sync action type: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unknown appdata sync action type: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["No participant in messageKey in message action when it is group chat and message is not fromMe: ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Missing messageKey in message action: ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unknown appdata sync action type: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["Missing chatId in chat action: ",""]);u=function(){return a};return a}function v(a){a=d("WAJids").interpretAndValidateJid(a);if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else{a.jidType;throw c("err")("Incorrect jid type: "+a.jidType)}}function w(a){a=d("WAJids").interpretAndValidateJid(a);if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="msgrDevice")return d("WAJids").extractUserJid(a.deviceJid);else{a.jidType;throw c("err")("Incorrect jid type: "+a.jidType)}}function x(a){return a!=null?typeof a==="number"&&a>d("WATimeUtils").MAX_INT?d("WATimeUtils").castMilliSecondsToUnixTime(a):d("WATimeUtils").castLongIntToUnixTime(a):void 0}function y(a){return a==null?void 0:{lastMessageTimestamp:x(a.lastMessageTimestamp),lastSystemMessageTimestamp:x(a.lastSystemMessageTimestamp),messages:a.messages==null?[]:a.messages.map(function(a){return{key:a.key==null?void 0:{fromMe:a.key.fromMe,id:a.key.id},ts:x(a.timestamp)}})}}function z(a,b){var c=a.chatId;if(c==null){d("WALogger").WARN(u(),a);return null}if(a.chatArchive!=null){var e=a.chatArchive;e=y(e.messageRange);return{chatJid:v(c),messageRange:e,ts:b,type:"chat_archive"}}else if(a.chatDelete!=null){e=a.chatDelete;e=y(e.messageRange);return{chatJid:v(c),messageRange:e,ts:b,type:"chat_delete"}}else if(a.chatRead!=null){e=a.chatRead;var f=y(e.messageRange);return{chatJid:v(c),messageRange:f,read:e.read,ts:b,type:"chat_read"}}else{d("WALogger").WARN(t(),a);return null}}function A(a){var b=a.key,c=b==null?void 0:b.remoteJid,e=b==null?void 0:b.id,f=b==null?void 0:b.fromMe;if(b==null||c==null||f==null||e==null){d("WALogger").WARN(s(),a);return null}var g=v(c),h=d("WAJids").interpretAsGroupJid(g)!=null;if(h&&!f){if((b==null?void 0:b.participant)==null){d("WALogger").WARN(r(),a);return null}h=w(b.participant)}else f?h=d("WAJids").AUTHOR_ME:h=w(c);b={author:h,chat:g,externalId:d("WAStanzaUtils").toStanzaId(e)};if(a.messageDelete!=null)return{protocolMsgId:b,type:"delete_for_me"};else{d("WALogger").WARN(q(),a);return null}}function B(a){var b=[];for(a of a){var c=x(a.actionTimestamp);if(a.chatAction!=null){c=z(a.chatAction,c);c!=null&&b.push({chatAction:c})}else if(a.messageAction!=null){c=A(a.messageAction);c!=null&&b.push({messageAction:c})}else d("WALogger").WARN(p(),a)}return b}function C(a){var b=a.anonId,c=a.id,e=a.rootKey;a=a.status;if(a==null||c==null||b==null||e==null){d("WALogger").WARN(o());return null}var f;if(a===d("WAArmadilloApplication.pb").ARMADILLO_SIGNAL_ENCRYPTED_BACKUPS_SECRETS_EPOCH_EPOCH_STATUS.ES_OPEN)f=d("WAAppData").EPOCH_STATUS_OPEN;else if(a===d("WAArmadilloApplication.pb").ARMADILLO_SIGNAL_ENCRYPTED_BACKUPS_SECRETS_EPOCH_EPOCH_STATUS.ES_CLOSE)f=d("WAAppData").EPOCH_STATUS_CLOSE;else{d("WALogger").WARN(n());return null}return{anonId:b,id:c,rootKey:e,status:f}}function D(a){var b=a.backupId,c=a.epoch,e=a.mailboxRootKey,f=a.obliviousValidationToken,g=a.serverDataId;a=a.tempOcmfClientState;if(b==null||g==null||a==null||e==null||f==null){d("WALogger").WARN(m());return null}return{backupId:b,epoch:c.map(C).reduce(function(a,b){if(b!=null)return a.concat([b]);else return a},[]),mailboxRootKey:e,obliviousValidationToken:f,serverDataId:g,tempOcmfClientState:a}}function E(a){var b;if(((b=a.applicationData)==null?void 0:(b=b.metadataSync)==null?void 0:b.actions)!=null){return{actions:B((b=a.applicationData)==null?void 0:(b=b.metadataSync)==null?void 0:b.actions),type:"meta_sync"}}else if(((b=a.signal)==null?void 0:b.encryptedBackupsSecrets)!=null){b=D(a.signal.encryptedBackupsSecrets);return b==null?null:{encryptedBackupsSecrets:b,type:"backups_secrets"}}else{d("WALogger").WARN(l(),a);return null}}function F(a){var b;if(((b=a.applicationData)==null?void 0:b.appStateSyncKeyShare)!=null){return{syncKeyShare:d("WAParseAppStateSyncKeyShare").parseAppStateSyncKeyShare((b=a.applicationData)==null?void 0:b.appStateSyncKeyShare),type:"sync_key_share"}}else if(((b=a.applicationData)==null?void 0:b.appStateSyncKeyRequest)!=null){return{syncKeyRequest:d("WAParseAppStateSyncKeyRequest").parseAppStateSyncKeyRequest((b=a.applicationData)==null?void 0:b.appStateSyncKeyRequest),type:"sync_key_request"}}else{d("WALogger").WARN(k(),a);return null}}function a(a){if(a.subprotocolType==="armadillo"){var b=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAArmadilloApplication.pb").ArmadilloSpec,a.payload);if(b.payload==null)throw c("err")("Appdata contains unparseable armadillo data.");return E(b.payload)}else if(a.subprotocolType==="multiDevice"){b=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMultiDevice.pb").MultiDeviceSpec,a.payload);if(b.payload==null)throw c("err")("Appdata contains unparseable armadillo data.");return F(b.payload)}else throw c("err")("Appdata contains unexpected message application: "+a.subprotocolType)}function G(a){return a==null?void 0:{lastMessageTimestamp:a.lastMessageTimestamp,lastSystemMessageTimestamp:a.lastSystemMessageTimestamp,messages:a.messages.map(function(a){return{key:a.key==null?void 0:{fromMe:a.key.fromMe,id:a.key.id},timestamp:a.ts}})}}function H(a){switch(a.type){case"meta_sync":return{payload:{applicationData:P(a)}};case"backups_secrets":return{payload:{signal:{encryptedBackupsSecrets:N(a.encryptedBackupsSecrets)}}};default:a.type;d("WALogger").WARN(j(),a.type);return{}}}function I(a){return{keyId:d("WASyncdKeyTypes").fromSyncKeyId(a)}}function J(a){return{keyData:{fingerprint:{currentIndex:a.fingerprint.currentIndex,deviceIndexes:a.fingerprint.deviceIndexes,rawId:a.fingerprint.rawId},keyData:d("WASyncdKeyTypes").fromSyncKeyData(a.keyData),timestamp:a.timestamp},keyId:I(a.keyId)}}function K(a){var b=a.keys.map(J);a=a.orphanKeys==null?[]:a.orphanKeys.map(function(a){return{keyId:I(a)}});b.push.apply(b,a);return{keys:b}}function L(a){return{keyIds:a.keyIds.map(I)}}function M(a){switch(a.type){case"sync_key_share":return{payload:{applicationData:{appStateSyncKeyShare:K(a.syncKeyShare)}}};case"sync_key_request":return{payload:{applicationData:{appStateSyncKeyRequest:L(a.syncKeyRequest)}}};default:a.type;d("WALogger").WARN(i(),a.type);return{}}}function b(a){var b;switch(a.type){case"meta_sync":case"backups_secrets":var c=d("encodeProtobuf").encodeProtobuf(d("WAArmadilloApplication.pb").ArmadilloSpec,H(a));b={armadillo:{payload:c.readByteArray(),version:1}};break;case"sync_key_share":case"sync_key_request":c=d("encodeProtobuf").encodeProtobuf(d("WAMultiDevice.pb").MultiDeviceSpec,M(a));b={multiDevice:{payload:c.readByteArray(),version:1}};break;default:a.type,d("WALogger").WARN(h(),a.type),b={}}return{payload:{subProtocol:b}}}function N(a){return{backupId:a.backupId,epoch:a.epoch.map(O),mailboxRootKey:a.mailboxRootKey,obliviousValidationToken:a.obliviousValidationToken,serverDataId:a.serverDataId,tempOcmfClientState:a.tempOcmfClientState}}function O(a){var b;a.status===d("WAAppData").EPOCH_STATUS_OPEN?b=d("WAArmadilloApplication.pb").ARMADILLO_SIGNAL_ENCRYPTED_BACKUPS_SECRETS_EPOCH_EPOCH_STATUS.ES_OPEN:a.status===d("WAAppData").EPOCH_STATUS_CLOSE&&(b=d("WAArmadilloApplication.pb").ARMADILLO_SIGNAL_ENCRYPTED_BACKUPS_SECRETS_EPOCH_EPOCH_STATUS.ES_CLOSE);return{anonId:a.anonId,id:a.id,rootKey:a.rootKey,status:b}}function P(a){return{metadataSync:{actions:a.actions.map(function(a){if(a.chatAction)return{actionTimestamp:a.chatAction.ts,chatAction:Q(a.chatAction)};else return{messageAction:R(a.messageAction)}})}}}function Q(a){var b=G(a.messageRange),c=a.chatJid;switch(a.type){case"chat_archive":return{chatArchive:{archived:a.archived,messageRange:b},chatId:c};case"chat_delete":return{chatDelete:{messageRange:b},chatId:c};default:a.type;return{chatId:c,chatRead:{messageRange:b,read:a.read}}}}function R(a){if(a.type==="delete_for_me"){var b=a.protocolMsgId.chat,e=d("WAJids").interpretAsGroupJid(b)!=null;return{key:{fromMe:d("WAJids").isAuthorMe(a.protocolMsgId.author),id:a.protocolMsgId.externalId,participant:!d("WAJids").isAuthorMe(a.protocolMsgId.author)&&e?a.protocolMsgId.author:void 0,remoteJid:b},messageDelete:{}}}else throw c("err")("No other available type")}function e(a){if(a.type!=="meta_sync")return[];a=a.actions.map(function(a){var b=a.chatAction;a=a.messageAction;return(a=a==null?void 0:a.protocolMsgId.chat)!=null?a:b==null?void 0:b.chatJid}).filter(Boolean);return Array.from(new Set(a))}g.parseArmadilloAppData=E;g.parseMultiDeviceAppData=F;g.parseAppData=a;g.convertArmadilloAppData=H;g.convertMultiDeviceAppData=M;g.convertAppData=b;g.getChatJidForAppData=e}),98);
__d("WADbPersonalSenderKeyStatusTxnsV2",["WASignalDB","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h={hasSenderKey:new Set(),rotateSenderKey:!0,senderKeyId:null,senderKeyTs:d("WATimeUtils").castToUnixTime(0)};a=function(a){return d("WASignalDB").getDb().runInTransaction(["personalSenderKeyStatuses"],"readwrite",function(b){return b.stores.personalSenderKeyStatuses.bulkPut(a.map(function(a){return babelHelpers.extends({},h,{groupJid:a})}))},d("WASignalDB").signalOp("bulkPutNewPersonalSenderKeyStatus"))};b=function(a,b,c){return d("WASignalDB").getDb().runInTransaction(["personalSenderKeyStatuses"],"readwrite",async function(d){var e=await d.stores.personalSenderKeyStatuses.get(a);await d.stores.personalSenderKeyStatuses.bulkPut([babelHelpers.extends({},e||h,{groupJid:a,rotateSenderKey:!1,senderKeyId:b,senderKeyTs:c})])},d("WASignalDB").signalOp("markSenderKeyAsRotated"))};c=function(a){return d("WASignalDB").getDb().runInTransaction(["personalSenderKeyStatuses"],"readwrite",async function(b){var c=await b.stores.personalSenderKeyStatuses.get(a);if(c!=null){c.groupJid;var d=c.senderKeyTs;c=babelHelpers.objectWithoutPropertiesLoose(c,["groupJid","senderKeyTs"]);return babelHelpers.extends({},c,{ts:d})}c=babelHelpers.extends({},h,{groupJid:a});await b.stores.personalSenderKeyStatuses.bulkPut([c]);c.groupJid;d=c.senderKeyTs;b=babelHelpers.objectWithoutPropertiesLoose(c,["groupJid","senderKeyTs"]);return babelHelpers.extends({},b,{ts:d})},"Signal - getSenderKeyStatus")};e=function(a){return d("WASignalDB").getDb().runInTransaction(["personalSenderKeyStatuses"],"readwrite",async function(b){var c=await b.stores.personalSenderKeyStatuses.bulkGet(a);await b.stores.personalSenderKeyStatuses.bulkPut(c.filter(function(a){return a!=null}).map(function(a){return babelHelpers.extends({},a,{rotateSenderKey:!0})}))},d("WASignalDB").signalOp("bulkSetRotateSenderKeyToTrue"))};f=function(a){return d("WASignalDB").getDb().runInTransaction(["personalSenderKeyStatuses"],"readwrite",function(b){return b.stores.personalSenderKeyStatuses.bulkDelete(a)},d("WASignalDB").signalOp("deletePersonalSenderKeyStatus"))};g.bulkPutNewPersonalSenderKeyStatus=a;g.markSenderKeyAsRotated=b;g.getSenderKeyStatus=c;g.bulkSetRotateSenderKeyToTrue=e;g.deletePersonalSenderKeyStatus=f}),98);
__d("WACreateGroup",["WADbPersonalSenderKeyStatusTxns","WADbPersonalSenderKeyStatusTxnsV2","WADexieToWormMigration","WAGlobals"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a){await d("WAGlobals").getDependencies().createGroups(a);var b=d("WADexieToWormMigration").isWorm("WACreateGroup")?d("WADbPersonalSenderKeyStatusTxnsV2").bulkPutNewPersonalSenderKeyStatus:d("WADbPersonalSenderKeyStatusTxns").bulkPutNewPersonalSenderKeyStatus;await b(a.map(function(a){return a.groupToCreate.jid}))};g.createGroups=a}),98);
__d("WAGetPrekeyIdsInRange",["WASignalKeys"],(function(a,b,c,d,e,f,g){"use strict";var h=16777215;function i(a){return a}function a(a,b){var c=[];a=i(a);var e=i(b);if(a<=e)for(var f=a;f<=b;f++)c.push(d("WASignalKeys").castToPreKeyId(f));else{for(b=a;b<h;b++)c.push(d("WASignalKeys").castToPreKeyId(b));for(f=1;f<=e;f++)c.push(d("WASignalKeys").castToPreKeyId(f))}return c}g.PRE_KEY_MAX_ID=h;g.getPrekeyIdsInRange=a}),98);
__d("WADeletePreKeyGenerationsApiV2",["WAGetPrekeyIdsInRange","WALogger","WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempting to delete non-existent prekey generation"]);h=function(){return a};return a}a=function(a){return d("WASignalDB").getDb().runInTransaction(["prekey","prekeyGeneration"],"readwrite",async function(b){var c=await b.stores.prekeyGeneration.bulkGet(a),e=[];for(c of c){if(c==null){d("WALogger").WARN(h());continue}for(var f of d("WAGetPrekeyIdsInRange").getPrekeyIdsInRange(c.startingId,c.endingId))e.push(f)}await Promise.all([b.stores.prekeyGeneration.bulkDelete(a),b.stores.prekey.bulkDelete(e)])},d("WASignalDB").signalOp("deletePreKeyGenerations"))};g.deletePreKeyGenerations=a}),98);
__d("WAGetLastPreKeyGenerationIdApiV2",["WADbSignal","WASignalDB","err"],(function(a,b,c,d,e,f,g){"use strict";a=async function(){var a=await d("WASignalDB").getDb().runInTransaction(["meta"],"readonly",function(a){return Promise.all([a.stores.meta.get(d("WADbSignal").MetaKeysEnum.lastPrekeyId).then(function(a){return a==null?void 0:a.value.lastPrekeyId}),a.stores.meta.get(d("WADbSignal").MetaKeysEnum.lastPrekeyGenerationId).then(function(a){return a==null?void 0:a.value.lastPrekeyGenerationId})])},d("WASignalDB").signalOp("getLastPreKeyGenerationId")),b=a[0];a=a[1];if(b==null&&a!=null||b!=null&&a==null)throw c("err")("Last prekey id and Last prekey generation id should both be non-null");return b!=null&&a!=null?{lastGenerationId:a,lastPreKeyId:b}:null};g.getLastPreKeyGenerationId=a}),98);
__d("WAGetPreKeyGenerationsTimestampsApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return d("WASignalDB").getDb().runInTransaction(["prekeyGeneration"],"readonly",async function(a){a=await a.stores.prekeyGeneration.readAll();return a.map(function(a){return{id:a.generationId,timestamp:a.createdTs}})},d("WASignalDB").signalOp("getPreKeyGenerationsTimestamps"))};g.getPreKeyGenerationsTimestamps=a}),98);
__d("WALoadICDCApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().runInTransaction(["contacts"],"readonly",function(b){return b.stores.contacts.bulkGet([a]).then(function(a){a=a.filter(Boolean).length>0?a[0]:null;return(a=a==null?void 0:a.icdcInfo)!=null?a:null})},d("WASignalDB").signalOp("loadICDC"))};g.loadICDC=a}),98);
__d("WALoadIdentitiesApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().runInTransaction(["identity"],"readonly",async function(b){b=await b.stores.identity.readIndex("userJid",[a]);return new Map(b.filter(Boolean).map(function(a){return[a.deviceJid,a.identity]}))},d("WASignalDB").signalOp("loadIdentities"))};b=function(a){return d("WASignalDB").getDb().runInTransaction(["identity"],"readonly",async function(b){var c=await Promise.all(a.map(function(a){return b.stores.identity.readIndex("userJid",[a])})),d=new Map();for(c of c)for(var e of c){if(e==null)continue;var f=d.get(e.userJid);f==null&&(f=new Map());f.set(e.deviceJid,e.identity);d.set(e.userJid,f)}return d},d("WASignalDB").signalOp("bulkLoadIdentities"))};g.loadIdentities=a;g.bulkLoadIdentities=b}),98);
__d("WALoadLastSyncTsApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().runInTransaction(["contacts"],"readonly",function(b){return b.stores.contacts.bulkGet([a]).then(function(a){a=a.filter(Boolean).length>0?a[0]:null;return(a=a==null?void 0:a.lastSyncTs)!=null?a:null})},d("WASignalDB").signalOp("loadLastSyncTs"))};g.loadLastSyncTs=a}),98);
__d("WADbMetaTxnsV2",["WADbSignal","WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.meta.bulkGet([d("WADbSignal").MetaKeysEnum.lastSignedPrekeyId,d("WADbSignal").MetaKeysEnum.identityKeyPair]).then(function(a){var b=a[0];a=a[1];b=b==null?void 0:b.value.lastSignedPrekeyId;a=a==null?void 0:a.value.identityKeyPair;return{identityPair:a,keyId:b}})}b=function(a){return d("WASignalDB").getDb().runInTransaction(["meta"],"readwrite",async function(b){await b.stores.meta.bulkPut([{key:d("WADbSignal").MetaKeysEnum.cat,value:{cat:a}}]);return a},d("WASignalDB").signalOp("saveCAT"))};g.maybeGetLastSignedPrekeyIdAndIdentity=a;g.saveCAT=b}),98);
__d("WADbSignedPrekeyTxnsV2",["WADbMetaTxnsV2","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=await d("WADbMetaTxnsV2").maybeGetLastSignedPrekeyIdAndIdentity(a),c=b.identityPair;b=b.keyId;if(b==null)if(c==null)return d("WAResultOrError").makeError("missing-last-signed-prekey-id-and-registration");else return d("WAResultOrError").makeError("missing-last-signed-prekey-id");c=await a.signedPrekey.get(b);return c==null?d("WAResultOrError").makeError("missing-last-signed-prekey"):d("WAResultOrError").makeResult(c.encoded)}g.getLatestSignedPreKey=a}),98);
__d("WALoadLatestSignedPreKeyApiV2",["WADbSignedPrekeyTxnsV2","WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return d("WASignalDB").getDb().runInTransaction(["meta","signedPrekey"],"readonly",function(a){return d("WADbSignedPrekeyTxnsV2").getLatestSignedPreKey(a.stores)},d("WASignalDB").signalOp("loadLatestSignedPreKey"))};g.loadLatestSignedPreKey=a}),98);
__d("WALoadOneTimePreKeyApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().runInTransaction(["prekey"],"readonly",function(b){return b.stores.prekey.get(a).then(function(a){return a==null?void 0:a.encoded})},d("WASignalDB").signalOp("loadOneTimePreKey"))};g.loadOneTimePreKey=a}),98);
__d("WADbPrekeyTxnsV2",["WAGetPrekeyIdsInRange","err"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){b=await a.prekeyGeneration.get(b);if(b==null)throw c("err")("Expected a prekey generation row");b=d("WAGetPrekeyIdsInRange").getPrekeyIdsInRange(b.startingId,b.endingId);a=await a.prekey.bulkGet(b);return a.filter(Boolean).map(function(a){return a.encoded})}g.getPrekeysForGeneration=a}),98);
__d("WALoadPreKeysApiV2",["WADbPrekeyTxnsV2","WADbSignal","WADbSignedPrekeyTxnsV2","WALoggerTag","WASignalDB","WASignalSignatures","WATagsLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["No last prekey generation id"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to deserialize signed prekey"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get latest signed prekey"]);j=function(){return a};return a}var k=d("WATagsLogger").TAGS([c("WALoggerTag").SignedPrekey]);a=function(a){return d("WASignalDB").getDb().runInTransaction(["identity","meta","prekey","prekeyGeneration","signedPrekey"],"readonly",async function(b){var e=await d("WADbSignedPrekeyTxnsV2").getLatestSignedPreKey(b.stores);if(!e.success){var f;k.ERROR(j());throw(f=e.error)!=null?f:c("err")("Failed to get latest signed prekey")}var g=d("WASignalSignatures").deserializeSignedPreKey(e.value);if(g==null){k.ERROR(i());throw c("err")("Failed to deserialize signed prekey")}f=a!=null?a:await b.stores.meta.get(d("WADbSignal").MetaKeysEnum.lastPrekeyGenerationId).then(function(a){return a==null?void 0:a.value.lastPrekeyGenerationId});if(f==null){k.ERROR(h());throw c("err")("No last prekey generation id")}return d("WADbPrekeyTxnsV2").getPrekeysForGeneration(b.stores,f).then(function(a){return{preKeys:a,signedPreKey:g}})},d("WASignalDB").signalOp("loadPreKeys"))};g.loadPreKeys=a}),98);
__d("WALoadSenderKeySessionApiV2",["WACryptoManager","WADbSignal","WAJids","WAResultOrError","WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){var c=d("WAJids").extractUserJid(b);b=d("WAJids").extractDeviceId(b);var e=d("WADbSignal").buildSenderKeySessionId(a,c,b);return d("WASignalDB").getDb().runInTransaction(["senderKeySessions"],"readonly",async function(a){a=await a.stores.senderKeySessions.get(e);if(a==null)return d("WAResultOrError").makeError("errLoadSenderKeySession");a=d("WACryptoManager").decodeSenderKeySession(a.record);return d("WAResultOrError").makeResult(a)},d("WASignalDB").signalOp("loadSenderKeySession"))};g.loadSenderKeySession=a}),98);
__d("WALoadSignedPreKeyApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().runInTransaction(["signedPrekey"],"readonly",function(b){return b.stores.signedPrekey.get(a).then(function(a){return a==null?void 0:a.encoded})},d("WASignalDB").signalOp("loadSignedPreKey"))};g.loadSignedPreKey=a}),98);
__d("WASaveOneTimePreKeyApiV2",["WADbSignal","WAResultOrError","WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().runInTransaction(["meta","prekey"],"readwrite",async function(b){var c=await b.stores.meta.get(d("WADbSignal").MetaKeysEnum.lastPrekeyId);c=c==null?void 0:c.value.lastPrekeyId;if(c==null)return d("WAResultOrError").makeError("missing_last_prekey");await Promise.all([b.stores.prekey.bulkPut([babelHelpers.extends({},a,{isDeleted:!1})]),b.stores.meta.bulkPut([{key:d("WADbSignal").MetaKeysEnum.lastPrekeyId,value:{lastPrekeyId:a.keyId}}])]);return d("WAResultOrError").makeResult()},d("WASignalDB").signalOp("saveOneTimePreKey"))};g.saveOneTimePreKey=a}),98);
__d("WASavePreKeysGenerationApiV2",["WACryptoManager","WADbSignal","WAResultOrError","WASignalDB","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a){if(a.length===0)throw c("err")("Keys provided to savePreKeysGeneration cannot be empty");var b=await d("WASignalDB").getDb().runInTransaction(["meta","prekey","prekeyGeneration"],"readwrite",async function(b){var c=await b.stores.meta.get(d("WADbSignal").MetaKeysEnum.lastPrekeyGenerationId);c=d("WACryptoManager").castToPreKeyGenerationId(((c=c==null?void 0:c.value.lastPrekeyGenerationId)!=null?c:0)+1);var e=a[0].keyId,f=a[a.length-1].keyId,g=a.map(function(a){return babelHelpers.extends({},a,{isDeleted:!1})});await Promise.all([b.stores.prekey.bulkPut(g),b.stores.meta.bulkPut([{key:d("WADbSignal").MetaKeysEnum.lastPrekeyId,value:{lastPrekeyId:f}},{key:d("WADbSignal").MetaKeysEnum.lastPrekeyGenerationId,value:{lastPrekeyGenerationId:c}}]),b.stores.prekeyGeneration.bulkPut([{createdTs:d("WATimeUtils").unixTime(),endingId:f,generationId:c,startingId:e}])]);return d("WAResultOrError").makeResult(c)},d("WASignalDB").signalOp("savePreKeysGeneration"));return b};g.savePreKeysGeneration=a}),98);
__d("WASaveSignedPreKeyIfNewApiV2",["WADbSignal","WASignalDB","WASignalSignatures"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){return d("WASignalDB").getDb().runInTransaction(["meta","signedPrekey"],"readwrite",async function(c){var e=await c.stores.signedPrekey.get(a);if(e!=null){e=d("WASignalSignatures").deserializeSignedPreKey(e.encoded);if(e!=null)return{key:e,type:"duplicate"}}await Promise.all([c.stores.signedPrekey.bulkPut([{encoded:b,keyId:a}]),c.stores.meta.bulkPut([{key:d("WADbSignal").MetaKeysEnum.lastSignedPrekeyId,value:{lastSignedPrekeyId:a}}])]);return{type:"success"}},d("WASignalDB").signalOp("saveSignedPreKeyIfNew"))};g.saveSignedPreKeyIfNew=a}),98);
__d("WASessionApiV2",["WACryptoManager","WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().store("session").get(a).then(function(a){return a==null?null:d("WACryptoManager").decodeSession(a.session)})};b=function(a){return d("WASignalDB").getDb().store("session").bulkGet(a).then(h)};function h(a){var b=new Map();for(a of a){if(a==null)continue;var c=d("WACryptoManager").decodeSession(a.session);b.set(a.id,c)}return b}g.loadSession=a;g.bulkLoadSession=b}),98);
__d("WACryptoDbCallbacks",["WABulkSaveSignalDataApiV2","WADeletePreKeyGenerationsApiV2","WAGetLastPreKeyGenerationIdApiV2","WAGetPreKeyGenerationsTimestampsApiV2","WALoadICDCApiV2","WALoadIdentitiesApiV2","WALoadLastSyncTsApiV2","WALoadLatestSignedPreKeyApiV2","WALoadOneTimePreKeyApiV2","WALoadPreKeysApiV2","WALoadSenderKeySessionApiV2","WALoadSignedPreKeyApiV2","WASaveOneTimePreKeyApiV2","WASavePreKeysGenerationApiV2","WASaveSignedPreKeyIfNewApiV2","WASessionApiV2"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return{bulkLoadIdentities:d("WALoadIdentitiesApiV2").bulkLoadIdentities,bulkSaveSignalData:d("WABulkSaveSignalDataApiV2").bulkSaveSignalData,deletePreKeyGenerations:d("WADeletePreKeyGenerationsApiV2").deletePreKeyGenerations,getLastPreKeyGenerationId:d("WAGetLastPreKeyGenerationIdApiV2").getLastPreKeyGenerationId,getPreKeyGenerationsTimestamps:d("WAGetPreKeyGenerationsTimestampsApiV2").getPreKeyGenerationsTimestamps,loadICDC:d("WALoadICDCApiV2").loadICDC,loadIdentities:d("WALoadIdentitiesApiV2").loadIdentities,loadLastSyncTs:d("WALoadLastSyncTsApiV2").loadLastSyncTs,loadLatestSignedPreKey:d("WALoadLatestSignedPreKeyApiV2").loadLatestSignedPreKey,loadOneTimePreKey:d("WALoadOneTimePreKeyApiV2").loadOneTimePreKey,loadPreKeys:d("WALoadPreKeysApiV2").loadPreKeys,loadSenderKeySession:d("WALoadSenderKeySessionApiV2").loadSenderKeySession,loadSession:d("WASessionApiV2").loadSession,loadSessions:d("WASessionApiV2").bulkLoadSession,loadSignedPreKey:d("WALoadSignedPreKeyApiV2").loadSignedPreKey,saveOneTimePreKey:d("WASaveOneTimePreKeyApiV2").saveOneTimePreKey,savePreKeysGeneration:d("WASavePreKeysGenerationApiV2").savePreKeysGeneration,saveSignedPreKeyIfNew:d("WASaveSignedPreKeyIfNewApiV2").saveSignedPreKeyIfNew}};g.getCryptoDbCallbacks=a}),98);
__d("WAMPSFlushable",["MAWMpsGating","MpsTypes","WebMps","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=new Map(),this.$3=new Set()}var b=a.prototype;b.enqueue=function(a,b,c){if(a==null)return;this.$1.push(a);this.$2.set(a.messageId,b);this.$3.add(c)};b.flush=async function(a,b,e,f,g){if(!d("MAWMpsGating").isMpsEnabled()){this.$1=[];this.$2=new Map();return}if(this.$1.length===0)return;a=this.$1;b=Array.from(this.$3).join(", ");f=this.$2;this.$1=[];this.$2=new Map();this.$3=new Set();try{var h=await d("WebMps").mps().saveNewMessages(a.map(function(a){return{directive:null,message:a,insertionSource:d("MpsTypes").InsertionSource.Receive}}),{source:b});f.forEach(function(a,b){a(h.get(b))})}catch(a){var i=c("getErrorSafe")(a);e==null?void 0:e.addPoint("mps_persistance_fail");f.forEach(function(a){a(i)})}};return a}();b=new a();g.MPSFlushable=a;g.mpsFlushable=b}),98);
__d("WASignalEntityStoreV2",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["NOT_PERSISTED","PERSIST_IN_PROGRESS","PERSISTED"]);a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.TEST_ONLY_LOAD_FROM_MEMORY=function(a){return this.$2(a)};b.$2=function(a){a=this.$1.get(a);return a!=null?{entity:a.entity,deleted:a.deleted}:null};b.load=async function(a,b){var c=this.$2(a);if(c==null?void 0:c.deleted)return null;if(c!=null&&c.entity!=null)return c.entity;c=await b(a);this.$3(a,c);return c};b.bulkLoad=async function(a,b){var c=[],d=new Map();for(a of a){var e=this.$2(a);if(e==null){c.push(a);continue}if(e.deleted)continue;e.entity!=null?d.set(a,e.entity):c.push(a)}e=await b(c);for(a of e.entries()){b=a[0];c=a[1];d.set(b,c);this.$3(b,c)}return d};b.$3=function(a,b){this.$1.set(a,{entity:b,status:g.PERSISTED,deleted:!1})};b.store=function(a,b){this.$1.set(a,{entity:b,status:g.NOT_PERSISTED,deleted:!1})};b.remove=function(a){this.$1.set(a,{entity:null,status:g.NOT_PERSISTED,deleted:!0})};b.pureSnapshot=function(){var a=[],b=Array.from(this.$1.entries()).filter(function(a){a[0];a=a[1];return a.status===g.NOT_PERSISTED}).filter(function(b){var c=b[0];b=b[1];b.deleted&&a.push({id:c});return!b.deleted}).filter(function(a){a[0];a=a[1];return a.entity!=null}).map(function(a){var b=a[0];a=a[1];return{id:b,cachedEntity:a.entity}});return{update:b,remove:a}};b.snapshot=function(){var a=this,b=this.pureSnapshot();b.remove.forEach(function(b){b=b.id;b=a.$1.get(b);b&&(b.status=g.PERSIST_IN_PROGRESS)});b.update.forEach(function(b){b=b.id;b=a.$1.get(b);b&&(b.status=g.PERSIST_IN_PROGRESS)});return b};b.markSnapshotAsCommitted=function(){this.$1.forEach(function(a){a.status===g.PERSIST_IN_PROGRESS&&(a.status=g.PERSISTED)})};b.markSnapshotAsFailed=function(){this.$1.forEach(function(a){a.status===g.PERSIST_IN_PROGRESS&&(a.status=g.NOT_PERSISTED)})};b.clear=function(){this.$1=new Map()};return a}();f.PersistStatus=g;f.SignalEntityStore=a}),66);
__d("WASignalIdentityStore",["WAJids","WALogger","WASignalEntityStoreV2"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[WASignalIdentityStore] This should never happen."]);h=function(){return a};return a}a=function(){function a(){this.$1=new Map(),this.$2=new(d("WASignalEntityStoreV2").SignalEntityStore)()}var b=a.prototype;b.bulkLoadIdentities=async function(a){var b=this,c=async function(a){var c=a[0],d=a[1];await b.loadIdentitiesByUser(c,function(){return Promise.resolve(d)})};for(var d of a)await c(d);return a};b.loadIdentitiesByUser=async function(a,b){var c=this.$1.get(a);if(c==null){var e=this.$3(a,await b(a));b=Array.from(e.keys());this.$1.set(a,new Set(b));return this.$2.bulkLoad(b,function(){return Promise.resolve(e)})}else return this.$2.bulkLoad(Array.from(c),function(a){a.length>0&&d("WALogger").ERROR(h());return Promise.resolve(new Map())})};b.$3=function(a,b){b=new Map(b);var c=this.$2.pureSnapshot(),e=c.remove;c=c.update;for(e of e){var f=e.id;b.delete(f)}for(f of c){e=f.id;c=f.cachedEntity;c!=null&&d("WAJids").extractUserJid(e)===a&&b.set(e,c)}return b};b.store=function(a,b){this.$2.store(a,b);b=d("WAJids").extractUserJid(a);b=this.$1.get(b);b!=null&&b.add(a)};b.remove=function(a){this.$2.remove(a);var b=d("WAJids").extractUserJid(a);b=this.$1.get(b);b!=null&&b.delete(a)};b.clear=function(){this.$2.clear(),this.$1=new Map()};b.load=function(a,b){return this.$2.load(a,b)};b.bulkLoad=function(a,b){return this.$2.bulkLoad(a,b)};b.snapshot=function(){return this.$2.snapshot()};b.pureSnapshot=function(){return this.pureSnapshot()};b.markSnapshotAsCommitted=function(){this.$2.markSnapshotAsCommitted()};b.markSnapshotAsFailed=function(){this.$2.markSnapshotAsFailed()};return a}();g.SignalIdentityStore=a}),98);
__d("WAInMemorySignalStore",["MAWMpsGating","WAArmadilloTransportEvent.pb","WABuildMpsPayload","WACryptoManager","WACryptoUtils","WAGlobals","WAIdentityUtils","WAJids","WAMPSFlushable","WAProtocolQueue","WAResultOrError","WASignalEntityStoreV2","WASignalIdentityStore","WATagsLogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Snapshot save: end"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Snapshot save: start"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Snapshot: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to save device change admin message: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Removing old identity: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Removing my device identity. This should not happen"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Device notification of one user cannot remove identity the other one "]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Removing session dur to identity mismatch: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Device notification of one user cannot remove session the other one"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Receiving an identity for my device but it is different from original one"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Update user devices: userJid: ","; new identities: ","; previous identities: ","}"]);r=function(){return a};return a}var s=d("WATagsLogger").TAGS(["CryptoManager","InMemorySignalStore"]);a=function(){function a(a,b){var c=this;this.loadSession=function(a,b){return c.$1.load(a,function(a){return c.$9.loadSession(a,b)})};this.loadSessions=function(a){return c.$1.bulkLoad(a,function(a){return c.$9.loadSessions(a).then(function(a){return new Map(Array.from(a.entries()).map(function(a){return[a[0],a[1]]}))})}).then(function(a){return new Map(Array.from(a.entries()).map(function(a){return[a[0],a[1]]}))})};this.loadSignedPreKey=function(a){return c.$7.load(a,function(){return c.$9.loadSignedPreKey(a)})};this.bulkLoadIdentities=function(a){var b=new Map();return Promise.all(a.map(function(a){return c.loadIdentities(a).then(function(c){b.set(a,c)})})).then(function(){return b})};this.loadIdentities=function(a){return c.$5.loadIdentitiesByUser(a,function(){return c.$9.loadIdentities(a)})};this.saveIdentity=function(a,b){return Promise.resolve(c.storeIdentity(a,b))};this.loadOneTimePreKey=function(a){return c.$6.load(a,function(){return c.$9.loadOneTimePreKey(a)})};this.saveSenderKeySession=function(a,b,d){c.storeSenderKeySession(a,b,d);return Promise.resolve()};this.saveSignedPreKeyIfNew=function(a,b){return c.$9.saveSignedPreKeyIfNew(a,b)};this.loadSenderKeySession=async function(a,b){var e=await c.$8.load(d("WACryptoManager").encodeSenderKey(a,b),async function(){var d=await c.$9.loadSenderKeySession(a,b);return d.success?d.value:null});return e==null?d("WAResultOrError").makeError("errLoadSenderKeySession"):d("WAResultOrError").makeResult(e)};this.handleNewSession=function(a,b,e,f,g){c.storeSession(a,b);e!=null&&c.storeIdentity(a,e);f!=null&&c.removeOneTimePreKey(f);return Promise.resolve(d("WAResultOrError").makeResult())};this.saveICDC=function(a,b){c.$3.store(a,b);return Promise.resolve()};this.loadICDC=function(a){return c.$3.load(a,function(){return c.$9.loadICDC(a)})};this.saveLastSyncTs=function(a,b){c.$4.store(a,b);return Promise.resolve()};this.loadLastSyncTs=function(a){return c.$4.load(a,function(){return c.$9.loadLastSyncTs(a)})};this.saveDhash=function(a,b){c.$2.store(a,b);return Promise.resolve()};this.getLastPreKeyGenerationId=function(){return c.$9.getLastPreKeyGenerationId()};this.savePreKeysGeneration=function(a){return c.$9.savePreKeysGeneration(a)};this.getPreKeyGenerationsTimestamps=function(){return c.$9.getPreKeyGenerationsTimestamps()};this.deletePreKeyGenerations=function(a){return c.$9.deletePreKeyGenerations(a)};this.saveOneTimePreKey=function(a){return c.$9.saveOneTimePreKey(a)};this.loadPreKeys=function(a){return c.$9.loadPreKeys(a)};this.loadLatestSignedPreKey=function(){return c.$9.loadLatestSignedPreKey()};this.$9=a;this.$10=b;this.$5=new(d("WASignalIdentityStore").SignalIdentityStore)();this.$1=new((a=d("WASignalEntityStoreV2")).SignalEntityStore)();this.$2=new a.SignalEntityStore();this.$3=new a.SignalEntityStore();this.$4=new a.SignalEntityStore();this.$6=new a.SignalEntityStore();this.$7=new a.SignalEntityStore();this.$8=new a.SignalEntityStore()}var b=a.prototype;b.storeSession=function(a,b){this.$1.store(a,b)};b.storeIdentity=function(a,b){if(!b)return;this.$5.store(a,b)};b.removeOneTimePreKey=function(a){this.$6.remove(a)};b.storeSenderKeySession=function(a,b,c){this.$8.store(d("WACryptoManager").encodeSenderKey(a,b),c)};b.updateUserDevicesInfo=function(a){var b=this;return Promise.all(a.map(async function(a){var c=await b.loadIdentities(a.jid),e=a.devices,f=a.jid,g=a.notificationTs,h=a.dhash,i=a.icdcInfo,j=a.lastSyncTs;s.DEV(r(),f,e.map(function(b){b=b.id;return d("WAJids").toDeviceJid(a.jid,b)}).join(","),Array.from(c.keys()).join(","));var k=new Set(c.keys()),t=[],u=[];for(var v of e){var w=v.id,x=v.identity,y=v.model,z=v.platform;w=d("WAJids").toDeviceJid(a.jid,w);var A=c.get(w);if(d("WAGlobals").getMyDeviceJid()===w){var B=d("WACryptoUtils").uint8ArraysEqual(d("WAIdentityUtils").removeKeyTypeIfNeeded(b.$10.staticKeyPair.publicKey),d("WAIdentityUtils").removeKeyTypeIfNeeded(x));B||s.ERROR(q())}k.delete(w);if(A==null)u.push({instruction:"identityAdded",jid:d("WAJids").extractUserJid(w),type:"instruction",device:w,identity:x,model:y,platform:z,notificationTs:g,priority:d("WAProtocolQueue").WAProtocolQueuePriorityLow});else if(!d("WACryptoUtils").uint8ArraysEqual(A,x)){if(d("WAJids").extractUserJid(w)!==f){s.ERROR(p());continue}t.push(w);s.DEV(o(),w);u.push({instruction:"identityChanged",jid:d("WAJids").extractUserJid(w),type:"instruction",device:w,identity:x,model:y,platform:z,notificationTs:g,priority:d("WAProtocolQueue").WAProtocolQueuePriorityLow})}}B=[];for(A of k){if(d("WAJids").extractUserJid(A)!==f){s.ERROR(n());continue}B.push(A);d("WAGlobals").getMyDeviceJid()===A&&s.ERROR(m());s.DEV(l(),A);u.push({instruction:"identityRemoved",jid:d("WAJids").extractUserJid(A),type:"instruction",device:A,notificationTs:g,priority:d("WAProtocolQueue").WAProtocolQueuePriorityLow})}return Promise.all([h!=null?b.saveDhash(f,h):Promise.resolve(),j!=null?b.saveLastSyncTs(f,j):Promise.resolve(),i!=null?b.saveICDC(f,i):Promise.resolve()].concat(Array.from(B).map(function(a){return b.deleteIdentity(a)}),[B.concat(t).map(function(a){return b.$11(a)})],e.map(function(c){var a=c.id;c=c.identity;return b.saveIdentity(d("WAJids").toDeviceJid(f,a),c)}))).then(function(){return u})})).then(function(a){a=a.flat();a.forEach(function(a){var b;switch(a.instruction){case"identityAdded":b=d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.ADDED;break;case"identityChanged":b=d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REPLACED;break;case"identityRemoved":b=d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REMOVED;break;default:return}if(d("MAWMpsGating").isFullMpsEnabled()){var c,e=d("WAGlobals").getDependencies().generateExternalId();d("WAMPSFlushable").mpsFlushable.enqueue(d("WABuildMpsPayload").buildMpsDeviceChangeAdminMessage(a.jid,(c=a.notificationTs)!=null?c:d("WATimeUtils").unixTime(),e,b,a.platform,a.model),function(a){if(a!=null){s.ERROR(k(),a);return}},"handle_device_change")}else d("WAGlobals").getConfig().simplifyPQ()?d("WAProtocolQueue").pqFlushable.enqueue(a):void d("WAProtocolQueue").protocolQueue().addPending(a)})}).then(function(){})};b.savePendingToDatabase=function(){var a=this,b=this.$12();if(b==null)return Promise.resolve();s.DEV(j(),b);s.LOG(i());return this.$9.bulkSaveSignalData(b).then(function(){s.LOG(h()),a.$13()},function(b){a.$14();return Promise.reject(b)})};b.clear=function(){this.$1.clear(),this.$5.clear(),this.$6.clear(),this.$7.clear(),this.$8.clear(),this.$2.clear(),this.$3.clear()};b.deleteIdentity=function(a){this.$5.remove(a);return Promise.resolve()};b.$11=function(a){this.$1.remove(a);return Promise.resolve()};b.$13=function(){this.$1.markSnapshotAsCommitted(),this.$2.markSnapshotAsCommitted(),this.$3.markSnapshotAsCommitted(),this.$4.markSnapshotAsCommitted(),this.$5.markSnapshotAsCommitted(),this.$6.markSnapshotAsCommitted(),this.$7.markSnapshotAsCommitted(),this.$8.markSnapshotAsCommitted()};b.$14=function(){this.$1.markSnapshotAsFailed(),this.$2.markSnapshotAsFailed(),this.$3.markSnapshotAsFailed(),this.$4.markSnapshotAsFailed(),this.$5.markSnapshotAsFailed(),this.$6.markSnapshotAsFailed(),this.$7.markSnapshotAsFailed(),this.$8.markSnapshotAsFailed()};b.$12=function(){var a=this.$1.snapshot(),b=[],c=a.remove.map(function(a){return a.id});a.update.forEach(function(c){var a=c.id;c=c.cachedEntity;if(c==null)return;b.push({id:a,updated:c})});var e=[];this.$8.snapshot().update.forEach(function(a){var b=d("WACryptoManager").decodeSenderKey(a.id),c=b.groupId;b=b.deviceId;a.cachedEntity!=null&&c&&b&&e.push({groupId:c,author:b,updated:a.cachedEntity})});a=this.$5.snapshot();var f=a.remove.map(function(a){return a.id}),g=[];a.update.forEach(function(b){var a=b.id;b=b.cachedEntity;if(b==null)return;g.push({id:a,identity:b})});a=this.$6.snapshot().remove;var h=this.$2.snapshot(),i=[];for(h of h.update){var j=h.cachedEntity,k=h.id;j!=null&&i.push({id:k,dhash:j})}k=this.$4.snapshot();j=[];for(h of k.update){k=h.cachedEntity;var l=h.id;k!=null&&j.push({id:l,lastSyncTs:k})}l=this.$3.snapshot();k=[];for(h of l.update){l=h.cachedEntity;var m=h.id;l!=null&&k.push({id:m,icdc:l})}return b.length===0&&c.length===0&&g.length===0&&e.length===0&&a.length===0&&k.length===0&&i.length===0&&j.length===0&&f.length===0?null:{dhashUpdate:i,icdcUpdate:k,identityRemove:f,identityUpdate:g,preKeyRemove:a,senderKeySessionUpdate:e,sessionRemove:c,sessionUpdate:b,lastSyncTsUpdate:j}};b.warmCache=async function(a){var b=this;a=a.map(d("WAJids").interpretAsUserJid).filter(Boolean);a=await this.$9.bulkLoadIdentities(a).then(function(a){return b.$5.bulkLoadIdentities(a)});a=Array.from(a.values()).reduce(function(a,b){return a.concat(Array.from(b.keys()))},[]);await this.loadSessions(a)};return a}();g.InMemorySignalStoreImpl=a}),98);
__d("WARequestKeysBatcher",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";var h={delayMs:50,maxSize:100};function a(a,b){b=b===void 0?h:b;var c=b.delayMs,e=b.maxSize,f=null;function g(b){f&&f.args===b&&(f=null);return a(b)}return function(a){if(f!=null)f.args.push(a);else{var b=[a],h=new(d("WAResolvable").Resolvable)();a=h.promise.then(g);var i=function(){return void h.resolve(b)},j=setTimeout(i,c);f={args:b,batchPromise:a,run:i,timer:j}}a=f;i=a.args;j=a.batchPromise;var k=i.length-1;if(i.length>=e){clearTimeout((a=f)==null?void 0:a.timer);f.run();f=null}return j.then(function(a){return a[k]})}}g.makeSimpleBatcher=a}),98);
__d("WARequestKeys",["WABulkRequestKeys","WAPromiseManagement","WARequestKeysBatcher","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";a=d("WARequestKeysBatcher").makeSimpleBatcher(async function(a){var b=await d("WABulkRequestKeys").bulkRequestKeys(a);return b.success===!1?a.map(function(){return b}):a.map(function(a){a=b.value.get(a);return a?d("WAResultOrError").makeResult(a):d("WAResultOrError").makeError("errRequestKeysNoKeys")})});b=d("WAPromiseManagement").cacheWhilePending(function(a){return a},a);g.requestKeys=b}),98);
__d("WACryptoManagerUtils",["WABulkRequestKeys","WACryptoDbCallbacks","WACryptoManager","WAGlobals","WAHandleFailureUtils","WAInMemorySignalStore","WALogger","WALoggerTag","WAPREList","WAPREMetrics","WARequestKeys","WAResultOrError","WASignalKeys","WASignalSignatures","WATagsLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[SendMessage] Fail encrypt messages"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Runtime excpetion when encrypting group content: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to encrypt group content: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot generate one time prekey"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot deserialize signed prekey"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["No signed prekey: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["DecryptMsg runtime error: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["DecryptMsg runtime error: ",""]);o=function(){return a};return a}var p=d("WATagsLogger").TAGS([c("WALoggerTag").SignedPrekey]);function a(a){var b=new(d("WAInMemorySignalStore").InMemorySignalStoreImpl)(d("WACryptoDbCallbacks").getCryptoDbCallbacks(),a),c=q();return{manager:d("WACryptoManager").initCryptoManager({regInfo:a,storage:b,network:c}),storage:b}}function q(){return{requestKeys:d("WARequestKeys").requestKeys,bulkRequestKeys:d("WABulkRequestKeys").bulkRequestKeys}}function b(a,b,c,e){var f=null;return d("WACryptoManager").decryptContent(e.cryptoManager,b,{ciphertext:c,type:a},function(a,b){f={plaintext:a,remoteIdentity:b};return Promise.resolve()}).then(function(a){if(a.success)return d("WAResultOrError").makeResult(f);else return a}).catch(function(a){d("WALogger").ERROR(o(),a);throw a})}function e(a,b,c,e){var f=null;return d("WACryptoManager").decryptGroupContent(e.cryptoManager,a,b,c,function(a){f={plaintext:a};return Promise.resolve()}).then(function(a){if(a.success)return d("WAResultOrError").makeResult(f);else return a}).catch(function(a){d("WALogger").ERROR(n(),a);throw a})}function f(a,b){return d("WACryptoManager").getParticipantInfo(b,a)}function r(a){return a.storage.getPreKeyGenerationsTimestamps()}function s(a,b){return b.storage.deletePreKeyGenerations(a)}function t(a,b,c,e){return d("WACryptoManager").saveSenderKeySession(e.cryptoManager,a,b,c)}async function u(a){var b=await a.storage.loadLatestSignedPreKey();if(b.success===!1){var e;p.EXPECTED_ERROR(m(),(e=(e=b.payload)==null?void 0:e.toString())!=null?e:"");d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WA_NO_SIGNED_PRE_KEY).endFail("missing-signed-prekey");b.error==="missing-last-signed-prekey-id"&&await d("WAHandleFailureUtils").reregisterPhone();throw(e=b.payload)!=null?e:c("err")("No signed prekey")}e=d("WASignalSignatures").deserializeSignedPreKey(b.value);if(e==null){p.ERROR(l());throw c("err")("Cannot deserialize signed prekey")}b=await d("WACryptoManager").generateOneTimePreKey(a);if(b==null){d("WATagsLogger").TAGS([c("WALoggerTag").OneTimePrekey]).ERROR(k());throw c("err")("Cannot generate one time prekey")}a=a.regInfo;var f=a.regId;a=a.staticKeyPair;return Promise.resolve({regId:f,keyType:d("WASignalKeys").KEY_TYPE,publicKey:a.publicKey,signedPreKey:e,preKey:b})}function v(a,b,c){var e=d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.MESSAGE_ENCRYPTION,{string:{chat:"group",jid:a},bool:{useLongSessionDrop:d("WAGlobals").getConfig().useLongSessionDrop()}},void 0);return d("WACryptoManager").encryptGroupContent(c.cryptoManager,a,d("WAGlobals").getMyDeviceJid(),b).then(function(a){a.success?e.endSuccess():(d("WATagsLogger").TAGS(["EncryptGroupContent"]).ERROR(j(),a.error),e.endFail(a.error));return a}).catch(function(a){d("WATagsLogger").TAGS(["EncryptGroupContent"]).ERROR(i(),a);e.endFail("runtime-exception");return d("WAResultOrError").makeError("runtime-exception")})}function w(a,b,c,e,f,g){var h=d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.MESSAGE_ENCRYPTION,{string:{chat:"1:1",jid:c},string_array:{node_types:e,message_types:f,media_types:g},bool:{useLongSessionDrop:d("WAGlobals").getConfig().useLongSessionDrop()}},void 0);return d("WACryptoManager").bulkEncryptContent(b.cryptoManager,a).then(function(a){if(a.success)h.endSuccess();else{var b=a.error;switch(b){case"missing":case"mismatch":case"runtime-exception":break;default:break}h.endFail(b)}return a})}function x(a,b,c,e,f,g){var h=d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.MESSAGE_ENCRYPTION,{string:{chat:"1:1",jid:g},bool:{useLongSessionDrop:d("WAGlobals").getConfig().useLongSessionDrop()}},void 0);return d("WACryptoManager").encryptContent(c.cryptoManager,a,b,e||d("WACryptoManager").DEFAULT_SESSION_REQUEST,f).then(function(a){if(a.success)h.endSuccess();else{var b=a.error;switch(b){case"identity-mismatch":case"errSignalInvalidKey":break;default:break}h.endFail(b)}return a})}function y(a,b){return d("WACryptoManager").bulkEncryptContent(b.cryptoManager,a).then(function(a){if(a.success===!1){d("WALogger").ERROR(h());return new Map()}return a.value})}async function z(a,b){a=await d("WACryptoManager").ensureSessionsExists(b.cryptoManager,a);await Promise.all(Array.from(a.entries()).map(function(a){var c=a[0];a=a[1];return b.cryptoManager.storage.handleNewSession(c,a,a.remote.pubKey)}))}g.createCryptoManager=a;g.decryptMsg=b;g.decryptGroupMsg=e;g.getParticipantInfo=f;g.getPreKeyGenerationsTimestamps=r;g.deletePreKeyGenerations=s;g.saveSenderKeySession=t;g.getSignalInfoForRetry=u;g.encryptGroupContentWithMetrics=v;g.bulkEncryptMsgWithMetrics=w;g.encryptMsgWithMetrics=x;g.bulkEncrypt=y;g.bulkPreEstablishOutgoingSession=z}),98);
__d("WADbRegistrationApiV2",["WADbSignal","WAJids","WALogger","WASignalDB","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker: got db data"]);h=function(){return a};return a}f=function(a,b){return d("WASignalDB").getDb().runInTransaction(["contacts"],"readwrite",async function(c){var d=await c.stores.contacts.get(a);if(d!=null)return c.stores.contacts.bulkPut([babelHelpers.extends({},d,{icdcInfo:b})]);else return c.stores.contacts.bulkPut([{contactJid:a,dhash:null,icdcInfo:b}])},d("WASignalDB").signalOp("saveICDC"))};function a(a){return d("WASignalDB").getDb().runInTransaction(["meta"],"readwrite",function(b){return b.stores.meta.bulkPut([{key:d("WADbSignal").MetaKeysEnum.deviceId,value:{deviceId:a}}])},d("WASignalDB").signalOp("saveDeviceId"))}function b(a,b){return d("WASignalDB").getDb().runInTransaction(["meta","signedPrekey"],"readwrite",async function(c){var e;await Promise.all([c.stores.meta.bulkPut([{key:(e=d("WADbSignal")).MetaKeysEnum.deviceUUID,value:{deviceUUID:b.deviceUUID}},{key:e.MetaKeysEnum.fbid,value:{fbid:a}},{key:e.MetaKeysEnum.regId,value:{regId:b.signalRegInfo.regId}},{key:e.MetaKeysEnum.identityKeyPair,value:{identityKeyPair:b.signalRegInfo.identityKeyPair}},{key:e.MetaKeysEnum.lastSignedPrekeyId,value:{lastSignedPrekeyId:b.signalRegInfo.signedPreKey.keyId}},{key:e.MetaKeysEnum.registrationVersion,value:{registrationVersion:b.registrationVersion}},{key:e.MetaKeysEnum.authKeyPair,value:{authKeyPair:b.signalRegInfo.authKeyPair}},{key:e.MetaKeysEnum.deviceRegUnixTime,value:{deviceRegUnixTime:b.registrationUnixTime}}]),c.stores.signedPrekey.bulkPut([b.signalRegInfo.signedPreKey])])},d("WASignalDB").signalOp("saveRegistrationMeta"))}var i=function(a,b){var c=b.sessionId;return d("WASignalDB").getDb().runInTransaction(["meta"],"readwrite",function(a){return a.stores.meta.bulkPut([{key:d("WADbSignal").MetaKeysEnum.lastSessionDeviceWasLinkedTo,value:{lastSessionDeviceWasLinkedTo:c}}])},d("WASignalDB").signalOp("saveLastSessionDeviceWasLinkedTo"))};function e(){return d("WASignalDB").getDb().runInTransaction(["meta"],"readonly",async function(a){a=await a.stores.meta.bulkGet([(a=d("WADbSignal")).MetaKeysEnum.fbid,a.MetaKeysEnum.deviceId,a.MetaKeysEnum.cat,a.MetaKeysEnum.regId,a.MetaKeysEnum.identityKeyPair,a.MetaKeysEnum.authKeyPair]);var b=a[0],e=a[1],f=a[2],g=a[3],i=a[4];a=a[5];d("WALogger").LOG(h());b=b==null?void 0:b.value.fbid;e=e==null?void 0:e.value.deviceId;f=f==null?void 0:f.value.cat;g=g==null?void 0:g.value.regId;i=i==null?void 0:i.value.identityKeyPair;a=a==null?void 0:a.value.authKeyPair;if(b==null)throw c("err")("fbid not set");if(e==null)throw c("err")("deviceId not set");if(f==null)throw c("err")("fbCat not set");if(g==null||i==null)throw c("err")("regInfo not set");return{deviceJid:d("WAJids").toDeviceJid(d("WAJids").toMsgrUserJid(b),e),fbCat:f.encrypted_serialized_cat,regInfo:{authKeyPair:a,regId:g,staticKeyPair:i},userJid:d("WAJids").toMsgrUserJid(b)}},d("WASignalDB").signalOp("loadAllRegistrationMeta"))}g.saveICDC=f;g.saveDeviceId=a;g.saveRegistrationMeta=b;g.saveLastSessionDeviceWasLinkedTo=i;g.loadAllRegistrationMetaInTransaction=e}),98);
__d("WAMapUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return new Map(Array.from(a.entries()).map(function(a){return[a[0],b(a[1],a[0])]}))}f.mapValues=a}),66);
__d("WAProtocolMediaType",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case"image":case"sticker":case"gif":case"video":case"ptt":case"audio":case"document":case"product":return a;case"xma-image":return"document";default:return null}}f.castToProtocolMediaType=a}),66);
__d("WAEncNode",["WAAsMessageTransport","WACryptoManagerUtils","WAGlobals","WALogger","WAMapUtils","WAMsgTransport.pb","WANullthrows","WAProtocolMediaType","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to encrypt message: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to encrypt message: ",""]);i=function(){return a};return a}function a(a,b,e,f){var g=new Set(),h=new Set(),m=new Set(),n=d("WAMapUtils").mapValues(a,function(a,b){var c=a.params;a=a.icdc;var d;g.add(c.type);switch(c.type){case"message":d=j({messageBytes:c.messageBytes,to:b,icdc:a,chat:c.chat,backupDirective:c.backupDirective,applicationPayloadVersion:c.applicationPayloadVersion});h.add(c.messageType.type);c.messageType.mediaType!=null&&m.add(c.messageType.mediaType);break;case"appdata":d=k({messageBytes:c.messageBytes});break;default:c.type,d=l({skdm:c.skdm,icdc:a})}return{plaintext:d}});return d("WACryptoManagerUtils").bulkEncryptMsgWithMetrics(n,b,e,Array.from(g),Array.from(h),Array.from(m)).then(function(b){if(!b.success){d("WALogger").ERROR(i(),b.error);return null}return d("WAMapUtils").mapValues(b.value,function(b,e){var g,h=b.type,i=b.ciphertext;b=b.baseKey;g=c("WANullthrows")((g=a.get(e))==null?void 0:g.params);var j=g.type==="message"&&g.messageType.type==="media"?d("WAProtocolMediaType").castToProtocolMediaType(g.messageType.mediaType):null;return{encType:"device",to:e,v:((e=g.messageBytes)==null?void 0:e.version)==="v2"?"2":"3",type:h,mediaType:j,count:f,ciphertext:i,baseKey:b}})})}function b(a,b,c,e,f,g,i,m){var n;switch(b.type){case"message":n=j({messageBytes:b.messageBytes,to:a,icdc:i,chat:b.chat,backupDirective:m,applicationPayloadVersion:b.applicationPayloadVersion});break;case"appdata":n=k({messageBytes:b.messageBytes});break;default:b.type,n=l({skdm:b.skdm,icdc:i})}m=d("WACryptoManagerUtils").encryptMsgWithMetrics(a,n,c,f,g,b==null?void 0:b.chat);return m.then(function(c){var f;if(!c.success){d("WALogger").ERROR(h(),c.error);return null}var g=b.type==="message"&&b.messageType.type==="media"?d("WAProtocolMediaType").castToProtocolMediaType(b.messageType.mediaType):null,i=c.value,j=i.type;i=i.ciphertext;return{encType:"device",to:a,v:((f=b.messageBytes)==null?void 0:f.version)==="v2"?"2":"3",type:j,mediaType:g,count:e,ciphertext:i,baseKey:c.value.baseKey}})}function j(a){var b=a.messageBytes,c=a.to,e=a.icdc,f=a.chat,g=a.backupDirective;a=a.applicationPayloadVersion;if(b.version==="v3"){var h=null;d("WAGlobals").isPeerDevice(c)&&(h=f);f=d("WAAsMessageTransport").asMessageTransport(b.bytes,h,null,e,g,a);return d("encodeProtobuf").encodeProtobuf(d("WAMsgTransport.pb").MessageTransportSpec,f).readByteArray()}else if(d("WAGlobals").isPeerDevice(c))return b.bytesForPeer;else return b.bytes}function k(a){a=a.messageBytes;if(a.version==="v3"){a=d("WAAsMessageTransport").asMessageTransport(a.bytes);return d("encodeProtobuf").encodeProtobuf(d("WAMsgTransport.pb").MessageTransportSpec,a).readByteArray()}else throw c("err")("Plaintext v2 not supported yet")}function l(a){var b=a.skdm;a=a.icdc;b=d("WAAsMessageTransport").asMessageTransport(null,null,b,a);return d("encodeProtobuf").encodeProtobuf(d("WAMsgTransport.pb").MessageTransportSpec,b).readByteArray()}g.getEncNodes=a;g.getEncNode=b}),98);
__d("WAPhash",["Promise","WABase64","WABinary","WACryptoDependencies","WALogger","WASortedLists"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Calculate pHash -- end"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Calculate pHash -- Start"]);j=function(){return a};return a}function a(a){d("WALogger").LOG(j());a=d("WASortedLists").sortAndDedupe(a);var c=new(d("WABinary").Binary)();for(var e=0;e<a.length;e++)c.writeString(a[e]);return(h||(h=b("Promise"))).resolve(d("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",c.readByteArray()).then(function(a){d("WALogger").LOG(i());a=new Uint8Array(a,0,6);return"2:"+d("WABase64").encodeB64(a)}))}g.calculatePHash=a}),98);
__d("WAEncUserMsg",["WAComputeICDC","WAEncNode","WAGlobals","WAJids","WAPhash","WATagsLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAEncUserMsg -- ICDC calc error: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAEncUserMsg -- getParticipantNodes -- receiverEncypted -- FALSE"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAEncUserMsg -- encrypt - getParticipantNodes -- EMPTY DEVICE JIDS"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAEncUserMsg -- encrypt -- getParticipantNodes -- START"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAEncUserMsg -- getParticipantNodes -- EMPTY NODE"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg -- encryptUserMsg -- user message -- DONE"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg -- encryptUserMsg -- user message -- OTHER_RECIPENT_DEVICE_EMPTY"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg -- encryptUserMsg -- user message -- ICDC"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAEncUserMsg -- no recipient"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg -- encryptUserMsg -- user message -- START"]);q=function(){return a};return a}var r=d("WATagsLogger").TAGS(["WAEncUserMsg"]);async function a(a,b,e,f){r.LOG(q());a.length===0&&r.ERROR(p());r.LOG(o());var g=a.flatMap(function(a){return a.devicesInfo}).map(function(a){return a.jid});u(a)&&r.LOG(n());var h;b.type==="message"&&!c("gkx")("3176")&&(h=await v(a,e,f));return Promise.all([s(g,b,e,h,f),d("WAPhash").calculatePHash(g.concat(d("WAGlobals").getMyDeviceJid()))]).then(function(a){var b=a[0];a=a[1];r.LOG(m());return{participants:b,phash:a}})}function b(a,b,c){return s(a,b,c)}function s(a,b,c,d,e){return t(a,b,c,d,e).then(function(a){if(a.length===0){r.WARN(l());e==null?void 0:e.addPoint("getParticipantNodes_empty_node");return}return a})}function e(a,b,c,e,f,g){return d("WAEncNode").getEncNode(a,b,c,e,f,g)}function t(a,b,c,e,f){var g=!1;r.LOG(k());(b.type!=="message"||d("WAJids").interpretAsGroupJid(b.chat)!=null)&&(g=!0);a=d("WAEncNode").getEncNodes(new Map(a.map(function(a){return[a,{params:b,icdc:e}]})),c).then(function(a){if(a==null){r.WARN(j());f==null?void 0:f.addPoint("getParticipantNodes_empty_device_jids");return[]}b.type==="message"&&(g=g||Array.from(a.keys()).some(function(a){return d("WAJids").extractUserJid(a)===b.chat}));return Array.from(a==null?void 0:a.values())});return a.then(function(a){if(g)return a;else{r.ERROR(i());f==null?void 0:f.addPoint("getParticipantNodes_receiverEncypted_false");return[]}}).then(function(a){return a.filter(Boolean)})}function u(a){return a.filter(function(a){return a.user!==d("WAGlobals").getMyUserJid()}).flatMap(function(a){return a.devicesInfo}).length===0}async function v(a,b,c){var e;try{c==null?void 0:c.addPoint("icdc_start"),e=await d("WAComputeICDC").computeICDC(a,d("WAGlobals").getMyUserJid(),d("WAGlobals").getMyDeviceJid(),b),c==null?void 0:c.addPoint("icdc_end",{bool:{isICDCEmpty:e==null}})}catch(a){c==null?void 0:c.addPoint("icdc-error"),r.ERROR(h(),a)}return e}g.encryptUserMsg=a;g.encryptGroupFanoutMsg=b;g.encryptDeviceJidMessage=e}),98);
__d("WAGetSenderKeyStatusApi",["MAWDexieTable","MAWTransactionMode","WADbPersonalSenderKeyStatusTxns","WADbTransactor"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({personalSenderKeyStatuses:d("MAWTransactionMode").READWRITE},"getSenderKeyStatus",function(a){return function(b){return a.personalSenderKeyStatuses.get(b).then(function(c){c!=null?c=d("MAWDexieTable").dexieResolve(c):c=d("WADbPersonalSenderKeyStatusTxns").putNewPersonalSenderKeyStatus(a,b);return c.then(function(a){var b=a.hasSenderKey,c=a.rotateSenderKey,d=a.senderKeyId;a=a.senderKeyTs;return{hasSenderKey:b,rotateSenderKey:c,senderKeyId:d,ts:a}})})}});g.getSenderKeyStatus=a}),98);
__d("WAGetUserDevices",[],(function(a,b,c,d,e,f){"use strict";async function a(a,b){b=await b.storage.bulkLoadIdentities(a);return Array.from(b).flatMap(function(a){a=a[1];return Array.from(a.keys())})}f.getUserDevices=a}),66);
__d("WAMarkSenderKeyAsRotatedApi",["MAWTransactionMode","WADbPersonalSenderKeyStatusTxns","WADbTransactor"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({personalSenderKeyStatuses:d("MAWTransactionMode").READWRITE},"markSEnderKeyAsRotated",function(a){return function(b,c,e){return d("WADbPersonalSenderKeyStatusTxns").updateSenderKeyStatusAsRotated(a,b,c,e).then(function(){})}});g.markSenderKeyAsRotated=a}),98);
__d("WAEncGroupMsg",["WAAsMessageTransport","WABridge","WACryptoManager","WACryptoManagerUtils","WADbPersonalSenderKeyStatusTxnsV2","WADexieToWormMigration","WAEncUserMsg","WAGetSenderKeyStatusApi","WAGetUserDevices","WAGlobals","WAHex","WAMarkSenderKeyAsRotatedApi","WAMsgTransport.pb","WAOdsEnums","WAPhash","WAPromiseQueue","WAProtocolMediaType","WAResultOrError","WASortedLists","WATagsLogger","WATimeUtils","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["end key distribution"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["start key distribution"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Encrypt success"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Finish encrypt group content"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Finish group fanout msg"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Finish rotate participant info"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Rotating sender key for group "," because ",""]);n=function(){return a};return a}var o=d("WATagsLogger").TAGS(["WAEncGroupMsg"]),p=30*d("WATimeUtils").DAY_SECONDS,q=new(d("WAPromiseQueue").PromiseQueue)();async function r(a,b,c){var e=a.senderKeyId;if(e==null||a.rotateSenderKey||!d("WATimeUtils").happenedWithin(a.ts,p))return d("WAResultOrError").makeError("sender-key-invalid");c=await c.cryptoManager.storage.loadSenderKeySession(b,d("WAGlobals").getMyDeviceJid());if(c.success===!1||c.value.senderKeyStates.length===0)return d("WAResultOrError").makeError("sender-key-missing");b=c.value.senderKeyStates.at(-1);if(b==null)return d("WAResultOrError").makeError("sender-key-missing");return b.senderKeyId!==a.senderKeyId?d("WAResultOrError").makeError("sender-key-id-mismatch"):d("WAResultOrError").makeResult({senderKeyId:e})}async function s(a,b){b=await d("WACryptoManager").rotateGroupSenderKey(b.cryptoManager,a,d("WAGlobals").getMyDeviceJid());var c=d("WADexieToWormMigration").isWorm("WAEncGroupMsg")?d("WADbPersonalSenderKeyStatusTxnsV2").markSenderKeyAsRotated:d("WAMarkSenderKeyAsRotatedApi").markSenderKeyAsRotated;await c(a,b.senderKeyId,d("WATimeUtils").unixTime());return{senderKeyId:b.senderKeyId}}function t(a,b,c,e){return q.enqueue(async function(){var f=d("WADexieToWormMigration").isWorm("WAEncGroupMsg")?d("WADbPersonalSenderKeyStatusTxnsV2").getSenderKeyStatus:d("WAGetSenderKeyStatusApi").getSenderKeyStatus;f=await f(a);var g=await r(f,a,c),h=await d("WAGetUserDevices").getUserDevices(b,c.cryptoManager),i=new Set(h);if(g.success===!1){o.LOG(n(),a,g.error);d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:d("WAOdsEnums").Entity.GROUP_SKS_INVALID,key:g.error});e.addPoint("sender_key_rotation_start");var j=await s(a,c);e.addPoint("sender_key_rotation_end");return{senderKeyId:j.senderKeyId,needsSenderKey:i,groupParticipants:new Set(h)}}else{((j=f.hasSenderKey)!=null?j:[]).forEach(function(a){return i.delete(a)});e.addPoint("no_sk_rotation",{int:{noRotationNeedsSK:i.size}});return{senderKeyId:g.value.senderKeyId,needsSenderKey:i,groupParticipants:new Set(h)}}})}async function a(a,b,c,e,f,g,n){n.addPoint("enc_group_start");var p=await t(a,b.map(function(a){return a.user}),f,n),q=p.senderKeyId,r=p.needsSenderKey;p=p.groupParticipants;o.LOG(m());n.addPoint("rotated_participant_info");var s=null,v,w;b=b.flatMap(function(a){return a.devicesInfo}).map(function(a){return a.jid});p.delete(d("WAGlobals").getMyDeviceJid());var x=!d("WASortedLists").areEqual(d("WASortedLists").asSortedSet(p),d("WASortedLists").sortAndDedupe(b)),y=e.type==="text"&&e.isRevoked,z=e.type==="media"?d("WAProtocolMediaType").castToProtocolMediaType(e.mediaType):null;if(x||y){x=await d("WAEncUserMsg").encryptGroupFanoutMsg(b,{type:"message",messageBytes:c,messageType:e,chat:a,backupDirective:g},f);x&&!(e.type==="text"&&e.isInvisible===!0)&&(v=x,w={encType:"group",to:a,v:c.version==="v3"?"3":"2",type:"skmsg",mediaType:z,ciphertext:null});o.LOG(l());n.addPoint("finish_group_fanout_msg")}else{if(c.version==="v3"){y=d("WAAsMessageTransport").asMessageTransport(c.bytes);g=d("encodeProtobuf").encodeProtobuf(d("WAMsgTransport.pb").MessageTransportSpec,y).readByteArray()}else g=c.bytes;x=await d("WACryptoManagerUtils").encryptGroupContentWithMetrics(a,g,f);o.LOG(k());n.addPoint("finish_encrypt_group_content");if(x.success){o.LOG(j());y=x.value;q!==y.senderKeyId&&p.forEach(function(a){return r.add(a)});if(r.size>0){g={groupId:a,axolotlSenderKeyDistributionMessage:d("WAHex").bytesToBuffer(y.senderKeyDistributionProto)};o.LOG(i());x=b.filter(function(a){return r.has(a)});q=await u(x,g,f);o.LOG(h());n.addPoint("finish_skdm_enc_node");q.length>0&&(v=q,s={group:a,senderKeyId:y.senderKeyId,knowsSenderKey:new Set(x)})}w={encType:"group",to:a,v:c.version==="v2"?"2":"3",type:y.ciphertext.type,mediaType:z,ciphertext:y.ciphertext.ciphertext};e.type==="text"&&e.isInvisible===!0&&(w={encType:"group",to:a,v:c.version==="v2"?"2":"3",type:"skmsg",mediaType:null,ciphertext:null})}}p=await d("WAPhash").calculatePHash(b.concat(d("WAGlobals").getMyDeviceJid()));n.addPoint("phash_finish");return{phash:p,participants:v,encNode:w,senderKeyDistributionInfo:s}}function u(a,b,c){b=d("WAAsMessageTransport").asMessageTransport(null,null,b,null);var e=d("encodeProtobuf").encodeProtobuf(d("WAMsgTransport.pb").MessageTransportSpec,b).readByteArray();return d("WACryptoManagerUtils").bulkEncrypt(new Map(a.map(function(a){return[a,{plaintext:e}]})),c).then(function(a){var b=[];a.forEach(function(a,c){b.push({encType:"device",to:c,v:"3",type:a.type,ciphertext:a.ciphertext,mediaType:null,count:null,baseKey:null})});return b})}g.encryptGroupMsg=a}),98);
__d("WAIsMediaKeyReusable",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=2*d("WATimeUtils").DAY_SECONDS;function a(a){var b=Math.floor(Math.random()*d("WATimeUtils").DAY_SECONDS);return a!=null&&d("WATimeUtils").happenedWithin(a,h+b)}g.MMS_MEDIA_KEY_TTL=h;g.isMediaKeyReusable=a}),98);
__d("WAFindReusableMediaEntry",["WAIsMediaKeyReusable","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;b=b.get(a);if(b==null)return null;a=d("WAMediaUtils").decodeMediaEntryData(b);b=a.fileEncSha256;var c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken;a=babelHelpers.objectWithoutPropertiesLoose(a,["fileEncSha256","mediaKey","mediaKeyTimestamp","uploadToken"]);return c!=null&&f!=null&&b!=null&&e!=null&&d("WAIsMediaKeyReusable").isMediaKeyReusable(e)?babelHelpers["extends"]({},a,{fileEncSha256:b,mediaKey:c,mediaKeyTimestamp:e,uploadToken:f}):null}g.findReusableMediaEntryForArmadillo=a}),98);
__d("WAGetMetaApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return d("WASignalDB").getDb().runInTransaction(["meta"],"readonly",function(a){return a.stores.meta.bulkGet(["certificateChain","deviceId","identityKeyPair","abProps","edgeInfo","clockSkew","authKeyPair"]).then(function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5];a=a[6];return{abProps:e==null?void 0:(e=e.value)==null?void 0:e.abProps,authKeyPair:a==null?void 0:(e=a.value)==null?void 0:e.authKeyPair,certificateChain:b==null?void 0:(a=b.value)==null?void 0:a.certificateChain,clockSkew:g==null?void 0:(e=g.value)==null?void 0:e.clockSkew,deviceId:c==null?void 0:(b=c.value)==null?void 0:b.deviceId,edgeInfo:f==null?void 0:(a=f.value)==null?void 0:a.edgeInfo,identityKeyPair:d==null?void 0:(g=d.value)==null?void 0:g.identityKeyPair}})},d("WASignalDB").signalOp("getMeta"))};g.getMeta=a}),98);
__d("WAGetCurrentUserDeviceInfoApi",["WAGetMetaApiV2","WASignalKeys"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return d("WAGetMetaApiV2").getMeta().then(function(a){var b=a==null?void 0:a.deviceId;a=a==null?void 0:a.identityKeyPair;if(b==null||a==null)return null;a=d("WASignalKeys").serializePubKey(a);return{deviceId:b,identityKey:a}})};b=function(){return d("WAGetMetaApiV2").getMeta().then(function(a){return(a==null?void 0:a.deviceId)==null?null:{deviceId:a==null?void 0:a.deviceId}})};g.getCurrentUserDeviceInfo=a;g.getCurrentUserDeviceId=b}),98);
__d("WASmaxInDevicesFetchSelfResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup").parseRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup:b.value}))}g.parseFetchSelfResponseError=a}),98);
__d("WASmaxInDevicesDeviceInfoMixin",["WAResultOrError","WASmaxInDevicesIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"platform");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"manufacturer");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"model");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"seen");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"creation");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function m(a){var b=d("WASmaxParseUtils").assertTag(a,"ip");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function n(a){var b=d("WASmaxParseUtils").assertTag(a,"location");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"latitude");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"longitude");if(!c.success)return c;a=d("WASmaxParseUtils").contentString(a);return!a.success?a:d("WAResultOrError").makeResult({latitude:b.value,longitude:c.value,elementValue:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"platform",h);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a,"manufacturer",i);if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"model",j);if(!e.success)return e;var f=d("WASmaxParseUtils").optionalChildWithTag(a,"seen",k);if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChildWithTag(a,"creation",l);if(!g.success)return g;var o=d("WASmaxParseUtils").optionalChildWithTag(a,"ip",m);if(!o.success)return o;var p=d("WASmaxParseUtils").optionalChildWithTag(a,"location",n);if(!p.success)return p;var q=d("WASmaxParseUtils").attrIntRange(a,"id",1,999);if(!q.success)return q;a=d("WASmaxInDevicesIdentityKeyMixin").parseIdentityKeyMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:q.value},a.value,{platform:b.value,manufacturer:c.value,model:e.value,seen:f.value,creation:g.value,ip:o.value,location:p.value}))}g.parseDeviceInfoPlatform=h;g.parseDeviceInfoManufacturer=i;g.parseDeviceInfoModel=j;g.parseDeviceInfoSeen=k;g.parseDeviceInfoCreation=l;g.parseDeviceInfoIp=m;g.parseDeviceInfoLocation=n;g.parseDeviceInfoMixin=a}),98);
__d("WASmaxInDevicesFetchSelfResponseSuccess",["WAResultOrError","WASmaxInDevicesDeviceInfoMixin","WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxInDevicesDeviceInfoMixin").parseDeviceInfoMixin(a);return!b.success?b:b}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"self");if(!c.success)return c;a=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"device",1,25,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{selfDevice:b.value}))}g.parseFetchSelfResponseSuccessSelfDevice=h;g.parseFetchSelfResponseSuccess=a}),98);
__d("WASmaxOutDevicesFetchSelfRequest",["WASmaxJsx","WASmaxOutDevicesBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxOutDevicesBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxJsx").smax("self",null)));return a}g.makeFetchSelfRequest=a}),98);
__d("WASmaxDevicesFetchSelfRPC",["WAComms","WASmaxInDevicesFetchSelfResponseError","WASmaxInDevicesFetchSelfResponseSuccess","WASmaxOutDevicesFetchSelfRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a){var b=d("WASmaxOutDevicesFetchSelfRequest").makeFetchSelfRequest();a=await d("WAComms").sendSmaxStanza(b,a);var c=d("WASmaxInDevicesFetchSelfResponseSuccess").parseFetchSelfResponseSuccess(a,b);if(c.success)return{name:"FetchSelfResponseSuccess",value:c.value};a=d("WASmaxInDevicesFetchSelfResponseError").parseFetchSelfResponseError(a,b);if(a.success)return{name:"FetchSelfResponseError",value:a.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("FetchSelf",{Success:c,Error:a}))}g.sendFetchSelfRPC=a}),98);
__d("WAGetCurrentUserDeviceList",["WAAssertUnreachable","WAGlobals","WAJids","WALogger","WAPersistedJobManager","WASignalKeys","WASmaxDevicesFetchSelfRPC","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Two devices were detected as isCurrentDevice in getCurrentUserDeviceList"]);h=function(){return a};return a}function i(a,b){if(a.isCurrentDevice&&b.isCurrentDevice){d("WALogger").ERROR(h());return 0}if(a.isCurrentDevice)return-1;if(b.isCurrentDevice)return 1;if(a.lastSeen!=null&&b.lastSeen==null)return-1;if(a.lastSeen==null&&b.lastSeen!=null)return 1;if(a.lastSeen!=null&&b.lastSeen!=null){a=a.lastSeen;b=b.lastSeen;return b.getTime()-a.getTime()}return 0}async function a(a){a=await d("WASmaxDevicesFetchSelfRPC").sendFetchSelfRPC();switch(a.name){case"FetchSelfResponseError":var b=a.value.errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup;switch(b.name){case"RetryableIQError":var e=b.value.backoff;if(e!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{delay:e,type:"constant"},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{first:d("WATimeUtils").HOUR_MILLISECONDS/60,type:"exponential"},jitter:.1});default:b.name;e=b.value.code;throw c("err")("Failed with an error code "+e)}case"FetchSelfResponseSuccess":var f=d("WAJids").extractDeviceId(d("WAGlobals").getMyDeviceJid());return a.value.selfDevice.map(function(a){var b=a.creation,c=a.elementValue,e=a.id,g=a.ip,h=a.location,i=a.manufacturer,j=a.model,k=a.platform;a=a.seen;return{creationTime:b==null?null:d("WATimeUtils").toDate(d("WATimeUtils").castToUnixTime(b.elementValue)),id:d("WAJids").interpretAsDeviceId(e),identityKey:d("WASignalKeys").serializeIdentity(c),ipAddress:(b=g==null?void 0:g.elementValue)!=null?b:null,isCurrentDevice:e===f,lastSeen:a==null?null:d("WATimeUtils").toDate(d("WATimeUtils").castToUnixTime(a.elementValue)),latitude:h==null?null:parseFloat(h.latitude),location:(c=h==null?void 0:h.elementValue)!=null?c:null,longitude:h==null?null:parseFloat(h.longitude),manufacturer:(g=i==null?void 0:i.elementValue)!=null?g:null,model:(b=j==null?void 0:j.elementValue)!=null?b:null,platform:(e=k==null?void 0:k.elementValue)!=null?e:null}}).sort(i);default:return c("WAAssertUnreachable")(a.name)}}g.getCurrentUserDeviceList=a}),98);
__d("WAGetDeviceIdentityMixin",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null?{deviceIdentityElementValue:a}:null}f.getDeviceIdentityMixin=a}),66);
__d("WAGroupInviteUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toInviteCode=a}),66);
__d("WAGroupParserUtils",["WAGroupInviteUtils","WAJids","WALogger","WAResultOrError","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["received unknown participant error code: ",""]);h=function(){return a};return a}var i={superadmin:"superadmin",admin:"admin",participant:"participant",nonparticipant:"nonparticipant"};function j(a){if(!a.hasAttr("error"))throw c("err")("Expected participant node to have error attr");var b=a.attrInt("error"),e=a.attrUserJid("jid");switch(b){case 401:return{errorCode:b,text:"not-authorized",user:e};case 403:a=a.child("add_request");return{errorCode:b,text:"request-code",code:d("WAGroupInviteUtils").toInviteCode(a.attrString("code")),expiration:a.attrTime("expiration"),user:e};case 404:return{errorCode:b,text:"not-found",user:e};case 406:return{errorCode:b,text:"enterprise-not-allowed",user:e};case 408:return{errorCode:b,text:"temporarily-blocked",user:e};case 409:return{errorCode:b,text:"conflict",user:e};case 500:return{errorCode:b,text:"resource-constraint",user:e};default:d("WALogger").ERROR(h(),b);return{errorCode:-1,text:"unknown",user:e}}}function k(a,b){a.assertTag("participant");var c="participant";switch(b){case"add":case"demote":c="participant";break;case"promote":c="admin";break;case"remove":c="nonparticipant";break}b=a.attrUserJid("jid");if(a.hasAttr("error")){var e=j(a);return d("WAResultOrError").makeError(e)}else{e=a.attrEnumOrDefault("type",i,c);c=a.maybeAttrString("addressable")!=="false";return d("WAResultOrError").makeResult({user:b,type:e,addressable:c})}}function a(a){a.assertTag("group");var b,c=a.attrString("id");c.includes("@")?b=a.attrGroupJid("id"):b=d("WAJids").toGroupJid(c);return{jid:b,creator:a.maybeAttrUserJid("creator")||void 0,creationTs:a.attrTime("creation"),subject:{content:a.maybeAttrString("subject")||void 0,user:a.maybeAttrUserJid("s_o")||void 0,ts:a.hasAttr("s_t")?a.attrTime("s_t"):void 0},description:m(a)||void 0,participantVersion:a.maybeAttrString("p_v_id")||void 0,participants:a.mapChildrenWithTag("participant",function(a){return k(a)}),memberAddMode:l(a)||void 0}}function l(a){if(a.hasChild("member_add_mode")){a=a.child("member_add_mode");if(a.hasContent()){a=a.contentString();if(a==="admin_add"||a==="all_member_add")return a}}return null}function m(a){if(a.hasChild("description")){a=a.child("description");if(a.hasChild("body")){var b=a.child("body");if(b.hasContent())return{id:a.attrString("id"),ts:a.attrTime("t"),content:b.contentString(),user:b.maybeAttrUserJid("participant")||void 0}}}return null}g.PARTICIPANT_TYPES=i;g.parseProtocolGroupParticipantNode=k;g.parseGroupNode=a}),98);
__d("WALoadReceiptApi",["MAWTransactionMode","WADbTransactor","WAMsg","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({receipts:d("MAWTransactionMode").READONLY},"loadReceipt",function(a){return function(b){var c=d("WAMsg").craftWAMsgIdString(b);return a.receipts.get({waMsgId:c}).then(function(a){var c;return a==null?d("WAResultOrError").makeError("missing-receipt"):d("WAResultOrError").makeResult({id:b,permittedIdentitiesPerDevice:(c=a.permittedIdentitiesPerDevice)!=null?c:new Map(),recipientDevices:a.recipientDevices})})}});g.loadReceipt=a}),98);
__d("WAMarkSenderKeyAsSentApi",["MAWTransactionMode","WADbTransactor"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({personalSenderKeyStatuses:d("MAWTransactionMode").READWRITE},"markSenderKeyAsSent",function(a){return function(b,c,d){return a.personalSenderKeyStatuses.get(b).then(function(b){if(b==null)return;if(b.senderKeyId!=c)return;d.forEach(function(a){b.hasSenderKey.add(a)});return a.personalSenderKeyStatuses.put(b).then(function(){})})}});g.markSenderKeyAsSent=a}),98);
__d("WAMarkSenderKeyAsSentApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){return d("WASignalDB").getDb().runInTransaction(["personalSenderKeyStatuses"],"readwrite",async function(d){var e=await d.stores.personalSenderKeyStatuses.get(a);if(e==null)return;if(e.senderKeyId!==b)return;c.forEach(function(a){e.hasSenderKey.add(a)});await d.stores.personalSenderKeyStatuses.bulkPut([e])},d("WASignalDB").signalOp("markSenderKeyAsSent"))};g.markSenderKeyAsSent=a}),98);
__d("WASmaxInDevicesNotifyResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup").parseRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup:b.value}))}g.parseNotifyResponseError=a}),98);
__d("WASmaxInDevicesNotifyResponseSuccess",["WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseNotifyResponseSuccess=a}),98);
__d("WASmaxOutDevicesBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"set"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQSetRequestMixin=a}),98);
__d("WASmaxOutDevicesNotifyRequest",["WASmaxChildren","WASmaxJsx","WASmaxOutDevicesBaseIQSetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.userJid;a=d("WASmaxJsx").smax("user",{jid:d("WAWap").USER_JID(a)});return a}function a(a){a=a.userArgs;a=d("WASmaxOutDevicesBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxJsx").smax("users",null,d("WASmaxChildren").REPEATED_CHILD(h,a,1,25))));return a}g.makeNotifyRequestUsersUser=h;g.makeNotifyRequest=a}),98);
__d("WASmaxDevicesNotifyRPC",["WAComms","WASmaxInDevicesNotifyResponseError","WASmaxInDevicesNotifyResponseSuccess","WASmaxOutDevicesNotifyRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutDevicesNotifyRequest").makeNotifyRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInDevicesNotifyResponseSuccess").parseNotifyResponseSuccess(b,a);if(c.success)return{name:"NotifyResponseSuccess",value:c.value};b=d("WASmaxInDevicesNotifyResponseError").parseNotifyResponseError(b,a);if(b.success)return{name:"NotifyResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Notify",{Success:c,Error:b}))}g.sendNotifyRPC=a}),98);
__d("WANotifyDeviceChange",["WAGlobals","WALogger","WAPersistedJobManager","WASmaxDevicesNotifyRPC","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["The maximum number of users that can be notified is ",""]);h=function(){return a};return a}function a(a,b){a=b.users;if(a.size===0)return Promise.resolve();b=d("WAGlobals").getConfig().maxUsersForNotifyDeviceChange();var c=Array.from(a);a.size>b&&(d("WALogger").ERROR(h(),b),c=c.slice(0,b));return i(c)}async function i(a){a=await d("WASmaxDevicesNotifyRPC").sendNotifyRPC({userArgs:a.map(function(a){return{userJid:a}})});if(a.name==="NotifyResponseSuccess")return;a.name;a=a.value.errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup;if(a.name==="RetryableIQError"){var b=a.value.backoff;if(b!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"constant",delay:b},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"exponential",first:d("WATimeUtils").HOUR_MILLISECONDS/60},jitter:.1})}throw c("err")("Failed with an unexpected error code "+a.value.code)}g.notifyDeviceChange=a}),98);
__d("WAParseFranking",["WAFranking","WAFrankingTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;if(a==null)return null;b=(b=a.maybeChild("franking_tag"))==null?void 0:b.contentBytes();return{frankingKey:null,frankingTag:b!=null?d("WAFrankingTypes").castToFrankingTag(b):null,reportingTag:(b=a.maybeChild("reporting_tag"))==null?void 0:b.contentBytes(),frankingVersion:d("WAFranking").getFrankingVersion(),reportingContent:null}}g.parseFrankingNode=a}),98);
__d("WAWaterFlow",["$InternalEnum","WAMapWithDefault","WAPREMetrics","WATagsLogger","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose([" -> Done. Success: false\nTime taken: "," sec;","","\n"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose([" -> Done. Success: true\nTime taken: "," sec;","","\n"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([" -> in progress.\nTime passed: "," sec;","","\n"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Step should be a enum type"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose([""," -> Done.;\nTime taken: ",";\nTime from start: ",";","","\n"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Step should be a enum type"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["No start point was found for step: ","."]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose([""," -> Start.","",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Step should be a enum type"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose([" -> Start.",""]);q=function(){return a};return a}var r=d("WATagsLogger").TAGS(["WAWaterflow"]),s=b("$InternalEnum").Mirrored(["INIT","ON_GOING","COMPLETED"]),t=function(){function a(a,b,c){this.$1=s.INIT,this.$7=[],this.$9=new(d("WAMapWithDefault").MapWithDefault)(function(){return[]}),this.$5=r.TAGS([a]),this.$8=b,this.$3={},this.$4=new Set(),this.$10=!c,this.$6=d("WATimeUtils").performanceAbsoluteNow()}var b=a.prototype;b.$11=function(){var a=this,b={"int":{},bool:{},string:{},string_array:{}};this.$4.forEach(function(c){var d=a.$3[c];Array.isArray(d)&&(b.string_array[c]=d);typeof d==="boolean"&&(b.bool[c]=d);typeof d==="number"&&(b["int"][c]=d);typeof d==="string"&&(b.string[c]=d)});return b};b.$12=function(a){if(a==null)return;for(var b in a){var c=a[b];c!==this.$3[b]&&(this.$4.add(b),this.$3[b]=c)}};b.$13=function(a,b){this.$6=d("WATimeUtils").performanceAbsoluteNow();this.$12(a);a=this.$11();this.$4.clear();this.$10&&this.$5.LOG(q(),u(this.$3));this.$1=s.ON_GOING;if(this.$8==null)return this;this.$2=d("WAPREMetrics").startMetric(this.$8,a,b);return this};b.startMetric=function(a){return this.$13(a)};b.reStartMetric=function(a,b){return this.$13(b,a)};b.startPoint=function(a,b){var e;if(typeof a!=="string"){this.$5.ERROR(p());throw c("err")("Step should be a enum type")}this.$12(b);b=this.$11();(e=this.$2)==null?void 0:e.addPoint(a+"_start",b);this.$4.clear();e={step:a,from:d("WATimeUtils").performanceAbsoluteNow()};this.$7.push(e);this.$9.get(a).push(e);this.$10&&this.$5.LOG(o(),a,v(this.$7,this.$6),u(this.$3))};b.endPoint=function(a,b){var e,f=d("WATimeUtils").performanceAbsoluteNow(),g=this.$9.get(a).pop();g==null?this.$5.WARN(n(),a):g.to=f;if(typeof a!=="string"){this.$5.ERROR(m());throw c("err")("Step should be a enum type")}this.$12(b);b=this.$11();(e=this.$2)==null?void 0:e.addPoint(a+"_end",b);this.$4.clear();this.$10&&this.$5.LOG(l(),a,w(g!=null?f-g.from:0),w(f-this.$6),v(this.$7,this.$6),u(this.$3))};b.isOnGoing=function(){return this.$1===s.ON_GOING};b.isCompleted=function(){return this.$1===s.COMPLETED};b.annotate=function(a){this.$12(a)};b.reAnnotate=function(a){this.$12(a(this.$3))};b.getAnnotations=function(){return this.$3};b.annotateImmediately=function(a){var b;this.$12(a);a=this.$11();(b=this.$2)==null?void 0:b.addAnnotations(a);this.$4.clear()};b.addPoint=function(a,b){var d;if(typeof a!=="string"){this.$5.ERROR(k());throw c("err")("Step should be a enum type")}this.$12(b);b=this.$11();(d=this.$2)==null?void 0:d.addPoint(a,b);this.$4.clear()};b.getStartTime=function(){return this.$6};b.log=function(){this.$10&&this.$5.LOG(j(),(d("WATimeUtils").performanceAbsoluteNow()-this.$6)/1e3,v(this.$7,this.$6),u(this.$3))};b.endSuccess=function(a){var b;this.$12(a);a=this.$11();(b=this.$2)==null?void 0:b.endSuccess(a);this.$4.clear();this.$10&&this.$5.LOG(i(),(d("WATimeUtils").performanceAbsoluteNow()-this.$6)/1e3,v(this.$7,this.$6),u(this.$3));this.$1=s.COMPLETED};b.endFail=function(a,b){var c;this.$12(b);b=this.$11();(c=this.$2)==null?void 0:c.endFail(a,b);this.$4.clear();this.$10&&this.$5.LOG(h(),(d("WATimeUtils").performanceAbsoluteNow()-this.$6)/1e3,v(this.$7,this.$6),u(this.$3));this.$1=s.COMPLETED};return a}();function a(a){if(a==null)return{};var b={bool:{},"int":{},string:{},string_array:{}};for(var c in a)Array.isArray(a[c])&&(b.string_array[c]=a[c]),typeof a[c]==="number"&&(b["int"][c]=a[c]),typeof a[c]==="boolean"&&(b.bool[c]=a[c]),typeof a[c]==="string"&&(b.string[c]=a[c]);return b}function u(a){a=Object.entries(a).map(function(a){var b=a[0];a=a[1];return b+": "+String(a)});return a.length>0?"\n"+a.join("\n"):""}function v(a,b){a=a.map(function(a){var c=a.step,e=a.from;a=a.to;return typeof c==="string"?c+" => Started after: "+w(e-b)+"; "+(a!=null?"Completed after: "+w(a-e):"In progress: "+w(d("WATimeUtils").performanceAbsoluteNow()-e)):""}).filter(Boolean);return a.length>0?"\n"+a.join("\n"):""}function w(a){return a/1e3+"s"}function e(a,b,c){return new t(a,b,(a=c)!=null?a:!1)}g.WAWaterflow=t;g.convertToPREAnnotation=a;g.makeWaterflow=e}),98);
__d("WAQueryGroup",["$InternalEnum","WADeprecatedSendIq","WADeprecatedWapParser","WAGroupParserUtils","WAPREList","WAPREMetrics","WAResultOrError","WAWap","WAWaterFlow"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("WADeprecatedWapParser"))("queryAllGroupsResponse",function(a){a.assertTag("iq");return{groups:a.child("groups").mapChildren(d("WAGroupParserUtils").parseGroupNode)}});async function a(){var a,b=d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.QUERY_GROUPS);a=(a=d("WAWap")).wap("iq",{id:a.generateId(),to:a.G_US,type:"get",xmlns:"w:g2"},a.wap("participating",null,a.wap("participants",null),a.wap("description",null)));a=await d("WADeprecatedSendIq").deprecatedSendIq(a,h);if(!a.success){b.endFail("query_groups_fail");return d("WAResultOrError").makeError(a)}b.endSuccess();return d("WAResultOrError").makeResult(a.result)}var i=new(c("WADeprecatedWapParser"))("queryAllGroupsResponse",function(a){a.assertTag("iq");return{group:d("WAGroupParserUtils").parseGroupNode(a.child("group"))}}),j=b("$InternalEnum").Mirrored(["IQ_REQUEST"]);async function e(a,b){var c;c=(c=b)!=null?c:"unknown";var e=d("WAWaterFlow").makeWaterflow("query-group",d("WAPREList").PRE_METRIC.QUERY_GROUP).startMetric();e.addPoint(j.IQ_REQUEST,{key:c});a=await d("WADeprecatedSendIq").deprecatedSendIq(d("WAWap").wap("iq",{id:d("WAWap").generateId(),to:d("WAWap").GROUP_JID(a),type:"get",xmlns:"w:g2"},d("WAWap").wap("query",{request:b!=null?d("WAWap").CUSTOM_STRING(b):d("WAWap").DROP_ATTR})),i);if(!a.success){e.endFail("Fail-"+c+"-"+a.errorCode);return d("WAResultOrError").makeError(a)}e.endSuccess();return d("WAResultOrError").makeResult(a.result.group)}g.queryAllGroups=a;g.parseQueryGroupResponse=i;g.queryGroup=e}),98);
__d("WAQueryGroups",["WACreateGroup","WAGetDevices","WAPushSafeTypes","WAQueryGroup","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e){e===void 0&&(e=!1);a=d("WAPushSafeTypes").unsafeNotNullable(b);b={groups:[]};if(a.type==="all"){var f=await d("WAQueryGroup").queryAllGroups();if(f.success===!1){var g;throw c("err")("Failed to parse queryAllGroup response with error "+JSON.stringify((g=f.error)!=null?g:null))}b=f.value}else{a.type;g=await Promise.all(a.groups.map(async function(a){a=await d("WAQueryGroup").queryGroup(a);if(a.success===!1){var b;throw c("err")("Failed to parse queryGroup response with error "+JSON.stringify((b=a.error)!=null?b:null))}return a.value}));b={groups:g}}await d("WACreateGroup").createGroups(b.groups.map(function(a){return{groupStatus:"queried",groupToCreate:a,serverTs:d("WATimeUtils").unixTime(),extras:void 0,folder:void 0,key:void 0}}));var h=new Set();b.groups.forEach(function(a){return a.participants.forEach(function(a){a.success?h.add(a.value.user):h.add(a.error.user)})});await d("WAGetDevices").getDevices(null,{users:h,reason:"query-groups",ignoreDhash:e})}g.queryGroups=a}),98);
__d("WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup",["WAResultOrError","WASmaxInDevicesIQErrorBadRequestMixin","WASmaxInDevicesIQErrorItemNotFoundMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInDevicesIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorItemNotFound",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorItemNotFound"],[b,c])}g.parseIQErrorBadRequestOrItemNotFoundMixinGroup=a}),98);
__d("WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin",["WAResultOrError","WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup").parseIQErrorBadRequestOrItemNotFoundMixinGroup(a);return!b.success?b:d("WAResultOrError").makeResult({iQErrorBadRequestOrItemNotFoundMixinGroup:b.value})}g.parseNonRetryableRemoveDeviceIQErrorMixin=a}),98);
__d("WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup",["WAResultOrError","WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin","WASmaxInDevicesRetryableIQErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesRetryableIQErrorMixin").parseRetryableIQErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"RetryableIQError",value:b.value});var c=d("WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin").parseNonRetryableRemoveDeviceIQErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"NonRetryableRemoveDeviceIQError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["RetryableIQError","NonRetryableRemoveDeviceIQError"],[b,c])}g.parseRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup=a}),98);
__d("WASmaxInDevicesRemoveResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup").parseRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup:b.value}))}g.parseRemoveResponseError=a}),98);
__d("WASmaxInDevicesRemoveResponseSuccess",["WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRemoveResponseSuccess=a}),98);
__d("WASmaxOutDevicesKeyDataMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyElementValue;a=d("WASmaxJsx").smax("smax$any",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeKeyDataMixin=a}),98);
__d("WASmaxOutDevicesIdentityKeyMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutDevicesKeyDataMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxOutDevicesKeyDataMixin").mergeKeyDataMixin(d("WASmaxJsx").smax("identity",null),a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIdentityKeyMixin=a}),98);
__d("WASmaxOutDevicesRemoveRequest",["WASmaxJsx","WASmaxOutDevicesBaseIQSetRequestMixin","WASmaxOutDevicesIdentityKeyMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.removeId;a=a.identityKeyMixinArgs;b=d("WASmaxOutDevicesBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxOutDevicesIdentityKeyMixin").mergeIdentityKeyMixin(d("WASmaxJsx").smax("remove",{id:d("WAWap").INT(b)}),a)));return b}g.makeRemoveRequest=a}),98);
__d("WASmaxDevicesRemoveRPC",["WAComms","WASmaxInDevicesRemoveResponseError","WASmaxInDevicesRemoveResponseSuccess","WASmaxOutDevicesRemoveRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutDevicesRemoveRequest").makeRemoveRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInDevicesRemoveResponseSuccess").parseRemoveResponseSuccess(b,a);if(c.success)return{name:"RemoveResponseSuccess",value:c.value};b=d("WASmaxInDevicesRemoveResponseError").parseRemoveResponseError(b,a);if(b.success)return{name:"RemoveResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Remove",{Success:c,Error:b}))}g.sendRemoveRPC=a}),98);
__d("WARemoveDevice",["WALogger","WAPersistedJobManager","WAPushSafeTypes","WAResultOrError","WASignalOther","WASmaxDevicesRemoveRPC","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeDevice result for ",": "," "]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeDevice called for device "," and identity ",""]);i=function(){return a};return a}async function a(a,b){a=d("WAPushSafeTypes").unsafeNotNullable(b);b=a.deviceId;a=a.identity;d("WALogger").DEV(i(),b,a);a=d("WASignalOther").sliceBytes(a,1,32);a=await d("WASmaxDevicesRemoveRPC").sendRemoveRPC({removeId:b,identityKeyMixinArgs:{anyElementValue:a}});d("WALogger").LOG(h(),b,a);if(a.name==="RemoveResponseSuccess")return d("WAResultOrError").makeResult();else{a.name;b=a.value.errorRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup;if(b.name!=="RetryableIQError")return d("WAResultOrError").makeError();b.name;a=b.value.backoff;if(a!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"constant",delay:a},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"exponential",first:d("WATimeUtils").HOUR_MILLISECONDS/60},jitter:.1})}}g.removeDevice=a}),98);
__d("WARemoveCurrentDevice",["WAGetCurrentUserDeviceInfoApi","WAGlobals","WALogger","WARemoveDevice","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["There is no stored user info, it was already deleted or this job was called twice, possibly from another tab"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeCurrentDevice called for current device"]);i=function(){return a};return a}a=async function(a){d("WALogger").DEV(i());var b=await d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo();if(b==null){d("WALogger").WARN(h());return d("WAResultOrError").makeResult()}var c=b.deviceId;b=b.identityKey;a=await d("WARemoveDevice").removeDevice(a,{deviceId:c,identity:b});if(a.success){await d("WAGlobals").getDependencies().clearSignalAndTempStores();return d("WAResultOrError").makeResult()}return d("WAResultOrError").makeResult()};g.removeCurrentDevice=a}),98);
__d("WASaveReceiptApi",["MAWTransactionMode","WADbTransactor","WAMsg"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({receipts:d("MAWTransactionMode").READWRITE},"saveReceipt",function(a){return function(b){return a.receipts.put({msgId:b.id.externalId.toString(),permittedIdentitiesPerDevice:b.permittedIdentitiesPerDevice,recipientDevices:b.recipientDevices,waMsgId:d("WAMsg").craftWAMsgIdString(b.id)}).then(function(){})}});g.saveReceipt=a}),98);
__d("WASmaxInAppdataPublishAckMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"ack");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"class","appdata");if(!c.success)return c;b=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",b.value);if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);return!b.success?b:d("WAResultOrError").makeResult({"class":c.value,t:b.value})}g.parseAckMixin=a}),98);
__d("WASmaxInAppdataPublishPeerResponseNegative",["WAResultOrError","WASmaxInAppdataPublishAckMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"ack");if(!c.success)return c;c=d("WASmaxParseUtils").attrString(a,"error");if(!c.success)return c;a=d("WASmaxInAppdataPublishAckMixin").parseAckMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({error:c.value},a.value))}g.parsePeerResponseNegative=a}),98);
__d("WASmaxInAppdataPublishDeviceListStaleMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"phash");return!b.success?b:d("WAResultOrError").makeResult({phash:b.value})}g.parseDeviceListStaleMixin=a}),98);
__d("WASmaxInAppdataPublishPeerResponseSuccess",["WAResultOrError","WASmaxInAppdataPublishAckMixin","WASmaxInAppdataPublishDeviceListStaleMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"ack");if(!c.success)return c;c=d("WASmaxInAppdataPublishAckMixin").parseAckMixin(a,b);if(!c.success)return c;b=d("WASmaxInAppdataPublishDeviceListStaleMixin").parseDeviceListStaleMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({},c.value,{deviceListStaleMixin:b.success?b.value:null}))}g.parsePeerResponseSuccess=a}),98);
__d("WASmaxOutAppdataPublishDeviceIdentityMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.deviceIdentityElementValue;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("device-identity",null,a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeDeviceIdentityMixin=a}),98);
__d("WASmaxOutAppdataPublishInternalTestMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.testConfig;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("test",{config:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeInternalTestMixin=a}),98);
__d("WASmaxOutAppdataPublishRequestIDMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.requestIdElementValue;a=d("WASmaxJsx").smax("trace",null,d("WASmaxJsx").smax("request_id",null,a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeRequestIDMixin=a}),98);
__d("WASmaxOutAppdataPublishTraceIDMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.edgeIdElementValue;a=d("WASmaxJsx").smax("edge_id",null,a);return a}function i(a){var b=a.deviceArgs,c=a.correlationIdType;a=a.idElementValue;c=d("WASmaxJsx").smax("correlation_id",{type:d("WAWap").CUSTOM_STRING(c)},d("WASmaxJsx").smax("id",null,a),d("WASmaxChildren").OPTIONAL_CHILD(j,b));return c}function j(a){a=a.deviceId;a=d("WASmaxJsx").smax("device",{id:d("WAWap").INT(a)});return a}function k(a){var b=a.edgeIdArgs,c=a.correlationIdArgs;a=a.traceIdElementValue;a=d("WASmaxJsx").smax("trace",null,[d("WASmaxJsx").smax("trace_id",null,a),d("WASmaxChildren").OPTIONAL_CHILD(h,b)].concat(d("WASmaxChildren").REPEATED_CHILD(i,c,0,10)));return a}function a(a,b){b=k(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeTraceIDEdgeId=h;g.makeTraceIDCorrelationId=i;g.makeTraceIDCorrelationIdDevice=j;g.mergeTraceIDMixin=a}),98);
__d("WASmaxOutAppdataPublishRequestOrTraceIDMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutAppdataPublishRequestIDMixin","WASmaxOutAppdataPublishTraceIDMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.requestID)return d("WASmaxOutAppdataPublishRequestIDMixin").mergeRequestIDMixin(a,b.requestID);if(b.traceID)return d("WASmaxOutAppdataPublishTraceIDMixin").mergeTraceIDMixin(a,b.traceID);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeRequestOrTraceIDMixinGroup=a}),98);
__d("WASmaxOutAppdataPublishTraceContextMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutAppdataPublishRequestOrTraceIDMixinGroup"],(function(a,b,c,d,e,f,g){function h(a){a=a.requestOrTraceIDMixinGroupArgs;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxOutAppdataPublishRequestOrTraceIDMixinGroup").mergeRequestOrTraceIDMixinGroup(d("WASmaxJsx").smax("trace",null),a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeTraceContextMixin=a}),98);
__d("WASmaxOutAppdataPublishWithDeviceListCheckMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.appdataDeviceListCheck;a=d("WASmaxJsx").smax("appdata",{device_list_check:d("WAWap").CUSTOM_STRING(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeWithDeviceListCheckMixin=a}),98);
__d("WASmaxOutAppdataPublishBaseMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutAppdataPublishDeviceIdentityMixin","WASmaxOutAppdataPublishInternalTestMixin","WASmaxOutAppdataPublishTraceContextMixin","WASmaxOutAppdataPublishWithDeviceListCheckMixin"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.deviceIdentityMixinArgs,e=a.withDeviceListCheckMixinArgs,f=a.internalTestMixinArgs;a=a.traceContextMixinArgs;b=(b=d("WASmaxMixins")).optionalMerge(d("WASmaxOutAppdataPublishTraceContextMixin").mergeTraceContextMixin,b.optionalMerge(d("WASmaxOutAppdataPublishInternalTestMixin").mergeInternalTestMixin,b.optionalMerge(d("WASmaxOutAppdataPublishWithDeviceListCheckMixin").mergeWithDeviceListCheckMixin,b.optionalMerge(d("WASmaxOutAppdataPublishDeviceIdentityMixin").mergeDeviceIdentityMixin,d("WASmaxJsx").smax("appdata",null),c),e),f),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseMixin=a}),98);
__d("WASmaxOutAppdataPublishEncPayloadMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.encElementValue;a=d("WASmaxJsx").smax("enc",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncPayloadMixin=a}),98);
__d("WASmaxOutAppdataPublishEncTypeIndividualMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutAppdataPublishEncPayloadMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.encType;b=d("WASmaxOutAppdataPublishEncPayloadMixin").mergeEncPayloadMixin(d("WASmaxJsx").smax("enc",{type:d("WAWap").CUSTOM_STRING(b)}),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncTypeIndividualMixin=a}),98);
__d("WASmaxOutAppdataPublishEncVersionFutureproofMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.encV;a=d("WASmaxJsx").smax("enc",{v:d("WAWap").INT(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncVersionFutureproofMixin=a}),98);
__d("WASmaxOutAppdataPublishPeerPeerFanoutMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutAppdataPublishEncTypeIndividualMixin","WASmaxOutAppdataPublishEncVersionFutureproofMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.toJid,c=a.encVersionFutureproofMixinArgs;a=a.encTypeIndividualMixinArgs;b=d("WASmaxJsx").smax("to",{jid:d("WAWap").DEVICE_JID(b)},d("WASmaxOutAppdataPublishEncTypeIndividualMixin").mergeEncTypeIndividualMixin(d("WASmaxOutAppdataPublishEncVersionFutureproofMixin").mergeEncVersionFutureproofMixin(d("WASmaxJsx").smax("enc",null),c),a));return b}function i(a){var b=a.toArgs;a=a.appdataTo;a=d("WASmaxJsx").smax("appdata",{to:d("WAWap").USER_JID(a)},d("WASmaxJsx").smax("participants",null,d("WASmaxChildren").REPEATED_CHILD(h,b,1,24)));return a}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makePeerPeerFanoutParticipantsTo=h;g.mergePeerPeerFanoutMixin=a}),98);
__d("WASmaxOutAppdataPublishEncRetryMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.encCount;a=d("WASmaxJsx").smax("enc",{count:d("WAWap").INT(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncRetryMixin=a}),98);
__d("WASmaxOutAppdataPublishRetryMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutAppdataPublishEncRetryMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.appdataT;a=a.encRetryMixinArgs;b=d("WASmaxJsx").smax("appdata",{t:d("WAWap").INT(b)},d("WASmaxOutAppdataPublishEncRetryMixin").mergeEncRetryMixin(d("WASmaxJsx").smax("enc",null),a));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeRetryMixin=a}),98);
__d("WASmaxOutAppdataPublishPeerPeerSingleMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutAppdataPublishEncTypeIndividualMixin","WASmaxOutAppdataPublishEncVersionFutureproofMixin","WASmaxOutAppdataPublishRetryMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.appdataTo,c=a.retryMixinArgs,e=a.encVersionFutureproofMixinArgs;a=a.encTypeIndividualMixinArgs;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutAppdataPublishRetryMixin").mergeRetryMixin,d("WASmaxJsx").smax("appdata",{to:d("WAWap").DEVICE_JID(b)},d("WASmaxOutAppdataPublishEncTypeIndividualMixin").mergeEncTypeIndividualMixin(d("WASmaxOutAppdataPublishEncVersionFutureproofMixin").mergeEncVersionFutureproofMixin(d("WASmaxJsx").smax("enc",null),e),a)),c);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePeerPeerSingleMixin=a}),98);
__d("WASmaxOutAppdataPublishPeerMsgTypes",["WASmaxMixinGroupExhaustiveError","WASmaxOutAppdataPublishPeerPeerFanoutMixin","WASmaxOutAppdataPublishPeerPeerSingleMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.peerPeerFanout)return d("WASmaxOutAppdataPublishPeerPeerFanoutMixin").mergePeerPeerFanoutMixin(a,b.peerPeerFanout);if(b.peerPeerSingle)return d("WASmaxOutAppdataPublishPeerPeerSingleMixin").mergePeerPeerSingleMixin(a,b.peerPeerSingle);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergePeerMsgTypes=a}),98);
__d("WASmaxOutAppdataPublishPeerRequest",["WASmaxAttrs","WASmaxJsx","WASmaxOutAppdataPublishBaseMixin","WASmaxOutAppdataPublishPeerMsgTypes","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.appdataId,c=a.appdataPushPriority,e=a.peerMsgTypesArgs;b=d("WASmaxOutAppdataPublishPeerMsgTypes").mergePeerMsgTypes(d("WASmaxOutAppdataPublishBaseMixin").mergeBaseMixin(d("WASmaxJsx").smax("appdata",{id:d("WAWap").STANZA_ID(b),category:"peer",push_priority:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,c)}),a),e);return b}g.makePeerRequest=a}),98);
__d("WASmaxAppdataPublishPeerRPC",["WAComms","WASmaxInAppdataPublishPeerResponseNegative","WASmaxInAppdataPublishPeerResponseSuccess","WASmaxOutAppdataPublishPeerRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutAppdataPublishPeerRequest").makePeerRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInAppdataPublishPeerResponseNegative").parsePeerResponseNegative(b,a);if(c.success)return{name:"PeerResponseNegative",value:c.value};b=d("WASmaxInAppdataPublishPeerResponseSuccess").parsePeerResponseSuccess(b,a);if(b.success)return{name:"PeerResponseSuccess",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Peer",{Negative:c,Success:b}))}g.sendPeerRPC=a}),98);
__d("WASendAppDataFanoutProtocol",["WAAsMessageApplication","WABridge","WAConvertAppData","WAEncUserMsg","WAErrorMessage","WAGetCurrentUserDeviceInfoApi","WAGlobals","WAMsgApplication.pb","WAOdsEnums","WAResultOrError","WASmaxAppdataPublishPeerRPC","WATagsLogger","WATimeUtils","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to send appdata. Error: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Got phash mismatch on appdata, local[","] server[","]"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch current device public identity key"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempting to send an appData stanza to more than the allowed "," devices"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempting to send an appData stanza to "," devices"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sending appdata, externalId: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to send appdata to devices with error: ",""]);n=function(){return a};return a}var o=d("WATagsLogger").TAGS(["sendAppDataFanout"]),p=24;function a(a,b){a=b.contents;var c=b.externalId,e=b.permittedIdentitiesPerDevice;b=b.checkPhash;b=b===void 0?"checkPhash":b;return q(a,c,e,b).catch(function(a){a=d("WAErrorMessage").maybeGetMessageFromError(a);o.ERROR(n(),a);return d("WAResultOrError").makeError("runtime-error")})}async function q(a,b,c,e){e===void 0&&(e="checkPhash");o.LOG(m(),b);a=d("WAConvertAppData").convertAppData(a);var f={bytes:d("WAAsMessageApplication").castToMessageApplicationBytes(d("encodeProtobuf").encodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a).readByteArray()),version:"v3"},g=[];a=Array.from(c.entries()).map(function(a){var b=a[0];a=a[1];return{identity:a.pubKey,jid:b}});c=p;a.length>c&&(o.WARN(l(),a.length),o.ERROR(k(),c),a=a.slice(0,c));var n=[{devicesInfo:a,user:d("WAGlobals").getMyUserJid()}];c=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WAEncUserMsg").encryptUserMsg(n,{messageBytes:f,type:"appdata"},{cryptoManager:a})},{operationType:"encrypt",flush:!0});a=c.phash;var q=!1;c.participants!=null&&c.participants.forEach(function(a){a.type==="pkmsg"&&(q=!0),g.push({toJid:a.to,encTypeIndividualMixinArgs:{encType:a.type,encElementValue:a.ciphertext},encVersionFutureproofMixinArgs:{encV:parseInt(a.v,10)}})});c={appdataTo:d("WAGlobals").getMyUserJid(),toArgs:g};c={peerPeerFanout:c};var r=void 0;if(q){var s=await d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo();s=s==null?void 0:s.identityKey;if(s==null){o.ERROR(j());return d("WAResultOrError").makeError("no-public-identity")}r={deviceIdentityElementValue:s}}s={appdataDeviceListCheck:e==="checkPhash"?"true":"false"};e={appdataId:b,peerMsgTypesArgs:c,deviceIdentityMixinArgs:r,withDeviceListCheckMixinArgs:s};b=await d("WASmaxAppdataPublishPeerRPC").sendPeerRPC(e);switch(b.name){case"PeerResponseSuccess":r=(c=b.value.deviceListStaleMixin)==null?void 0:c.phash;if(r!=null&&a!=null&&r!==a){o.LOG(i(),a,r);d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:d("WAOdsEnums").Entity.PHASH_MISMATCH,key:"appdata"});return d("WAResultOrError").makeResult({phashMismatch:!0,serverTs:d("WATimeUtils").castToUnixTime(b.value.t)})}else return d("WAResultOrError").makeResult({phashMismatch:!1,serverTs:d("WATimeUtils").castToUnixTime(b.value.t)});default:b.name;o.ERROR(h(),b.value.error);return d("WAResultOrError").makeError("ack-failure")}}g.MAX_APPDATA_RECIPIENTS=p;g.sendAppDataToDevicesProtocol=a}),98);
__d("WASmaxInMessagePublishAckAdminEditMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"edit","3");return!b.success?b:d("WAResultOrError").makeResult({edit:b.value})}g.parseAckAdminEditMixin=a}),98);
__d("WASmaxInMessagePublishAckAdminRevokeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"edit","8");return!b.success?b:d("WAResultOrError").makeResult({edit:b.value})}g.parseAckAdminRevokeMixin=a}),98);
__d("WASmaxInMessagePublishAckMessageEditMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"edit","1");return!b.success?b:d("WAResultOrError").makeResult({edit:b.value})}g.parseAckMessageEditMixin=a}),98);
__d("WASmaxInMessagePublishAckMessagePinMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"edit","2");return!b.success?b:d("WAResultOrError").makeResult({edit:b.value})}g.parseAckMessagePinMixin=a}),98);
__d("WASmaxInMessagePublishEnums",[],(function(a,b,c,d,e,f){a={CBP:"CBP",NBP:"NBP",PMP:"PMP"};b={delivery:"delivery",no_optimization:"no_optimization"};c={"false":"false","true":"true"};d={free_customer_service:"free_customer_service",free_entry_point:"free_entry_point",regular:"regular"};e={lid:"lid",pn:"pn"};f.ENUM_CBP_NBP_PMP=a;f.ENUM_DELIVERY_NOOPTIMIZATION=b;f.ENUM_FALSE_TRUE=c;f.ENUM_FREECUSTOMERSERVICE_FREEENTRYPOINT_REGULAR=d;f.ENUM_LID_PN=e}),66);
__d("WASmaxInMessagePublishAckPaidConversationMixin",["WAResultOrError","WASmaxInMessagePublishEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"delivery_context");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(a,"optimization_goal",d("WASmaxInMessagePublishEnums").ENUM_DELIVERY_NOOPTIMIZATION);return!b.success?b:d("WAResultOrError").makeResult({optimizationGoal:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"source_url");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"referral");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"source_url",i);if(!b.success)return b;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"source_type");return!a.success?a:d("WAResultOrError").makeResult({sourceType:a.value,sourceUrl:b.value})}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"origin");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"referral",j);if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"type");return!a.success?a:d("WAResultOrError").makeResult({type:a.value,referral:b.value})}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"pricing");if(!b.success)return b;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"consumer_country_code");if(!b.success)return b;var c=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,a,"business_country_code");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"conversation_status",0,void 0);if(!e.success)return e;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"latest_c2b_timestamp",0,void 0);return!a.success?a:d("WAResultOrError").makeResult({consumerCountryCode:b.value,businessCountryCode:c.value,conversationStatus:e.value,latestC2bTimestamp:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"biz");if(!b.success)return b;a=d("WASmaxParseUtils").optionalChildWithTag(b.value,"delivery_context",h);if(!a.success)return a;var c=d("WASmaxParseUtils").optionalChildWithTag(b.value,"origin",k);if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(b.value,"pricing",l);if(!e.success)return e;var f=d("WASmaxParseUtils").attrString(b.value,"paid_convo_id");if(!f.success)return f;var g=d("WASmaxParseUtils").attrStringEnum(b.value,"pricing_model",d("WASmaxInMessagePublishEnums").ENUM_CBP_NBP_PMP);if(!g.success)return g;var i=d("WASmaxParseUtils").attrStringEnum(b.value,"billable",d("WASmaxInMessagePublishEnums").ENUM_FALSE_TRUE);if(!i.success)return i;var j=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,b.value,"expiration_timestamp",0,void 0);if(!j.success)return j;var m=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,b.value,"pricing_category");if(!m.success)return m;b=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,b.value,"pricing_type",d("WASmaxInMessagePublishEnums").ENUM_FREECUSTOMERSERVICE_FREEENTRYPOINT_REGULAR);return!b.success?b:d("WAResultOrError").makeResult({bizPaidConvoId:f.value,bizPricingModel:g.value,bizBillable:i.value,bizExpirationTimestamp:j.value,bizPricingCategory:m.value,bizPricingType:b.value,bizDeliveryContext:a.value,bizOrigin:c.value,bizPricing:e.value})}g.parseAckPaidConversationBizDeliveryContext=h;g.parseAckPaidConversationBizOriginReferralSourceUrl=i;g.parseAckPaidConversationBizOriginReferral=j;g.parseAckPaidConversationBizOrigin=k;g.parseAckPaidConversationBizPricing=l;g.parseAckPaidConversationMixin=a}),98);
__d("WASmaxInMessagePublishAckRevokeMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"edit","7");return!b.success?b:d("WAResultOrError").makeResult({edit:b.value})}g.parseAckRevokeMixin=a}),98);
__d("WASmaxInMessagePublishServerFrankingTagMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){a=d("WASmaxParseUtils").flattenedChildWithTag(a,"franking");if(!a.success)return a;a=d("WASmaxParseUtils").flattenedChildWithTag(a.value,"reporting_tag");if(!a.success)return a;a=d("WASmaxParseUtils").contentBytesRange(a.value,9,128);return!a.success?a:d("WAResultOrError").makeResult({frankingReportingTagElementValue:a.value})}g.parseServerFrankingTagMixin=a}),98);
__d("WASmaxInMessagePublishAckMixin",["WAResultOrError","WASmaxInMessagePublishAckAdminEditMixin","WASmaxInMessagePublishAckAdminRevokeMixin","WASmaxInMessagePublishAckMessageEditMixin","WASmaxInMessagePublishAckMessagePinMixin","WASmaxInMessagePublishAckPaidConversationMixin","WASmaxInMessagePublishAckRevokeMixin","WASmaxInMessagePublishServerFrankingTagMixin","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"ack");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"class","message");if(!c.success)return c;b=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",b.value);if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"t",0,void 0);if(!b.success)return b;var e=d("WASmaxInMessagePublishAckMessageEditMixin").parseAckMessageEditMixin(a),f=d("WASmaxInMessagePublishAckAdminEditMixin").parseAckAdminEditMixin(a),g=d("WASmaxInMessagePublishAckMessagePinMixin").parseAckMessagePinMixin(a),h=d("WASmaxInMessagePublishAckAdminRevokeMixin").parseAckAdminRevokeMixin(a),i=d("WASmaxInMessagePublishAckRevokeMixin").parseAckRevokeMixin(a),j=d("WASmaxInMessagePublishAckPaidConversationMixin").parseAckPaidConversationMixin(a);a=d("WASmaxInMessagePublishServerFrankingTagMixin").parseServerFrankingTagMixin(a);return d("WAResultOrError").makeResult({"class":c.value,t:b.value,ackMessageEditMixin:e.success?e.value:null,ackAdminEditMixin:f.success?f.value:null,ackMessagePinMixin:g.success?g.value:null,ackAdminRevokeMixin:h.success?h.value:null,ackRevokeMixin:i.success?i.value:null,ackPaidConversationMixin:j.success?j.value:null,serverFrankingTagMixin:a.success?a.value:null})}g.parseAckMixin=a}),98);
__d("WASmaxInMessagePublishApplicationNegativeAckMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"application_error",0,void 0);return!b.success?b:d("WAResultOrError").makeResult({applicationError:b.value})}g.parseApplicationNegativeAckMixin=a}),98);
__d("WASmaxInMessagePublishMessageNackRetryAttributesMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"backoff",0,86400);return!b.success?b:d("WAResultOrError").makeResult({backoff:b.value})}g.parseMessageNackRetryAttributesMixin=a}),98);
__d("WASmaxInMessagePublishNegativeAckMixin",["WAResultOrError","WASmaxInMessagePublishAckMixin","WASmaxInMessagePublishApplicationNegativeAckMixin","WASmaxInMessagePublishMessageNackRetryAttributesMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"ack");if(!c.success)return c;c=d("WASmaxParseUtils").attrString(a,"error");if(!c.success)return c;b=d("WASmaxInMessagePublishAckMixin").parseAckMixin(a,b);if(!b.success)return b;var e=d("WASmaxInMessagePublishApplicationNegativeAckMixin").parseApplicationNegativeAckMixin(a);a=d("WASmaxInMessagePublishMessageNackRetryAttributesMixin").parseMessageNackRetryAttributesMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({error:c.value},b.value,{applicationNegativeAckMixin:e.success?e.value:null,messageNackRetryAttributesMixin:a.success?a.value:null}))}g.parseNegativeAckMixin=a}),98);
__d("WASmaxInMessagePublishIndividualResponseNegative",["WAResultOrError","WASmaxInMessagePublishNegativeAckMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"ack");if(!c.success)return c;c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"recipient");if(!c.success)return c;a=d("WASmaxInMessagePublishNegativeAckMixin").parseNegativeAckMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({recipient:c.value},a.value))}g.parseIndividualResponseNegative=a}),98);
__d("WASmaxInMessagePublishAckRcatMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").flattenedChildWithTag(a,"rcat");if(!b.success)return b;a=d("WASmaxParseUtils").contentBytes(b.value);return!a.success?a:d("WAResultOrError").makeResult({rcatElementValue:a.value})}g.parseAckRcatMixin=a}),98);
__d("WASmaxInMessagePublishDeviceListStaleMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"phash");return!b.success?b:d("WAResultOrError").makeResult({phash:b.value})}g.parseDeviceListStaleMixin=a}),98);
__d("WASmaxInMessagePublishRefreshLIDMixin",["WAResultOrError","WASmaxInMessagePublishEnums","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"ack");if(!b.success)return b;b=d("WASmaxParseUtils").attrStringEnum(a,"refresh_lid",d("WASmaxInMessagePublishEnums").ENUM_FALSE_TRUE);return!b.success?b:d("WAResultOrError").makeResult({refreshLid:b.value})}g.parseRefreshLIDMixin=a}),98);
__d("WASmaxInMessagePublishIndividualResponseSuccess",["WAResultOrError","WASmaxInMessagePublishAckMixin","WASmaxInMessagePublishAckRcatMixin","WASmaxInMessagePublishDeviceListStaleMixin","WASmaxInMessagePublishRefreshLIDMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"ack");if(!c.success)return c;c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"recipient");if(!c.success)return c;var e=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"participant");if(!e.success)return e;b=d("WASmaxInMessagePublishAckMixin").parseAckMixin(a,b);if(!b.success)return b;var f=d("WASmaxInMessagePublishDeviceListStaleMixin").parseDeviceListStaleMixin(a),g=d("WASmaxInMessagePublishRefreshLIDMixin").parseRefreshLIDMixin(a);a=d("WASmaxInMessagePublishAckRcatMixin").parseAckRcatMixin(a);return d("WAResultOrError").makeResult(babelHelpers["extends"]({recipient:c.value,participant:e.value},b.value,{deviceListStaleMixin:f.success?f.value:null,refreshLIDMixin:g.success?g.value:null,ackRcatMixin:a.success?a.value:null}))}g.parseIndividualResponseSuccess=a}),98);
__d("WASmaxOutMessagePublishAppdataMetaAttributeMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{appdata:"default"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeAppdataMetaAttributeMixin=a}),98);
__d("WASmaxOutMessagePublishAutomatedMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("automated",null));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeAutomatedMixin=a}),98);
__d("WASmaxOutMessagePublishAuthMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.authVerificationTimestamp;a=a.authEnableRiskCheck;b=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxJsx").smax("auth",{verification_timestamp:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,b),enable_risk_check:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)})));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeAuthMixin=a}),98);
__d("WASmaxOutMessagePublishBizAcceptTsMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.bizAcceptTs;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",{accept_ts:d("WAWap").INT(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBizAcceptTsMixin=a}),98);
__d("WASmaxOutMessagePublishBizAutoResponseMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.bizAutoResponse;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",{auto_response:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBizAutoResponseMixin=a}),98);
__d("WASmaxOutMessagePublishBizCampaignMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.bizCampaignId;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",{campaign_id:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBizCampaignMixin=a}),98);
__d("WASmaxOutMessagePublishBizEngagementDataMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.engagementConversationState;a=a.engagementCustomerServiceState;b=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxJsx").smax("engagement",{conversation_state:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b),customer_service_state:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)})));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBizEngagementDataMixin=a}),98);
__d("WASmaxOutMessagePublishBizMetadataMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c,e=a.metadataAppOwner,f=a.metadataCsidBm,g=a.metadataPaymentBm,h=a.metadataCustomerCategory;a=a.metadataDidBepRun;e=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxJsx").smax("metadata",{app_owner:(b=d("WASmaxAttrs")).OPTIONAL((c=d("WAWap")).CUSTOM_STRING,e),csid_bm:b.OPTIONAL(c.CUSTOM_STRING,f),payment_bm:b.OPTIONAL(c.CUSTOM_STRING,g),customer_category:b.OPTIONAL(c.CUSTOM_STRING,h),did_bep_run:b.OPTIONAL(c.CUSTOM_STRING,a)})));return e}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBizMetadataMixin=a}),98);
__d("WASmaxOutMessagePublishBizRolesMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.bizHostStorage,c=a.bizActualActors;a=a.bizPrivacyModeTs;b=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",{host_storage:d("WAWap").INT(b),actual_actors:d("WAWap").INT(c),privacy_mode_ts:d("WAWap").INT(a)}));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBizRolesMixin=a}),98);
__d("WASmaxOutMessagePublishButtonsMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxJsx").smax("buttons",null)));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeButtonsMixin=a}),98);
__d("WASmaxOutMessagePublishExtensionsMetadataMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.capabilityArgs;a=d("WASmaxJsx").smax("capabilities",null,d("WASmaxChildren").REPEATED_CHILD(i,a,1,50));return a}function i(a){a=a.capabilityName;a=d("WASmaxJsx").smax("capability",{name:d("WAWap").CUSTOM_STRING(a)});return a}function j(a){var b=a.capabilitiesArgs,c=a.extensionsMetadataWellVersion,e=a.extensionsMetadataDataApiVersion;a=a.extensionsMetadataFlowMessageVersion;c=d("WASmaxJsx").smax("native_flow",null,d("WASmaxJsx").smax("extensions_metadata",{well_version:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,c),data_api_version:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,e),flow_message_version:d("WAWap").INT(a)},d("WASmaxChildren").OPTIONAL_CHILD(h,b)));return c}function a(a,b){b=j(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeExtensionsMetadataExtensionsMetadataCapabilities=h;g.makeExtensionsMetadataExtensionsMetadataCapabilitiesCapability=i;g.mergeExtensionsMetadataMixin=a}),98);
__d("WASmaxOutMessagePublishMixedMetadataMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.paymentsMetadataVersion;a=d("WASmaxJsx").smax("native_flow",null,d("WASmaxJsx").smax("mixed_metadata",null,d("WASmaxJsx").smax("payments_metadata",{version:d("WAWap").INT(a)})));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMixedMetadataMixin=a}),98);
__d("WASmaxOutMessagePublishNativeFlowMessageTypeMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishExtensionsMetadataMixin","WASmaxOutMessagePublishMixedMetadataMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.nativeFlowName,c=a.nativeFlowV,e=a.extensionsMetadataMixinArgs;a=a.mixedMetadataMixinArgs;b=d("WASmaxJsx").smax("interactive",{type:"native_flow"},d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishMixedMetadataMixin").mergeMixedMetadataMixin,d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishExtensionsMetadataMixin").mergeExtensionsMetadataMixin,d("WASmaxJsx").smax("native_flow",{name:d("WAWap").CUSTOM_STRING(b),v:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,c)}),e),a));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNativeFlowMessageTypeMixin=a}),98);
__d("WASmaxOutMessagePublishInteractiveMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishNativeFlowMessageTypeMixin"],(function(a,b,c,d,e,f,g){function h(a){var b=a.hasInteractiveV1;a=a.nativeFlowMessageTypeMixinArgs;b=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxOutMessagePublishNativeFlowMessageTypeMixin").mergeNativeFlowMessageTypeMixin(d("WASmaxJsx").smax("interactive",{v:d("WASmaxAttrs").OPTIONAL_LITERAL("1",b)}),a)));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeInteractiveMixin=a}),98);
__d("WASmaxOutMessagePublishNativeFlowMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.bizNativeFlowName;a=a.bizNativeFlowVersion;b=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",{native_flow_name:d("WAWap").CUSTOM_STRING(b),native_flow_version:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,a)}));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNativeFlowMixin=a}),98);
__d("WASmaxOutMessagePublishButtonsOrNativeFlowOrInteractiveMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishButtonsMixin","WASmaxOutMessagePublishInteractiveMixin","WASmaxOutMessagePublishNativeFlowMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isButtons)return d("WASmaxOutMessagePublishButtonsMixin").mergeButtonsMixin(a);if(b.nativeFlow)return d("WASmaxOutMessagePublishNativeFlowMixin").mergeNativeFlowMixin(a,b.nativeFlow);if(b.interactive)return d("WASmaxOutMessagePublishInteractiveMixin").mergeInteractiveMixin(a,b.interactive);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeButtonsOrNativeFlowOrInteractiveMixinGroup=a}),98);
__d("WASmaxOutMessagePublishConversionRecipientStatusMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.conversionRecipientStatus;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("conversion",{recipient_status:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeConversionRecipientStatusMixin=a}),98);
__d("WASmaxOutMessagePublishClickToWhatsAppAttributionMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.ctwaAttributionElementValue;a=d("WASmaxJsx").smax("ctwa_attribution",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeClickToWhatsAppAttributionMixin=a}),98);
__d("WASmaxOutMessagePublishCtwaAttributionMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishClickToWhatsAppAttributionMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishClickToWhatsAppAttributionMixin").mergeClickToWhatsAppAttributionMixin(d("WASmaxJsx").smax("ctwa_attribution",null),a);return a}function i(a){a=a.ctwaAttributionArgs;a=d("WASmaxJsx").smax("message",null,d("WASmaxChildren").OPTIONAL_CHILD(h,a));return a}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeCtwaAttributionCtwaAttribution=h;g.mergeCtwaAttributionMixin=a}),98);
__d("WASmaxOutMessagePublishClickToWhatsAppTypeMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.sourceUrlElementValue;a=d("WASmaxJsx").smax("source_url",null,a);return a}function i(a){var b,c,e=a.sourceUrlArgs,f=a.ctwaConversionSource,g=a.ctwaConversionData,i=a.ctwaSourceType,j=a.ctwaEntryPointConversionSource,k=a.ctwaEntryPointConversionApp;a=a.ctwaSignals;f=d("WASmaxJsx").smax("ctwa",{conversion_source:(b=d("WASmaxAttrs")).OPTIONAL((c=d("WAWap")).CUSTOM_STRING,f),conversion_data:b.OPTIONAL(c.CUSTOM_STRING,g),source_type:b.OPTIONAL(c.CUSTOM_STRING,i),entry_point_conversion_source:b.OPTIONAL(c.CUSTOM_STRING,j),entry_point_conversion_app:b.OPTIONAL(c.CUSTOM_STRING,k),signals:b.OPTIONAL(c.CUSTOM_STRING,a)},d("WASmaxChildren").OPTIONAL_CHILD(h,e));return f}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeClickToWhatsAppTypeSourceUrl=h;g.mergeClickToWhatsAppTypeMixin=a}),98);
__d("WASmaxOutMessagePublishCtwaConversionMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishClickToWhatsAppTypeMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishClickToWhatsAppTypeMixin").mergeClickToWhatsAppTypeMixin(d("WASmaxJsx").smax("ctwa",null),a);return a}function i(a){a=a.ctwaArgs;a=d("WASmaxJsx").smax("message",null,d("WASmaxChildren").OPTIONAL_CHILD(h,a));return a}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeCtwaConversionCtwa=h;g.mergeCtwaConversionMixin=a}),98);
__d("WASmaxOutMessagePublishDeliveryContextMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c,e=a.deliveryContextHsmMaxBid,f=a.deliveryContextOptimizationGoal,g=a.deliveryContextTemplateId,h=a.deliveryContextCampaignId,i=a.deliveryContextSourceType,j=a.deliveryContextTierType,k=a.deliveryContextDeliveryType,l=a.deliveryContextClientToken,m=a.deliveryContextPrice,n=a.deliveryContextWabaId,o=a.deliveryContextQualityFlag,p=a.deliveryContextIsZeroRatedTemplate,q=a.deliveryContextPartnerId,r=a.deliveryContextAppId,s=a.deliveryContextVertical;a=a.deliveryContextBmMessageLimitStatus;e=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxJsx").smax("delivery_context",{hsm_max_bid:(b=d("WASmaxAttrs")).OPTIONAL((c=d("WAWap")).INT,e),optimization_goal:b.OPTIONAL(c.CUSTOM_STRING,f),template_id:b.OPTIONAL(c.CUSTOM_STRING,g),campaign_id:b.OPTIONAL(c.CUSTOM_STRING,h),source_type:b.OPTIONAL(c.CUSTOM_STRING,i),tier_type:b.OPTIONAL(c.CUSTOM_STRING,j),delivery_type:b.OPTIONAL(c.CUSTOM_STRING,k),client_token:b.OPTIONAL(c.CUSTOM_STRING,l),price:b.OPTIONAL(c.INT,m),waba_id:b.OPTIONAL(c.CUSTOM_STRING,n),quality_flag:b.OPTIONAL(c.CUSTOM_STRING,o),is_zero_rated_template:b.OPTIONAL(c.CUSTOM_STRING,p),partner_id:b.OPTIONAL(c.CUSTOM_STRING,q),app_id:b.OPTIONAL(c.CUSTOM_STRING,r),vertical:b.OPTIONAL(c.INT,s),bm_message_limit_status:b.OPTIONAL(c.CUSTOM_STRING,a)})));return e}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeDeliveryContextMixin=a}),98);
__d("WASmaxOutMessagePublishCapabilitiesMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.hasFeatureV1;a=d("WASmaxJsx").smax("feature",{name:"full_catalog",v:d("WASmaxAttrs").OPTIONAL_LITERAL("1",a)});return a}function i(a){a=a.featureArgs;a=d("WASmaxJsx").smax("hsm",null,d("WASmaxJsx").smax("capabilities",null,d("WASmaxChildren").OPTIONAL_CHILD(h,a)));return a}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeCapabilitiesCapabilitiesFeature=h;g.mergeCapabilitiesMixin=a}),98);
__d("WASmaxOutMessagePublishHSMReviewMetadataMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c,e=a.anyCategory,f=a.anyTag,g=a.anyId,h=a.anySubTag,i=a.anyLibraryTemplateId;a=a.anyIsTemplateFromLibraryEdited;e=d("WASmaxJsx").smax("smax$any",{category:(b=d("WASmaxAttrs")).OPTIONAL((c=d("WAWap")).CUSTOM_STRING,e),tag:b.OPTIONAL(c.CUSTOM_STRING,f),id:b.OPTIONAL(c.CUSTOM_STRING,g),sub_tag:b.OPTIONAL(c.CUSTOM_STRING,h),library_template_id:b.OPTIONAL(c.CUSTOM_STRING,i),is_template_from_library_edited:b.OPTIONAL(c.CUSTOM_STRING,a)});return e}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeHSMReviewMetadataMixin=a}),98);
__d("WASmaxOutMessagePublishQualityTokenMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){var b=a.hasQualityTokenV1;a=a.qualityTokenElementValue;b=d("WASmaxJsx").smax("hsm",null,d("WASmaxJsx").smax("quality_token",{v:d("WASmaxAttrs").OPTIONAL_LITERAL("1",b)},a));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeQualityTokenMixin=a}),98);
__d("WASmaxOutMessagePublishHsmMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishCapabilitiesMixin","WASmaxOutMessagePublishHSMReviewMetadataMixin","WASmaxOutMessagePublishQualityTokenMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.messageTtl,e=a.hasHsmV1,f=a.hasHsmButtons1,g=a.hsmObjective,h=a.hSMReviewMetadataMixinArgs,i=a.capabilitiesMixinArgs;a=a.qualityTokenMixinArgs;c=d("WASmaxJsx").smax("message",{ttl:(b=d("WASmaxAttrs")).OPTIONAL(d("WAWap").INT,c)},d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishQualityTokenMixin").mergeQualityTokenMixin,d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishCapabilitiesMixin").mergeCapabilitiesMixin,d("WASmaxOutMessagePublishHSMReviewMetadataMixin").mergeHSMReviewMetadataMixin(d("WASmaxJsx").smax("hsm",{v:b.OPTIONAL_LITERAL("1",e),buttons:b.OPTIONAL_LITERAL("1",f),objective:b.OPTIONAL(d("WAWap").CUSTOM_STRING,g)}),h),i),a));return c}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeHsmMixin=a}),98);
__d("WASmaxOutMessagePublishQualityControlMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.qualityControlSourceType;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxJsx").smax("quality_control",{source_type:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)})));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeQualityControlMixin=a}),98);
__d("WASmaxOutMessagePublishBizMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishAuthMixin","WASmaxOutMessagePublishBizAcceptTsMixin","WASmaxOutMessagePublishBizAutoResponseMixin","WASmaxOutMessagePublishBizCampaignMixin","WASmaxOutMessagePublishBizEngagementDataMixin","WASmaxOutMessagePublishBizMetadataMixin","WASmaxOutMessagePublishBizRolesMixin","WASmaxOutMessagePublishButtonsOrNativeFlowOrInteractiveMixinGroup","WASmaxOutMessagePublishConversionRecipientStatusMixin","WASmaxOutMessagePublishCtwaAttributionMixin","WASmaxOutMessagePublishCtwaConversionMixin","WASmaxOutMessagePublishDeliveryContextMixin","WASmaxOutMessagePublishHsmMixin","WASmaxOutMessagePublishQualityControlMixin"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.hsmMixinArgs,e=a.bizRolesMixinArgs,f=a.bizAutoResponseMixinArgs,g=a.bizAcceptTsMixinArgs,h=a.bizCampaignMixinArgs,i=a.deliveryContextMixinArgs,j=a.qualityControlMixinArgs,k=a.authMixinArgs,l=a.conversionRecipientStatusMixinArgs,m=a.ctwaConversionMixinArgs,n=a.bizMetadataMixinArgs,o=a.ctwaAttributionMixinArgs,p=a.bizEngagementDataMixinArgs;a=a.buttonsOrNativeFlowOrInteractiveMixinGroupArgs;b=(b=d("WASmaxMixins")).optionalMerge(d("WASmaxOutMessagePublishButtonsOrNativeFlowOrInteractiveMixinGroup").mergeButtonsOrNativeFlowOrInteractiveMixinGroup,b.optionalMerge(d("WASmaxOutMessagePublishBizEngagementDataMixin").mergeBizEngagementDataMixin,b.optionalMerge(d("WASmaxOutMessagePublishCtwaAttributionMixin").mergeCtwaAttributionMixin,b.optionalMerge(d("WASmaxOutMessagePublishBizMetadataMixin").mergeBizMetadataMixin,b.optionalMerge(d("WASmaxOutMessagePublishCtwaConversionMixin").mergeCtwaConversionMixin,b.optionalMerge(d("WASmaxOutMessagePublishConversionRecipientStatusMixin").mergeConversionRecipientStatusMixin,b.optionalMerge(d("WASmaxOutMessagePublishAuthMixin").mergeAuthMixin,b.optionalMerge(d("WASmaxOutMessagePublishQualityControlMixin").mergeQualityControlMixin,b.optionalMerge(d("WASmaxOutMessagePublishDeliveryContextMixin").mergeDeliveryContextMixin,b.optionalMerge(d("WASmaxOutMessagePublishBizCampaignMixin").mergeBizCampaignMixin,b.optionalMerge(d("WASmaxOutMessagePublishBizAcceptTsMixin").mergeBizAcceptTsMixin,b.optionalMerge(d("WASmaxOutMessagePublishBizAutoResponseMixin").mergeBizAutoResponseMixin,b.optionalMerge(d("WASmaxOutMessagePublishBizRolesMixin").mergeBizRolesMixin,b.optionalMerge(d("WASmaxOutMessagePublishHsmMixin").mergeHsmMixin,d("WASmaxJsx").smax("message",null),c),e),f),g),h),i),j),k),l),m),n),o),p),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBizMixin=a}),98);
__d("WASmaxOutMessagePublishClientFrankingTagMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.frankingTagElementValue;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("franking",null,d("WASmaxJsx").smax("franking_tag",null,a)));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeClientFrankingTagMixin=a}),98);
__d("WASmaxOutMessagePublishClientReportingTokenMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.reportingTokenV;a=a.reportingTokenElementValue;b=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("reporting",null,d("WASmaxJsx").smax("reporting_token",{v:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,b)},a)));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeClientReportingTokenMixin=a}),98);
__d("WASmaxOutMessagePublishDeviceIdentityMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.deviceIdentityElementValue;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("device-identity",null,a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeDeviceIdentityMixin=a}),98);
__d("WASmaxOutMessagePublishInternalTestMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.testConfig;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("test",{config:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeInternalTestMixin=a}),98);
__d("WASmaxOutMessagePublishLIDSessionDeprecationMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaDeprecatedLidSession;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{deprecated_lid_session:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeLIDSessionDeprecationMixin=a}),98);
__d("WASmaxOutMessagePublishMessageAssociationTypeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaMessageAssociationType;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{message_association_type:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMessageAssociationTypeMixin=a}),98);
__d("WASmaxOutMessagePublishMetaHideDecryptionPlaceholderMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("meta",{"decrypt-fail":"hide"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMetaHideDecryptionPlaceholderMixin=a}),98);
__d("WASmaxOutMessagePublishMulticastMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("multicast",null));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMulticastMixin=a}),98);
__d("WASmaxOutMessagePublishNoExtraFanoutMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{device_fanout:"false"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeNoExtraFanoutMixin=a}),98);
__d("WASmaxOutMessagePublishAnonPaddingMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.taPadElementValue;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("ta_pad",null,a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeAnonPaddingMixin=a}),98);
__d("WASmaxOutMessagePublishWireSizePaddingMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.paddingElementValue;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("padding",null,a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeWireSizePaddingMixin=a}),98);
__d("WASmaxOutMessagePublishPaddingMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishAnonPaddingMixin","WASmaxOutMessagePublishWireSizePaddingMixin"],(function(a,b,c,d,e,f,g){function h(a){var b=a.anonPaddingMixinArgs;a=a.wireSizePaddingMixinArgs;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishWireSizePaddingMixin").mergeWireSizePaddingMixin,d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishAnonPaddingMixin").mergeAnonPaddingMixin,d("WASmaxJsx").smax("message",null),b),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePaddingMixin=a}),98);
__d("WASmaxOutMessagePublishPreFilledNumberMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("url_number",null));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePreFilledNumberMixin=a}),98);
__d("WASmaxOutMessagePublishPreFilledTextMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("url_text",null));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePreFilledTextMixin=a}),98);
__d("WASmaxOutMessagePublishSenderIntentMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{sender_intent:"hosted"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeSenderIntentMixin=a}),98);
__d("WASmaxOutMessagePublishRequestIDMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.requestIdElementValue;a=d("WASmaxJsx").smax("trace",null,d("WASmaxJsx").smax("request_id",null,a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeRequestIDMixin=a}),98);
__d("WASmaxOutMessagePublishTraceIDMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.edgeIdElementValue;a=d("WASmaxJsx").smax("edge_id",null,a);return a}function i(a){var b=a.deviceArgs,c=a.correlationIdType;a=a.idElementValue;c=d("WASmaxJsx").smax("correlation_id",{type:d("WAWap").CUSTOM_STRING(c)},d("WASmaxJsx").smax("id",null,a),d("WASmaxChildren").OPTIONAL_CHILD(k,b));return c}function j(a){a=a.observabilityFlagsId;a=d("WASmaxJsx").smax("observability_flags",{id:d("WAWap").INT(a)});return a}function k(a){a=a.deviceId;a=d("WASmaxJsx").smax("device",{id:d("WAWap").INT(a)});return a}function l(a){var b=a.edgeIdArgs,c=a.correlationIdArgs,e=a.observabilityFlagsArgs;a=a.traceIdElementValue;a=d("WASmaxJsx").smax("trace",null,[d("WASmaxJsx").smax("trace_id",null,a),d("WASmaxChildren").OPTIONAL_CHILD(h,b)].concat(d("WASmaxChildren").REPEATED_CHILD(i,c,0,10),[d("WASmaxChildren").OPTIONAL_CHILD(j,e)]));return a}function a(a,b){b=l(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeTraceIDEdgeId=h;g.makeTraceIDCorrelationId=i;g.makeTraceIDObservabilityFlags=j;g.makeTraceIDCorrelationIdDevice=k;g.mergeTraceIDMixin=a}),98);
__d("WASmaxOutMessagePublishRequestOrTraceIDMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishRequestIDMixin","WASmaxOutMessagePublishTraceIDMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.requestID)return d("WASmaxOutMessagePublishRequestIDMixin").mergeRequestIDMixin(a,b.requestID);if(b.traceID)return d("WASmaxOutMessagePublishTraceIDMixin").mergeTraceIDMixin(a,b.traceID);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeRequestOrTraceIDMixinGroup=a}),98);
__d("WASmaxOutMessagePublishTraceContextMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishRequestOrTraceIDMixinGroup"],(function(a,b,c,d,e,f,g){function h(a){a=a.requestOrTraceIDMixinGroupArgs;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxOutMessagePublishRequestOrTraceIDMixinGroup").mergeRequestOrTraceIDMixinGroup(d("WASmaxJsx").smax("trace",null),a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeTraceContextMixin=a}),98);
__d("WASmaxOutMessagePublishVerifiedNameNameMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.messageVerifiedName;a=d("WASmaxJsx").smax("message",{verified_name:d("WAWap").CUSTOM_STRING(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeVerifiedNameNameMixin=a}),98);
__d("WASmaxOutMessagePublishWebDriverConfigMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaWebdriverConfig;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{webdriver_config:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeWebDriverConfigMixin=a}),98);
__d("WASmaxOutMessagePublishBaseMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishAutomatedMixin","WASmaxOutMessagePublishBizMixin","WASmaxOutMessagePublishClientFrankingTagMixin","WASmaxOutMessagePublishClientReportingTokenMixin","WASmaxOutMessagePublishDeviceIdentityMixin","WASmaxOutMessagePublishInternalTestMixin","WASmaxOutMessagePublishLIDSessionDeprecationMixin","WASmaxOutMessagePublishMessageAssociationTypeMixin","WASmaxOutMessagePublishMetaHideDecryptionPlaceholderMixin","WASmaxOutMessagePublishMulticastMixin","WASmaxOutMessagePublishNoExtraFanoutMixin","WASmaxOutMessagePublishPaddingMixin","WASmaxOutMessagePublishPreFilledNumberMixin","WASmaxOutMessagePublishPreFilledTextMixin","WASmaxOutMessagePublishSenderIntentMixin","WASmaxOutMessagePublishTraceContextMixin","WASmaxOutMessagePublishVerifiedNameNameMixin","WASmaxOutMessagePublishWebDriverConfigMixin"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.deviceIdentityMixinArgs,e=a.hasNoExtraFanout,f=a.hasMulticast,g=a.hasPreFilledText,h=a.hasPreFilledNumber,i=a.hasAutomated,j=a.bizMixinArgs,k=a.verifiedNameNameMixinArgs,l=a.clientFrankingTagMixinArgs,m=a.clientReportingTokenMixinArgs,n=a.internalTestMixinArgs,o=a.hasMetaHideDecryptionPlaceholder,p=a.traceContextMixinArgs,q=a.hasSenderIntent,r=a.lIDSessionDeprecationMixinArgs,s=a.paddingMixinArgs,t=a.webDriverConfigMixinArgs;a=a.messageAssociationTypeMixinArgs;b=(b=d("WASmaxMixins")).optionalMerge(d("WASmaxOutMessagePublishMessageAssociationTypeMixin").mergeMessageAssociationTypeMixin,b.optionalMerge(d("WASmaxOutMessagePublishWebDriverConfigMixin").mergeWebDriverConfigMixin,b.optionalMerge(d("WASmaxOutMessagePublishPaddingMixin").mergePaddingMixin,b.optionalMerge(d("WASmaxOutMessagePublishLIDSessionDeprecationMixin").mergeLIDSessionDeprecationMixin,b.optionalMerge(d("WASmaxOutMessagePublishSenderIntentMixin").mergeSenderIntentMixin,b.optionalMerge(d("WASmaxOutMessagePublishTraceContextMixin").mergeTraceContextMixin,b.optionalMerge(d("WASmaxOutMessagePublishMetaHideDecryptionPlaceholderMixin").mergeMetaHideDecryptionPlaceholderMixin,b.optionalMerge(d("WASmaxOutMessagePublishInternalTestMixin").mergeInternalTestMixin,b.optionalMerge(d("WASmaxOutMessagePublishClientReportingTokenMixin").mergeClientReportingTokenMixin,b.optionalMerge(d("WASmaxOutMessagePublishClientFrankingTagMixin").mergeClientFrankingTagMixin,b.optionalMerge(d("WASmaxOutMessagePublishVerifiedNameNameMixin").mergeVerifiedNameNameMixin,b.optionalMerge(d("WASmaxOutMessagePublishBizMixin").mergeBizMixin,b.optionalMerge(d("WASmaxOutMessagePublishAutomatedMixin").mergeAutomatedMixin,b.optionalMerge(d("WASmaxOutMessagePublishPreFilledNumberMixin").mergePreFilledNumberMixin,b.optionalMerge(d("WASmaxOutMessagePublishPreFilledTextMixin").mergePreFilledTextMixin,b.optionalMerge(d("WASmaxOutMessagePublishMulticastMixin").mergeMulticastMixin,b.optionalMerge(d("WASmaxOutMessagePublishNoExtraFanoutMixin").mergeNoExtraFanoutMixin,b.optionalMerge(d("WASmaxOutMessagePublishDeviceIdentityMixin").mergeDeviceIdentityMixin,d("WASmaxJsx").smax("message",null),c),e),f),g),h),i),j),k),l),m),n),o),p),q),r),s),t),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseMixin=a}),98);
__d("WASmaxOutMessagePublishGroupInviteTargetMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaGroupInvite;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{group_invite:d("WAWap").GROUP_JID(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeGroupInviteTargetMixin=a}),98);
__d("WASmaxOutMessagePublishBotFeedbackMessageTypeMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("bot",{type:"feedback"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotFeedbackMessageTypeMixin=a}),98);
__d("WASmaxOutMessagePublishEncRetryMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.encCount;a=d("WASmaxJsx").smax("enc",{count:d("WAWap").INT(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncRetryMixin=a}),98);
__d("WASmaxOutMessagePublishEncPayloadMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.encElementValue;a=d("WASmaxJsx").smax("enc",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncPayloadMixin=a}),98);
__d("WASmaxOutMessagePublishEncTypeIndividualMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishEncPayloadMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.encType;b=d("WASmaxOutMessagePublishEncPayloadMixin").mergeEncPayloadMixin(d("WASmaxJsx").smax("enc",{type:d("WAWap").CUSTOM_STRING(b)}),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncTypeIndividualMixin=a}),98);
__d("WASmaxOutMessagePublishEncVersion2Mixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("enc",{v:"2"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncVersion2Mixin=a}),98);
__d("WASmaxOutMessagePublishEncVersionFutureproofMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.encV;a=d("WASmaxJsx").smax("enc",{v:d("WAWap").INT(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncVersionFutureproofMixin=a}),98);
__d("WASmaxOutMessagePublishEncVersionBot",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishEncVersion2Mixin","WASmaxOutMessagePublishEncVersionFutureproofMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isEncVersion2)return d("WASmaxOutMessagePublishEncVersion2Mixin").mergeEncVersion2Mixin(a);if(b.encVersionFutureproof)return d("WASmaxOutMessagePublishEncVersionFutureproofMixin").mergeEncVersionFutureproofMixin(a,b.encVersionFutureproof);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeEncVersionBot=a}),98);
__d("WASmaxOutMessagePublishMediaTypeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.encMediatype;a=d("WASmaxJsx").smax("enc",{mediatype:d("WAWap").CUSTOM_STRING(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMediaTypeMixin=a}),98);
__d("WASmaxOutMessagePublishBotRequestMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishEncRetryMixin","WASmaxOutMessagePublishEncTypeIndividualMixin","WASmaxOutMessagePublishEncVersionBot","WASmaxOutMessagePublishMediaTypeMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.toJid,c=a.encRetryMixinArgs,e=a.encTypeIndividualMixinArgs,f=a.mediaTypeMixinArgs;a=a.encVersionBotArgs;b=d("WASmaxJsx").smax("to",{jid:d("WAWap").JID(b)},d("WASmaxOutMessagePublishEncVersionBot").mergeEncVersionBot(d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishMediaTypeMixin").mergeMediaTypeMixin,d("WASmaxOutMessagePublishEncTypeIndividualMixin").mergeEncTypeIndividualMixin(d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishEncRetryMixin").mergeEncRetryMixin,d("WASmaxJsx").smax("enc",null),c),e),f),a));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotRequestMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeMediaMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{type:"media"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypeMediaMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeTextMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{type:"text"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypeTextMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeTextOrMediaMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishContentTypeMediaMixin","WASmaxOutMessagePublishContentTypeTextMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isContentTypeText)return d("WASmaxOutMessagePublishContentTypeTextMixin").mergeContentTypeTextMixin(a);if(b.isContentTypeMedia)return d("WASmaxOutMessagePublishContentTypeMediaMixin").mergeContentTypeMediaMixin(a);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeContentTypeTextOrMediaMixinGroup=a}),98);
__d("WASmaxOutMessagePublishBotMetricsEntryPointMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaOrigin;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{origin:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotMetricsEntryPointMixin=a}),98);
__d("WASmaxOutMessagePublishBotLocalAutomatedTypeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.botLocalAutomatedType;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("bot",{local_automated_type:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotLocalAutomatedTypeMixin=a}),98);
__d("WASmaxOutMessagePublishBotMessageTypeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.botType;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("bot",{type:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotMessageTypeMixin=a}),98);
__d("WASmaxOutMessagePublishBotMetricsThreadEntryPointMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaThreadOrigin;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{thread_origin:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotMetricsThreadEntryPointMixin=a}),98);
__d("WASmaxOutMessagePublishBotPersonaTypeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.botPersonaType;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("bot",{persona_type:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotPersonaTypeMixin=a}),98);
__d("WASmaxOutMessagePublishBusinessBotMessageFeedbackRequestedMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.botFeedbackRequested;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("bot",{feedback_requested:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBusinessBotMessageFeedbackRequestedMixin=a}),98);
__d("WASmaxOutMessagePublishBusinessBotMessageMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.botBizBot;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("bot",{biz_bot:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBusinessBotMessageMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeEventMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaEventType;a=d("WASmaxJsx").smax("message",{type:"event"},d("WASmaxJsx").smax("meta",{event_type:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypeEventMixin=a}),98);
__d("WASmaxOutMessagePublishProductListMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxJsx").smax("list",{type:"product_list"})));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeProductListMixin=a}),98);
__d("WASmaxOutMessagePublishSingleSelectListMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.listV;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("biz",null,d("WASmaxJsx").smax("list",{type:"single_select",v:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)})));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeSingleSelectListMixin=a}),98);
__d("WASmaxOutMessagePublishSingleSelectOrProductListMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishProductListMixin","WASmaxOutMessagePublishSingleSelectListMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.singleSelectList)return d("WASmaxOutMessagePublishSingleSelectListMixin").mergeSingleSelectListMixin(a,b.singleSelectList);if(b.isProductList)return d("WASmaxOutMessagePublishProductListMixin").mergeProductListMixin(a);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeSingleSelectOrProductListMixinGroup=a}),98);
__d("WASmaxOutMessagePublishContentTypeListFanoutMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypeMediaMixin","WASmaxOutMessagePublishSingleSelectOrProductListMixinGroup"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("to",null,d("WASmaxJsx").smax("enc",{mediatype:"list"}));return a}function i(a){var b=a.toCount;a=a.singleSelectOrProductListMixinGroupArgs;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishSingleSelectOrProductListMixinGroup").mergeSingleSelectOrProductListMixinGroup,d("WASmaxOutMessagePublishContentTypeMediaMixin").mergeContentTypeMediaMixin(d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("participants",null,d("WASmaxChildren").HOMOGENEOUS_CHILD_COUNT(h,b)))),a);return b}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeContentTypeListFanoutParticipantsTo=h;g.mergeContentTypeListFanoutMixin=a}),98);
__d("WASmaxOutMessagePublishLiveLocationModeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaLivelocMode;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{liveloc_mode:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeLiveLocationModeMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeLiveLocationFanoutMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypeMediaMixin","WASmaxOutMessagePublishLiveLocationModeMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.encDuration;a=d("WASmaxJsx").smax("to",null,d("WASmaxJsx").smax("enc",{mediatype:"livelocation",duration:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,a)}));return a}function i(a){var b=a.toArgs;a=a.liveLocationModeMixinArgs;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishLiveLocationModeMixin").mergeLiveLocationModeMixin,d("WASmaxOutMessagePublishContentTypeMediaMixin").mergeContentTypeMediaMixin(d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("participants",null,d("WASmaxChildren").HOMOGENEOUS_CHILD(h,b)))),a);return b}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeContentTypeLiveLocationFanoutParticipantsTo=h;g.mergeContentTypeLiveLocationFanoutMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeMedianotifyMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{type:"medianotify"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypeMedianotifyMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeMediaOrMedianotifyMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishContentTypeMediaMixin","WASmaxOutMessagePublishContentTypeMedianotifyMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isContentTypeMedia)return d("WASmaxOutMessagePublishContentTypeMediaMixin").mergeContentTypeMediaMixin(a);if(b.isContentTypeMedianotify)return d("WASmaxOutMessagePublishContentTypeMedianotifyMixin").mergeContentTypeMedianotifyMixin(a);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeContentTypeMediaOrMedianotifyMixinGroup=a}),98);
__d("WASmaxOutMessagePublishSenderContentBindingMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.senderContentBindingElementValue;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("sender_content_binding",null,a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeSenderContentBindingMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeMediaFanoutDeprecatedMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypeMediaOrMedianotifyMixinGroup","WASmaxOutMessagePublishSenderContentBindingMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.encMediatype,c=a.hasEncStickerTypeAvatar;a=a.encNativeFlowName;b=d("WASmaxJsx").smax("to",null,d("WASmaxJsx").smax("enc",{mediatype:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b),sticker_type:d("WASmaxAttrs").OPTIONAL_LITERAL("avatar",c),native_flow_name:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)}));return b}function i(a){var b=a.toArgs,c=a.senderContentBindingMixinArgs;a=a.contentTypeMediaOrMedianotifyMixinGroupArgs;b=d("WASmaxOutMessagePublishContentTypeMediaOrMedianotifyMixinGroup").mergeContentTypeMediaOrMedianotifyMixinGroup(d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishSenderContentBindingMixin").mergeSenderContentBindingMixin,d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("participants",null,d("WASmaxChildren").HOMOGENEOUS_CHILD(h,b))),c),a);return b}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeContentTypeMediaFanoutDeprecatedParticipantsTo=h;g.mergeContentTypeMediaFanoutDeprecatedMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeMediaFanoutMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypeMediaOrMedianotifyMixinGroup","WASmaxOutMessagePublishSenderContentBindingMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.encMediatype,c=a.hasEncStickerTypeAvatar;a=a.encNativeFlowName;b=d("WASmaxJsx").smax("to",null,d("WASmaxJsx").smax("enc",{mediatype:d("WAWap").CUSTOM_STRING(b),sticker_type:d("WASmaxAttrs").OPTIONAL_LITERAL("avatar",c),native_flow_name:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)}));return b}function i(a){var b=a.toArgs,c=a.senderContentBindingMixinArgs;a=a.contentTypeMediaOrMedianotifyMixinGroupArgs;b=d("WASmaxOutMessagePublishContentTypeMediaOrMedianotifyMixinGroup").mergeContentTypeMediaOrMedianotifyMixinGroup(d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishSenderContentBindingMixin").mergeSenderContentBindingMixin,d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("participants",null,d("WASmaxChildren").HOMOGENEOUS_CHILD(h,b))),c),a);return b}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeContentTypeMediaFanoutParticipantsTo=h;g.mergeContentTypeMediaFanoutMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypePollCreationMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaContenttype;a=d("WASmaxJsx").smax("message",{type:"poll"},d("WASmaxJsx").smax("meta",{polltype:"creation",contenttype:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypePollCreationMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypePollResultSnapshotMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{type:"poll"},d("WASmaxJsx").smax("meta",{polltype:"result_snapshot"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypePollResultSnapshotMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypePollVoteMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaContenttype;a=d("WASmaxJsx").smax("message",{type:"poll"},d("WASmaxJsx").smax("meta",{polltype:"vote",contenttype:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypePollVoteMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeReactionMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{type:"reaction"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypeReactionMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypePayMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{type:"pay"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypePayMixin=a}),98);
__d("WASmaxOutMessagePublishPayNodeTypeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.payType;a=d("WASmaxJsx").smax("pay",{type:d("WAWap").CUSTOM_STRING(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePayNodeTypeMixin=a}),98);
__d("WASmaxOutMessagePublishBasePayNodeMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishPayNodeTypeMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.payCountry,c=a.payVersion,e=a.payIsFirstSend;b=d("WASmaxOutMessagePublishPayNodeTypeMixin").mergePayNodeTypeMixin(d("WASmaxJsx").smax("pay",{country:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b),version:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,c),is_first_send:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,e)}),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBasePayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishLegacyAmountMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.payCurrency;a=a.payAmount;b=d("WASmaxJsx").smax("pay",{currency:d("WAWap").CUSTOM_STRING(b),amount:d("WAWap").CUSTOM_STRING(a)});return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeLegacyAmountMixin=a}),98);
__d("WASmaxOutMessagePublishMoneyMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.moneyValue,c=a.moneyOffset;a=a.moneyCurrency;b=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("money",{value:d("WAWap").CUSTOM_STRING(b),offset:d("WAWap").CUSTOM_STRING(c),currency:d("WAWap").CUSTOM_STRING(a)}));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMoneyMixin=a}),98);
__d("WASmaxOutMessagePublishBaseIndividualPublishSendPayNodeMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBasePayNodeMixin","WASmaxOutMessagePublishLegacyAmountMixin","WASmaxOutMessagePublishMoneyMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishMoneyMixin").mergeMoneyMixin(d("WASmaxJsx").smax("amount",null),a);return a}function i(a){var b=a.amountArgs,c=a.payCredentialId,e=a.payDeviceId,f=a.payRequestId,g=a.legacyAmountMixinArgs;c=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishLegacyAmountMixin").mergeLegacyAmountMixin,d("WASmaxOutMessagePublishBasePayNodeMixin").mergeBasePayNodeMixin(d("WASmaxJsx").smax("pay",{"credential-id":d("WAWap").CUSTOM_STRING(c),"device-id":d("WAWap").CUSTOM_STRING(e),"request-id":d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,f)},d("WASmaxChildren").OPTIONAL_CHILD(h,b)),a),g);return c}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeBaseIndividualPublishSendPayNodeAmount=h;g.mergeBaseIndividualPublishSendPayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishInstallmentMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishMoneyMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishMoneyMixin").mergeMoneyMixin(d("WASmaxJsx").smax("due_amount",null),a);return a}function i(a){a=d("WASmaxOutMessagePublishMoneyMixin").mergeMoneyMixin(d("WASmaxJsx").smax("interest",null),a);return a}function j(a){var b=a.dueAmountArgs,c=a.interestArgs,e=a.installmentMaxCount;a=a.installmentSelectedCount;e=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("installment",{max_count:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,e),selected_count:d("WAWap").INT(a)},d("WASmaxChildren").OPTIONAL_CHILD(h,b),d("WASmaxChildren").OPTIONAL_CHILD(i,c)));return e}function a(a,b){b=j(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeInstallmentInstallmentDueAmount=h;g.makeInstallmentInstallmentInterest=i;g.mergeInstallmentMixin=a}),98);
__d("WASmaxOutMessagePublishBeneficiaryMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.beneficiaryName,e=a.beneficiaryAddressLine1,f=a.beneficiaryAddressLine2,g=a.beneficiaryCity,h=a.beneficiaryState,i=a.beneficiaryPhoneNumber,j=a.beneficiaryCountry;a=a.beneficiaryPostalCode;e=d("WASmaxJsx").smax("beneficiary",{name:(b=d("WAWap")).CUSTOM_STRING(c),address_line1:b.CUSTOM_STRING(e),address_line2:(c=d("WASmaxAttrs")).OPTIONAL(b.CUSTOM_STRING,f),city:c.OPTIONAL(b.CUSTOM_STRING,g),state:c.OPTIONAL(b.CUSTOM_STRING,h),phone_number:c.OPTIONAL(b.CUSTOM_STRING,i),country:b.CUSTOM_STRING(j),postal_code:b.CUSTOM_STRING(a)});return e}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBeneficiaryMixin=a}),98);
__d("WASmaxOutMessagePublishBeneficiariesMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBeneficiaryMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishBeneficiaryMixin").mergeBeneficiaryMixin(d("WASmaxJsx").smax("beneficiary",null),a);return a}function i(a){a=a.beneficiaryArgs;a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxChildren").REPEATED_CHILD(h,a,1,5));return a}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeBeneficiariesBeneficiary=h;g.mergeBeneficiariesMixin=a}),98);
__d("WASmaxOutMessagePublishOrderInPaymentMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBeneficiariesMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishBeneficiariesMixin").mergeBeneficiariesMixin(d("WASmaxJsx").smax("beneficiaries",null),a);return a}function i(a){var b,c=a.beneficiariesArgs,e=a.orderId,f=a.orderMessageId,g=a.orderPaymentConfigId;a=a.orderType;e=d("WASmaxJsx").smax("smax$any",null,d("WASmaxJsx").smax("order",{id:(b=d("WAWap")).CUSTOM_STRING(e),message_id:d("WASmaxAttrs").OPTIONAL(b.STANZA_ID,f),payment_config_id:d("WASmaxAttrs").OPTIONAL(b.CUSTOM_STRING,g),type:d("WASmaxAttrs").OPTIONAL(b.CUSTOM_STRING,a)},d("WASmaxChildren").OPTIONAL_CHILD(h,c)));return e}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeOrderInPaymentOrderBeneficiaries=h;g.mergeOrderInPaymentMixin=a}),98);
__d("WASmaxOutMessagePublishPaymentInitiatorMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyPaymentInitiator;a=d("WASmaxJsx").smax("smax$any",{payment_initiator:d("WAWap").CUSTOM_STRING(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePaymentInitiatorMixin=a}),98);
__d("WASmaxOutMessagePublishBRPublishSendPayNodeP2MMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishInstallmentMixin","WASmaxOutMessagePublishOrderInPaymentMixin","WASmaxOutMessagePublishPaymentInitiatorMixin"],(function(a,b,c,d,e,f,g){function h(a){var b=a.orderInPaymentMixinArgs,c=a.paymentInitiatorMixinArgs;a=a.installmentMixinArgs;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishInstallmentMixin").mergeInstallmentMixin,d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishPaymentInitiatorMixin").mergePaymentInitiatorMixin,d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishOrderInPaymentMixin").mergeOrderInPaymentMixin,d("WASmaxJsx").smax("pay",{"transaction-type":"p2m"}),b),c),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBRPublishSendPayNodeP2MMixin=a}),98);
__d("WASmaxOutMessagePublishBRPublishSendPayNodeP2PMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("pay",{"transaction-type":"p2p"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBRPublishSendPayNodeP2PMixin=a}),98);
__d("WASmaxOutMessagePublishBRPublishSendPayNodeP2POrMMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishBRPublishSendPayNodeP2MMixin","WASmaxOutMessagePublishBRPublishSendPayNodeP2PMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isBRPublishSendPayNodeP2P)return d("WASmaxOutMessagePublishBRPublishSendPayNodeP2PMixin").mergeBRPublishSendPayNodeP2PMixin(a);if(b.bRPublishSendPayNodeP2M)return d("WASmaxOutMessagePublishBRPublishSendPayNodeP2MMixin").mergeBRPublishSendPayNodeP2MMixin(a,b.bRPublishSendPayNodeP2M);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeBRPublishSendPayNodeP2POrMMixinGroup=a}),98);
__d("WASmaxOutMessagePublishBRSendPayEloNodeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.eloDeviceSignature,e=a.eloWalletSignature,f=a.eloChallengeId;a=a.eloCardholderVerificationMethod;c=d("WASmaxJsx").smax("pay",null,d("WASmaxJsx").smax("elo",{device_signature:(b=d("WAWap")).CUSTOM_STRING(c),wallet_signature:b.CUSTOM_STRING(e),challenge_id:b.CUSTOM_STRING(f),cardholder_verification_method:b.CUSTOM_STRING(a)}));return c}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBRSendPayEloNodeMixin=a}),98);
__d("WASmaxOutMessagePublishBRPublishSendPayNodeMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBRPublishSendPayNodeP2POrMMixinGroup","WASmaxOutMessagePublishBRSendPayEloNodeMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.payId,e=a.payPaymentRails,f=a.payTrustedDeviceInfo,g=a.payNonce,h=a.bRSendPayEloNodeMixinArgs;a=a.bRPublishSendPayNodeP2POrMMixinGroupArgs;c=d("WASmaxOutMessagePublishBRPublishSendPayNodeP2POrMMixinGroup").mergeBRPublishSendPayNodeP2POrMMixinGroup(d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishBRSendPayEloNodeMixin").mergeBRSendPayEloNodeMixin,d("WASmaxJsx").smax("pay",{id:(b=d("WAWap")).CUSTOM_STRING(c),"payment-rails":b.CUSTOM_STRING(e),"trusted-device-info":b.CUSTOM_STRING(f),nonce:b.CUSTOM_STRING(g)}),h),a);return c}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBRPublishSendPayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishOrderMessageMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.orderOrderId,e=a.orderOrderMessageId,f=a.orderExpiryTs,g=a.orderOrderType;a=a.orderDiscountProgramName;e=d("WASmaxJsx").smax("order",{"order-id":(b=d("WAWap")).CUSTOM_STRING(c),"order-message-id":(c=d("WASmaxAttrs")).OPTIONAL(b.CUSTOM_STRING,e),"expiry-ts":c.OPTIONAL(b.INT,f),"order-type":c.OPTIONAL(b.CUSTOM_STRING,g),"discount-program-name":c.OPTIONAL(b.CUSTOM_STRING,a)});return e}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeOrderMessageMixin=a}),98);
__d("WASmaxOutMessagePublishUPIPublishSendPayNodeP2MMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishOrderMessageMixin","WASmaxOutMessagePublishPaymentInitiatorMixin"],(function(a,b,c,d,e,f,g){function h(a){a=a.orderArgs;a=d("WASmaxJsx").smax("upi",null,d("WASmaxChildren").OPTIONAL_CHILD(i,a));return a}function i(a){a=d("WASmaxOutMessagePublishOrderMessageMixin").mergeOrderMessageMixin(d("WASmaxJsx").smax("order",null),a);return a}function j(a){var b=a.upiArgs;a=a.paymentInitiatorMixinArgs;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishPaymentInitiatorMixin").mergePaymentInitiatorMixin,d("WASmaxJsx").smax("pay",{"transaction-type":"p2m"},d("WASmaxChildren").OPTIONAL_CHILD(h,b)),a);return b}function a(a,b){b=j(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeUPIPublishSendPayNodeP2MUpi=h;g.makeUPIPublishSendPayNodeP2MUpiOrder=i;g.mergeUPIPublishSendPayNodeP2MMixin=a}),98);
__d("WASmaxOutMessagePublishUPIPublishSendPayNodeP2PMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.hasPayTransactionTypeP2P;a=d("WASmaxJsx").smax("pay",{"transaction-type":d("WASmaxAttrs").OPTIONAL_LITERAL("p2p",a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeUPIPublishSendPayNodeP2PMixin=a}),98);
__d("WASmaxOutMessagePublishUPIPublishSendPayNodeP2POrMMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishUPIPublishSendPayNodeP2MMixin","WASmaxOutMessagePublishUPIPublishSendPayNodeP2PMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.uPIPublishSendPayNodeP2P)return d("WASmaxOutMessagePublishUPIPublishSendPayNodeP2PMixin").mergeUPIPublishSendPayNodeP2PMixin(a,b.uPIPublishSendPayNodeP2P);if(b.uPIPublishSendPayNodeP2M)return d("WASmaxOutMessagePublishUPIPublishSendPayNodeP2MMixin").mergeUPIPublishSendPayNodeP2MMixin(a,b.uPIPublishSendPayNodeP2M);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeUPIPublishSendPayNodeP2POrMMixinGroup=a}),98);
__d("WASmaxOutMessagePublishUPIPublishSendPayNodeMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishUPIPublishSendPayNodeP2POrMMixinGroup","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.upiToken;a=d("WASmaxJsx").smax("upi",{token:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)});return a}function i(a){var b,c,e=a.upiArgs,f=a.payId,g=a.payMpin,i=a.payReceiverVpa,j=a.payReceiverVpaId,k=a.paySenderVpa,l=a.paySenderVpaId,m=a.paySeqNo,n=a.payUpiBankInfo,o=a.payMode,p=a.payPurposeCode,q=a.payMcc,r=a.payRefId,s=a.payDeviceSsid,t=a.payNote;a=a.uPIPublishSendPayNodeP2POrMMixinGroupArgs;f=d("WASmaxOutMessagePublishUPIPublishSendPayNodeP2POrMMixinGroup").mergeUPIPublishSendPayNodeP2POrMMixinGroup(d("WASmaxJsx").smax("pay",{id:(b=d("WASmaxAttrs")).OPTIONAL((c=d("WAWap")).CUSTOM_STRING,f),mpin:b.OPTIONAL(c.CUSTOM_STRING,g),"receiver-vpa":c.CUSTOM_STRING(i),"receiver-vpa-id":b.OPTIONAL(c.CUSTOM_STRING,j),"sender-vpa":c.CUSTOM_STRING(k),"sender-vpa-id":b.OPTIONAL(c.CUSTOM_STRING,l),"seq-no":c.CUSTOM_STRING(m),"upi-bank-info":c.CUSTOM_STRING(n),mode:b.OPTIONAL(c.CUSTOM_STRING,o),"purpose-code":b.OPTIONAL(c.CUSTOM_STRING,p),mcc:b.OPTIONAL(c.CUSTOM_STRING,q),"ref-id":b.OPTIONAL(c.CUSTOM_STRING,r),device_ssid:b.OPTIONAL(c.CUSTOM_STRING,s),note:b.OPTIONAL(c.CUSTOM_STRING,t)},d("WASmaxChildren").OPTIONAL_CHILD(h,e)),a);return f}function a(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeUPIPublishSendPayNodeUpi=h;g.mergeUPIPublishSendPayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishBRPublishOrUPIPublishSendPayNodeMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishBRPublishSendPayNodeMixin","WASmaxOutMessagePublishUPIPublishSendPayNodeMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.bRPublishSendPayNode)return d("WASmaxOutMessagePublishBRPublishSendPayNodeMixin").mergeBRPublishSendPayNodeMixin(a,b.bRPublishSendPayNode);if(b.uPIPublishSendPayNode)return d("WASmaxOutMessagePublishUPIPublishSendPayNodeMixin").mergeUPIPublishSendPayNodeMixin(a,b.uPIPublishSendPayNode);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeBRPublishOrUPIPublishSendPayNodeMixinGroup=a}),98);
__d("WASmaxOutMessagePublishIntegrationPublishPayNodeMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBRPublishOrUPIPublishSendPayNodeMixinGroup"],(function(a,b,c,d,e,f,g){function h(a){a=a.bRPublishOrUPIPublishSendPayNodeMixinGroupArgs;a=d("WASmaxOutMessagePublishBRPublishOrUPIPublishSendPayNodeMixinGroup").mergeBRPublishOrUPIPublishSendPayNodeMixinGroup(d("WASmaxJsx").smax("pay",null),a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIntegrationPublishPayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualNonNoviPublishSendPayNodeMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBaseIndividualPublishSendPayNodeMixin","WASmaxOutMessagePublishIntegrationPublishPayNodeMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishIntegrationPublishPayNodeMixin").mergeIntegrationPublishPayNodeMixin(d("WASmaxOutMessagePublishBaseIndividualPublishSendPayNodeMixin").mergeBaseIndividualPublishSendPayNodeMixin(d("WASmaxJsx").smax("pay",null),a),a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualNonNoviPublishSendPayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualPublishSendPayNodeMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishIndividualNonNoviPublishSendPayNodeMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishIndividualNonNoviPublishSendPayNodeMixin").mergeIndividualNonNoviPublishSendPayNodeMixin(d("WASmaxJsx").smax("pay",null),a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualPublishSendPayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualRequestPayNodeMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBasePayNodeMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.paySender,c=a.payExpiryTs,e=a.payRequestId;b=d("WASmaxOutMessagePublishBasePayNodeMixin").mergeBasePayNodeMixin(d("WASmaxJsx").smax("pay",{sender:d("WASmaxAttrs").OPTIONAL(d("WAWap").USER_JID,b),"expiry-ts":d("WAWap").CUSTOM_STRING(c),"request-id":d("WAWap").CUSTOM_STRING(e)}),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualRequestPayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishPayInviteNodeMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.payService;a=d("WASmaxJsx").smax("pay",{type:"invite",service:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePayInviteNodeMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualPublishSendPayOrIndividualRequestPayOrPayInviteNodeMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishIndividualPublishSendPayNodeMixin","WASmaxOutMessagePublishIndividualRequestPayNodeMixin","WASmaxOutMessagePublishPayInviteNodeMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.individualPublishSendPayNode)return d("WASmaxOutMessagePublishIndividualPublishSendPayNodeMixin").mergeIndividualPublishSendPayNodeMixin(a,b.individualPublishSendPayNode);if(b.individualRequestPayNode)return d("WASmaxOutMessagePublishIndividualRequestPayNodeMixin").mergeIndividualRequestPayNodeMixin(a,b.individualRequestPayNode);if(b.payInviteNode)return d("WASmaxOutMessagePublishPayInviteNodeMixin").mergePayInviteNodeMixin(a,b.payInviteNode);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeIndividualPublishSendPayOrIndividualRequestPayOrPayInviteNodeMixinGroup=a}),98);
__d("WASmaxOutMessagePublishIndividualPublishPayNodeMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishIndividualPublishSendPayOrIndividualRequestPayOrPayInviteNodeMixinGroup"],(function(a,b,c,d,e,f,g){function h(a){a=a.individualPublishSendPayOrIndividualRequestPayOrPayInviteNodeMixinGroupArgs;a=d("WASmaxOutMessagePublishIndividualPublishSendPayOrIndividualRequestPayOrPayInviteNodeMixinGroup").mergeIndividualPublishSendPayOrIndividualRequestPayOrPayInviteNodeMixinGroup(d("WASmaxJsx").smax("pay",null),a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualPublishPayNodeMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualIndividualPublishPayNodeMessageMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishIndividualPublishPayNodeMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxJsx").smax("message",null,d("WASmaxOutMessagePublishIndividualPublishPayNodeMixin").mergeIndividualPublishPayNodeMixin(d("WASmaxJsx").smax("pay",null),a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualIndividualPublishPayNodeMessageMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualContentTypePayIndividualMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypePayMixin","WASmaxOutMessagePublishIndividualIndividualPublishPayNodeMessageMixin"],(function(a,b,c,d,e,f,g){function h(a){a=a.individualIndividualPublishPayNodeMessageMixinArgs;a=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishIndividualIndividualPublishPayNodeMessageMixin").mergeIndividualIndividualPublishPayNodeMessageMixin,d("WASmaxOutMessagePublishContentTypePayMixin").mergeContentTypePayMixin(d("WASmaxJsx").smax("message",null)),a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualContentTypePayIndividualMixin=a}),98);
__d("WASmaxOutMessagePublishContentFanoutMixins",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishContentTypeEventMixin","WASmaxOutMessagePublishContentTypeListFanoutMixin","WASmaxOutMessagePublishContentTypeLiveLocationFanoutMixin","WASmaxOutMessagePublishContentTypeMediaFanoutDeprecatedMixin","WASmaxOutMessagePublishContentTypeMediaFanoutMixin","WASmaxOutMessagePublishContentTypeMedianotifyMixin","WASmaxOutMessagePublishContentTypePollCreationMixin","WASmaxOutMessagePublishContentTypePollResultSnapshotMixin","WASmaxOutMessagePublishContentTypePollVoteMixin","WASmaxOutMessagePublishContentTypeReactionMixin","WASmaxOutMessagePublishContentTypeTextMixin","WASmaxOutMessagePublishIndividualContentTypePayIndividualMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isContentTypeText)return d("WASmaxOutMessagePublishContentTypeTextMixin").mergeContentTypeTextMixin(a);if(b.contentTypeMediaFanout)return d("WASmaxOutMessagePublishContentTypeMediaFanoutMixin").mergeContentTypeMediaFanoutMixin(a,b.contentTypeMediaFanout);if(b.contentTypeMediaFanoutDeprecated)return d("WASmaxOutMessagePublishContentTypeMediaFanoutDeprecatedMixin").mergeContentTypeMediaFanoutDeprecatedMixin(a,b.contentTypeMediaFanoutDeprecated);if(b.contentTypeLiveLocationFanout)return d("WASmaxOutMessagePublishContentTypeLiveLocationFanoutMixin").mergeContentTypeLiveLocationFanoutMixin(a,b.contentTypeLiveLocationFanout);if(b.individualContentTypePayIndividual)return d("WASmaxOutMessagePublishIndividualContentTypePayIndividualMixin").mergeIndividualContentTypePayIndividualMixin(a,b.individualContentTypePayIndividual);if(b.contentTypeListFanout)return d("WASmaxOutMessagePublishContentTypeListFanoutMixin").mergeContentTypeListFanoutMixin(a,b.contentTypeListFanout);if(b.isContentTypeReaction)return d("WASmaxOutMessagePublishContentTypeReactionMixin").mergeContentTypeReactionMixin(a);if(b.contentTypePollCreation)return d("WASmaxOutMessagePublishContentTypePollCreationMixin").mergeContentTypePollCreationMixin(a,b.contentTypePollCreation);if(b.contentTypePollVote)return d("WASmaxOutMessagePublishContentTypePollVoteMixin").mergeContentTypePollVoteMixin(a,b.contentTypePollVote);if(b.isContentTypePollResultSnapshot)return d("WASmaxOutMessagePublishContentTypePollResultSnapshotMixin").mergeContentTypePollResultSnapshotMixin(a);if(b.isContentTypeMedianotify)return d("WASmaxOutMessagePublishContentTypeMedianotifyMixin").mergeContentTypeMedianotifyMixin(a);if(b.contentTypeEvent)return d("WASmaxOutMessagePublishContentTypeEventMixin").mergeContentTypeEventMixin(a,b.contentTypeEvent);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeContentFanoutMixins=a}),98);
__d("WASmaxOutMessagePublishLidChatOriginMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{origin:"ctwa"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeLidChatOriginMixin=a}),98);
__d("WASmaxOutMessagePublishMsgMetaOriginMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaOrigin;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{origin:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMsgMetaOriginMixin=a}),98);
__d("WASmaxOutMessagePublishTDeprecatedMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.messageT;a=d("WASmaxJsx").smax("message",{t:d("WAWap").INT(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeTDeprecatedMixin=a}),98);
__d("WASmaxOutMessagePublishToContentBindingMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.toJid;a=a.contentBindingElementValue;b=d("WASmaxJsx").smax("to",{jid:d("WAWap").DEVICE_JID(b)},d("WASmaxJsx").smax("content_binding",null,a));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeToContentBindingMixin=a}),98);
__d("WASmaxOutMessagePublishAvatarStickerTypeMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("enc",{sticker_type:"avatar"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeAvatarStickerTypeMixin=a}),98);
__d("WASmaxOutMessagePublishEncMediaTypeDeprecatedMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishAvatarStickerTypeMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.encMediatype,c=a.encNativeFlowName;a=a.hasAvatarStickerType;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishAvatarStickerTypeMixin").mergeAvatarStickerTypeMixin,d("WASmaxJsx").smax("enc",{mediatype:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b),native_flow_name:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,c)}),a);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncMediaTypeDeprecatedMixin=a}),98);
__d("WASmaxOutMessagePublishEncVersion3Mixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("enc",{v:"3"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncVersion3Mixin=a}),98);
__d("WASmaxOutMessagePublishEncVersion",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishEncVersion2Mixin","WASmaxOutMessagePublishEncVersion3Mixin","WASmaxOutMessagePublishEncVersionFutureproofMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isEncVersion2)return d("WASmaxOutMessagePublishEncVersion2Mixin").mergeEncVersion2Mixin(a);if(b.isEncVersion3)return d("WASmaxOutMessagePublishEncVersion3Mixin").mergeEncVersion3Mixin(a);if(b.encVersionFutureproof)return d("WASmaxOutMessagePublishEncVersionFutureproofMixin").mergeEncVersionFutureproofMixin(a,b.encVersionFutureproof);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeEncVersion=a}),98);
__d("WASmaxOutMessagePublishToDeviceMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishEncMediaTypeDeprecatedMixin","WASmaxOutMessagePublishEncTypeIndividualMixin","WASmaxOutMessagePublishEncVersion","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.toJid,c=a.encTypeIndividualMixinArgs,e=a.encMediaTypeDeprecatedMixinArgs;a=a.encVersionArgs;b=d("WASmaxJsx").smax("to",{jid:d("WAWap").JID(b)},d("WASmaxOutMessagePublishEncVersion").mergeEncVersion(d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishEncMediaTypeDeprecatedMixin").mergeEncMediaTypeDeprecatedMixin,d("WASmaxOutMessagePublishEncTypeIndividualMixin").mergeEncTypeIndividualMixin(d("WASmaxJsx").smax("enc",null),c),e),a));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeToDeviceMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualIndividualFanoutMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBotLocalAutomatedTypeMixin","WASmaxOutMessagePublishBotMessageTypeMixin","WASmaxOutMessagePublishBotMetricsEntryPointMixin","WASmaxOutMessagePublishBotMetricsThreadEntryPointMixin","WASmaxOutMessagePublishBotPersonaTypeMixin","WASmaxOutMessagePublishBusinessBotMessageFeedbackRequestedMixin","WASmaxOutMessagePublishBusinessBotMessageMixin","WASmaxOutMessagePublishContentFanoutMixins","WASmaxOutMessagePublishLidChatOriginMixin","WASmaxOutMessagePublishMsgMetaOriginMixin","WASmaxOutMessagePublishTDeprecatedMixin","WASmaxOutMessagePublishToContentBindingMixin","WASmaxOutMessagePublishToDeviceMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.toContentBindingMixinArgs;a=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishToContentBindingMixin").mergeToContentBindingMixin,d("WASmaxOutMessagePublishToDeviceMixin").mergeToDeviceMixin(d("WASmaxJsx").smax("to",null),a),b);return a}function a(){var a=d("WASmaxJsx").smax("enc",null);return a}function i(a){var b,c=a.toArgs,e=a.messageTo,f=a.tDeprecatedMixinArgs,g=a.botMessageTypeMixinArgs,i=a.businessBotMessageMixinArgs,j=a.botMetricsEntryPointMixinArgs,k=a.botMetricsThreadEntryPointMixinArgs,l=a.msgMetaOriginMixinArgs,m=a.hasLidChatOrigin,n=a.botLocalAutomatedTypeMixinArgs,o=a.businessBotMessageFeedbackRequestedMixinArgs,p=a.botPersonaTypeMixinArgs;a=a.contentFanoutMixinsArgs;b=d("WASmaxOutMessagePublishContentFanoutMixins").mergeContentFanoutMixins((b=d("WASmaxMixins")).optionalMerge(d("WASmaxOutMessagePublishBotPersonaTypeMixin").mergeBotPersonaTypeMixin,b.optionalMerge(d("WASmaxOutMessagePublishBusinessBotMessageFeedbackRequestedMixin").mergeBusinessBotMessageFeedbackRequestedMixin,b.optionalMerge(d("WASmaxOutMessagePublishBotLocalAutomatedTypeMixin").mergeBotLocalAutomatedTypeMixin,b.optionalMerge(d("WASmaxOutMessagePublishLidChatOriginMixin").mergeLidChatOriginMixin,b.optionalMerge(d("WASmaxOutMessagePublishMsgMetaOriginMixin").mergeMsgMetaOriginMixin,b.optionalMerge(d("WASmaxOutMessagePublishBotMetricsThreadEntryPointMixin").mergeBotMetricsThreadEntryPointMixin,b.optionalMerge(d("WASmaxOutMessagePublishBotMetricsEntryPointMixin").mergeBotMetricsEntryPointMixin,b.optionalMerge(d("WASmaxOutMessagePublishBusinessBotMessageMixin").mergeBusinessBotMessageMixin,b.optionalMerge(d("WASmaxOutMessagePublishBotMessageTypeMixin").mergeBotMessageTypeMixin,b.optionalMerge(d("WASmaxOutMessagePublishTDeprecatedMixin").mergeTDeprecatedMixin,d("WASmaxJsx").smax("message",{to:d("WAWap").JID(e)},d("WASmaxJsx").smax("participants",null,d("WASmaxChildren").REPEATED_CHILD(h,c,1,1997))),f),g),i),j),k),l),m),n),o),p),a);return b}function b(a,b){b=i(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeIndividualIndividualFanoutParticipantsTo=h;g.makeIndividualIndividualFanoutEnc=a;g.mergeIndividualIndividualFanoutMixin=b}),98);
__d("WASmaxOutMessagePublishEncListMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("enc",{mediatype:"list"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncListMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeListMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypeMediaMixin","WASmaxOutMessagePublishEncListMixin","WASmaxOutMessagePublishSingleSelectOrProductListMixinGroup"],(function(a,b,c,d,e,f,g){function h(a){a=a.singleSelectOrProductListMixinGroupArgs;a=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishSingleSelectOrProductListMixinGroup").mergeSingleSelectOrProductListMixinGroup,d("WASmaxOutMessagePublishContentTypeMediaMixin").mergeContentTypeMediaMixin(d("WASmaxJsx").smax("message",null,d("WASmaxOutMessagePublishEncListMixin").mergeEncListMixin(d("WASmaxJsx").smax("enc",null)))),a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypeListMixin=a}),98);
__d("WASmaxOutMessagePublishEncLiveLocationDeprecatedMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.encDuration;a=d("WASmaxJsx").smax("enc",{mediatype:"livelocation",duration:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncLiveLocationDeprecatedMixin=a}),98);
__d("WASmaxOutMessagePublishEncLiveLocationMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.encDuration;a=d("WASmaxJsx").smax("enc",{mediatype:"livelocation",duration:d("WAWap").INT(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncLiveLocationMixin=a}),98);
__d("WASmaxOutMessagePublishEncLiveLocationEncLiveLocationOrEncLiveLocationDeprecatedMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishEncLiveLocationDeprecatedMixin","WASmaxOutMessagePublishEncLiveLocationMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.encLiveLocation)return d("WASmaxOutMessagePublishEncLiveLocationMixin").mergeEncLiveLocationMixin(a,b.encLiveLocation);if(b.encLiveLocationDeprecated)return d("WASmaxOutMessagePublishEncLiveLocationDeprecatedMixin").mergeEncLiveLocationDeprecatedMixin(a,b.encLiveLocationDeprecated);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeEncLiveLocationEncLiveLocationOrEncLiveLocationDeprecatedMixinGroup=a}),98);
__d("WASmaxOutMessagePublishContentTypeLiveLocationSingleMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypeMediaMixin","WASmaxOutMessagePublishEncLiveLocationEncLiveLocationOrEncLiveLocationDeprecatedMixinGroup","WASmaxOutMessagePublishLiveLocationModeMixin"],(function(a,b,c,d,e,f,g){function h(a){var b=a.liveLocationModeMixinArgs;a=a.encLiveLocationEncLiveLocationOrEncLiveLocationDeprecatedMixinGroupArgs;a=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishLiveLocationModeMixin").mergeLiveLocationModeMixin,d("WASmaxOutMessagePublishContentTypeMediaMixin").mergeContentTypeMediaMixin(d("WASmaxJsx").smax("message",null,d("WASmaxOutMessagePublishEncLiveLocationEncLiveLocationOrEncLiveLocationDeprecatedMixinGroup").mergeEncLiveLocationEncLiveLocationOrEncLiveLocationDeprecatedMixinGroup(d("WASmaxJsx").smax("enc",null),a))),b);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypeLiveLocationSingleMixin=a}),98);
__d("WASmaxOutMessagePublishEncMediaTypeMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishAvatarStickerTypeMixin","WASmaxOutMessagePublishMediaTypeMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.encNativeFlowName,c=a.hasAvatarStickerType;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishAvatarStickerTypeMixin").mergeAvatarStickerTypeMixin,d("WASmaxOutMessagePublishMediaTypeMixin").mergeMediaTypeMixin(d("WASmaxJsx").smax("enc",{native_flow_name:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b)}),a),c);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncMediaTypeMixin=a}),98);
__d("WASmaxOutMessagePublishEncMediaTypeEncMediaTypeOrEncMediaTypeDeprecatedMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishEncMediaTypeDeprecatedMixin","WASmaxOutMessagePublishEncMediaTypeMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.encMediaType)return d("WASmaxOutMessagePublishEncMediaTypeMixin").mergeEncMediaTypeMixin(a,b.encMediaType);if(b.encMediaTypeDeprecated)return d("WASmaxOutMessagePublishEncMediaTypeDeprecatedMixin").mergeEncMediaTypeDeprecatedMixin(a,b.encMediaTypeDeprecated);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeEncMediaTypeEncMediaTypeOrEncMediaTypeDeprecatedMixinGroup=a}),98);
__d("WASmaxOutMessagePublishContentTypeMediaSingleMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypeMediaOrMedianotifyMixinGroup","WASmaxOutMessagePublishEncMediaTypeEncMediaTypeOrEncMediaTypeDeprecatedMixinGroup","WASmaxOutMessagePublishSenderContentBindingMixin"],(function(a,b,c,d,e,f,g){function h(a){var b=a.senderContentBindingMixinArgs,c=a.contentTypeMediaOrMedianotifyMixinGroupArgs;a=a.encMediaTypeEncMediaTypeOrEncMediaTypeDeprecatedMixinGroupArgs;a=d("WASmaxOutMessagePublishContentTypeMediaOrMedianotifyMixinGroup").mergeContentTypeMediaOrMedianotifyMixinGroup(d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishSenderContentBindingMixin").mergeSenderContentBindingMixin,d("WASmaxJsx").smax("message",null,d("WASmaxOutMessagePublishEncMediaTypeEncMediaTypeOrEncMediaTypeDeprecatedMixinGroup").mergeEncMediaTypeEncMediaTypeOrEncMediaTypeDeprecatedMixinGroup(d("WASmaxJsx").smax("enc",null),a)),b),c);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeContentTypeMediaSingleMixin=a}),98);
__d("WASmaxOutMessagePublishContentMixins",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishContentTypeEventMixin","WASmaxOutMessagePublishContentTypeListMixin","WASmaxOutMessagePublishContentTypeLiveLocationSingleMixin","WASmaxOutMessagePublishContentTypeMediaSingleMixin","WASmaxOutMessagePublishContentTypePollCreationMixin","WASmaxOutMessagePublishContentTypePollResultSnapshotMixin","WASmaxOutMessagePublishContentTypePollVoteMixin","WASmaxOutMessagePublishContentTypeReactionMixin","WASmaxOutMessagePublishContentTypeTextMixin","WASmaxOutMessagePublishIndividualContentTypePayIndividualMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isContentTypeText)return d("WASmaxOutMessagePublishContentTypeTextMixin").mergeContentTypeTextMixin(a);if(b.contentTypeMediaSingle)return d("WASmaxOutMessagePublishContentTypeMediaSingleMixin").mergeContentTypeMediaSingleMixin(a,b.contentTypeMediaSingle);if(b.contentTypeLiveLocationSingle)return d("WASmaxOutMessagePublishContentTypeLiveLocationSingleMixin").mergeContentTypeLiveLocationSingleMixin(a,b.contentTypeLiveLocationSingle);if(b.individualContentTypePayIndividual)return d("WASmaxOutMessagePublishIndividualContentTypePayIndividualMixin").mergeIndividualContentTypePayIndividualMixin(a,b.individualContentTypePayIndividual);if(b.contentTypeList)return d("WASmaxOutMessagePublishContentTypeListMixin").mergeContentTypeListMixin(a,b.contentTypeList);if(b.isContentTypeReaction)return d("WASmaxOutMessagePublishContentTypeReactionMixin").mergeContentTypeReactionMixin(a);if(b.contentTypePollCreation)return d("WASmaxOutMessagePublishContentTypePollCreationMixin").mergeContentTypePollCreationMixin(a,b.contentTypePollCreation);if(b.contentTypePollVote)return d("WASmaxOutMessagePublishContentTypePollVoteMixin").mergeContentTypePollVoteMixin(a,b.contentTypePollVote);if(b.isContentTypePollResultSnapshot)return d("WASmaxOutMessagePublishContentTypePollResultSnapshotMixin").mergeContentTypePollResultSnapshotMixin(a);if(b.contentTypeEvent)return d("WASmaxOutMessagePublishContentTypeEventMixin").mergeContentTypeEventMixin(a,b.contentTypeEvent);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeContentMixins=a}),98);
__d("WASmaxOutMessagePublishIndividualIndividualRetryToPeerMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.messageRecipient;a=d("WASmaxJsx").smax("message",{recipient:d("WAWap").JID(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualIndividualRetryToPeerMixin=a}),98);
__d("WASmaxOutMessagePublishRetryMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishEncRetryMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.messageT;a=a.encRetryMixinArgs;b=d("WASmaxJsx").smax("message",{t:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,b)},d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishEncRetryMixin").mergeEncRetryMixin,d("WASmaxJsx").smax("enc",null),a));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeRetryMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualIndividualRetryMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishIndividualIndividualRetryToPeerMixin","WASmaxOutMessagePublishRetryMixin"],(function(a,b,c,d,e,f,g){function h(a){var b=a.individualIndividualRetryToPeerMixinArgs;a=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishIndividualIndividualRetryToPeerMixin").mergeIndividualIndividualRetryToPeerMixin,d("WASmaxOutMessagePublishRetryMixin").mergeRetryMixin(d("WASmaxJsx").smax("message",null),a),b);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualIndividualRetryMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualIndividualSingleContentBindingMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.contentBindingElementValue;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("content_binding",null,a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualIndividualSingleContentBindingMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualIndividualSingleMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBotLocalAutomatedTypeMixin","WASmaxOutMessagePublishBotMessageTypeMixin","WASmaxOutMessagePublishBotMetricsEntryPointMixin","WASmaxOutMessagePublishBotMetricsThreadEntryPointMixin","WASmaxOutMessagePublishBotPersonaTypeMixin","WASmaxOutMessagePublishBusinessBotMessageFeedbackRequestedMixin","WASmaxOutMessagePublishBusinessBotMessageMixin","WASmaxOutMessagePublishContentMixins","WASmaxOutMessagePublishEncMediaTypeDeprecatedMixin","WASmaxOutMessagePublishEncTypeIndividualMixin","WASmaxOutMessagePublishEncVersion","WASmaxOutMessagePublishIndividualIndividualRetryMixin","WASmaxOutMessagePublishIndividualIndividualSingleContentBindingMixin","WASmaxOutMessagePublishLidChatOriginMixin","WASmaxOutMessagePublishMsgMetaOriginMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.messageTo,e=a.individualIndividualRetryMixinArgs,f=a.individualIndividualSingleContentBindingMixinArgs,g=a.botMessageTypeMixinArgs,h=a.businessBotMessageMixinArgs,i=a.botMetricsEntryPointMixinArgs,j=a.botMetricsThreadEntryPointMixinArgs,k=a.msgMetaOriginMixinArgs,l=a.hasLidChatOrigin,m=a.botLocalAutomatedTypeMixinArgs,n=a.businessBotMessageFeedbackRequestedMixinArgs,o=a.botPersonaTypeMixinArgs,p=a.contentMixinsArgs,q=a.encTypeIndividualMixinArgs,r=a.encMediaTypeDeprecatedMixinArgs;a=a.encVersionArgs;c=d("WASmaxOutMessagePublishContentMixins").mergeContentMixins((b=d("WASmaxMixins")).optionalMerge(d("WASmaxOutMessagePublishBotPersonaTypeMixin").mergeBotPersonaTypeMixin,b.optionalMerge(d("WASmaxOutMessagePublishBusinessBotMessageFeedbackRequestedMixin").mergeBusinessBotMessageFeedbackRequestedMixin,b.optionalMerge(d("WASmaxOutMessagePublishBotLocalAutomatedTypeMixin").mergeBotLocalAutomatedTypeMixin,b.optionalMerge(d("WASmaxOutMessagePublishLidChatOriginMixin").mergeLidChatOriginMixin,b.optionalMerge(d("WASmaxOutMessagePublishMsgMetaOriginMixin").mergeMsgMetaOriginMixin,b.optionalMerge(d("WASmaxOutMessagePublishBotMetricsThreadEntryPointMixin").mergeBotMetricsThreadEntryPointMixin,b.optionalMerge(d("WASmaxOutMessagePublishBotMetricsEntryPointMixin").mergeBotMetricsEntryPointMixin,b.optionalMerge(d("WASmaxOutMessagePublishBusinessBotMessageMixin").mergeBusinessBotMessageMixin,b.optionalMerge(d("WASmaxOutMessagePublishBotMessageTypeMixin").mergeBotMessageTypeMixin,b.optionalMerge(d("WASmaxOutMessagePublishIndividualIndividualSingleContentBindingMixin").mergeIndividualIndividualSingleContentBindingMixin,b.optionalMerge(d("WASmaxOutMessagePublishIndividualIndividualRetryMixin").mergeIndividualIndividualRetryMixin,d("WASmaxJsx").smax("message",{to:d("WAWap").JID(c)},d("WASmaxOutMessagePublishEncVersion").mergeEncVersion(b.optionalMerge(d("WASmaxOutMessagePublishEncMediaTypeDeprecatedMixin").mergeEncMediaTypeDeprecatedMixin,d("WASmaxOutMessagePublishEncTypeIndividualMixin").mergeEncTypeIndividualMixin(d("WASmaxJsx").smax("enc",null),q),r),a)),e),f),g),h),i),j),k),l),m),n),o),p);return c}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualIndividualSingleMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualIndividualSingleOrIndividualIndividualFanoutOrBotMetricsEntryPointMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishBotMetricsEntryPointMixin","WASmaxOutMessagePublishIndividualIndividualFanoutMixin","WASmaxOutMessagePublishIndividualIndividualSingleMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.individualIndividualSingle)return d("WASmaxOutMessagePublishIndividualIndividualSingleMixin").mergeIndividualIndividualSingleMixin(a,b.individualIndividualSingle);if(b.individualIndividualFanout)return d("WASmaxOutMessagePublishIndividualIndividualFanoutMixin").mergeIndividualIndividualFanoutMixin(a,b.individualIndividualFanout);if(b.botMetricsEntryPoint)return d("WASmaxOutMessagePublishBotMetricsEntryPointMixin").mergeBotMetricsEntryPointMixin(a,b.botMetricsEntryPoint);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeIndividualIndividualSingleOrIndividualIndividualFanoutOrBotMetricsEntryPointMixinGroup=a}),98);
__d("WASmaxOutMessagePublishIndividualBotRequestMessageMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBotFeedbackMessageTypeMixin","WASmaxOutMessagePublishBotRequestMixin","WASmaxOutMessagePublishContentTypeTextOrMediaMixinGroup","WASmaxOutMessagePublishIndividualIndividualSingleOrIndividualIndividualFanoutOrBotMetricsEntryPointMixinGroup","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.messageTo,c=a.contentTypeTextOrMediaMixinGroupArgs,e=a.individualIndividualSingleOrIndividualIndividualFanoutOrBotMetricsEntryPointMixinGroupArgs,f=a.hasBotFeedbackMessageType;a=a.botRequestMixinArgs;b=d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishIndividualIndividualSingleOrIndividualIndividualFanoutOrBotMetricsEntryPointMixinGroup").mergeIndividualIndividualSingleOrIndividualIndividualFanoutOrBotMetricsEntryPointMixinGroup,d("WASmaxOutMessagePublishContentTypeTextOrMediaMixinGroup").mergeContentTypeTextOrMediaMixinGroup(d("WASmaxJsx").smax("message",{to:d("WAWap").USER_JID(b)},d("WASmaxMixins").optionalMerge(d("WASmaxOutMessagePublishBotFeedbackMessageTypeMixin").mergeBotFeedbackMessageTypeMixin,d("WASmaxJsx").smax("bot",null,d("WASmaxOutMessagePublishBotRequestMixin").mergeBotRequestMixin(d("WASmaxJsx").smax("to",null),a)),f)),c),e);return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualBotRequestMessageMixin=a}),98);
__d("WASmaxOutMessagePublishBotResponseMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.botEditTargetId,e=a.botSenderTimestampMs,f=a.botEdit;a=a.hasBotTypeVoice;c=d("WASmaxJsx").smax("bot",{edit_target_id:(b=d("WASmaxAttrs")).OPTIONAL(d("WAWap").STANZA_ID,c),sender_timestamp_ms:b.OPTIONAL(d("WAWap").INT,e),edit:b.OPTIONAL(d("WAWap").CUSTOM_STRING,f),type:b.OPTIONAL_LITERAL("voice",a)});return c}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBotResponseMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualContentTypeBotResponseMediaFanoutMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishContentTypeMediaMixin"],(function(a,b,c,d,e,f,g){function h(a){a=a.toCount;a=d("WASmaxJsx").smax("participants",null,d("WASmaxChildren").REPEATED_CHILD_COUNT(i,a,2,2));return a}function i(){var a=d("WASmaxJsx").smax("to",null,d("WASmaxJsx").smax("enc",{mediatype:"image"}));return a}function j(a){a=a.participantsArgs;a=d("WASmaxOutMessagePublishContentTypeMediaMixin").mergeContentTypeMediaMixin(d("WASmaxJsx").smax("message",null,d("WASmaxChildren").OPTIONAL_CHILD(h,a)));return a}function a(a,b){b=j(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeIndividualContentTypeBotResponseMediaFanoutParticipants=h;g.makeIndividualContentTypeBotResponseMediaFanoutParticipantsTo=i;g.mergeIndividualContentTypeBotResponseMediaFanoutMixin=a}),98);
__d("WASmaxOutMessagePublishContentTypeTextOrIndividualBotResponseMediaFanoutMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishContentTypeTextMixin","WASmaxOutMessagePublishIndividualContentTypeBotResponseMediaFanoutMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isContentTypeText)return d("WASmaxOutMessagePublishContentTypeTextMixin").mergeContentTypeTextMixin(a);if(b.individualContentTypeBotResponseMediaFanout)return d("WASmaxOutMessagePublishIndividualContentTypeBotResponseMediaFanoutMixin").mergeIndividualContentTypeBotResponseMediaFanoutMixin(a,b.individualContentTypeBotResponseMediaFanout);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeContentTypeTextOrIndividualBotResponseMediaFanoutMixinGroup=a}),98);
__d("WASmaxOutMessagePublishEncTypeMessageSecretMessageMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishEncPayloadMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxOutMessagePublishEncPayloadMixin").mergeEncPayloadMixin(d("WASmaxJsx").smax("enc",{type:"msmsg"}),a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeEncTypeMessageSecretMessageMixin=a}),98);
__d("WASmaxOutMessagePublishMessageTargetMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b,c=a.metaTargetId,e=a.metaTargetSenderJid,f=a.metaTargetChatJid;a=a.metaTargetChatJidLid;c=d("WASmaxJsx").smax("meta",{target_id:(b=d("WAWap")).STANZA_ID(c),target_sender_jid:d("WASmaxAttrs").OPTIONAL(b.USER_JID,e),target_chat_jid:d("WASmaxAttrs").OPTIONAL(b.JID,f),target_chat_jid_lid:d("WASmaxAttrs").OPTIONAL(b.JID,a)});return c}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMessageTargetMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualBotResponseFanoutMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishBotResponseMixin","WASmaxOutMessagePublishContentTypeTextOrIndividualBotResponseMediaFanoutMixinGroup","WASmaxOutMessagePublishEncTypeMessageSecretMessageMixin","WASmaxOutMessagePublishEncVersionBot","WASmaxOutMessagePublishMessageTargetMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.toArgs;a=d("WASmaxJsx").smax("participants",null,d("WASmaxChildren").REPEATED_CHILD(i,a,2,2));return a}function i(a){a=a.toJid;a=d("WASmaxJsx").smax("to",{jid:d("WAWap").USER_JID(a)});return a}function j(a){var b,c=a.participantsArgs,e=a.messageTo,f=a.contentTypeTextOrIndividualBotResponseMediaFanoutMixinGroupArgs,g=a.botResponseMixinArgs,i=a.messageTargetMixinArgs,j=a.encTypeMessageSecretMessageMixinArgs;a=a.encVersionBotArgs;e=d("WASmaxOutMessagePublishContentTypeTextOrIndividualBotResponseMediaFanoutMixinGroup").mergeContentTypeTextOrIndividualBotResponseMediaFanoutMixinGroup((b=d("WASmaxJsx")).smax("message",{to:d("WAWap").USER_JID(e)},d("WASmaxOutMessagePublishBotResponseMixin").mergeBotResponseMixin(b.smax("bot",null),g),d("WASmaxOutMessagePublishMessageTargetMixin").mergeMessageTargetMixin(b.smax("meta",null),i),d("WASmaxOutMessagePublishEncVersionBot").mergeEncVersionBot(d("WASmaxOutMessagePublishEncTypeMessageSecretMessageMixin").mergeEncTypeMessageSecretMessageMixin(b.smax("enc",null),j),a),d("WASmaxChildren").OPTIONAL_CHILD(h,c)),f);return e}function a(a,b){b=j(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.makeIndividualBotResponseFanoutParticipants=h;g.makeIndividualBotResponseFanoutParticipantsTo=i;g.mergeIndividualBotResponseFanoutMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualBotResponseFanoutOrIndividualBotRequestMessageOrIndividualIndividualSingleOrIndividualIndividualFanoutMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishIndividualBotRequestMessageMixin","WASmaxOutMessagePublishIndividualBotResponseFanoutMixin","WASmaxOutMessagePublishIndividualIndividualFanoutMixin","WASmaxOutMessagePublishIndividualIndividualSingleMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.individualBotResponseFanout)return d("WASmaxOutMessagePublishIndividualBotResponseFanoutMixin").mergeIndividualBotResponseFanoutMixin(a,b.individualBotResponseFanout);if(b.individualBotRequestMessage)return d("WASmaxOutMessagePublishIndividualBotRequestMessageMixin").mergeIndividualBotRequestMessageMixin(a,b.individualBotRequestMessage);if(b.individualIndividualSingle)return d("WASmaxOutMessagePublishIndividualIndividualSingleMixin").mergeIndividualIndividualSingleMixin(a,b.individualIndividualSingle);if(b.individualIndividualFanout)return d("WASmaxOutMessagePublishIndividualIndividualFanoutMixin").mergeIndividualIndividualFanoutMixin(a,b.individualIndividualFanout);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeIndividualBotResponseFanoutOrIndividualBotRequestMessageOrIndividualIndividualSingleOrIndividualIndividualFanoutMixinGroup=a}),98);
__d("WASmaxOutMessagePublishIndividualRecipientDeprecaredMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.messageRecipient;a=d("WASmaxJsx").smax("message",{recipient:d("WAWap").JID(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIndividualRecipientDeprecaredMixin=a}),98);
__d("WASmaxOutMessagePublishMessageEditMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{edit:"1"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMessageEditMixin=a}),98);
__d("WASmaxOutMessagePublishMessagePinMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{edit:"2"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMessagePinMixin=a}),98);
__d("WASmaxOutMessagePublishRevokeMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",{edit:"7"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeRevokeMixin=a}),98);
__d("WASmaxOutMessagePublishMessageEditOrMessagePinOrRevokeMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishMessageEditMixin","WASmaxOutMessagePublishMessagePinMixin","WASmaxOutMessagePublishRevokeMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.isMessageEdit)return d("WASmaxOutMessagePublishMessageEditMixin").mergeMessageEditMixin(a);if(b.isMessagePin)return d("WASmaxOutMessagePublishMessagePinMixin").mergeMessagePinMixin(a);if(b.isRevoke)return d("WASmaxOutMessagePublishRevokeMixin").mergeRevokeMixin(a);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeMessageEditOrMessagePinOrRevokeMixinGroup=a}),98);
__d("WASmaxOutMessagePublishMetaDestinationIdMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaDestinationId;a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{destination_id:d("WAWap").CUSTOM_STRING(a)}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeMetaDestinationIdMixin=a}),98);
__d("WASmaxOutMessagePublishPeerRecipientUsernameMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyPeerRecipientUsername;a=d("WASmaxJsx").smax("smax$any",{peer_recipient_username:d("WAWap").CUSTOM_STRING(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePeerRecipientUsernameMixin=a}),98);
__d("WASmaxOutMessagePublishPeerRecipientLIDMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyPeerRecipientLid;a=d("WASmaxJsx").smax("smax$any",{peer_recipient_lid:d("WAWap").JID(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePeerRecipientLIDMixin=a}),98);
__d("WASmaxOutMessagePublishPeerRecipientPNMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyPeerRecipientPn;a=d("WASmaxJsx").smax("smax$any",{peer_recipient_pn:d("WAWap").JID(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePeerRecipientPNMixin=a}),98);
__d("WASmaxOutMessagePublishRecipientPNMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.messageRecipientPn;a=d("WASmaxJsx").smax("message",{recipient_pn:d("WAWap").JID(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeRecipientPNMixin=a}),98);
__d("WASmaxOutMessagePublishRecipientPNOrPeerRecipientPNOrPeerRecipientLIDMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishPeerRecipientLIDMixin","WASmaxOutMessagePublishPeerRecipientPNMixin","WASmaxOutMessagePublishRecipientPNMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.recipientPN)return d("WASmaxOutMessagePublishRecipientPNMixin").mergeRecipientPNMixin(a,b.recipientPN);if(b.peerRecipientPN)return d("WASmaxOutMessagePublishPeerRecipientPNMixin").mergePeerRecipientPNMixin(a,b.peerRecipientPN);if(b.peerRecipientLID)return d("WASmaxOutMessagePublishPeerRecipientLIDMixin").mergePeerRecipientLIDMixin(a,b.peerRecipientLID);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeRecipientPNOrPeerRecipientPNOrPeerRecipientLIDMixinGroup=a}),98);
__d("WASmaxOutMessagePublishStatusMentionMessageMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{is_status_mention:"true"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeStatusMentionMessageMixin=a}),98);
__d("WASmaxOutMessagePublishPrivacyTokenContentsMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyElementValue;a=d("WASmaxJsx").smax("smax$any",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergePrivacyTokenContentsMixin=a}),98);
__d("WASmaxOutMessagePublishTCTokenMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishPrivacyTokenContentsMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.tctokenT;a=a.privacyTokenContentsMixinArgs;b=d("WASmaxJsx").smax("smax$any",null,d("WASmaxOutMessagePublishPrivacyTokenContentsMixin").mergePrivacyTokenContentsMixin(d("WASmaxJsx").smax("tctoken",{t:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,b)}),a));return b}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeTCTokenMixin=a}),98);
__d("WASmaxOutMessagePublishThreadTypeTagEnumMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaThreadType;a=d("WASmaxJsx").smax("meta",{thread_type:d("WAWap").INT(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeThreadTypeTagEnumMixin=a}),98);
__d("WASmaxOutMessagePublishThreadTypeTagLegacyMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.metaThreadType;a=d("WASmaxJsx").smax("meta",{thread_type:d("WAWap").CUSTOM_STRING(a)});return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeThreadTypeTagLegacyMixin=a}),98);
__d("WASmaxOutMessagePublishThreadTypeTagEnumOrLegacyMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutMessagePublishThreadTypeTagEnumMixin","WASmaxOutMessagePublishThreadTypeTagLegacyMixin"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.threadTypeTagEnum)return d("WASmaxOutMessagePublishThreadTypeTagEnumMixin").mergeThreadTypeTagEnumMixin(a,b.threadTypeTagEnum);if(b.threadTypeTagLegacy)return d("WASmaxOutMessagePublishThreadTypeTagLegacyMixin").mergeThreadTypeTagLegacyMixin(a,b.threadTypeTagLegacy);throw new(d("WASmaxMixinGroupExhaustiveError").SmaxMixinGroupExhaustiveError)()}g.mergeThreadTypeTagEnumOrLegacyMixinGroup=a}),98);
__d("WASmaxOutMessagePublishThreadTypeTagMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishThreadTypeTagEnumOrLegacyMixinGroup"],(function(a,b,c,d,e,f,g){function h(a){a=a.threadTypeTagEnumOrLegacyMixinGroupArgs;a=d("WASmaxJsx").smax("message",null,d("WASmaxOutMessagePublishThreadTypeTagEnumOrLegacyMixinGroup").mergeThreadTypeTagEnumOrLegacyMixinGroup(d("WASmaxJsx").smax("meta",null),a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeThreadTypeTagMixin=a}),98);
__d("WASmaxOutMessagePublishViewOnceMetaAttributeMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("message",null,d("WASmaxJsx").smax("meta",{view_once:"true"}));return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeViewOnceMetaAttributeMixin=a}),98);
__d("WASmaxOutMessagePublishIndividualRequest",["WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishAppdataMetaAttributeMixin","WASmaxOutMessagePublishBaseMixin","WASmaxOutMessagePublishGroupInviteTargetMixin","WASmaxOutMessagePublishIndividualBotResponseFanoutOrIndividualBotRequestMessageOrIndividualIndividualSingleOrIndividualIndividualFanoutMixinGroup","WASmaxOutMessagePublishIndividualRecipientDeprecaredMixin","WASmaxOutMessagePublishMessageEditOrMessagePinOrRevokeMixinGroup","WASmaxOutMessagePublishMetaDestinationIdMixin","WASmaxOutMessagePublishPeerRecipientUsernameMixin","WASmaxOutMessagePublishRecipientPNOrPeerRecipientPNOrPeerRecipientLIDMixinGroup","WASmaxOutMessagePublishStatusMentionMessageMixin","WASmaxOutMessagePublishTCTokenMixin","WASmaxOutMessagePublishThreadTypeTagMixin","WASmaxOutMessagePublishViewOnceMetaAttributeMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b,c=a.messageId,e=a.groupInviteTargetMixinArgs,f=a.threadTypeTagMixinArgs,g=a.peerRecipientUsernameMixinArgs,h=a.individualRecipientDeprecaredMixinArgs,i=a.hasAppdataMetaAttribute,j=a.hasStatusMentionMessage,k=a.tCTokenMixinArgs,l=a.hasViewOnceMetaAttribute,m=a.metaDestinationIdMixinArgs,n=a.individualBotResponseFanoutOrIndividualBotRequestMessageOrIndividualIndividualSingleOrIndividualIndividualFanoutMixinGroupArgs,o=a.messageEditOrMessagePinOrRevokeMixinGroupArgs,p=a.recipientPNOrPeerRecipientPNOrPeerRecipientLIDMixinGroupArgs;b=(b=d("WASmaxMixins")).optionalMerge(d("WASmaxOutMessagePublishRecipientPNOrPeerRecipientPNOrPeerRecipientLIDMixinGroup").mergeRecipientPNOrPeerRecipientPNOrPeerRecipientLIDMixinGroup,b.optionalMerge(d("WASmaxOutMessagePublishMessageEditOrMessagePinOrRevokeMixinGroup").mergeMessageEditOrMessagePinOrRevokeMixinGroup,d("WASmaxOutMessagePublishIndividualBotResponseFanoutOrIndividualBotRequestMessageOrIndividualIndividualSingleOrIndividualIndividualFanoutMixinGroup").mergeIndividualBotResponseFanoutOrIndividualBotRequestMessageOrIndividualIndividualSingleOrIndividualIndividualFanoutMixinGroup(b.optionalMerge(d("WASmaxOutMessagePublishMetaDestinationIdMixin").mergeMetaDestinationIdMixin,b.optionalMerge(d("WASmaxOutMessagePublishViewOnceMetaAttributeMixin").mergeViewOnceMetaAttributeMixin,b.optionalMerge(d("WASmaxOutMessagePublishTCTokenMixin").mergeTCTokenMixin,b.optionalMerge(d("WASmaxOutMessagePublishStatusMentionMessageMixin").mergeStatusMentionMessageMixin,b.optionalMerge(d("WASmaxOutMessagePublishAppdataMetaAttributeMixin").mergeAppdataMetaAttributeMixin,b.optionalMerge(d("WASmaxOutMessagePublishIndividualRecipientDeprecaredMixin").mergeIndividualRecipientDeprecaredMixin,b.optionalMerge(d("WASmaxOutMessagePublishPeerRecipientUsernameMixin").mergePeerRecipientUsernameMixin,b.optionalMerge(d("WASmaxOutMessagePublishThreadTypeTagMixin").mergeThreadTypeTagMixin,b.optionalMerge(d("WASmaxOutMessagePublishGroupInviteTargetMixin").mergeGroupInviteTargetMixin,d("WASmaxOutMessagePublishBaseMixin").mergeBaseMixin(d("WASmaxJsx").smax("message",{id:d("WAWap").STANZA_ID(c)}),a),e),f),g),h),i),j),k),l),m),n),o),p);return b}g.makeIndividualRequest=a}),98);
__d("WASmaxMessagePublishIndividualRPC",["WAComms","WASmaxInMessagePublishIndividualResponseNegative","WASmaxInMessagePublishIndividualResponseSuccess","WASmaxOutMessagePublishIndividualRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutMessagePublishIndividualRequest").makeIndividualRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInMessagePublishIndividualResponseNegative").parseIndividualResponseNegative(b,a);if(c.success)return{name:"IndividualResponseNegative",value:c.value};b=d("WASmaxInMessagePublishIndividualResponseSuccess").parseIndividualResponseSuccess(b,a);if(b.success)return{name:"IndividualResponseSuccess",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Individual",{Negative:c,Success:b}))}g.sendIndividualRPC=a}),98);
__d("WASendMsgRPC",["WADeprecatedSendIq","WADeprecatedWapParser","WAGetDeviceIdentityMixin","WAJids","WALogger","WAParseFranking","WASmaxMessagePublishIndividualRPC","WATimeUtils","WAWap"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[WASendMsgRPC] Sending message with not allowed stanzaId: ",", error: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["WASendMsgRPC: Wrong media type: ",""]);i=function(){return a};return a}async function a(a,b,c,e,f){f===void 0&&(f=!1);var g=d("WAJids").interpretAsGroupJid(a.protocolMsgId.chat),h=a.messageType.type==="text"&&a.messageType.invitedParticipantUserJid!=null;if(b.type==="direct_user"){var i={individualIndividualSingle:{messageTo:b.message.to,individualIndividualRetryMixinArgs:m(a.count,b.recipient),contentMixinsArgs:l(a,b.message),encTypeIndividualMixinArgs:n(b.message),encVersionArgs:o(b.message)}};i={messageId:a.externalId,deviceIdentityMixinArgs:d("WAGetDeviceIdentityMixin").getDeviceIdentityMixin(a.deviceIdentity),hasNoExtraFanout:a.messageType.isInvisible===!0?!0:null,messageEditOrMessagePinOrRevokeMixinGroupArgs:p(a.messageType),clientFrankingTagMixinArgs:(c==null?void 0:c.frankingTag)?{frankingTagElementValue:c.frankingTag}:null,hasMetaHideDecryptionPlaceholder:a.messageType.isInvisible===!0?!0:null,groupInviteTargetMixinArgs:h&&g!=null?{metaGroupInvite:g}:null,individualBotResponseFanoutOrIndividualBotRequestMessageOrIndividualIndividualSingleOrIndividualIndividualFanoutMixinGroupArgs:i,internalTestMixinArgs:f?{testConfig:"armadillo_express"}:null};e==null?void 0:e.addPoint("send_individual_rpc");i=await d("WASmaxMessagePublishIndividualRPC").sendIndividualRPC(i);if(i.name==="IndividualResponseSuccess"){var r;r=((r=i.value.deviceListStaleMixin)==null?void 0:r.phash)!=null?{type:"mismatch",local:null,server:i.value.deviceListStaleMixin.phash}:{type:"ok"};var s=i.value.serverFrankingTagMixin!=null&&c!=null?babelHelpers.extends({},c,{reportingTag:i.value.serverFrankingTagMixin.frankingReportingTagElementValue}):null;return{type:"success",ts:d("WATimeUtils").castToUnixTime(i.value.t),phash:r,count:null,reportingMeta:s}}else{i.name;return{type:"error",errorCode:parseInt(i.value.error,10),backoff:parseInt((r=i.value.messageNackRetryAttributesMixin)==null?void 0:r.backoff,10),applicationError:(s=i.value.applicationNegativeAckMixin)==null?void 0:s.applicationError}}}r=a.messageType.isInvisible===!0?"false":d("WAWap").DROP_ATTR;i=b.participant!=null?d("WAWap").JID(b.participant):d("WAWap").DROP_ATTR;s=b.phash!=null&&b.type==="group"?d("WAWap").CUSTOM_STRING(b.phash):d("WAWap").DROP_ATTR;function t(){if(a.messageType.type==="text"&&a.messageType.isRevoked)return d("WAWap").CUSTOM_STRING("7");else if(a.messageType.type==="text"&&a.messageType.isEdit===!0)return d("WAWap").CUSTOM_STRING("1");return d("WAWap").DROP_ATTR}t=t();function u(){if(h&&g!=null)return d("WAWap").wap("meta",{"decrypt-fail":"hide",group_invite:d("WAWap").CUSTOM_STRING(g)});return a.messageType.isInvisible===!0||a.messageType.isEdit===!0?d("WAWap").wap("meta",{"decrypt-fail":"hide"}):null}u=u();f=f?d("WAWap").wap("test",{config:d("WAWap").CUSTOM_STRING("armadillo_express")}):null;var v=a.deviceIdentity!=null?d("WAWap").wap("device-identity",null,a.deviceIdentity):null,w=(c==null?void 0:c.frankingTag)!=null?d("WAWap").wap("franking",null,d("WAWap").wap("franking_tag",null,c.frankingTag)):null,x=null;b.participants!=null&&(x=d("WAWap").wap("participants",null,b.participants.map(function(a){return j(a)})));var y=null;b.message!=null&&(y=j(b.message,!0));r=d("WAWap").wap("message",{device_fanout:r,edit:t,id:d("WAWap").CUSTOM_STRING(a.externalId),participant:i,phash:s,to:d("WAWap").JID(b.messageTo),type:d("WAWap").CUSTOM_STRING(a.messageType.type)},u,w,x,y,v,f);q(a.externalId);e==null?void 0:e.addPoint("send_stanza_and_return_ack");t=await d("WADeprecatedSendIq").deprecatedSendStanzaAndReturnAck(r,{id:a.externalId,class:"message",from:b.messageTo,participant:b.participant!=null?b.participant:null});e==null?void 0:e.addPoint("send_msg_ack_parser");i=k.parse(t);if(i.success){e==null?void 0:e.addPoint("send_msg_ack_parser_success");s=i.success;u=s.errorCode;w=s.applicationError;x=s.backoff;if(u==null){y=i.success;v=y.ts;f=y.phash;r=y.count;s=c!=null?babelHelpers.extends({},c,{reportingTag:(t=i.success.reportingMeta)==null?void 0:t.reportingTag}):null;return{type:"success",ts:v,phash:f==null||f===b.phash?{type:"ok"}:{type:"mismatch",local:b.phash,server:f},count:r,reportingMeta:s}}else{e==null?void 0:e.addPoint("send_msg_ack_parser_failed",{int:{errorCode:u,applicationError:w}});return{type:"error",errorCode:u,applicationError:w,backoff:x}}}else return{type:"parsing_error"}}function j(a,b){b===void 0&&(b=!1);var c=d("WAWap").wap("enc",{count:a.count!=null?d("WAWap").INT(a.count):d("WAWap").DROP_ATTR,mediatype:a.mediaType!=null?d("WAWap").CUSTOM_STRING(a.mediaType):d("WAWap").DROP_ATTR,type:d("WAWap").CUSTOM_STRING(a.type),v:d("WAWap").CUSTOM_STRING(a.v)},a.ciphertext);if(b||a.encType==="group")return c;else return d("WAWap").wap("to",{jid:d("WAWap").DEVICE_JID(a.to)},c)}var k=new(c("WADeprecatedWapParser"))("sendMsgAck",function(a){a.assertTag("ack");return{count:a.maybeAttrInt("count"),errorCode:a.maybeAttrInt("error"),phash:a.maybeAttrString("phash"),applicationError:a.maybeAttrInt("application_error"),ts:a.attrTime("t"),reportingMeta:d("WAParseFranking").parseFrankingNode(a.maybeChild("franking")),backoff:a.maybeAttrInt("backoff")}});function l(a,b){if(a.messageType.type==="reaction")return{isContentTypeReaction:!0};if(a.messageType.type==="text")return{isContentTypeText:!0};a.messageType.type;if(b.mediaType!=null){b={contentTypeMediaOrMedianotifyMixinGroupArgs:{isContentTypeMedia:!0},encMediaTypeEncMediaTypeOrEncMediaTypeDeprecatedMixinGroupArgs:{encMediaType:{encMediatype:b.mediaType}}};return{contentTypeMediaSingle:b}}d("WALogger").ERROR(i(),a.messageType.mediaType);return{isContentTypeText:!0}}function m(a,b){a=a!=null?{encCount:a}:null;b=b!=null?{messageRecipient:b}:null;return{encRetryMixinArgs:a,individualIndividualRetryToPeerMixinArgs:b}}function n(a){return{encType:a.type,encElementValue:a.ciphertext}}function o(a){return a.v==="2"?{isEncVersion2:!0}:{isEncVersion3:!0}}function p(a){return a.type==="text"&&a.isRevoked?{isRevoke:!0}:null}function q(a){try{BigInt(a)}catch(b){d("WALogger").ERROR(h(),a,b)}}g.sendStanza=a;g.createEncWapNode=j}),98);
__d("WASendMsgInternal",["WABridge","WADevicesState","WADexieToWormMigration","WAEncGroupMsg","WAEncUserMsg","WAGlobals","WAJids","WALogger","WAMarkSenderKeyAsSentApi","WAMarkSenderKeyAsSentApiV2","WAOdsEnums","WAQueryGroups","WAResultOrError","WASendMsgRPC"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendMessage ack success is true, error: ",", applicationError: ",", chatType:",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendMessage ack success is false, chatType:",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Got phash mismatch, local[","] server[","]"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg -- encryptChatMessage -- finish encrypt group message"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg -- encryptChatMessage -- group message"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWSendMsg Failed to encrypt message for "," message"]);m=function(){return a};return a}var n=10002,o=10009;async function a(a,b,c){var e;c===void 0&&(c=!1);v(a,b);var f=c?3:2,g=function(c){return a.type==="chat"?s(a,b,f,{cryptoManager:c}):r(a,{cryptoManager:c},f)},h=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return g(a)},{operationType:"encrypt",flush:!0}),i=h.success?h.value.type:h.error;b.addPoint("finish_encrypt",{string:{chatType:i}});if(h.success===!1){d("WALogger").ERROR(m(),i);return d("WAResultOrError").makeError({type:"encryption-error",isRetriable:!1})}h=h.value;b.addPoint("sending_stanza_start",{string:{encryptionType:h.type},int:{ciphertextByteLength:(e=(e=(e=h.message)==null?void 0:(e=e.ciphertext)==null?void 0:e.length)!=null?e:(e=h.participants)==null?void 0:(e=e[0].ciphertext)==null?void 0:e.length)!=null?e:0}});e=await d("WASendMsgRPC").sendStanza(a,h,a.reportingMeta,b,c);b.addPoint("sending_stanza_end");if(e.type==="success"){b.addPoint("send_stanza_success");try{c=await Promise.all([t(a,h,e,b),u(h)]);c=c[0];b.addPoint("mark_sender_key_sent");return d("WAResultOrError").makeResult({baseKey:(h=h.message)==null?void 0:h.baseKey,reportingMeta:null,serverTs:e.ts,meta:{pOrDhashMismatch:c}})}catch(a){b.addPoint("send_stanza_failed");throw a}}e.type;w(e,i,b);e.applicationError===n&&await d("WAGlobals").getDependencies().handleReachabilityErrorAdminMsg(a.chat);if(e.type==="parsing_error")return d("WAResultOrError").makeError({type:"result-parsing-error",isRetriable:!0});if(e.type==="error"){h=e.errorCode!=null&&e.errorCode>=500;if(h)return d("WAResultOrError").makeError({type:"retryable-error",backoff:e.backoff,isRetriable:!0});else return d("WAResultOrError").makeError({type:"non-retryable-error",applicationErrorCode:e.applicationError,errorCode:e.errorCode,isRetriable:!1})}return d("WAResultOrError").makeError({type:"unexpected-message-codepath",details:"impossible-server-error-result",isRetriable:!0,applicationErrorCode:e.applicationError})}function p(a){d("WADevicesState").getDevicesState().reset([a]);return d("WADevicesState").getDevicesState().waitForUserDevices([a],"SendMsgUtil_recoverUser",!0)}function q(a){return d("WAJids").switchOnChatJidType(a,{interopUser:p,msgrUser:p,lidUser:p,phoneUser:p,group:function(a){return d("WAQueryGroups").queryGroups(null,{type:"array",groups:[a]},!0)}})}async function r(a,b,c){var e=a.chat,f=a.to,g=a.messageBytes,h=a.messageType,i=a.count,j=a.sessionInfo,k=a.identityKey,l=a.backupDirective,m=await d("WAEncUserMsg").encryptDeviceJidMessage(f,{type:"message",chat:e,messageBytes:g,messageType:h,applicationPayloadVersion:c,backupDirective:l},b,i,j,k);return d("WAJids").switchOnUserChatJidType(e,{user:function(b){return m!=null?d("WAResultOrError").makeResult({type:"direct_user",messageTo:a.to,message:m,recipient:d("WAGlobals").isPeerDevice(a.to)?b:null}):d("WAResultOrError").makeError("direct_user")},group:function(b){return m!=null?d("WAResultOrError").makeResult({type:"direct_group",messageTo:b,participant:a.to,message:m}):d("WAResultOrError").makeError("direct_group")}})}function s(a,b,c,e){var f=a.recipients,g=a.messageBytes,h=a.messageType,i=a.chat,j=a.backupDirective;return d("WAJids").switchOnUserChatJidType(i,{user:async function(a){var i=await d("WAEncUserMsg").encryptUserMsg(f,{type:"message",messageBytes:g,messageType:h,chat:a,applicationPayloadVersion:c,backupDirective:j},e,b),k=i.participants;return k!=null&&k.length>0?d("WAResultOrError").makeResult({type:"user",messageTo:a,participants:k,phash:i.phash}):d("WAResultOrError").makeError("user")},group:async function(a){d("WALogger").LOG(l());var c=await d("WAEncGroupMsg").encryptGroupMsg(a,f,g,h,e,j,b);d("WALogger").LOG(k());var i=c.participants,m=c.encNode;return i==null&&m==null?d("WAResultOrError").makeError("group"):d("WAResultOrError").makeResult({type:"group",messageTo:a,participants:i,message:m,senderKeyDistributionInfo:c.senderKeyDistributionInfo,phash:c.phash})}})}async function t(a,b,c,e){if(c.type!=="success")return!1;c=c.phash;if(c.type==="mismatch"){e.addPoint("phash_mismatch");d("WALogger").LOG(j(),c.local,c.server);d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:d("WAOdsEnums").Entity.PHASH_MISMATCH,key:b.type});await q(a.chat);e.addPoint("participant_recovery_finished");return!0}return!1}async function u(a){if(a.senderKeyDistributionInfo!=null){a=a.senderKeyDistributionInfo;var b=a.group,c=a.senderKeyId;a=a.knowsSenderKey;var e=d("WADexieToWormMigration").isWorm("WASendMsgInternal")?d("WAMarkSenderKeyAsSentApiV2").markSenderKeyAsSent:d("WAMarkSenderKeyAsSentApi").markSenderKeyAsSent;await e(b,c,a)}}function v(a,b){var c=0;a.type==="chat"&&(c=a.recipients.reduce(function(a,b){return a+b.devicesInfo.length},0));var d=a.messageType.type==="text"&&a.messageType.isRevoked;d=d?"revoke":a.messageType.type;b.addPoint("start_encrypt",{string:{sentMessageType:d},int:{numDevices:c},bool:{isInvisibleMsg:a.messageType.type==="text"&&a.messageType.isInvisible===!0}})}function w(a,b,c){if(a.type==="success")return;a.type==="parsing_error"&&(d("WALogger").ERROR(i(),b),c.addPoint("ack_parse_fail"));var e=a.errorCode;a=a.applicationError;a===n&&c.addPoint("reachability_error_code");d("WALogger").ERROR(h(),e,a,b);e!=null&&c.addPoint("ack_success_error_"+e,{int:{applicationError:a}});a===o&&c.addPoint("sender_blocked",{})}g.sendMessage=a}),98);
__d("WASentBytesCacheApi",["MAWTransactionMode","WADbTransactor"],(function(a,b,c,d,e,f,g){"use strict";c=(a=d("WADbTransactor")).makeSignalTransactor({sentBytesCache:(b=d("MAWTransactionMode")).READWRITE},"deleteSentBytes",function(a){return function(b){return a.sentBytesCache.bulkDelete(b)}});e=a.makeSignalTransactor({sentBytesCache:b.READONLY},"loadExpired",function(a){return function(b){return a.sentBytesCache.where("ts").belowOrEqual(b).toArray().then(function(a){return a.map(function(a){return a.waMsgId})})}});f=a.makeSignalTransactor({sentBytesCache:b.READONLY},"loadSentBytes",function(a){return function(b){return a.sentBytesCache.bulkGet(b).then(function(a){return a.filter(Boolean)})}});d=a.makeSignalTransactor({sentBytesCache:b.READWRITE},"saveSentBytes",function(a){return function(b){return a.sentBytesCache.put(b).then(function(){})}});g.deleteSentBytes=c;g.loadExpired=e;g.loadSentBytes=f;g.saveSentBytes=d}),98);
__d("WASentBytesCache",["WAGlobals","WAJids","WAMsg","WASentBytesCacheApi","WATagsLogger","WATimeUtils","WAWaitForUserUnblocked"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["It fails to bulkLoadIdentities: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to prune sent bytes: ",""]);i=function(){return a};return a}var j=d("WATagsLogger").TAGS(["SentBytesCache"]),k=30*24*60*60;b=function(){function a(){var a=this;void d("WAWaitForUserUnblocked").waitForUserUnblocked().then(function(){a.$1().catch(function(a){j.ERROR(i(),a)})})}var b=a.prototype;b.loadSentBytes=function(a){return d("WASentBytesCacheApi").loadSentBytes(a)};b.getMsgsForRetry=async function(a){var b=Array.from(new Set(a.map(function(a){a=a.deviceJid;return d("WAJids").extractUserJid(a)}))),c=new Map();try{c=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(b)},{operationType:"retries_load_identities",flush:!1,afterInit:!0})}catch(a){j.ERROR(h(),a.toString())}var e=await this.loadSentBytes(a.map(function(a){a=a.protocolMsgId;return d("WAMsg").craftWAMsgIdString({author:a.author,chat:a.chat,externalId:a.externalId})}));return a.map(function(a){var b=a.deviceJid,f=a.protocolMsgId,g=d("WAMsg").craftWAMsgIdString({author:f.author,chat:f.chat,externalId:f.externalId});f=(f=c.get(d("WAJids").extractUserJid(b)))==null?void 0:f.get(b);if(f==null)return{type:"unauthorized"};b=e.find(function(a){return a.waMsgId===g});if(b==null)return{type:"missing"};else if(!d("WATimeUtils").happenedWithin(b.ts,k))return{type:"unauthorized"};return{frankingKey:b.frankingKey,frankingVersion:b.frankingVersion,messageBytes:b.messageBytes,backupDirective:b.backupDirective,messageType:b.messageType,protocolMsgId:b.protocolMsgId,retryCount:a.retryCount+1,type:"unacked"}})};b.saveSentBytes=function(a){return d("WASentBytesCacheApi").saveSentBytes(a)};b.$1=function(){return d("WASentBytesCacheApi").loadExpired(d("WATimeUtils").pastUnixTime(k)).then(function(a){return d("WASentBytesCacheApi").deleteSentBytes(a)})};return a}();var l=new b();function a(){return l}g.SentBytesCache=b;g.sentBytesCache=a}),98);
__d("WASendMsgUtilV2",["WADevicesState","WAGenReportingMeta","WAGlobals","WAJids","WALoadReceiptApi","WALogger","WAMsg","WAResultOrError","WASaveReceiptApi","WASendMsgInternal","WASentBytesCache","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error loading current device identity ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to save sent bytes to cache: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message with no recipients, but it is a self thread"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message with no recipients"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message that does not have a receipt in db"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to save receipt for message with error ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error during get devices before sending: ",""]);n=function(){return a};return a}function o(a){return Promise.resolve()}function p(a,b){return d("WADevicesState").getDevicesState().waitForUserDevices(Array.from(new Set([a,d("WAGlobals").getMyUserJid()])),"GetDevicesBeforeSend: "+b)}function q(a,b){a=b.chatJid;var c=b.reason;return d("WAJids").switchOnChatJidType(a,{group:function(a){return o(a)},interopUser:function(a){return p(a,c)},lidUser:function(a){return p(a,c)},msgrUser:function(a){return p(a,c)},phoneUser:function(a){return p(a,c)}}).catch(function(a){d("WALogger").ERROR(n(),a);return Promise.resolve()})}async function r(a,b){var c=a.messagePayload;a=a.loadThreadParticipants;var e={author:c.protocolMsgId.author,chat:c.protocolMsgId.chat,externalId:c.protocolMsgId.externalId},f=await d("WALoadReceiptApi").loadReceipt(e);if(f.success)return f;b.addPoint("get_devices_before_send_start");await q(void 0,{chatJid:c.protocolMsgId.chat,reason:"prepareReceipt"});b.addPoint("get_devices_before_send_end");var g=await a(c.protocolMsgId.chat);b.addPoint("get_identities_start");f=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(g)},{flush:!1,afterInit:!0,operationType:"prepare_receipt_load_identities"});a=[];if(f.size===0)a=[].concat(g);else for(c of f){var h=c[0],i=c[1];i.size===0&&a.push(h)}a.length>0&&(await d("WADevicesState").getDevicesState().waitForUserDevices(a,"GetDevicesBeforeSend: prepareReceipt",!0),f=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(g)},{afterInit:!0,flush:!1,operationType:"prepare_receipt_load_identities"}));i=new Map();for(h of f){h[0];c=h[1];for(a of c){f=a[0];c=a[1];if(f===d("WAGlobals").getMyDeviceJid())continue;i.set(f,{pubKey:c})}}b.addPoint("get_identities_end");f=new Set();c={permittedIdentitiesPerDevice:i,recipientDevices:f,id:e};b.addPoint("save_receipts_start");await d("WASaveReceiptApi").saveReceipt(c).catch(function(a){b.addPoint("save_receipts_fail");d("WALogger").ERROR(m(),a);return d("WAResultOrError").makeError("missing-receipt")});b.addPoint("save_receipts_end");return d("WAResultOrError").makeResult(c)}async function a(a,b,c){a=b.messagePayload;var e=b.loadThreadParticipants,f=b.sendIdentity;f=f===void 0?!1:f;b=b.isInstamadillo;b=b===void 0?!1:b;c.addPoint("prepare_receipt_start");e=await r({messagePayload:a,loadThreadParticipants:e},c);if(e.success===!1){c.addPoint("prepare_receipt_fail");d("WALogger").ERROR(l());return d("WAResultOrError").makeError({type:"missing-receipt"})}c.addPoint("prepare_receipt_end");e=e.value;var g=a.frankingKey,h=a.frankingVersion,m=a.messageBytes,n=a.backupDirective,o=a.messageType,p=a.protocolMsgId;a=s(e.permittedIdentitiesPerDevice);e=o.type==="text"&&o.invitedParticipantUserJid!=null?a.filter(function(a){return a.user===o.invitedParticipantUserJid||a.user===d("WAGlobals").getMyUserJid()}):a;c.addPoint("recipients-calculated",{int:{recipientsCount:e.length},string:{msgType:o.type}});a=o.type==="text"&&o.invitedParticipantUserJid!=null?o.invitedParticipantUserJid:p.chat;var q=p.chat===d("WAGlobals").getMyUserJid();if(e.length===0&&!q){d("WALogger").ERROR(k());return d("WAResultOrError").makeError({type:"no-recipients",isRetriable:!1})}else if(e.length===0&&q){d("WALogger").LOG(j());return d("WAResultOrError").makeResult({baseKey:null,reportingMeta:null,serverTs:d("WATimeUtils").unixTime()})}q=f?await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return t(a)},{operationType:"get_my_device_identity",flush:!1,afterInit:!0}):null;f=await (o.isRevoked===!0?Promise.resolve(null):d("WAGenReportingMeta").genReportingMeta(m.bytes,g,h));return d("WASendMsgInternal").sendMessage({type:"chat",messageBytes:m,chat:a,deviceIdentity:q,messageType:o,protocolMsgId:p,externalId:p.externalId,recipients:e,reportingMeta:f,backupDirective:n},c,b).then(function(a){if(a.success)return d("WASentBytesCache").sentBytesCache().saveSentBytes({ts:a.value.serverTs,frankingKey:g,frankingVersion:h,messageBytes:m,backupDirective:n,messageType:o,protocolMsgId:p,waMsgId:d("WAMsg").craftWAMsgIdString({author:p.author,chat:p.chat,externalId:p.externalId})}).catch(function(a){d("WALogger").ERROR(i(),a)}).then(function(){return a});else return a})}function s(a){var b=new Map();a.forEach(function(a,c){a=a.pubKey;var e=d("WAJids").extractUserJid(c);a={identity:a,jid:c};c=b.get(e)||[];c.push(a);b.set(e,c)});return Array.from(b,function(a){var b=a[0];a=a[1];return{devicesInfo:a,user:b}})}async function t(a){try{a=await a.storage.loadIdentities(d("WAGlobals").getMyUserJid());a=a.get(d("WAGlobals").getMyDeviceJid());if(a!=null)return a;throw c("err")("missing-identity")}catch(a){d("WALogger").ERROR(h(),a)}}g.getDevicesBeforeSend=q;g.sendChatMessage=a}),98);
__d("WASetMetaApiV2",["WASignalDB"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("WASignalDB").getDb().runInTransaction(["meta"],"readwrite",function(b){return b.stores.meta.bulkPut(Object.entries(a).map(function(a){var b,c=a[0];a=a[1];return{key:c,value:(b={},b[c]=a,b)}}))},d("WASignalDB").signalOp("setMeta"))};g.setMeta=a}),98);
__d("WASetClockSkewApi",["WASetMetaApiV2"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=a.clockSkew;return d("WASetMetaApiV2").setMeta({clockSkew:a})};g.setClockSkew=a}),98);
__d("WASendPing",["WAComms","WALogger","WASetClockSkewApi","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendPing: sending"]);h=function(){return a};return a}function a(){d("WALogger").LOG(h()),d("WAComms").sendPing()}async function b(a,b){a=b.clockSkew;d("WATimeUtils").setClockSkew(a);await d("WASetClockSkewApi").setClockSkew({clockSkew:a})}g.sendPing=a;g.updateClockSkew=b}),98);
__d("WASyncAbProps",["WAAbPropsSync","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Syncing ABProps"]);h=function(){return a};return a}async function a(a,b){b=b.sendHash;d("WALogger").LOG(h());await d("WAAbPropsSync").syncAbProps({sendHash:b,eventFlow:(b=a)!=null?b:void 0})}g.syncAbProps=a}),98);
__d("WAUploadMedia",["WABase64","WABlobToArrayBuffer","WACheckCiphertextInServer","WACreateRetrier","WAEncryptAndUploadPlaintext","WAErrorMessage","WAFindReusableMediaEntry","WALogger","WAMediaUtils","WAResultOrError","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateMediaEntry unexpected runtime error: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["encryptAndUploadPlaintext: no plaintext"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: media is not on the server, start uploading"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["encryptAndUploadPlaintext: no plaintext"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: media is partially on the server, start uploading from byteOffset ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: media is on the server"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: resume/exist check exhausted available retries"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: resume check unexpected runtime error: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: async upload"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["encryptAndUploadPlaintext: no plaintext"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: no media entry found, need to upload media"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: get media entry unexpected runtime error: ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: fail to gather media routes"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadMedia: unexpected runtime error: ",""]);u=function(){return a};return a}function a(a){var b=a.uploadMediaMetric;return v(babelHelpers.extends({},a)).catch(function(a){a=d("WAErrorMessage").maybeGetMessageFromError(a);d("WALogger").ERROR(u(),a);return d("WAResultOrError").makeError("runtime-error")}).then(function(a){a.success?b.endSuccess():b.endFail(a.error,{string:{failReason:a.error}});return a})}async function v(a){a.chatJid;var b=a.filename,c=a.hash,e=a.mediaTypeDetails,f=a.protocolMsgId,g=a.size,h=a.uploadMediaMetric,u=a.getMediaKnownEntries,v=a.getMediaPlaintext,x=a.updateMediaEntryForMsg,y=a.updateMediaEntryForOptimisticUpload;a=a.getDownloadableThumbnailForMedia;var z;e.type==="regular"?z=e.mediaType:(z="preview",h.addAnnotations({string:{fullSizeMediaType:e.messageType}}));h.addPoint("create_upload_retrier_start");e=await d("WACreateRetrier").createUploadRetrier(z,h);if(!e.success){d("WALogger").WARN(t());h.addPoint("create_upload_retrier_fail");return e}h.addPoint("create_upload_retrier_end");e=e.value;x=w(f,c,x,y,h);h.addPoint("get_media_entry_start");y=await u(c).catch(function(a){d("WALogger").ERROR(s(),d("WAErrorMessage").maybeGetMessageFromError(a));h.addPoint("get_media_entry_fail");throw a});u=d("WAFindReusableMediaEntry").findReusableMediaEntryForArmadillo(f,y);h.addPoint("get_media_entry_end");if(u==null){h.addPoint("create_media_key_start");d("WALogger").LOG(r());f=d("WAMediaUtils").createMediaKey();y=d("WAMediaUtils").createUploadToken();var A=d("WATimeUtils").unixTime();h.addPoint("create_media_key_end");h.addPoint("get_media_plaintext_start");var B=await v(c).then(function(a){return a==null?null:d("WABlobToArrayBuffer").blobToArrayBuffer(a)});if(B==null){d("WALogger").ERROR(q());h.addPoint("get_media_plaintext_fail");return d("WAResultOrError").makeError("no-plaintext")}h.addPoint("get_media_plaintext_end");return d("WAEncryptAndUploadPlaintext").encryptAndUploadPlaintext({size:g,filename:b,mediaKey:f,mediaKeyTimestamp:A,serverMediaType:z,mediaUploadFlow:h,plaintext:B,plaintextHash:c,updateMediaEntry:x,uploadRetrier:e,uploadToken:y,getDownloadableThumbnailForMedia:a})}f=u.directPath;A=u.downloadableThumbnail;B=u.fileEncSha256;y=u.fileSha256;var C=u.mediaKey,D=u.mediaKeyTimestamp,E=u.objectId;u=u.uploadToken;A={directPath:f,downloadableThumbnail:A,fileEncSha256:B,filename:b,fileSha256:y||d("WABase64").decodeB64UrlSafe(c),mediaKey:C,mediaKeyTimestamp:D,objectId:E,serverMediaType:z,size:g,uploadToken:u};if(f!=null){d("WALogger").LOG(p());await x(A);h.addAnnotations({bool:{reused_media_entry:!0}});return d("WAResultOrError").makeResult(A)}h.addPoint("resume_check_start");y=await d("WACheckCiphertextInServer").checkCiphertextInServer(z,B,u,e).catch(function(a){d("WALogger").ERROR(o(),d("WAErrorMessage").maybeGetMessageFromError(a));h.addPoint("resume_check_fail");throw a});if(!y.success){h.addPoint("resume_check_fail");d("WALogger").WARN(n());return y}h.addPoint("resume_check_end");E=y.value;if(E.type==="media-found"){d("WALogger").LOG(m());h.addAnnotations({bool:{existingMediaFound:!0}});f=babelHelpers.extends({},A,{directPath:E.directPath,objectId:E.objectId});await x(f);h.addAnnotations({bool:{reused_media_entry:!0}});return d("WAResultOrError").makeResult(f)}else if(E.type==="media-partial-found"){d("WALogger").LOG(l(),E.resumeFromBytes);B=E.resumeFromBytes;h.addPoint("get_media_plaintext_start");y=await v(c).then(function(a){return a==null?null:d("WABlobToArrayBuffer").blobToArrayBuffer(a)});if(y==null){d("WALogger").ERROR(k());h.addPoint("get_media_plaintext_fail");return d("WAResultOrError").makeError("no-plaintext")}h.addPoint("get_media_plaintext_end");return d("WAEncryptAndUploadPlaintext").encryptAndUploadPlaintext({size:g,filename:b,fromOffset:B,mediaKey:C,mediaKeyTimestamp:D,serverMediaType:z,mediaUploadFlow:h,plaintext:y,plaintextHash:c,updateMediaEntry:x,uploadRetrier:e,uploadToken:u,getDownloadableThumbnailForMedia:a})}d("WALogger").LOG(j());A=d("WATimeUtils").unixTime();h.addPoint("get_media_plaintext_start");f=await v(c).then(function(a){return a==null?null:d("WABlobToArrayBuffer").blobToArrayBuffer(a)});if(f==null){d("WALogger").ERROR(i());h.addPoint("get_media_plaintext_fail");return d("WAResultOrError").makeError("no-plaintext")}h.addPoint("get_media_plaintext_end");return d("WAEncryptAndUploadPlaintext").encryptAndUploadPlaintext({size:g,filename:b,mediaKey:C,mediaKeyTimestamp:A,serverMediaType:z,mediaUploadFlow:h,plaintext:f,plaintextHash:c,updateMediaEntry:x,uploadRetrier:e,uploadToken:u,getDownloadableThumbnailForMedia:a})}function w(a,b,c,e,f){return function(g){f.addPoint("update_media_entry_start");var i=d("WAMediaUtils").encodeMediaEntryForUpload(g);g=a==null?e(b,function(){return i},g==null?void 0:g.objectId,g==null?void 0:g.serverMediaType):c(b,a,function(){return i},g==null?void 0:g.objectId,g==null?void 0:g.serverMediaType);return g.then(function(a){f.addPoint("update_media_entry_end");return a}).catch(function(a){d("WALogger").ERROR(h(),d("WAErrorMessage").maybeGetMessageFromError(a));f.addPoint("update_media_entry_fail");throw a})}}g.uploadMedia=a}),98);/*FB_PKG_DELIM*/
__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","WebDriverConfig","cr:3024","gkx","isEmpty"],(function(a,b,c,d,e,f,g){var h,i="javascript-sandbox",j="OverrideServer",k="www_sandbox",l="www_tier";a=function(){function a(){}var d=a.prototype;d.patchRequestHeaders=function(a){var d={},e=c("RTISubscriptionManagerConfig").bladerunner_www_sandbox,f=c("RTISubscriptionManagerConfig").is_intern;if(!(h||(h=c("isEmpty")))(c("WebDriverConfig").auxiliaryServiceInfo)){var g;g=(g=c("WebDriverConfig").auxiliaryServiceInfo.BladeRunner)!=null?g:c("WebDriverConfig").auxiliaryServiceInfo["BladeRunner-sandcastle"];g!=null?(typeof g.ip_address==="string"?d[j]=g.ip_address+":18295":typeof g.hostname==="string"&&(d[j]=g.hostname+":18295"),typeof c("WebDriverConfig").originHost==="string"&&(d[k]="www."+c("WebDriverConfig").originHost)):e!=null&&(d[i]=e)}else e!=null&&(d[i]=e);f===!0&&(d[l]="intern");if(c("WebDriverConfig").isTestRunning&&c("gkx")("20919")){g=b("cr:3024")==null?void 0:b("cr:3024").get();g!=null&&(d.is_test="true",d.original_request_id=g)}c("gkx")("20929")&&(d["Accept-Ack"]="RSAck");for(e in a)d[e]=a[e];d.http_referer=window.location.href;return d};return a}();d=new a();e=d;g["default"]=e}),98);
__d("BladeRunnerLogger",["FBLogger","ODS"],(function(a,b,c,d,e,f,g){var h,i="bladerunner_js_client",j={info:"info",warning:"warning",exception:"exception"};a=function(){function a(){this.setFBLoggerLevel(1)}var b=a.prototype;b.info=function(a){this.$2>=2&&c("FBLogger")(i).info("BladeRunner info: %s",a),this.$3(j.info,a)};b.warn=function(a){this.$2>=1&&c("FBLogger")(i).warn("BladeRunner warn: %s",a),this.$3(j.warning,a)};b.exception=function(a,b){b===void 0&&(b="");var d=b+" "+a.toString();this.$2>=0&&c("FBLogger")(i).warn("BladeRunner exception: %s, %s",b,a.toString());this.$3(j.exception,d)};b.trimForLogging=function(a){var b=1024;return typeof a==="string"&&a.length>b?"[trimmed]:"+a.substring(0,b)+"...":a};b.bumpCounter=function(a,b){b===void 0&&(b=1),(h||(h=d("ODS"))).bumpEntityKey(2966,"BladeRunnerClient",a,b)};b.setClientSessionId=function(a){this.$1=a};b.setFBLoggerLevel=function(a){this.$2=a};b.$3=function(a,b){};return a}();b=new a();e=b;g["default"]=e}),98);
__d("BladeRunnerTypes",[],(function(a,b,c,d,e,f,g){a={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6};b={BLADE_RUNNER:1,GATEWAY:2};g.StreamFrameType=a;g.StreamRequestType=b}),98);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(a,b,c,d,e,f,g){var h=function(){function a(){}var b=a.prototype;b.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")};b.getInstrumentationData=function(){if(this.instrumentationData!=null&&this.instrumentationData.length>0)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.updateRetryRequestPayload=function(a){a!=null?this.payload=c("Base64").encode(a):this.payload=null};a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.requestType=o(b.requestType);c.payload=r(b.payload);c.headers=u(b.headers);c.extraHeader=r(b.extraHeader);c.requestTarget=r(b.requestTarget);c.instrumentationData=r(b.instrumentationData);return c};return a}(),i=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.dataId=p(b.dataId);c.data=r(b.data);c.shouldAck=w(b.shouldAck);return c};var b=a.prototype;b.rawData=function(){if(this.data==null)throw new Error("Expected data");return this.data};b.rawDataSize=function(){return this.data==null?0:this.data.length};b.decodeData=function(){if(this.data==null)throw new Error("Expected data");return c("Base64").decode(this.data)};b.setData=function(a){this.data=c("Base64").encode(a)};b.getInstrumentationData=function(){if(this.instrumentationData!=null)return JSON.parse(this.instrumentationData);else return null};return a}(),j=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.dataId=o(b.dataId);c.success=v(b.success);c.message=r(b.message);c.code=p(b.code);return c};return a}();j.ACK_CODE_LANDED_AND_ACCEPTED=20;j.ACK_CODE_LANDED_BUT_NOT_ACCEPTED=21;j.ACK_CODE_FAILED_TO_LAND=50;var k=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=p(b.streamId);c.message=r(b.message);return c};return a}(),l=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.status=o(b.status);c.message=r(b.message);c.code=p(b.code);c.shouldRetry=w(b.shouldRetry);c.retryDelayMs=p(b.retryDelayMs);return c};return a}(),m=function(){function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.newBody=r(b.newBody);c.newExtraHeader=r(b.newExtraHeader);c.patchExtraHeader=r(b.patchExtraHeader);c.killBody=w(b.killBody);c.temporary=w(b.temporary);return c};return a}(),n=function(){function a(){}var b=a.prototype;b.getRequest=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")};b.getData=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")};b.getDataAck=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")};b.getStatusUpdate=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")};b.getLog=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")};b.getRewriteRequest=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")};b.getStreamId=function(){if(this.type==d("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;if(this.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck.streamId;throw new Error("Frame with unexpected type")};b.isInstrumented=function(){if(this.type===d("BladeRunnerTypes").StreamFrameType.REQUEST)return this.getRequest().instrumentationData!=null;else if(this.type===d("BladeRunnerTypes").StreamFrameType.DATA)return this.getData().instrumentationData!=null;else return!1};a.readObject=function(b){var e=new a();e.type=o(b.type);switch(e.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:e.request=h.readObject(s(b.request));break;case d("BladeRunnerTypes").StreamFrameType.DATA:e.data=i.readObject(s(b.data));break;case d("BladeRunnerTypes").StreamFrameType.DATA_ACK:e.dataAck=j.readObject(s(b.dataAck));break;case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:e.statusUpdate=l.readObject(s(b.statusUpdate));break;case d("BladeRunnerTypes").StreamFrameType.LOG:e.log=k.readObject(s(b.log));break;case d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:e.rewriteRequest=m.readObject(s(b.rewriteRequest));break;default:c("BladeRunnerLogger").warn("Frame with unexpected type: "+e.type);return null}return e};a.newRequestFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.REQUEST;c.request=b;return c};a.newDataFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.DATA;c.data=b;return c};a.newDataAckFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.DATA_ACK;c.dataAck=b;return c};a.newStatusUpdateFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE;c.statusUpdate=b;return c};a.newLogFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.LOG;c.log=b;return c};a.newRewriteRequestFrame=function(b){var c=new a();c.type=d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST;c.rewriteRequest=b;return c};return a}();a=function(){function a(a,b,c){this.batchId=a,this.frames=b,this.instrumentationData=c}var b=a.prototype;b.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")};b.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.getInstrumentationDataDfTraceId=function(){if(this.instrumentationData!=null)try{var a=JSON.parse(this.instrumentationData);return(a=a.dataFlowTracingData)==null?void 0:a.traceId}catch(a){return null}else return null};b.write=function(){return JSON.stringify(this)};b.isInstrumented=function(){return this.getFrames().some(function(a){return a.isInstrumented()})};a.read=function(b){b=JSON.parse(b);var c=b.batchId||0,d=[];for(var e of b.frames){var f=n.readObject(e);f!=null&&d.push(f)}f=b.instrumentationData||null;return new a(c,d,f)};return a}();function o(a){if(typeof a==="number")return a;throw new Error("Expected number")}function p(a){return a==null?null:o(a)}function q(a){if(typeof a==="string")return a;throw new Error("Expected string")}function r(a){return a==null?null:q(a)}function s(a){if(typeof a==="object"&&a!=null)return a;throw new Error("Expected object")}function t(a){if(typeof a==="object"&&a!=null){var b=a,c={};Object.keys(b).forEach(function(a){var d=b[a];typeof d==="string"&&d!=null&&(c[a]=d)});return c}throw new Error("Expected string map")}function u(a){return a==null?null:t(a)}function v(a){if(typeof a==="boolean"&&a!=null)return a;throw new Error("Expected boolean")}function w(a){return a==null?null:v(a)}g.GatewayStreamRequest=h;g.GatewayStreamData=i;g.GatewayStreamDataAck=j;g.GatewayStreamLog=k;g.GatewayStreamStatusUpdate=l;g.GatewayStreamRewriteRequest=m;g.GatewayStreamFrame=n;g.GatewayStreamBatch=a}),98);
__d("RequestStreamE2EClientLoggerEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({RECEIVED:"received",SENT:"sent",FAILURE:"failure",PUBACK:"puback"});f["default"]=a}),66);
__d("RequestStreamE2EClientLoggerMessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({REQUEST_STREAM:"request_stream",AMENDMENT:"amendment",AMENDMENT_ACK:"amendment_ack",CANCEL:"cancel",RESPONSE:"response",RESPONSE_ACK:"response_ack",TIMED_REQUEST:"timed_request",INTERRUPT:"interrupt"});f["default"]=a}),66);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=1e3;a=function(){function a(a,b,c){this.$2=a,this.$1=b,this.$3=c}var b=a.prototype;b.onProxyResponse=function(a){this.$4(a);var b=[];for(var e of a.getFrames())this.$2.witnessFrame(e)&&b.push(e);e=this.$2.getRequest();(e=e.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").SENT,{},(e=a.getInstrumentationData())==null?void 0:e.auxId,null,a.getInstrumentationDataDfTraceId());b.length>0&&this.$5(new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(a.batchId,b,a.instrumentationData))};b.onDisconnect=function(){this.$2.resetErrors();var a=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();a.streamId=this.$2.getRequest().streamId;a.status=d("BladeRunnerStreamStatus").StreamStatus.CLOSED;a.shouldRetry=!0;a.retryDelayMs=0;a=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a)]);this.onProxyResponse(a)};b.$4=function(a){var b=this;a=a.getFrames().filter(function(a){return a.type==d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(a of a){var e=a.getStatusUpdate();if(e.status==d("BladeRunnerStreamStatus").StreamStatus.CLOSED||e.status==d("BladeRunnerStreamStatus").StreamStatus.REJECTED){this.$2.onError();var f=e.shouldRetry!=null&&e.shouldRetry,g=e.message!=null?e.message:"null";if(f&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){e.status=d("BladeRunnerStreamStatus").StreamStatus.STOPPED;var i=h;e.retryDelayMs!=null&&(i=e.retryDelayMs);c("BladeRunnerLogger").info("Can retry: stream "+e.streamId+" closed with status "+e.status+", message "+g+". Error count: "+this.$2.getErrorCount()+", retryDelay "+i+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString());this.$2.getRetryRequestScheduled()?c("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(c("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),i>0?c("setTimeoutAcrossTransitions")(function(){return b.$6()},i):this.$6())}else c("BladeRunnerLogger").info("Will not retry: stream "+e.streamId+" closed with status "+e.status+", message "+g+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+f.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),f?c("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):c("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(e.streamId)}}};b.$6=function(){this.$2.setRetryRequestScheduled(!1);if(this.$2.isAlive()){var a=this.$1.getUpdatedRequestBody();a!=null&&this.$2.updateRetryRequestPayload(a);this.$3.sendRetryStreamRequest(this.$2)}};b.$5=function(a){c("BladeRunnerLogger").bumpCounter("send_to_handler");var b=[];this.$1.onBatch(a);for(a of a.getFrames())try{switch(a.type){case d("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(a.getData());b.push(a.getData());break;case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(a.getStatusUpdate().status);break;case d("BladeRunnerTypes").StreamFrameType.LOG:var e=a.getLog().message;e!=null&&this.$1.onLog(e);break;case d("BladeRunnerTypes").StreamFrameType.DATA_ACK:break;default:throw new Error("Frame with unexpected type")}}catch(a){c("BladeRunnerLogger").bumpCounter("send_to_handler_error"),c("BladeRunnerLogger").exception(a,"Failed sending frame to stream handler")}this.$7(b)};b.$7=function(a){var b=[];for(a of a)if(a.shouldAck===!0&&a.dataId!=null){var c=new(d("BladeRunnerTypesInternal").GatewayStreamDataAck)();c.streamId=a.streamId;c.dataId=a.dataId;c.success=!0;b.push(c)}this.$3.sendDataAcks(b)};return a}();g["default"]=a}),98);
__d("RtiRequestStreamE2eClientBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("819");b=d("FalcoLoggerInternal").create("rti_request_stream_e2e_client_batch",a);e=b;g["default"]=e}),98);
__d("RtiRequestStreamE2eClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1857112");b=d("FalcoLoggerInternal").create("rti_request_stream_e2e_client",a);e=b;g["default"]=e}),98);
__d("RequestStreamE2ELogger",["ConstUriUtils","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RtiRequestStreamE2eClientBatchFalcoEvent","RtiRequestStreamE2eClientFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=["FBGQLS:COMMENT_CREATE_SUBSCRIBE","FBGQLS:COMMENT_LIKE_SUBSCRIBE","FBGQLS:FEEDBACK_COMMENT_PERMISSION_TOGGLE_SUBSCRIBE","FBGQLS:FEEDBACK_TYPING_SUBSCRIBE","FBLQ:comet_notifications_live_query_experimental"],i=0;function j(){var a=Date.now();i>=a?i+=1:i=a;return i.toString()}var k=function(){function a(a,b,c,e,f,g,h,i,j,k){this.$10=[];this.$11=!1;this.$1=a;this.$2=b;this.$3=c;this.$4=e;this.$5=f;this.$6=g;this.$7=h;this.$8=i;this.$9=j;this.$12=(a=k)!=null?a:!1;b=d("ConstUriUtils").getUri(window.location.href);b&&(this.$13=b.getDomain())}var b=a.prototype;b.logE2EEvent=function(a,b,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);if(this.$3==="Falco")return;e={request_id:this.$1,resume_id:"0",retry_id:e,transport:this.$2,method:this.$3,use_case:this.$4,request_log_context:this.$5,force_log_context:this.$6,e2e_sample_rate:this.$7,message_type:a,event:b,timestamp_ms:j(),aux_id:d,additional_data:c,dgw_stream_group_logging_id:this.$8,dgw_count_prior_streams_in_group:this.$9,domain:this.$13,df_trace_id:f};this.$14(e)};b.$14=function(a){if(!this.$12){c("RtiRequestStreamE2eClientFalcoEvent").log(function(){return a});return}this.$10.push(a);if(this.$11||a.event==c("RequestStreamE2EClientLoggerEvent").FAILURE||a.message_type==c("RequestStreamE2EClientLoggerMessageType").RESPONSE){var b={events:this.$10};c("RtiRequestStreamE2eClientBatchFalcoEvent").log(function(){return b});this.$10=[];this.$11=!0}};b.getRequestId=function(){return this.$1};return a}();function a(a,b,c){if(a==null||a.method==null)return null;var d=!1;h.includes(a.method)&&(d=!0);if(b==null||b.length==0)return null;b=JSON.parse(b);return b.requestId==null?null:new k(b.requestId,c,a.method,l(a.method,a),b.requestLogContext,b.forceLogContext,b.sampleRate,b.dgwStreamGroupLoggingId,b.dgwCountPriorStreamsInGroup,d)}function l(a,b){if(a==="FBLQ"&&b.config_id)return b.config_id;if(a==="SKY"){if(b.topic){var c=b.topic.lastIndexOf("/");return c>0?b.topic.substr(0,c):b.topic}return}return a}function b(a,b,d,e,f,g){f===void 0&&(f=null);g===void 0&&(g=null);if(a==null||a.requestId==null||a.clientLoggingDisabled!=null)return;var h={request_id:a.requestId,resume_id:"0",transport:b,e2e_sample_rate:a.sampleRate,message_type:d,event:e,timestamp_ms:j(),aux_id:a.auxId,additional_data:f,df_trace_id:g};c("RtiRequestStreamE2eClientFalcoEvent").log(function(){return h})}g.RequestStreamE2ELogger=k;g.createStreamLogger=a;g.logRequestStreamE2EEventStatic=b}),98);
__d("RequestStreamTransport",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["WEB_BR_MQTT","WEB_RS_MQTT","WEB_RS_STARGATE"]);f.RequestStreamTransport=a}),66);
__d("BladeRunnerSocket",["BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","CurrentUser","FBMqttChannel","MqttPublishListener","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamTransport","justknobx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Connected",j="Disconnected",k="/br_sr",l="/sr_res",m=null;function n(a){var b;switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:return(b=a.request)==null?void 0:b.getInstrumentationData();case d("BladeRunnerTypes").StreamFrameType.DATA:return(b=a.data)==null?void 0:b.getInstrumentationData()}return null}function o(a){switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:return c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM;case d("BladeRunnerTypes").StreamFrameType.DATA:return c("RequestStreamE2EClientLoggerMessageType").AMENDMENT}return null}function p(a){if(a===null)return null;switch(a){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:return"Accepted";case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:return"Rejected";case d("BladeRunnerStreamStatus").StreamStatus.STARTED:return"Started";case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:return"Stopped";case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:return"Closed"}return null}function q(a){var b={};a==null?void 0:(a=a.frames)==null?void 0:a.forEach(function(a){if(a.type===d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE){a=(a=a.statusUpdate)==null?void 0:a.status;a=p(a);a!==null&&(b.flow_status=a)}});return b}function r(a,b){var c;switch(a.type){case d("BladeRunnerTypes").StreamFrameType.REQUEST:b.data_base64_size=(c=a.request)==null?void 0:(c=c.payload)==null?void 0:(c=c.length)==null?void 0:c.toString();break;case d("BladeRunnerTypes").StreamFrameType.DATA:b.data_base64_size=(c=a.data)==null?void 0:(b=c.rawDataSize())==null?void 0:b.toString();break}return null}function s(a,b,e){var f=n(a);if(f==null)return;var g=o(a);if(g==null)return;var h=null;switch(b){case d("MqttPublishListener").MqttPublishEvent.SENT:h=c("RequestStreamE2EClientLoggerEvent").SENT;break;case d("MqttPublishListener").MqttPublishEvent.ACKED:h=c("RequestStreamE2EClientLoggerEvent").PUBACK;break;case d("MqttPublishListener").MqttPublishEvent.NOT_ACKED:case d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED:case d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR:h=c("RequestStreamE2EClientLoggerEvent").FAILURE;e.reason==null&&(e.reason=b);break}if(h==null)return;r(a,e);if(((b=a.request)==null?void 0:b.e2eLogger)!=null&&f.clientLoggingDisabled==null){(b=a.request)==null?void 0:b.e2eLogger.logE2EEvent(g,h,e,f.auxId)}else d("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(f,d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,g,h,e)}a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=null,this.$5=0,this.$6=new Map(),this.$7=a!=null?a:c("FBMqttChannel"),this.$8=new Map(),c("BladeRunnerLogger").setClientSessionId(c("uuidv4")()),this.$9()}a.get=function(){m==null&&(m=new a(c("FBMqttChannel")));return m};var e=a.prototype;e.sendNewStreamRequest=function(b,d){d=new(c("BladeRunnerEventHandler"))(b,d,this);var e=b.getRequest();this.$6.set(e.streamId,d);if(!this.$10()){this.$11(d,e.streamId);return}this.getStreamCount()<=a.maxStreamCount?this.$12(e):(c("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),c("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(b.getRequest().getHeaders())),this.$11(d,e.streamId))};e.sendRetryStreamRequest=function(a){this.$12(a.getRequest())};e.sendCancel=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_cancel");var b=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();b.streamId=a.streamId;b.status=d("BladeRunnerStreamStatus").StreamStatus.CLOSED;this.$13(b,a);this.removeStream(a.streamId)};e.sendAmendment=function(a,b,e){c("BladeRunnerLogger").bumpCounter("socket_send_amendment");var f=new(d("BladeRunnerTypesInternal").GatewayStreamData)();f.streamId=a;f.setData(b);e!=null&&(f.instrumentationData=e);this.$14(f)};e.sendAmendmentWithAck=function(a,e,f){var g=this;c("BladeRunnerLogger").bumpCounter("socket_send_amendment");var i=this.$15(),j=new(d("BladeRunnerTypesInternal").GatewayStreamData)();j.streamId=a;j.setData(e);j.shouldAck=!0;j.dataId=i;f!=null&&(j.instrumentationData=f);a=new(h||(h=b("Promise")))(function(a,b){g.$8.set(i,{resolve:a,reject:b})});this.$14(j);return a};e.$14=function(a){this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(a)),this.$16()};e.sendDataAcks=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_data_ack",a.length),this.$17(a)};e.removeStream=function(a){this.$6["delete"](a)};e.getStreamCount=function(){return this.$6.size};e.getNextStreamId=function(){this.$5++;return this.$5};e.onMQTTStateChanged=function(a){this.$16();if(a!=j&&a!=i||this.$4==a)return;this.$4=a;c("BladeRunnerLogger").info("MQTTStateChanged: "+a);a==j?(c("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$18()):a==i&&c("BladeRunnerLogger").bumpCounter("mqtt_state_connected")};e.$12=function(a){c("BladeRunnerLogger").bumpCounter("socket_send_request");this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(a));if(!this.$16()){(a=a.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"MQTT Not Connected"})}};e.$13=function(a,b){this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a));if(this.$16()){(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").SENT)}};e.$17=function(a){for(a of a)this.$1.push(d("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(a));this.$16()};e.$19=function(){this.$2++;return this.$2};e.$15=function(){this.$3++;return this.$3};e.$16=function(){var a=!1;if(this.$7.getConnectionState()===i&&this.$1.length>0)try{this.$20(this.$1),a=!0}catch(a){}finally{this.$1=[]}return a};e.$20=function(a){var b=this,e=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(this.$19(),a),f=e.write();if(f.length>this.$21()){var g=Math.floor(a.length/2);if(g===0){a.forEach(function(a){return s(a,d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR,{reason:"too long"})});var h=new Error("Publish is too long: "+f.length);h.stack;this.$22(e,h,"Publish is too long");throw h}this.$20(a.slice(0,g));this.$20(a.slice(g,a.length))}else try{c("BladeRunnerLogger").info("send message to "+k+" ("+f.length+" bytes)");h={qos:1,skipBuffer:!1};if(e.isInstrumented()){var i=Date.now();h.listener={onEvent:function(b){var c=(Date.now()-i).toString();a.forEach(function(a){s(a,b,{latency:c})})}}}this.$7.publish(k,f,h)["catch"](function(a){b.$22(e,a,"Failed publishing to MQTT")});c("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(a){this.$22(e,a,"Failed publishing to MQTT");throw a}};e.$9=function(){var a=this;c("BladeRunnerLogger").info("Starting socket with endpoint "+this.$7.getEndpoint()+" useragent "+navigator.userAgent);this.onMQTTStateChanged(this.$7.getConnectionState());this.$7.subscribeChannelEvents({onMQTTStateChanged:function(b){a.onMQTTStateChanged(b)},onJSError:function(a){var b=a!=null&&typeof a.isRecoverable==="boolean"?a.isRecoverable:!1;b?c("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(c("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof a=="object"&&a!=null?a.toString():"unknown error")+", "+JSON.stringify(a)),c("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}});this.$7.subscribe(k,function(a){throw new Error("Unexpected response: "+k+" "+a.toString())});this.$7.subscribe(l,function(b){a.$23(b)})};e.$23=function(a){a=d("BladeRunnerTypesInternal").GatewayStreamBatch.read(a);this.processBatch(a)};e.$22=function(a,b,e){for(a of a.getFrames())if(a.type===d("BladeRunnerTypes").StreamFrameType.REQUEST){var f=a.getRequest(),g=this.$6.get(f.streamId);g!=null&&this.$24(g,f.streamId,d("BladeRunnerStreamStatus").StreamStatus.CLOSED,!0,null)}else if(a.type===d("BladeRunnerTypes").StreamFrameType.DATA){g=a.getData();f=g.dataId;if(g.shouldAck!=null&&g.shouldAck&&f!=null){var h=new(d("BladeRunnerTypesInternal").GatewayStreamDataAck)();h.streamId=g.streamId;h.dataId=f;h.success=!1;h.code=d("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_FAILED_TO_LAND;h.message=e;this.$25(h)}}c("BladeRunnerLogger").info("Failed publishing to MQTT: "+b.message);c("BladeRunnerLogger").bumpCounter("mqtt_publish_error")};e.$25=function(a){var b=this.$8.get(a.dataId);b!=null&&(this.$8["delete"](a.dataId),a.success?b.resolve(!0):a.code===d("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_LANDED_BUT_NOT_ACCEPTED?b.resolve(!1):b.reject(a.message))};e.processBatch=function(a){try{d("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(a.getInstrumentationData(),d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").RECEIVED,q(a),a.getInstrumentationDataDfTraceId());c("BladeRunnerLogger").bumpCounter("socket_process_batch");var b=JSON.stringify(a);c("BladeRunnerLogger").info("Received batch ("+b.length+" bytes)");b=null;for(var e of a.getFrames()){var f=e.getStreamId();b==null&&(b=f);if(f!=null&&b!=f)throw new Error("Received batch with frames for multiple streams");e.type==d("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.$25(e.getDataAck())}if(b!=null){f=this.$6.get(b);f!=null?f.onProxyResponse(a):c("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+b)}else c("BladeRunnerLogger").info("Received batch with no frames")}catch(a){c("BladeRunnerLogger").exception(a,"Failed processing batch from MQTT");c("BladeRunnerLogger").bumpCounter("socket_process_batch_error");throw a}};e.$18=function(){this.$6.forEach(function(a,b,c){a.onDisconnect()})};e.$11=function(a,b){this.$24(a,b,d("BladeRunnerStreamStatus").StreamStatus.REJECTED,!1,0)};e.$24=function(a,b,c,e,f){var g=new(d("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();g.streamId=b;g.status=c;g.shouldRetry=e;g.retryDelayMs=f;b=new(d("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[d("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(g)]);a.onProxyResponse(b)};e.$10=function(){if(!c("CurrentUser").isLoggedIn()){c("BladeRunnerLogger").bumpCounter("request_stream_user_logged_out");return!1}return!0};e.$21=function(){var a=1024*1024,b=512*1024;try{var d=c("justknobx")._("317");b=d*a}catch(a){}return Math.max(b-1024,0)};return a}();a.maxStreamCount=2e3;g["default"]=a}),98);
__d("BladeRunnerStream",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.getStreamHandler=function(){return this.$1};b.cancel=function(){};b.amendWithAck=async function(a){return!1};b.amendFireAndForget=function(a){};b.amendWithoutAck=function(a){};b.start=function(){return Promise.resolve()};b.isAlive=function(){return!1};b.canAmend=function(){return!1};b.getStatus=function(){return null};b.getStreamId=function(){return 0};return a}();f.default=a}),66);
__d("BladeRunnerStreamState",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var b=a.prototype;b.getRequest=function(){return this.$1};b.updateRetryRequestPayload=function(a){this.$1.updateRetryRequestPayload(a)};b.isAlive=function(){return!(this.$2==d("BladeRunnerStreamStatus").StreamStatus.CLOSED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.REJECTED)};b.canAmend=function(){return this.$2==d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.STARTED||this.$2==d("BladeRunnerStreamStatus").StreamStatus.STOPPED};b.getLastStatus=function(){return this.$2};b.setLastStatus=function(a){this.$2=a};b.onError=function(){this.$3+=1};b.getErrorCount=function(){return this.$3};b.resetErrors=function(){this.$3=0};b.getRetryRequestScheduled=function(){return this.$6};b.setRetryRequestScheduled=function(a){this.$6=a};b.witnessFrame=function(a){switch(a.type){case d("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var b=a.getStatusUpdate(),c=!0;switch(b.status){case d("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:c=!this.$4;this.$4||(this.$4=!0);break;case d("BladeRunnerStreamStatus").StreamStatus.STARTED:c=this.getLastStatus()!=d("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case d("BladeRunnerStreamStatus").StreamStatus.STOPPED:c=this.getLastStatus()==d("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case d("BladeRunnerStreamStatus").StreamStatus.CLOSED:case d("BladeRunnerStreamStatus").StreamStatus.REJECTED:default:c=!0}this.setLastStatus(b.status);return c;case d("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:this.$7(a.getRewriteRequest());return!1;default:return!0}};b.setRetriesAllowed=function(a){this.$5=a};b.getRetriesAllowed=function(){return this.$5};b.$7=function(a){if(!(a.temporary!=null||a.temporary==!0)){a.newBody!=null&&(this.$1.payload=a.newBody);a.newExtraHeader!=null&&(this.$1.extraHeader=a.newExtraHeader,this.$1.headers=JSON.parse(a.newExtraHeader));if(a.patchExtraHeader!=null)try{var b=JSON.parse(a.patchExtraHeader),d=this.$1.extraHeader!=null?JSON.parse(this.$1.extraHeader):{};this.$1.headers==null&&(this.$1.headers={});for(var e of Object.keys(b))this.$1.headers[e]=b[e],d[e]=b[e];this.$1.extraHeader=JSON.stringify(d)}catch(b){c("BladeRunnerLogger").warn("Failed to patch header: "+a.patchExtraHeader)}a.killBody!=null&&a.killBody==!0&&(this.$1.payload=null)}};return a}();g["default"]=a}),98);
__d("BladeRunnerSocketStream",["BladeRunnerStream","BladeRunnerStreamState","BladeRunnerStreamStatus","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","uuidv4"],(function(a,b,c,d,e,f,g){var h=4,i={reason:"stream_dead"};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e){b=a.call(this,b)||this;b.$BladeRunnerSocketStream$p_1=e;b.$BladeRunnerSocketStream$p_2=new(c("BladeRunnerStreamState"))(d);b.$BladeRunnerSocketStream$p_2.setRetriesAllowed(h);return b}var e=b.prototype;e.start=function(){var a=this;return new Promise(function(b){a.send(),b()})};e.send=function(){var a,b=this.$BladeRunnerSocketStream$p_2.getRequest();(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_base64_size:(a=b.payload)==null?void 0:(b=a.length)==null?void 0:b.toString()});this.$BladeRunnerSocketStream$p_1.sendNewStreamRequest(this.$BladeRunnerSocketStream$p_2,this.getStreamHandler())};e.amendWithAck=async function(a){var b=this.$BladeRunnerSocketStream$p_2.getRequest(),d=b.getInstrumentationData();if(d){var e;d.auxId=c("uuidv4")();(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}if(this.canAmend()){if(d){(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}return this.$BladeRunnerSocketStream$p_1.sendAmendmentWithAck(b.streamId,this.$BladeRunnerSocketStream$p_3(a),d==null?null:JSON.stringify(d))}(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,i,d==null?void 0:d.auxId);return Promise.reject("Stream is closed or not accepted")};e.amendFireAndForget=function(a){var b=this.$BladeRunnerSocketStream$p_2.getRequest(),d=b.getInstrumentationData();if(d){var e;d.auxId=c("uuidv4")();(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}if(this.canAmend()){this.$BladeRunnerSocketStream$p_1.sendAmendment(this.$BladeRunnerSocketStream$p_2.getRequest().streamId,this.$BladeRunnerSocketStream$p_3(a),d==null?null:JSON.stringify(d));if(d){(e=b.e2eLogger)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:a==null?void 0:(e=a.length)==null?void 0:e.toString()},d.auxId)}}else{(a=b.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,i,d==null?void 0:d.auxId);throw new Error("Stream is closed or not accepted")}};e.amendWithoutAck=function(a){this.amendFireAndForget(a)};e.$BladeRunnerSocketStream$p_3=function(a){return typeof a=="object"?btoa(new TextDecoder("utf8").decode(a)):a};e.cancel=function(){var a=this.$BladeRunnerSocketStream$p_2.getRequest();(a=a.e2eLogger)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").RECEIVED);this.isAlive()&&(this.$BladeRunnerSocketStream$p_1.sendCancel(this.$BladeRunnerSocketStream$p_2.getRequest()),this.$BladeRunnerSocketStream$p_2.setLastStatus(d("BladeRunnerStreamStatus").StreamStatus.CLOSED),this.getStreamHandler().onClientCancel())};e.isAlive=function(){return this.$BladeRunnerSocketStream$p_2.isAlive()};e.canAmend=function(){return this.$BladeRunnerSocketStream$p_2.canAmend()};e.getStatus=function(){return this.$BladeRunnerSocketStream$p_2.getLastStatus()};e.getStreamId=function(){return this.$BladeRunnerSocketStream$p_2.getRequest().streamId};return b}(c("BladeRunnerStream"));g.default=a}),98);
__d("RequestStreamE2ESampling",["invariant","Random","RequestStreamE2EClientSamplingConfig","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return a==null?!1:a.requestId!=null&&typeof a.requestId=="string"&&a.forceLogContext!=null&&typeof a.forceLogContext=="string"}function j(a,b){var d=c("RequestStreamE2EClientSamplingConfig").sampleRate;if(d>1&&a!=null){a=c("RequestStreamE2EClientSamplingConfig").methodToSamplingMultiplier[a];a==0?d=0:a!=null&&(d/=a)}return d==1?1:d/b}function k(a,b,d,e){var f=c("uuidv4")();(b.requestId==null||b.requestId===""||typeof b.requestId!="string")&&(a.requestId!=null&&typeof a.requestId=="string"?b.requestId=a.requestId:b.requestId=f);b.requestId+="/_"+f.substring(0,4);b.resumeId="0";d!=null?b.sampleRate=d:b.sampleRate=void 0;f="";e!=null&&e.length>0&&(f=e);f.length>0&&(b.requestLogContext!=null&&b.requestLogContext.length>0?b.requestLogContext+=":":b.requestLogContext="",b.requestLogContext+=f);(a==null?void 0:a.method)==="Falco"&&(b.clientLoggingDisabled="Falco");d={};for(e of Object.keys(b).sort())d[e]=b[e];return JSON.stringify(d)}function a(a,b,d,e){b&&(!b.requestId.includes("/")&&!b.requestId.includes("#")||h(0,41721));e=j(a.method,(e=e)!=null?e:1);if(c("Random").coinflip(e))return k(a,b||{requestId:""},e,d);return i(b)?k(a,b||{requestId:""},null,d):""}g.isForceLogged=i;g.getSampleRateForLogging=j;g.normalizeInstrumentationData=k;g.validateInstrumentationData=a}),98);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamTransport","cr:2046346"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$2=d("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,this.$1=a!=null?a:c("BladeRunnerSocket").get(),b&&(this.$2=b)}var e=a.prototype;e.createStream=function(a,b,c,d){return this.$3(a,b,c,d)};e.requestStream=function(a,c,d,e){a=this.$3(a,c,d,e);a.send();b("cr:2046346")!=null&&b("cr:2046346").startPulsarTest();return a};e.logInfo=function(a){c("BladeRunnerLogger").info(a)};e.bumpCounter=function(a){c("BladeRunnerLogger").bumpCounter(a)};e.$3=function(a,b,e,f){var g=new(d("BladeRunnerTypesInternal").GatewayStreamRequest)();g.streamId=this.$1.getNextStreamId();g.requestType=d("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER;g.headers=c("BladeRunnerConfig").patchRequestHeaders(a);g.extraHeader=JSON.stringify(g.headers);g.payload=b!=null?c("Base64").encode(b):null;f!=null&&(f.transport="WEB_RS_MQTT");g.instrumentationData=d("RequestStreamE2ESampling").validateInstrumentationData(g.headers||{},f);g.e2eLogger=d("RequestStreamE2ELogger").createStreamLogger(g.headers,g.instrumentationData,this.$2);return new(c("BladeRunnerSocketStream"))(e,g,this.$1)};return a}();g["default"]=a}),98);
__d("ClickToWhatsAppBusinessDownloadFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1923272");b=d("FalcoLoggerInternal").create("click_to_whats_app_business_download",a);e=b;g["default"]=e}),98);
__d("CometSSREntrypoint",["objectValues","relay-runtime/util/withProvidedVariables"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,d=c("relay-runtime/util/withProvidedVariables")(a.variables,a.parameters.params.providedVariables);return{actor_id:(b=(b=a.environmentProviderOptions)==null?void 0:b.actorID)!=null?b:null,exclude_from_ssr:(b=(b=a.environmentProviderOptions)==null?void 0:b.excludeFromSSR)!=null?b:!1,graphql_env_override_ref:(b=(b=a.environmentProviderOptions)==null?void 0:b.graphQLEnvOverrideRef)!=null?b:null,id:a.parameters.params.id,name:a.parameters.params.name,num_connections_for_ssr:(b=(b=a.environmentProviderOptions)==null?void 0:b.numConnectionsForSSR)!=null?b:null,preloader_group:(b=a.environmentProviderOptions)==null?void 0:b.preloaderGroup,variables:d}}function i(a,b){b=a.getPreloadProps(b);var d=b.entryPoints;b=b.queries;b=(b=b)!=null?b:{};var e=c("objectValues")(b).filter(function(a){return a!=null}),f=[a.root.getModuleId()];if(d!=null){b=Object.keys(d);b.forEach(function(a){a=d[a];if(a==null)return;var b=a.entryPoint;a=a.entryPointParams;b=i(b,a);e=e.concat(b.queries);f=f.concat(b.roots)})}return{queries:e,roots:f}}function a(a,b){a=i(a,b);b=a.queries;return b.map(h)}function b(a){a=a.map(function(a){return i(a.entryPoint,a.entryPointParams)});return a.map(function(a){var b=a.queries;a=a.roots;return{quries:b.map(h),roots:a}})}function d(a,b){a=i(a,b);b=a.queries;a=a.roots;return{queries:b.map(h),roots:a}}function e(){throw new Error("This function should not be called. It exists solely for the type-generation")}function f(a,b){var d;a=a.map(function(a){return i(a.entryPoint,a.entryPointParams)});a=a.map(function(a){var b=a.queries;a=a.roots;return{queries:b.map(h),roots:a}});d=c("objectValues")((d=b==null?void 0:b.getDisplayQueries())!=null?d:{}).filter(function(a){return a!=null}).map(h);b=c("objectValues")((b=b==null?void 0:b.getDeferredQueries())!=null?b:{}).filter(function(a){return a!=null}).map(h);return{appshellQueries:{deferred:b,display:d},routeObjects:a}}g.processRootEntryPoint=a;g.processRootEntryPoints=b;g.processRootEntryPointData=d;g.preloadQuery=e;g.processServerEntryPoints=f}),98);
__d("CometRouterSSREntrypoint",["CometSSREntrypoint"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("CometSSREntrypoint").processRootEntryPoint;b=importNamespace("CometSSREntrypoint").processRootEntryPointData;f.processRootEntryPoint=a;f.processRootEntryPointData=b}),66);
__d("CometRelayEF",["Bootloader","BootloaderEvents","ClientConsistencyEventEmitter","CometRouterSSREntrypoint","cometAsyncFetch","gkx","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function j(a){if(!c("gkx")("26332"))return;a=a.filter(function(a){return!i.has(a)});if(a.length===0)return;a.forEach(function(a){d("BootloaderEvents").notifyHasteResponseEFStart("relay_3d",a)});var b=(h||(h=c("performanceAbsoluteNow")))(),e=c("cometAsyncFetch")("/ajax/relay-ef/",{data:{queries:a},method:"POST"}).then(function(a){return{fetchPredictionsEnd:(h||(h=c("performanceAbsoluteNow")))(),fetchPredictionsStart:b,payload:a}});a.forEach(function(a){return i.set(a,e)})}function a(a,b){a=d("CometRouterSSREntrypoint").processRootEntryPoint(a,b);j(a.map(function(a){a=a.name;return a}))}function k(a){if(!c("gkx")("26332"))return;j(a);var b=(h||(h=c("performanceAbsoluteNow")))();a.forEach(function(a){var e=i.get(a);e&&e!==!0&&c("promiseDone")(e,function(e){var f=e.fetchPredictionsEnd,g=e.fetchPredictionsStart;e=e.payload;if(e!=null&&typeof e==="object"){var h;c("Bootloader").loadPredictedResourceMap(e.predictions[a],{onLog:function(c){return d("BootloaderEvents").notifyHasteResponseEF("relay_3d",a,{fetchPredictionsEnd:f,fetchPredictionsStart:g,fetchRsrcsStart:b,tierOne:c})}},(h=(h=e.consistency)==null?void 0:h.rev)!=null?h:null);e.consistency!=null&&c("ClientConsistencyEventEmitter").emit("newEntry",e.consistency)}});i.set(a,!0)})}function b(a,b){a=d("CometRouterSSREntrypoint").processRootEntryPoint(a,b);b=a.map(function(a){a=a.name;return a});k(b)}e={fetchPredictedResources:b,fetchPredictedResourcesForQueries:k,fetchPredictions:a,fetchPredictionsForQueries:j};g["default"]=e}),98);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};e=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};f.ANALYTICS_SAMPLE_RATE=a;f.BUCKET_DELIMITER=b;f.CONTEXT_BUCKET_STRATEGY=c;f.CONFIG_TYPE=d;f.EMPTY_RESOLVED_CONTEXTS=e;f.EMPTY_RESOLVED_MONITORS=g;f.EMPTY_RESULT_PARAMS=h;f.ERROR=i;f.JSON_SUB_SAMPLE_RATE=j;f.LIST_DELIMITER=k;f.TYPE=l}),66);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=[];for(a of a){var c=a.bucketIndex;if(c==void 0)break;b.push(c)}return b};b=function(a){var b=[];for(a of a){var c=a.bucketName;if(c===void 0)break;b.push(c)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){var b=[];for(a of a){var c=a.value;if(c===void 0)break;b.push(c)}return b};f.getBucketIndices=a;f.getBucketNames=b;f.getContextNames=c;f.getContextValues=d}),66);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=["cfg_ver_timestamp","policy_id","version","sample_rate"],i=function(a){return a.join(d("ContextualConfigConstants").LIST_DELIMITER)},j=function(a,b){for(var c of h)b[c]!=null&&(a[c]=b[c]);b.name&&(a.config_name=b.name)},k=function(a,b){var c=b[0],e=b[1],f=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=i(e.map(function(a){return a.value}))||"INVALID";a.context=i(d("ContextualConfigResolvedContextsUtils").getContextNames(f));a.context_value=i(d("ContextualConfigResolvedContextsUtils").getContextValues(f));a.bucket_name=i(d("ContextualConfigResolvedContextsUtils").getBucketNames(f));a.monitor=i(d("ContextualConfigResolvedContextsUtils").getContextNames(b));a.monitor_value=i(d("ContextualConfigResolvedContextsUtils").getContextValues(b))};function a(a,b,c){var e={sample_rate:d("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE};j(e,a);k(e,b);c&&(e.config_contents=JSON.stringify(a));return e}g["default"]=a}),98);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2=a,this.$4=d("Random").random()<1/a.sample_rate,this.$3=b,this.$1=c}var b=a.prototype;b.getData=function(){return this.$2};b.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};b.isSampled=function(){return this.$4};return a}();g["default"]=a}),98);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$2=a,this.$1=b}var b=a.prototype;b.createEvent=function(a){var b=this.$1,d=this.$2;a=new(c("ContextualConfigExposureEvent"))(a,d,b);return a};return a}();function a(a,b){return new h(a,b)}g["default"]=a}),98);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){};b=function(a){d("MarauderLogger").log("contextual_config_exposure","",a)};e=c("ContextualConfigExposureLoggerFactory")(a,b);g["default"]=e}),98);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a===!1)throw new Error(b)}f["default"]=a}),66);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return Array.isArray(a)};b=function(a){return typeof a==="boolean"};c=function(a){return a!=null};e=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};f=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case d("ContextualConfigConstants").TYPE.BOOL:case d("ContextualConfigConstants").TYPE.FLOAT:case d("ContextualConfigConstants").TYPE.INT:case d("ContextualConfigConstants").TYPE.STRING:return!0;default:return!1}};g.isArray=a;g.isBoolean=b;g.isDefined=c;g.isKey=e;g.isInteger=f;g.isNonEmptyString=h;g.isNumber=i;g.isString=j;g.isType=k}),98);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(d("ContextualConfigConstants").ERROR.BAD_BOOLEAN_FORMAT)}}g["default"]=a}),98);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var f=c("ContextualConfigParseBoolean")(a);e=function(a){return a===f};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:e=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:e=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:e=function(a){return!0};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return e(a)}}g["default"]=a}),98);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,j=function(a){return i.test(a)};function a(a){(h||(h=c("ContextualConfigAssert")))(j(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseFloat(a);h(d("ContextualConfigValidators").isNumber(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}g["default"]=a}),98);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/^[-\+]?([1-9]\d*|0)$/,j=function(a){return i.test(a)};function a(a){(h||(h=c("ContextualConfigAssert")))(j(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseInt(a,10);h(d("ContextualConfigValidators").isNumber(a),d("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}g["default"]=a}),98);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){return(h||(h=c("ContextualConfigAssert")))(a>0,d("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};b=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a===b,d("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};e=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a<b,d("ContextualConfigConstants").ERROR.BAD_VALUE_ORDER)};g.assertHasValues=a;g.assertNumberOfValues=b;g.assertValueOrder=e}),98);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=e.map(f?c("ContextualConfigParseInteger"):h||(h=c("ContextualConfigParseFloat"))),i;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var j=f?c("ContextualConfigParseInteger")(a):(h||(h=c("ContextualConfigParseFloat")))(a);i=function(a){return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a===j};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:i=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:i=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:i=function(a){return!0};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.COR:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,2);d("ContextualConfigPredAssertions").assertValueOrder(g[0],g[1]);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>=g[0]&&a<g[1]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LT:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a<g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LTE:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a<=g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.EQ:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a===g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NEQ:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a!==g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GT:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>g[0]};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GTE:d("ContextualConfigPredAssertions").assertNumberOfValues(g.length,1);i=function(a){if(typeof a!=="number")return!1;return f&&!d("ContextualConfigValidators").isInteger(a)?!1:a>=g[0]};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return i(a)}}g["default"]=a}),98);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=/^\/(.+)\/(.*)$/;function a(a){try{var b=a.match(h);if(b!=null)return new RegExp(b[1],b[2]);else return new RegExp(a)}catch(a){throw new Error(d("ContextualConfigConstants").ERROR.REGEX_SYNTAX_ERROR)}}g["default"]=a}),98);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){if(typeof a!=="string")throw new Error(d("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE);return a},i=function(a){var b=[];for(a of a)b.push(h(a));return b};function a(a,b,e){var f=i(e),g;switch(b){case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:g=function(b){return typeof b!=="string"?!1:b===a};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:g=function(a){return a==null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:g=function(a){return a!=null};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:g=function(a){return!0};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.IN:d("ContextualConfigPredAssertions").assertHasValues(f.length);g=function(a){return typeof a!=="string"?!1:f.indexOf(a)!==-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NIN:d("ContextualConfigPredAssertions").assertHasValues(f.length);g=function(a){return typeof a!=="string"?!1:f.indexOf(a)===-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CONTAINS:d("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);g=function(a){return typeof a!=="string"?!1:a.indexOf(f[0])!==-1};break;case d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.REGEX:d("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);var h=c("ContextualConfigParseRegExp")(f[0]);g=function(a){return typeof a!=="string"?!1:h.test(a)};break;default:throw new Error(d("ContextualConfigConstants").ERROR.ILLEGAL_STRING_STRATEGY)}return function(a){return g(a)}}g["default"]=a}),98);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},k=d("ContextualConfigValidators").isKey(d("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY),l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isString(a)&&k(a.toUpperCase()),d("ContextualConfigConstants").ERROR.MISSING_BUCKET_STRATEGY)},m=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.ILLEGAL_BUCKET_VALUES)},n=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.MISSING_BUCKET_NAME)},o=function(a,b){var e=b.name;n(e);var f=b.strategy;l(f);b=b.values||[];m(b);switch(a){case d("ContextualConfigConstants").TYPE.BOOL:return c("ContextualConfigParsePredBoolean")(e,f);case d("ContextualConfigConstants").TYPE.FLOAT:return c("ContextualConfigParsePredNumeric")(e,f,b,!1);case d("ContextualConfigConstants").TYPE.INT:return c("ContextualConfigParsePredNumeric")(e,f,b,!0);case d("ContextualConfigConstants").TYPE.STRING:return c("ContextualConfigParsePredString")(e,f,b);default:throw new Error(d("ContextualConfigConstants").ERROR.UNKNOWN_BUCKET_DEFINITION)}},p=function(a,b){i(b);var c=b.name;n(c);return{name:c,pred:o(a,b)}};function a(a,b){j(b);return b.map(function(b){return p(a,b)})}g["default"]=a}),98);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a)&&a.length>0,d("ContextualConfigConstants").ERROR.MISSING_CONTEXT_IN_CONFIG)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(a){i(a);var b=a.name,d=a.type;a=a.buckets;k(b);l(d);return{name:b,type:d,buckets:c("ContextualConfigParseContextBuckets")(d,a)}};function a(a){j(a);return a.map(m)}g["default"]=a}),98);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0}f["default"]=a}),66);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isString(a),d("ContextualConfigConstants").ERROR.INVALID_STRING)};function a(a,b){j(b);switch(a){case d("ContextualConfigConstants").TYPE.BOOL:return c("ContextualConfigParseBoolean")(b);case d("ContextualConfigConstants").TYPE.FLOAT:return(i||(i=c("ContextualConfigParseFloat")))(b);case d("ContextualConfigConstants").TYPE.INT:return c("ContextualConfigParseInteger")(b);case d("ContextualConfigConstants").TYPE.STRING:return b;default:throw new Error(d("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE)}}g["default"]=a}),98);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_RESULTS)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},m=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},n=function(a,b){for(a of a)if(a.name===b)return a.type;throw new Error(d("ContextualConfigConstants").ERROR.UNDECLARED_OUTPUT_PARAM)},o=function(a){return function(b){k(b);var d=b.name;l(d);var e=n(a,d);m(e);b=(i||(i=c("ContextualConfigParseResultParamValue")))(e,b.value);return{name:d,type:e,value:b}}};function a(a,b){j(b);return b.map(o(a))}g["default"]=a}),98);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return(h||(h=c("ContextualConfigAssert")))(c("ContextualConfigIsEqualParams")(a,b),d("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)};function a(a,b){b=c("ContextualConfigParseResultParams")(a,b.map(function(b,c){return{name:a[c].name,value:b}}));i(a,b);return b}g["default"]=a}),98);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){try{return c("ContextualConfigParseDenseResultParams")(a,b)}catch(a){throw new Error(d("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)}}g["default"]=a}),98);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.BAD_MONITORED_CONTEXTS)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(a){i(a);var b=a.name;a=a.type;k(b);l(a);return{name:b,type:a}};function a(a){j(a);return a.map(m)}g["default"]=a}),98);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_OUTPUTS_DEFINITION)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isType(a),d("ContextualConfigConstants").ERROR.BAD_OUTPUT_TYPE)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.BAD_OUTPUT_NAME)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(m(a),d("ContextualConfigConstants").ERROR.DUPLICATE_OUTPUT_NAME)},m=function(a){var b={};for(a of a){if(b[a.name])return!1;b[a.name]=!0}return!0},n=function(a){k(a.name);j(a.type);return a};function a(a){i(a);a=a.map(n);l(a);return a}g["default"]=a}),98);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_VECTOR)},k=function(a,b){return(h||(h=c("ContextualConfigAssert")))(a===b,d("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)},l=function(a,b){k(a.length,b.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=b[d];(i||(i=c("ContextualConfigParseResultParamValue")))(e,f)}},m=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};function a(a,b,c){j(c);b=m(b);var d=a.length;k(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;l(a,c.slice(f,f+d))}return c}g["default"]=a}),98);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};function a(a,b,c){var e=null;a=a.map(function(a){var f=a.name,g={name:f};if(e!=null)return g;var i;c[f]!=null?i=c[f]:b[f]!=null?i=b[f]():i=null;g.value=i;if(a.buckets!=null){f=h(a.buckets,i);if(f==null){e=new Error(d("ContextualConfigConstants").ERROR.MISSING_BUCKET_MATCH);return g}a=f[0];i=f[1];g.bucketName=a;g.bucketIndex=i}return g});return[e,a]}g["default"]=a}),98);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)},j=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},k=function(a,b,d,e){try{b=b.slice(d,d+a.length);return[null,c("ContextualConfigParseDenseResultParams")(a,b)]}catch(a){return[a,e]}},l=function(a,b,d){try{d=d.reduce(function(b,d,e){(h||(h=c("ContextualConfigAssert")))(e<a.length,"Auxillery index out of range.");return b+a[e]*d},0);return[null,d*b]}catch(a){return[a,-1]}};a=function(){function a(a,b){i(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);var d=c("ContextualConfigParseContexts")(a.contexts);this.aux=j(d);this.contexts=d;this.defaults=c("ContextualConfigParseDenseDefaults")(b,a.vectorDefaults);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=b;this.vector=c("ContextualConfigParseVector")(b,d,a.vector)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.aux,e=this.globalContextProviders,f=this.contexts,g=this.defaults,h=this.monitors,i=this.outputs,j=this.vector;f=c("ContextualConfigResolveContexts")(f,e,a);var m=f[0];f=f[1];if(m!=null)return[m,g,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];m=l(b,i.length,d("ContextualConfigResolvedContextsUtils").getBucketIndices(f));b=m[0];m=m[1];if(b!=null)return[b,g,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];b=k(i,j,m,g);i=b[0];j=b[1];if(i!=null)return[i,j,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];m=c("ContextualConfigResolveContexts")(h,e,a);g=m[0];b=m[1];return g!=null?[g,j,f,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,j,f,b]};return a}();g["default"]=a}),98);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,b){i(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.values=c("ContextualConfigParseResultParams")(b,a.values)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.globalContextProviders,e=this.monitors,f=this.values;e=c("ContextualConfigResolveContexts")(e,b,a);b=e[0];a=e[1];return b!=null?[b,f,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,f,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,a]};return a}();g["default"]=a}),98);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};for(b of b)c[b.name]=b;b=[];for(a of a){var d=c[a.name];b.push(d!=null&&d.name===a.name&&d.type===a.type?d:a)}return b}f["default"]=a}),66);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return(h||(h=c("ContextualConfigAssert")))(c("ContextualConfigIsEqualParams")(a,b),d("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)};function a(a,b){b=c("ContextualConfigParseResultParams")(a,b);i(a,b);return b}g["default"]=a}),98);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParams","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE)},j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isNonEmptyString(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_BUCKET)},l=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isArray(a),d("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_VALUES)},m=function(a,b){j(b);var d=b.bucket;b=b.values;k(d);l(b);return{bucket:d,values:c("ContextualConfigParseResultParams")(a,b)}};function a(a,b){i(b);return b.reduce(function(b,c){c=m(a,c);b[c.bucket]=c.values;return b},{})}g["default"]=a}),98);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[],j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a),d("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,b){j(a);this.globalContextProviders=babelHelpers["extends"]({},b);b=c("ContextualConfigParseOutputParams")(a.outputs);this.contexts=c("ContextualConfigParseContexts")(a.contexts);this.defaults=c("ContextualConfigParseDefaults")(b,a.defaults);this.monitors=a.monitors!=null?c("ContextualConfigParseMonitors")(a.monitors):[];this.table=c("ContextualConfigParseTable")(b,a.table)}var b=a.prototype;b.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};b.unsafeResolve=function(a){var b=this.globalContextProviders,e=this.contexts,f=this.defaults,g=this.monitors,h=this.table;e=c("ContextualConfigResolveContexts")(e,b,a);var j=e[0];e=e[1];if(j!=null)return[j,f,e,[]];j=d("ContextualConfigResolvedContextsUtils").getBucketNames(e).join(d("ContextualConfigConstants").BUCKET_DELIMITER);h=h[j]||i;j=c("ContextualConfigMergePartialResultParams")(f,h);f=c("ContextualConfigResolveContexts")(g,b,a);h=f[0];g=f[1];return h!=null?[h,j,e,[]]:[null,j,e,g]};return a}();g["default"]=a}),98);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[1],j=function(a){return(h||(h=c("ContextualConfigAssert")))(d("ContextualConfigValidators").isDefined(a)&&d("ContextualConfigValidators").isDefined(a.version),d("ContextualConfigConstants").ERROR.BAD_CONFIG)},k=function(a){return(h||(h=c("ContextualConfigAssert")))(i.indexOf(a)!==-1,d("ContextualConfigConstants").ERROR.UNSUPPORTED_CONFIG_VERSION)};function a(a,b){j(a);k(a.version);switch(a.cctype){case d("ContextualConfigConstants").CONFIG_TYPE.DENSE:return new(c("DenseContextualConfig"))(a,b);case d("ContextualConfigConstants").CONFIG_TYPE.MULTI_OUTPUT_RESOLVED:return new(c("MultiOutputResolvedContextualConfig"))(a,b);case d("ContextualConfigConstants").CONFIG_TYPE.TABLE:return new(c("TableContextualConfig"))(a,b);default:throw new Error(d("ContextualConfigConstants").ERROR.UNKNOWN_CONFIG_TYPE)}}g["default"]=a}),98);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";function a(a){}f["default"]=a}),66);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var b=a.prototype;b.get=function(a,b){try{a=this.$1[a];if(typeof a!==typeof b){c("ContextualConfigWarn")(d("ContextualConfigConstants").ERROR.REQUESTED_PARAM_NOT_FOUND);return b}return a}catch(a){c("ContextualConfigWarn")(a.message);return b}};b.getParams=function(){return this.$2};return a}();g["default"]=a}),98);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.error=a}var b=a.prototype;b.resolve=function(a){return[this.error,d("ContextualConfigConstants").EMPTY_RESULT_PARAMS,d("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,d("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]};return a}();g["default"]=a}),98);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f,g){"use strict";var h=1/d("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE,i=1;a=function(){function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var b=a.prototype;b.$5=function(){if(this.$1)return this.$1;var a=this.$2,b=this.$4;try{b=c("ContextualConfigParseConfig")(b,a)}catch(a){b=new(c("ErrorContextualConfig"))(a)}this.$1=b;return b};b.$6=function(a){var b=this.isDebugLoggingEnabled,e=this.$4,f=this.$3;f=!f&&d("Random").random()<h;f&&(this.$3=!0);e=c("ContextualConfigCollateExposureData")(e,a,f);a=c("ContextualConfigExposureLogger").createEvent(e);a.log(b)};b.resolve=function(a){a===void 0&&(a={});var b=this.$1||this.$5();b=b.resolve(a);this.$6(b);return new(c("ContextualConfigResult"))(b[i])};return a}();g["default"]=a}),98);
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1755537");b=d("FalcoLoggerInternal").create("dgw_client",a);e=b;g["default"]=e}),98);
__d("DGWLoggingContext",["$InternalEnum","DgwClientFalcoEvent","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;a="dgw_client";var i=b("$InternalEnum")({STREAM_GROUP_COMPONENT:"WebStreamGroup",GROUPED_STREAM_COMPONENT:"GroupedWebStream",WEBSOCKET_TRANSPORT_COMPONENT:"WebSocketTransport",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec",RAW_CLIENT:"RAWDGWClient",PINGER:"DGWPinger"}),j={VERBOSE:-1,INFO:0,WARNING:1,ERROR:2,FATAL:3};function k(a){switch(a){case i.GROUPED_STREAM_COMPONENT:case i.ACK_MANAGER_COMPONENT:return!0;default:return!1}}e=function(){function a(a,b,c,d,e,f,g){f===void 0&&(f=!1),g===void 0&&(g=!1),this.$5=""+a,this.$1=b,this.$4=c,this.$3=d,this.$6=e,this.$2=f,this.$7=g}a.bumpODSKey=function(a,b,c){c===void 0&&(c=1);if(!d("Random").coinflip(c))return;a=a+"."+b;(h||(h=d("ODS"))).bumpEntityKey(3589,"dgw_web_client",a,c)};var b=a.prototype;b.bumpODSKey=function(a,b,c){c===void 0&&(c=1);if(!d("Random").coinflip(c))return;a=this.$4+"."+a+"."+b;(h||(h=d("ODS"))).bumpEntityKey(3589,"dgw_web_client",a,c)};b.logEvent=function(a,b,c,d,e){d===void 0&&(d=!1),this.$2||this.$8(a,b,null,j.INFO,c,d,e)};b.$8=function(a,b,d,e,f,g,h){var i=this;g===void 0&&(g=!1);if(g&&!this.$7)return;(k(a)&&this.$1!=null||!k(a)&&this.$6!=null)&&c("DgwClientFalcoEvent").log(function(){var c;return{event:b,logging_id:(c=h)!=null?c:i.$1,dgw_version:i.$5,message:d,severity:e,uuid:i.$3,dgw_component:a,extra_info:f,destination_tier:i.$4,sg_transport_id:i.$6,source:2}})};b.logError=function(a,b,c,d,e,f){e===void 0&&(e=!1),this.$2||this.$8(a,b,c,j.ERROR,d,e,f)};b.logWarn=function(a,b,c,d,e){e===void 0&&(e=!1),this.$2||this.$8(a,b,c,j.WARNING,d,e)};return a}();g.DGW_MODULE=a;g.DGWLoggingComponent=i;g.DGWLoggingContext=e}),98);
__d("DGWAckManager",["DGWLoggingContext"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var b=a.prototype;b.stopTracking=function(a){window.clearTimeout(this.$1),this.$3(a)};function a(a,b,c){var d=this;this.$3=c;this.sendId=a;this.$2=b;this.handleAckReceived=function(){d.stopTracking(!0)};this.$1=window.setTimeout(function(){d.stopTracking(!1)},b)}return a}();a=function(){function a(a){this.$1=new Map(),this.$2=a}var b=a.prototype;b.waitForAck=async function(a,b){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_expected");var c=this.$1;try{var e=await new Promise(function(d,e){c.set(a,new h(a,b,d))});e===!0?this.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId:"+a,!0):(this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_timeout"),this.$2.logWarn(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+a+" timed out after "+b+"ms"));c.delete(a);return e}catch(b){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_error");c.delete(a);throw b}};b.handleAckReceived=function(a){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received");var b=this.$1.get(a);if(b===void 0){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received.not_tracked");this.$2.logWarn(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+a+" which was not being tracked");return}b.handleAckReceived()};b.clearPendingAcks=function(){var a=this;this.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending acks","ACKs cleared size: "+this.$1.size);this.$1.forEach(function(b,c,e){a.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+b.sendId,null,!0),b.stopTracking(!1),e.delete(c)})};return a}();g.DGWAckManager=a}),98);
__d("DGWAuth",["$InternalEnum","err"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0",INTERNALFB:"2:0",OCULUS:"3:0",ENTERPRISEFB:"7:0",RECRUITINGFB:"8:0",INSTAGRAM:"6:0",HORIZON_WEB:"12:0",SPARK_WEB:"13:0",ABRA:"15:0"});function a(a){if(a==="TEST")return h.TEST;else if(a==="FACEBOOK")return h.FACEBOOK;else if(a==="INTERNALFB")return h.INTERNALFB;else if(a==="OCULUS")return h.OCULUS;else if(a==="ENTERPRISEFB")return h.ENTERPRISEFB;else if(a==="RECRUITINGFB")return h.RECRUITINGFB;else if(a==="INSTAGRAM")return h.INSTAGRAM;else if(a==="HORIZON_WEB")return h.HORIZON_WEB;else if(a==="SPARK_WEB")return h.SPARK_WEB;else if(a==="ABRA")return h.ABRA;else throw c("err")("failed to convert string ("+a+") to DGWAuth Type")}function d(a){if(a===h.FACEBOOK)return"FACEBOOK";else if(a===h.INTERNALFB)return"INTERNALFB";else if(a===h.OCULUS)return"OCULUS";else if(a===h.ENTERPRISEFB)return"ENTERPRISEFB";else if(a===h.RECRUITINGFB)return"RECRUITINGFB";else if(a===h.INSTAGRAM)return"INSTAGRAM";else if(a===h.HORIZON_WEB)return"HORIZON_WEB";else if(a===h.SPARK_WEB)return"SPARK_WEB";else if(a===h.ABRA)return"ABRA";else return"TEST"}g.DGWAuth=h;g.fromStringToDGWAuth=a;g.fromDGWAuthToString=d}),98);
__d("DGWStream",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["ABNORMAL_CLOSURE","GOING_AWAY","SERVER_INTERNAL_ERROR","PREMATURE_CLOSE","UNKNOWN_ERROR","KEEPALIVE_TIMEOUT","TRANSPORT_CLOSED_BEFORE_STREAM_INIT","ESTABLISHMENT_TIMEOUT","UNAUTHENTICATED","UNAUTHORIZED","REJECTED","BAD_REQUEST","DGW_SERVER_ERROR","ESTABLISHMENT_ERROR"]);function a(a){switch(a){case g.UNAUTHENTICATED:case g.UNAUTHORIZED:case g.REJECTED:case g.BAD_REQUEST:case g.UNKNOWN_ERROR:case g.SERVER_INTERNAL_ERROR:return!1;default:return!0}}f.StreamError=g;f.isRetryableError=a}),66);
__d("DGWCppBridge",[],(function(l,m,n,o,p,q){var r=function(){var l=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(m){m=m||{};var m=typeof m!=="undefined"?m:{},n=function(){function m(){}function n(l,m){return function(){l.apply(m,arguments)}}function l(m){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof m!=="function")throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];t(m,this)}function o(m,n){while(m._state===3)m=m._value;if(m._state===0){m._deferreds.push(n);return}m._handled=!0;l._immediateFn(function(){var l=m._state===1?n.onFulfilled:n.onRejected;if(l===null){(m._state===1?p:q)(n.promise,m._value);return}var o;try{o=l(m._value)}catch(l){q(n.promise,l);return}p(n.promise,o)})}function p(m,o){try{if(o===m)throw new TypeError("A promise cannot be resolved with itself.");if(o&&(typeof o==="object"||typeof o==="function")){var p=o.then;if(o instanceof l){m._state=3;m._value=o;r(m);return}else if(typeof p==="function"){t(n(p,o),m);return}}m._state=1;m._value=o;r(m)}catch(l){q(m,l)}}function q(l,m){l._state=2,l._value=m,r(l)}function r(m){m._state===2&&m._deferreds.length===0&&l._immediateFn(function(){m._handled||l._unhandledRejectionFn(m._value)});for(var n=0,p=m._deferreds.length;n<p;n++)o(m,m._deferreds[n]);m._deferreds=null}function s(l,m,n){this.onFulfilled=typeof l==="function"?l:null,this.onRejected=typeof m==="function"?m:null,this.promise=n}function t(l,m){var n=!1;try{l(function(l){if(n)return;n=!0;p(m,l)},function(l){if(n)return;n=!0;q(m,l)})}catch(l){if(n)return;n=!0;q(m,l)}}l.prototype["catch"]=function(l){return this.then(null,l)};l.prototype.then=function(l,n){var p=new this.constructor(m);o(this,new s(l,n,p));return p};l.all=function(m){return new l(function(l,n){if(!Array.isArray(m))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(m);if(o.length===0)return l([]);var p=o.length;function q(m,r){try{if(r&&(typeof r==="object"||typeof r==="function")){var s=r.then;if(typeof s==="function"){s.call(r,function(l){q(m,l)},n);return}}o[m]=r;--p===0&&l(o)}catch(l){n(l)}}for(var r=0;r<o.length;r++)q(r,o[r])})};l.resolve=function(m){return m&&typeof m==="object"&&m.constructor===l?m:new l(function(l){l(m)})};l.reject=function(m){return new l(function(l,n){n(m)})};l.race=function(m){return new l(function(n,o){if(!Array.isArray(m))return o(new TypeError("Promise.race accepts an array"));for(var p=0,q=m.length;p<q;p++)l.resolve(m[p]).then(n,o)})};l._immediateFn=typeof setImmediate==="function"&&function(l){setImmediate(l)}||function(l){setTimeout(l,0)};l._unhandledRejectionFn=function(l){typeof console!=="undefined"&&console};return l}(),o,s;m.ready=new n(function(l,m){o=l,s=m});var t={},u;for(u in m)Object.prototype.hasOwnProperty.call(m,u)&&(t[u]=m[u]);var v=[];(function(l,m){throw m});var w=!0,x=!1,y="";function z(l){return m.locateFile?m.locateFile(l,y):y+l}var A;(w||x)&&(x?y=self.location.href:typeof document!=="undefined"&&document.currentScript&&(y=document.currentScript.src),l&&(y=l),y.indexOf("blob:")!==0?y=y.substr(0,y.lastIndexOf("/")+1):y="",(function(l){try{var m=new XMLHttpRequest();m.open("GET",l,!1);m.send(null);return m.responseText}catch(n){m=ga(l);if(m)return fa(m);throw n}},x&&(A=function(l){try{var m=new XMLHttpRequest();m.open("GET",l,!1);m.responseType="arraybuffer";m.send(null);return new Uint8Array(m.response)}catch(n){m=ga(l);if(m)return m;throw n}}),function(l,m,n){var o=new XMLHttpRequest();o.open("GET",l,!0);o.responseType="arraybuffer";o.onload=function(){if(o.status==200||o.status==0&&o.response){m(o.response);return}var p=ga(l);if(p){m(p.buffer);return}n()};o.onerror=n;o.send(null)}),function(l){document.title=l});m.print||emptyFunction.bind(console);var B=m.printErr||emptyFunction.bind(console);for(u in t)Object.prototype.hasOwnProperty.call(t,u)&&(m[u]=t[u]);t=null;m.arguments&&(v=m.arguments);m.thisProgram&&m.thisProgram;m.quit&&m.quit;var C;m.wasmBinary&&(C=m.wasmBinary);m.noExitRuntime||!0;var D={Memory:function(l){this.buffer=new ArrayBuffer(l.initial*65536)},Module:function(l){},Instance:function(l,m){this.exports=function(l){function m(l){l.set=function(l,m){this[l]=m};l.get=function(l){return this[l]};return l}var n,o=new Uint8Array(123);for(var p=25;p>=0;--p)o[48+p]=52+p,o[65+p]=p,o[97+p]=26+p;o[43]=62;o[47]=63;function q(m,n,p){var q,r,l=0,s=n,t=p.length;n=n+(t*3>>2)-(p[t-2]=="=")-(p[t-1]=="=");for(;l<t;l+=4)q=o[p.charCodeAt(l+1)],r=o[p.charCodeAt(l+2)],m[s++]=o[p.charCodeAt(l)]<<2|q>>4,s<n&&(m[s++]=q<<4|r>>2),s<n&&(m[s++]=r<<6|o[p.charCodeAt(l+3)])}function r(l){q(n,1024,"U3Q5dHlwZV9pbmZvAAAAAOAEAAAABAAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAACAUAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAACAUAAEgEAAA8BAAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAACAUAAHgEAAA8BAAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UACAUAAKgEAACcBAAAAAAAAGwEAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAAAAABQBQAAAQAAAAkAAAADAAAABAAAAAUAAAAKAAAACwAAAAwAAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAACAUAACgFAABsBA=="),q(n,1372,"gAkQ")}function s(l){var o=l.a,p=o.buffer;o.grow=xa;var q=new Int8Array(p),s=new Int16Array(p),t=new Int32Array(p),u=new Uint8Array(p),v=new Uint16Array(p),w=new Uint32Array(p);new Float32Array(p);new Float64Array(p);var x=Math.imul;Math.fround;Math.abs;var y=Math.clz32;Math.min;Math.max;Math.floor;Math.ceil;Math.trunc;Math.sqrt;l.abort;NaN;Infinity;var z=l.b,A=1051008,B;function C(o,p,l,r,m,n){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;n=n|0;var y=0,z=0,B;y=A-80|0;A=y;t[y+72>>2]=o;t[y+68>>2]=p;t[y+64>>2]=l;t[y+60>>2]=r;t[y+56>>2]=m;t[y+52>>2]=n;a:{if(t[y+52>>2]?!t[y+56>>2]|(!t[y+72>>2]|!t[y+68>>2]|(!t[y+64>>2]|!t[y+60>>2])):1){t[y+76>>2]=5;break a}t[t[y+64>>2]>>2]=0;t[t[y+60>>2]>>2]=0;p=t[y+68>>2];l=t[y+56>>2];r=t[y+52>>2];o=A+-64|0;A=o;t[o+56>>2]=t[y+72>>2];t[o+52>>2]=p;t[o+48>>2]=l;t[o+44>>2]=r;t[o+40>>2]=0;t[o+36>>2]=t[o+56>>2];b:{c:{d:{while(1){if(!t[o+52>>2])break c;t[o+32>>2]=t[o+36>>2];q[o+31|0]=u[t[o+36>>2]];t[o+52>>2]=t[o+52>>2]-1;t[o+36>>2]=t[o+36>>2]+1;if(u[o+31|0]!=10?u[o+31|0]==2|u[o+31|0]==4|u[o+31|0]==9:1){t[o+40>>2]=t[o+40>>2]+1;continue}t[o+24>>2]=1;if(V(u[o+31|0])&1){z=o,B=X(u[o+31|0])&1,q[z+23|0]=B;t[o+16>>2]=q[o+23|0]&1?1:2;if(w[o+52>>2]<w[o+16>>2]){t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[o+52>>2]=t[o+52>>2]-t[o+16>>2];t[o+24>>2]=t[o+16>>2]+t[o+24>>2];t[o+36>>2]=t[o+16>>2]+t[o+36>>2];if(!(u[o+31|0]!=14?u[o+31|0]!=8:0)){t[o+40>>2]=t[o+40>>2]+1;continue}}if(w[o+52>>2]<3)break d;t[o+12>>2]=0;p=t[o+36>>2];l=u[p|0]|u[p+1|0]<<8;q[o+12|0]=l;q[o+13|0]=l>>>8;q[o+14|0]=u[p+2|0];t[o+52>>2]=t[o+52>>2]-3;t[o+24>>2]=t[o+24>>2]+3;t[o+36>>2]=t[o+36>>2]+3;if(w[o+12>>2]<=w[o+52>>2]){t[o+40>>2]=t[o+40>>2]+1;t[o+36>>2]=t[o+12>>2]+t[o+36>>2];t[o+52>>2]=t[o+52>>2]-t[o+12>>2];continue}break}t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[t[o+44>>2]>>2]=t[o+52>>2]}t[o+60>>2]=t[o+40>>2];A=o- -64|0;t[y+48>>2]=t[o+60>>2];if(!t[y+48>>2]){t[y+76>>2]=0;break a}z=y,B=D(x(t[y+48>>2],20)),t[z+44>>2]=B;if(!t[y+44>>2]){t[y+76>>2]=3;break a}t[y+40>>2]=t[y+44>>2];t[y+36>>2]=t[y+72>>2];t[y+32>>2]=t[y+68>>2]-t[t[y+52>>2]>>2];t[y+28>>2]=0;while(1){if(w[y+28>>2]<w[y+48>>2]){if(w[y+32>>2]<1){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=1;break a}q[y+27|0]=u[t[y+36>>2]];t[y+36>>2]=t[y+36>>2]+1;t[y+32>>2]=t[y+32>>2]-1;e:{if(!u[y+27|0]|u[y+27|0]==1|(u[y+27|0]==2|u[y+27|0]==3)|(u[y+27|0]==4|u[y+27|0]==9|u[y+27|0]==10))break e;if(V(u[y+27|0])&1)break e;O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=6;break a}o=t[y+40>>2];t[o>>2]=u[y+27|0]&15|t[o>>2]&-16;f:{if(u[y+27|0]!=10?u[y+27|0]==2|u[y+27|0]==4|u[y+27|0]==9:1){o=t[y+40>>2];t[o>>2]=t[o>>2]&-268435441;t[y+40>>2]=t[y+40>>2]+20;break f}if(V(u[y+27|0])&1){o=A-48|0;A=o;t[o+40>>2]=t[y+40>>2];t[o+36>>2]=y+36;t[o+32>>2]=y+32;g:{if(!(V(t[t[o+40>>2]>>2]&15)&1)){t[o+44>>2]=1;break g}z=o,B=X(t[t[o+40>>2]>>2]&15)&1,q[z+31|0]=B;t[o+24>>2]=q[o+31|0]&1?1:2;if(w[t[o+32>>2]>>2]<w[o+24>>2]){t[o+44>>2]=1;break g}ba(t[o+40>>2]+4|0,t[t[o+36>>2]>>2],t[o+24>>2]);p=t[o+36>>2];t[p>>2]=t[o+24>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+24>>2];if((t[t[o+40>>2]>>2]&15)==8){p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==14){p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441;t[o+44>>2]=0;break g}if(w[t[o+32>>2]>>2]<3){t[o+44>>2]=11;break g}t[o+20>>2]=0;p=t[t[o+36>>2]>>2];l=u[p|0]|u[p+1|0]<<8;q[o+20|0]=l;q[o+21|0]=l>>>8;q[o+22|0]=u[p+2|0];p=t[o+36>>2];t[p>>2]=t[p>>2]+3;p=t[o+32>>2];t[p>>2]=t[p>>2]-3;p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441|(t[o+20>>2]&16777215)<<4;if(w[t[o+32>>2]>>2]<w[o+20>>2]){t[o+44>>2]=11;break g}if((t[t[o+40>>2]>>2]&15)==15){t[t[o+40>>2]+12>>2]=t[o+20>>2];p=D(t[o+20>>2]);t[t[o+40>>2]+8>>2]=p;if(!t[t[o+40>>2]+8>>2]){t[o+44>>2]=3;break g}ba(t[t[o+40>>2]+8>>2],t[t[o+36>>2]>>2],t[o+20>>2]);p=t[o+36>>2];t[p>>2]=t[o+20>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+20>>2];t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==5){t[t[o+40>>2]+12>>2]=t[o+20>>2];p=D(t[o+20>>2]);t[t[o+40>>2]+8>>2]=p;if(!t[t[o+40>>2]+8>>2]){t[o+44>>2]=3;break g}ba(t[t[o+40>>2]+8>>2],t[t[o+36>>2]>>2],t[o+20>>2]);p=t[o+36>>2];t[p>>2]=t[o+20>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+20>>2];t[o+44>>2]=0;break g}h:{if(!((t[t[o+40>>2]>>2]&15)!=6?(t[t[o+40>>2]>>2]&15)!=7:0)){z=o,B=Q(t[o+36>>2],t[o+32>>2],o+19|0,o+18|0),t[z+12>>2]=B;if(t[o+12>>2]){t[o+44>>2]=t[o+12>>2];break g}break h}if(!((t[t[o+40>>2]>>2]&15)!=13?(t[t[o+40>>2]>>2]&15)!=12:0)){l=t[o+32>>2];p=A-32|0;t[p+24>>2]=t[o+36>>2];t[p+20>>2]=l;t[p+16>>2]=o+19;t[p+12>>2]=o+16;s[p+10>>1]=0;i:{if(w[t[p+20>>2]>>2]<2){t[p+28>>2]=1;break i}l=t[t[p+24>>2]>>2];l=u[l|0]|u[l+1|0]<<8;q[p+10|0]=l;q[p+11|0]=l>>>8;l=t[p+24>>2];t[l>>2]=t[l>>2]+2;l=t[p+20>>2];t[l>>2]=t[l>>2]-2;q[t[p+16>>2]]=(v[p+10>>1]&32768)==32768;s[t[p+12>>2]>>1]=v[p+10>>1]&32767;t[p+28>>2]=0}t[o+12>>2]=t[p+28>>2];if(t[o+12>>2]){t[o+44>>2]=t[o+12>>2];break g}}}if((t[t[o+40>>2]>>2]&15)==12){p=t[o+40>>2];s[p+8>>1]=s[p+8>>1]&1|v[o+16>>1]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==7){p=t[o+40>>2];q[p+8|0]=q[p+8|0]&1|u[o+18|0]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==13){l=t[o+32>>2];r=t[o+20>>2];m=t[o+40>>2]+12|0;n=t[o+40>>2];p=A-32|0;A=p;t[p+24>>2]=t[o+36>>2];t[p+20>>2]=l;t[p+16>>2]=r;t[p+12>>2]=m;t[p+8>>2]=n+16;j:{if(w[p+16>>2]<2){t[p+28>>2]=9;break j}t[t[p+8>>2]>>2]=t[p+16>>2]-2;if(w[t[p+20>>2]>>2]<w[t[p+8>>2]>>2]){t[p+28>>2]=1;break j}l=D(t[t[p+8>>2]>>2]);t[t[p+12>>2]>>2]=l;if(!t[t[p+12>>2]>>2]){t[p+28>>2]=3;break j}ba(t[t[p+12>>2]>>2],t[t[p+24>>2]>>2],t[t[p+8>>2]>>2]);l=t[p+24>>2];t[l>>2]=t[t[p+8>>2]>>2]+t[l>>2];l=t[p+20>>2];t[l>>2]=t[l>>2]-t[t[p+8>>2]>>2];t[p+28>>2]=0}A=p+32|0;t[o+8>>2]=t[p+28>>2];if(t[o+8>>2]){t[o+44>>2]=t[o+8>>2];break g}p=t[o+40>>2];s[p+8>>1]=q[o+19|0]&1|v[p+8>>1]&65534;p=t[o+40>>2];s[p+8>>1]=s[p+8>>1]&1|v[o+16>>1]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==6){z=o,B=M(t[o+36>>2],t[o+32>>2],t[o+20>>2],t[o+40>>2]+12|0,t[o+40>>2]+16|0),t[z+4>>2]=B;if(t[o+4>>2]){t[o+44>>2]=t[o+4>>2];break g}p=t[o+40>>2];q[p+8|0]=q[o+19|0]&1|u[p+8|0]&254;p=t[o+40>>2];q[p+8|0]=q[p+8|0]&1|u[o+18|0]<<1;t[o+44>>2]=0;break g}t[o+44>>2]=1}A=o+48|0;t[y+20>>2]=t[o+44>>2];if(!t[y+20>>2]){t[y+40>>2]=t[y+40>>2]+20;break f}O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+20>>2];break a}t[y+16>>2]=0;if(w[y+32>>2]<3){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=1;break a}o=t[y+36>>2];p=u[o|0]|u[o+1|0]<<8;q[y+16|0]=p;q[y+17|0]=p>>>8;q[y+18|0]=u[o+2|0];t[y+36>>2]=t[y+36>>2]+3;t[y+32>>2]=t[y+32>>2]-3;if(!(t[y+16>>2]==1|u[y+27|0]!=1)){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=7;break a}o=t[y+40>>2];t[o>>2]=t[o>>2]&-268435441|(t[y+16>>2]&16777215)<<4;if(u[y+27|0]==3){if(t[y+16>>2]!=1){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=10;break a}q[y+15|0]=0;if(w[y+32>>2]<1){J(t[y+44>>2]);t[y+76>>2]=1;break a}q[y+15|0]=u[t[y+36>>2]];t[y+36>>2]=t[y+36>>2]+1;t[y+32>>2]=t[y+32>>2]-1;k:{if(u[y+15|0]<=4){q[t[y+40>>2]+4|0]=u[y+15|0];break k}q[t[y+40>>2]+4|0]=4}t[y+40>>2]=t[y+40>>2]+20;break f}z=y,B=Q(y+36|0,y+32|0,y+14|0,y+13|0),t[z+8>>2]=B;if(t[y+8>>2]){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+8>>2];break a}if(u[y+27|0]==1){o=t[y+40>>2];q[o+4|0]=q[o+4|0]&1|u[y+13|0]<<1;t[y+40>>2]=t[y+40>>2]+20;break f}if(!u[y+27|0]){z=y,B=M(y+36|0,y+32|0,t[y+16>>2],t[y+40>>2]+8|0,t[y+40>>2]+12|0),t[z+4>>2]=B;if(t[y+4>>2]){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+4>>2];break a}o=t[y+40>>2];q[o+4|0]=q[y+14|0]&1|u[o+4|0]&254;o=t[y+40>>2];q[o+4|0]=q[o+4|0]&1|u[y+13|0]<<1;t[y+40>>2]=t[y+40>>2]+20}}t[y+28>>2]=t[y+28>>2]+1;continue}break}if(t[y+32>>2]){O(t[y+44>>2],t[y+48>>2]);t[y+76>>2]=1;break a}t[t[y+64>>2]>>2]=t[y+44>>2];t[t[y+60>>2]>>2]=t[y+48>>2];t[y+76>>2]=0}A=y+80|0;return t[y+76>>2]}function D(o){var q=0,l=0,r=0,m=0,n=0,s=0,u=0,v,w=0,x,p;w=8;a:{b:{if(o>>>0>4294967239)break b;while(1){w=w>>>0>8?w:8;l=t[603];n=l;m=t[602];u=m;o=o>>>0>8?o+3&-4:8;c:{if(o>>>0<=127){s=(o>>>3|0)-1|0;break c}r=y(o);s=((o>>>29-r^4)-(r<<2)|0)+110|0;if(o>>>0<=4095)break c;r=((o>>>30-r^2)-(r<<1)|0)+71|0;s=r>>>0<63?r:63}q=s;r=q&31;(q&63)>>>0>=32?(q=0,l=l>>>r|0):(q=l>>>r|0,l=((1<<r)-1&l)<<32-r|u>>>r);r=q;if(l|q){while(1){n=l;q=r;d:{if(q|l){m=q-1|0;v=m+1|0;u=m;m=l-1|0;u=(m|0)!=-1?v:u;m=y(l^m)+32|0;l=y(q^u);l=(l|0)==32?m:l;q=63-l|0;0-(l>>>0>63)|0;break d}q=64}m=q;q=m;l=q&31;(q&63)>>>0>=32?(q=0,u=r>>>l|0):(q=r>>>l|0,u=((1<<l)-1&r)<<32-l|n>>>l);r=q;s=m+s|0;n=s<<4;q=t[n+1384>>2];m=n+1376|0;e:{if((q|0)!=(m|0)){l=I(q,w,o);if(l)break b;l=t[q+4>>2];t[l+8>>2]=t[q+8>>2];t[t[q+8>>2]+4>>2]=l;t[q+8>>2]=m;l=n+1380|0;t[q+4>>2]=t[l>>2];t[l>>2]=q;t[t[q+4>>2]+8>>2]=q;s=s+1|0;l=(r&1)<<31|u>>>1;r=r>>>1|0;break e}x=t[603];q=s;v=q&63;l=v;n=l&31;l>>>0>=32?(l=0,m=-1>>>n|0):(l=-1>>>n|0,m=(1<<n)-1<<32-n|-1>>>n);m=m&-2;n=v&31;v>>>0>=32?(l=m<<n,v=0):(l=(1<<n)-1&m>>>32-n|l<<n,v=m<<n);n=l;m=0-q&63;l=m;q=l&31;l>>>0>=32?(l=-1<<q,q=0):(l=(1<<q)-1&-1>>>32-q|-1<<q,q=-1<<q);p=q&-2;q=m&31;m>>>0>=32?(m=0,q=l>>>q|0):(m=l>>>q|0,q=((1<<q)-1&l)<<32-q|p>>>q);l=q|v;B=n|m;t[602]=t[602]&l;t[603]=B&x;l=u^1}if(l|r)continue;break}m=t[602];n=t[603]}f:{if(n|m){r=y(n);r=63-((r|0)==32?y(m)+32|0:r)<<4;q=r+1376|0;r=t[r+1384>>2];g:{if(!n&m>>>0<1073741824)break g;s=98;if((q|0)==(r|0))break g;while(1){l=I(r,w,o);if(l)break b;r=t[r+8>>2];if(!s)break g;s=s-1|0;if((q|0)!=(r|0))continue;break}}if(G(o+48|0))break f;if(!r|(q|0)==(r|0))break a;while(1){l=I(r,w,o);if(l)break b;r=t[r+8>>2];if((q|0)!=(r|0))continue;break}break a}if(!G(o+48|0))break a}l=0;if(o>>>0>4294967239)break b;r=w;q=0;while(1){s=q;if(r){r=r-1&r;q=q+1|0;continue}break}if(s>>>0<=1)continue;break}}return l}return 0}function E(o,p,l,r,m,n,x){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;n=n|0;x=x|0;var y=0,z=0;y=A-32|0;A=y;s[y+26>>1]=o;t[y+20>>2]=p;t[y+16>>2]=l;q[y+15|0]=r;s[y+12>>1]=m;t[y+8>>2]=n;t[y+4>>2]=x;a:{if(!(!(q[y+15|0]&1)|v[y+12>>1]<=32767)){t[y+28>>2]=4;break a}p=t[y+20>>2];l=t[y+16>>2];r=t[y+8>>2];m=t[y+4>>2];n=q[y+15|0]&1;o=A+-64|0;A=o;t[o+56>>2]=y+26;t[o+52>>2]=p;t[o+48>>2]=l;t[o+44>>2]=r;t[o+40>>2]=m;q[o+39|0]=2;q[o+38|0]=13;t[o+32>>2]=y+12;q[o+31|0]=n;q[o+30|0]=2;b:{c:{if(!(!t[o+52>>2]|(!t[o+44>>2]|!t[o+40>>2]))&&w[o+48>>2]<=16777215)break c;t[o+60>>2]=5;break b}t[o+24>>2]=t[o+48>>2]+(u[o+39|0]+(u[o+30|0]+4|0)|0);z=o,x=D(t[o+24>>2]),t[z+20>>2]=x;if(!t[o+20>>2]){t[o+60>>2]=3;break b}t[o+16>>2]=t[o+20>>2];q[t[o+16>>2]]=u[o+38|0];t[o+16>>2]=t[o+16>>2]+1;ba(t[o+16>>2],t[o+56>>2],u[o+30|0]);t[o+16>>2]=u[o+30|0]+t[o+16>>2];t[o+12>>2]=u[o+39|0]+t[o+48>>2];if(w[o+12>>2]<w[o+48>>2]){J(t[o+20>>2]);t[o+60>>2]=9;break b}p=t[o+16>>2];l=u[o+12|0]|u[o+13|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+14|0];t[o+16>>2]=t[o+16>>2]+3;if(q[o+31|0]&1)d:{if(u[o+38|0]==6){p=t[o+32>>2];q[p|0]=u[p|0]|128;break d}e:{if(u[o+38|0]==13){p=t[o+32>>2];s[p>>1]=v[p>>1]|32768;break e}J(t[o+20>>2]);t[o+60>>2]=1;break b}}ba(t[o+16>>2],t[o+32>>2],u[o+39|0]);t[o+16>>2]=u[o+39|0]+t[o+16>>2];ba(t[o+16>>2],t[o+52>>2],t[o+48>>2]);t[t[o+44>>2]>>2]=t[o+20>>2];t[t[o+40>>2]>>2]=t[o+24>>2];t[o+60>>2]=0}A=o- -64|0;t[y+28>>2]=t[o+60>>2]}A=y+32|0;return t[y+28>>2]}function F(o,p,l,r,m){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;var n=0,v=0;n=A-32|0;A=n;s[n+30>>1]=o;t[n+24>>2]=p;t[n+20>>2]=l;t[n+16>>2]=r;t[n+12>>2]=m;p=t[n+24>>2];l=t[n+20>>2];r=t[n+16>>2];m=t[n+12>>2];o=A-48|0;A=o;t[o+40>>2]=n+30;t[o+36>>2]=p;t[o+32>>2]=l;t[o+28>>2]=r;t[o+24>>2]=m;q[o+23|0]=2;q[o+22|0]=15;a:{if(!(t[o+24>>2]?t[o+28>>2]:0)){t[o+44>>2]=5;break a}t[t[o+28>>2]>>2]=0;t[t[o+24>>2]>>2]=0;if(!(w[o+32>>2]<=16777215?t[o+36>>2]:0)){t[o+44>>2]=5;break a}t[o+16>>2]=t[o+32>>2]+(u[o+23|0]+4|0);v=o,r=D(t[o+16>>2]),t[v+12>>2]=r;if(!t[o+12>>2]){t[o+44>>2]=3;break a}t[o+8>>2]=t[o+12>>2];q[t[o+8>>2]]=u[o+22|0];t[o+8>>2]=t[o+8>>2]+1;ba(t[o+8>>2],t[o+40>>2],u[o+23|0]);t[o+8>>2]=u[o+23|0]+t[o+8>>2];p=t[o+8>>2];l=u[o+32|0]|u[o+33|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+34|0];t[o+8>>2]=t[o+8>>2]+3;ba(t[o+8>>2],t[o+36>>2],t[o+32>>2]);t[o+8>>2]=t[o+32>>2]+t[o+8>>2];t[t[o+28>>2]>>2]=t[o+12>>2];t[t[o+24>>2]>>2]=t[o+16>>2];t[o+44>>2]=0}A=o+48|0;A=n+32|0;return t[o+44>>2]}function G(o){var p=0,l,r=0,m=0,n,s=0;r=t[343];l=o+3&-4;p=r+l|0;a:{b:{if(p>>>0<=r>>>0?l:0)break b;if(p>>>0>wa()<<16>>>0&&!(z(p|0)|0))break b;t[343]=p;break a}t[604]=48;r=-1}if((r|0)!=-1){l=o+r|0;p=l-16|0;t[p+12>>2]=16;t[p>>2]=16;o=t[600];o?s=t[o+8>>2]:s=0;c:{d:{if((s|0)==(r|0)){m=r-(t[r-4>>2]&-2)|0;n=t[m-4>>2];t[o+8>>2]=l;o=m-(n&-2)|0;l=-16;if(!(q[(o+t[o>>2]|0)-4|0]&1))break d;l=t[o+4>>2];t[l+8>>2]=t[o+8>>2];t[t[o+8>>2]+4>>2]=l;p=p-o|0;t[o>>2]=p;break c}t[r+12>>2]=16;t[r>>2]=16;t[r+8>>2]=l;t[r+4>>2]=o;t[600]=r;l=16}o=r+l|0;p=p-o|0;t[o>>2]=p}t[((p&-4)+o|0)-4>>2]=p|1;s=o;m=t[o>>2]-8|0;e:{if(m>>>0<=127){p=(m>>>3|0)-1|0;break e}n=y(m);p=((m>>>29-n^4)-(n<<2)|0)+110|0;if(m>>>0<=4095)break e;p=((m>>>30-n^2)-(n<<1)|0)+71|0;p=p>>>0<63?p:63}l=p<<4;t[s+4>>2]=l+1376;l=l+1384|0;t[o+8>>2]=t[l>>2];t[l>>2]=o;t[t[o+8>>2]+4>>2]=o;l=t[603];o=p&31;(p&63)>>>0>=32?(p=1<<o,o=0):(p=(1<<o)-1&1>>>32-o,o=1<<o);t[602]=o|t[602];t[603]=p|l}return(r|0)!=-1}function la(o,p,l,r){o=o|0;p=p|0;l=l|0;r=r|0;var m=0,n=0;m=A-16|0;A=m;s[m+10>>1]=o;s[m+8>>1]=p;t[m+4>>2]=l;t[m>>2]=r;a:{if(v[m+8>>1]>32767){t[m+12>>2]=4;break a}p=t[m+4>>2];l=t[m>>2];o=A-48|0;A=o;t[o+40>>2]=m+10;t[o+36>>2]=p;t[o+32>>2]=l;q[o+31|0]=2;q[o+30|0]=12;t[o+24>>2]=m+8;q[o+23|0]=2;b:{if(!(t[o+32>>2]?t[o+36>>2]:0)){t[o+44>>2]=5;break b}t[o+16>>2]=u[o+31|0]+(u[o+23|0]+4|0);n=o,r=D(t[o+16>>2]),t[n+12>>2]=r;if(!t[o+12>>2]){t[o+44>>2]=3;break b}t[o+8>>2]=t[o+12>>2];q[t[o+8>>2]]=u[o+30|0];t[o+8>>2]=t[o+8>>2]+1;ba(t[o+8>>2],t[o+40>>2],u[o+23|0]);t[o+8>>2]=u[o+23|0]+t[o+8>>2];t[o+4>>2]=u[o+31|0];p=t[o+8>>2];l=u[o+4|0]|u[o+5|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+6|0];t[o+8>>2]=t[o+8>>2]+3;ba(t[o+8>>2],t[o+24>>2],u[o+31|0]);t[t[o+32>>2]>>2]=t[o+16>>2];t[t[o+36>>2]>>2]=t[o+12>>2];t[o+44>>2]=0}A=o+48|0;t[m+12>>2]=t[o+44>>2]}A=m+16|0;return t[m+12>>2]}function H(o,p,l){o=o|0;p=p|0;l=l|0;var q=0,m=0,n=0,r=0,s=0;n=A+-64|0;A=n;m=1;a:{if(R(o,p,0))break a;m=0;if(!p)break a;q=A+-64|0;A=q;m=t[p>>2];r=t[m-4>>2];s=t[m-8>>2];t[q+20>>2]=0;t[q+16>>2]=1084;t[q+12>>2]=p;t[q+8>>2]=1132;m=0;ca(q+24|0,39);p=p+s|0;b:{if(R(r,1132,0)){t[q+56>>2]=1;ka[t[t[r>>2]+20>>2]](r,q+8|0,p,p,1,0);m=t[q+32>>2]==1?p:0;break b}ka[t[t[r>>2]+24>>2]](r,q+8|0,p,1,0);c:switch(t[q+44>>2]){case 0:m=t[q+48>>2]==1?t[q+36>>2]==1?t[q+40>>2]==1?t[q+28>>2]:0:0:0;break b;case 1:break c;default:break b}if(t[q+48>>2]|t[q+36>>2]!=1|t[q+40>>2]!=1?t[q+32>>2]!=1:0)break b;m=t[q+24>>2]}A=q- -64|0;p=m;m=0;if(!p)break a;ca(n+8|4,52);t[n+56>>2]=1;t[n+20>>2]=-1;t[n+16>>2]=o;t[n+8>>2]=p;ka[t[t[p>>2]+28>>2]](p,n+8|0,t[l>>2],1);o=t[n+32>>2];(o|0)==1&&(t[l>>2]=t[n+24>>2]);m=(o|0)==1}o=m;A=n- -64|0;return o|0}function I(o,p,l){var q=0,m,n=0,r=0;q=o+4|0;m=(q+p|0)-1&0-p;p=t[o>>2];if(m+l>>>0<=(p+o|0)-4>>>0){n=t[o+4>>2];t[n+8>>2]=t[o+8>>2];t[t[o+8>>2]+4>>2]=n;(q|0)!=(m|0)&&(m=m-q|0,n=o-(t[o-4>>2]&-2)|0,q=m+t[n>>2]|0,t[n>>2]=q,t[(n+(q&-4)|0)-4>>2]=q,o=o+m|0,p=p-m|0,t[o>>2]=p);a:{if(l+24>>>0<=p>>>0){q=(o+l|0)+8|0;p=(p-l|0)-8|0;t[q>>2]=p;t[(q+(p&-4)|0)-4>>2]=p|1;r=q;n=t[q>>2]-8|0;b:{if(n>>>0<=127){m=(n>>>3|0)-1|0;break b}p=y(n);m=((n>>>29-p^4)-(p<<2)|0)+110|0;if(n>>>0<=4095)break b;p=((n>>>30-p^2)-(p<<1)|0)+71|0;m=p>>>0<63?p:63}p=m;m=p<<4;t[r+4>>2]=m+1376;m=m+1384|0;t[q+8>>2]=t[m>>2];t[m>>2]=q;t[t[q+8>>2]+4>>2]=q;m=t[603];q=p&31;(p&63)>>>0>=32?(p=1<<q,r=0):(p=(1<<q)-1&1>>>32-q,r=1<<q);t[602]=r|t[602];t[603]=p|m;p=l+8|0;t[o>>2]=p;t[((p&-4)+o|0)-4>>2]=p;break a}t[(o+p|0)-4>>2]=p}o=o+4|0}else o=0;return o}function J(o){var p=0,l,q=0,m,n=0;if(o){l=o-4|0;m=t[l>>2];q=m;p=l;n=t[o-8>>2];o=n&-2;(o|0)!=(n|0)&&(p=l-o|0,q=t[p+4>>2],t[q+8>>2]=t[p+8>>2],t[t[p+8>>2]+4>>2]=q,q=o+m|0);o=l+m|0;l=t[o>>2];(l|0)!=t[(o+l|0)-4>>2]&&(m=t[o+4>>2],t[m+8>>2]=t[o+8>>2],t[t[o+8>>2]+4>>2]=m,q=q+l|0);t[p>>2]=q;t[((q&-4)+p|0)-4>>2]=q|1;n=p;q=t[p>>2]-8|0;a:{if(q>>>0<=127){o=(q>>>3|0)-1|0;break a}m=y(q);o=((q>>>29-m^4)-(m<<2)|0)+110|0;if(q>>>0<=4095)break a;o=((q>>>30-m^2)-(m<<1)|0)+71|0;o=o>>>0<63?o:63}l=o<<4;t[n+4>>2]=l+1376;l=l+1384|0;t[p+8>>2]=t[l>>2];t[l>>2]=p;t[t[p+8>>2]+4>>2]=p;l=t[603];p=o&31;(o&63)>>>0>=32?(o=1<<p,p=0):(o=(1<<p)-1&1>>>32-p,p=1<<p);t[602]=p|t[602];t[603]=o|l}}function K(n,o,l){n=n|0;o=o|0;l=l|0;var p=0,m=0;p=A-48|0;A=p;t[p+40>>2]=n;t[p+36>>2]=o;t[p+32>>2]=l;a:{if(!(t[p+32>>2]?t[p+36>>2]:0)){t[p+44>>2]=5;break a}if(w[p+40>>2]>4){t[p+44>>2]=8;break a}t[p+28>>2]=5;m=p,l=D(t[p+28>>2]),t[m+24>>2]=l;if(!t[p+24>>2]){t[p+44>>2]=3;break a}t[p+20>>2]=t[p+24>>2];q[p+19|0]=3;q[t[p+20>>2]]=u[p+19|0];t[p+20>>2]=t[p+20>>2]+1;t[p+12>>2]=1;n=t[p+20>>2];o=u[p+12|0]|u[p+13|0]<<8;q[n|0]=o;q[n+1|0]=o>>>8;q[n+2|0]=u[p+14|0];t[p+20>>2]=t[p+20>>2]+3;q[p+11|0]=t[p+40>>2];q[t[p+20>>2]]=u[p+11|0];t[t[p+36>>2]>>2]=t[p+24>>2];t[t[p+32>>2]>>2]=t[p+28>>2];t[p+44>>2]=0}A=p+48|0;return t[p+44>>2]}function L(n,o,l,p,m){n=n|0;o=o|0;l=l|0;p=p|0;m=m|0;if(R(n,t[o+8>>2],m)){da(o,l,p);return}a:{if(R(n,t[o>>2],m)){if(!(t[o+20>>2]!=(l|0)?t[o+16>>2]!=(l|0):0)){if((p|0)!=1)break a;t[o+32>>2]=1;return}t[o+32>>2]=p;b:{if(t[o+44>>2]==4)break b;s[o+52>>1]=0;n=t[n+8>>2];ka[t[t[n>>2]+20>>2]](n,o,l,l,1,m);if(u[o+53|0]){t[o+44>>2]=3;if(!u[o+52|0])break b;break a}t[o+44>>2]=4}t[o+20>>2]=l;t[o+40>>2]=t[o+40>>2]+1;if(t[o+36>>2]!=1|t[o+24>>2]!=2)break a;q[o+54|0]=1;return}n=t[n+8>>2];ka[t[t[n>>2]+24>>2]](n,o,l,p,m)}}function M(o,p,l,q,m){var n=0;n=A-32|0;A=n;t[n+24>>2]=o;t[n+20>>2]=p;t[n+16>>2]=l;t[n+12>>2]=q;t[n+8>>2]=m;a:{if(w[n+16>>2]<1){t[n+28>>2]=9;break a}t[t[n+8>>2]>>2]=t[n+16>>2]-1;if(w[t[n+20>>2]>>2]<w[t[n+8>>2]>>2]){t[n+28>>2]=1;break a}o=D(t[t[n+8>>2]>>2]);t[t[n+12>>2]>>2]=o;if(!t[t[n+12>>2]>>2]){t[n+28>>2]=3;break a}ba(t[t[n+12>>2]>>2],t[t[n+24>>2]>>2],t[t[n+8>>2]>>2]);o=t[n+24>>2];t[o>>2]=t[t[n+8>>2]>>2]+t[o>>2];o=t[n+20>>2];t[o>>2]=t[o>>2]-t[t[n+8>>2]>>2];t[n+28>>2]=0}A=n+32|0;return t[n+28>>2]}function N(n,o,l){n=n|0;o=o|0;l=l|0;var p=0,m=0;p=A-32|0;A=p;s[p+26>>1]=n;t[p+20>>2]=o;t[p+16>>2]=l;t[t[p+16>>2]>>2]=3;m=p,l=D(t[t[p+16>>2]>>2]),t[m+12>>2]=l;a:{if(!t[p+12>>2]){t[p+28>>2]=3;break a}t[t[p+20>>2]>>2]=t[p+12>>2];q[p+11|0]=14;q[t[p+12>>2]]=u[p+11|0];t[p+12>>2]=t[p+12>>2]+1;n=t[p+12>>2];o=u[p+26|0]|u[p+27|0]<<8;q[n|0]=o;q[n+1|0]=o>>>8;t[p+28>>2]=0}A=p+32|0;return t[p+28>>2]}function O(m,n){var l=0;l=A-16|0;A=l;t[l+12>>2]=m;t[l+8>>2]=n;t[l+4>>2]=0;while(1){if(w[l+4>>2]<w[l+8>>2]){t[l>>2]=t[l+12>>2]+x(t[l+4>>2],20);a:{if(!(t[t[l>>2]>>2]&15)){J(t[t[l>>2]+8>>2]);break a}b:{if((t[t[l>>2]>>2]&15)==5){J(t[t[l>>2]+8>>2]);break b}(t[t[l>>2]>>2]&15)==6&&J(t[t[l>>2]+12>>2])}}t[l+4>>2]=t[l+4>>2]+1;continue}break}J(t[l+12>>2]);A=l+16|0}function P(m,n,l,o){q[m+53|0]=1;a:{if(t[m+4>>2]!=(l|0))break a;q[m+52|0]=1;l=t[m+16>>2];if(!l){t[m+36>>2]=1;t[m+24>>2]=o;t[m+16>>2]=n;if((o|0)!=1|t[m+48>>2]!=1)break a;q[m+54|0]=1;return}if((n|0)==(l|0)){l=t[m+24>>2];(l|0)==2&&(t[m+24>>2]=o,l=o);if(t[m+48>>2]!=1|(l|0)!=1)break a;q[m+54|0]=1;return}q[m+54|0]=1;t[m+36>>2]=t[m+36>>2]+1}}function Q(n,o,l,p){var m;m=A-32|0;t[m+24>>2]=n;t[m+20>>2]=o;t[m+16>>2]=l;t[m+12>>2]=p;q[m+11|0]=0;a:{if(w[t[m+20>>2]>>2]<1){t[m+28>>2]=1;break a}q[m+11|0]=u[t[t[m+24>>2]>>2]];n=t[m+24>>2];t[n>>2]=t[n>>2]+1;n=t[m+20>>2];t[n>>2]=t[n>>2]-1;q[t[m+16>>2]]=(u[m+11|0]&128)==128;q[t[m+12>>2]]=u[m+11|0]&127;t[m+28>>2]=0}return t[m+28>>2]}function ma(n,o,l,p,m){n=n|0;o=o|0;l=l|0;p=p|0;m=m|0;if(R(n,t[o+8>>2],m)){da(o,l,p);return}a:{if(!R(n,t[o>>2],m))break a;if(!(t[o+20>>2]!=(l|0)?t[o+16>>2]!=(l|0):0)){if((p|0)!=1)break a;t[o+32>>2]=1;return}t[o+20>>2]=l;t[o+32>>2]=p;t[o+40>>2]=t[o+40>>2]+1;t[o+36>>2]!=1|t[o+24>>2]!=2||(q[o+54|0]=1);t[o+44>>2]=4}}function R(m,n,l){var o;if(!l)return t[m+4>>2]==t[n+4>>2];if((m|0)==(n|0))return 1;l=t[m+4>>2];m=u[l|0];n=t[n+4>>2];o=u[n|0];a:{if(!m|(o|0)!=(m|0))break a;while(1){o=u[n+1|0];m=u[l+1|0];if(!m)break a;n=n+1|0;l=l+1|0;if((m|0)==(o|0))continue;break}}return(m|0)==(o|0)}function na(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=9;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function S(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=10;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function T(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=2;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function U(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=4;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function V(l){var m=0;m=A-16|0;A=m;t[m+12>>2]=l;l=1;a:{if(X(t[m+12>>2])&1)break a;l=1;if(t[m+12>>2]==15)break a;l=1;if(t[m+12>>2]==13)break a;l=1;if(t[m+12>>2]==12)break a;l=t[m+12>>2]==14}A=m+16|0;return l}function W(m,n,l){var o;o=t[m+16>>2];if(!o){t[m+36>>2]=1;t[m+24>>2]=l;t[m+16>>2]=n;return}a:{if((n|0)==(o|0)){if(t[m+24>>2]!=2)break a;t[m+24>>2]=l;return}q[m+54|0]=1;t[m+24>>2]=2;t[m+36>>2]=t[m+36>>2]+1}}function X(l){var m;m=A-16|0;t[m+12>>2]=l;l=1;a:{if(t[m+12>>2]==5)break a;l=1;if(t[m+12>>2]==6)break a;l=1;if(t[m+12>>2]==7)break a;l=t[m+12>>2]==8}return l}function Y(o,p,l,q,m,n){o=o|0;p=p|0;l=l|0;q=q|0;m=m|0;n=n|0;if(R(o,t[p+8>>2],n)){P(p,l,q,m);return}o=t[o+8>>2];ka[t[t[o>>2]+20>>2]](o,p,l,q,m,n)}function Z(){var m=0,n,l;while(1){n=m<<4;l=n+1376|0;t[n+1380>>2]=l;t[n+1384>>2]=l;m=m+1|0;if((m|0)!=64)continue;break}G(48)}function $(m,n,l,o){m=m|0;n=n|0;l=l|0;o=o|0;if(R(m,t[n+8>>2],0)){W(n,l,o);return}m=t[m+8>>2];ka[t[t[m>>2]+28>>2]](m,n,l,o)}function aa(o,p,l,q,m,n){o=o|0,p=p|0,l=l|0,q=q|0,m=m|0,n=n|0,R(o,t[p+8>>2],n)&&P(p,l,q,m)}function ba(m,n,l){if(l)while(1){q[m|0]=u[n|0];m=m+1|0;n=n+1|0;l=l-1|0;if(l)continue;break}}function ca(l,m){if(m)while(1){q[l|0]=0;l=l+1|0;m=m-1|0;if(m)continue;break}}function oa(m,n,l,o){m=m|0,n=n|0,l=l|0,o=o|0,R(m,t[n+8>>2],0)&&W(n,l,o)}function da(m,n,l){t[m+28>>2]==1|t[m+4>>2]!=(n|0)||(t[m+28>>2]=l)}function pa(l,m){l=l|0;m=m|0;return x(m,20)+l|0}function ea(l){l=l|0;return v[l+8>>1]>>>1|0}function qa(l){l=l|0;return s[l+8>>1]&1}function fa(l){l=l|0;return t[l+12>>2]}function ra(l){l=l|0;return t[l>>2]&15}function sa(l){l=l|0;return t[l+16>>2]}function ga(l){l=l|0;return v[l+4>>1]}function ha(l){l=l|0;return t[l+8>>2]}function ia(l){l=l|0;return u[l+4|0]}function ja(l){l=l|0;return l|0}function ta(l){return D(l)}function ua(l){l=l|0,J(l)}function va(l){l|0}n=u;r(l);var ka=m([null,ja,ua,va,va,H,aa,ma,oa,ua,Y,L,$]);function wa(){return p.byteLength/65536|0}function xa(l){l=l|0;var m=wa()|0;l=m+l|0;if(m<l&&l<65536){l=new ArrayBuffer(x(l,65536));var r=new Int8Array(l);r.set(q);q=new Int8Array(l);s=new Int16Array(l);t=new Int32Array(l);u=new Uint8Array(l);v=new Uint16Array(l);w=new Uint32Array(l);new Float32Array(l);new Float64Array(l);p=l;o.buffer=p;n=u}return m}return{c:Z,d:ta,e:ua,f:T,g:U,h:K,i:F,j:N,k:E,l:la,m:na,n:S,o:C,p:ra,q:ia,r:pa,s:ga,t:ha,u:fa,v:fa,w:sa,x:ea,y:qa,z:ea,A:ka}}return s(l)}(ha)},instantiate:function(l,m){return{then:function(n){var m=new D.Module(l);n({instance:new D.Instance(m)})}}},RuntimeError:Error};C=[];typeof D!=="object"&&Y("no native wasm support detected");var E,F=!1;function G(l,m){l||Y("Assertion failed: "+m)}function la(l,m){l%m>0&&(l+=m-l%m);return l}var H,I;function J(l){H=l,m.HEAP8=new Int8Array(l),m.HEAP16=new Int16Array(l),m.HEAP32=new Int32Array(l),m.HEAPU8=I=new Uint8Array(l),m.HEAPU16=new Uint16Array(l),m.HEAPU32=new Uint32Array(l),m.HEAPF32=new Float32Array(l),m.HEAPF64=new Float64Array(l)}u=m.INITIAL_MEMORY||2097152;m.wasmMemory?E=m.wasmMemory:E=new D.Memory({initial:u/65536,maximum:2147483648/65536});E&&(H=E.buffer);H.byteLength;J(H);var K,L=[],M=[],N=[];function O(){if(m.preRun){typeof m.preRun=="function"&&(m.preRun=[m.preRun]);while(m.preRun.length)ma(m.preRun.shift())}da(L)}function P(){da(M)}function Q(){if(m.postRun){typeof m.postRun=="function"&&(m.postRun=[m.postRun]);while(m.postRun.length)na(m.postRun.shift())}da(N)}function ma(l){L.unshift(l)}function R(l){M.unshift(l)}function na(l){N.unshift(l)}(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(l,m){var n=l>>>16;l=l&65535;var o=m>>>16;m=m&65535;return l*m+(n*m+l*o<<16)|0});if(!Math.fround){var S=new Float32Array(1);Math.fround=function(l){S[0]=l;return S[0]}}Math.clz32||(Math.clz32=function(l){var m=32,n=l>>16;n&&(m-=16,l=n);n=l>>8;n&&(m-=8,l=n);n=l>>4;n&&(m-=4,l=n);n=l>>2;n&&(m-=2,l=n);n=l>>1;return n?m-2:m-l});Math.trunc||(Math.trunc=function(l){return l<0?Math.ceil(l):Math.floor(l)});var T=0,U=null,V=null;function W(l){T++,m.monitorRunDependencies&&m.monitorRunDependencies(T)}function X(l){T--;m.monitorRunDependencies&&m.monitorRunDependencies(T);if(T==0){U!==null&&(clearInterval(U),U=null);if(V){l=V;V=null;l()}}}m.preloadedImages={};m.preloadedAudios={};function Y(l){m.onAbort&&m.onAbort(l);l+="";B(l);F=!0;l="abort("+l+"). Build with -s ASSERTIONS=1 for more info.";l=new D.RuntimeError(l);s(l);throw l}var Z="data:application/octet-stream;base64,";function $(l){return l.startsWith(Z)}var aa="dgwcppbridge.wasm";$(aa)||(aa=z(aa));function ba(l){try{if(l==aa&&C)return new Uint8Array(C);var m=ga(l);if(m)return m;if(A)return A(l);else throw"both async and sync fetching of the wasm failed"}catch(l){Y(l)}}function ca(){return!C&&(w||x)&&typeof fetch==="function"?fetch(aa,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+aa+"'";return l.arrayBuffer()})["catch"](function(){return ba(aa)}):n.resolve().then(function(){return ba(aa)})}function oa(){var n={a:ha};function o(n,l){l=n.exports;m.asm=l;K=m.asm.A;R(m.asm.c);X("wasm-instantiate")}W("wasm-instantiate");function r(l){o(l.instance)}function t(l){return ca().then(function(l){l=D.instantiate(l,n);return l}).then(l,function(l){B("failed to asynchronously prepare wasm: "+l),Y(l)})}function u(){if(!C&&typeof D.instantiateStreaming==="function"&&!$(aa)&&typeof fetch==="function")return fetch(aa,{credentials:"same-origin"}).then(function(l){l=D.instantiateStreaming(l,n);return l.then(r,function(l){B("wasm streaming compile failed: "+l);B("falling back to ArrayBuffer instantiation");return t(r)})});else return t(r)}if(m.instantiateWasm)try{var l=m.instantiateWasm(n,o);return l}catch(l){B("Module.instantiateWasm callback failed with error: "+l);return!1}u()["catch"](s);return{}}function da(l){while(l.length>0){var n=l.shift();if(typeof n=="function"){n(m);continue}var o=n.func;typeof o==="number"?n.arg===void 0?K.get(o)():K.get(o)(n.arg):o(n.arg===void 0?null:n.arg)}}function pa(l){try{E.grow(l-H.byteLength+65535>>>16);J(E.buffer);return 1}catch(l){}}function ea(l){var m=I.length;l=l>>>0;var n=2147483648;if(l>n)return!1;for(var o=1;o<=4;o*=2){var p=m*(1+.2/o);p=Math.min(p,l+100663296);p=Math.min(n,la(Math.max(l,p),65536));p=pa(p);if(p)return!0}return!1}var qa=!1;function fa(l){var m=[];for(var n=0;n<l.length;n++){var o=l[n];o>255&&(qa&&G(!1,"Character code "+o+" ("+String.fromCharCode(o)+")  at offset "+n+" not in 0x00-0xFF."),o&=255);m.push(String.fromCharCode(o))}return m.join("")}var ra=typeof atob==="function"?atob:function(l){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",o,p,q,r,s,t=0;l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"");do p=m.indexOf(l.charAt(t++)),q=m.indexOf(l.charAt(t++)),r=m.indexOf(l.charAt(t++)),s=m.indexOf(l.charAt(t++)),p=p<<2|q>>4,q=(q&15)<<4|r>>2,o=(r&3)<<6|s,n=n+String.fromCharCode(p),r!==64&&(n=n+String.fromCharCode(q)),s!==64&&(n=n+String.fromCharCode(o));while(t<l.length);return n};function sa(l){try{l=ra(l);var m=new Uint8Array(l.length);for(var n=0;n<l.length;++n)m[n]=l.charCodeAt(n);return m}catch(l){throw new Error("Converting base64 string to bytes failed.")}}function ga(l){if(!$(l))return;return sa(l.slice(Z.length))}var ha={b:ea,a:E};oa();m.___wasm_call_ctors=function(){return(m.___wasm_call_ctors=m.asm.c).apply(null,arguments)};m.__malloc=function(){return(m.__malloc=m.asm.d).apply(null,arguments)};m.__free=function(){return(m.__free=m.asm.e).apply(null,arguments)};m.__DgwCodecEncodeEmpty=function(){return(m.__DgwCodecEncodeEmpty=m.asm.f).apply(null,arguments)};m.__DgwCodecEncodeDeauth=function(){return(m.__DgwCodecEncodeDeauth=m.asm.g).apply(null,arguments)};m.__DgwCodecEncodeDrain=function(){return(m.__DgwCodecEncodeDrain=m.asm.h).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_EstabStream=function(){return(m.__DgwCodecEncodeStreamGroup_EstabStream=m.asm.i).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_EndOfData=function(){return(m.__DgwCodecEncodeStreamGroup_EndOfData=m.asm.j).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_Data=function(){return(m.__DgwCodecEncodeStreamGroup_Data=m.asm.k).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_Ack=function(){return(m.__DgwCodecEncodeStreamGroup_Ack=m.asm.l).apply(null,arguments)};m.__DgwCodecEncodePing=function(){return(m.__DgwCodecEncodePing=m.asm.m).apply(null,arguments)};m.__DgwCodecEncodePong=function(){return(m.__DgwCodecEncodePong=m.asm.n).apply(null,arguments)};m.__DgwCodecDecode=function(){return(m.__DgwCodecDecode=m.asm.o).apply(null,arguments)};m.__getFrameType=function(){return(m.__getFrameType=m.asm.p).apply(null,arguments)};m.__getDrainReasonFromDrainFrame=function(){return(m.__getDrainReasonFromDrainFrame=m.asm.q).apply(null,arguments)};m.__getDGWFramePtr=function(){return(m.__getDGWFramePtr=m.asm.r).apply(null,arguments)};m.__getStreamIdFromStreamGroupFrame=function(){return(m.__getStreamIdFromStreamGroupFrame=m.asm.s).apply(null,arguments)};m.__getEncodedParamsFromEstablishStreamFrame=function(){return(m.__getEncodedParamsFromEstablishStreamFrame=m.asm.t).apply(null,arguments)};m.__getEncodedParamsSizeFromEstablishStreamFrame=function(){return(m.__getEncodedParamsSizeFromEstablishStreamFrame=m.asm.u).apply(null,arguments)};m.__getDataFromGroupedStreamDataFrame=function(){return(m.__getDataFromGroupedStreamDataFrame=m.asm.v).apply(null,arguments)};m.__getDataSizeFromGroupedStreamDataFrame=function(){return(m.__getDataSizeFromGroupedStreamDataFrame=m.asm.w).apply(null,arguments)};m.__getAckIdFromGroupedStreamDataFrame=function(){return(m.__getAckIdFromGroupedStreamDataFrame=m.asm.x).apply(null,arguments)};m.__getRequiresAckFromGroupedStreamDataFrame=function(){return(m.__getRequiresAckFromGroupedStreamDataFrame=m.asm.y).apply(null,arguments)};m.__getAckIdFromGroupedStreamAckFrame=function(){return(m.__getAckIdFromGroupedStreamAckFrame=m.asm.z).apply(null,arguments)};var ia;V=function l(){ia||ja(),ia||(V=l)};function ja(l){l||v;if(T>0)return;O();if(T>0)return;function n(){if(ia)return;ia=!0;m.calledRun=!0;if(F)return;P();o(m);m.onRuntimeInitialized&&m.onRuntimeInitialized();Q()}m.setStatus?(m.setStatus("Running..."),setTimeout(function(){setTimeout(function(){m.setStatus("")},1),n()},1)):n()}m.run=ja;if(m.preInit){typeof m.preInit=="function"&&(m.preInit=[m.preInit]);while(m.preInit.length>0)m.preInit.pop()()}ja();return m.ready}}();typeof q==="object"&&typeof p==="object"?p.exports=r:typeof define==="function"&&define.amd?define([],function(){return r}):typeof q==="object"&&(q.Module=r)}),null);
__d("DGWUtils",["Base64","DGWConstants","DGWCppBridge","DGWLoggingContext","Random","URI"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=d("Random").random()*16|0;a=a==="x"?b:b&3|8;return a.toString(16)})}function j(a){var b=new TextDecoder();b=b.decode(a);a=c("Base64").encode(b);b=a.replace(/\+/gi,"-").replace(/\//gi,"_").replace(/=/gi,"");return b}var k=null,l=null;function m(){l==null&&(l=Promise.resolve().then(function(){return c("DGWCppBridge")()}).then(function(a){k=a}));return l}b=function(){function a(){}a.initialize=async function(){return m()};a.constructConnectUrl=function(a){var b,e,f=a.appId,g=a.appVersion,i=a.authType,k=a.deviceId,l=a.dgwVersion,m=a.fbId,n=a.tier,o=a.loggingId,p=a.headers,q=a.endpoint,r=a.serviceId,s=a.regionHint,t=a.establishStreamFrame;a=a.trafficTracing;var u=(b={},b[(e=d("DGWConstants")).HEADER_CONSTANTS.HEADER_APPID]=f,b[e.HEADER_CONSTANTS.HEADER_APPVERSION]=g,b[e.HEADER_CONSTANTS.HEADER_AUTHTYPE]=i,b[e.HEADER_CONSTANTS.HEADER_DGW_VERSION]=""+l,b[e.HEADER_CONSTANTS.HEADER_UUID]=m,b[e.HEADER_CONSTANTS.HEADER_TARGET_TIER]=n,b);t!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64]=j(t));o!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.HEADER_LOGGING_ID]=o);s!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.HEADER_REGIONHINT]=s);k!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.HEADER_DEVICE_ID]=k);a!==void 0&&(u[d("DGWConstants").HEADER_CONSTANTS.TRAFFIC_TRACING]="debug:"+a);Object.keys(p).forEach(function(a){var b=d("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+a;Object.prototype.hasOwnProperty.call(u,b)||(u[b]=p[a])});f=new(h||(h=c("URI")))(q);f.setQueryData(u);f.setPath(f.getPath()+"/"+r);f.toString().length>2e3&&(delete u[d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64],f.setQueryData(u));return f.toStringRawQuery()};return a}();e=function(){function a(a,b,c){this.$1=null,this.$2=a,this.$3=b,this.$4=c}a.initialize=async function(){return m()};var b=a.prototype;b.malloc=function(a){try{a=k.__malloc(a);if(a===0){var b;(b=this.$2)==null?void 0:b.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","malloc returned 0");return-1}return a}catch(a){(b=this.$2)==null?void 0:b.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","exception during malloc",a.toString());return-1}};b.free=function(a){k.__free(a)};b.append=function(a){if(this.$1==null){this.$1=a;return}var b=this.$1.length,c=new Uint8Array(b+a.length);c.set(this.$1,0);c.set(a,b);this.$1=c};b.processData=function(){var a=this;if(this.$1==null)return;var b=this.$1.length,c=this.malloc(b);if(c===-1)return;var e=k.HEAPU8.subarray(c,c+b);if(this.$1)for(var f=0;f<e.length;++f)e[f]=this.$1[f];f=this.malloc(i*4);if(f===-1)return;e=f;var g=e+i,h=g+i,j=h+i;b=k.__DgwCodecDecode(c,b,e,g,h,j);this.free(c);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){this.free(f);(h=this.$2)==null?void 0:h.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b));return}c=k.HEAPU32.subarray(j/i,j/i+1)[0];if(this.$1==null){this.free(f);return}h=this.$1.length-c;if(this.$1&&this.$1.length>h){this.$1=new Uint8Array(((b=this.$1)==null?void 0:b.subarray(h))||[])}else this.$1=null;j=k.HEAPU32.subarray(g/i,g/i+1)[0];c=k.HEAPU32.subarray(e/i,e/i+1)[0];var l=[];for(b=0;b<j;++b){var m=k.__getDGWFramePtr(c,b);h=k.__getFrameType(m);switch(h){case d("DGWConstants").DgwFrameType.DgwFrameType_Drain:g=function(b){var c=k.__getDrainReasonFromDrainFrame(m),e=d("DGWConstants").drainReasonToDrainReasonString(c);(b=a.$2)==null?void 0:b.logEvent(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+e);l.push(function(){var b;return(b=a.$3)==null?void 0:b.receivedDrainSignal(e)});return"break"}();if(g==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EstabStream:e=function(){var b=k.__getStreamIdFromStreamGroupFrame(m),c=k.__getEncodedParamsFromEstablishStreamFrame(m),d=new Uint8Array(k.HEAPU8.subarray(c,c+k.__getEncodedParamsSizeFromEstablishStreamFrame(m)));a.free(c);l.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEstablishStreamReceived(b,d)});return"break"}();if(e==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Data:h=function(){var b=k.__getStreamIdFromStreamGroupFrame(m),c=k.__getDataFromGroupedStreamDataFrame(m),d=new Uint8Array(k.HEAPU8.subarray(c,c+k.__getDataSizeFromGroupedStreamDataFrame(m)));a.free(c);var e=k.__getRequiresAckFromGroupedStreamDataFrame(m)?k.__getAckIdFromGroupedStreamDataFrame(m):null;l.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamDataReceived(b,d,e)});return"break"}();if(h==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Ack:g=function(){var b=k.__getStreamIdFromStreamGroupFrame(m),c=k.__getAckIdFromGroupedStreamAckFrame(m);l.push(function(){var d;return(d=a.$3)==null?void 0:d.onGroupedStreamAckReceived(b,c)});return"break"}();if(g==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EndOfData:e=function(){var b=k.__getStreamIdFromStreamGroupFrame(m);l.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEndOfDataReceived(b)});return"break"}();if(e==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_Ping:l.push(function(){var b;return(b=a.$3)==null?void 0:b.onPingReceived()});break;case d("DGWConstants").DgwFrameType.DgwFrameType_Pong:l.push(function(){var b;return(b=a.$3)==null?void 0:b.onPongReceived()});break;default:break}this.free(m)}this.free(f);for(h=0;h<l.length;h++)l[h]()};b.encodeData=function(a,b,c,e){var f=this.malloc(a.length);if(f===-1)return null;var g=k.HEAPU8.subarray(f,f+a.length);for(var h=0;h<g.length;++h)g[h]=a[h];a=this.malloc(i*2);h=a;var j=a+i;e=k.__DgwCodecEncodeStreamGroup_Data(e,f,g.length,b,c,h,j);this.free(f);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(g=this.$2)==null?void 0:g.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}b=k.HEAPU32.subarray(h/i,h/i+1)[0];c=k.HEAPU32.subarray(j/i,j/i+1)[0];f=new Uint8Array(k.HEAPU8.subarray(b,b+c));this.free(b);this.free(a);return f};b.encodeAck=function(a,b){var c=this.malloc(i*2);if(c===-1)return null;var e=c,f=c+i;b=k.__DgwCodecEncodeStreamGroup_Ack(b,a,e,f);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(a=this.$2)==null?void 0:a.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b));return null}a=k.HEAPU32.subarray(e/i,e/i+1)[0];b=k.HEAPU32.subarray(f/i,f/i+1)[0];e=new Uint8Array(k.HEAPU8.subarray(a,a+b));this.free(a);this.free(c);return e};b.encodeDrain=function(a){var b=this.malloc(i*2);if(b===-1)return null;var c=b,e=b+i;a=k.__DgwCodecEncodeDrain(a,c,e);if(a!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=k.HEAPU32.subarray(c/i,c/i+1)[0];a=k.HEAPU32.subarray(e/i,e/i+1)[0];c=new Uint8Array(k.HEAPU8.subarray(f,f+a));this.free(f);this.free(b);return c};b.encodeEstablishStream=function(a,b){var c=this.malloc(b.length);if(c===-1)return null;var e=k.HEAPU8.subarray(c,c+b.length);for(var f=0;f<b.length;++f)e[f]=b[f];e=this.malloc(i*2);f=e;var g=e+i;b=k.__DgwCodecEncodeStreamGroup_EstabStream(a,c,b.length,f,g);this.free(c);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(c=this.$2)==null?void 0:c.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EstablishStream Frame encode failure","Failed to encode EstablishStream Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b)+" for StreamId "+a);return null}c=k.HEAPU32.subarray(f/i,f/i+1)[0];b=k.HEAPU32.subarray(g/i,g/i+1)[0];a=new Uint8Array(k.HEAPU8.subarray(c,c+b));this.free(c);this.free(e);return a};b.encodeEndOfData=function(a){var b=this.malloc(i*2);if(b===-1)return null;var c=b,e=b+i;a=k.__DgwCodecEncodeStreamGroup_EndOfData(a,c,e);if(a!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EndOfData Frame encode failure","Failed to encode EndOfData Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=k.HEAPU32.subarray(c/i,c/i+1)[0];a=k.HEAPU32.subarray(e/i,e/i+1)[0];c=new Uint8Array(k.HEAPU8.subarray(f,f+a));this.free(f);this.free(b);return c};b.encodePing=function(){var a=this.malloc(i*2);if(a===-1)return null;var b=a,c=a+i,e=k.__DgwCodecEncodePing(b,c);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Ping Frame encode failure","Failed to encode Ping Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=k.HEAPU32.subarray(b/i,b/i+1)[0];e=k.HEAPU32.subarray(c/i,c/i+1)[0];b=new Uint8Array(k.HEAPU8.subarray(f,f+e));this.free(f);this.free(a);return b};b.encodePong=function(){if(this.$5!=null)return this.$5;var a=this.malloc(i*2);if(a===-1)return null;var b=a,c=a+i,e=k.__DgwCodecEncodePong(b,c);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Pong Frame encode failure","Failed to encode Pong Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=k.HEAPU32.subarray(b/i,b/i+1)[0];e=k.HEAPU32.subarray(c/i,c/i+1)[0];b=new Uint8Array(k.HEAPU8.subarray(f,f+e));this.free(f);this.free(a);this.$5=b;return b};return a}();g.uuidv4=a;g.Uint8ArrayToBase64UrlStr=j;g.DGWUtils=b;g.DGWCodec=e}),98);
__d("DGWExponentialBackoff",[],(function(a,b,c,d,e,f){"use strict";var g={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.errors=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));async function a(a,b){b===void 0&&(b=g);try{return await i(a,b)}catch(a){throw a.errors[a.errors.length-1]}}async function i(a,b){var c=0,d=[],e=b.baseRetryInterval,f=b.backoffFactor;while(c<=b.maxRetries){try{var g=await a();return g}catch(a){d.push(a)}await j(e*Math.pow(f,c));++c}throw new h("Max call count exceeded",d)}async function j(a){await new Promise(function(b){return window.setTimeout(b,a)})}f.callWithExponentialBackoff=a}),66);
__d("DGWPinger",["DGWLoggingContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;if(this.$3){var b;(b=d("DGWLoggingContext")).DGWLoggingContext.bumpODSKey(b.DGWLoggingComponent.PINGER,"timeout_fired.reset");this.$3=!1;this.$4();b.DGWLoggingContext.bumpODSKey(b.DGWLoggingComponent.PINGER,"timeout.newtimeout");this.$2=window.setTimeout(function(){a.$6()},this.$1)}else d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.disconnect"),this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset"),window.clearTimeout(this.$2),this.$2=null);this.$1>0&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset.newtimeout"),this.$2=window.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"canceled"),window.clearTimeout(this.$2),this.$2=null)};return a}();g.DGWPinger=a}),98);
__d("DGWStreamGroupCallbacks",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({TRANSPORT_SERVER_INTERNAL_ERROR:0,TRANSPORT_ABNORMAL_CLOSURE:1,TRANSPORT_GOING_AWAY:2,TRANSPORT_UNKNOWN_ERROR:3,TRANSPORT_KEEPALIVE_TIMEOUT:4,TRANSPORT_UNAUTHORIZED:5,TRANSPORT_REJECTED:6,TRANSPORT_BAD_REQUEST:7,TRANSPORT_DGW_SERVER_ERROR:8,TRANSPORT_NORMAL_CLOSURE:9});function a(a){switch(a){case g.TRANSPORT_UNAUTHORIZED:return!1;default:return!0}}c=function(){function a(){}var b=a.prototype;b.onStreamGroupError=function(){};b.onStreamGroupMustDrain=function(){};b.onStreamGroupTransportClose=function(){};return a}();f.DGWStreamGroupError=g;f.isRetryableError=a;f.NoOpDGWStreamGroupCallbacks=c}),66);
__d("DGWTransportEvents",["DGWLoggingContext","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=a}var b=a.prototype;b.transportEstablished=function(a){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"open",a),this.$2=Date.now(),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_success")};b.transportPingSent=function(a){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Ping Frame Sent",a,!0)};b.transportPongReceived=function(a){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Pong Frame Received",a,!0)};b.transportEstablishmentPending=function(){this.$1=Date.now(),this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transportPending",null,!0),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_pending")};b.transportClosed=function(a,b,c){this.$4=Date.now(),a?(this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_graceful"),this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed gracefully",null,!0)):(this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_with_error"),this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed abnormally",b,c))};b.transportEstablishmentFailure=function(a){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"WebSocket transport establishment failure","WebSocket close code: "+a.code+" reason: "+a.reason+" wasClean: "+String(a.wasClean)),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_failure")};b.streamEstablishmentTimeout=function(a,b,e){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment timeout",a,"streamId:"+b+", onLine:"+String(c("NetworkStatus").isOnline()),!1,e),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_timeout")};b.streamEstablishmentPending=function(a,b){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment pending","streamId:"+a,!0,b),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_pending")};b.streamEstablishmentSuccess=function(a,b){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment success","streamId:"+a,!0,b),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_success")};b.transportError=function(a,b,c){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,a,b,c)};b.receivedFrameForInactiveStream=function(a,b,c){this.$3.logWarn(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Frame received for inactive stream","frameType: "+a+", streamID: "+b,c)};b.ranOutOfStreamIds=function(a){this.$3.logWarn(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Hit max StreamId limit","Hit max StreamId limit",a)};return a}();g.DGWTransportEvents=a}),98);
__d("DGWWebSocketTransport",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=new WebSocket(a);a.binaryType="arraybuffer";a.onopen=function(){};a.onclose=function(){};a.onerror=function(){};return a}f.getWebSocketConnection=a}),66);
__d("DGWStreamEvents",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$4=new Map(),this.$5=new Map(),this.$6=a,this.$1=b,c!=null&&(this.$8="streamId:"+c+"::")}var b=a.prototype;b.dataSent=function(a,b,c){var d=b?"sendWithAckRequested":"sendWithoutAckRequested";this.$6.logEvent(this.$1,d,((d=this.$8)!=null?d:"")+"sendId:"+c+", payloadSize:"+a,!0);this.$4.set(c,{ackRequested:b,payloadSize:a,sendTimestamp:Date.now()})};b.ackReceived=function(a){var b;this.$6.logEvent(this.$1,"AckReceived",((b=this.$8)!=null?b:"")+"sendId:"+a,!0);this.$6.bumpODSKey(this.$1,"ack_received");b=this.$4.get(a);b!=null&&(b.ackReceivedTimestamp=Date.now())};b.ackSent=function(a){var b;this.$6.bumpODSKey(this.$1,"ack_sent");this.$6.logEvent(this.$1,"ACK sent",((b=this.$8)!=null?b:"")+"ackId:"+a,!0)};b.drainSent=function(a){var b;this.$6.logEvent(this.$1,"Drain sent",((b=this.$8)!=null?b:"")+"drainReason: "+a)};b.dataReceived=function(a,b,c){var d;this.$6.bumpODSKey(this.$1,"data_received");this.$6.logEvent(this.$1,"Data received",((d=this.$8)!=null?d:"")+"sendId:"+((d=c)!=null?d:"null")+", ackRequested:"+b.toString()+", payloadSize:"+a,!0);c!=null&&this.$5.set(c,{ackRequested:b,payloadSize:a,receiveTimestamp:Date.now()})};b.endOfDataReceived=function(){this.$6.bumpODSKey(this.$1,"end_of_data_received"),this.$6.logEvent(this.$1,"EndOfDataReceived",this.$8,!0)};b.endOfDataSent=function(){this.$6.bumpODSKey(this.$1,"end_of_data_sent"),this.$6.logEvent(this.$1,"EndOfDataSent",this.$8,!0)};b.streamClosed=function(a,b){this.$7=Date.now();var c=this.$9();if(a){this.$6.bumpODSKey(this.$1,"stream_closed_gracefully");this.$6.logEvent(this.$1,"Stream closed gracefully",""+((a=this.$8)!=null?a:"")+c)}else{this.$6.bumpODSKey(this.$1,"stream_closed_with_error");this.$6.logError(this.$1,"Stream closed abnormally",b,""+((a=this.$8)!=null?a:"")+c)}};b.connectionEstablishmentFailure=function(a){this.$6.logEvent(this.$1,"WebSocket connection establishment failure","WebSocket close code: "+a)};b.streamEstablishmentFailure=function(a,b){this.$6.logError(this.$1,"Failed to establish DGW Stream","Last seen error: "+a.toString(),""+((a=this.$8)!=null?a:"")+b);this.$6.bumpODSKey(this.$1,"stream_establishment_failure")};b.error=function(a,b){b={msg:b,state:this.$9()};this.$6.logError(this.$1,a,JSON.stringify(b),this.$8)};b.$9=function(){var a={currentNetworkCondition:window.navigator&&window.navigator.onLine===!0,establishRequestTimestamp:this.$2,establishedTimestamp:this.$3,streamClosedTimestamp:this.$7,sendHistory:JSON.stringify(Array.from(this.$4.entries())),receiveHistory:JSON.stringify(Array.from(this.$5.entries()))};return JSON.stringify(a)};return a}();f.DGWStreamEvents=a}),66);
__d("GroupedStream",["DGWAckManager","DGWConstants","DGWLoggingContext","DGWStream","DGWStreamEvents","QuickPerformanceLogger","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(701242292,"2919");a=function(){function a(a,b,e,f,g,j,k){this.$1=a,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=b,this.$7=e,this.$8=f,this.$2=j,this.$9=g,this.$10=new(d("DGWAckManager").DGWAckManager)(this.$9),this.$12=new(d("DGWStreamEvents").DGWStreamEvents)(this.$9,d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,this.$1),this.$11=0,this.$13=k,this.$14=Date.now()+(Math.round(d("Random").random()*1e4)+1e4),(h||(h=c("QuickPerformanceLogger"))).markerStart(i,this.$14)}var b=a.prototype;b.send=async function(a,b){var c=this.$11++%d("DGWConstants").MAX_ACK_ID;a=this.$15(a,!0,c);if(!this.$16(a,!0,c))return!1;c=await this.$10.waitForAck(c,(a=b)!=null?a:d("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);return c};b.sendFrame=async function(a,b,c){var e=this.$11++%d("DGWConstants").MAX_ACK_ID;b=this.$15(b,!0,e);if(b==null)return!1;var f=new Uint8Array(a.length+b.length);f.set(a);f.set(b,a.length);if(!this.$16(f,!0,e))return!1;a=await this.$10.waitForAck(e,(b=c)!=null?b:d("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);return a};b.sendAndForget=function(a){a=this.$15(a,!1,0);return this.$16(a,!1,0)};b.sendFrameAndForget=function(a,b){b=this.$15(b,!1,0);if(b==null)return!1;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return this.$16(c,!1,0)};b.close=function(){var a=this.$2.encodeEndOfData(this.$1);if(a==null){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode EndOfData","streamId: "+this.$1);return}a=this.$8.send(a);if(!a){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send EndOfData","streamId: "+this.$1+". StreamGroupTransport not open during send");return}this.$12.endOfDataSent();this.$5=!0;this.$4&&this.$17()};b.loggingContext=function(){return this.$9};b.__sendDrain=function(a){var b=d("DGWConstants").drainReasonToDrainReasonString(a);if(this.$5)return!1;a=this.$2.encodeDrain(a);if(a==null)return!1;this.$12.drainSent(b);b=this.$8.send(a);return b};b.__transportCloseHook=function(a){this.$13(),this.$10.clearPendingAcks(),a?(this.$12.error("Received StreamError","StreamErrorType: "+a),this.$6.onError(a)):this.$5&&this.$4?this.$17():(this.$12.streamClosed(!1,"Stream closed: ClosedLocally: "+this.$5.toString()+", EndOfDataReceived: "+this.$4.toString()),this.$6.onError(d("DGWStream").StreamError.PREMATURE_CLOSE))};b.$17=function(){this.$13(),this.$12.streamClosed(!0,"Graceful close"),this.$6.onClose(this)};b.__dataReceivedHook=function(a,b){this.$12.dataReceived(a.length,b!=null,b),b!=null&&this.$18(b),this.$6.onDataReceived(a)};b.__ackReceivedHook=function(a){this.$12.ackReceived(a),this.$10.handleAckReceived(a)};b.__drainReceivedHook=function(a){this.$3===!1&&(this.$6.onStreamMustDrain(this,a),this.$3=!0)};b.__endOfDataHook=function(){this.$12.endOfDataReceived(),this.$4=!0,this.$5?this.$17():this.$6.onServerHasFinishedSendingData(this)};b.__markerPoint=function(a){var b=this.$14;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,a,{instanceKey:b})};b.__markerAnnotate=function(a){var b=this.$14;(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,a,{instanceKey:b})};b.__endMarker=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(i,a,this.$14)};b.$15=function(a,b,c){return this.$2.encodeData(a,b,c,this.$1)};b.$16=function(a,b,c){this.__markerPoint("send_data_start");if(this.$5){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","Stream closed locally");return!1}if(a==null)return!1;var e=this.$8.send(a);if(!e){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","ClosedLocally: "+this.$5.toString());return!1}this.__markerPoint("send_data_end");this.$12.dataSent(a.length,b,c);return!0};b.$18=function(a){var b=this.$2.encodeAck(a,this.$1);if(b==null){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode ACK","ackId: "+a);return!1}b=this.$8.send(b);if(!b){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send ACK","ackId: "+a);return!1}this.$12.ackSent(a);return!0};return a}();g.GroupedStream=a}),98);
__d("StreamIdGenerator",["err"],(function(a,b,c,d,e,f,g){"use strict";var h=65535;a=function(){function a(){this.$1=new Set(),this.$2=0}var b=a.prototype;b.getNextStreamId=function(){var a;if(!this.streamIdAvailable())throw c("err")("Max number of stream IDs reached");if(this.$2<=h)return this.$2++;a=(a=this.$1.values().next().value)!=null?a:0;this.$1["delete"](a);return a};b.putBackStreamId=function(a){this.$1.add(a)};b.streamIdAvailable=function(){return this.$1.size>0||this.$2<=h};return a}();g.MAX_STREAM_ID=h;g.StreamIdGeneratorImpl=a}),98);
__d("StreamGroupWebSocketTransport",["DGWConstants","DGWExponentialBackoff","DGWLoggingContext","DGWPinger","DGWStream","DGWStreamGroupCallbacks","DGWTransportEvents","DGWUtils","DGWWebSocketTransport","GroupedStream","QuickPerformanceLogger","Random","StreamIdGenerator","err","gkx","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(701238781,"3037"),j=c("gkx")("12124"),k=(a=c("qex")._("4494"))!=null?a:20,l=(b=c("qex")._("4495"))!=null?b:!1,m=function(a,b,c,e,f){var g=this;this.groupedStream=a;this.$1=window.setTimeout(function(){c(d("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},e);this.handleEstablishFrameReceived=function(){window.clearTimeout(g.$1),b(g.groupedStream)};this.abortStream=function(a){f(),c(a)}};e=function(){function a(b,e,f,g,j,k,l,m){var n=this;this.$18=-1;this.$15=j;this.$17=this.__getStreamIdGenerator();this.$5=new Map();this.$6=new Map();this.$7=g.keepAliveMs;this.$8=!1;this.$9=!1;this.$3=!0;this.$4=!1;this.$21=!1;this.$22=!1;this.$13=f;this.$11=new TextEncoder();this.$12=new TextDecoder();this.$14=g;j={onDataReceived:function(){},handleAckReceived:function(){},receivedDrainSignal:function(a){n.$9||(n.$9=!0,n.$15(),n.$13.transportClosed(!0,""),n.$14.streamGroupCallbacks.onStreamGroupMustDrain(a),n.$5.forEach(function(b){b.__drainReceivedHook(a)}),n.onClose(d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE))},onGroupedStreamDataReceived:function(a,b,c){if(n.$5.has(a)){var d=n.$5.get(a);d==null?void 0:d.__dataReceivedHook(b,c)}else{n.$13.receivedFrameForInactiveStream("Data",a,"sendAckID: "+((d=c)!=null?d:"null"))}},onGroupedStreamAckReceived:function(a,b){if(n.$5.has(a)){var c=n.$5.get(a);c==null?void 0:c.__ackReceivedHook(b)}else{n.$13.receivedFrameForInactiveStream("ACK",a,"ackId: "+((c=b)!=null?c:"null"))}},onGroupedStreamEndOfDataReceived:function(a){if(n.$5.has(a)){var b=n.$5.get(a);b==null?void 0:b.__endOfDataHook()}else n.$13.receivedFrameForInactiveStream("EndOfData",a)},onGroupedStreamEstablishStreamReceived:function(a,b){if(n.$6.has(a)){var c=n.$6.get(a);n.$6.delete(a);b=JSON.parse(n.$12.decode(b));(b.code===void 0||b.code!==200)&&(c==null?void 0:c.abortStream(d("DGWStream").StreamError.ABNORMAL_CLOSURE));c==null?void 0:c.handleEstablishFrameReceived()}else n.$13.receivedFrameForInactiveStream("EstablishStream",a,"EstablishStream received for non-inflight stream")},onPingReceived:function(){var a=n.$2.encodePing();if(a==null)return;n.send(a)},onPongReceived:function(){n.$3=!1,n.$22||(n.$22=!0,n.__markerPoint("auth_success")),n.$13.transportPongReceived("readyState:"+n.$1.readyState+", bufferedAmount:"+n.$1.bufferedAmount)}};this.$2=new(d("DGWUtils").DGWCodec)(k,j,g.dgwVersion);this.$20=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);if(g.enableFirstStreamOnWsHandshake){if(l===void 0)throw c("err")("Missing grouped stream options");if(m===void 0)throw c("err")("Missing grouped stream callbacks");var o=this.$17.getNextStreamId();f=this.createEstablishStreamFrame(o,l);j=d("DGWUtils").DGWUtils.constructConnectUrl({appId:g.appId,appVersion:g.appVersion,authType:g.authType,deviceId:(k=g.deviceId)!=null?k:void 0,dgwVersion:g.dgwVersion,fbId:g.fbId,tier:g.tier,loggingId:(j=g.loggingId)!=null?j:void 0,headers:a.__prefixAppHeaders(g.headers),endpoint:g.connectEndpoint,serviceId:g.serviceId,regionHint:(k=g.regionHint)!=null?k:void 0,establishStreamFrame:f});this.$1=e(j);if(!j.includes(d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64))return;g=new(d("DGWLoggingContext").DGWLoggingContext)(this.$14.dgwVersion,l.loggingId,this.$14.serviceId,this.$14.fbId,this.$14.loggingId,l.disableFalcoLogging);k=this.__createGroupedStream(o,m,l,g);this.$16=this.waitForEstablishStream(o,k,l,function(a){n.$5.set(o,a)},function(){n.$17.putBackStreamId(o)})}else this.$1=e(b);(h||(h=c("QuickPerformanceLogger"))).markerStart(i,this.$20);this.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId}})}var b=a.prototype;b.send=function(a){try{this.$1.send(a);return!0}catch(a){this.$13.transportError("Failed to send over transport","readyState: "+this.$1.readyState,a.toString());return!1}};b.close=function(){this.onClose()};b.onClose=function(a){var b;this.__markerPoint("abort");this.__markerAnnotate({int:{abort_code:(b=a)!=null?b:0}});this.$8=!0;(b=this.$10)==null?void 0:b.cancel();this.$1.close(a)};b.abort=function(a,b,c,d,e){if(this.$8)return;this.$8=!0;this.$13.transportClosed(!1,d,e);this.$5.forEach(function(a){a.__transportCloseHook(b)});this.$6.forEach(function(a){a.abortStream(b)});this.$14.streamGroupCallbacks.onStreamGroupError(a);this.$5.clear();this.$6.clear();this.$15();this.onClose(c)};a.getTransportWithInitialStream=async function(b,c,e,f,g,h){await d("DGWUtils").DGWCodec.initialize();var i=new(d("DGWTransportEvents").DGWTransportEvents)(f);i.transportEstablishmentPending();var j=function(){return a.$23("",e,i,g,f,b,c)};try{j=await d("DGWExponentialBackoff").callWithExponentialBackoff(j,h);h=j.$16!=null?j.$16:j.establishGroupedStream(c,b,new(d("DGWLoggingContext").DGWLoggingContext)(e.dgwVersion,b.loggingId,e.serviceId,e.fbId,e.loggingId,b.disableFalcoLogging));return{transport:j,streamPromise:h}}catch(a){throw a}};a.getTransport_DEPRECATED=async function(b,c,e,f,g){await d("DGWUtils").DGWCodec.initialize();var h=new(d("DGWTransportEvents").DGWTransportEvents)(e);h.transportEstablishmentPending();var i=function(){return a.$23(b,c,h,f,e)};try{return await d("DGWExponentialBackoff").callWithExponentialBackoff(i,g)}catch(a){throw a}};b.establishGroupedStream=async function(a,b,d,e,f,g){var h=this;f===void 0&&(f=!0);var i=this.getStreamId(),j=this.createEstablishStreamFrame(i,b);a=this.__createGroupedStream(i,a,b,d);a.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId,streamId:b.streamTraceId}});g!=null&&a.__markerAnnotate(g);d=this.waitForEstablishStream(i,a,b,function(a){h.$5.set(i,a)},function(){h.$17.putBackStreamId(i)});if(e!=null){a.__markerPoint("send_payload_start");a.__markerAnnotate({int:{establishStreamPayloadSize:e.byteLength}});g=f?await a.sendFrame(j,e):a.sendFrameAndForget(j,e);if(!g){a.__endMarker(3);return Promise.reject("Failed to send data when establishing stream")}a.__markerPoint("send_payload_end");a.__endMarker(2);return Promise.resolve(a)}a.__markerPoint("send_establish_stream_start");if(!this.send(j)){a.__endMarker(3);throw c("err")("Websocket connection closed before stream established")}a.__markerPoint("send_establish_stream_end");b=await d;a.__endMarker(2);return b};a.__prefixAppHeaders=function(a){return Object.keys(a).reduce(function(b,c){b[""+d("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+c]=a[c];return b},{})};b.waitForEstablishStream=async function(a,b,c,d,e){var f=this;this.$13.streamEstablishmentPending(a,c.loggingId);try{var g=await new Promise(function(c,d){f.$6.set(a,new m(b,c,d,3e4,function(){f.streamEndCallback(a)}))});d(b);this.$13.streamEstablishmentSuccess(a,c.loggingId);return g}catch(b){e();this.$13.streamEstablishmentTimeout("Stream establishment timeout. readyState: "+this.$1.readyState,a,c.loggingId);throw b}};a.$23=async function(b,c,e,f,g,h,i){var k=new a(b,d("DGWWebSocketTransport").getWebSocketConnection,e,c,f,g,h,i);k.$1.onmessage=a.$24(k);k.$1.onopen=function(){k.__markerPoint("onopen"),e.transportEstablished(b),k.$10!=null&&k.$10.cancel(),k.$7!=null&&(k.$10=new(d("DGWPinger").DGWPinger)(k.$7,function(){k.$25()},function(){if(k.$18===0&&j){var a;(a=k.$10)==null?void 0:a.reset()}else k.abort(d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,d("DGWStream").StreamError.KEEPALIVE_TIMEOUT,d("DGWConstants").WebsocketCloseCodes.KEEPALIVE_TIMEOUT,"Aborting transport because of keepalive timeout","readyState:"+k.$1.readyState+", bufferedAmount:"+k.$1.bufferedAmount)}))};k.$1.onerror=function(){k.__markerPoint("onerror"),k.$13.transportError("onerror","readyState: "+k.$1.readyState)};k.$1.onclose=a.$26(k);c=await a.getTransportPromise(k);return c};a.getTransportPromise=async function(a){var b=await new Promise(function(b,c){var e=a.$1.onerror,f=a.$1.onmessage,g=a.$1.onclose;a.$19=window.setTimeout(function(){a.$15(),a.$13.transportClosed(!1,"TIMEOUT"),a.__markerPoint("connect_timeout"),a.close(),c(d("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},k*1e3);a.$1.onerror=function(){a.$19!=null&&(window.clearTimeout(a.$19),a.$19=null),e(),l||c(d("DGWStream").StreamError.ESTABLISHMENT_ERROR)};a.$1.onclose=function(b){a.$19!=null&&(window.clearTimeout(a.$19),a.$19=null),g(b),b.code===d("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED?c(d("DGWStream").StreamError.UNAUTHORIZED):c(b.code+":"+b.reason)};a.$1.onmessage=function(c){f(c),a.$19!=null&&!a.$3&&(window.clearTimeout(a.$19),a.$19=null,a.__markerPoint("connect_success"),b(a))}});return b};a.$24=function(a){return function(b){var c;a.$21||(a.$21=!0,a.__markerPoint("onmessage"));(c=a.$10)==null?void 0:c.reset();if(!(b.data instanceof ArrayBuffer)){a.$13.transportError("Incorrect Data Protocol","Received "+typeof b.data+" instead of ArrayBuffer");return}a.$2.append(new Uint8Array(b.data));a.$2.processData()}};a.$26=function(a){return function(b){var c;a.__markerPoint("onclose");a.__markerAnnotate({string:{reason:b.reason},int:{code:b.code}});a.__endMarker(b.code===d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE?2:3);(c=a.$10)==null?void 0:c.cancel();if(a.$8===!0||a.$4)return;a.$8=!0;if(a.$3===!0){a.$13.transportEstablishmentFailure(b);a.$5.clear();a.$15();return}a.$15();a.$3=!0;if(b.code!==d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE){a.$13.transportClosed(!1,"Websocket connection failure with code: "+b.code+" reason: "+b.reason+" wasClean: "+String(b.wasClean));c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;var e=d("DGWStream").StreamError.UNKNOWN_ERROR;switch(b.code){case d("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_NORMAL_CLOSURE;e=d("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case d("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE;e=d("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case d("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=d("DGWStream").StreamError.SERVER_INTERNAL_ERROR;break;case d("DGWConstants").WebsocketCloseCodes.GOING_AWAY:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_GOING_AWAY;e=d("DGWStream").StreamError.GOING_AWAY;break;case d("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNAUTHORIZED;e=d("DGWStream").StreamError.UNAUTHORIZED;break;case d("DGWConstants").WebsocketCloseCodes.REJECTED:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_REJECTED;e=d("DGWStream").StreamError.REJECTED;break;case d("DGWConstants").WebsocketCloseCodes.BAD_REQUEST:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_BAD_REQUEST;e=d("DGWStream").StreamError.BAD_REQUEST;break;case d("DGWConstants").WebsocketCloseCodes.DGW_SERVER_ERROR:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=d("DGWStream").StreamError.DGW_SERVER_ERROR;c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_DGW_SERVER_ERROR;break;default:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;e=d("DGWStream").StreamError.UNKNOWN_ERROR;break}a.$14.streamGroupCallbacks.onStreamGroupError(c);a.$5.forEach(function(a){a.__transportCloseHook(e)});a.$6.forEach(function(a){a.abortStream(e)})}else a.$13.transportClosed(!0,""),a.$14.streamGroupCallbacks.onStreamGroupTransportClose(),a.$5.forEach(function(a){a.__transportCloseHook()}),a.$6.forEach(function(a){a.abortStream(d("DGWStream").StreamError.TRANSPORT_CLOSED_BEFORE_STREAM_INIT)});a.$5.clear();a.$6.clear()}};b.$25=function(){var a=this.$2.encodePing();if(a==null)throw c("err")("Failed to encode Ping Frame");var b=this.send(a);this.$18=this.$1.bufferedAmount;this.$13.transportPingSent("readyState:"+this.$1.readyState+", bufferedAmount:"+this.$18+", payloadSize:"+(a==null?void 0:a.byteLength)+", sent:"+String(b))};b.isClosedLocally=function(){return this.$3||this.$8||this.$4};b.streamEndCallback=function(a){this.$5.delete(a),this.$6.delete(a),this.$17.putBackStreamId(a)};b.canCreateGroupedStream=function(){return this.$17.streamIdAvailable()};b.createEstablishStreamFrame=function(b,e){var f=a.__prefixAppHeaders(e.groupedStreamHeaders);e.streamTraceId!=null&&(f[d("DGWConstants").HEADER_CONSTANTS.HEADER_STREAM_TRACE_ID]=e.streamTraceId);e=this.$2.encodeEstablishStream(b,new Uint8Array(this.$11.encode(JSON.stringify(f))));if(e==null){this.$17.putBackStreamId(b);throw c("err")("Failed to encode EstablishStreamFrame")}return e};b.getStreamId=function(){try{return this.$17.getNextStreamId()}catch(a){this.$13.ranOutOfStreamIds("inFlightGroupedStreamSize: "+this.$6.size+" groupedStreamSize: "+this.$5.size);throw a}};b.__createGroupedStream=function(a,b,c,e){var f=this;return new(d("GroupedStream").GroupedStream)(a,b,c,this,e,this.$2,function(){f.streamEndCallback(a)})};b.__getStreamIdGenerator=function(){return new(d("StreamIdGenerator").StreamIdGeneratorImpl)()};b.__markerPoint=function(a){var b=this.$20;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,a,{instanceKey:b})};b.__markerAnnotate=function(a){var b=this.$20;(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,a,{instanceKey:b})};b.__endMarker=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(i,a,this.$20)};return a}();g.StreamGroupWebSocketTransport=e}),98);
__d("StreamGroup",["DGWConstants","DGWLoggingContext","DGWUtils","StreamGroupWebSocketTransport","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h={maxRetries:c("justknobx")._("2595"),baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};a=function(){function a(a,b,c,e,f,g,h,i,j){this.$2=j;this.$1=j.getNewStreamGroupId();j=(j=h.overrideUrl)!=null?j:f;this.$5=null;this.$3={appId:a,appVersion:b,authType:c,deviceId:h.deviceId,dgwVersion:e,headers:h.streamGroupAppHeaders,tier:(f=h.serviceTier)!=null?f:d("DGWConstants").DEFAULT_SERVICE_TIER,connectEndpoint:j,fbId:g,loggingId:h.loggingId,serviceId:h.serviceId,streamGroupCallbacks:i,keepAliveMs:h.keepAliveMs,regionHint:h.regionHint,enableFirstStreamOnWsHandshake:!1};this.$4=h;this.streamGroupLoggingContext=new(d("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,null,this.$3.serviceId,this.$3.fbId,this.$4.loggingId,!1,(a=h.verboseLoggingEnabled)!=null?a:!1);this.$6=d("DGWUtils").DGWUtils.constructConnectUrl({appId:this.$3.appId,appVersion:this.$3.appVersion,authType:this.$3.authType,deviceId:(b=this.$3.deviceId)!=null?b:void 0,dgwVersion:this.$3.dgwVersion,fbId:this.$3.fbId,headers:babelHelpers.extends({},this.$3.headers),loggingId:(c=this.$3.loggingId)!=null?c:void 0,tier:this.$3.tier,serviceId:this.$3.serviceId,endpoint:this.$3.connectEndpoint,regionHint:(e=this.$3.regionHint)!=null?e:void 0,trafficTracing:(f=this.$4.trafficTracing)!=null?f:void 0})}var b=a.prototype;b.initTransport=async function(){var b=this,a={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};this.$5=this.$5||d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){b.$2.removeStreamGroupAndTransport(b.$1)},a);var c;try{c=await this.$5,this.$5=null}catch(a){this.$5=null;throw a}this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,c);return c};b.establishStream=async function(a,b,c,e,f){var g=this;if(this.$2.containsStreamGroup(this.$1)===!1){this.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"createTransportWhenEstablishStream");if(!this.$3.enableFirstStreamOnWsHandshake){this.$5=this.$5||d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){g.$2.removeStreamGroupAndTransport(g.$1)},h);var i;try{i=await this.$5,this.$5=null}catch(a){this.$5=null;throw a}this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,i)}else{var j=await d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransportWithInitialStream(a,b,this.$3,this.streamGroupLoggingContext,function(){g.$2.removeStreamGroupAndTransport(g.$1)},h);this.$2.setStreamGroupAndTransport(this.$1,j.transport);return j.streamPromise}}return this.establishStreamWithTransport(a,b,c,e,f)};b.establishStreamWithTransport=async function(a,b,c,e,f){var g=a.loggingId;this.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Establishing Grouped Stream","initialData:"+String(c!=null),!0,g);g=await this.$2.getStreamGroupTransport(this.$1).establishGroupedStream(b,a,new(d("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,g,this.$3.serviceId,this.$3.fbId,this.$3.loggingId,a.disableFalcoLogging,(b=a.verboseLoggingEnabled)!=null?b:!1),c,e,f);return g};b.canCreateGroupedStream=function(){var a=!0;if(this.$2.containsStreamGroup(this.$1)!==!1){var b=this.$2.getStreamGroupTransport(this.$1);a=b.canCreateGroupedStream()}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a?"can_create":"cannot_create");return a};b.close=function(){var a=this.$2.getStreamGroupTransport(this.$1);a.close()};return a}();g.StreamGroup=a}),98);
__d("StreamGroupRegistry",["Random","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Set()}var b=a.prototype;b.setStreamGroupAndTransport=function(a,b){this.$1.set(a,b)};b.containsStreamGroup=function(a){return this.$1.has(a)};b.removeStreamGroupAndTransport=function(a){this.$1["delete"](a)};b.getStreamGroupTransport=function(a){a=this.$1.get(a);if(a==null)throw c("err")("No stream group transport");return a};b.getNewStreamGroupId=function(){var a=d("Random").uint32();while(this.$2.has(a))a=d("Random").uint32();this.$2.add(a);return a};return a}();g.StreamGroupRegistry=a}),98);
__d("RawDGWClient",["CurrentUser","DGWLoggingContext","DGWStream","StreamGroup","StreamGroupRegistry","isFastRefreshEnabledForCurrentDomain"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.appId,c=a.appVersion,e=a.authType,f=a.dgwVersion,g=a.endpoint;a=a.fbId;this.$1=b;this.$2=c;this.$3=e;this.$4=f;this.$5=g;this.$6=a;this.$7=new(d("StreamGroupRegistry").StreamGroupRegistry)()}var b=a.prototype;b.createStreamGroup=function(a,b){this.handleUserChecks();return new(d("StreamGroup").StreamGroup)(this.$1,this.$2,this.$3,this.$4,this.$5,this.$6,b,a,this.$7)};b.handleUserChecks=function(){if(!c("CurrentUser").isLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.RAW_CLIENT,"unauthenticated");throw d("DGWStream").StreamError.UNAUTHENTICATED}};return a}();g.RawDGWClient=a}),98);
__d("DGWClient",["DGWAuth","DGWEnvUtil","DGWWebConfig","RawDGWClient","err"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("RawDGWClient").RawDGWClient)({appId:c("DGWWebConfig").appId,appVersion:c("DGWWebConfig").appVersion,authType:d("DGWAuth").fromStringToDGWAuth(c("DGWEnvUtil").getDGWAuthType()),dgwVersion:c("DGWEnvUtil").getDGWVersion(),endpoint:c("DGWEnvUtil").getDGWEndpoint(),fbId:c("DGWWebConfig").fbId});function a(){if(c("DGWEnvUtil").isDGWEnvCompatible())return h;else throw c("err")("unsupported_environment_retry_with_mqtt")}g["default"]=a}),98);
__d("DGWRequestStreamUtils",["Base64","WebDriverConfig","cr:3024","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e,f){var g={};for(a of Object.entries(a)){var h=a[0],i=a[1];typeof i=="string"?g["XRSS-"+h]=i:typeof i=="number"?g["XRSN-"+h]=i.toString():typeof i=="boolean"?g["XRSB-"+h]=i.toString():typeof i=="object"&&i!=null&&(g["XRSO-"+h]=c("Base64").encode(JSON.stringify(i)))}d&&(g["xrs-body"]="true");e!=null&&e.length>0&&(g["xrs-instrumentation"]=c("Base64").encode(e));g["XRS-Accept-Ack"]="RSAck";f!=null&&f.ackTimeoutSec!=null&&(g["XRS-SRAck-Timeout"]=f.ackTimeoutSec.toString());g["XRSS-http_referer"]=window.location.href;if(c("WebDriverConfig").isTestRunning&&c("gkx")("20919")){h=b("cr:3024")==null?void 0:b("cr:3024").get();h!=null&&(g["XRSB-is_test"]="true",g["XRSS-original_request_id"]=h)}return g}function h(a){return Object.keys(a).reduce(function(b,c){(typeof a[c]==="string"||typeof a[c]==="boolean"||typeof a[c]==="number"||typeof a[c]==="object")&&(b[c]=a[c]);return b},{})}function d(a){if(a.response&&a.response.instrumentation_data!=null&&a.response.instrumentation_data.length>0)try{a=JSON.parse(new TextDecoder("utf-8").decode(a.response.instrumentation_data));return{auxId:a.auxId,dfTraceId:(a=a.dataFlowTracingData)==null?void 0:a.traceId}}catch(a){}return null}function e(a,b){var c=a.headers;a=a.body;b.kill_body===!0&&(a=null);b.new_body!=null&&(a=b.new_body);if(b.new_headers!=null)try{c=h(JSON.parse(b.new_headers))}catch(a){}if(b.patch_headers!=null)try{c=babelHelpers["extends"]({},c,h(JSON.parse(b.patch_headers)))}catch(a){}return{headers:c,body:a}}g.convertHeaders=a;g.cleanHeaders=h;g.getInstrumentationDataFieldsFromPayload=d;g.transformContextWithRewriteDelta=e}),98);
__d("DGWStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=e,this.$1=!0}var b=a.prototype;b.onClose=function(a){if(!this.$1)return;this.$2(a)};b.onDataReceived=function(a){if(!this.$1)return;this.$3(a)};b.onError=function(a){if(!this.$1)return;this.$4(a)};b.onStreamMustDrain=function(a,b){if(!this.$1)return;this.$5(a,b)};b.onServerHasFinishedSendingData=function(a){if(!this.$1)return;this.$6(a)};b.stop=function(){this.$1=!1};b.isStopped=function(){return!this.$1};return a}();f["default"]=a}),66);
__d("InflightAmends",["Deferred","err"],(function(a,b,c,d,e,f,g){"use strict";var h="inflight_amends_timeout",i="inflight_amends_duplicate_id";a=function(){function a(a,b,c){this.$1=a,this.$3=b,this.$4=c,this.$2=new Map()}var b=a.prototype;b.add=function(a){var b=this;if(this.$2.has(a))throw c("err")(i);var d=new(c("Deferred"))(),e=Date.now(),f=setTimeout(function(){b.$2.has(a)&&b.reject(a,c("err")(h))},this.$1);this.$2.set(a,{id:a,deferred:d,createdTimestampMs:e,timeoutId:f});return d.getPromise()};b.getPromise=function(a){return(a=this.$5(a))==null?void 0:a.deferred.getPromise()};b.resolve=function(a,b){a=this.$5(a);a&&(a.deferred.resolve==null?void 0:a.deferred.resolve(b),this.$3(a.id,Date.now()-a.createdTimestampMs),this.$6(a))};b.reject=function(a,b){a=this.$5(a);a&&(a.deferred.reject==null?void 0:a.deferred.reject(b),this.$4(a.id,b),this.$6(a))};b.rejectAll=function(a){for(var b of this.$2.entries()){var c=b[0];b[1];this.reject(c,a)}};b.getSize=function(){return this.$2.size};b.getAllPromises=function(){var a=[];for(var b of this.$2.values())a.push(b.deferred.getPromise());return a};b.$6=function(a){clearTimeout(a.timeoutId),this.$2["delete"](a.id)};b.$5=function(a){return this.$2.get(a)};return a}();g["default"]=a}),98);
__d("RequestStreamCloseReason",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UserIntention","StartStreamFailure","StreamError","RemoteTermination","ServerDataEnd","ServerDrain","ReestablishError","ClientError"]);f.RequestStreamCloseReason=a}),66);
__d("RequestStreamCommonRequestStreamCommonSerializers",["RequestStreamCommonRequestStreamCommonTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{expected_existing_headers:"",patch_headers_if_match:""}}function e(){return{bytes:Uint8Array.of()}}function f(){return{message:""}}function i(){return{reason:d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)}}function j(){return{}}function k(){return{stream_id:"0",last_sequencer:0,amendment_count:0,last_status:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)}}function l(){return{caller_timestamp_ms:"0"}}function m(){return{original_ping_timestamp_ms:"0"}}function n(){return{}}function o(a,b){b.writeStructBegin("ResponseRewriteRequest"),a.new_headers!=null&&(b.writeFieldBegin({fname:"new_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeString(a.new_headers),b.writeFieldEnd()),a.new_body!=null&&(b.writeFieldBegin({fname:"new_body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.new_body),b.writeFieldEnd()),a.patch_headers!=null&&(b.writeFieldBegin({fname:"patch_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.patch_headers),b.writeFieldEnd()),a.kill_body!=null&&(b.writeFieldBegin({fname:"kill_body",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:4}),b.writeBool(a.kill_body),b.writeFieldEnd()),a.temporary!=null&&(b.writeFieldBegin({fname:"temporary",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:5}),b.writeBool(a.temporary),b.writeFieldEnd()),a.conditional_patch_headers!=null&&(b.writeFieldBegin({fname:"conditional_patch_headers",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6}),p(a.conditional_patch_headers,b),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function p(a,b){b.writeStructBegin("ResponseRewriteConditionalPatchHeaders");b.writeFieldBegin({fname:"expected_existing_headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.expected_existing_headers!=null)b.writeString(a.expected_existing_headers);else{var d="";b.writeString(d)}b.writeFieldEnd();b.writeFieldBegin({fname:"patch_headers_if_match",ftype:h.STRING,fid:2});if(a.patch_headers_if_match!=null)b.writeString(a.patch_headers_if_match);else{d="";b.writeString(d)}b.writeFieldEnd();a.patch_headers_otherwise!=null&&(b.writeFieldBegin({fname:"patch_headers_otherwise",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeString(a.patch_headers_otherwise),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function q(a,b){b.writeStructBegin("ResponseData");b.writeFieldBegin({fname:"bytes",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.bytes!=null)b.writeBinary(a.bytes);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.metadata!=null&&(b.writeFieldBegin({fname:"metadata",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.metadata),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function r(a,b){b.writeStructBegin("LogMessage");b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.message!=null)b.writeString(a.message);else{a="";b.writeString(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function s(a,b){b.writeStructBegin("Termination");b.writeFieldBegin({fname:"reason",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.reason!=null){var e;b.writeI32((e=a.reason)!=null?e:0)}else{e=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0);b.writeI32((e=e)!=null?e:0)}b.writeFieldEnd();a.message!=null&&(b.writeFieldBegin({fname:"message",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeString(a.message),b.writeFieldEnd());a.retry_delay_ms!=null&&(b.writeFieldBegin({fname:"retry_delay_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:3}),b.writeI64(c("jsbi").BigInt(a.retry_delay_ms)),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function t(a,b){b.writeStructBegin("AmendStreamAck"),a.amendment_id!=null&&(b.writeFieldBegin({fname:"amendment_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.amendment_id)),b.writeFieldEnd()),a.accepted!=null&&(b.writeFieldBegin({fname:"accepted",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:2}),b.writeBool(a.accepted),b.writeFieldEnd()),a.result!=null&&(b.writeFieldBegin({fname:"result",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.result),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function u(a,b){b.writeStructBegin("StreamCheck");b.writeFieldBegin({fname:"stream_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.stream_id!=null)b.writeI64(c("jsbi").BigInt(a.stream_id));else{var e="0";b.writeI64(c("jsbi").BigInt(e))}b.writeFieldEnd();b.writeFieldBegin({fname:"last_sequencer",ftype:h.I32,fid:2});if(a.last_sequencer!=null)b.writeI32(a.last_sequencer);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"amendment_count",ftype:h.I32,fid:4});if(a.amendment_count!=null)b.writeI32(a.amendment_count);else{e=0;b.writeI32(e)}b.writeFieldEnd();b.writeFieldBegin({fname:"last_status",ftype:h.I32,fid:3});if(a.last_status!=null){b.writeI32((e=a.last_status)!=null?e:0)}else{a=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0);b.writeI32((e=a)!=null?e:0)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function v(a,b){b.writeStructBegin("Ping");b.writeFieldBegin({fname:"caller_timestamp_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.caller_timestamp_ms!=null)b.writeI64(c("jsbi").BigInt(a.caller_timestamp_ms));else{var d="0";b.writeI64(c("jsbi").BigInt(d))}b.writeFieldEnd();if(a.streams_to_check!=null){b.writeFieldBegin({fname:"streams_to_check",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.STRUCT,size:a.streams_to_check.length});for(d of a.streams_to_check)u(d,b);b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function w(a,b){b.writeStructBegin("Pong");b.writeFieldBegin({fname:"original_ping_timestamp_ms",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1});if(a.original_ping_timestamp_ms!=null)b.writeI64(c("jsbi").BigInt(a.original_ping_timestamp_ms));else{var d="0";b.writeI64(c("jsbi").BigInt(d))}b.writeFieldEnd();if(a.stream_ids_missing!=null){b.writeFieldBegin({fname:"stream_ids_missing",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});b.writeListBegin({etype:h.I64,size:a.stream_ids_missing.length});for(d of a.stream_ids_missing)b.writeI64(c("jsbi").BigInt(d));b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_behind!=null){b.writeFieldBegin({fname:"stream_ids_behind",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:3});b.writeListBegin({etype:h.I64,size:a.stream_ids_behind.length});for(d of a.stream_ids_behind)b.writeI64(c("jsbi").BigInt(d));b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_with_lost_amendments!=null){b.writeFieldBegin({fname:"stream_ids_with_lost_amendments",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:4});b.writeListBegin({etype:h.I64,size:a.stream_ids_with_lost_amendments.length});for(d of a.stream_ids_with_lost_amendments)b.writeI64(c("jsbi").BigInt(d));b.writeListEnd();b.writeFieldEnd()}if(a.stream_ids_with_wrong_status!=null){b.writeFieldBegin({fname:"stream_ids_with_wrong_status",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:5});b.writeListBegin({etype:h.I64,size:a.stream_ids_with_wrong_status.length});for(d of a.stream_ids_with_wrong_status)b.writeI64(c("jsbi").BigInt(d));b.writeListEnd();b.writeFieldEnd()}b.writeFieldStop();b.writeStructEnd()}function x(a,b){b.writeStructBegin("StreamResponseDelta");if(a.flow_status!=null){var d;b.writeFieldBegin({fname:"flow_status",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});b.writeI32((d=a.flow_status)!=null?d:0);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.log!=null){b.writeFieldBegin({fname:"log",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});r(a.log,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.rewrite!=null){b.writeFieldBegin({fname:"rewrite",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});o(a.rewrite,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.data!=null){b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});q(a.data,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.termination!=null){b.writeFieldBegin({fname:"termination",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});s(a.termination,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.amend_ack!=null){b.writeFieldBegin({fname:"amend_ack",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});t(a.amend_ack,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function y(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.new_headers=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.new_body=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers=a.readString():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).BOOL?b.kill_body=a.readBool():a.skip(e);break;case 5:e===(h||(h=c("ThriftTypes"))).BOOL?b.temporary=a.readBool():a.skip(e);break;case 6:e===(h||(h=c("ThriftTypes"))).STRUCT?b.conditional_patch_headers=z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function z(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.expected_existing_headers=a.readString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers_if_match=a.readString():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.patch_headers_otherwise=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.expected_existing_headers===void 0&&(b.expected_existing_headers="");b.patch_headers_if_match===void 0&&(b.patch_headers_if_match="");return b}function A(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.bytes=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.metadata=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.bytes===void 0&&(b.bytes=Uint8Array.of());return b}function B(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.message===void 0&&(b.message="");return b}function C(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I32?b.reason=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(a.readI32()):a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).STRING?b.message=a.readString():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I64?b.retry_delay_ms=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.reason===void 0&&(b.reason=d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0));return b}function D(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).BOOL?b.accepted=a.readBool():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).STRING?b.result=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function E(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.stream_id=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.last_sequencer=a.readI32():a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).I32?b.amendment_count=a.readI32():a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.last_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()):a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.stream_id===void 0&&(b.stream_id="0");b.last_sequencer===void 0&&(b.last_sequencer=0);b.amendment_count===void 0&&(b.amendment_count=0);b.last_status===void 0&&(b.last_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0));return b}function F(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.caller_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.streams_to_check=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=E(a);b.streams_to_check.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.caller_timestamp_ms===void 0&&(b.caller_timestamp_ms="0");return b}function G(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.original_ping_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_missing=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();b.stream_ids_missing.push(g)}}else a.skip(e);break;case 3:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_behind=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readI64().toString();b.stream_ids_behind.push(d)}}else a.skip(e);break;case 4:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_with_lost_amendments=[];d=a.readListBegin();for(f=0;f<d.size;f++){g=a.readI64().toString();b.stream_ids_with_lost_amendments.push(g)}}else a.skip(e);break;case 5:if(e===(h||(h=c("ThriftTypes"))).LIST){b.stream_ids_with_wrong_status=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readI64().toString();b.stream_ids_with_wrong_status.push(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.original_ping_timestamp_ms===void 0&&(b.original_ping_timestamp_ms="0");return b}function H(a){var b,e={};a.readStructBegin();while(!0){var f=a.readFieldBegin(),g=f.ftype;f=f.fid;if(g===(h||(h=c("ThriftTypes"))).STOP)break;switch(f){case 1:if(g===(h||(h=c("ThriftTypes"))).I32)if(b==null)e.flow_status=d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()),b="flow_status";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: flow_status, previous deserialized field: "+b);else a.skip(g);break;case 2:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.log=B(a),b="log";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: log, previous deserialized field: "+b);else a.skip(g);break;case 3:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.rewrite=y(a),b="rewrite";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: rewrite, previous deserialized field: "+b);else a.skip(g);break;case 4:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.data=A(a),b="data";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: data, previous deserialized field: "+b);else a.skip(g);break;case 5:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.termination=C(a),b="termination";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: termination, previous deserialized field: "+b);else a.skip(g);break;case 6:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.amend_ack=D(a),b="amend_ack";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: amend_ack, previous deserialized field: "+b);else a.skip(g);break;default:a.skip(g)}a.readFieldEnd()}a.readStructEnd();return e}g.ResponseRewriteRequest$DefaultConstructor=a;g.ResponseRewriteConditionalPatchHeaders$DefaultConstructor=b;g.ResponseData$DefaultConstructor=e;g.LogMessage$DefaultConstructor=f;g.Termination$DefaultConstructor=i;g.AmendStreamAck$DefaultConstructor=j;g.StreamCheck$DefaultConstructor=k;g.Ping$DefaultConstructor=l;g.Pong$DefaultConstructor=m;g.StreamResponseDelta$DefaultConstructor=n;g.serializeResponseRewriteRequest=o;g.serializeResponseRewriteConditionalPatchHeaders=p;g.serializeResponseData=q;g.serializeLogMessage=r;g.serializeTermination=s;g.serializeAmendStreamAck=t;g.serializeStreamCheck=u;g.serializePing=v;g.serializePong=w;g.serializeStreamResponseDelta=x;g.deserializeResponseRewriteRequest=y;g.deserializeResponseRewriteConditionalPatchHeaders=z;g.deserializeResponseData=A;g.deserializeLogMessage=B;g.deserializeTermination=C;g.deserializeAmendStreamAck=D;g.deserializeStreamCheck=E;g.deserializePing=F;g.deserializePong=G;g.deserializeStreamResponseDelta=H}),98);
__d("RequestStreamSingleChannelSingleChannelRequestStreamTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Ignored:100,Success:200,Queued:250,UnknownStream:400,HandledUnknownResult:450,Failure:500});c=b("$InternalEnum")({Request_headers:"request_headers",Request_body:"request_body",Amend:"amend",Ack:"ack",Response:"response",Ping:"ping",Pong:"pong"});e.exports={Ack:a,Payload$Types:c}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers",["RequestStreamCommonRequestStreamCommonSerializers","RequestStreamCommonRequestStreamCommonTypes","RequestStreamSingleChannelSingleChannelRequestStreamTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{}}function b(){return{body:Uint8Array.of()}}function e(){return{amendment:Uint8Array.of()}}function f(){return{ack:d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)}}function i(){return{delta:[]}}function j(){return{}}function k(a,b){b.writeStructBegin("RequestStreamHeaders"),a.headers!=null&&(b.writeFieldBegin({fname:"headers",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1}),b.writeBinary(a.headers),b.writeFieldEnd()),a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd()),b.writeFieldStop(),b.writeStructEnd()}function l(a,b){b.writeStructBegin("RequestStreamBody");b.writeFieldBegin({fname:"body",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:1});if(a.body!=null)b.writeBinary(a.body);else{a=Uint8Array.of();b.writeBinary(a)}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function m(a,b){b.writeStructBegin("AmendStream");a.amendment_id!=null&&(b.writeFieldBegin({fname:"amendment_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.amendment_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"amendment",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2});if(a.amendment!=null)b.writeBinary(a.amendment);else{var d=Uint8Array.of();b.writeBinary(d)}b.writeFieldEnd();a.is_query!=null&&(b.writeFieldBegin({fname:"is_query",ftype:(h||(h=c("ThriftTypes"))).BOOL,fid:3}),b.writeBool(a.is_query),b.writeFieldEnd());a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function n(a,b){b.writeStructBegin("StreamResponseAck");a.response_id!=null&&(b.writeFieldBegin({fname:"response_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.response_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"ack",ftype:(h||(h=c("ThriftTypes"))).I32,fid:2});if(a.ack!=null){var e;b.writeI32((e=a.ack)!=null?e:0)}else{e=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0);b.writeI32((e=e)!=null?e:0)}b.writeFieldEnd();a.query_result!=null&&(b.writeFieldBegin({fname:"query_result",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:3}),b.writeBinary(a.query_result),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function o(a,b){b.writeStructBegin("StreamResponse");a.response_id!=null&&(b.writeFieldBegin({fname:"response_id",ftype:(h||(h=c("ThriftTypes"))).I64,fid:1}),b.writeI64(c("jsbi").BigInt(a.response_id)),b.writeFieldEnd());b.writeFieldBegin({fname:"delta",ftype:(h||(h=c("ThriftTypes"))).LIST,fid:2});if(a.delta!=null){b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:a.delta.length});for(var e of a.delta)d("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(e,b);b.writeListEnd()}else{e=[];b.writeListBegin({etype:(h||(h=c("ThriftTypes"))).STRUCT,size:e.length});for(e of e)d("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(e,b);b.writeListEnd()}b.writeFieldEnd();if(a.ack_level!=null){b.writeFieldBegin({fname:"ack_level",ftype:(h||(h=c("ThriftTypes"))).I32,fid:3});b.writeI32((e=a.ack_level)!=null?e:0);b.writeFieldEnd()}a.query_request!=null&&(b.writeFieldBegin({fname:"query_request",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:4}),b.writeBinary(a.query_request),b.writeFieldEnd());a.instrumentation_data!=null&&(b.writeFieldBegin({fname:"instrumentation_data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:5}),b.writeBinary(a.instrumentation_data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function p(a,b){b.writeStructBegin("Payload");if(a.request_headers!=null){b.writeFieldBegin({fname:"request_headers",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:1});k(a.request_headers,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.request_body!=null){b.writeFieldBegin({fname:"request_body",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:2});l(a.request_body,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.amend!=null){b.writeFieldBegin({fname:"amend",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:3});m(a.amend,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ack!=null){b.writeFieldBegin({fname:"ack",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:4});n(a.ack,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.response!=null){b.writeFieldBegin({fname:"response",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:5});o(a.response,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.ping!=null){b.writeFieldBegin({fname:"ping",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:6});d("RequestStreamCommonRequestStreamCommonSerializers").serializePing(a.ping,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}if(a.pong!=null){b.writeFieldBegin({fname:"pong",ftype:(h||(h=c("ThriftTypes"))).STRUCT,fid:7});d("RequestStreamCommonRequestStreamCommonSerializers").serializePong(a.pong,b);b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd();return}b.writeFieldStop();b.writeStructEnd()}function q(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.headers=a.readBinary():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function r(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).STRING?b.body=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.body===void 0&&(b.body=Uint8Array.of());return b}function s(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I64?b.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.amendment=a.readBinary():a.skip(e);break;case 3:e===(h||(h=c("ThriftTypes"))).BOOL?b.is_query=a.readBool():a.skip(e);break;case 4:e===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.amendment===void 0&&(b.amendment=Uint8Array.of());return b}function t(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.response_id=a.readI64().toString():a.skip(f);break;case 2:f===(h||(h=c("ThriftTypes"))).I32?b.ack=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(a.readI32()):a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).STRING?b.query_result=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.ack===void 0&&(b.ack=d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0));return b}function u(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===(h||(h=c("ThriftTypes"))).STOP)break;switch(e){case 1:f===(h||(h=c("ThriftTypes"))).I64?b.response_id=a.readI64().toString():a.skip(f);break;case 2:if(f===(h||(h=c("ThriftTypes"))).LIST){b.delta=[];e=a.readListBegin();for(var g=0;g<e.size;g++){var i=d("RequestStreamCommonRequestStreamCommonSerializers").deserializeStreamResponseDelta(a);b.delta.push(i)}}else a.skip(f);break;case 3:f===(h||(h=c("ThriftTypes"))).I32?b.ack_level=d("RequestStreamCommonRequestStreamCommonTypes").AckLevel.cast(a.readI32()):a.skip(f);break;case 4:f===(h||(h=c("ThriftTypes"))).STRING?b.query_request=a.readBinary():a.skip(f);break;case 5:f===(h||(h=c("ThriftTypes"))).STRING?b.instrumentation_data=a.readBinary():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.delta===void 0&&(b.delta=[]);return b}function v(a){var b,e={};a.readStructBegin();while(!0){var f=a.readFieldBegin(),g=f.ftype;f=f.fid;if(g===(h||(h=c("ThriftTypes"))).STOP)break;switch(f){case 1:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.request_headers=q(a),b="request_headers";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_headers, previous deserialized field: "+b);else a.skip(g);break;case 2:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.request_body=r(a),b="request_body";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_body, previous deserialized field: "+b);else a.skip(g);break;case 3:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.amend=s(a),b="amend";else throw new Error("more than one field have been deserialized in union type: Payload; current field: amend, previous deserialized field: "+b);else a.skip(g);break;case 4:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.ack=t(a),b="ack";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ack, previous deserialized field: "+b);else a.skip(g);break;case 5:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.response=u(a),b="response";else throw new Error("more than one field have been deserialized in union type: Payload; current field: response, previous deserialized field: "+b);else a.skip(g);break;case 6:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.ping=d("RequestStreamCommonRequestStreamCommonSerializers").deserializePing(a),b="ping";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ping, previous deserialized field: "+b);else a.skip(g);break;case 7:if(g===(h||(h=c("ThriftTypes"))).STRUCT)if(b==null)e.pong=d("RequestStreamCommonRequestStreamCommonSerializers").deserializePong(a),b="pong";else throw new Error("more than one field have been deserialized in union type: Payload; current field: pong, previous deserialized field: "+b);else a.skip(g);break;default:a.skip(g)}a.readFieldEnd()}a.readStructEnd();return e}g.RequestStreamHeaders$DefaultConstructor=a;g.RequestStreamBody$DefaultConstructor=b;g.AmendStream$DefaultConstructor=e;g.StreamResponseAck$DefaultConstructor=f;g.StreamResponse$DefaultConstructor=i;g.Payload$DefaultConstructor=j;g.serializeRequestStreamHeaders=k;g.serializeRequestStreamBody=l;g.serializeAmendStream=m;g.serializeStreamResponseAck=n;g.serializeStreamResponse=o;g.serializePayload=p;g.deserializeRequestStreamHeaders=q;g.deserializeRequestStreamBody=r;g.deserializeAmendStream=s;g.deserializeStreamResponseAck=t;g.deserializeStreamResponse=u;g.deserializePayload=v}),98);
__d("RequestStreamState",["RequestStreamCommonRequestStreamCommonTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:if(a.seenAccepted)return a;return a.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started?a:{flowStatus:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted,seenAccepted:!0};default:if(!a.seenAccepted||a.flowStatus===b)return a;else return{flowStatus:b,seenAccepted:!0}}}g.getNextState=a}),98);
__d("StreamRetryState",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=2*60*1e3;a=function(){function a(){this.$1=0}var b=a.prototype;b.resetErrorAndRetryCount=function(){this.$1=0};b.onRetry=function(){this.$1+=1};b.getRetryCount=function(){return this.$1};b.getBackoffDelayMs=function(){if(this.$1<=1)return 0;if(this.$1===2)return g*Math.random();var a=g*Math.pow(2,this.$1-3),b=a*Math.random();a=a+b;return Math.min(a,h)};return a}();f["default"]=a}),66);
__d("DGWRequestStreamRef",["CompactSerializerPolyfill","DGWRequestStreamUtils","DGWStream","DGWStreamHandler","InflightAmends","ODS","RequestStreamCloseReason","RequestStreamCommonRequestStreamCommonTypes","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamSingleChannelSingleChannelRequestStreamSerializers","RequestStreamSingleChannelSingleChannelRequestStreamTypes","RequestStreamState","RequestStreamTransport","RtiWebRequestStreamClient","StreamRetryState","err","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=0,k=1e3,l=2,m=c("gkx")("20915")?3e4:5e3,n="dgw_stream_send_ack_failure";function o(a){if(!a){a=c("err")(n);a.stack;throw a}}function p(a,b){if(a==null||a.length===0)return null;a=JSON.parse(a);a.auxId=b;return new TextEncoder().encode(JSON.stringify(a))}function q(a){var b={};a=a.delta;a.forEach(function(a){if(a.flow_status){b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Flow_status;switch(a.flow_status){case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:b.flow_status="Accepted";break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:b.flow_status="Started";break;case d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:b.flow_status="Stopped";break}}else a.log?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Log:a.rewrite?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Rewrite:a.data?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Data:a.termination?b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Termination:a.amend_ack&&(b.type=d("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Amend_ack)});return b}a=function(){function a(a,b,e,f,g,h){var j=this;this.$6=null;this.$7={};this.$10=!1;this.$15=new(c("StreamRetryState"))();this.$16=0;this.$17=0;this.$18=0;this.$21=0;var k=null;typeof b==="string"?k=new TextEncoder().encode(b):typeof b==="object"&&(k=b);this.$1={headers:a,body:k};this.$3=e;this.$4=f;this.$12=i;this.$9=!1;this.$14=!1;this.$20=h;k=f==null?void 0:f.serviceId;g!=null&&(this.$22()||(g.dgwStreamGroupLoggingId=this.$20.getStreamGroupLoggingId(k)),g.dgwCountPriorStreamsInGroup=this.$20.guessStreamGroupPriorStreamCount(k),g.transport="WEB_RS_STARGATE");this.$5=d("RequestStreamE2ESampling").validateInstrumentationData(a,g,f==null?void 0:f.requestLogContext,f==null?void 0:f.upsampleMultiplier);!this.$22()?this.$6=d("RequestStreamE2ELogger").createStreamLogger(a,this.$5,d("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE):this.$7.disableFalcoLogging=!0;(f==null?void 0:f.deviceId)!=null&&(this.$7.deviceId=f.deviceId);this.$6&&(this.$7.loggingId=this.$6.getRequestId());f&&f.overrideUrl!=null&&(this.$7.overrideUrl=f.overrideUrl);k!=null&&(this.$7.serviceId=k);this.$8={flowStatus:d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped,seenAccepted:!1};this.$19=new(c("InflightAmends"))(m,function(a,b){var d;(d=j.$6)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,c("RequestStreamE2EClientLoggerEvent").RECEIVED,babelHelpers.extends({},j.$23(),{latency:b.toString()}),a)},function(a,b){if(b.message!==n){var d;(d=j.$6)==null?void 0:d.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,c("RequestStreamE2EClientLoggerEvent").FAILURE,babelHelpers.extends({},j.$23(),{reason:b.message}),a)}});(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:(g=b==null?void 0:(h=b.length)==null?void 0:h.toString())!=null?g:"0"},"0","0")}var b=a.prototype;b.getInstrumentationData=function(){return this.$5};b.getE2EClientLogger=function(){return this.$6};b.amendWithAck=function(a){a=this.$24(a,!0);return a==null?Promise.resolve(!1):this.$19.getPromise(a)||Promise.resolve(!1)};b.amendWithoutAck=function(a){this.$24(a,!1)};b.cancel=function(){var a;(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").CANCEL,c("RequestStreamE2EClientLoggerEvent").RECEIVED);this.$9=!0;this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)};b.start=function(a){var b=this;a===void 0&&(a=!1);var e=String(this.$16++),f=Date.now();return this.$26(e).then(function(){var a;b.$14=!1;b.$21=0;var d=(Date.now()-f).toString();(a=b.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:d},e,String(b.$18))}).catch(function(f){f.stack;if(f.message===n&&b.$10)return;b.$14=!1;if(f!==d("DGWStream").StreamError.ESTABLISHMENT_ERROR){var g,h=f.message;f===d("DGWStream").StreamError.UNAUTHENTICATED?h="UNAUTHENTICATED":f===d("DGWStream").StreamError.UNAUTHORIZED&&(h="UNAUTHORIZED");(g=b.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:h},e,String(b.$18));b.$25(a?d("RequestStreamCloseReason").RequestStreamCloseReason.ReestablishError:d("RequestStreamCloseReason").RequestStreamCloseReason.StartStreamFailure,h,!0);if(f===d("DGWStream").StreamError.UNAUTHENTICATED||f===d("DGWStream").StreamError.UNAUTHORIZED)return;throw f}else{(g=b.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:(h=f.message)!=null?h:f},e,String(b.$18));b.$15.onRetry();var i=c("gkx")("20916")?b.$15.getBackoffDelayMs():k*Math.pow(l,b.$21);return new Promise(function(a){return window.setTimeout(a,i)}).then(function(){b.$21++;b.$18++;return b.start()})}})};b.getFlowStatus=function(){return this.$8.flowStatus};b.shouldTerminateOrRetry=function(a,b,e,f){var g=this;if(this.$14)return;var h=b;this.$12||(h="cannot retry for error: "+b+" because of hit max retry limitation");if(a!==d("RequestStreamCloseReason").RequestStreamCloseReason.ClientError){(b=this.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:h},null,String(this.$18))}b=e&&(c("gkx")("20916")||this.$12);this.$25(a,h,!b);if(b){var i=c("gkx")("20916")?Math.max((e=f)!=null?e:0,this.$15.getBackoffDelayMs()):(a=f)!=null?a:j;this.$14=!0;return new Promise(function(a){return window.setTimeout(a,i)}).then(function(){return g.$27()}).catch(function(a){})}};b.$28=function(){return this.$11!=null};b.$24=function(a,b){var e,f=this,g=typeof a==="string"?new TextEncoder().encode(a):a,h=String(this.$17++);(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").RECEIVED,{},h);e=p(this.$5,h);g={amend:{amendment:g,instrumentation_data:e}};b&&g.amend&&(g.amend.amendment_id=h);e=d("CompactSerializerPolyfill").serialize(g,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);var i=Date.now();if(this.$29()&&this.$11!=null){b&&this.$19.add(h);this.$11.send(e).then(function(a){var b;o(a);a=(Date.now()-i).toString();(b=f.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:a},h)}).catch(function(a){var b;(b=f.$6)==null?void 0:b.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:a.message},h);f.$19.reject(h,a)});(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").SENT,{data_size:(e=a==null?void 0:(b=a.length)==null?void 0:b.toString())!=null?e:"0"},h);return h}else{(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").AMENDMENT,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},h)}};b.$26=async function(a){var b=this;if(!this.$9){var e=this.$2||this.$1;try{var f=this.$30();this.$13=f;var g=e.headers.graphiql_sandbox,h=babelHelpers.extends({},e.headers,this.$31());g!=null&&(h=babelHelpers.extends({},h,{www_sandbox:g,distillery_sandbox:g+":8086"}));g=d("DGWRequestStreamUtils").convertHeaders(h,e.body!=null,this.$5);this.$11=await this.$20.establishStream(g,f,this.$7)}catch(a){if(a===d("DGWStream").StreamError.ESTABLISHMENT_ERROR)throw a;if(d("DGWStream").StreamError.isValid(a)&&!d("DGWStream").isRetryableError(a))throw a;else if(d("DGWStream").StreamError.isValid(a)&&d("DGWStream").isRetryableError(a)){this.$32(a);return}throw a}if(this.$9){this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0);return}h=new Uint8Array([]);if(e.body!=null){g={request_body:{body:e.body}};h=d("CompactSerializerPolyfill").serialize(g,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload)}if(!this.$11)throw new Error("dgwstream_is_null");f=this.$11.send(h).then(function(a){o(a),b.$9&&b.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)});(e=this.$6)==null?void 0:e.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").SENT,{},a,String(this.$18));this.$12=i;return f}else throw new Error("stream_already_canceled")};b.$29=function(){return this.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started||this.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted};b.$25=function(a,b,c){var e;this.$11&&a!==d("RequestStreamCloseReason").RequestStreamCloseReason.StreamError&&a!==d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination&&this.$11.close();(e=this.$13)==null?void 0:e.stop();this.$11=null;this.$10=!0;this.$33(d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped)&&this.$3.onFlowStatus(d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped);c&&!this.$9&&this.$3.onTermination("terminate stream because "+a+" with msg : "+b)};b.$33=function(a){var b=this.$8;this.$8=d("RequestStreamState").getNextState(b,a);return b!==this.$8};b.$27=function(){this.$12--;this.$18++;this.$15.onRetry();return this.start(!0)};b.$34=function(a){var b=this;a=d("CompactSerializerPolyfill").deserialize(a,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").deserializePayload);if(a.response){var e=d("DGWRequestStreamUtils").getInstrumentationDataFieldsFromPayload(a),f=e==null?void 0:e.auxId;e=e==null?void 0:e.dfTraceId;if(!this.$28()){var g;(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"response_received_after_close"},f,String(this.$18),e);return}(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").RECEIVED,q(a.response),f,String(this.$18),e);g=a.response.delta;g.forEach(function(a){if(a.data)b.$15.resetErrorAndRetryCount(),c("justknobx")._("4109")?b.$3.onData(new TextDecoder("utf-8").decode(a.data.bytes)):b.$8.flowStatus===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started?b.$3.onData(new TextDecoder("utf-8").decode(a.data.bytes)):(h||(h=d("ODS"))).bumpEntityKey(110,"RequestStream","data_before_started_"+(b.$22()?"falco":"graphql"));else if(a.flow_status){var e=a.flow_status;e===d("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&b.$15.resetErrorAndRetryCount();b.$33(e)&&b.$3.onFlowStatus(e)}else if(a.termination){e=(e=a.termination.message)!=null?e:"unknown termination msg";b.$2=null;b.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,e,a.termination.reason===d("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.TryAgain,a.termination.retry_delay_ms!=null?parseInt(a.termination.retry_delay_ms,10):null)}else if(a.log)b.$3.onLog(a.log.message);else if(a.amend_ack){e=a.amend_ack.amendment_id;if(e!=null){var f=a.amend_ack.accepted||!1;b.$19.resolve(e,f)}}else if(a.rewrite){e=d("DGWRequestStreamUtils").transformContextWithRewriteDelta(b.$1,a.rewrite);a.rewrite.temporary===!0?b.$2=e:b.$1=e}});(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").SENT,q(a.response),f,String(this.$18),e);a.response.ack_level===d("RequestStreamCommonRequestStreamCommonTypes").AckLevel.Device&&a.response.response_id!=null&&this.$35(a.response.response_id,f)}else{(g=this.$6)==null?void 0:g.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"unexpected_payload_type"},null,String(this.$18))}};b.$35=function(a,b){a={ack:{response_id:a,ack:d("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.Success}};a=d("CompactSerializerPolyfill").serialize(a,d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);if(this.$11!=null){this.$11.send(a);(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,c("RequestStreamE2EClientLoggerEvent").SENT,{},b,String(this.$18))}else{(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},b,String(this.$18))}};b.$22=function(){return this.$1.headers.method==="Falco"};b.$30=function(){return new(c("DGWStreamHandler"))(this.$36.bind(this),this.$37.bind(this),this.$32.bind(this),this.$38.bind(this),this.$39.bind(this))};b.$39=function(a){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Has FinishedSendingData"},null,String(this.$18));this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.ServerDataEnd,"Client receive OnServerHasFinishedSendingData and Server will not send more data",!0)};b.$36=function(a){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Close Connection"},null,String(this.$18));this.$25(d("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,"Client receive OnClose and Server will not send more data",!0)};b.$37=function(a){try{this.$34(a)}catch(b){(a=this.$6)==null?void 0:a.logE2EEvent(c("RequestStreamE2EClientLoggerMessageType").RESPONSE,c("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:b.message},null,String(this.$18));this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.ClientError,b.message,!1)}};b.$32=function(a){var b="",c=d("DGWStream").isRetryableError(a);b="StreamError: Received "+a;this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.StreamError,b,c)};b.$38=function(a,b){this.shouldTerminateOrRetry(d("RequestStreamCloseReason").RequestStreamCloseReason.ServerDrain,b,!0)};b.$31=function(){return c("RtiWebRequestStreamClient").overrideHeaders};b.$23=function(){var a={};c("gkx")("20918")&&(a.pending_amendments_size=this.$19.getSize().toString());return a};return a}();g.default=a}),98);
__d("DGWStreamGroupHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.onStreamGroupError=function(a){this.$1(a)};b.onStreamGroupMustDrain=function(a){this.$2(a)};b.onStreamGroupTransportClose=function(){this.$3()};return a}();f["default"]=a}),66);
__d("DGWStreamFactory",["DGWClient","DGWStreamGroupHandler","Promise","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="realtime",j=1e4,k=null;a=function(){function a(){this.$1={}}a.get=function(){k==null&&(k=new a());return k};var d=a.prototype;d.$2=function(a){var b;this.$1=(b={},b[a]={dgwStreamGroup:null,multiStreamGroupLoggingId:null,multiStreamGroupPriorStreamCountGuess:0},b)};d.getStreamGroupLoggingId=function(a){a===void 0&&(a=null);return(a=this.$1[(a=a)!=null?a:i])==null?void 0:a.multiStreamGroupLoggingId};d.guessStreamGroupPriorStreamCount=function(a){a===void 0&&(a=null);return((a=this.$1[(a=a)!=null?a:i])==null?void 0:a.multiStreamGroupPriorStreamCountGuess)||0};d.establishStream=function(a,d,e){var f,g=this,k=e.serviceId==null?i:e.serviceId;f=(f=this.$1[k])==null?void 0:f.dgwStreamGroup;if(f==null||!f.canCreateGroupedStream()){var l={deviceId:e.deviceId,serviceId:k,disableFalcoLogging:e.disableFalcoLogging,streamGroupAppHeaders:{"stream-group":"group1"}};e.overrideUrl!=null&&(l.overrideUrl=e.overrideUrl);l.keepAliveMs=j;c("gkx")("20920")&&(l.loggingId=c("uuidv4")());try{f=c("DGWClient")().createStreamGroup(new(c("DGWStreamGroupHandler"))(function(){g.$2(k)},function(){g.$2(k)},function(){g.$2(k)}),l),this.$1[k]={dgwStreamGroup:f,multiStreamGroupLoggingId:l.loggingId,multiStreamGroupPriorStreamCountGuess:0}}catch(a){return(h||(h=b("Promise"))).reject(a)}}this.$1[k].multiStreamGroupPriorStreamCountGuess++;return f.establishStream({loggingId:e.loggingId,disableFalcoLogging:e.disableFalcoLogging,groupedStreamHeaders:a},d)};return a}();g["default"]=a}),98);
__d("DGWRequestStreamClient",["DGWRequestStreamRef","DGWStreamFactory","Promise","cr:2046346"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=a!=null?a:c("DGWStreamFactory").get()}var d=a.prototype;d.createStream=function(a,d,e,f,g){b("cr:2046346")!=null&&b("cr:2046346").startPulsarTest();return(h||(h=b("Promise"))).resolve(new(c("DGWRequestStreamRef"))(a,d,f,g,e,this.$1))};return a}();g["default"]=a}),98);
__d("FDSDialogStartAlignedTextHeader.react",["fbt","BaseDialogLabelIDProvider","FBNucleusCrossFilled24Icon.react","FDSCircleButton.react","FDSDialogHeaderContainer.react","FDSText.react","emptyFunction","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={addOnEnd:{alignSelf:"xqcrz7y",marginTop:"x14vqqas",marginBottom:"xod5an3",marginStart:"x1d52u69",marginEnd:"xktsk01",marginLeft:null,marginRight:null,$$css:!0},headerPlaceholder:{height:"xc9qbxq",marginTop:"xw7yly9",marginBottom:"x1yztbdb",width:"x14qfxbe",$$css:!0},headerText:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginLeft:"xq1n1xh",marginStart:null,marginEnd:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.closeTestID,f=a.disabled,g=a.onClose,i=a.text,l=a.withCloseButton;a=a.withoutDivider;e=e===void 0?"close-button":e;f=f===void 0?!1:f;g=g===void 0?c("emptyFunction"):g;l=l===void 0?!0:l;a=a===void 0?!0:a;var m=d("BaseDialogLabelIDProvider").useDialogHeaderID();a=!a;var n;b[0]!==m||b[1]!==i?(n=i!=null&&j.jsx(d("react-strict-dom").html.div,{style:k.headerText,children:j.jsx(c("FDSText.react"),{align:"start",id:m,isSemanticHeading:!0,type:"headlineEmphasized2",children:i})}),b[0]=m,b[1]=i,b[2]=n):n=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==l?(m=j.jsx(d("react-strict-dom").html.div,{style:k.addOnEnd,children:l?j.jsx(c("FDSCircleButton.react"),{disabled:f,icon:c("FBNucleusCrossFilled24Icon.react"),label:h._(/*BTDS*/"Close"),onPress:g,size:36,testid:void 0}):j.jsx(d("react-strict-dom").html.div,{style:k.headerPlaceholder})}),b[3]=e,b[4]=f,b[5]=g,b[6]=l,b[7]=m):m=b[7];b[8]!==a||b[9]!==n||b[10]!==m?(i=j.jsxs(c("FDSDialogHeaderContainer.react"),{withDivider:a,children:[n,m]}),b[8]=a,b[9]=n,b[10]=m,b[11]=i):i=b[11];return i}g["default"]=a}),226);
__d("FDSAlertDialogImpl.react",["fbt","FDSDialog.react","FDSDialogFooter.react","FDSDialogStartAlignedTextHeader.react","FDSText.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={content:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.body,f=a.close,g=a.onClose;a=a.title;if(b[0]!==f){var i;i=(i=f)!=null?i:h._(/*BTDS*/"Close");b[0]=f;b[1]=i}else i=b[1];b[2]!==g||b[3]!==i?(f=j.jsx(c("FDSDialogFooter.react"),{expanding:!1,primary:{label:i,onPress:g,testid:"FDSAlertDialogImpl-closeButton"}}),b[2]=g,b[3]=i,b[4]=f):f=b[4];b[5]!==g||b[6]!==a?(i=j.jsx(c("FDSDialogStartAlignedTextHeader.react"),{onClose:g,text:a}),b[5]=g,b[6]=a,b[7]=i):i=b[7];var l;b[8]!==e?(l=j.jsx(d("react-strict-dom").html.div,{style:k.content,children:j.jsx(c("FDSText.react"),{type:"body3",children:e})}),b[8]=e,b[9]=l):l=b[9];b[10]!==g||b[11]!==f||b[12]!==i||b[13]!==l||b[14]!==a?(e=j.jsx(c("FDSDialog.react"),{"aria-label":a,footer:f,header:i,onClose:g,children:l}),b[10]=g,b[11]=f,b[12]=i,b[13]=l,b[14]=a,b[15]=e):e=b[15];return e}g["default"]=a}),226);
__d("FDSTwoButtonDialog.react",["fbt","CometTrackingNodeProvider.react","FDSDialog.react","FDSDialogConfirmationFooter.react","FDSDialogHeader.react","FDSText.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={content:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0}},l={dialog:"comet-two-button-dialog",primary:"comet-two-button-dialog-primary",secondary:"comet-two-button-dialog-secondary"};function a(a){var b=d("react-compiler-runtime").c(37),e=a.disabled,f=a.onClose,g=a.testids,i=a.body,m=a.primary,n=a.secondary;a=a.title;e=e===void 0?!1:e;g=g===void 0?l:g;if(b[0]!==m){var o;o=(o=m)!=null?o:h._(/*BTDS*/"Confirm");b[0]=m;b[1]=o}else o=b[1];b[2]!==f?(m=function(){return f("PRIMARY")},b[2]=f,b[3]=m):m=b[3];var p;b[4]!==e||b[5]!==o||b[6]!==m||b[7]!==g.primary?(p={disabled:e,label:o,onPress:m,testid:g.primary},b[4]=e,b[5]=o,b[6]=m,b[7]=g.primary,b[8]=p):p=b[8];if(b[9]!==n){m=(o=n)!=null?o:h._(/*BTDS*/"Cancel");b[9]=n;b[10]=m}else m=b[10];b[11]!==f?(o=function(){return f("SECONDARY")},b[11]=f,b[12]=o):o=b[12];b[13]!==e||b[14]!==m||b[15]!==o||b[16]!==g.secondary?(n={disabled:e,label:m,onPress:o,testid:g.secondary},b[13]=e,b[14]=m,b[15]=o,b[16]=g.secondary,b[17]=n):n=b[17];b[18]!==p||b[19]!==n?(e=j.jsx(c("FDSDialogConfirmationFooter.react"),{primary:p,secondary:n}),b[18]=p,b[19]=n,b[20]=e):e=b[20];b[21]!==f?(m=function(){return f("EXIT")},b[21]=f,b[22]=m):m=b[22];b[23]!==m||b[24]!==a?(o=j.jsx(c("FDSDialogHeader.react"),{onClose:m,text:a,withCloseButton:!0}),b[23]=m,b[24]=a,b[25]=o):o=b[25];b[26]!==f?(p=function(){return f("EXIT")},b[26]=f,b[27]=p):p=b[27];b[28]!==i?(n=j.jsx(d("react-strict-dom").html.div,{style:k.content,children:j.jsx(c("FDSText.react"),{type:"body3",children:i})}),b[28]=i,b[29]=n):n=b[29];b[30]!==o||b[31]!==p||b[32]!==n||b[33]!==e||b[34]!==g.dialog||b[35]!==a?(m=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:163,children:j.jsx(c("FDSDialog.react"),{"aria-label":a,footer:e,header:o,onClose:p,testid:void 0,children:n})}),b[30]=o,b[31]=p,b[32]=n,b[33]=e,b[34]=g.dialog,b[35]=a,b[36]=m):m=b[36];return m}g["default"]=a}),226);
__d("FDSConfirmationDialogImpl.react",["FDSTwoButtonDialog.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.body,f=a.cancel,g=a.confirm,h=a.disabled,j=a.onClose;a=a.title;h=h===void 0?!1:h;var k;b[0]!==j?(k=function(a){return j(a==="PRIMARY")},b[0]=j,b[1]=k):k=b[1];var l;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(l={dialog:"FDSConfirmationDialogImpl",primary:"CometConfirmationDialogConfirmButton",secondary:"CometConfirmationDialogCancelButton"},b[2]=l):l=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==k||b[8]!==a?(l=i.jsx(c("FDSTwoButtonDialog.react"),{body:e,disabled:h,onClose:k,primary:g,secondary:f,testids:l,title:a}),b[3]=e,b[4]=f,b[5]=g,b[6]=h,b[7]=k,b[8]=a,b[9]=l):l=b[9];return l}g["default"]=a}),98);
__d("StarsViewerFunnelEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6440");b=d("FalcoLoggerInternal").create("stars_viewer_funnel_event",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("AsyncStorage",["Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;a={getItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").getItem(a,function(a,c){d&&d(a,c),a!=null?e(a):b(c)})})},removeItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").removeItem(a,function(a){d&&d(a),a!=null?e(a):b()})})},setItem:function(a,d,e){return new(h||(h=b("Promise")))(function(b,f){c("WebAsyncStorage").setItem(a,d,function(a){e&&e(a),a!=null?f(a):b()})})}};d=a;g["default"]=d}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b){var c=d("react-compiler-runtime").c(9),e=a.dataSource;a=b===void 0?!1:b;b=k(a);a=b[0];var f=b[1],g=j(null);c[0]!==e?(b=function(a){var b,c=a.onResolvePayload;a=a.requestParams;(b=g.current)==null?void 0:b.unsubscribe();g.current=e.fetchNetwork(a).subscribe({complete:function(){f(!1)},error:function(a){f(!1)},next:function(a){return c(a)},start:function(a){f(!0)},unsubscribe:function(){f(!1)}})},c[0]=e,c[1]=b):b=c[1];b=b;var h,l;c[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return function(){var a;(a=g.current)==null?void 0:a.unsubscribe()}},l=[],c[2]=h,c[3]=l):(h=c[2],l=c[3]);i(h,l);c[4]!==a?(h={isLoading:a},c[4]=a,c[5]=h):h=c[5];c[6]!==b||c[7]!==h?(l=[h,b],c[6]=b,c[7]=h,c[8]=l):l=c[8];return l}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","react-compiler-runtime","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useRef;function a(a,e){var f=d("react-compiler-runtime").c(17),g=a.dataSource,h=a.dataSourceFetchConfigParams,k=a.onResolvePayload;f[0]!==h?(a=h===void 0?{}:h,f[0]=h,f[1]=a):a=f[1];h=a;a=h.requestFlow;h=h.shouldDebounceNetwork;var l=h===void 0?!0:h;f[2]!==g?(h={dataSource:g},f[2]=g,f[3]=h):h=f[3];g=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")(h);h=g[0];var m=g[1];g=h.isLoading;var n=c("useDebouncedComet")(m);f[4]!==k?(h=function(a,b){var d=b.isTraceComplete;b=b.source;try{k(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},f[4]=k,f[5]=h):h=f[5];var o=h,p=j(a);f[6]!==o?(h=function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},f[6]=o,f[7]=h):h=f[7];var q=h;f[8]!==m||f[9]!==n||f[10]!==e||f[11]!==q||f[12]!==l?(a=function(){var a=function(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(l)?n(b):m(b)};e!=null&&a(e)},h=[m,n,e,q,l],f[8]=m,f[9]=n,f[10]=e,f[11]=q,f[12]=l,f[13]=a,f[14]=h):(a=f[13],h=f[14]);i(a,h);f[15]!==g?(a=[{isLoading:g}],f[15]=g,f[16]=a):a=f[16];return a}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetch",["react","react-compiler-runtime","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b,e=d("react-compiler-runtime").c(9),f=i(null),g=f[0],h=f[1];f=c("useBaseTypeaheadSubscriptionDataSourceFetchResolver")(a,g);a=f[0];f=a.isLoading;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;h({requestParams:a,source:b})},e[0]=a):a=e[0];var j=a;e[1]!==g?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(g==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=g.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);j(e,a)},e[1]=g,e[2]=a):a=e[2];a=a;b=(b=g==null?void 0:g.source)!=null?b:"all";var k;e[3]!==f||e[4]!==b?(k={isLoading:f,source:b},e[3]=f,e[4]=b,e[5]=k):k=e[5];e[6]!==a||e[7]!==k?(f=[k,j,a],e[6]=a,e[7]=k,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("TypeaheadLoggingFetchRequestFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1880031");b=d("FalcoLoggerInternal").create("typeahead_logging_fetch_request",a);e=b;g["default"]=e}),98);
__d("CometTypeaheadVolumeLoggingProvider",["TypeaheadLoggingFetchRequestFalcoEvent","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return Math.random().toString()};a=function(){function a(a){this.$2=null,this.$1=a,this.$2=h()}var b=a.prototype;b.getContext=function(){return this.$1};b.getSessionID=function(){this.$2==null&&c("recoverableViolation")("Logging sessionID requested from "+this.getContext()+" surface does not exist.","search");return this.$2};b.logRequest=function(a){var b={context:this.getContext(),requestType:a,sessionID:this.getSessionID()};c("TypeaheadLoggingFetchRequestFalcoEvent").log(function(){return{fetchRequest:b}})};return a}();g["default"]=a}),98);
__d("useCometTypeaheadVolumeLoggingProvider",["CometTypeaheadVolumeLoggingProvider","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(2);a=a===void 0?"UNKNOWN":a;var e;b[0]!==a?(e=new(c("CometTypeaheadVolumeLoggingProvider"))(a),b[0]=a,b[1]=e):e=b[1];a=e;return a}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,h=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:j(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);h&&!h.isResolved()&&(d&&(b==="cache"&&a.length>=h.getEntriesCountForVisualComplete()?h.setEndReason("max_suggestions_reached"):b==="network"?h.setEndReason("all_queries_completed"):b==="network-no-results"&&h.setEndReason("all_queries_completed_no_network_results"),h.resolve()))},[l,g,h])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=k(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:n,source:o,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","react-compiler-runtime","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(77),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;b[0]!==a?(r=a.autoOpen,B=a.autoFocus,C=a.isDisabled,D=a.errorMessage,e=a.inputStrategyRenderer,g=a.dataSource,h=a.dataSourceFetchConfigParams,E=a.decorators,k=a.emptyEntries_DO_NOT_USE,n=a.id,F=a.label,m=a.loggingContext,G=a.onBackspace,H=a.onBlur,o=a.onChange,I=a.onClose,s=a.onEnter,t=a.onEscape,p=a.onFetchEntries_DO_NOT_USE,u=a.onFocus,v=a.onOpen,q=a.onPressEntry,w=a.placeholder,x=a.shouldQueryStringFollowHighlightedEntry,y=a.shouldQueryStringUpdateFromSelectedEntryOnClick,z=a.testid,J=a.traceProvider,l=a.inputRef,A=a.viewRole,f=a.viewStrategyRenderer,K=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","inputRef","viewRole","viewStrategyRenderer"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J,b[31]=K):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30],K=b[31]);a=r===void 0?!1:r;r=B===void 0?!1:B;B=C===void 0?!1:C;C=D===void 0?null:D;b[32]!==E?(D=E===void 0?[]:E,b[32]=E,b[33]=D):D=b[33];E=D;D=F===void 0?"":F;F=G===void 0?c("emptyFunction"):G;G=H===void 0?c("emptyFunction"):H;H=I===void 0?c("emptyFunction"):I;I=s===void 0?c("emptyFunction"):s;s=t===void 0?c("emptyFunction"):t;t=u===void 0?c("emptyFunction"):u;u=v===void 0?c("emptyFunction"):v;v=w===void 0?"":w;w=x===void 0?!0:x;var L=y===void 0?!0:y;x=z===void 0?"":z;y=A===void 0?"listbox":A;z=j();var M;b[34]!==E?(M=c("CometInternalTypeahead.react"),E.forEach(function(a){var b=a.decorate;a=a.params;M=b(M,a)}),b[34]=E,b[35]=M):M=b[35];A=M;E=A;b[36]!==o||b[37]!==q||b[38]!==L?(A=function(a){L&&o(a.label),q&&q(a)},b[36]=o,b[37]=q,b[38]=L,b[39]=A):A=b[39];A=A;var N;b[40]!==e||b[41]!==w?(N=c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(e,{shouldQueryStringFollowHighlightedEntry:w}),b[40]=e,b[41]=w,b[42]=N):N=b[42];e=N;w=e;N=D||v;D=(e=n)!=null?e:z;if(b[43]!==w||b[44]!==E||b[45]!==f||b[46]!==r||b[47]!==C||b[48]!==l||b[49]!==F||b[50]!==G||b[51]!==I||b[52]!==s||b[53]!==t||b[54]!==A||b[55]!==B||b[56]!==o||b[57]!==v||b[58]!==N||b[59]!==D||b[60]!==x||b[61]!==K||b[62]!==y){e=i.jsx(E,babelHelpers["extends"]({},K,{autoFocus:r,errorMessage:C,id:D,inputRef:l,inputStrategyRenderer:w,isDisabled:B,label:N,onBackspace:F,onBlur:G,onChange:o,onDownArrow:n=c("emptyFunction"),onEnter:I,onEscape:s,onFocus:t,onHighlightEntry:n,onPressEntry:A,onShiftTab:n,onTab:n,onUpArrow:n,placeholder:v,testid:void 0,viewRole:y,viewStrategyRenderer:f}));b[43]=w;b[44]=E;b[45]=f;b[46]=r;b[47]=C;b[48]=l;b[49]=F;b[50]=G;b[51]=I;b[52]=s;b[53]=t;b[54]=A;b[55]=B;b[56]=o;b[57]=v;b[58]=N;b[59]=D;b[60]=x;b[61]=K;b[62]=y;b[63]=e}else e=b[63];b[64]!==g||b[65]!==h||b[66]!==m||b[67]!==p||b[68]!==e||b[69]!==J?(z=i.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:g,dataSourceFetchConfigParams:h,loggingContext:m,onFetchEntries_DO_NOT_USE:p,traceProvider:J,children:e}),b[64]=g,b[65]=h,b[66]=m,b[67]=p,b[68]=e,b[69]=J,b[70]=z):z=b[70];b[71]!==a||b[72]!==k||b[73]!==H||b[74]!==u||b[75]!==z?(n=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:k,onClose:H,onOpen:u,children:z})}),b[71]=a,b[72]=k,b[73]=H,b[74]=u,b[75]=z,b[76]=n):n=b[76];return n}g["default"]=a}),98);
__d("CancellablePromise",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i="CancellationToken.TokenCancelled";function a(a,d,e){return e.then(function(e){return a.isCancelled()?(h||(h=b("Promise"))).reject(c("err")(i)):d(e)})}function d(a,d){return d["catch"](function(d){return d instanceof Error&&d.message===i?(h||(h=b("Promise"))).resolve(a):(h||(h=b("Promise"))).reject(c("err"))})}g.then_=a;g.ignoreFailed=d}),98);
__d("CancellationToken",[],(function(a,b,c,d,e,f){"use strict";function a(){var a={contents:!1};return{cancel:function(){a.contents=!0},isCancelled:function(){return a.contents}}}f["default"]=a}),66);
__d("CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelCommunitiesQPBannerContainer.react",["CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(13),g=a.messagingEntryPoint,i=a.onClose;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql"),a);var l;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={context_surface_id:10713,context_trigger:"messaging_jewel_communities_tab_open"},f[0]=l):l=f[0];l=c("useQuickPromotionFalcoEvent")(l);if(f[1]!==(a==null?void 0:(e=a.eligible_promotions)==null?void 0:e.nodes)){e=a==null?void 0:(e=a.eligible_promotions)==null?void 0:(e=e.nodes)==null?void 0:e.find(k);f[1]=a==null?void 0:(a=a.eligible_promotions)==null?void 0:a.nodes;f[2]=e}else e=f[2];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;if(a==null)return null;f[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),f[3]=e):e=f[3];var m;f[4]!==g||f[5]!==i?(m={messagingEntryPoint:g,onClose:i},f[4]=g,f[5]=i,f[6]=m):m=f[6];f[7]!==a||f[8]!==m?(g=j.jsx(d("CometRelay").MatchContainer,{match:a,props:m}),f[7]=a,f[8]=m,f[9]=g):g=f[9];f[10]!==l||f[11]!==g?(i=j.jsx(c("CometPlaceholder.react"),{fallback:e,name:"CometMessagingJewelCommunitiesQPBannerContainer",children:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:l,children:g})}),f[10]=l,f[11]=g,f[12]=i):i=f[12];return i}function k(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("CometMessagingJewelCommunitiesQPBannerContainerPassthroughQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9705460656213373"}),null);
__d("MWTopNavListDropdownTitle.react",["fbt","BaseHeading.react","Locale","MWXCircleButton.react","MWXIconArrowLeft","MWXIconArrowRight","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=[];function a(a){var b=d("react-compiler-runtime").c(16),e=a.actions,f=a.onReturn,g=a.testid;a=a.title;e=e===void 0?k:e;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x78zum5 x2lah0s x1qughib x21xpn4 x1whwgri x1fr0stp xn5jv7c xnx504b"},b[0]=i):i=b[0];var m;b[1]!==f?(m=f!=null?j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:d("Locale").isRTL()?c("MWXIconArrowRight"):c("MWXIconArrowLeft"),iconRatio:"large",label:h._(/*BTDS*/"Back"),onPress:f,size:32,type:"deemphasized"})}):null,b[1]=f,b[2]=m):m=b[2];b[3]!==a?(f=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("BaseHeading.react"),{isPrimaryHeading:!0,children:j.jsx(c("MWXText.react"),{type:"headlineEmphasized1",children:a})})}),b[3]=a,b[4]=f):f=b[4];b[5]!==m||b[6]!==f?(a=j.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,spacingHorizontal:8,children:[m,f]}),b[5]=m,b[6]=f,b[7]=a):a=b[7];b[8]!==e?(m=e.map(l),b[8]=e,b[9]=m):m=b[9];b[10]!==m?(f=j.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,spacingHorizontal:8,children:m}),b[10]=m,b[11]=f):f=b[11];b[12]!==a||b[13]!==f||b[14]!==g?(e=j.jsxs("header",babelHelpers["extends"]({},i,{"data-testid":void 0,children:[a,f]})),b[12]=a,b[13]=f,b[14]=g,b[15]=e):e=b[15];return e}function l(a,b){return j.jsx(c("MWXRowItem.react"),{children:a},b)}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessagingJewelDropdownContentGlimmer.react",["FDSListCellGlimmer.react","MWTopNavListDropdownTitle.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isFullHeight,f=a.title;a=a.withBackButton;e=e===void 0?!1:e;a=a===void 0?!1:a;var g;b[0]!==e?(g={0:{},1:{className:"x9f619 x20eyyc xvv7f4i x1cvmir6"}}[!!e<<0],b[0]=e,b[1]=g):g=b[1];b[2]!==f||b[3]!==a?(e=f!=null&&i.jsx(c("MWTopNavListDropdownTitle.react"),{onReturn:a?c("emptyFunction"):void 0,title:f}),b[2]=f,b[3]=a,b[4]=e):e=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("FDSListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:Math.max(Math.ceil((window.innerHeight-72-45)/76),1)}),b[5]=f):f=b[5];b[6]!==g||b[7]!==e?(a=i.jsxs("div",babelHelpers["extends"]({},g,{children:[e,f]})),b[6]=g,b[7]=e,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("CometMessagingJewelDropdownContent_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__CometMessagingJewelDropdownCMBlendedEntrpyointEnabledrelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider"}],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownContent_query",selections:[{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsJewelNuxWrapper_query"}],type:"Query",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"encrypted_backups_jewel_nux_wrapper"}]},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometMessagingJewelDropdownQPBannerContainer_viewer"}],type:"Viewer",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"qp_banner"}]},{condition:"__relay_internal__pv__CometMessagingJewelDropdownCMBlendedEntrpyointEnabledrelayprovider",kind:"Condition",passingValue:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometMessagingJewelCommunitiesQPBannerContainer_viewer"}],type:"Viewer",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"cm_qp_banner"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MWCMBlendedThreadListV2_viewer"}],type:"Viewer",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"cm_thread_list"}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQPBannerContainer_viewer",selections:[{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3nNEjf"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3nNEjf")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainer.react",["CometMessagingJewelDropdownQPBannerContainer_viewer.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPageletWithDiv.react","CometQuickPromotionLoggerContext.react","CometRelay","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(9);a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessagingJewelDropdownQPBannerContainer_viewer.graphql"),a);var g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={context_surface_id:8439,context_trigger:"messaging_jewel_open"},f[0]=g):g=f[0];g=c("useQuickPromotionFalcoEvent")(g);if(f[1]!==(a==null?void 0:(e=a.jewel_qp)==null?void 0:e.nodes)){e=a==null?void 0:(e=a.jewel_qp)==null?void 0:(e=e.nodes)==null?void 0:e.find(k);f[1]=a==null?void 0:(a=a.jewel_qp)==null?void 0:a.nodes;f[2]=e}else e=f[2];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;if(a==null)return null;f[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),f[3]=e):e=f[3];var i;f[4]!==a?(i=j.jsx(d("CometRelay").MatchContainer,{match:a}),f[4]=a,f[5]=i):i=f[5];f[6]!==g||f[7]!==i?(a=j.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:e,name:"CometMessagingJewelDropdownQPBannerContainer",children:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:g,children:i})}),f[6]=g,f[7]=i,f[8]=a):a=f[8];return a}function k(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("MWEncryptedBackupsJewelNuxWrapperDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEncryptedBackupsJewelNuxWrapper.react").__setRef("MWEncryptedBackupsJewelNuxWrapperDeferred.react"));function a(a){return i.jsx(j,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxContextSwitcherGlimmer.react",["MDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={tabPlaceholder:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({className:"x78zum5 xu0aao5 x1y1aw1k xwib8y2 x1swvt13 x1pi30zi x3bhodz"},{children:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.tabPlaceholder})})),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWInboxQuickPromotionWrapper.react",["CometErrorBoundary.react","CometPageletWithDiv.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWUserVisibleErrorsNuxWrapper.react").__setRef("MWInboxQuickPromotionWrapper.react"));function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.onError;var f;b[0]!==e?(f=i.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWInboxQuickPromotionWrapper",children:i.jsx(j,{children:e})}),b[0]=e,b[1]=f):f=b[1];b[2]!==a||b[3]!==f?(e=i.jsx(c("CometErrorBoundary.react"),{onError:a,children:f}),b[2]=a,b[3]=f,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("MWInboxTrayContainer.react",["MWInboxTrayGating","cr:17196","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(3),e=a.mwInboxTrayContainerQuery;a=a.onClose;if(e==null)return null;if(!d("MWInboxTrayGating").isInboxTrayEnabled())return null;var f;c[0]!==e||c[1]!==a?(f=b("cr:17196")!=null?i.jsx(b("cr:17196"),{mwInboxTrayContainerQuery:e,onClose:a}):null,c[0]=e,c[1]=a,c[2]=f):f=c[2];return f}c=i.memo(a);g["default"]=c}),98);
__d("MWJewelDropdownHeaderOpenInAppButton.react",["fbt","ix","Actor","FDSCircleButton.react","FDSTooltip.react","ImageIconSource","MessengerDesktopDeeplinkEventFalcoEvent","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","react","react-compiler-runtime","useCurrentDisplayMode","useSinglePartialViewImpression","useStable","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e=a.onClose;a=d("Actor").useActor();a=a[0];var f=c("useStable")(l),g=c("useCurrentDisplayMode")();g=g==="dark";var j;b[0]!==f?(j={onImpressionStart:function(){return c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}})}},b[0]=f,b[1]=j):j=b[1];j=c("useSinglePartialViewImpression")(j);var m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Open Messenger app"),b[2]=m):m=b[2];m=m;if(b[3]!==a||b[4]!==f){var n;n=(n=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:f,id:a,origin:"FB"}).setDomain("messenger.com"))==null?void 0:(n=n.setProtocol("https"))==null?void 0:n.toString();b[3]=a;b[4]=f;b[5]=n}else n=b[5];a=n;b[6]!==g?(n=g?new(c("ImageIconSource"))(i("2009370"),32,32):new(c("ImageIconSource"))(i("1996477"),32,32),b[6]=g,b[7]=n):n=b[7];g=n;b[8]!==a?(n={url:a},b[8]=a,b[9]=n):n=b[9];b[10]!==f||b[11]!==e?(a=function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),e()},b[10]=f,b[11]=e,b[12]=a):a=b[12];b[13]!==g||b[14]!==j||b[15]!==n||b[16]!==a?(m=k.jsx(c("FDSTooltip.react"),{align:"end",tooltip:m,children:k.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:g,label:m,linkProps:n,onPress:a,ref:j,size:32,testid:void 0,type_DEPRECATED:"deemphasized"})}),b[13]=g,b[14]=j,b[15]=n,b[16]=a,b[17]=m):m=b[17];return m}function l(){return c("uuidv4")()}g["default"]=a}),226);
__d("useMWJewelSettingsButtonBadge",["cr:4042","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(){var a;a=(a=b("cr:4042")==null?void 0:b("cr:4042")())!=null?a:{};a=a.badge;a=a===void 0?null:a;return{badge:a,onButtonPress:function(){}}}g["default"]=a}),98);
__d("MWJewelDropdownHeader.react",["fbt","CometHomeChatSettings.entrypoint","FDSCircleButton.react","FDSComposeFilled16Icon","FDSDots3HorizontalFilled20Icon","FDSEntryPointPopoverTrigger.react","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","MWJewelDropdownHeaderOpenInAppButton.react","MWJewelDropdownHeaderSeeAllButton.react","MWJewelPopoverDialogContext.react","MWPSearchSystem","MWTopNavListDropdownTitle.react","MessengerDesktopDeepLinkUtils","MessengerWebUXLogger","emptyFunction","gkx","react","react-compiler-runtime","useCometPreloader","useMWChatOpenNewTab","useMWJewelSettingsButtonBadge","useMWNewChatTabContainerPreload","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useContext;function m(a){var b=d("react-compiler-runtime").c(13),e=a.onOpenArchivedChats,f=a.onOpenMessageRequests;a=a.onOpenRestrictedAccountsList;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Options"),b[0]=g):g=b[0];var i=g;g=l(c("MWJewelPopoverDialogContext.react"));var j=g.setIsOpenForDialog;g=c("useMWJewelSettingsButtonBadge")();var m=g.badge,n=g.onButtonPress;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[1]=g):g=b[1];e=(e=e)!=null?e:void 0;f=(f=f)!=null?f:void 0;a=(a=a)!=null?a:void 0;var o;b[2]!==e||b[3]!==f||b[4]!==a?(o={onOpenArchivedChats:e,onOpenMessageRequests:f,onOpenRestrictedAccountsList:a},b[2]=e,b[3]=f,b[4]=a,b[5]=o):o=b[5];b[6]!==m||b[7]!==n||b[8]!==j?(e=function(a,b,d,e,f,g){return k.jsxs(c("FDSTooltip.react"),{align:"end",tooltip:i,children:[m,k.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:c("FDSDots3HorizontalFilled20Icon"),label:i,onHoverIn:e,onHoverOut:f,onPress:function(){j(!1),b(),n()},onPressIn:g,ref:a,size:32,testid:void 0,type_DEPRECATED:"deemphasized"})]})},b[6]=m,b[7]=n,b[8]=j,b[9]=e):e=b[9];b[10]!==o||b[11]!==e?(f=k.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:g,otherProps:o,popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:e}),b[10]=o,b[11]=e,b[12]=f):f=b[12];return f}function a(a){var b=d("react-compiler-runtime").c(37),e=a.inboxUrl,f=a.onClose,g=a.onOpenArchivedChats,j=a.onOpenMessageRequests,l=a.onOpenRestrictedAccountsList,n=a.onReturn;a=a.title;var o=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),p=c("useMWChatOpenNewTab")("jewelNewMessage"),q=c("MessengerWebUXLogger").useInteractionLogger(),r;b[0]!==o||b[1]!==q||b[2]!==f||b[3]!==p?(r=function(){o&&(p(!1),f()),q==null?void 0:q({eventName:"create_thread"})},b[0]=o,b[1]=q,b[2]=f,b[3]=p,b[4]=r):r=b[4];r=r;var s=c("useMWNewChatTabContainerPreload")(),t=s[0],u=s[1],v=(i||(i=c("useReStore")))();b[5]!==v?(s=function(){return d("MWPSearchSystem").makeAll(v)},b[5]=v,b[6]=s):s=b[6];s=s;var w=c("useCometPreloader")("button_aggressive",c("emptyFunction"),s),x=w.onHoverInPreloader,y=w.onHoverMovePreloader,z=w.onHoverOutPreloader;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"New Message"),b[7]=w):w=b[7];w=w;var A=d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEnabled,B=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();A=!c("gkx")("2669")&&A()&&!B;if(A){b[8]!==f?(B=k.jsx(c("MWJewelDropdownHeaderOpenInAppButton.react"),{onClose:f}),b[8]=f,b[9]=B):B=b[9];A=B}else{b[10]!==e||b[11]!==f?(B=k.jsx(c("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:f,testid:void 0,url:e}),b[10]=e,b[11]=f,b[12]=B):B=b[12];A=B}b[13]!==g||b[14]!==j||b[15]!==l?(e=k.jsx(m,{onOpenArchivedChats:g,onOpenMessageRequests:j,onOpenRestrictedAccountsList:l},"mw-jewel-settings"),b[13]=g,b[14]=j,b[15]=l,b[16]=e):e=b[16];b[17]!==t||b[18]!==x?(B=function(a){t(a),x(a)},b[17]=t,b[18]=x,b[19]=B):B=b[19];b[20]!==u||b[21]!==z?(g=function(){u(),z()},b[20]=u,b[21]=z,b[22]=g):g=b[22];b[23]!==r||b[24]!==s||b[25]!==y||b[26]!==B||b[27]!==g?(j=k.jsx(c("FDSTooltip.react"),{align:"end",tooltip:w,children:k.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:c("FDSComposeFilled16Icon"),label:w,onFocusIn:s,onHoverIn:B,onHoverMove:y,onHoverOut:g,onPress:r,role:"button",size:32,testid:void 0,type_DEPRECATED:"deemphasized"})},"mw-jewel-new-message"),b[23]=r,b[24]=s,b[25]=y,b[26]=B,b[27]=g,b[28]=j):j=b[28];b[29]!==A||b[30]!==e||b[31]!==j?(l=[e,A,j].filter(Boolean),b[29]=A,b[30]=e,b[31]=j,b[32]=l):l=b[32];b[33]!==n||b[34]!==l||b[35]!==a?(w=k.jsx(c("MWTopNavListDropdownTitle.react"),{actions:l,onReturn:n,title:a}),b[33]=n,b[34]=l,b[35]=a,b[36]=w):w=b[36];return w}g["default"]=a}),226);
__d("MWJewelNestedFolderThreadListHeader.react",["MWTopNavListDropdownTitle.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.onReturn;a=a.title;var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("MWTopNavListDropdownTitle.react"),{onReturn:e,title:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("MWJewelMessageRequestsThread.react",["fbt","FDSChevronLeftFilled16Icon","FDSChevronRightFilled16Icon","FDSIcon.react","FDSMessagesFilled24Icon","I64","LSIntEnum","Locale","MWJewelThreadSnippet.react","MWXListCellStrict.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(){var a=d("react-compiler-runtime").c(5),b=(i||(i=c("useReStore")))(),e;a[0]!==b.tables.contacts||a[1]!==b.tables.threads?(e=function(){return d("ReQL").fromTableDescending(b.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(-1)).filter(o).map(function(a){a=a.snippetSenderContactId;if(a!=null){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a),f.id+":51");return a?a.name:void 0}})},a[0]=b.tables.contacts,a[1]=b.tables.threads,a[2]=e):e=a[2];var g;a[3]!==b?(g=[b],a[3]=b,a[4]=g):g=a[4];return d("ReQLSuspense").useFirst(e,g,f.id+":36")}function o(a){return(k||(k=d("I64"))).gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}function a(a){var b=d("react-compiler-runtime").c(17),e=a.onOpenMessageRequests;a=a.unreadRequestsCount;var f;b[0]!==a?(f=h._(/*BTDS*/"_j{\"*\":\"New message requests\",\"_1\":\"New message request\"}",[h._plural(a)]),b[0]=a,b[1]=f):f=b[1];f=f;var g;b[2]!==a?(g=h._(/*BTDS*/"_j{\"someone\":\"From someone you may know\",\"people\":\"From people you may know\"}",[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]),b[2]=a,b[3]=g):g=b[3];g=g;var i=n();if(i!=null)if(a===1){var j;b[4]!==i?(j=h._(/*BTDS*/"From {name}",[h._param("name",i)]),b[4]=i,b[5]=j):j=b[5];g=j}else{b[6]!==i||b[7]!==a?(j=h._(/*BTDS*/"From {name} and {count} more",[h._param("name",i),h._param("count",a-1)]),b[6]=i,b[7]=a,b[8]=j):j=b[8];g=j}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i={addOn:m.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("Locale").isRTL()?c("FDSChevronLeftFilled16Icon"):c("FDSChevronRightFilled16Icon")}),type:"body"},a={icon:c("FDSMessagesFilled24Icon"),size:56,type:"contained-icon"},b[9]=i,b[10]=a):(i=b[9],a=b[10]);b[11]!==g?(j=m.jsx(c("MWJewelThreadSnippet.react"),{isUnread:!0,text:g}),b[11]=g,b[12]=j):j=b[12];b[13]!==e||b[14]!==j||b[15]!==f?(g=m.jsx(c("MWXListCellStrict.react"),{addOnEnd:i,addOnStart:a,body:j,headline:f,level:4,onPress:e}),b[13]=e,b[14]=j,b[15]=f,b[16]=g):g=b[16];return g}g["default"]=a}),226);
__d("useMWLSJewelLoadMoreThreads",["Int64Hooks","loadMoreLSThreads","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),g,i;b[0]!==a||b[1]!==e?(g=function(){return function(){var b=e.runInTransaction(function(b){return c("loadMoreLSThreads")(b,a)},"readwrite",void 0,void 0,f.id+":26");c("promiseDone")(b)}},i=[e,a],b[0]=a,b[1]=e,b[2]=g,b[3]=i):(g=b[2],i=b[3]);return d("Int64Hooks").useMemoInt64(g,i)}g["default"]=a}),98);
__d("useMWLSLoadThreadFolderIfNotPresent",["CancellablePromise","CancellationToken","I64","Int64Hooks","ReQL","promiseDone","react-compiler-runtime","useMWLSJewelLoadMoreThreads","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(8),e=(i||(i=c("useReStore")))(),f=c("useMWLSJewelLoadMoreThreads")(a),g;b[0]!==e.tables.threads_ranges_v2__generated||b[1]!==f||b[2]!==a?(g=function(){var b=c("CancellationToken")();c("promiseDone")(d("CancellablePromise").ignoreFailed(void 0,d("CancellablePromise").then_(b,function(a){a==null&&f()},d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads_ranges_v2__generated).filter(function(b){return(h||(h=d("I64"))).equal(b.parentThreadKey,a)})))));return b.cancel},b[0]=e.tables.threads_ranges_v2__generated,b[1]=f,b[2]=a,b[3]=g):g=b[3];var j;b[4]!==e||b[5]!==f||b[6]!==a?(j=[f,e,a],b[4]=e,b[5]=f,b[6]=a,b[7]=j):j=b[7];d("Int64Hooks").useEffectInt64(g,j)}g["default"]=a}),98);
__d("MWLSJewelMessageRequestsThreadContainer.react",["I64","LSIntEnum","MWJewelMessageRequestsThread.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWLSLoadThreadFolderIfNotPresent","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.threads?(e=function(){return d("ReQL").fromTableDescending(b.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(-1)).filter(n)},a[0]=b.tables.threads,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useArray(e,g,f.id+":26");return a.length}function n(a){return(j||(j=d("I64"))).gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}function a(a){var b=d("react-compiler-runtime").c(4);a=a.onOpenMessageRequests;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(i||(i=d("LSIntEnum"))).ofNumber(-1),b[0]=e):e=b[0];c("useMWLSLoadThreadFolderIfNotPresent")(e);e=m();if(a==null||e===0)return null;var f;b[1]!==a||b[2]!==e?(f=l.jsx(c("MWJewelMessageRequestsThread.react"),{onOpenMessageRequests:a,unreadRequestsCount:e}),b[1]=a,b[2]=e,b[3]=f):f=b[3];return f}g["default"]=a}),98);
__d("LSFilteredThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[10],void 0)?d[0]=a[10]:d[0]=c.i64.cast([0,0]),a[11]!==void 0?d[1]=a[11]:d[1]="",(a[2]&&c.i64.neq(a[7],void 0)&&c.i64.neq(a[4],void 0)||a[3]&&c.i64.neq(a[6],void 0)&&c.i64.neq(a[5],void 0))&&!(a[2]&&c.i64.neq(a[7],void 0)&&c.i64.neq(a[4],void 0)&&a[3]&&c.i64.neq(a[6],void 0)&&c.i64.neq(a[5],void 0))?c.sequence([function(e){return d[3]=a[4]==null?c.i64.cast([-2147483648,0]):a[4],d[4]=a[7]==null?c.i64.cast([0,1]):a[7],d[10]=c.i64.gt(d[4],c.i64.cast([0,1]))&&c.i64.gt(d[3],c.i64.cast([-2147483648,0])),c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("cursor",d[2]),d[5].set("filter",a[1]),d[5].set("is_after",a[3]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[5].set("reference_thread_key",a[3]?a[5]:a[4]),d[5].set("secondary_filter",d[0]),d[5].set("filter_value",d[1]),d[5].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[6]=c.i64.add(d[11],c.i64.cast([0,0]))):d[6]=c.i64.cast([0,0]),d[7]=c.toJSON(d[5]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,313]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[6],c.i64.cast([0,0])).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.filter(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(247).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[3]==null?c.i64.cast([-2147483648,0]):d[3],minLastActivityTimestampMs:d[4]==null?c.i64.cast([0,1]):d[4],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],threadRangeFilterValue:d[1],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1,syncGroup:c.i64.cast([0,1])}):(b.item,c.forEach(c.filter(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFilteredThreadsRangesQueryStoredProcedure";a.__tables__=["filtered_threads_ranges_v3__generated"];e.exports=a}),null);
__d("LSFilteredThreadsRangesQueryStoredProcedure",["LSFilteredThreadsRangesQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFilteredThreadsRangesQuery"),e.parentThreadKey,e.filter,e.isLoadingBefore,e.isLoadingAfter,e.minThreadKey,e.maxThreadKey,e.maxLastActivityTimestampMs,e.minLastActivityTimestampMs,e.numThreads,e.numMessages,e.secondaryFilter,e.filterValue);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("ReQLPaginatedList.shared",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{ascending:a,descending:b}}f.fromIterables=a}),66);
__d("MWPBaseThreadListHooks",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MAWIsIDBOperational","MWThreadListSupportedThreadTypes","MWXacGating","MetaConfig","ReQL","ReQLPaginatedList.shared","ReQLSuspense","gkx","isCommunityContainersEnabled","isMWXacGroupThread","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwIsThreadDisabled","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,g){var j=d("react-compiler-runtime").c(16),k;j[0]!==e?(k=e===void 0?(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):e,j[0]=e,j[1]=k):k=j[1];var l=k;j[2]!==l?(e=(i||(i=d("I64"))).equal(l,(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),j[2]=l,j[3]=e):e=j[3];var m=e;j[4]!==a||j[5]!==m||j[6]!==b?(k=function(){return m?d("ReQL").fromTableDescending(a.tables.threads_ranges_v2__generated).getKeyRange(b):d("ReQL").empty()},e=[a,b,m],j[4]=a,j[5]=m,j[6]=b,j[7]=k,j[8]=e):(k=j[7],e=j[8]);k=d("ReQLSuspense").useFirst(k,e,f.id+":60");var n;j[9]!==a||j[10]!==l||j[11]!==m||j[12]!==b||j[13]!==g?(e=function(){return m?d("ReQL").empty():d("ReQL").fromTableDescending(a.tables.filtered_threads_ranges_v3__generated).getKeyRange(b).filter(function(a){return(i||(i=d("I64"))).equal(a.threadRangeFilter,l)&&(g==null||(i||(i=d("I64"))).equal(a.secondaryThreadRangeFilter,g))})},n=[a,l,b,g,m],j[9]=a,j[10]=l,j[11]=m,j[12]=b,j[13]=g,j[14]=e,j[15]=n):(e=j[14],n=j[15]);j=d("ReQLSuspense").useFirst(e,n,f.id+":67");return m?k:j}function b(a){var b=d("react-compiler-runtime").c(4),e=c("MetaConfig")._("44"),f=a!=null?(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).one)||(e?(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).max_int):!1)?null:a.minLastActivityTimestampMs:null,g=a!=null?(i||(i=d("I64"))).equal(a.maxLastActivityTimestampMs,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(a.maxLastActivityTimestampMs,(i||(i=d("I64"))).one)?null:a.maxLastActivityTimestampMs:null;b[0]!==g||b[1]!==f?(e=function(){var a;return{gte:d("ReQL").key((a=f)!=null?a:(i||(i=d("I64"))).min_int),lte:d("ReQL").key((a=g)!=null?a:(i||(i=d("I64"))).max_int)}},a=[g,f],b[0]=g,b[1]=f,b[2]=e,b[3]=a):(e=b[2],a=b[3]);b=d("Int64Hooks").useMemoInt64(e,a);return b}function e(a){var b=d("react-compiler-runtime").c(11),e=a.customThreadFilter,g=a.db,k=a.parentThreadKey,l=d("MAWIsIDBOperational").useIsIDBOperational();b[0]!==e||b[1]!==g.tables.community_folders||b[2]!==g.tables.threads||b[3]!==l||b[4]!==k?(a=function(){var a,b=(a=d("ReQL")).fromTableDescending(g.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(k),n=a.fromTableDescending(g.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(k);b=a.union(b,n).map(function(a){if(!c("mwCMIsThreadBumped")(a))return{hideFromThreadlist:!1,thread:a};var b=c("gkx")("23433"),e=c("isCommunityContainersEnabled")();if(b&&e){if((i||(i=d("I64"))).equal(a.threadType,(h||(h=d("LSIntEnum"))).ofNumber(18)))return{hideFromThreadlist:!0,thread:a}}else if((i||(i=d("I64"))).equal(a.threadType,(h||(h=d("LSIntEnum"))).ofNumber(17)))return{hideFromThreadlist:!0,thread:a};b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.community_folders,["isHidden","takedownState"]).getKeyRange((i||(i=d("I64"))).equal(a.threadType,(h||(h=d("LSIntEnum"))).ofNumber(17))?a.threadKey:a.parentThreadKey),f.id+":181");e=(b==null?void 0:b.takedownState)!=null?(i||(i=d("I64"))).equal(b.takedownState,(h||(h=d("LSIntEnum"))).ofNumber(1)):!1;b=(b==null?void 0:b.isHidden)===!0;b=b||e;return{hideFromThreadlist:b,thread:a}}).filter(function(a){var b=a.hideFromThreadlist,f=a.thread;if(b)return!1;a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType);return(!a||l)&&(c("mwCMIsAnyCMThread")(f.threadType)?!c("mwIsThreadDisabled")(f.takedownState):!0)&&c("MWThreadListSupportedThreadTypes").findIndex(function(a){return(i||(i=d("I64"))).equal(f.threadType,a)})!==-1&&(h||(h=d("LSIntEnum"))).toNumber(f.authorityLevel)>c("LSAuthorityLevel").CLIENT_PARTIAL&&(d("MWXacGating").isGroupsEnabled()||!c("isMWXacGroupThread")(f))&&(!e||e(f))}).map(j);return d("ReQLPaginatedList.shared").fromIterables(a.empty(),b)},b[0]=e,b[1]=g.tables.community_folders,b[2]=g.tables.threads,b[3]=l,b[4]=k,b[5]=a):a=b[5];var m;b[6]!==e||b[7]!==g||b[8]!==l||b[9]!==k?(m=[g,l,k,e],b[6]=e,b[7]=g,b[8]=l,b[9]=k,b[10]=m):m=b[10];b=d("Int64Hooks").useMemoInt64(a,m);return b}function j(a){a=a.thread;return a}g.useMWPBaseThreadListDefaultThreadsRange=a;g.useMWPBaseThreadListBounds=b;g.useMWPBaseThreadListFilteredData=e}),98);
__d("MWPBaseThreadListUtils",["I64","LSFactory","LSFilteredThreadsRangesQueryStoredProcedure","LSIntEnum","LSThreadRangeFilter","LSThreadsRangesQueryStoredProcedure","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,g,j,k){k===void 0&&(k=!1);var l=(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE));c("promiseDone")(async function(){var m=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(1)));m!=null&&(h||(h=d("I64"))).equal(m.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2))&&await a.runInTransaction(function(a){j==null?void 0:j();if(l)return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(h||(h=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:h.max_int,maxThreadKey:h.max_int,minLastActivityTimestampMs:h.max_int,minThreadKey:h.max_int,parentThreadKey:b,shouldSkipE2eeThreadsRanges:k});else return c("LSFilteredThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{filter:e,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:(h||(h=d("I64"))).max_int,maxThreadKey:h.max_int,minLastActivityTimestampMs:h.max_int,minThreadKey:h.max_int,parentThreadKey:b,secondaryFilter:g})},"readwrite","ui",void 0,f.id+":56")}())}g.loadMoreThreadsForEmptyRangeDefault=a}),98);
__d("ReQLScrollAnchored.react",["BaseScrollableAreaContext","BaseThemeProvider.react","CometPlaceholder.react","CometSSRSuspendOnServer.react","MWXScrollableAreaStyles","intersectionObserverEntryIsIntersecting","react","react-compiler-runtime","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var aa=b.useContext,ba=b.useEffect,ca=b.useImperativeHandle,da=b.useLayoutEffect;b.useMemo;var k=b.useRef,ea=b.useState,fa=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.render=function(){return a.props.children},babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}var c=a.prototype;c.componentDidUpdate=function(a,b,c){b=a.children;this.props.componentDidUpdate(b,c)};c.getSnapshotBeforeUpdate=function(a){a=a.children;return this.props.getSnapshotBeforeUpdate(a)};return a}(j.PureComponent),ga={overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowAnchor:"x1xzczws",overflowX:"x6ikm8r",overflowY:"x1odjw0f",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},ha=typeof ResizeObserver!=="undefined";function ia(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function ja(a,b){return a-b.scrollTop>b.clientHeight*2}var ka=5;function a(a){var b=d("react-compiler-runtime").c(98),e=a.ref,f=a.hasReachedBottom,g=a.hasReachedTop,i=a.setScrollTopInResetForBottomAnchor,l=a.initialAnchor,m=a.initialRenderComplete,n=a.onReachingBottom,o=a.onReachingTop,p=a.onScroll,q=a.onUserScroll,r=a.renderEmptyContent,s=a.renderFooter,t=a.renderHeader,u=a.renderHeaderContentSpacer,v=a.renderLoadingAnimation,w=a.isSufficientContentLoadedAbove,x=a.isSufficientContentLoadedBelow,y=a.headerStyle,z=a.snapThreshold,A=a.xstyle,B=a.shouldOverscrollBehaviourContain,C=a.elements,D=f===void 0?!0:f,E=g===void 0?!0:g,F=i===void 0?!0:i,G=w===void 0?ia:w,H=x===void 0?ja:x,I=z===void 0?5:z;a=aa(c("BaseScrollableAreaContext"));var J=k();b[0]===Symbol.for("react.memo_cache_sentinel")?(f={getDOMNode:function(){return J==null?void 0:J.current}},b[0]=f):f=b[0];b[1]!==a?(g=[].concat(a,[f]),b[1]=a,b[2]=g):g=b[2];i=g;w=i;var la=k(),K=k();x=ea(l);z=x[0];var L=x[1],M=k(l),N=k(null);b[3]!==D||b[4]!==E||b[5]!==G||b[6]!==H||b[7]!==n||b[8]!==o?(f=function(){var a=J.current,b=K.current;if(a==null||b==null||a.offsetParent===null||b.offsetParent===null)return;b=H(b.clientHeight,a);N.current=a.scrollTop;if(!b&&!D&&n!=null){n();return}b=G(a);N.current=a.scrollTop;!b&&!E&&o!=null&&o()},b[3]=D,b[4]=E,b[5]=G,b[6]=H,b[7]=n,b[8]=o,b[9]=f):f=b[9];var O=f;b[10]!==C.length||b[11]!==O?(a=[O,C.length],b[10]=C.length,b[11]=O,b[12]=a):a=b[12];ba(O,a);b[13]!==D||b[14]!==I?(g=function(a){if(a.scrollHeight===a.clientHeight)return;var b=a.scrollHeight-a.clientHeight-a.scrollTop<I&&D?"bottom":"top";L(M.current=b);N.current=a.scrollTop},b[13]=D,b[14]=I,b[15]=g):g=b[15];var P=g;b[16]!==p?(i=function(){var a=J.current,b=N.current;if(b==null||a==null)return;a.scrollTop!==b&&(a.scrollTop=b,p&&p(a))},b[16]=p,b[17]=i):i=b[17];var Q=i;b[18]!==D||b[19]!==E||b[20]!==l||b[21]!==p||b[22]!==F||b[23]!==I?(x=function(){var a=J.current,b=K.current;if(a==null||b==null)return;l==="bottom"?(F&&(a.scrollTop=a.scrollHeight),p&&p(a)):E||(a.scrollTop=b.offsetTop,p&&p(a));D&&a.scrollHeight-a.clientHeight-a.scrollTop<I?L(M.current="bottom"):L(M.current=l);N.current=a.scrollTop},b[18]=D,b[19]=E,b[20]=l,b[21]=p,b[22]=F,b[23]=I,b[24]=x):x=b[24];var R=x,ma=k(!1);b[25]!==R?(f=function(){if(ma.current)return;R();ma.current=!0},a=[R],b[25]=R,b[26]=f,b[27]=a):(f=b[26],a=b[27]);da(f,a);b[28]!==m||b[29]!==p?(g=function(){var a=J.current;if(a==null)return;m&&a.scrollHeight>a.clientHeight&&m();M.current==="bottom"&&(a.scrollTop=a.scrollHeight,p&&p(a));N.current=a.scrollTop},b[28]=m,b[29]=p,b[30]=g):g=b[30];var S=g;b[31]!==O||b[32]!==p||b[33]!==q||b[34]!==P?(i=function(){var a=J.current;if(a==null)return;p&&p(a);if(a.scrollTop===N.current)return;N.current=null;O();P(a);q&&q()},b[31]=O,b[32]=p,b[33]=q,b[34]=P,b[35]=i):i=b[35];var T=i;b[36]!==O||b[37]!==S?(x=function(){S(),O()},b[36]=O,b[37]=S,b[38]=x):x=b[38];var U=x;b[39]!==S?(f=function(){return S()},b[39]=S,b[40]=f):f=b[40];a=f;var V=c("useResizeObserver")(a),W=c("useResizeObserver")(U);b[41]!==V?(g=function(a){V(a),K.current=a},b[41]=V,b[42]=g):g=b[42];var X=g;b[43]!==W?(i=function(a){W(a),J.current=a},b[43]=W,b[44]=i):i=b[44];var Y=i;b[45]!==p?(x=function(a,b){if(b!=null){a=b.element;var c=b.height;b=b.scrollAreaElement;a=a.clientHeight;N.current=b.scrollTop;a!==c&&!(a<=c&&M.current==="bottom")&&(b.scrollTop=b.scrollTop+(a-c),N.current=b.scrollTop,p&&p(b))}},b[45]=p,b[46]=x):x=b[46];var Z=x;b[47]!==D||b[48]!==p?(f=function(){if(J.current!=null){var a=J.current;a.scrollTop=a.scrollHeight;N.current=a.scrollTop;p&&p(a)}L(M.current=D?"bottom":"top")},b[47]=D,b[48]=p,b[49]=f):f=b[49];var $=f;b[50]===Symbol.for("react.memo_cache_sentinel")?(a=function(){if(J.current!=null){var a=J.current,b=a.scrollHeight-a.scrollTop-a.clientHeight<ka;N.current=a.scrollTop;return b}else return!1},b[50]=a):a=b[50];var na=a,oa=k(null);b[51]===Symbol.for("react.memo_cache_sentinel")?(g=function(a,b){var d=oa.current,e=J.current;if(d!=null&&e!=null){var f=new IntersectionObserver(function(a){a=a[0];(a.boundingClientRect.height!==0||a.boundingClientRect.width!==0)&&b(c("intersectionObserverEntryIsIntersecting")(a))},{root:e,rootMargin:a+"px"});f.observe(d);return function(){return f.disconnect()}}},b[51]=g):g=b[51];var pa=g;b[52]===Symbol.for("react.memo_cache_sentinel")?(i=function(){var a=J.current;if(a!=null){var b=a.scrollHeight-a.clientHeight>0;N.current=a.scrollTop;return b}return!1},b[52]=i):i=b[52];var qa=i;b[53]===Symbol.for("react.memo_cache_sentinel")?(x=function(){var a=J.current;if(a==null)return null;var b={clientHeight:a.clientHeight,scrollHeight:a.scrollHeight,scrollTop:a.scrollTop};N.current=a.scrollTop;return b},b[53]=x):x=b[53];var ra=x;b[54]!==R||b[55]!==Q||b[56]!==$?(f=function(){return{doesContentFillScroll:qa,getScrollAreaElement:function(){return J.current},getScrollerMeasurements:ra,isAtBottom:na,onCloseToBottom:pa,resetScrollPosition:R,restoreScrollPosition:Q,scrollToBottom:$}},a=[qa,pa,R,Q,$],b[54]=R,b[55]=Q,b[56]=$,b[57]=f,b[58]=a):(f=b[57],a=b[58]);ca(e,f,a);b[59]!==C[0]||b[60]!==C.length||b[61]!==E?(g=function(a){var b=K.current,c=J.current;if(b!=null&&c!=null&&!(E&&c.scrollTop===0)&&(!a.length||C.length&&a[0].key!==C[0].key&&a.length!==C.length)){a=b.clientHeight;N.current=c.scrollTop;return{element:b,height:a,scrollAreaElement:c}}return null},b[59]=C[0],b[60]=C.length,b[61]=E,b[62]=g):g=b[62];b[63]!==C||b[64]!==Z||b[65]!==g?(i=j.jsx(fa,{componentDidUpdate:Z,getSnapshotBeforeUpdate:g,children:C}),b[63]=C,b[64]=Z,b[65]=g,b[66]=i):i=b[66];x=i;var sa=x;b[67]!==A?(e=(h||(h=c("stylex"))).props(A),b[67]=A,b[68]=e):e=b[68];b[69]!==z?(f={0:{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6"},1:{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6 x1xzczws"}}[!!(z==="bottom")<<0],b[69]=z,b[70]=f):f=b[70];b[71]!==X||b[72]!==C.length||b[73]!==sa||b[74]!==Z||b[75]!==S||b[76]!==T||b[77]!==U||b[78]!==D||b[79]!==E||b[80]!==y||b[81]!==r||b[82]!==s||b[83]!==t||b[84]!==u||b[85]!==v||b[86]!==Y||b[87]!==B?(a=j.jsx(c("BaseThemeProvider.react"),{children:function(a,b){return j.jsxs("div",{className:(h||(h=c("stylex")))(ga.scrollArea,B===!0&&ga.overscrollBehaviorContain,c("MWXScrollableAreaStyles").themed,a),"data-testid":void 0,onScroll:T,ref:Y,style:b,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"ReQLScrollAnchored.ScrollArea",children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!ha&&j.jsx("iframe",babelHelpers.extends({className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x17qophe x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3"},{ref:function(a){a!=null&&(a.contentWindow.onresize=U)}}))})}),j.jsxs(fa,{componentDidUpdate:Z,getSnapshotBeforeUpdate:function(){var a=la.current,b=J.current;if(a!=null&&b!=null){N.current=b.scrollTop;if(N.current!==0){var c=a.clientHeight;return{element:a,height:c,scrollAreaElement:b}}}return null},children:[j.jsx("div",babelHelpers.extends({},h.props(y),{ref:la,children:E?t&&t():v&&v("onTop",C.length)})),r!=null?r():null]}),u!=null&&u(),j.jsx("div",babelHelpers.extends({},{0:{},1:{className:"x1us19tq"}}[!!(C.length!==0&&!E&&!D)<<0],{children:j.jsxs("div",babelHelpers.extends({className:"x1n2onr6"},{ref:X,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"ReQLScrollAnchored.elementsHOC",children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!ha&&j.jsx("iframe",babelHelpers.extends({className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x17qophe x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3"},{ref:function(a){a!=null&&(a.contentWindow.onresize=S)}}))})}),sa,j.jsx("div",babelHelpers.extends({className:"x1ey2m1c xjm9jq1 x1y332i5 x47corl x10l6tqk"},{ref:oa})),D?s&&s():v&&v("onBottom",C.length)]}))}))]})}}),b[71]=X,b[72]=C.length,b[73]=sa,b[74]=Z,b[75]=S,b[76]=T,b[77]=U,b[78]=D,b[79]=E,b[80]=y,b[81]=r,b[82]=s,b[83]=t,b[84]=u,b[85]=v,b[86]=Y,b[87]=B,b[88]=a):a=b[88];b[89]!==f||b[90]!==a?(g=j.jsx("div",babelHelpers.extends({},f,{children:a})),b[89]=f,b[90]=a,b[91]=g):g=b[91];b[92]!==e||b[93]!==g?(i=j.jsx("div",babelHelpers.extends({},e,{children:g})),b[92]=e,b[93]=g,b[94]=i):i=b[94];b[95]!==w||b[96]!==i?(x=j.jsx(c("BaseScrollableAreaContext").Provider,{value:w,children:i}),b[95]=w,b[96]=i,b[97]=x):x=b[97];return x}g.default=a}),98);
__d("useStableValue",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useRef;function a(a){return k(a,(i||(i=d("I64"))).equal)}function k(a,b){var c=j(a);b(c.current,a)||(c.current=a);return c.current}g.useStableI64=a;g.useStableValue=k}),98);
__d("useStableBounds",["deepEquals","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("useStableValue").useStableValue(a,c("deepEquals"))}g["default"]=a}),98);
__d("ReQLPaginatedList.react",["FBLogger","I64","PromiseOrValue","ReQL","ReQLScrollAnchored.react","ReQLSuspense","SortedAsyncIterable","deepEquals","gkx","justknobx","promiseDone","react","useMergeRefs","useStableBounds","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useCallback,m=b.useEffect,aa=b.useLayoutEffect,n=b.useMemo,o=b.useRef,p=b.useState,q=b.useTransition;function r(a,b){return b==null?a:a.bounds(b)}function s(a){if(a instanceof Promise)throw a;return a}function t(a){return{direction:a.direction,iterator:function(b,c){var e=a.iterator(b,c);return{next:function(a){return(i||(i=d("PromiseOrValue"))).map(e.next(a),function(a){return a.done?a:{done:!1,value:[a.value[0],a.value]}})}}},keyLength:a.keyLength,subscribe:function(b,c){return a.subscribe(async function(a,c,d){c.operation==="delete"?await b(a,c,d):c.operation==="add"?await b(a,{operation:"add",value:[a,c.value]},d):c.operation==="put"&&await b(a,{operation:"put",value:[a,c.value]},d)},c)}}}function ba(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function a(a){var b=a.bounds,e=a.direction,g=e===void 0?"asc":e;e=a.hasReachedBottom;var h=e===void 0?!0:e;e=a.hasReachedTop;var i=e===void 0?!0:e;e=a.imperativeRef;var j=a.initialAnchor,da=a.initialRenderComplete,u=a.onPageLoaded,v=a.onReachingBottom,w=a.onReachingTop,ea=a.onScroll,fa=a.onUserScroll,x=a.pageSize,y=x===void 0?15:x;x=a.renderEmptyContent;var z=a.renderFooter,ga=a.renderHeader,ha=a.renderHeaderContentSpacer,A=a.renderItem,ia=a.renderLoadingAnimation,ja=a.headerStyle,B=a.isSufficientContentLoadedAbove;B=B===void 0?ba:B;var ka=a.isSufficientContentLoadedBelow,C=a.snapThreshold;C=C===void 0?5:C;var D=a.setScrollTopInResetForBottomAnchor;D=D===void 0?!0:D;var E=a.data,F=E.ascending,G=E.descending;E=a.xstyle;var H=a.isLogDuplicatedItemEnabled;H=H===void 0?!1:H;a=a.shouldOverscrollBehaviourContain;var I=q();I[0];var J=I[1],K=c("useStableBounds")(b);if(j!=null&&j!=="top"&&j!=="bottom"){I=r(G,K).bounds({lt:j}).iterator(new WeakMap()).next();if(I instanceof Promise)throw I;j=I.done?"top":I.value[0]}var L=d("useStableValue").useStableValue(j,c("deepEquals")),M=n(function(){var a,b;L==="top"||L==null?(a=d("ReQL").empty(),b=g==="asc"?F:G):L==="bottom"?(a=g==="asc"?G:F,b=d("ReQL").empty()):(a=g==="asc"?G.bounds({lt:L}):F.bounds({gt:L}),b=g==="asc"?F.bounds({gte:L}):G.bounds({lte:L}));return{after:b,before:a}},[L,F,G,g]),N=o(!1),O=n(function(){var a=s(d("SortedAsyncIterable").toArray(r(M.before,K).take(L==="bottom"?y:0),f.id+":204")).reverse(),b=s(d("SortedAsyncIterable").toArray(r(M.after,K).take(y),f.id+":211")),c=L==="bottom"?!0:b.length<y,e=L==="top"||L==null?!0:L==="bottom"?a.length<y:!1;return{firstKey:e?void 0:L==="bottom"?(e=a[0])==null?void 0:e[0]:(a=b[0])==null?void 0:a[0],lastKey:c?void 0:(e=b[b.length-1])==null?void 0:e[0]}},[L,K,M.after,M.before,y]);b=p(function(){return{anchor:L,iterables:M,values:O}});I=b[0];var P=b[1];j=I.iterables===M&&I.anchor===L;b=j?I.values:O;var Q=b.firstKey,R=b.lastKey,S=d("ReQLSuspense").useArray(function(){return t(Q==null?r(M.before,K).take(y):r(M.before,K).bounds(g==="asc"?{gte:Q}:{lte:Q}))},[K,g,Q,M.before,y],f.id+":246"),T=n(function(){return[].concat(S).reverse()},[S]);m(function(){T.length===y&&Q==null&&J(function(){return P({anchor:L,iterables:M,values:{firstKey:T[0][0],lastKey:R}})})},[T,Q,L,M,R,y]);var U=d("ReQLSuspense").useArray(function(){return t(R==null?r(M.after,K).take(y):r(M.after,K).bounds(g==="asc"?{lte:R}:{gte:R}))},[K,g,M.after,R,y],f.id+":273");m(function(){U.length===y&&R==null&&J(function(){return P({anchor:L,iterables:M,values:{firstKey:Q,lastKey:U[U.length-1][0]}})})},[U,Q,L,M,R,y]);var V=n(function(){return[].concat(T,U)},[T,U]),W=d("ReQLSuspense").useFirst(function(){return V.length===0?d("ReQL").empty():r(M.before,K).bounds(g==="asc"?{lt:V[0][0]}:{gt:V[0][0]})},[V,K,g,M.before],f.id+":300")==null,X=d("ReQLSuspense").useFirst(function(){return V.length===0?d("ReQL").empty():r(M.after,K).bounds(g==="asc"?{gt:V[V.length-1][0]}:{lt:V[V.length-1][0]})},[V,K,g,M.after],f.id+":310")==null;j=q();var Y=j[0],la=j[1];I=l(function(){if(N.current||Y)return;if(X){if(!h&&v!=null)return v()}else{N.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(r(g==="asc"?F:G,K).bounds(g==="asc"?{gt:V[V.length-1][0]}:{lt:V[V.length-1][0]}).take(y),f.id+":337")),function(a){N.current=!1,u!=null&&u("bottom",V[V.length-1][1],a.map(function(a){return a[1]})),la(function(){var b;return P({anchor:L,iterables:M,values:{firstKey:Q,lastKey:(b=(b=a[a.length-1])==null?void 0:b[0])!=null?b:V[V.length-1][0]}})})});return}},[Y,X,h,v,g,F,G,K,V,y,u,Q,M,L]);b=q();var ma=b[0],na=b[1],oa=o(!0);j=l(function(){if(N.current||ma)return;if(W){if(!i)return w==null?void 0:w();return}N.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(r(g==="asc"?G:F,K).bounds(g==="asc"?{lt:V[0][0]}:{gt:V[0][0]}).take(y),f.id+":409")),function(a){N.current=!1,u!=null&&(oa.current?(oa.current=!1,u("top",null,V.slice(0,y).map(function(a){return a[1]}).reverse())):u("top",V[0][1],a.map(function(a){return a[1]}))),a.reverse(),na(function(){var b;return P({anchor:L,iterables:M,values:{firstKey:(b=(b=a[0])==null?void 0:b[0])!=null?b:V[0][0],lastKey:R}})})})},[ma,W,i,w,g,G,F,K,V,y,u,R,M,L]);var Z=W&&i?0:1,$=V.length-(X&&h?0:1);b=n(function(){var a=new Array($>Z?$-Z:0);for(var b=Z;b<$;b++){var d;a[b-Z]=A(V[b][1],{nextItem:(d=V[b+1])==null?void 0:d[1],previousItem:(d=V[b-1])==null?void 0:d[1]},c("gkx")("7810")?$-Z-b:0)}return a},[V,Z,A,$]);var pa=o(null);e=c("useMergeRefs")(pa,e);aa(function(){var a;(a=pa.current)==null?void 0:a.resetScrollPosition()},[L]);var qa=l(function(){return z==null?void 0:z(V.length>0?V[V.length-1][1]:void 0)},[V,z]);ca(H,V);return k.jsx(c("ReQLScrollAnchored.react"),{elements:b,hasReachedBottom:X&&h,hasReachedTop:W&&i,headerStyle:ja,initialAnchor:L==="bottom"?"bottom":"top",initialRenderComplete:da,isSufficientContentLoadedAbove:B,isSufficientContentLoadedBelow:ka,onReachingBottom:I,onReachingTop:j,onScroll:ea,onUserScroll:fa,pageSize:y,ref:e,renderEmptyContent:x,renderFooter:qa,renderHeader:ga,renderHeaderContentSpacer:ha,renderLoadingAnimation:ia,setScrollTopInResetForBottomAnchor:D,shouldOverscrollBehaviourContain:a,snapThreshold:C,xstyle:E})}a.displayName=a.name+" [from "+f.id+"]";function ca(a,b){var e=p(!1),f=e[0],g=e[1];m(function(){try{if(!c("justknobx")._("1789"))return;if(a&&!f){var e=new Set(),h=[];for(var i of b){var k=i[1];if(typeof k==="object"&&(k==null?void 0:k.threadKey)!=null&&(j||(j=d("I64"))).isI64(k==null?void 0:k.threadKey)){k=(j||(j=d("I64"))).to_string(k==null?void 0:k.threadKey);e.has(k)&&h.push(k);e.add(k)}}e.size!==b.length&&(g(!0),c("FBLogger")("messenger_web").warn("Duplicated thread item detected in ReQLPaginatedList %s",h.join(",")))}}catch(a){c("FBLogger")("messenger_web").warn("Duplicated thread item error",a)}},[b,f,a])}g.default=a}),98);
__d("useMWCMMarkBumpedThreadsSeen",["Int64Hooks","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWCMMarkBumpedThreadsSeen").__setRef("useMWCMMarkBumpedThreadsSeen");function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){return{load:async function(){var b=await h.load();return function(c){return b.MWCMMarkBumpedThreadsSeen(a,c)}}}},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useMemoInt64(c,e)}g.default=a}),98);
__d("useMarkSeenWhenVisible",["CometDebounce","Int64Hooks","ReQL","UserActivity","promiseDone","react","useMWCMMarkBumpedThreadsSeen","useMWPMarkSeen","useMWPWatchFolderFocusChanges","useReStore","useSimpleImpression","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useRef;function a(a){var b=(h||(h=c("useReStore")))(),e=k(!1),g=c("useMWCMMarkBumpedThreadsSeen")(a),i=c("useVisibilityObserver")({onHidden:function(){e.current=!1},onVisible:function(){e.current=!0}}),l=c("useMWPMarkSeen")(a),m=c("CometDebounce")(j(function(){c("promiseDone")(async function(){var a=await Promise.all([l.load(),g.load()]),c=a[0],d=a[1];await b.runInTransaction(async function(a){await c(a),await d(a)},"readwrite",void 0,void 0,f.id+":56")}())},[l,g,b]),{leading:!0,wait:500});c("useMWPWatchFolderFocusChanges")(m,e);c("useSimpleImpression")(m);d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableDescending(b.tables.threads.index("parentThreadKeyLastActivityTimestampMs"),[]).getKeyRange(a).take(1).subscribe(function(){c("UserActivity").isOnTab()&&e.current===!0&&m()})},[b,a,m]);return i}g.default=a}),98);
__d("MWPBaseThreadList.react",["Box.react","FBLogger","I64","Int64Hooks","LSFactory","LSFilteredThreadsRangesQueryStoredProcedure","LSIntEnum","LSThreadRangeFilter","LSThreadsRangesQueryStoredProcedure","MAWMaybeWithTimeout","MWPBaseThreadListHooks","MWPBaseThreadListUtils","MWThreadListFocusableTable.react","ReQL","ReQLPaginatedList.react","ReQLSuspense","react","react-compiler-runtime","useMarkSeenWhenVisible","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;b.useCallback;var m=b.useEffect,n={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},emptyContentContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},o=1e4;function p(a,b,e,g){g===void 0&&(g=!1),void d("MAWMaybeWithTimeout").maybeWithTimeout(a.runInTransaction(async function(a){var f;f=await (f=a.threads_ranges_v2__generated).get.apply(f,b);if(f==null||f.isLoadingBefore)return;e&&e();return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(j||(j=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:f.maxLastActivityTimestampMs,maxThreadKey:f.maxThreadKey,minLastActivityTimestampMs:f.minLastActivityTimestampMs,minThreadKey:f.minThreadKey,parentThreadKey:f.parentThreadKey,shouldSkipE2eeThreadsRanges:g})},"readwrite","ui",void 0,f.id+":91"),o,function(){c("FBLogger")("messenger_web").warn("Paginated threads load took longer than "+o/1e3+" seconds.\n        parent_thread_key: "+(j||(j=d("I64"))).to_string(b[0])+"\n        min_thread_key: "+j.to_string(b[1])+"\n        min_last_activity_timestamp_ms: "+j.to_string(b[2]))})}function q(a,b,e,g,h){g===void 0&&(g=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),void d("MAWMaybeWithTimeout").maybeWithTimeout(a.runInTransaction(async function(a){var d;d=await (d=a.filtered_threads_ranges_v3__generated).get.apply(d,b);if(d==null||d.isLoadingBefore)return;h&&h();return c("LSFilteredThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{filter:e,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:d.maxLastActivityTimestampMs,maxThreadKey:d.maxThreadKey,minLastActivityTimestampMs:d.minLastActivityTimestampMs,minThreadKey:d.minThreadKey,parentThreadKey:d.parentThreadKey,secondaryFilter:g})},"readwrite","ui",void 0,f.id+":150"),o,function(){c("FBLogger")("messenger_web").warn("Filtered paginated threads load took longer than "+o/1e3+" seconds.\n        parent_thread_key: "+(j||(j=d("I64"))).to_string(b[0])+"\n        min_thread_key: "+j.to_string(b[1])+"\n        min_last_activity_timestamp_ms: "+j.to_string(b[2])+"\n        thread_range_filter: "+j.to_string(b[3])+"\n        secondary_thread_range_filter: "+j.to_string(b[5]))})}function r(a,b,e,f,g,h){f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE));h===void 0&&(h=!1);if(b==null)return;if(!b.threadRangeFilter){var i=[b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs];p(a,i,g,h)}else{i=[b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs,b.threadRangeFilter,b.folderName,b.secondaryThreadRangeFilter,b.threadRangeFilterValue];q(a,i,e,f,g)}}function s(a,b,e,g){var h=d("react-compiler-runtime").c(14),i;h[0]!==e?(i=(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),h[0]=e,h[1]=i):i=h[1];var l=i,m;h[2]!==a||h[3]!==l||h[4]!==b?(i=function(){return l?d("ReQL").fromTableDescending(a.tables.threads_ranges_v2__generated).getKeyRange(b):d("ReQL").empty()},m=[a,b,l],h[2]=a,h[3]=l,h[4]=b,h[5]=i,h[6]=m):(i=h[5],m=h[6]);i=d("ReQLSuspense").useFirst(i,m,f.id+":250");var n;h[7]!==a||h[8]!==e||h[9]!==l||h[10]!==b||h[11]!==g?(m=function(){return l?d("ReQL").empty():d("ReQL").fromTableDescending(a.tables.filtered_threads_ranges_v3__generated).getKeyRange(b).filter(function(a){return(j||(j=d("I64"))).equal(a.threadRangeFilter,e)&&(g==null||(j||(j=d("I64"))).equal(a.secondaryThreadRangeFilter,g))})},n=[a,e,b,g,l],h[7]=a,h[8]=e,h[9]=l,h[10]=b,h[11]=g,h[12]=m,h[13]=n):(m=h[12],n=h[13]);h=d("ReQLSuspense").useFirst(m,n,f.id+":257");return l?i:h}function a(a){var b=d("react-compiler-runtime").c(70),e=a.afterContent,g=a.beforeContent,i=a.containerStyle,o=a.customThreadFilter,p=a.emptyContent,q=a.filter,t=a.gridLabel,u=a.imperativeRef,v=a.isSufficientContentLoadedBelow,w=a.loadMoreThreads,x=a.loadMoreThreadsForEmptyRange,y=a.onLoadMoreThreads,z=a.onReachingTop,A=a.onScroll,B=a.onThreadsLoaded,C=a.pageSize,D=a.parentThreadKey,E=a.renderItem,F=a.renderLoadingAnimation,G=a.role,H=a.secondaryFilter,I=a.setIsEmptyInbox;a=a.shouldSkipE2eeThreadsRanges;var J;b[0]!==q?(J=q===void 0?(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):q,b[0]=q,b[1]=J):J=b[1];var K=J,L=w===void 0?r:w,M=x===void 0?d("MWPBaseThreadListUtils").loadMoreThreadsForEmptyRangeDefault:x;q=G===void 0?"grid":G;var N=a===void 0?!1:a,O=(h||(h=c("useReStore")))(),P=s(O,D,K,H);P!=null&&!P.isLoadingBefore&&(B&&B());var Q=d("MWPBaseThreadListHooks").useMWPBaseThreadListBounds(P);b[2]!==o||b[3]!==O||b[4]!==D?(J={customThreadFilter:o,db:O,parentThreadKey:D},b[2]=o,b[3]=O,b[4]=D,b[5]=J):J=b[5];var R=d("MWPBaseThreadListHooks").useMWPBaseThreadListFilteredData(J);b[6]!==Q||b[7]!==R.descending?(w=function(){return R.descending.bounds(Q)},b[6]=Q,b[7]=R.descending,b[8]=w):w=b[8];b[9]!==Q||b[10]!==R?(x=[Q,R],b[9]=Q,b[10]=R,b[11]=x):x=b[11];var S=d("ReQLSuspense").useFirst(w,x,f.id+":344")==null;b[12]!==S||b[13]!==I?(G=function(){I&&I(S)},a=[S,I],b[12]=S,b[13]=I,b[14]=G,b[15]=a):(G=b[14],a=b[15]);m(G,a);b[16]!==O||b[17]!==P||b[18]!==K||b[19]!==M||b[20]!==y||b[21]!==D||b[22]!==H?(B=function(){P==null&&M(O,D,K,H,y)},o=[D,P,O,K,H,y,M],b[16]=O,b[17]=P,b[18]=K,b[19]=M,b[20]=y,b[21]=D,b[22]=H,b[23]=B,b[24]=o):(B=b[23],o=b[24]);d("Int64Hooks").useEffectInt64(B,o);J=c("useMarkSeenWhenVisible")(D);b[25]!==O||b[26]!==P||b[27]!==K||b[28]!==L||b[29]!==y||b[30]!==H||b[31]!==N?(w=function(){L(O,P,K,H,y,N)},b[25]=O,b[26]=P,b[27]=K,b[28]=L,b[29]=y,b[30]=H,b[31]=N,b[32]=w):w=b[32];x=w;b[33]!==E?(G=function(a){return l.jsx(l.Fragment,{children:E(a)},(j||(j=d("I64"))).to_string(a.threadKey))},b[33]=E,b[34]=G):G=b[34];a=G;if(P==null){b[35]!==F?(B=F!=null?F("nullState",0):null,b[35]=F,b[36]=B):B=b[36];o=B}else{w=!P.hasMoreBefore;G=!P.hasMoreAfter;b[37]!==P.isLoadingAfter||b[38]!==P.isLoadingBefore||b[39]!==p||b[40]!==S?(B=function(){return S&&!P.isLoadingAfter&&!P.isLoadingBefore?l.jsx(c("Box.react"),{xstyle:n.emptyContentContainer,children:p}):null},b[37]=P.isLoadingAfter,b[38]=P.isLoadingBefore,b[39]=p,b[40]=S,b[41]=B):B=b[41];var T;b[42]!==e?(T=function(){return e},b[42]=e,b[43]=T):T=b[43];var U;b[44]!==g?(U=function(){return g},b[44]=g,b[45]=U):U=b[45];var V;b[46]!==Q||b[47]!==R||b[48]!==u||b[49]!==v||b[50]!==x||b[51]!==z||b[52]!==A||b[53]!==C||b[54]!==a||b[55]!==F||b[56]!==w||b[57]!==G||b[58]!==B||b[59]!==T||b[60]!==U?(V=l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:l.jsx(c("ReQLPaginatedList.react"),{bounds:Q,data:R,direction:"desc",hasReachedBottom:w,hasReachedTop:G,imperativeRef:u,isLogDuplicatedItemEnabled:!0,isSufficientContentLoadedBelow:v,onReachingBottom:x,onReachingTop:z,onScroll:A,pageSize:C,renderEmptyContent:B,renderFooter:T,renderHeader:U,renderItem:a,renderLoadingAnimation:F,shouldOverscrollBehaviourContain:!0,xstyle:n.list})}),b[46]=Q,b[47]=R,b[48]=u,b[49]=v,b[50]=x,b[51]=z,b[52]=A,b[53]=C,b[54]=a,b[55]=F,b[56]=w,b[57]=G,b[58]=B,b[59]=T,b[60]=U,b[61]=V):V=b[61];o=V}b[62]!==i?(u=[n.container,i],b[62]=i,b[63]=u):u=b[63];b[64]!==o||b[65]!==t||b[66]!==q||b[67]!==u||b[68]!==J?(v=l.jsx(c("Box.react"),{"aria-label":t,"data-testid":void 0,ref:J,role:q,xstyle:u,children:o}),b[64]=o,b[65]=t,b[66]=q,b[67]=u,b[68]=J,b[69]=v):v=b[69];return v}g.default=a}),98);
__d("MWPParentThreadKeyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MWThreadListCommunityContainer.react",["CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSIntEnum","LSRtcCallState","LSThreadTitle.react","MAWVault","MWCMGetValidId","MWCMThreadTypes.react","MWInboxCommunityThreadsRouteBuilder","MWPIsThreadUnread","MWThreadListConsts","MWThreadListFocusableTable.react","MWThreadListItemAddOnEnd.react","MWThreadListItemMoreActions.react","MWThreadListLastMessage.react","MWThreadSnippetForDisplay.react","MWVerticalRhythm","MWXListCellPressable.react","MWXProfilePhoto.react","MWXText.react","MessengerClientEventLogger","ReQL","ReQLSuspense","emptyFunction","getLSMediaThreadPictureUrl","gkx","mwCMisStandAloneCommunity","mwIsThreadDisabled","qpl","react","react-strict-dom","requireDeferred","useMatchViewport","useMenuButtonVisibilityState","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;var m=b.useCallback,n=b.useMemo,o=c("requireDeferred")("QuickPerformanceLogger").__setRef("MWThreadListCommunityContainer.react"),p={listItemContainer:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},listItemContainerForMessengerDotCom:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,$$css:!0}},q=c("qpl")._(269227335,"359");function a(a){var b,e=a.containerThread,g=a.folder,i=a.messagingEntrypoint,r=a.responsive,s=a.selected,t=d("MWPIsThreadUnread").isThreadUnread(e);a=c("useSinglePartialViewImpression")({onImpressionStart:function(){d("MessengerClientEventLogger").log({business_account_user:null,event_type:"one_px_impression",is_smc:c("mwCMisStandAloneCommunity")(g.communityType),marketplace_user:null,multiple_account_user:null,surface:{entry_point:"community_container",major_surface:"inbox_tab",minor_surface:"inbox_communities"},target:{badging:{count:t?"1":"0"},button:{type:null},community:{id:(j||(j=d("I64"))).to_string(g.folderId)},group:{id:j.to_string(g.fbGroupId)},ranking:null}})}});var u=(b=c("getLSMediaThreadPictureUrl")(e))!=null?b:"",v=n(function(){return l.jsx("div",babelHelpers["extends"]({className:"x1h0ha7o xg83lxy"},{children:l.jsx(c("MWXProfilePhoto.react"),{shape:"roundedRectLarge",size:48,source:{uri:u}})}))},[u]),w=n(function(){return l.jsx(c("LSThreadTitle.react"),{thread:e})},[e]),x=d("MAWVault").unvault((b=e.snippet)!=null?b:""),y=d("Int64Hooks").useMemoInt64(function(){return l.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!(j||(j=d("I64"))).equal(e.ongoingCallState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)),isUnread:t,lastMessageCtaType:e.lastMessageCtaType,lastMessageTimestamp:j.to_float(e.lastActivityTimestampMs),showDisappearingMessageVisualIndicator:!1,showSnippetText:!0,showTimestamp:!0,snippet:l.jsx(c("MWThreadSnippetForDisplay.react"),{snippetRaw:x,thread:e}),thread:e})},[t,x,e]),z=n(function(){var a=(j||(j=d("I64"))).to_float(g.notificationMutedUntil);return a===-1||a===0?a:a+Date.now()},[g.notificationMutedUntil]),A=d("Int64Hooks").useMemoInt64(function(){return l.jsx(c("MWThreadListItemAddOnEnd.react"),{communityId:g.folderId,fbGroupId:g.fbGroupId,isMaximized:!1,messagingEntrypoint:"inbox",mutedUntilMs:z,parentSurface:"channel_list",showGroupsJoinChatDialog:c("emptyFunction"),threadKey:e.threadKey})},[g.fbGroupId,g.folderId,e.threadKey,z]),B=c("useMenuButtonVisibilityState")(!0),C=B[1].setListItemHovered;b=m(function(){return C(!1)},[C]);var D=m(function(){return C(!0)},[C]),E=c("mwIsThreadDisabled")(void 0,g.takedownState);r=c("gkx")("24056")?!1:r;r=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay)||!r;var F=E?!1:r;E=d("Int64Hooks").useMemoInt64(function(){return F?l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListCommunityContainer",children:l.jsx(c("MWThreadListItemMoreActions.react"),{communityType:g.communityType,fbGroupId:g.fbGroupId,folderId:g.folderId,isContainerUnread:t,menuButtonVisibilityState:B,messagingEntrypoint:i,onClose:c("emptyFunction"),selected:s,thread:{threadKey:e.threadKey,threadName:e.threadName,threadType:e.threadType}})}):null},[g.communityType,g.fbGroupId,g.folderId,t,B,i,s,F,e.threadName,e.threadKey,e.threadType]);var G=d("MWInboxCommunityThreadsRouteBuilder").buildURLWithoutThread({folder_id:(j||(j=d("I64"))).to_string(e.threadKey)}),H=(h||(h=c("useReStore")))();r=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(H.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(g.folderId)},[H,g.folderId],f.id+":274").filter(function(a){return!(j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17))&&d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType)});var I=r.filter(function(a){return d("MWPIsThreadUnread").isThreadUnread(a)}),J=I.length,K=r.filter(function(a){return!d("MWPIsThreadUnread").isThreadUnread(a)}).sort(function(a,b){return((a=a==null?void 0:a.threadName)!=null?a:"").localeCompare((a=b==null?void 0:b.threadName)!=null?a:"")}),L=K.length,M=d("MWCMGetValidId").MWCMHasValidFbGroupId(g==null?void 0:g.fbGroupId)?(j||(j=d("I64"))).to_string(g.fbGroupId):null,N=d("Int64Hooks").useCallbackInt64(function(){var a=function(a){return function(){return d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_community_container:"true",read_count:L.toString(),unread_count:J.toString()},community_id:(j||(j=d("I64"))).to_string(g.folderId),entry_point:"cm:community_container",event:"thread_open",group_id:M,source:"messenger_inbox",surface:"messenger_inbox",thread_id:a})}};if(J===1){var b=I[0]&&(j||(j=d("I64"))).to_string(I[0].threadKey);return[d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:(j||(j=d("I64"))).to_string(g.folderId),thread_key:b}),a(b)]}if(L>0){b=K[0]&&(j||(j=d("I64"))).to_string(K[0].threadKey);return[d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:(j||(j=d("I64"))).to_string(g.folderId),thread_key:b}),a(b)]}return[G,void 0]},[J,L,G,g.folderId,M,I,K]);r=d("Int64Hooks").useMemoInt64(function(){var a=N(),b=a[0],e=a[1];return l.jsx(c("MWXListCellPressable.react"),{addOnEnd:A,addOnStart:v,content:l.jsxs("div",{children:[l.jsx(c("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:"headline4",children:w}),l.jsx(c("MWVerticalRhythm"),{height:8}),y]}),linkProps:{passthroughProps:{isOpenedFromCommunityContainer:!0},preventLocalNavigation:!1,url:b},onPress:function(a){var b=(a=a.nativeEvent)==null?void 0:a.timeStamp;o.onReady(function(a){a.markerStart(q,(j||(j=d("I64"))).to_int32(g.folderId),b),a.markerAnnotate(q,{bool:{is_container:!0}},{instanceKey:j.to_int32(g.folderId)})});e==null?void 0:e();d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_community_container:"true",open_thread:e==null?"false":"true",read_count:L.toString(),unread_count:J.toString()},community_id:(j||(j=d("I64"))).to_string(g.folderId),entry_point:"cm:community_container",event:"community_container_open",group_id:M,source:"messenger_inbox",surface:"messenger_inbox"});d("MessengerClientEventLogger").log({business_account_user:null,event_type:"single_click",is_smc:c("mwCMisStandAloneCommunity")(g.communityType),marketplace_user:null,multiple_account_user:null,surface:{entry_point:"community_container",major_surface:"inbox_tab",minor_surface:"inbox_communities"},target:{badging:{count:t?"1":"0"},button:{type:null},community:{id:j.to_string(g.folderId)},group:{id:j.to_string(g.fbGroupId)},ranking:null}})},selected:s})},[N,A,v,w,y,s,L,J,g.folderId,g.communityType,g.fbGroupId,M,t]);return l.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,onMouseEnter:D,onMouseLeave:b,ref:a,role:"row",style:[p.listItemContainer,c("gkx")("23219")?p.listItemContainerForMessengerDotCom:!1],children:l.jsxs(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:l.jsx(d("react-strict-dom").html.div,{role:"gridcell",children:r})}),E]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListFolderItem.react",["BaseView.react","CometTextWithEntities.react","I64","MAWVault","MWAddOnCircleContainer.react","MWCMThreadTypes.react","MWChatTextTransform","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWThreadListLastMessage.react","MWXListCellPressable.react","MWXTextPairing.react","react","react-compiler-runtime","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(28),e=a.icon,f=a.onClick,g=a.responsive,h=a.selected,k=a.size,l=a.thread;a=a.threadName;g=c("useMatchMedia")("(min-width: 900px)")||!g;var m;b[0]!==l.snippet?(m=l.snippet!=null?d("MAWVault").unvault(l.snippet):null,b[0]=l.snippet,b[1]=m):m=b[1];m=m;m=m;var n;b[2]!==l.lastActivityTimestampMs?(n=(i||(i=d("I64"))).to_float(l.lastActivityTimestampMs),b[2]=l.lastActivityTimestampMs,b[3]=n):n=b[3];n=n;var o=d("MWPIsThreadUnread").useIsThreadUnread(l.threadKey),p;b[4]!==e||b[5]!==k?(p=j.jsx(c("MWAddOnCircleContainer.react"),{size:k,children:e}),b[4]=e,b[5]=k,b[6]=p):p=b[6];e=p;k=e;e=(p=a)!=null?p:l.threadName;a=e;b[7]!==f?(p=function(){return f()},b[7]=f,b[8]=p):p=b[8];e=p;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"xurb0ha x1sxyh0"},b[9]=p):p=b[9];var q;b[10]!==g||b[11]!==o||b[12]!==n||b[13]!==m||b[14]!==l.threadType?(q=g?j.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!1,isUnread:o,lastMessageCtaType:null,lastMessageTimestamp:n,showTimestamp:!d("MWCMThreadTypes.react").isUnjoinedCMThread(l.threadType),snippet:m}):null,b[10]=g,b[11]=o,b[12]=n,b[13]=m,b[14]=l.threadType,b[15]=q):q=b[15];b[16]!==a||b[17]!==g?(n=g?j.jsx(c("CometTextWithEntities.react"),{text:a.toString(),transforms:d("MWChatTextTransform").textTransforms}):null,b[16]=a,b[17]=g,b[18]=n):n=b[18];m=!o;b[19]!==n||b[20]!==m||b[21]!==q?(l=j.jsx(c("MWXTextPairing.react"),{body:q,bodyLineLimit:1,headline:n,headlineLineLimit:1,level:4,reduceEmphasis:m}),b[19]=n,b[20]=m,b[21]=q,b[22]=l):l=b[22];b[23]!==k||b[24]!==e||b[25]!==h||b[26]!==l?(a=j.jsx(c("BaseView.react"),{testid:void 0,children:j.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:j.jsx("div",{role:"row",children:j.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:j.jsx("div",babelHelpers["extends"]({},p,{role:"gridcell",children:j.jsx(c("MWXListCellPressable.react"),{addOnStart:k,content:l,onPress:e,selected:h,size:"large"})}))})})})}),b[23]=k,b[24]=e,b[25]=h,b[26]=l,b[27]=a):a=b[27];return a}g["default"]=a}),98);
__d("MWThreadListJobsItem.react",["fbt","ix","LSIntEnum","MWThreadListFolderItem.react","MWXIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.onClick,f=a.responsive,g=a.selected,j=a.size;a=a.thread;var m;b[0]!==e?(m=function(){return e((k||(k=d("LSIntEnum"))).ofNumber(-13))},b[0]=e,b[1]=m):m=b[1];m=m;var n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("512668"),32),size:48}),b[2]=n):n=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o=(k||(k=d("LSIntEnum"))).ofNumber(-13),b[3]=o):o=b[3];var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Jobs").toString(),b[4]=p):p=b[4];b[5]!==m||b[6]!==f||b[7]!==g||b[8]!==j||b[9]!==a?(n=l.jsx(c("MWThreadListFolderItem.react"),{icon:n,onClick:m,responsive:f,selected:g,size:j,systemFolder:o,thread:a,threadName:p}),b[5]=m,b[6]=f,b[7]=g,b[8]=j,b[9]=a,b[10]=n):n=b[10];return n}g["default"]=a}),226);
__d("useVirtualizationContainerContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;var i=b.useRef;function a(){var a=d("react-compiler-runtime").c(2),b=i(null),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(a){b.current=a},a[0]=c):c=a[0];c=c;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(c={rootElementRef:b,updateRootElementRef:c},a[1]=c):c=a[1];a=c;c=a;return c}g["default"]=a}),98);
__d("MWThreadList.react",["CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","CometPageletWithDiv.react","CometRouterFocusRegion.react","CometVisualCompletion","CurrentEnvironment","FBLogger","FocusRegion.react","FocusRegionType","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSThreadBitOffset","MWCMGetValidId","MWCreatorMessagingUtils","MWJewelPopoverThreadlistContext.react","MWLSJewelMessageRequestsThreadContainer.react","MWPBaseThreadList.react","MWPBumpEntityKey","MWPParentThreadKeyContext","MWPThreadIsPage.react","MWPThreadsForThreadList","MWResponsiveLayoutConstants","MWResponsiveLayoutContext.react","MWThreadKey.react","MWThreadListCommunityContainer.react","MWThreadListEmptyContainer.react","MWThreadListGlimmer.react","MWThreadListItem.react","MWThreadListJobsItem.react","MWThreadListSupportedThreadTypes","MWXacGating","MessagingFolderTag","MessengerWebUXLogger","QPLUserFlow","ReQL","ReQLSuspense","VirtualizationContainerContext","cr:21161","cr:21162","cr:2261","cr:6055","emptyFunction","focusScopeQueries","gkx","isCommunityContainersEnabled","isMWXacGroupThread","justknobx","mwCMIsThreadBumped","qpl","react","react-compiler-runtime","useCommunityFolder","useEmptyFunction","useGroupsCometIsInCCNegativeTest","useMWGetInboxFocusTargetFromRoute","useMWResponsiveLogExtraData","useReStore","useVirtualizationContainerContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useContext,p=m.useId,q=m.useRef,r=(m=(m=b("cr:21162"))==null?void 0:m.useFilterPinnedThreads)!=null?m:c("useEmptyFunction"),s=b("cr:6055")||c("useEmptyFunction");function t(a){return(j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(15))&&(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(j||(j=d("I64"))).equal(a.lastReadWatermarkTimestampMs,(j||(j=d("I64"))).of_int32(-1))&&(j||(j=d("I64"))).equal(a.lastActivityTimestampMs,(j||(j=d("I64"))).of_int32(-1))}var u=5;function a(a){var e=a.lsEntryPoint,f=a.lsSubEntryPoint,g=a.messagingEntrypoint,h=a.onClickNestedFolderThread,i=a.onClose,m=a.responsive,n=a.selected,p=a.thread,r=o(c("MWJewelPopoverThreadlistContext.react")),s=c("useCommunityFolder")({parentThreadKey:(j||(j=d("I64"))).equal(p.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17))?p.threadKey:p.parentThreadKey});a=o(c("MWResponsiveLayoutContext.react"));var u=a.pushCard,v=p.threadKey;d("Int64Hooks").useEffectInt64(function(){if(b("cr:2261")==null)return;r==null?void 0:r.add(v);return function(){r==null?void 0:r["delete"](v)}},[r,v]);var w=q({loggingTimeout:null,threadKey:(j||(j=d("I64"))).of_int32(-1)}),x=q(j.of_int32(-1)),y=o(c("MWPParentThreadKeyContext"));d("Int64Hooks").useEffectInt64(function(){if(!c("justknobx")._("2234"))return;if(y!=null){var a=(j||(j=d("I64"))).to_string(p.parentThreadKey),b=j.to_string(y);!(j||(j=d("I64"))).equal(x.current,v)&&p.folderName!==c("MessagingFolderTag").COMMUNITY&&a!==b&&c("FBLogger")("messenger_threadlist_folder_inconsistency").mustfix("Render thread item expected folder %s but receive %s",b,a)}t(p)?(j||(j=d("I64"))).equal(w.current.threadKey,v)||(w.current.threadKey=v,w.current.loggingTimeout=window.setTimeout(function(){c("FBLogger")("messenger_web").mustfix("Thread ID %s showing up as ghost",(j||(j=d("I64"))).to_string(v)),w.current.loggingTimeout=null},5e3)):(j||(j=d("I64"))).equal(w.current.threadKey,v)&&w.current.loggingTimeout!=null&&window.clearTimeout(w.current.loggingTimeout)},[y,p,v]);a=d("Int64Hooks").useCallbackInt64(function(){d("MWCreatorMessagingUtils").isAPPlusMessageRequest(p)&&c("QPLUserFlow").start(c("qpl")._(421070823,"2981"),{annotations:{string:{entrypoint:d("MWCreatorMessagingUtils").fetchQPLEntrypoint(p)}},instanceKey:(j||(j=d("I64"))).to_int32(p.threadKey)}),c("mwCMIsThreadBumped")({secondaryParentThreadKey:p.secondaryParentThreadKey,threadType:p.threadType})&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_bumped:"true"},community_id:s?(j||(j=d("I64"))).to_string(s.folderId):(j||(j=d("I64"))).to_string(p.parentThreadKey),event:"thread_open",group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(s==null?void 0:s.fbGroupId)?(j||(j=d("I64"))).to_string(s.fbGroupId):null,source:"chat_row",surface:e==="jewel"?"jewel_tray":"messenger_inbox",thread_id:(j||(j=d("I64"))).to_string(v)}),c("gkx")("24056")&&n&&u(d("MWResponsiveLayoutConstants").MWLayoutPanel.MESSAGE_LIST_PANEL)},[p.secondaryParentThreadKey,p.threadType,p.parentThreadKey,s,e,v,n,u]);if((j||(j=d("I64"))).equal(p.threadType,(k||(k=d("LSIntEnum"))).ofNumber(6))){if((j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(-13)))return l.jsx(c("MWThreadListJobsItem.react"),{onClick:h,responsive:m,selected:n,size:56,thread:p});else if(b("cr:2261")!=null&&(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(-12)))return l.jsx(b("cr:2261"),{onClick:h,responsive:m,selected:n,size:56,thread:p});return null}h=c("isCommunityContainersEnabled")();h=d("CurrentEnvironment").messengerdotcom&&h&&c("mwCMIsThreadBumped")({secondaryParentThreadKey:p.secondaryParentThreadKey,threadType:p.threadType});return l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:l.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWThreadListItem"}),name:"MWThreadListThreadListRow",children:l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:p.threadKey,children:l.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:p.threadKey,children:s!=null&&h?l.jsx(c("MWThreadListCommunityContainer.react"),{containerThread:p,folder:s,messagingEntrypoint:g,responsive:m,selected:n}):l.jsx(c("MWThreadListItem.react"),{lsEntryPoint:e,lsSubEntryPoint:f,messagingEntrypoint:g,onClose:i,onThreadSelected:a,responsive:m,selected:n,size:56,thread:p})})})})}a.displayName=a.name+" [from "+f.id+"]";var v=l.memo(a);function e(a){var e=a.gridLabel,g=a.filter,i=a.customThreadFilter,m=a.header,o=a.lsEntryPoint,q=a.onOpenMessageRequests,t=a.lsSubEntryPoint,x=a.parentThreadKey,y=a.responsive,z=a.selectedThreadKey,A=a.setHasScrolled,B=a.setIsEmptyInbox,C=a.threadListMessagingEntrypoint,D=a.onClose,E=D===void 0?c("emptyFunction"):D;D=a.onClickNestedFolderThread;var F=D===void 0?c("emptyFunction"):D;D=a.preamble;var G=(h||(h=c("useReStore")))(),H=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(G.tables.threads_ranges_v2__generated).getKeyRange(x)},[G,x],f.id+":387"),I=d("ReQLSuspense").useArray(function(){return d("MWPThreadsForThreadList").createIterable(G,x,H,["lastActivityTimestampMs","threadType"].concat(d("LSThreadBitOffset").threadCapabilityFields)).filter(function(a){if(!c("MWThreadListSupportedThreadTypes").some(function(b){return(j||(j=d("I64"))).equal(a.threadType,b)}))return!1;return d("MWXacGating").isGroupsEnabled()?!0:!c("isMWXacGroupThread")(a)}).take(5)},[G,x,H],f.id+":399").pop();a=p();var J=d("ReQLSuspense").useFirst(function(){return z!=null?d("ReQL").fromTableAscending(G.tables.threads,["parentThreadKey"]).getKeyRange(z):d("ReQL").empty()},[G,z],f.id+":425");s(a);var K=d("useGroupsCometIsInCCNegativeTest").useShouldDisableBumpToInboxForNegativeTest(),L=n(function(a){var b;if(a==null)return l.jsx("div",{});if(d("CurrentEnvironment").facebookdotcom&&c("mwCMIsThreadBumped")({secondaryParentThreadKey:a.secondaryParentThreadKey,threadType:a.threadType})&&K)return l.jsx("div",{});var e;(j||(j=d("I64"))).equal(a.threadKey,(k||(k=d("LSIntEnum"))).ofNumber(-13))||(j||(j=d("I64"))).equal(a.threadKey,(k||(k=d("LSIntEnum"))).ofNumber(-12))?e=J!=null&&(j||(j=d("I64"))).equal(a.threadKey,J.parentThreadKey):e=z!=null&&(j||(j=d("I64"))).equal(z,a.threadKey);return a!=null?l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_list",disableHiding:!0,children:l.jsx(v,{lsEntryPoint:o==="inboxThreadList"?I!=null&&(j||(j=d("I64"))).le(a.lastActivityTimestampMs,I.lastActivityTimestampMs)?"inboxRecentThreads":"inboxRemainingThreads":o,lsSubEntryPoint:t,messagingEntrypoint:(b=C)!=null?b:"jewel",onClickNestedFolderThread:F,onClose:E,responsive:y,selected:e,thread:a})}):l.jsx("div",{})},[o,I,C,F,E,y,J,z,K]),M=n(function(a){A&&A(function(b){return a.scrollTop>0})},[A]),N=c("useMWResponsiveLogExtraData")();N=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"threadlist_impression",extraData:N});var O=c("useVirtualizationContainerContext")(),P=n(function(a){O.rootElementRef.current=a==null?void 0:a.getScrollAreaElement()},[O.rootElementRef]),Q=r(),R=n(function(a){return(Q!=null?Q(a):!0)&&(i!=null?i(a):!0)},[Q,i]),S=c("useMWGetInboxFocusTargetFromRoute")();S=S===1;q=l.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xmz0i5r x6ikm8r x10wlt62",fallback:null,name:"MWThreadList",children:l.jsx(c("MWPParentThreadKeyContext").Provider,{value:x,children:l.jsx(c("VirtualizationContainerContext").Provider,{value:O,children:l.jsx(c("MWPBaseThreadList.react"),{beforeContent:l.jsxs(l.Fragment,{children:[l.jsx(c("MWLSJewelMessageRequestsThreadContainer.react"),{onOpenMessageRequests:q}),D,b("cr:21161")&&l.jsx(b("cr:21161"),{customThreadFilter:i,parentThreadKey:x,renderItem:L})]}),customThreadFilter:R,emptyContent:l.jsx(c("MWThreadListEmptyContainer.react"),{filter:g,parentThreadKey:x}),filter:g,gridLabel:e,imperativeRef:P,onLoadMoreThreads:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.threadlist","load_more_threads"),c("CometVisualCompletion").addFirstMarkerPoint("threadListLoadMoreThreads")},onScroll:M,pageSize:15,parentThreadKey:x,renderItem:L,renderLoadingAnimation:function(a,b){b=a==="onBottom"&&b>u;return l.jsxs("div",{children:[l.jsx(c("MWThreadListGlimmer.react"),{numberOfItems:2,parentComponentForDebug:"MWThreadListLoadingAnimation",vcIgnore:b}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"ThreadListLoadingMoreItems."+a,hold:!b})]})},setIsEmptyInbox:B})})})});return l.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},{id:a,ref:N,children:[m!=null?l.jsx(d("FocusRegion.react").FocusRegion,{children:m}):null,l.jsx(w,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,enabled:S,children:l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:S?d("focusScopeQueries").tabbableScopeQuery:void 0,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,recoverFocusStrategy:d("FocusRegionType").RecoverFocusStrategy.Nearest,children:q})})]}))}e.displayName=e.name+" [from "+f.id+"]";function w(a){var b=d("react-compiler-runtime").c(3),e=a.autoFocusQuery,f=a.children;a=a.enabled;if(!a)return f;b[0]!==e||b[1]!==f?(a=l.jsx(c("CometRouterFocusRegion.react"),{autoFocusQuery:e,children:f}),b[0]=e,b[1]=f,b[2]=a):a=b[2];return a}g["default"]=e}),98);
__d("MWJewelNestedFolderThreadList.react",["CometScrollView.react","CometTopNavListDropdownCard.react","MWJewelNestedFolderThreadListHeader.react","MWThreadList.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.folder,f=a.onClose,g=a.onReturn;a=a.title;var h;b[0]!==g||b[1]!==a?(h=i.jsx(c("MWJewelNestedFolderThreadListHeader.react"),{onReturn:g,title:a}),b[0]=g,b[1]=a,b[2]=h):h=b[2];b[3]!==a?(g=typeof a==="string"?a:a.toString(),b[3]=a,b[4]=g):g=b[4];b[5]!==e||b[6]!==f||b[7]!==g?(a=i.jsx(c("MWThreadList.react"),{gridLabel:g,lsEntryPoint:"jewelNestedFolder",onClose:f,parentThreadKey:e,responsive:!1}),b[5]=e,b[6]=f,b[7]=g,b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("div",{className:"x1qx5ct2"}),b[9]=e):e=b[9];b[10]!==h||b[11]!==a?(f=i.jsx(c("CometTopNavListDropdownCard.react"),{useMaxHeight:!0,children:i.jsxs(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h,a,e]})}),b[10]=h,b[11]=a,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("MWSearchLoggingTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Jewel:"jewel",Inbox:"inbox"});f.SearchSurface=a}),66);
__d("UniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("843");b=d("FalcoLoggerInternal").create("universal_search_query_changed",a);e=b;g["default"]=e}),98);
__d("UniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("840");b=d("FalcoLoggerInternal").create("universal_search_start",a);e=b;g["default"]=e}),98);
__d("MWJewelLightspeedSearchTypeaheadViewList.react",["CometScrollView.react","MWChatSearchLightspeedTypeaheadViewList.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={scroll:{maxHeight:"x1wxkln1",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e,f;b[0]!==a?(f=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==f?(a=[j.scroll,f],b[3]=f,b[4]=a):a=b[4];b[5]!==e?(f=i.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),babelHelpers["extends"]({showActionItems:!1},e)),b[5]=e,b[6]=f):f=b[6];b[7]!==a||b[8]!==f?(e=i.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:a,children:f}),b[7]=a,b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("MWJewelSearchEmptyState.react",["fbt","MWXText.react","react","react-compiler-runtime","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.queryString;var e=c("useCometTypeaheadEmptyState")(),f;b[0]!==e||b[1]!==a?(f=e?j.jsxs("div",babelHelpers["extends"]({className:"xz9dl7a xn6708d xsag5q8 x1ye3gou"},{children:[j.jsx(c("MWXText.react"),{align:"center",type:"body2",children:h._(/*BTDS*/"Nothing found")}),j.jsx("br",{}),j.jsx(c("MWXText.react"),{align:"center",color:"tertiary",type:"body3",children:h._(/*BTDS*/"We couldn't find any matches for \"{query}\". Try checking for typos or using complete words.",[h._param("query",a)])})]})):null,b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),226);
__d("createMWJewelSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWJewelLightspeedSearchTypeaheadViewList.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return function(d){var e=d.ariaProps,f=d.entries;d.extraViewProps;var g=d.highlightedEntry,h=d.isLoading;d.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(d,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]);d=f.length===0&&j.queryString.length>0;var k=f.length>0&&h;h=f.length===0&&h&&j.queryString.length===0&&c("qex")._("4321")===!0;return h?i.jsx(c("CometTypeaheadProgressGlimmer.react"),{}):d?i.jsx(c("MWJewelSearchEmptyState.react"),{queryString:j.queryString}):i.jsxs(i.Fragment,{children:[i.jsx(c("MWJewelLightspeedSearchTypeaheadViewList.react"),{ariaProps:e,entries:f,highlightedEntry:g,xstyle:a,children:function(a){var d=a.entry,e=a.isActive;a=a.itemRole;return i.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:d,extraViewItemProps:{loggingSessionId:b},isActive:e,key:d.key,role:a}))}}),k&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})}}g["default"]=a}),98);
__d("MWJewelSearchSubscriptionTypeahead.react",["fbt","BaseSubscriptionTypeahead.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","MWChatSearchResultType","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWFacebookUserWithoutMessengerAccess","MWInboxRouteBuilder","MWLSSearchIssueSearchQuerySupportedTypes","MWLSThreadDisplayContext","MWPSearchSystem","MWSearchLogging","MWSearchLoggingTypes","UniversalSearchEndFalcoEvent","UniversalSearchQueryChangedFalcoEvent","UniversalSearchStartFalcoEvent","cr:2012305","cr:20302","createMWJewelSearchTypeaheadViewStrategy.react","gkx","isArmadillo","promiseDone","qex","react","useCometRouterDispatcher","useReStore","uuidv4","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useEffect,n=e.useMemo,o=e.useRef,p=e.useState,q={searchInput:{marginTop:"x1xmf6yo",marginEnd:"x11i5rnm",marginBottom:"x1e56ztr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",$$css:!0},searchView:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x1gnnqk1",display:"x78zum5",minHeight:"xphu8jj",$$css:!0}},r=function(a){return c("createMWJewelSearchTypeaheadViewStrategy.react")(null,a)},s=c("gkx")("24086"),t=c("gkx")("23390");function a(a){var e=a.onChange,f=a.onFocus,g=a.onPressEntry,j=a.onSelectFreeformQuery,u=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","onFocus","onPressEntry","onSelectFreeformQuery"]);a=p(null);var v=a[0],w=a[1],x=o(null),y=(i||(i=c("useReStore")))(),z=o(!1);m(function(){var a=x.current;b("cr:2012305")!==null&&a!=null&&b("cr:2012305").trackTypingPerf(a,"MWJewelSearchTypeahead");return function(){b("cr:2012305")!==null&&a!=null&&b("cr:2012305").unregisterTypingPerf(a)}},[x]);var A=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=n(function(){var a;return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:y,excludedIDs:[],includeGroupSearch:A!=="ChatTab",includeMessageSearchEntry:(a=c("qex")._("4628"))!=null?a:!1,includeRecommendations:!0,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes,source:c("MWChatSearchSurfaces").universal})},[y,A]);var B=l(function(){w(null),v!=null&&(z.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:8,is_epd:t,session_id:v,transport_type:null}}),z.current=!0)),b("cr:20302")==null?void 0:b("cr:20302").qplCancel("abandon"),e("")},[e,v]),C=c("useCometRouterDispatcher")(),D=l(function(a){var b=a.rawData.resultType;if(b===c("MWChatSearchResultType").MESSAGE&&a.rawData.query!=null&&c("qex")._("4628")===!0){b=d("MWInboxRouteBuilder").buildMultiThreadMesageSearchURL({search:a.rawData.query});C!=null&&b!=null&&C.go(b,{})}b=function(){g!=null&&g(a)};if(v==null){b();return}d("MWSearchLogging").logResultSelected(v,u.queryString,a,z);b()},[g,v,u.queryString,C]);m(function(){return function(){b("cr:20302")==null?void 0:b("cr:20302").qplCancel("abandon")}},[]);var E=l(function(){s&&c("promiseDone")(d("MWPSearchSystem").clearAll(y));var a=c("uuidv4")();w(a);b("cr:20302")==null?void 0:b("cr:20302").qplStart({queryString:"",sessionInstanceId:a,surface:d("MWSearchLoggingTypes").SearchSurface.Jewel});z.current=!1;c("UniversalSearchStartFalcoEvent").log(function(){return{is_epd:t,session_id:a}});c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:"0",query_string:null,session_id:a}})},[y]),F=l(function(a){v!=null&&(c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:a.length.toString(),query_string:a,session_id:v}}),b("cr:20302")==null?void 0:b("cr:20302").qplStart({queryString:a,sessionInstanceId:v,surface:d("MWSearchLoggingTypes").SearchSurface.Jewel})),e(a)},[e,v]),G=function(){f()},H=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),I=h._(/*BTDS*/"Search Messenger"),J=h._(/*BTDS*/"Search messages");H=H?J:I;return k.jsx(c("BaseSubscriptionTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:c("isArmadillo")()?{requestFlow:"network-upon-approve"}:void 0,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputRef:d("xplatToDOMRef").xplatToInputRef(x),inputStartContent:v!=null?k.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onChange:F,onClose:B,onFocus:G,onOpen:E,onPressEntry:D,onSelectFreeformQuery:j,placeholder:H,queryString:u.queryString,shouldCloseOnEnter:!1,shouldHandleCloseAfterHandlePressEntry:!0,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:r(v),xstyles:{inputXStyle:q.searchInput,viewXStyle_DO_NOT_USE:q.searchView}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWJewelThreadListSearchTypeahead.react",["CometRelay","FBLogger","I64","MWChatSearchFilteringUtils","MWChatSearchResultType","MWJewelSearchSubscriptionTypeahead.react","MWLogInboxFiltersInteraction","MWLogInteraction","MWPSearchSystem","MWThreadCreationUtil","QPLUserFlow","emptyFunction","qpl","react","react-compiler-runtime","setTimeoutCometSpeculative","useCometPreloader","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useState;function a(a){var b=d("react-compiler-runtime").c(25),e=a.onClose;a=m("");var f=a[0];a=a[1];var g=c("useMWChatOpenTabForGroup")("jewelSearch"),j=g[0],o=c("useMWChatOpenTabForPage")("jewelSearch");g=c("useMWChatOpenTabForUser")("jewelSearch");var p=g.openTabByThreadKey,q=g.openTabForUserWithoutPreloadedNavigationData,r=(h||(h=c("useReStore")))(),s=d("CometRelay").useRelayEnvironment();b[0]!==r?(g=function(){return d("MWPSearchSystem").makeAll(r)},b[0]=r,b[1]=g):g=b[1];var t=g;b[2]!==t?(g=function(){c("setTimeoutCometSpeculative")(t,1e4)},b[2]=t,b[3]=g):g=b[3];l(g,void 0);b[4]!==r||b[5]!==s||b[6]!==p||b[7]!==q?(g=function(a,b){var c=d("MWChatSearchFilteringUtils").getIsE2ee(b.rawData);if(c)return p(a,!0);d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(b,s,r).then(async function(c){var e=c.isSecureThread;c=c.reason;if(c==="default_e2ee")q({unpreloadedReason:"jewelsearch_not_support_gql",userId:a});else{var f=await r.tables.threads.get((i||(i=d("I64"))).of_string(a));q({isSecureThread:e,reason:"MWJewelThreadListSearchTypeahead, FBID: "+a+", reason: "+((e=c)!=null?e:"")+", searchSource: "+((c=b.rawData.searchSource)!=null?c:"")+", otherUserId: "+((e=b.rawData.otherUserId)!=null?e:"")+", hasCutoverThread: "+((e=(c=b.rawData.hasCutoverThread)==null?void 0:c.toString())!=null?e:"false")+", threadAuthorityLevel: "+(f!=null?(i||(i=d("I64"))).to_string(f.authorityLevel):"null"),unpreloadedReason:"jewelsearch_not_support_gql",userId:a})}}).catch(n)},b[4]=r,b[5]=s,b[6]=p,b[7]=q,b[8]=g):g=b[8];var u=g;b[9]!==e||b[10]!==j||b[11]!==o||b[12]!==u?(g=function(a){var b=a.rawData,d=b.id;b=b.resultType;bb41:switch(b){case c("MWChatSearchResultType").MESSAGE:break bb41;case c("MWChatSearchResultType").GROUP:j(d);break bb41;case c("MWChatSearchResultType").USER:case c("MWChatSearchResultType").AI_BOT:u(d,a);break bb41;case c("MWChatSearchResultType").PAGE:o(d)}e()},b[9]=e,b[10]=j,b[11]=o,b[12]=u,b[13]=g):g=b[13];g=g;var v=c("useCometPreloader")("button_aggressive",c("emptyFunction"),t),w=v.onHoverInPreloader,x=v.onHoverMovePreloader;v=v.onHoverOutPreloader;var y;b[14]!==t?(y=function(){d("MWLogInteraction").logPopoverOpenCancel("initiate_search"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationCancel("initiate_search"),t(),c("QPLUserFlow").start(c("qpl")._(25312244,"1683"))},b[14]=t,b[15]=y):y=b[15];b[16]!==g||b[17]!==f||b[18]!==y?(a=k.jsx(c("MWJewelSearchSubscriptionTypeahead.react"),{onChange:a,onFocus:y,onPressEntry:g,queryString:f}),b[16]=g,b[17]=f,b[18]=y,b[19]=a):a=b[19];b[20]!==w||b[21]!==x||b[22]!==v||b[23]!==a?(g=k.jsx("div",{onMouseEnter:w,onMouseLeave:v,onMouseMove:x,children:a}),b[20]=w,b[21]=x,b[22]=v,b[23]=a,b[24]=g):g=b[24];return g}function n(a){c("FBLogger")("messenger_search").mustfix("Error fetching contact capabilities: %s",a)}e=k.memo(a);g.default=e}),98);
__d("CometMessagingJewelDropdownContent.react",["fbt","CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometMessagingJewelCommunitiesQPBannerContainer.react","CometMessagingJewelDropdownContentGlimmer.react","CometMessagingJewelDropdownContent_query.graphql","CometMessagingJewelDropdownQPBannerContainer.react","CometPageletWithDiv.react","CometPlaceholder.react","CometRelay","CometTopNavListDropdownCard.react","CometTransientDialogProvider.react","FBLogger","I64","InteractionTracing","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSPlatformErrorsCatcher.react","LSThreadRangeFilter","MAWUnrecoverableErrorBoundary.react","MWCMJewelContext","MWEncryptedBackupsJewelNuxWrapperDeferred.react","MWInboxContextSwitcherGlimmer.react","MWInboxContextSwitcherUtils","MWInboxQuickPromotionWrapper.react","MWInboxTrayContainer.react","MWInboxTrayGating","MWJewelDropdownHeader.react","MWJewelNestedFolderThreadList.react","MWJewelPopoverDialogContext.react","MWJewelThreadListSearchTypeahead.react","MWResponsiveLayoutContext.react","MWThreadList.react","ODS","ReQL","ReQLSuspense","WebUXLoggingEntryPointContextProvider","XCometMessengerControllerRouteBuilder","cr:21316","cr:274","cr:7643","deferredLoadComponent","gkx","lazyLoadComponent","qpl","react","react-compiler-runtime","recoverableViolation","requireDeferredForDisplay","useCometInteractionTracing","useMWChatSearchClearSearchResults","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.memo;e.useCallback;var q=e.useContext,r=e.useEffect,s=e.useState;b("cr:274");var t=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxContextSwitcherCond.react").__setRef("CometMessagingJewelDropdownContent.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMBlendedThreadListV2.react").__setRef("CometMessagingJewelDropdownContent.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWJewelMessageRequestsAndSpamDropdownWithTab.react").__setRef("CometMessagingJewelDropdownContent.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWRestrictedAccountsList.react").__setRef("CometMessagingJewelDropdownContent.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJewelArchivedChatsDropdown.react").__setRef("CometMessagingJewelDropdownContent.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometMessagingJewelDropdownErrorState.react").__setRef("CometMessagingJewelDropdownContent.react")),z=h._(/*BTDS*/"Chats");function A(a){c("recoverableViolation")("CometMessagingJewelDropdownQPBannerContainer failed to render","messenger_web_entrypoints",{error:a})}var B=c("gkx")("22839")===!0;function C(a){var e=d("react-compiler-runtime").c(98),g=a.ebSoftblockUpsell,n=a.ebUpsellContainerQueryRef,p=a.mwInboxTrayContainerQuery,y=a.onClose,C=a.pushPage;a=a.query;var E=q(c("MWResponsiveLayoutContext.react"));E=E.isDenseMode;var F=q(c("MWJewelPopoverDialogContext.react")),G=F.setIsOpenForDialog,H=c("useMWChatSearchClearSearchResults")();e[0]!==H||e[1]!==y?(F=function(){H(),y()},e[0]=H,e[1]=y,e[2]=F):F=e[2];var I=F,J;e[3]!==H?(F=function(){return H},J=[H],e[3]=H,e[4]=F,e[5]=J):(F=e[4],J=e[5]);r(F,J);e[6]===Symbol["for"]("react.memo_cache_sentinel")?(F=c("XCometMessengerControllerRouteBuilder").buildURL({}),e[6]=F):F=e[6];J=F;F=q(c("MWCMJewelContext"));var K=F.MWCMBlendedThreadListEntrypointRef,L=F.selectedFilterTab,M=F.setSelectedFilterTab;F=s();var N=F[0],O=F[1];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(F=c("qpl")._(30610001,"3003"),e[7]=F):F=e[7];var P=c("useCometInteractionTracing")(F,"fast","INTERACTION");F=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessagingJewelDropdownContent_query.graphql"),a);var Q=(j||(j=c("useReStore")))();e[8]!==Q.tables._user_info?(a=function(){return d("ReQL").fromTableAscending(Q.tables._user_info).map(D)},e[8]=Q.tables._user_info,e[9]=a):a=e[9];var R;e[10]!==Q?(R=[Q],e[10]=Q,e[11]=R):R=e[11];var S=d("ReQLSuspense").useFirst(a,R,f.id+":214");e[12]!==Q.tables.contacts||e[13]!==S?(a=function(){return S!=null?d("ReQL").fromTableAscending(Q.tables.contacts,["capabilities","capabilities2"]).getKeyRange(S):d("ReQL").empty()},e[12]=Q.tables.contacts,e[13]=S,e[14]=a):a=e[14];e[15]!==Q||e[16]!==S?(R=[Q,S],e[15]=Q,e[16]=S,e[17]=R):R=e[17];var T=d("ReQLSuspense").useFirst(a,R,f.id+":218");e[18]!==I||e[19]!==C?(a=function(){var a=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30607516,"756"),tracePolicy:"comet.jewel.message_requests",traceType:"INTERACTION"});C(function(b){b=b.onReturn;return o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!1,title:z,withBackButton:!0}),name:"MAWJewelMessageRequestsAndSpamDropdownWithTab",children:o.jsx(v,{interactionID:a,onClose:I,onReturn:b})})})},e[18]=I,e[19]=C,e[20]=a):a=e[20];R=a;e[21]!==R||e[22]!==L?(a=d("MWInboxContextSwitcherUtils").shouldShowMessageRequestsFromFilter(L)?R:void 0,e[21]=R,e[22]=L,e[23]=a):a=e[23];a=a;var U;e[24]!==I||e[25]!==C?(U=function(){C(function(a){a=a.onReturn;return o.jsx(w,{hidePage:a,onClose:I})})},e[24]=I,e[25]=C,e[26]=U):U=e[26];U=U;var V;e[27]!==I||e[28]!==C?(V=function(){(k||(k=d("ODS"))).bumpEntityKey(3185,"mw_jewel","archived_chats"),C(function(a){a=a.onReturn;return o.jsx(x,{onClose:I,onReturn:a})})},e[27]=I,e[28]=C,e[29]=V):V=e[29];V=V;var W;e[30]!==I||e[31]!==C||e[32]!==T?(W=function(a){C(function(b){b=b.onReturn;switch((l||(l=d("I64"))).to_int32(a)){case-13:return o.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:I,onReturn:b,title:h._(/*BTDS*/"Jobs")});case-12:var e=T!=null&&d("LSContactBitOffset").has(86,T),f=h._(/*BTDS*/"Marketplace");e&&(f=h._(/*BTDS*/"_j[\"Buy-and-sell groups\",\"6a9a0529abd169ff91b49b4022dbf5a5\",1]"));return o.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:I,onReturn:b,title:f});default:c("FBLogger")("messenger_web_entrypoints").mustfix("Attempted to show an unimplemented nested system folder");return null}})},e[30]=I,e[31]=C,e[32]=T,e[33]=W):W=e[33];W=W;var X;e[34]!==E||e[35]!==p||e[36]!==I?(X=E?null:o.jsx(c("MWInboxTrayContainer.react"),{mwInboxTrayContainerQuery:p,onClose:I}),e[34]=E,e[35]=p,e[36]=I,e[37]=X):X=e[37];E=X;e[38]!==g||e[39]!==n||e[40]!==F||e[41]!==L?(p=b("cr:21316")!=null&&n!=null?o.jsx(b("cr:21316"),{ebSoftblockUpsell:g,ebUpsellContainerQueryRef:n,selectedFilterTab:L}):d("MWInboxContextSwitcherUtils").shouldShowEBUpsellFromFilter(L)&&g==null&&(F==null?void 0:F.encrypted_backups_jewel_nux_wrapper)!=null&&(F==null?void 0:F.viewer.qp_banner)!=null?o.jsx(c("MWInboxQuickPromotionWrapper.react"),{onError:A,children:o.jsx(c("MWEncryptedBackupsJewelNuxWrapperDeferred.react"),{query:F.encrypted_backups_jewel_nux_wrapper,children:o.jsx(c("CometMessagingJewelDropdownQPBannerContainer.react"),{viewer:F.viewer.qp_banner})})}):null,e[38]=g,e[39]=n,e[40]=F,e[41]=L,e[42]=p):p=e[42];X=p;n=d("MWInboxTrayGating").isInboxTrayEnabled();e[43]!==L?(p=d("MWInboxContextSwitcherUtils").getCustomThreadFilter(L),e[43]=L,e[44]=p):p=e[44];p=p;var Y;e[45]!==L?(Y=d("MWInboxContextSwitcherUtils").getParentThreadKeyFromFilter(L),e[45]=L,e[46]=Y):Y=e[46];Y=Y;var Z;e[47]!==I||e[48]!==V||e[49]!==R||e[50]!==U?(Z=o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWJewelDropdownHeader",children:o.jsx(c("MWJewelDropdownHeader.react"),{inboxUrl:J,onClose:I,onOpenArchivedChats:V,onOpenMessageRequests:R,onOpenRestrictedAccountsList:U,title:z})}),e[47]=I,e[48]=V,e[49]=R,e[50]=U,e[51]=Z):Z=e[51];e[52]===Symbol["for"]("react.memo_cache_sentinel")?(V={className:"x1c4vz4f"},e[52]=V):V=e[52];e[53]!==I||e[54]!==C?(R=o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWJewelThreadListSearchTypeahead",children:o.jsx(c("MWJewelThreadListSearchTypeahead.react"),{onClose:I,pushPage:C})}),e[53]=I,e[54]=C,e[55]=R):R=e[55];U=n?X:null;var $;e[56]!==P||e[57]!==Y||e[58]!==L||e[59]!==G||e[60]!==M?($=B&&o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:o.jsx(c("MWInboxContextSwitcherGlimmer.react"),{}),name:"MWInboxContextSwitcher",children:o.jsx(t,{entryPoint:"jewel",onTabChange:function(a){P(function(a){O(a.getTraceId())},void 0,void 0,"comet.jewel.messenger."+d("MWInboxContextSwitcherUtils").getTracePolicyFromFilter(a)),G(!1),M==null?void 0:M(a)},parentThreadKey:Y,selectedFilterTab:L})}),e[56]=P,e[57]=Y,e[58]=L,e[59]=G,e[60]=M,e[61]=$):$=e[61];e[62]!==E||e[63]!==R||e[64]!==U||e[65]!==$?(V=o.jsxs("div",babelHelpers["extends"]({},V,{children:[R,U,E,$]})),e[62]=E,e[63]=R,e[64]=U,e[65]=$,e[66]=V):V=e[66];E=n?null:X;e[67]!==Z||e[68]!==V||e[69]!==E?(R=o.jsxs(o.Fragment,{children:[Z,V,E]}),e[67]=Z,e[68]=V,e[69]=E,e[70]=R):R=e[70];U=R;$=F==null?void 0:F.viewer.cm_thread_list;n=F==null?void 0:F.viewer.cm_qp_banner;e[71]!==L?(X=d("MWInboxContextSwitcherUtils").getJewelEntryPointFromFilter(L),e[71]=L,e[72]=X):X=e[72];Z=X;e[73]!==L?(V=c("gkx")("12903")?d("MWInboxContextSwitcherUtils").getJewelLsSubEntryPointFromFilter(L):void 0,e[73]=L,e[74]=V):V=e[74];E=V;e[75]!==K||e[76]!==n||e[77]!==$||e[78]!==p||e[79]!==g||e[80]!==E||e[81]!==W||e[82]!==I||e[83]!==a||e[84]!==Y||e[85]!==L?(R=g!=null&&d("MWInboxContextSwitcherUtils").shouldShowEBUpsellFromFilter(L)?o.jsx(o.Fragment,{children:g}):o.jsxs(o.Fragment,{children:[B&&(l||(l=d("I64"))).equal(L,(m||(m=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))?o.jsx(c("CometPlaceholder.react"),{fallback:o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!0}),name:"CometMessagingJewelDropdownContent.MWCMBlendedThreadList",children:$!=null?o.jsx(u,{filter:L,header:o.jsx(o.Fragment,{children:n!=null&&o.jsx(c("CometErrorBoundary.react"),{onError:A,children:o.jsx(c("CometPlaceholder.react"),{fallback:null,name:"CometMessagingJewelDropdownContent.CommunitiesQPBanner",children:o.jsx(c("CometTransientDialogProvider.react"),{children:o.jsx(c("CometMessagingJewelCommunitiesQPBannerContainer.react"),{messagingEntryPoint:"jewel",onClose:I,viewer:n})})})})}),lsEntryPoint:"jewel",lsSubEntryPoint:E,messagingEntryPoint:"jewel",onClose:I,parentThreadKey:Y,responsive:!1,viewer:$}):K!=null?o.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:K,props:{filter:L,gridLabel:z.toString(),header:null,lsEntryPoint:"jewel",lsSubEntryPoint:E,onDropdownClose:I,onError:A,parentThreadKey:Y}}):null}):o.jsx(c("MWThreadList.react"),{customThreadFilter:p,filter:L,gridLabel:z.toString(),lsEntryPoint:"jewel",lsSubEntryPoint:E,onClickNestedFolderThread:W,onClose:I,onOpenMessageRequests:a,parentThreadKey:Y,responsive:!1},(l||(l=d("I64"))).to_string(L)),b("cr:7643")&&o.jsx(b("cr:7643"),{onClick:I,url:J})]}),e[75]=K,e[76]=n,e[77]=$,e[78]=p,e[79]=g,e[80]=E,e[81]=W,e[82]=I,e[83]=a,e[84]=Y,e[85]=L,e[86]=R):R=e[86];e[87]!==U||e[88]!==R?(F=o.jsxs(c("CometTopNavListDropdownCard.react"),{testid:void 0,useFullHeight:B,useMaxHeight:!0,children:[U,R]}),e[87]=U,e[88]=R,e[89]=F):F=e[89];X=F;e[90]===Symbol["for"]("react.memo_cache_sentinel")?(V=o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!0,title:z}),e[90]=V):V=e[90];J=c("gkx")("12903")?Z:"jewel";e[91]!==N||e[92]!==L||e[93]!==X?(K=N!=null?o.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"JewelThreadList."+d("MWInboxContextSwitcherUtils").getInteractionDescFromFilter(L),interactionUUID:N,children:X}):X,e[91]=N,e[92]=L,e[93]=X,e[94]=K):K=e[94];e[95]!==J||e[96]!==K?(n=o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:V,name:"MWJewelDropdownContent",children:o.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:J,children:K})}),e[95]=J,e[96]=K,e[97]=n):n=e[97];return n}function D(a){return a.facebookUserId}function a(a){var b=d("react-compiler-runtime").c(2),e=E;b[0]!==a?(e=o.jsx(c("MAWUnrecoverableErrorBoundary.react"),{fallback:e,children:o.jsx(c("CometErrorBoundary.react"),{fallback:e,children:o.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:e,children:o.jsx(C,babelHelpers["extends"]({},a))})})}),b[0]=a,b[1]=e):e=b[1];return e}function E(a){return o.jsx(y,{error:a})}E.displayName=E.name+" [from "+f.id+"]";e=p(a);g["default"]=e}),226);
__d("CometMessagingJewelDropdownQuery.graphql",["CometMessagingJewelDropdownQuery_facebookRelayOperation","CometMessagingJewelDropdownCMBlendedEntrpyointEnabled.relayprovider","CometMessagingJewelDropdownSplitPreloadedQuery.relayprovider","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},e={alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},c],storageKey:null},f={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]},g=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[d,e,f],storageKey:null}],h={condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{"if":null,kind:"Defer",label:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapper_query",selections:g}]};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQuery",selections:[{args:null,kind:"FragmentSpread",name:"CometMessagingJewelDropdownContent_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometMessagingJewelDropdownCMBlendedEntrpyointEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"CometMessagingJewelDropdownQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3nNEjf"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3nNEjf")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}]},{condition:"__relay_internal__pv__CometMessagingJewelDropdownCMBlendedEntrpyointEnabledrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'},{alias:null,args:null,concreteType:"GroupsTab",kind:"LinkedField",name:"groups_tab",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"suggested_chats",plural:!0,selections:[c],storageKey:null}],storageKey:null}]}],storageKey:null},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},c],storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},c,a],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[d,{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEncryptedBackupsJewelNuxWrapper_query",fragmentName:"MWEBNewUserOnboardingThreadListUpsellWrapper_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{"if":null,kind:"Defer",label:"MWEncryptedBackupsJewelNuxWrapper_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query",selections:[h,{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!0,selections:g}]}]},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!0,selections:[h,{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,f],storageKey:null}]}]}]}]},params:{id:b("CometMessagingJewelDropdownQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelDropdownQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometMessagingJewelDropdownCMBlendedEntrpyointEnabledrelayprovider:b("CometMessagingJewelDropdownCMBlendedEntrpyointEnabled.relayprovider"),__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider:b("CometMessagingJewelDropdownSplitPreloadedQuery.relayprovider"),__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMessagingJewelDropdown.react",["fbt","BaseMultiStepContainer.react","BasePopoverReflowSheetContext","CometMessagingJewelDropdownContent.react","CometMessagingJewelDropdownQuery.graphql","CometRelay","CometTopNavListDropdown.react","MWLogInboxFiltersInteraction","MWLogInteraction","cr:6188","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext;function a(a){var b=d("react-compiler-runtime").c(10),c=a.entryPoints,e=a.extraProps,f=a.props;a=a.queries;if(a.jewelQueryRef!=null){var g;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==a?(g=k.jsx(m,{entryPoints:c,extraProps:e,jewelQueryRef:a.jewelQueryRef,props:f,queries:a}),b[0]=c,b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return g}else{b[5]!==c||b[6]!==e||b[7]!==f||b[8]!==a?(g=k.jsx(n,{entryPoints:c,extraProps:e,props:f,queries:a}),b[5]=c,b[6]=e,b[7]=f,b[8]=a,b[9]=g):g=b[9];return g}}function m(a){var c=d("react-compiler-runtime").c(4),e=a.jewelQueryRef,f=a.props;a=a.queries;f=f.onClose;a=a.mwInboxTrayContainerQuery;e=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometMessagingJewelDropdownQuery.graphql"),e);var g;c[0]!==a||c[1]!==f||c[2]!==e?(g=k.jsx(o,{mwInboxTrayContainerQuery:a,onClose:f,query$key:e}),c[0]=a,c[1]=f,c[2]=e,c[3]=g):g=c[3];return g}function n(a){var b=d("react-compiler-runtime").c(4),c=a.props;a=a.queries;c=c.onClose;var e=a.ebUpsellContainerQueryRef;a=a.mwInboxTrayContainerQuery;var f;b[0]!==e||b[1]!==a||b[2]!==c?(f=k.jsx(o,{ebUpsellContainerQueryRef:e,mwInboxTrayContainerQuery:a,onClose:c,query$key:null}),b[0]=e,b[1]=a,b[2]=c,b[3]=f):f=b[3];return f}function o(a){var e=d("react-compiler-runtime").c(13),f=a.ebUpsellContainerQueryRef,g=a.mwInboxTrayContainerQuery,i=a.onClose,j=a.query$key;a=l(c("BasePopoverReflowSheetContext"));a=a.isReflowSheet;var m=p,n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"Messenger"),e[0]=n):n=e[0];var o;e[1]!==a?(o={0:{className:"x1cvmir6"},1:{className:"x14atkfc"}}[!!a<<0],e[1]=a,e[2]=o):o=e[2];e[3]!==f||e[4]!==g||e[5]!==i||e[6]!==j?(a=k.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,onPageChange:m,children:function(a){return k.jsx(c("CometMessagingJewelDropdownContent.react"),{ebUpsellContainerQueryRef:f,mwInboxTrayContainerQuery:g,onClose:i,pushPage:a,query:j})}}),e[3]=f,e[4]=g,e[5]=i,e[6]=j,e[7]=a):a=e[7];e[8]!==o||e[9]!==a?(m=k.jsx(c("CometTopNavListDropdown.react"),{label:n,name:"MWJewelDropdown",children:k.jsx("div",babelHelpers["extends"]({},o,{children:a}))}),e[8]=o,e[9]=a,e[10]=m):m=e[10];n=m;e[11]!==n?(o=b("cr:6188")!=null?k.jsx(b("cr:6188"),{children:n}):n,e[11]=n,e[12]=o):o=e[12];return o}function p(a){a>0&&c("justknobx")._("3802")&&(d("MWLogInteraction").logPopoverOpenCancel("popover_page_change"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationCancel("popover_page_change"))}g["default"]=a}),226);
__d("FBIconMarketplaceFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108 922v5.27a.23.23 0 0 1-.23.23h-7.54a.23.23 0 0 1-.23-.23V922h-1v5.27c0 .68.55 1.23 1.23 1.23h7.54c.68 0 1.23-.55 1.23-1.23V922h-1z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M109.291 919c.18 0 .3-.183.23-.348l-.686-1.609a.863.863 0 0 0-.802-.543h-8.066a.86.86 0 0 0-.799.534l-.69 1.618a.25.25 0 0 0 .23.348h10.583zm-11.041 1a.25.25 0 0 0-.25.25v1c0 .69.553 1.25 1.234 1.25h.083c.287 0 .567-.102.788-.288l.206-.194.097.082c.308.259.695.4 1.096.4h.088a1.71 1.71 0 0 0 1.106-.409l.063-.072.11.091c.305.252.688.39 1.084.39h.067c.401 0 .792-.144 1.1-.404l.068-.076.09.076c.31.261.702.404 1.107.404h.103c.404 0 .797-.145 1.11-.41l.056-.067.195.166c.236.2.534.311.843.311.72 0 1.306-.594 1.306-1.325v-.925a.25.25 0 0 0-.25-.25h-11.5zm6.75 8h-2v-3.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25V928z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 928.5h-3v-3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v3.75zm-1-1V925h-1v2.5h1z",transform:"translate(352 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSResizeFreeFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("580260"),20);b=a;g["default"]=b}),98);
__d("LSFetchCommunitiesActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.createArray(),c.forEach(c.db.table(162).fetch(),function(a){a=a.item;return d[2]=(d[0].push(a.folderId),d[0])})},function(a){return d[1]=c.i64.of_int32(d[0].length),c.i64.gt(d[1],c.i64.cast([0,0]))?(d[2]=new c.Map(),d[2].set("community_ids",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_unjoined_communities_activity_status",c.i64.cast([0,170003]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchCommunitiesActivityStatusStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSFetchCommunitiesActivityStatusStoredProcedure",["LSFetchCommunitiesActivityStatus","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a){a=a.storedProcedure(c("LSFetchCommunitiesActivityStatus"));return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyThreadsActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("server_mode",a[1]),d[0].set("from_timestamp_ms",a[2]),d[0].set("threads",a[3]),d[0].set("session_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",c.i64.cast([0,648]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadsActivityStatusStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadsActivityStatusStoredProcedure",["LSSynchronousPromise","LSVerifyThreadsActivityStatus","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadsActivityStatus"),e.sessionId,e.serverMode,e.fromTimestampMs,e.threads);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react",["cr:1266"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1266")}),98);
__d("useHasOTCEligibleDevices",["MAWOneTimeCodeGating","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.encrypted_backups?(e=function(){return d("ReQL").fromTableAscending(b.tables.encrypted_backups)},a[0]=b.tables.encrypted_backups,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":19");return a==null||!d("MAWOneTimeCodeGating").isOneTimeCodeEnabled()?!1:a.hasOtcEligibleDevices}g["default"]=a}),98);
__d("MWEBVirtualDevicesContextProvider.react",["MAWOneTimeCodeGating","MWEBVirtualDevicesContext.react","gkx","react","react-compiler-runtime","useHasOTCEligibleDevices","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=(b=c("gkx")("24064"))!=null?b:!1;function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.hasOtcEligibleDevicesInitialValue,g=a.offlineDevicesCountInitialValue;a=a.vestaClientIDInitialValue;g=g===void 0?-1:g;a=(a=a)!=null?a:void 0;var h;b[0]!==g||b[1]!==a?(h={offlineDevicesCountInitialValue:g,vestaClientIDInitialValue:a},b[0]=g,b[1]=a,b[2]=h):h=b[2];g=c("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")(h);a=g.offlineDevicesCount;h=g.vestaClientID;g=c("useHasOTCEligibleDevices")();var k;b[3]!==g||b[4]!==f?(k=d("MAWOneTimeCodeGating").isOneTimeCodeEnabled()&&(j===!0||f===!0||g),b[3]=g,b[4]=f,b[5]=k):k=b[5];g=k;f=h!=null;b[6]!==g||b[7]!==a||b[8]!==f||b[9]!==h?(k={virtualDeviceInfo:{doesUserHaveOtcEligibleDevices:g,isPINCodeRegistered:f,offlineDevicesCount:a,vestaClientID:h}},b[6]=g,b[7]=a,b[8]=f,b[9]=h,b[10]=k):k=b[10];g=k;a=g;b[11]!==e||b[12]!==a?(f=i.jsx(d("MWEBVirtualDevicesContext.react").MWEBVirtualDevicesContext.Provider,{value:a,children:e}),b[11]=e,b[12]=a,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("MWEncryptedBackupsJewelNuxWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query"}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsJewelNuxWrapper_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEncryptedBackupsJewelNuxWrapper_query",fragmentName:"MWEBNewUserOnboardingThreadListUpsellWrapper_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{kind:"Defer",selections:a}],type:"Query",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"restore_qp_wrapper_deferred"}]},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:a,type:"Query",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"restore_qp_wrapper"}]},{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup",selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null}],storageKey:null}],type:"XFBEncryptedBackup",abstractKey:null};e.exports=a}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded",["CometRelay","react","react-compiler-runtime","useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){var c=d("react-compiler-runtime").c(4);a=a.encryptedBackup;var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"),a);c[0]!==(e==null?void 0:e.virtual_devices)?(a=function(){var a;a=0;var b;b=null;e==null?void 0:e.virtual_devices.forEach(function(c){bb13:switch(c.device_type){case"HSM":b=c.client_generated_id;break bb13;case"OFFLINE":a=a+1;a;break bb13;default:}});return{offlineDevicesCount:a,vestaClientID:b}},c[0]=e==null?void 0:e.virtual_devices,c[1]=a):a=c[1];e==null?void 0:e.virtual_devices;a=a;var f;c[2]!==a?(f={getVirtualDevices:a},c[2]=a,c[3]=f):f=c[3];return f}g["default"]=a}),98);
__d("MWEncryptedBackupsJewelNuxWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","HeroInteractionIgnoreWithDiv.react","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContextProvider.react","MWEncryptedBackupsJewelNuxWrapper_query.graphql","MWEncryptedBackupsThreadListQPWrapper.react","cr:20045","cr:2046","cr:21270","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWChatEncryptedBackupsVestaUserInfo","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useMemo;var k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEncryptedBackupsJewelNuxWrapper.react"));function a(a){var e,f,g=d("react-compiler-runtime").c(23),i=a.children;a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsJewelNuxWrapper_query.graphql"),a);var k;g[0]!==a?(k={entrypoint:c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST,query:a},g[0]=a,g[1]=k):k=g[1];k=c("useEncryptedBackupsProcessStatePreLoaded")(k);e=(e=a.viewer.messenger_default_encrypted_backup)==null?void 0:e.vesta_user_info;var m;g[2]!==e?(m={vestaGetUserInfoResponse$key:e},g[2]=e,g[3]=m):m=g[3];e=c("useMWChatEncryptedBackupsVestaUserInfo")(m);g[4]!==e.attemptsRemaining||g[5]!==e.loginTimeoutRemainingSecs?(m={attemptsRemaining:e.attemptsRemaining,loginTimeoutRemainingSecs:e.loginTimeoutRemainingSecs,vestaClientID:null},g[4]=e.attemptsRemaining,g[5]=e.loginTimeoutRemainingSecs,g[6]=m):m=g[6];e=m;m=e;e=a==null?void 0:a.xfb_backup;var n;g[7]!==e?(n={encryptedBackup:e},g[7]=e,g[8]=n):n=g[8];e=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(n);n=e.getVirtualDevices;g[9]!==n?(e=n(),g[9]=n,g[10]=e):e=g[10];n=e;e=n.offlineDevicesCount;n=n.vestaClientID;f=(f=a==null?void 0:(f=a.xfb_backup)==null?void 0:f.has_otc_eligible_devices)!=null?f:void 0;var o;g[11]!==k||g[12]!==i||g[13]!==a?(o=j.jsx(l,{backupState:k,children:i,fragment:a}),g[11]=k,g[12]=i,g[13]=a,g[14]=o):o=g[14];g[15]!==o||g[16]!==m?(k=j.jsx(d("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContext.Provider,{value:m,children:o}),g[15]=o,g[16]=m,g[17]=k):k=g[17];g[18]!==e||g[19]!==k||g[20]!==f||g[21]!==n?(i=j.jsx(c("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:f,offlineDevicesCountInitialValue:e,vestaClientIDInitialValue:n,children:k}),g[18]=e,g[19]=k,g[20]=f,g[21]=n,g[22]=i):i=g[22];return i}function l(a){var e,f=d("react-compiler-runtime").c(13),g=a.backupState,h=a.children;a=a.fragment;e=(e=a.restore_qp_wrapper_deferred)!=null?e:a.restore_qp_wrapper;switch(g){case 4:f[0]!==h||f[1]!==e?(g=b("cr:2046")||c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")?j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return h},children:c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")!=null?j.jsx(c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react"),{trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:h}):b("cr:2046")!=null&&e!=null&&j.jsx(b("cr:2046"),{fragmentKey:e,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:h})})}):h,f[0]=h,f[1]=e,f[2]=g):g=f[2];return g;case 2:f[3]!==h?(e=b("cr:20045")?j.jsx(b("cr:20045"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:h}):h,f[3]=h,f[4]=e):e=f[4];var i=e;f[5]!==i?(g=function(){return i},f[5]=i,f[6]=g):g=f[6];f[7]!==i||f[8]!==a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells?(e=a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(d("CometRelay").MatchContainer,{match:a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,props:{bannerSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,children:i,qpSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP}})}):b("cr:21270")?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(b("cr:21270"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:i})}):j.jsx(k,{fallback:i,props:{children:i,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL}}),f[7]=i,f[8]=a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,f[9]=e):e=f[9];f[10]!==g||f[11]!==e?(a=j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:g,children:e})}),f[10]=g,f[11]=e,f[12]=a):a=f[12];return a;default:return h}}g["default"]=a}),98);
__d("MWEncryptedBackupsQPWithPinPlaceholder.react",["MWXColumn.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23433"),k={logoGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xxk0z11",width:"xvy4d1p",$$css:!0},pinInputGlimmer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xc9qbxq",$$css:!0},root:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxShadow:"xjf5wm9",boxSizing:"x9f619",minWidth:"xeuugli",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},textGlimmer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"x1qx5ct2",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={0:{className:"xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x972fbf xcfux6l x1qhh985 xm0m39n xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x150jy0e x1e558r4 xw7yly9 xktsk01 x1yztbdb x1d52u69 x1l90r2v xyamay9"},1:{className:"xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x972fbf xcfux6l x1qhh985 xm0m39n xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x150jy0e x1e558r4 xw7yly9 xktsk01 x1yztbdb x1d52u69 x2lwn1j xsag5q8 xz9dl7a"}}[!!j<<0],a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("MWXRow.react"),{spacingVertical:0,verticalAlign:"center",children:[e,i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",babelHelpers["extends"]({className:"x1kvlpi xwib8y2"},{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})}))})}),a[3]=f):f=a[3];var g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("MWXRow.react"),{direction:"forward",wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:k.pinInputGlimmer})})}),a[4]=g):g=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsxs(c("MWXColumn.react"),{spacing:8,style:k.root,children:[e,f,g,i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",babelHelpers["extends"]({className:"x14n70j1 x7i73kt x1y1aw1k"},{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})}))})})]})})),a[5]=b):b=a[5];return b}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query"}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query",selections:[{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{kind:"Defer",selections:a}],type:"Query",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"restore_qp_wrapper_deferred"}]},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:a,type:"Query",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"restore_qp_wrapper"}]}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("useMWEBIsUpsellDeferred",["MWEncryptedBackupsDeferLocalStorageUpsell","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(18);a=a.upsellType;var e=(h||(h=c("useReStore")))(),g;b[0]!==a?(g=d("MWEncryptedBackupsDeferLocalStorageUpsell").getLocalStorageKeys(a),b[0]=a,b[1]=g):g=b[1];a=g;g=a;var i=g.countdownInMS,j=g.impressionsCountKey,k=g.lastImpressionTimeKey,l=g.maxImpressionLimit;b[2]!==i||b[3]!==e.tables.experiences_shared_state||b[4]!==k?(a=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(k).map(function(a){a=a.stateValue;return a!=null&&+a+i>Date.now()?!0:!1})},b[2]=i,b[3]=e.tables.experiences_shared_state,b[4]=k,b[5]=a):a=b[5];b[6]!==i||b[7]!==e||b[8]!==k?(g=[i,e,k],b[6]=i,b[7]=e,b[8]=k,b[9]=g):g=b[9];a=d("ReQLSuspense").useFirst(a,g,f.id+":41");b[10]!==e.tables.experiences_shared_state||b[11]!==j||b[12]!==l?(g=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(j).map(function(a){a=a.stateValue;return l===d("MWEncryptedBackupsDeferLocalStorageUpsell").INFINITE_IMPRESSIONS_LIMIT||+a<l?!1:!0})},b[10]=e.tables.experiences_shared_state,b[11]=j,b[12]=l,b[13]=g):g=b[13];var m;b[14]!==e||b[15]!==j||b[16]!==l?(m=[e,j,l],b[14]=e,b[15]=j,b[16]=l,b[17]=m):m=b[17];b=d("ReQLSuspense").useFirst(g,m,f.id+":56");return a===!0||b===!0}g["default"]=a}),98);
__d("useMWEncryptedBackupsIsUpsellDismissed",["MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","react","react-compiler-runtime","useMWEBIsUpsellDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.upsellType;var e=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),f=i(!1),g=f[0];f=f[1];var h;b[0]!==a?(h={upsellType:a},b[0]=a,b[1]=h):h=b[1];h=c("useMWEBIsUpsellDeferred")(h);var j=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();j=j.virtualDeviceInfo;j=j.doesUserHaveOtcEligibleDevices;if(e&&a===d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL&&!j){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=[!0,f],b[2]=e):e=b[2];return e}a=h===!0||g;b[3]!==a?(j=[a,f],b[3]=a,b[4]=j):j=b[4];return j}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react",["CometPlaceholder.react","CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBVestaUserInfoContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsQPWithPinPlaceholder.react","MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql","deferredLoadComponent","gkx","react","react-compiler-runtime","requireDeferred","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBGetUpsellState","useMWEncryptedBackupsIsUpsellDismissed"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferred")("MWEncryptedBackupsThreadListRestoreQPWrapper.react").__setRef("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react")),l=c("gkx")("3952");function a(a){var e=d("react-compiler-runtime").c(15),f=a.children,g=a.fragmentKey;a=a.trigger;g=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql"),g);var i=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),m=c("useMWEBGetUpsellState")();m=m.isRestoreUpsellsDismissed;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL},e[0]=n):n=e[0];n=c("useMWEncryptedBackupsIsUpsellDismissed")(n);var o=n[0];n=n[1];var p;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(p={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL},e[1]=p):p=e[1];p=c("useMWEncryptedBackupsIsUpsellDismissed")(p);var q=p[0];p=p[1];var r;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL},e[2]=r):r=e[2];r=c("useMWEncryptedBackupsIsUpsellDismissed")(r);var s=r[0];r=r[1];var t;e[3]!==i?(t={backupState:4,isCooldownOrLockOutState:i},e[3]=i,e[4]=t):t=e[4];i=c("useHasRestoreInterstitialSoftblockBeenDismissed")(t);t=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();o=o||q;if(m||o&&!l||o&&l&&s)return f;m=(q=g==null?void 0:g.restore_qp_wrapper_deferred)!=null?q:g==null?void 0:g.restore_qp_wrapper;if(m==null)return f;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(s=j.jsx(c("MWEncryptedBackupsQPWithPinPlaceholder.react"),{}),e[5]=s):s=e[5];e[6]!==f||e[7]!==t||e[8]!==o||e[9]!==m||e[10]!==r||e[11]!==n||e[12]!==p||e[13]!==a?(q=j.jsx(c("CometPlaceholder.react"),{fallback:s,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred",children:j.jsx(k,{children:f,currentSupportedPlatform:t,fragmentKey:m,hasDismissedQps:o,setHasDismissedBanner:r,setHasDismissedQp:n,setHasDismissedQpWithPin:p,trigger:a})}),e[6]=f,e[7]=t,e[8]=o,e[9]=m,e[10]=r,e[11]=n,e[12]=p,e[13]=a,e[14]=q):q=e[14];g=q;switch(t){case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.INSTAGRAM_DIRECT_INBOX:return f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.MESSENGER_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_INBOX:return i?g:f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM:return g}}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferredWithEBCheck.react",["cr:9938"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9938")}),98);
__d("useHasUnjoinedCMThreads",["LSIntEnum","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(4),b=(i||(i=c("useReStore")))(),e;a[0]!==b.tables.threads?(e=function(){return d("ReQL").union(d("ReQL").fromTableDescending(b.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((h||(h=d("LSIntEnum"))).ofNumber(24)),d("ReQL").fromTableDescending(b.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(h.ofNumber(19)))},a[0]=b.tables.threads,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];return!!d("ReQLSuspense").useFirst(e,g,f.id+":22")}g["default"]=a}),98);
__d("MessengerAsyncStorage",["AsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("AsyncStorage")}),98);
__d("useMWCMVerifyActivityStatusOnMountAndFocus",["FBLogger","I64","LSDict","LSFactory","LSFetchCommunitiesActivityStatusStoredProcedure","LSVec","LSVerifyThreadsActivityStatusStoredProcedure","MessengerAsyncStorage","MetaConfig","ServerTime","VisibilityAPI","clearInterval","isCommunityContainersEnabled","promiseDone","react","react-compiler-runtime","setInterval","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState,n=1e3*60*60,o=n*3;function p(a){return(j||(j=d("I64"))).add(j.lsl_(j.of_float(a[0]),32),j.of_float(a[1]))}function q(a){return[(j||(j=d("I64"))).to_float(j.lsr_(a,32)),j.to_float(j.and_(a,j.of_int32(4294967295)))]}function a(a,b){var e=d("react-compiler-runtime").c(33),g=(h||(h=c("useReStore")))(),i=l(null),t="__"+a+".fromTimestampMs__",u;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(u=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()-o)),e[0]=u):u=e[0];u=u;u=m(u);var v=u[0],w=u[1],x=l(v),y;e[1]!==v?(u=function(){x.current=v},y=[v],e[1]=v,e[2]=u,e[3]=y):(u=e[2],y=e[3]);k(u,y);var z=l(!1);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(u=c("MetaConfig")._("55")?["JOINED_PUBLIC_CHANNELS"]:[],e[4]=u):u=e[4];y=u;e[5]!==a?(u=c("MetaConfig")._("95")||a==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[],e[5]=a,e[6]=u):u=e[6];a=u;e[7]!==a?(u=[].concat(y,a),e[7]=a,e[8]=u):u=e[8];y=u;var A=y;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("isCommunityContainersEnabled")(),e[9]=a):a=e[9];var B=a;e[10]!==g||e[11]!==t||e[12]!==A?(u=function(){A.length>0&&c("promiseDone")(c("MessengerAsyncStorage").getItem(t).then(function(a){if(a!=null){var b=JSON.parse(a);b!=null&&(B&&c("promiseDone")(g.runInTransaction(s,"readwrite",void 0,void 0,f.id+":103")),c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadsActivityStatusStoredProcedure")(c("LSFactory")(a),{fromTimestampMs:p(b),serverMode:c("LSVec").ofArray(A),threads:new(c("LSDict"))([])})},"readwrite",void 0,void 0,f.id+":114")))}})["catch"](r),function(){z.current=!0;var a=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()));c("promiseDone")(c("MessengerAsyncStorage").setItem(t,JSON.stringify(a)),function(){w(a)})})},e[10]=g,e[11]=t,e[12]=A,e[13]=u):u=e[13];var C=u;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){i.current!=null&&(c("clearInterval")(i.current),i.current=null)},e[14]=y):y=e[14];var D=y;e[15]!==C?(a=function(){if(i.current!=null)return;if(c("MetaConfig")._("96")){var a;i.current=c("setInterval")(C,(a=c("MetaConfig")._("43"))!=null?a:n)}},e[15]=C,e[16]=a):a=e[16];var E=a;e[17]!==E||e[18]!==C?(u=function(){var a=d("ServerTime").getMillis()-(j||(j=d("I64"))).to_float(p(x.current));i.current==null&&E();a>=((a=c("MetaConfig")._("43"))!=null?a:n)&&C()},e[17]=E,e[18]=C,e[19]=u):u=e[19];var F=u;e[20]!==F||e[21]!==b?(y=function(){d("VisibilityAPI").isVisibilityHidden()?D():b&&c("MetaConfig")._("97")&&F()},e[20]=F,e[21]=b,e[22]=y):y=e[22];var G=y;e[23]!==E||e[24]!==C||e[25]!==G?(a=function(){var a;a=null;z.current||(C(),d("VisibilityAPI").canUseVisibilityAPI&&(a=d("VisibilityAPI").onVisibilityChange(G)),E());return function(){a!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(a),i.current!=null&&(c("clearInterval")(i.current),i.current=null)}},e[23]=E,e[24]=C,e[25]=G,e[26]=a):a=e[26];e[27]!==F||e[28]!==E||e[29]!==b||e[30]!==C||e[31]!==G?(u=[D,F,E,b,C,G],e[27]=F,e[28]=E,e[29]=b,e[30]=C,e[31]=G,e[32]=u):u=e[32];k(a,u)}function r(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to set timestamp for thread activity status")}function s(a){return c("LSFetchCommunitiesActivityStatusStoredProcedure")(c("LSFactory")(a))}g["default"]=a}),98);
__d("useMWInboxContextSwitcherFilterPreloaderCond",["cr:21092","emptyFunction","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){a=d("react-compiler-runtime").c(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={onHoverIn:c("emptyFunction"),onHoverOut:c("emptyFunction"),onPressIn:c("emptyFunction")},a[0]=b):b=a[0];return b}f=(e=b("cr:21092"))!=null?e:a;b=f;g["default"]=b}),98);
__d("useMWInboxContextSwitcherFilterPreloaderOnMountCond",["cr:21093"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){}d=(c=b("cr:21093"))!=null?c:a;e=d;g["default"]=e}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","FDSPivotLinkTabs.react","I64","LSFactory","LSIntEnum","LSThreadRangeFilter","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","Promise","ReQL","ReQLSuspense","cr:7085","gkx","promiseDone","react","react-compiler-runtime","useHasUnjoinedCMThreads","useMWCMVerifyActivityStatusOnMountAndFocus","useMWInboxContextSwitcherFilterPreloaderCond","useMWInboxContextSwitcherFilterPreloaderOnMountCond","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react")),o=m.useEffect,p={tabContainer:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0},tabContainerWithFilters:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"x1egjynq",paddingEnd:"x1ou2tus",paddingLeft:null,paddingRight:null,$$css:!0},tabWithFilters:{paddingStart:"x1h0ha7o",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(37),e=a.entryPoint,g=a.onTabChange,i=a.parentThreadKey,m=a.selectedFilterTab,s=(j||(j=c("useReStore")))();c("useMWCMVerifyActivityStatusOnMountAndFocus")("ContextSwitcher",e==="inbox");var t;b[0]!==s?(a=function(){c("promiseDone")(s.runInTransaction(r,"readwrite",void 0,void 0,f.id+":92"))},t=[s],b[0]=s,b[1]=a,b[2]=t):(a=b[1],t=b[2]);o(a,t);b[3]!==s.tables.threads?(a=function(){var a=[d("ReQL").fromTableDescending(s.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(23)),d("ReQL").fromTableDescending(s.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(k.ofNumber(18)),d("ReQL").fromTableDescending(s.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(k.ofNumber(21))];return d("ReQL").union.apply(void 0,a)},b[3]=s.tables.threads,b[4]=a):a=b[4];b[5]!==s?(t=[s],b[5]=s,b[6]=t):t=b[6];a=!!d("ReQLSuspense").useFirst(a,t,f.id+":102");var u=c("useHasUnjoinedCMThreads")();t=d("MWInboxPersistedUIState").usePersistedUIState(u,"__MWInboxContextSwitcher.hasViewedSuggestedChats__");var v=t[0],w=t[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(t=(k||(k=d("LSIntEnum"))).ofNumber(0),b[7]=t):t=b[7];t=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(t);t=t!=null&&t>0;var x=d("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads(),y=u&&!v,z=e==="jewel"?"jewel_tray":"messenger_inbox",A=e==="inbox"?"jewel_inbox":"chats_inbox",B;b[8]!==A||b[9]!==z?(B={onImpressionStart:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:A,source:"blended_threadlist_community_tab",surface:z})}},b[8]=A,b[9]=z,b[10]=B):B=b[10];B=c("useSinglePartialViewImpression")(B);var C;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(C=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),b[11]=C):C=b[11];c("useMWInboxContextSwitcherFilterPreloaderOnMountCond")(s,i,C);b[12]===Symbol["for"]("react.memo_cache_sentinel")?(C=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),b[12]=C):C=b[12];c("useMWInboxContextSwitcherFilterPreloaderOnMountCond")(s,i,C);b[13]===Symbol["for"]("react.memo_cache_sentinel")?(C=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),b[13]=C):C=b[13];C=c("useMWInboxContextSwitcherFilterPreloaderCond")(s,i,C);var D=C.onHoverIn,E=C.onHoverOut;C=C.onPressIn;var F;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(F=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),b[14]=F):F=b[14];i=c("useMWInboxContextSwitcherFilterPreloaderCond")(s,i,F);F=i.onHoverIn;var G=i.onHoverOut;i=i.onPressIn;if(b[15]!==e||b[16]!==a||b[17]!==u||b[18]!==y||b[19]!==x||b[20]!==t||b[21]!==v||b[22]!==B||b[23]!==D||b[24]!==F||b[25]!==E||b[26]!==G||b[27]!==C||b[28]!==i||b[29]!==g||b[30]!==A||b[31]!==m||b[32]!==w||b[33]!==z){var H=[{filter:(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE),hasNewContentBadge:t,isShown:!0,label:c("gkx")("12903")?h._(/*BTDS*/"All"):h._(/*BTDS*/"Inbox"),odsAction:"inbox_tab_click"}].concat(c("gkx")("12903")?[{filter:(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Unread"),odsAction:"unread_tab_click",onHoverIn:F,onHoverOut:G,onPressIn:i}]:[],c("gkx")("12903")?[{filter:(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Groups"),odsAction:"groups_tab_click",onHoverIn:D,onHoverOut:E,onPressIn:C}]:[],[{filter:k.ofNumber(c("LSThreadRangeFilter").COMMUNITIES),hasNewContentBadge:x||y,isShown:c("gkx")("12903")?!0:a||u,label:h._(/*BTDS*/"Communities"),logClick:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:A,source:"blended_threadlist_community_tab",surface:z})},odsAction:"communities_tab_click",ref:B}]);H=H.filter(q).map(function(a,b){var f=a.filter;b=a.hasNewContentBadge;a.isShown;var h=a.logClick,i=a.odsAction,j=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["filter","hasNewContentBadge","isShown","logClick","odsAction","ref"]);return babelHelpers["extends"]({},a,{hasNewContentBadge:b,onPress:function(){(l||(l=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))&&u&&!v&&w(!0),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+e,i),h==null?void 0:h(),g(f)},ref:j,selected:(l||(l=d("I64"))).equal(f,m),testid:(l||(l=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))?"communities_tab":void 0,xstyle:c("gkx")("12903")?p.tabWithFilters:{}})});b[15]=e;b[16]=a;b[17]=u;b[18]=y;b[19]=x;b[20]=t;b[21]=v;b[22]=B;b[23]=D;b[24]=F;b[25]=E;b[26]=G;b[27]=C;b[28]=i;b[29]=g;b[30]=A;b[31]=m;b[32]=w;b[33]=z;b[34]=H}else H=b[34];a=H;b[35]!==a?(y=n.jsx(c("FDSPivotLinkTabs.react"),{linkType:"deemphasized",tabs:a,tabsContainerStyle:c("gkx")("12903")?p.tabContainerWithFilters:p.tabContainer}),b[35]=a,b[36]=y):y=b[36];return y}function q(a){return a.isShown}function r(a){return b("cr:7085")!=null?b("cr:7085")(c("LSFactory")(a)):(i||(i=b("Promise"))).resolve()}g["default"]=a}),226);
__d("MWXIconMarketplace",["MWXSvgIcon","SVGIcon","cr:12489","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12489")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadListMarketplaceItem.react",["fbt","CometMarketplaceLogger","LSContactBitOffset","LSIntEnum","MWPBumpEntityKey","MWThreadListFolderItem.react","MWXIconGroup","MWXIconMarketplace","MWXIconStrict.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useLogMarketplaceClick","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function a(a){var b=d("react-compiler-runtime").c(27),e=a.onClick,g=a.responsive,k=a.selected,p=a.size;a=a.thread;var q=c("useLogMarketplaceClick")("marketplace_inbox_folder"),r=(i||(i=c("useReStore")))(),s;b[0]!==r.tables._user_info?(s=function(){return d("ReQL").fromTableAscending(r.tables._user_info).map(o)},b[0]=r.tables._user_info,b[1]=s):s=b[1];var t;b[2]!==r?(t=[r],b[2]=r,b[3]=t):t=b[3];var u=d("ReQLSuspense").useFirst(s,t,f.id+":51");b[4]!==r.tables.contacts||b[5]!==u?(s=function(){return u!=null?d("ReQL").fromTableAscending(r.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields)).getKeyRange(u):d("ReQL").empty()},b[4]=r.tables.contacts,b[5]=u,b[6]=s):s=b[6];b[7]!==r||b[8]!==u?(t=[r,u],b[7]=r,b[8]=u,b[9]=t):t=b[9];s=d("ReQLSuspense").useFirst(s,t,f.id+":56");t=s!=null&&d("LSContactBitOffset").has(86,s);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(s=[],b[10]=s):s=b[10];m(n,s);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"Marketplace").toString(),b[11]=s):s=b[11];s=s;var v=c("MWXIconMarketplace");if(t===!0){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"_j[\"Buy-and-sell groups\",\"3a9a1e192465754ec4427995fe1cffb4\",1]").toString(),b[12]=t):t=b[12];s=t;v=c("MWXIconGroup")}b[13]!==v?(t=l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:v,size:36}),b[13]=v,b[14]=t):t=b[14];b[15]!==q||b[16]!==e?(v=function(){q();e((j||(j=d("LSIntEnum"))).ofNumber(-12));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","marketplace_threads")},b[15]=q,b[16]=e,b[17]=v):v=b[17];var w;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(w=(j||(j=d("LSIntEnum"))).ofNumber(-12),b[18]=w):w=b[18];b[19]!==g||b[20]!==k||b[21]!==p||b[22]!==t||b[23]!==v||b[24]!==a||b[25]!==s?(w=l.jsx(c("MWThreadListFolderItem.react"),{icon:t,onClick:v,responsive:g,selected:k,size:p,systemFolder:w,thread:a,threadName:s}),b[19]=g,b[20]=k,b[21]=p,b[22]=t,b[23]=v,b[24]=a,b[25]=s,b[26]=w):w=b[26];return w}function n(){return d("CometMarketplaceLogger").logImpression("marketplace_inbox_folder")}function o(a){return a.facebookUserId}g["default"]=a}),226);
__d("useMWJewelSettingsButtonSecurityAlertsBadge",["FDSBadge.react","react","react-compiler-runtime","useDeviceAlertCount","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(){var a=d("react-compiler-runtime").c(5),b=c("useMAWSecurityAlertsPreferences")();b=b.securityAlertsPreferences;var e=d("useDeviceAlertCount").useDeviceAlertCount();b==null?void 0:b.allowSecurityAlertForSelf;var f;a[0]!==(b==null?void 0:b.allowSecurityAlertForSelf)||a[1]!==e?(f=(b==null?void 0:b.allowSecurityAlertForSelf)&&e>0?i.jsx("div",babelHelpers["extends"]({className:"x1j1mzgm x10l6tqk x12ibf10"},{children:i.jsx(c("FDSBadge.react"),{testid:void 0})})):null,a[0]=b==null?void 0:b.allowSecurityAlertForSelf,a[1]=e,a[2]=f):f=a[2];a[3]!==f?(b={badge:f},a[3]=f,a[4]=b):b=a[4];e=b;return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AudioSettingsVolumeSetting",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",QUIET:"quiet"});f["default"]=a}),66);
__d("CometVideoPlayerInstreamAdsFeedContextCardContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isWatchTab:!1,onNodeChangeFunc:null});function a(){return i(j)}g.CometVideoPlayerInstreamAdsFeedContextCardContext=j;g.useCometVideoPlayerInstreamAdsFeedContextCardContext=a}),98);
__d("CometVideoPlayerNextgendashAvailability",[],(function(a,b,c,d,e,f){a=Object.freeze({AVAILABLE:"AVAILABLE",UNAVAILABLE_NEXTGENDASH_GK:"UNAVAILABLE_NEXTGENDASH_GK",UNAVAILABLE_OZ_PLAYER_AVAILABILITY:"UNAVAILABLE_OZ_PLAYER_AVAILABILITY",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_1:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_1",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_2:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_2",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_3:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_3",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_4:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_4",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_5:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_5",UNAVAILABLE_FROM_JS_OZ_PLAYER_AVAILABILITY:"UNAVAILABLE_FROM_JS_OZ_PLAYER_AVAILABILITY",UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER:"UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER",UNAVAILABLE_FROM_JS_NEXTGENDASH_GK:"UNAVAILABLE_FROM_JS_NEXTGENDASH_GK",UNAVAILABLE_FROM_JS_NOT_DESIRED:"UNAVAILABLE_FROM_JS_NOT_DESIRED"});f["default"]=a}),66);
__d("FDSResizeUpFilled20Icon",["cr:14081"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14081")}),98);
__d("FDSResizeUpFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("517763"),20);b=a;g["default"]=b}),98);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.fairplay_cert,d=a.graph_api_video_license_uri,e=a.video_license_uri_map;a=a.widevine_cert;d={fairplayCert:b,graphApiVideoLicenseUri:(b=d)!=null?b:null,videoLicenseUriMap:e,widevineCert:a};return d.graphApiVideoLicenseUri===null&&c("isEmptyObject")(d.videoLicenseUriMap)?null:d}g.makeGraphQLVideoDRMInfo=a}),98);
__d("GraphQLVideoP2PSettings",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["HiveJava","HiveJS","StatsJS"]);function a(a){return(a=g.cast(a))!=null?a:null}f.HiveTechOrder=g;f.hiveTechOrderOrNull=a}),66);
__d("InstreamVideoAdBreaksPlayer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstreamVideoAdBreaksPlayer_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"InstreamExtraConfig",kind:"LinkedField",name:"instream_extra_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"instream_halo_delay_time_seconds",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{args:null,documentName:"InstreamVideoAdBreaksPlayer_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayerImpl_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("InstreamVideoAdBreaksPlayer.react",["CometPlaceholder.react","CometRelay","InstreamVideoAdBreaksPlayer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(11),f=a.playerFormat,g=a.subOrigin;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("InstreamVideoAdBreaksPlayer_video.graphql"),a);var i=a.id,k=a.instream_extra_config;a=a.instream_video_ad_breaks_comet;k=k==null?void 0:k.instream_halo_delay_time_seconds;var l;e[0]!==k?(l={instreamHaloDelayTimeSeconds:k},e[0]=k,e[1]=l):l=e[1];e[2]!==a||e[3]!==f||e[4]!==g||e[5]!==l||e[6]!==i?(k={instreamExtraConfig:l,instreamVideoAdBreaksComet:a,playerFormat:f,subOrigin:g,videoFBID:i},e[2]=a,e[3]=f,e[4]=g,e[5]=l,e[6]=i,e[7]=k):k=e[7];e[8]!==a||e[9]!==k?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:k})}),e[8]=a,e[9]=k,e[10]=f):f=e[10];return f}g["default"]=a}),98);
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a}),66);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}],["validationErrors",function(a){return(a=a.$.validationErrors)!=null?a:""}]])}f.createOzCustomParser=a}),66);
__d("oz-player/manifests/OzSegmentOptions",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1,this.$2=null}var b=a.prototype;b.setSegmentNumDecisionTime=function(a){this.$2=a};b.getSegmentNumDecisionTime=function(){return this.$2};b.setIsDVLEnabled=function(a){this.$1=a};b.isDVLEnabled=function(){return this.$1};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryParams();var b={};a.forEach(function(a,c){typeof a==="string"||typeof a==="number"?b[c]=a:b[c]=String(a)});return b}a=function(){function a(a){this.$1=d("ConstUriUtils").getUri(a);if(this.$1==null)throw c("err")("Invalid URI passed to OzURI");this.$2=h(this.$1)}var b=a.prototype;b.addQueryData=function(a,b){var c=this.$1;if(typeof a==="string"){var d;c=(d=c)==null?void 0:d.addQueryParam(a,b===void 0?"":b)}else{var e=new Map();Object.keys(a).forEach(function(b){e.set(b,a[b])});c=(d=c)==null?void 0:d.addQueryParams(e)}c!=null&&(this.$1=c,this.$2=h(this.$1))};b.getQueryData=function(){return this.$2};b.getDomain=function(){var a;return(a=(a=this.$1)==null?void 0:a.getDomain())!=null?a:""};b.toString=function(){var a;return(a=(a=this.$1)==null?void 0:a.toString())!=null?a:""};b.getPath=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPath())!=null?a:""};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWWImplConstUri")}),98);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWW")}),98);
__d("oz-player/utils/ozConcatUint8Arrays",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.length;++c)b+=a[c].byteLength;var e,f;try{e=new ArrayBuffer(b),f=new Uint8Array(e)}catch(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_ALLOCATION_FAILURE",description:a.name+": "+a.message})}c=0;for(b=0;b<a.length;++b){var g=a[b];f.set(g,c);c+=g.byteLength}return{buffer:e,view:f}}g["default"]=a}),98);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function i(a){var b=[],d=function c(){return a.read().then(function(a){var d=a.value;a=a.done;if(a)return null;if(!d)return null;b.push(d);return c()})};return d().then(function(){var a=c("oz-player/utils/ozConcatUint8Arrays")(b);a=a.view;return a})}function a(a){return i(a).then(function(a){return h(a)})}function b(a){var b=new Uint8Array(a.length);return b.map(function(b,c){return a.charCodeAt(c)})}g.pumpAllData=i;g.pumpString=a;g.stringToUint8Array=b}),98);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.playbackResolutionCsvqm=function(a){try{return a.$.FBPlaybackResolutionCsvqm}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a}),98);
__d("OzDOMEventListenerImpl",["CometEventListener"],(function(a,b,c,d,e,f,g){"use strict";a={listenDOMEvent:c("CometEventListener").listen,captureDOMEvent:c("CometEventListener").capture,suppressDOMEvent:c("CometEventListener").suppress};b=a;g["default"]=b}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a){var b=this;if(a.length===0)return[];var c=a.filter(function(a){var c=a.getWidth();a=a.getHeight();c=c<a?c:a;return c>=b.$1});return c.length>0?c:[a[a.length-1]]};return a}();f["default"]=a}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a.slice():a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;var e;if(c>0){e=this.$7((c=e)!=null?c:a,b)}if(d>0){e=this.$8((c=e)!=null?c:a,b)}return(d=e)!=null?d:a.slice()};return a}();g["default"]=a}),98);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);if(3>0)return!isNaN(a)&&a>0&&a<=3}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");a.getBool("normalize_mpd_fetch_errors",!1)&&f.push("20");var g=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&g==="")return;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"20":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a}),66);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&c==="")return;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(a,b,c,d,e,f,g,h){a=h;g["default"]=a}),98);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/ozvariantWWW")}),98);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}f.equalTo=h;f.greaterThan=i;f.lessThan=j;f.lessThanOrEqual=a;f.greaterThanOrEqual=b}),66);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=.01;function i(a,b){b=b.rangeEnd;return b==null?!1:Math.abs(a.rangeStart-b)>h&&a.rangeStart>b}function j(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a==null)return!0;return b==null?!1:Math.abs(a-b)>h&&a>b}function k(a,b,c,d){a=c.rangeEnd;return a==null?!1:b===a||Math.abs(b-a)>((c=d)!=null?c:h)&&b>a}function a(a,b,c){var d=b.rangeEnd;if(d==null)return!1;c=(c=c)!=null?c:h;return a-b.rangeStart>=c&&d-a>=c}function l(a,b){return a>b-h}function b(a){if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!j(e,c))continue;else i(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b}function c(a,b,c){return b.reduceRight(function(b,d){k(a,d.rangeStart,c)||k(a,c.rangeStart,d)?b.push(d):(c.rangeEnd!=null&&(d.rangeEnd==null||k(a,d.rangeEnd,c))&&b.push({rangeStart:c.rangeEnd,rangeEnd:d.rangeEnd}),l(c.rangeStart,d.rangeStart)&&b.push({rangeStart:d.rangeStart,rangeEnd:c.rangeStart}));return b},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()}function e(a,b,c,d){d===void 0&&(d=h);for(var e=0;e<c.length;e++){var f=c[e],g=f.rangeStart;if(l(b,g)&&!k(a,b,f,d))return e}return-1}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!l(a,d))return c}return-1}function m(a,b,c){return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)}function n(a,b){var c;c=a.length==0?(c=b[b.length-1])!=null?c:null:null;for(var e=0;e<a.length;e++){var f=a[e];for(var g=e;g<b.length;g++){var h=b[g];if(d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&f.rangeEnd!=null&&h.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd))break;else if(h.rangeEnd!=null&&f.rangeEnd!=null&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)){c={rangeStart:h.rangeStart,rangeEnd:h.rangeEnd};break}else if(h.rangeEnd!=null&&f.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd)){c={rangeStart:f.rangeEnd,rangeEnd:h.rangeEnd};break}}if(c!==null)break}return c}function o(a){var b=[];for(var c=0;c<a.length;c++)b.push({rangeStart:a[c].startTime,rangeEnd:a[c].endTime});return b}g.isAfter=k;g.isWithin=a;g.isLargerThan=l;g.mergeSortedRanges=b;g.diffSortedRanges=c;g.findCurrentRangeIndex=e;g.findNextRangeIndex=f;g.findDiffCoveredByRanges=m;g.firstAddedInSortedRanges=n;g.convertFromTimeRanges=o}),98);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1e-4;a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=!1),this.$7=new(c("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=b,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var b=a.prototype;b.getSegmentByTime=function(a){a=this.$12(a);a=a*this.$3;var b=null;for(var c=this.$4.length-1;c>=0;c--){var e=this.$4[c];if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;b=e}if(b===null)return null;if(d("oz-player/utils/OzNumericalHelper").greaterThan(b.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-b.t+this.$9)/b.d));return this.$13(b,e)};b.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<h};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,646),this.$6=b.$6,this.$14(b.$4),this.$15(b.$4),this.$7.emit("segment_updated")};b.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};b.blockTimeRange=function(a){this.$10=a};b.$16=function(a,b){return d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};b.$12=function(a){var b=a,c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$14=function(a){var b;(b=this.$4).splice.apply(b,[0,this.$4.length].concat(a));return};b.$15=function(a){a=this.$11(a);a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.$11=function(a){var b=this;a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(a){var c=b.$13(a,0).getTimeRange().startTime;a=b.$13(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a==null?Infinity:a;return{startTime:b,endTime:a}})};b.$13=function(a,b){var d=this;b===void 0&&(b=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*b,i=this.$8.getBool("use_scf_timebased_segments"),j=a!=null?a-(g-b):null,k=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){var a="";d.$1!=null&&j!=null?a=d.$1.replace("$Number$",j.toString()):j!=null&&d.$2.indexOf("$Number$")!==-1&&d.$8.getBool("parse_number_templated_uri")?a=d.$2.replace("$Number$",j.toString()):a=d.$2.replace("$Time$",h.toString());a=new(c("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_scf",1);return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return k}}};b.getSegmentGroups=function(){return this.$4};b.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};b.forceParseIfNotParsed=function(){};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;var b=a.indexOf("://"),c=a.indexOf("/",b+3);c>b&&(a=a.substring(c));return a}function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function b(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}f.stripToPathAndQueryOnly=a;f.joinRelativeUrlPaths=j;f.joinUrlPaths=b}),66);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer$p_9=0;c.$PredictedSegmentTemplateSegmentsContainer$p_11=null;c.$PredictedSegmentTemplateSegmentsContainer$p_10=d;c.$PredictedSegmentTemplateSegmentsContainer$p_8=k;c.$PredictedSegmentTemplateSegmentsContainer$p_12=f;c.$PredictedSegmentTemplateSegmentsContainer$p_7=b;c.$PredictedSegmentTemplateSegmentsContainer$p_5=e;c.$PredictedSegmentTemplateSegmentsContainer$p_1=g;c.$PredictedSegmentTemplateSegmentsContainer$p_3=i;c.$PredictedSegmentTemplateSegmentsContainer$p_2=h;c.$PredictedSegmentTemplateSegmentsContainer$p_4=j;c.$PredictedSegmentTemplateSegmentsContainer$p_6=b.getNumber("live_numerical_error_epsilon");for(d=0;d<c.$PredictedSegmentTemplateSegmentsContainer$p_12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer$p_12[d].d,c.$PredictedSegmentTemplateSegmentsContainer$p_9);return c}var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer$p_13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_2!=null&&this.$PredictedSegmentTemplateSegmentsContainer$p_4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer$p_4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer$p_2};else return null};e.$PredictedSegmentTemplateSegmentsContainer$p_14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer$p_1.indexOf("%24Number%24")===-1?this.$PredictedSegmentTemplateSegmentsContainer$p_1.replace("$Number$",e.toString()):this.$PredictedSegmentTemplateSegmentsContainer$p_1.replace("%24Number%24",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getString("cdn_experiment_id",""),i=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),j=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return j},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g);h.length!==0&&a.addQueryData("_nc_expid",h);var b=j.isDVLEnabled();b&&i>0&&f.$PredictedSegmentTemplateSegmentsContainer$p_10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer$p_10)),a.addQueryData("_nc_dinfo-timeout",i));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer$p_3=d.$PredictedSegmentTemplateSegmentsContainer$p_3;this.$PredictedSegmentTemplateSegmentsContainer$p_1=d.$PredictedSegmentTemplateSegmentsContainer$p_1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer$p_12=d.$PredictedSegmentTemplateSegmentsContainer$p_12;this.$PredictedSegmentTemplateSegmentsContainer$p_8=d.$PredictedSegmentTemplateSegmentsContainer$p_8;for(d=0;d<this.$PredictedSegmentTemplateSegmentsContainer$p_12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer$p_9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer$p_12[d].d,this.$PredictedSegmentTemplateSegmentsContainer$p_9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer$p_15(a):this.$PredictedSegmentTemplateSegmentsContainer$p_16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer$p_11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer$p_13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer$p_5}];var c=this.$PredictedSegmentTemplateSegmentsContainer$p_11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer$p_7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd==null?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){return!0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer$p_13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer$p_16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer$p_5;var e=this.$PredictedSegmentTemplateSegmentsContainer$p_12.length>0?this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer$p_7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer$p_9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer$p_9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer$p_9);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(0,0,this.$PredictedSegmentTemplateSegmentsContainer$p_3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer$p_6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer$p_14(b.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3-e)};e.$PredictedSegmentTemplateSegmentsContainer$p_15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer$p_5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer$p_16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer$p_12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer$p_2),this.$PredictedSegmentTemplateSegmentsContainer$p_3-this.$PredictedSegmentTemplateSegmentsContainer$p_12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer$p_14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer$p_4)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer$p_8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer$p_3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer$p_12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer$p_12[this.$PredictedSegmentTemplateSegmentsContainer$p_12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer$p_14(a.t/this.$PredictedSegmentTemplateSegmentsContainer$p_5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer$p_5,this.$PredictedSegmentTemplateSegmentsContainer$p_3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer$p_9/this.$PredictedSegmentTemplateSegmentsContainer$p_5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a}),98);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var b=a.prototype;b.parseSegmentsContainer=function(b,e,f){return new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(b,d("oz-player/utils/OzUrlHelper").joinUrlPaths(e.baseUrl,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(b,f),null,e.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a}),98);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);
__d("OzSystemicRiskABRManager",["OzSystemicRiskABRUtils","OzSystemicRiskUtils","VideoPlayerOzWWWConfig","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.$1=a,this.$2=c,this.$3=d,this.$4=e,this.$6=f,this.$7=g,this.$8=h,this.$9={bestRepresentation:b,hasMadeInitialDecision:!1,lastEvaluationReason:void 0},this.$10=i,this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_initialized").setResult("success").setUserInfo({codecs:c.map(function(a){return a.getCodecs()}).join("|"),displayLabels:c.map(function(a){return a.getDisplayLabel()}).join(","),representationIds:c.map(function(a){return a.getID()}).join(",")}).setRepresentationID(b.getID()).setType("video").setInitiator("OzSystemicRiskABRManager").log()}var b=a.prototype;b.setSourceBuffer=function(a){this.$5=a};b.updateRepresentations=function(a){var b=this,c=this.$2;this.$2=a;var d=this.$9.bestRepresentation,e=this.$2.find(function(a){return a.getDisplayLabel()===b.$9.bestRepresentation.getDisplayLabel()});this.$9=babelHelpers["extends"]({},this.$9,{bestRepresentation:(e=e)!=null?e:this.$2[0]});this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_representations_updated").setResult("success").setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(d.getID()).setUserInfo({newCodecs:a.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:a.map(function(a){return a.getDisplayLabel()}).join(","),previousRepresentationIds:c.map(function(a){return a.getID()}).join(",")}).setType("video").setInitiator("OzSystemicRiskABRManager").log()};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e="mos";if(b instanceof c("VideoPlayerOzWWWConfig")){var f=b.getAllContexts();f=String(f.quality_score_type);e=f==="csvqm"?"csvqm":"mos"}f=(f=(f=this.$5)==null?void 0:f.getSourceBufferState().getBufferedRanges())!=null?f:null;var g=this.$4.getCurrentTime(),h=this.$4.getDuration(),i=this.$9.bestRepresentation,j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);this.$9=d("OzSystemicRiskABRUtils").evaluateSystemicRiskABR({abrState:this.$9,bandwidthDiagnostics:j,devicePixelRatio:this.$6,durationMode:this.$8,isDocumentHidden:document.hidden,mediaDurationSec:h,playerDimensions:this.$7(),playheadMediaTimeSec:g,qualityScoreType:e,segments:a,sourceBufferBufferedRangesSec:f,systemicRiskConfig:d("OzSystemicRiskUtils").getSystemicRiskConfigFromOzPlayerConfig(b),videoRepresentationRestrictions:this.$3,videoRepresentations:this.$2});this.$1.getBool("enable_abr_logging")&&this.$9.bestRepresentation!==i&&this.$10.getOperationLogger("abr_best_representation_selected").setResult("success").setReason(this.$9.lastEvaluationReason).setRepresentationID(this.$9.bestRepresentation.getID()).setPreviousRepresentationID(i==null?void 0:i.getID()).setUserInfo({bandwidthEstimate:String(j==null?void 0:j.bandwidthEstimate),qualityScoreType:e}).setType("video").setInitiator("OzSystemicRiskABRManager").log();return this.$9.bestRepresentation};b.getLastEvaluationReason=function(){return this.$9.lastEvaluationReason};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzStreamsWWW",["cr:927622","cr:927623"],(function(a,b,c,d,e,f,g){"use strict";c=Boolean(b("cr:927622"));d=Boolean(b("cr:927623"));e=b("cr:927622")?b("cr:927622").ReadableStream:a.ReadableStream;f=b("cr:927623")?b("cr:927623").WritableStream:a.WritableStream;g.OzReadableStream=e;g.OzReadableStreamIsPolyfilled=c;g.OzWritableStream=f;g.OzWritableStreamIsPolyfilled=d}),98);
__d("oz-player/shims/OzStreams",["oz-player/shims/www/OzStreamsWWW"],(function(a,b,c,d,e,f,g){"use strict";g.OzReadableStream=(a=d("oz-player/shims/www/OzStreamsWWW")).OzReadableStream;g.OzReadableStreamIsPolyfilled=a.OzReadableStreamIsPolyfilled;g.OzWritableStream=a.OzWritableStream;g.OzWritableStreamIsPolyfilled=a.OzWritableStreamIsPolyfilled}),98);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzStreams","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;var e=(b=b==null?void 0:b.errorTransform)!=null?b:function(a){return a},f,g;c.writable=new(d("oz-player/shims/OzStreams").OzWritableStream)({start:function(a){g=a},write:function(a){c.emit("writableWrite",a);try{c.onDataWritten(a)}catch(a){f.error(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from write handler: "+c.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}f.enqueue(a)},close:function(){c.emit("writableClose");try{c.onClose()}catch(a){f.error(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Error from close handler: "+c.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}f.close()},abort:function(a){a=e(a);f.error(a)}});c.readable=new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(a){f=a},cancel:function(a){c.emit("readableCancel",a),g.error(a)}});return c}var c=b.prototype;c.onDataWritten=function(a){};c.onClose=function(){};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzPerformanceWWW",["performance","performanceNow"],(function(a,b,c,d,e,f,g){var h,i;a={now:function(){return(h||(h=c("performanceNow")))()},getEntriesByName:function(a,b){return typeof (i||(i=c("performance"))).getEntriesByName==="function"?(i||(i=c("performance"))).getEntriesByName(a,b):[]}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzPerformance",["oz-player/shims/www/OzPerformanceWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/OzPerformanceWWW")}),98);
__d("oz-player/utils/OzResourceTimingUtils",["oz-player/shims/OzPerformance"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=c("oz-player/shims/OzPerformance").getEntriesByName(a,"resource");return a.reduce(function(a,b){return a==null?b:b.responseEnd<a.responseEnd?a:b},null)};g.getLatestResourceTimingEntry=a}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("oz-player/drm/OzDrmUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};f.base64ToUint8Array=a;f.arrayBufferToBase64=b}),66);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){this.$2=[];this.$4=!0;this.$5=!1;g!=null&&g!==""&&(this.$1=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(g));if(b!=null&&f!=null){b=(g=d("ConstUriUtils").getUri(b))==null?void 0:g.addQueryParam("access_token",f);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",a);this.$3=b.toString();this.$5=!0;this.$4=!1}else{g=e["0"];if(g==null){g="/video/drm/getlicense";b=(f=d("ConstUriUtils").getUri(g))==null?void 0:f.addQueryParam("video_id",a);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",a);this.$3=b.toString()}else this.$3=g}}var b=a.prototype;b.getKeySystem=function(){return"com.widevine.alpha"};b.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};b.getInitDatas=function(){return this.$2};b.setInitDatas=function(a){this.$2=a};b.getRequireDistinctiveIdentifier=function(){return"optional"};b.getRequirePersistentState=function(){return"optional"};b.getInitDataTypes=function(){return};b.getDrmSessionTypes=function(){return["temporary"]};b.getAudioRobustness=function(){return""};b.getVideoRobustness=function(){return""};b.getServerCertificate=function(){return this.$1};b.getLicenseRequestInfo=function(a){var b={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(b.credentials="include");a=d("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};b.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var c;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!=null||(c=b.license)}else c=a;if(c!=null&&c!=="")try{return d("oz-player/drm/OzDrmUtils").base64ToUint8Array(c)}catch(a){if(a.name==="InvalidCharacterError")throw new Error("Endpoint returned error: "+c);else throw a}return null};return a}();g["default"]=a}),98);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||h(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||h(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();g["default"]=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("getAvailableMimeCodecsFromDashManifest",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=/^(audio|video)\/.*$/;return b.test(a)}function a(a,b){var c=[];b=b?window.ManagedMediaSource:window.MediaSource;if(a!=null){var d=/mimeType=\"([^\"]*)\"[^\>]*codecs=\"([^\"]*)\"/g,e=/codecs=\"([^\"]*)\"[^\>]*mimeType=\"([^\"]*)\"/g,f,h=[];while(f=d.exec(a))h.push([f[1],f[2]]);while(f=e.exec(a))h.push([f[2],f[1]]);for(d of h){f=d[0];a=d[1];e=f+'; codecs="'+a+'"';h=f.startsWith("audio")?"audio":f.startsWith("video")?"video":"other";var i=!0,j=!1;g(e)&&(j=!0,i=b?b.isTypeSupported(e):!1);c.push({codecs:a,isRequiredForPlayback:j,isTypeSupported:i,mimeCodec:e,mimeType:f,representationType:h})}}return c}f["default"]=a}),66);
__d("VideoPlayerOzImplementationData",["err","getAvailableMimeCodecsFromDashManifest"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifestUrl,e=a.dashManifestUrlOverride_DO_NOT_USE,f=a.dashManifestXmlString,g=a.experimentationConfig,h=a.initialAudioUserPreferredLanguage;a=a.minQualityPreference;if(b!==!0){var i=c("err")("canUseOz="+String(b));i.name="GotCanUseOz/"+String(b);return i}b=e!=null?null:f==null||f===""?null:f;i=e!=null?e:d==null||d===""?null:d;if(b==null&&i==null){f=c("err")("Got no manifest XML and no URL to it");f.name="GotNoManifestOrURL";return f}e=g.getBool("enable_managed_media_source",!1);if(e){if(!window.ManagedMediaSource){d=c("err")("window.ManagedMediaSource is missing");d.name="GotMissingManagedMediaSourceAPI";return d}}else if(!window.MediaSource){f=c("err")("window.MediaSource is missing");f.name="GotMissingMediaSourceAPI";return f}if(b!=null){d=c("getAvailableMimeCodecsFromDashManifest")(b,e).filter(function(a){return a.isRequiredForPlayback});f=d.filter(function(a){return!a.isTypeSupported});if(f.length>0){e=c("err")("%s out of %s codecs in DASH manifest required for playback are unsupported: %s",String(f.length),String(d.length),d.map(function(a){return a.mimeType+"/"+a.codecs+"="+(a.isTypeSupported?"yes":"no")}).join(", "));e.name="GotManifestWithUnsupportedCodecs";return e}}return{experimentationConfig:g,initialAudioUserPreferredLanguage:(f=h)!=null?f:null,initialVideoVariant:{lang:(d=h)!=null?d:null,role:null},manifest:b,manifestUrl:i,minQualityPreference:(e=a)!=null?e:null}}g.makeOzImplementationData=a}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return(a=a.getSelectedVideoQuality())!=null?a:""}function i(a){a=a.getCurrentPlayingAudioTrackID();return a==null?null:a}function j(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getDisplayLabel()}function k(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":(a=a.getSelectedVideoQuality())!=null?a:"auto";return a}function l(a){return a.getTargetAudioTrack()}function m(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function n(a,b){var c=k(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function o(a,b){b=b;a.switchToVideoVariant(b)}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAvailableAudioTracks:function(){var a;a=(a=d())==null?void 0:a.getAudioTracks();if(!a)return[];a=a.map(function(a){return{displayLabel:a.displayLabel,id:a.id,lang:a.lang,mimeCodecs:a.mimeCodecs,role:a.role,variantKey:a.variantKey}});return a},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getAvailableVideoTracks:function(){var a;a=(a=d())==null?void 0:a.getVideoTracks();if(!a)return[];a=a.map(function(a){return{codec:a.codec,codecFamily:a.codecFamily,displayLabel:a.displayLabel,height:a.height,id:a.id,lang:a.lang,mimeCodecs:a.mimeCodecs,qualityLabel:a.qualityLabel,role:a.role,variantKey:a.variantKey,width:a.width}});return a},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingAudioRepresentationID:function(){var a=d();return a?i(a):null},getCurrentPlayingAudioTrackID:function(){var a=d();return a?i(a):null},getCurrentPlayingVideoQuality:function(){var a=d();return a?j(a):""},getCurrentPlayingVideoRepresentationID:function(){var a;return(a=(a=d())==null?void 0:(a=a.getCurrentVideoRepresentation())==null?void 0:a.getID())!=null?a:null},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("fbManifestIdentifier");return a!=null?String(a):null},getMpdValidationErrors:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("validationErrors");return a!=null?String(a):null},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))},getStreamType:function(){return"dash"},getTargetAudioTrack:function(){var a=d();return a?l(a):null},getUserSelectedVideoQuality:function(){var a=d();return a?k(a):""},getUserSelectedVideoVariant:function(){var a=d();return(a=a==null?void 0:a.getTargetVideoVariant())!=null?a:null},getVideoProjectionType:function(){var a=d();return a!=null?m(a):null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isLiveRewindAvailable:function(){var a;a=(a=(a=d())==null?void 0:a.getMpdUrl())!=null?a:"";try{return(a=(a=new URL(a).searchParams.get("ms"))==null?void 0:a.includes("m_CT"))!=null?a:!1}catch(a){}return!1},isMixedCodecManifest:function(){var a,b;a=(a=d())==null?void 0:a.getMpd();if(a==null)return null;a=(a=a.getVideoRepresentations())!=null?a:[];a=new Set(a.map(function(a){return/codecs=\"([^\".]+)/i.exec(a.getMimeCodecs())}));b=(b=(b=d())==null?void 0:(b=b.getMpd())==null?void 0:b.getAudioRepresentations())!=null?b:[];b=new Set(b.map(function(a){return/codecs=\"([^\".]+)/i.exec(a.getMimeCodecs())}));return a.size>1||b.size>1},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),e(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&n(b,a)},setUserSelectedVideoVariant:function(a){var b=d();b!=null&&a!=null&&o(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],(function(a,b,c,d,e,f){"use strict";a=b("OzDOMEventListenerImpl");f["default"]=a}),66);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDOMEventListenerWWW")}),98);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("SubscriptionsHandler")}),98);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzSubscriptionsHandlerWWW")}),98);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("throttle")}),98);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozThrottleWWW")}),98);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);a=this.$3 instanceof j?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,a,c)?new j(this.$1,this.$2):this};return a}(),i=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){return a.type==="play"||a.type==="playing"||!b.paused?d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getStartBufferUnderflowTarget(),c)?new j(this.$1,this.$2):new h(this.$1,this.$2,this):this};return a}(),j=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var b=a.prototype;b.handleEvent=function(a,b,c,e){e===void 0&&(e=new Map());if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);return!d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getInPlayBufferUnderflowTarget(),c)&&!this.$4(a,b.currentTime,e)?new h(this.$1,this.$2,this):this};b.$4=function(a,b,c){return a.type==="waiting"?!1:d("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(b,c,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();g.OzVideoBufferingState=h;g.OzVideoPausedState=i;g.OzVideoPlayingState=j}),98);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var b=a.prototype;b.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return c("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};b.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.notifyBufferingEnd=function(){this.$4=c("oz-player/shims/OzPerformance").now()};b.notifyStreamInterrupted=function(){this.$2=!0};b.notifyStreamResumed=function(){this.$2=!1,this.$3=c("oz-player/shims/OzPerformance").now()};b.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||c("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g.$OzBufferingDetector$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$OzBufferingDetector$p_6=new Map();g.$OzBufferingDetector$p_8=null;g.$OzBufferingDetector$p_9=function(a){g.$OzBufferingDetector$p_11(a)};g.$OzBufferingDetector$p_2=b;g.$OzBufferingDetector$p_4=e;g.$OzBufferingDetector$p_5=f;g.$OzBufferingDetector$p_7=new(c("oz-player/strategies/OzBufferingStateThresholdManager"))(e);g.$OzBufferingDetector$p_2.paused?g.$OzBufferingDetector$p_1=new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4):g.$OzBufferingDetector$p_1=d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(g.$OzBufferingDetector$p_2,g.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget(),g.$OzBufferingDetector$p_5())?new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4):new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(g.$OzBufferingDetector$p_7,g.$OzBufferingDetector$p_4,null);g.$OzBufferingDetector$p_3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"pause",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"play",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"progress",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector$p_9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"timeupdate",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector$p_9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"seeked",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"seeking",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"waiting",g.$OzBufferingDetector$p_9));g.$OzBufferingDetector$p_3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"canplay",g.$OzBufferingDetector$p_9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector$p_2,"canplaythrough",g.$OzBufferingDetector$p_9));return g}var e=b.prototype;e.$OzBufferingDetector$p_10=function(){var a=this,b="unavailable",c=this.$OzBufferingDetector$p_7.getInPlayBufferUnderflowTarget();this.$OzBufferingDetector$p_6.forEach(function(e,f){var g=a.$OzBufferingDetector$p_2.currentTime;d("oz-player/utils/OzBufferingUtils").hasBuffer(g,c,e)||(b=b==="unavailable"?f:"audio/video")});return b};e.setSourceBufferState=function(a,b){this.$OzBufferingDetector$p_6.set(a,b)};e.$OzBufferingDetector$p_11=function(a){var b=this.$OzBufferingDetector$p_1.handleEvent(a,this.$OzBufferingDetector$p_2,this.$OzBufferingDetector$p_5(),this.$OzBufferingDetector$p_6),c=this.$OzBufferingDetector$p_1;this.$OzBufferingDetector$p_1=b;var e=b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,f=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(b===c){e&&this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(a.type).log();return b}if(e){e=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(e).setReason(this.$OzBufferingDetector$p_10()).setInitiator(a.type).log();this.emit("enterBuffering",e)}else f&&(this.$OzBufferingDetector$p_8&&this.$OzBufferingDetector$p_8.cloneContext().getOperationLogger("leave_buffering").setInitiator(a.type).log(),this.$OzBufferingDetector$p_7.notifyBufferingEnd(),this.emit("leaveBuffering",{domEventPerfTimestamp:a.timeStamp}));return b};e.notifyStreamInterrupted=function(){this.$OzBufferingDetector$p_7.notifyStreamInterrupted()};e.notifyStreamResumed=function(){this.$OzBufferingDetector$p_7.notifyStreamResumed()};e.attachPerfLoggerProvider=function(a){this.$OzBufferingDetector$p_8=a};e.destroy=function(){this.$OzBufferingDetector$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:21294","cr:21295","gkx","justknobx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector"],(function(a,b,c,d,e,f,g){"use strict";var h=null;h=b("cr:21294");h==null&&(h=b("cr:21295"));var i=/(livestream-)?lookaside\.(facebook|workplace)\.com$/;function a(a){return i.test(a.getDomain())}function d(a,b,d,e,f,g){if(f.current!=null)return;var h=!0,i=function(){if(h)return!1;f.current!==j;return!1},j=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=j;h=!1;a=function(a){if(i())return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"});a=d.getNumber("ull_fallback_stall_count",0);if(a>0){var b=g.getLoggerState().stallCountTotal;d.getBool("fix_ull_fallback_stall_count",!1)&&(b=g.getLoggerState().inPlayStallCount200ms);e.getCurrentState().controlledState.latencyLevel==="ultra-low"&&b>a&&e.dispatch({payload:{latencyLevel:"low",ullIneligibilityReason:null},type:"implementation_set_latency_level_requested"})}};var k=function(a){if(i())return;e.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})};j.addListener("enterBuffering",a);j.addListener("leaveBuffering",k)}function e(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];if(d&&a!=null){var f=c("justknobx")._("717")?null:d.widevineCert;e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,(a=f)!=null?a:null))}return e}function f(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function j(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function k(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function l(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function m(a){return function(b,d,e,f,g,i,j,k,l){return!a&&h!=null?new h(b,d,e,f,g,i,j,k,l):b.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(b,d,e,f,g,i,j,k,l):null}}function n(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.isClientTriggeredTraceEnabled,h=b.playbackIsLiveStreaming,i=b.playbackSessionId;b=b.shouldRefresh403;var j=a.getQueryData(),k;if(h){k={};if(d.getBool("server_side_abr_send_client_estimates",!1)){var l=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);l&&(k=babelHelpers["extends"]({},k,{_nc_bwe:String(l.bandwidthEstimate),_nc_bwe_std:String(l.bandwidthStandardDeviation),_nc_ttfb:String(l.timeToFirstByteMsEstimate),_nc_ttfb_std:String(l.timeToFirstByteMsStandardDeviation)}));l=e();l&&(k=babelHelpers["extends"]({},k,{_nc_abr_bitrate:String(l.getBandwidth()),_nc_abr_qlabel:l.getDisplayLabel()}))}}e=d.getNumber("live_video_chunk_duration",0);l=d.getBool("use_bandwidth_estimate_from_headers_in_abr",!1);d=l?c("oz-player/networks/OzBandwidthEstimator").hasRecentBandwidthEstimateFromHeader():!1;h&&e>0&&d&&(k=babelHelpers["extends"]({},k,{chk_dur:e.toString(10)}));c("gkx")("24354")&&(j.uss!=null&&j.odm!=null&&(k=babelHelpers["extends"]({},k,{manual_redirect:"1"})));g&&(k=babelHelpers["extends"]({},k,{_nc_psid:i}));if(b){l=f();if(l!=null){h=a.getDomain()+a.getPath();d=l.get(h);if(d!=null)for(e in d){k=babelHelpers["extends"]({},k,(j={},j[e]=d[e],j))}}}return k}g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=d;g.createOzDrmProviders=e;g.createOzPerfLoggerProviders=f;g.calculateInitialPlaybackPositionForDynamicMpd=j;g.calculateLiveheadFallBehindBlockThreshold=k;g.calculateLiveheadFallBehindBlockMargin=l;g.getVideoAbrManagerFactory=m;g.getCustomRequestParametersForURI=n}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(720));break;case"UHD":c("gkx")("24263")&&d.push(new(c("OzMinimumSmallestDimensionRestriction"))(1080));break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a}),98);
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(a,b,c,d,e,f){a={bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,catchup_use_timeline_range_end_time_as_end:!1,clear_on_seek:!0,debug_live_replay:!1,do_not_end_stream:!1,enable_abr_logging:!1,enable_alternative_audio_tracks:!1,enable_lip_sync_abr_select_quality:!1,enable_managed_media_source:!1,enable_revoke_object_url_on_destroy:!1,fix_live_rewind_user_selected_playback_speed:!0,ignore_reset_after_seek_if_bufferahead:!1,latencymanager_stalled_edgelatency_sec_on:!1,msm_refactor_wait_for_sourceopen:!1,ms_promise_for_null:!1,no_rep_to_switch_fallback_progressive:!1,normalize_mpd_fetch_errors:!0,parse_number_templated_uri:!0,pdash_use_pdash_segmentlocator:!1,playback_speed_latency_adjustment_disabled:!1,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!0,playhead_manager_clamp_initial_playback_position:!1,reset_catchup_timeout_after_play_sec_on_overwrite:!0,retry_video_element_error:!0,sidx_parser_memory_optimization:!0,skip_videobuffer_gaps:!0,skip_videobuffer_gaps_on_buffer_updated:!0,use_live_latency_manager:!1,use_scf_timebased_segments:!1,video_cdn_url_refresh:!1,vtt_caption_representation:!0};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_header_expire_threshold:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_around_playhead_boundary_ms:5e3,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_cursor_buffer_ahead_time_max_sec:0,download_cursor_total_buffer_max_sec:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,sidx_segment_retry_attempts:9999,sidx_segment_retry_interval_ms:100,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steadystate_minbuffer_buckets:0,steadystate_minbuffer_buckets_sec:1,steadystate_minbuffer_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:6,stream_interrupt_in_play_buffer_overflow_target:1,stream_reader_max_buffer_len:0,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0};c={bandwidth_estimate_header_key:"",bandwidth_estimate_key:"",block_representation_status_codes_json:"[500, 503]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a){return typeof this.$1[a]==="boolean"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};b.getNumber=function(a){return typeof this.$1[a]==="number"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};b.getString=function(a){return typeof this.$1[a]==="string"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};b.getLegacyConfig=function(){var a=this;return{getBool:function(b,c){return typeof a.$1[b]==="boolean"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[b])!=null?b:c},getNumber:function(b,c){return typeof a.$1[b]==="number"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[b])!=null?b:c},getString:function(b,c){return typeof a.$1[b]==="string"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[b])!=null?b:c}}};return a}();g["default"]=a}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a}),98);
__d("oz-player/networks/OzClientClock",["oz-player/shims/OzPerformance","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a!==null){a=parseInt(a,10);if(!isNaN(a))return a}return null}a=function(){function a(){this.$1=null,this.$2=0,this.$2=Date.now()-c("oz-player/shims/OzPerformance").now()}var b=a.prototype;b.updateOffsetFromHeaderResponse=function(a,b){var c=h(b.get("x-fb-dynamic-server-wallclock-ms"));b=h(b.get("x-fb-dynamic-rtt-ms"));a=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(a);if(c!==null&&b!==null&&a!=null&&(a.responseStart>0&&a.duration>10)){a=a.requestStart+this.$2;c=c-a-b/2;this.$1=c}};b.now=function(){var a;return c("oz-player/shims/OzPerformance").now()+this.$2+((a=this.$1)!=null?a:0)};b.getClientClockOffsetMs=function(){return this.$1};return a}();b=new a();g["default"]=b}),98);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.onResponse=function(a,b){var d=a.headers;if(!d)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(b,d)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","JSResourceForInteraction","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","getErrorSafe","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("JSResourceForInteraction")("VideoPlayerEmsg").__setRef("VideoPlayerOzImplementationEnginePartsImplFunction"),j=1e4,k=null,l=null;b("cr:1836099")&&(k=b("cr:1836099").getHiveConfig(),l=b("cr:1836099").HiveOz);function a(a){var e,f=a.OzPlayerClass,g=a.callChain,m=a.destroyOzPlayerPartsRef,n=a.engineDebugAPI,o=a.engineExtrasAPI,p=a.getCaptionsInfo,aa=a.getLatencyLevelManager,q=a.getVideoLiveTrace,r=a.handleCaptionsInfoChange,ba=a.handleFatalImplementationError,s=a.hivePluginRef,t=a.initialProps,u=a.loggerToVPL,v=a.machine,w=a.overrideOzRequestImplementationRef,x=a.ozBufferingDetectorRef,y=a.ozPlayerRef,z=a.p2pSessionLoggerRef,ca=a.playerFormatForDPLRef,A=a.playerVersion,B=a.resolvedVideoInfo,C=a.videoElement,D=a.videoElementAPI,E={current:!1},F={current:null},G={current:null};m.current=function(a){var b=x.current;b&&(x.current=null,b.destroy());b=y.current;if(b){n&&n.handleOzPlayerChanged(null,D);y.current=null;try{b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":"))}catch(a){c("FBLogger")("comet_video_player").catching(a).mustfix("Error in ozPlayer.destroy: %s",String(a))}}b=F.current;b&&(F.current=null,b());G.current&&(G.current=null);Z();s.current&&(s.current=null);z.current&&(z.current=null);w.current&&(w.current=null)};a=B.accessToken;m=B.audioOnly;var H=B.experimentationConfig,I=B.graphQLVideoDRMInfo,J=B.graphQLVideoP2PSettings,K=B.manifestUrl,da=B.manifestXmlStringResolved,ea=B.minQualityPreference,fa=B.ozPrefetchCache,L=B.videoFBID,M=t.loggingConfig.disableLogging===!0?null:B.VideoPlayerShakaPerformanceLoggerClass,N=Boolean(t.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),O=Boolean((e=t.isClientTriggeredTraceEnabled)!=null?e:!1),P=function(a){return o.getEstimatedBandwidth()};e=function(){return o.getApproximateFBLSToPlayerDisplayLatency()};var ga=function(){H.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return P(N)}))},Q=function(){var a=H.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(ga,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};F.current=Q();Q=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:a,graphQLVideoDRMInfo:I,videoFBID:L});I=function(){return v.getCurrentState().controlledState.captionsVisible};var R=[];H.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&R.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(I));I=function(){return v.getCurrentState().controlledState.dimensions};var S=function(){var a;return(a=ca.current)!=null?a:"unknown"};a=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:M,accessToken:a,disableLogging:t.loggingConfig.disableLogging===!0,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:P,getPlayerDimensions:I,getPlayerFormat:S,playbackIsLiveStreaming:N,playerInstanceCount:t.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:t.loggingMetaData.instanceKey,playerSuborigin:t.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:A,videoElement:C,videoFBID:L,videoPlayerShakaPerformanceLoggerBuilder:B.videoPlayerShakaPerformanceLoggerBuilder});G.current==null&&(G.current=new(c("OzCDNSignedQueryParams"))());if(J&&L!=null){e=J.community_info;S=J.config;A=J.hive_initialization_options;B=z.current=(B=z.current)!=null?B:b("cr:1871597")?new(b("cr:1871597"))(L,e):null;try{if(!s.current){B&&B.logEnableP2P();e=function(a){z.current&&z.current.logHiveError(a)};var T=function(b){var a=y.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);z.current&&z.current.logSessionActive(b.tech)},U=function(b){var a=y.current;a&&a.injectExternalDebugEvent("P2PStats",b);z.current&&z.current.setCurrentHiveStats(b)},V=function(a){a=a.state;var b=v.getCurrentState();b=b.controlledState;b=b.playbackState;if(s.current&&a==="CLOSED"){Z();a=y.current;a&&b!=="ended"&&(E.current&&K!=null?a.updatePlayerRunTimeConfig({manifestUrl:K}):a.load(K))}};U={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:U},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:T,onError:e,onSessionStateChange:V,telemetryId:B?B.getSessionID():0};T=H.getNumber("hive_maximum_trimming_seconds",0);T>0&&(U.HiveJS.maximumTrimming={dash:T,hls:T});if(A){e=A.HiveJava;V=A.debugLevel;T=A.hiveTechOrder;U.hiveTechOrder=T.slice();U.HiveJava=e?{minVersion:e.minVersion}:{};U.debugLevel=(A=V)!=null?A:U.debugLevel}if(S.disable_hivejava_for_livevc===!0&&K!=null&&K.startsWith("https://livestream-lookaside")){T=U.hiveTechOrder.indexOf("HiveJava");T>=0&&U.hiveTechOrder.splice(T,1)}if(k)k.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(l)s.current=new l(U);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(s.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");w.current=b("cr:1947728")(s.current.getRequestImplementation(),{inferResponseStatusIsOK:!0,inferResponseStatusIsOk2xx:!1})}}}catch(a){B&&B.logError(a),Z()}}e=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=q();d!=null&&d.handleHeadersAndBody(a,b,c)},H.getBool("live_trace_parse_emsg",!1)),new(c("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))()];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&e.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(b,c){var a=y.current,e=b.headers;if(a&&e){e=parseInt(e.get("x-fb-video-replica"),10);u.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:b.status.toString(),error_user_info:JSON.stringify({failover_response_code:b.status.toString(),replica:e,url:c})},state:v.getCurrentState()});b=a.getMpdUrl();if(b!=null){c=d("ConstUriUtils").getUri(b);if(c){b=c.addQueryParam("replica",e);b&&(Z(),a.updatePlayerRunTimeConfig({manifestUrl:b.toString(),resetStreamAnchor:!0}))}}}}));var ha=t.expiredVideoUrlRefreshHandler,ia=t.loggingMetaData.instanceKey;V=c("gkx")("24353");A=c("gkx")("24354")||c("gkx")("24355");var ja=N?V:A;S=c("gkx")("4927");H.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");U={audioOnly:(T=m)!=null?T:!1,bufferEndLimit:t.bufferEndLimit!=null?t.bufferEndLimit:null,bufferingDetector:(U=x.current)!=null?U:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(H),configureCustomRequestParametersForSegment:function(a){var b=null;if(N&&O){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=(d=b)!=null?d:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}));b=babelHelpers["extends"]({},b,{_nc_e2e:"live"})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:H}),customSegmentTimelineParser:H.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:R,debugCreateInitiator:[].concat(g,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:Q,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:H,getCurrentVideoRepresentation:function(){var a=y.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return G.current},isClientTriggeredTraceEnabled:O,playbackIsLiveStreaming:N,playbackSessionId:ia,shouldRefresh403:ja})},getOverrideOzRequestImplementation:function(){return w.current},getShouldIncludeCredentials:H.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getUserSelectedPlaybackRate:function(){return v.getCurrentState().controlledState.targetPlaybackRate},getVideoDimensions:I,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(H,(B=t.initialDesiredLatencyMs)!=null?B:0),initialRepresentationIDs:(V=t.initialRepresentationIds)!=null?V:[],isClientTriggeredTraceEnabled:O,liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(H,(A=t.initialDesiredLatencyMs)!=null?A:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(H,(m=t.initialDesiredLatencyMs)!=null?m:0,(T=t.initialLatencyToleranceMs)!=null?T:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("24356"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:K,networkRequestFetchPriority:c("gkx")("10971")||c("gkx")("11761")?"high":"auto",networkRequestStreamHandlers:e,networkRequestStreamRetryHandler:ja?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),i=G.current;if(a.status===403&&i!=null){u.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:v.getCurrentState()});var j=g!=null&&b("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:b("cr:1993377")(g)}:ha!=null?{name:"expiredVideoUrlRefreshHandler",promise:ha(e)}:null;if(j!=null)return j.promise.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null&&b!==""){u.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:j.name,refreshed_url:b})},state:v.getCurrentState()});i.update(b);return d(b)}else{throw c("unrecoverableViolation")(j.name+" refreshedUrl is "+(b===""?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){a=c("getErrorSafe")(a);u.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_handler:j.name,refresh_url:g})},state:v.getCurrentState()});throw a})}return(h||(h=b("Promise"))).resolve(a)}:null,networkRequestUrlRefreshHandler:S?t.expiredVideoUrlRefreshHandler:null,prefetchCache:H.getBool("use_prefetch_cache",!1)?fa:null,rawMpdXml:s.current?void 0:da,seekHandler:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},shouldBlockStatusCode5xx:!N&&(c("gkx")("10769")||c("gkx")("10592")),startTimeStamp:H.getBool("fix_start_timestamp",!1)?t.startTimestamp:0,userPreferenceLang:t.initialAudioUserPreferredLanguage,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(N),videoNode:C,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(ea,H)};var W=new f(U);y.current=W;x.current&&x.current.attachPerfLoggerProvider(W.getPerfLoggerProvider());R=t.loggingMetaData.playerImplementationInstanceCountRef;R.current++;W.onError(function(a){M&&M.flushQueuedLogs(),ba(a,"oz_player_error")});c("gkx")("24360")&&W.onWarning(function(a){M&&M.flushQueuedLogs();a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_warning");v.dispatch({payload:{warningError:a},type:"implementation_warning"})});W.addListener("switchVideoRepresentation",function(){v.dispatch({payload:{},type:"representation_changed"})});var ka=function(a){if(H.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");v.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};W.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(H,a)});W.addListener("manifestFetchErrorRetry",function(a){ka(a)});W.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(H,a)});W.addListener("streamErrorRetry",function(a){var b;(((b=a.getExtra())==null?void 0:b.mimeType)!=="application"||H.getBool("enable_era_logging_for_application_stream",!0))&&ka(a)});W.addListener("streamInterruptAt",function(){v.dispatch({type:"stream_interrupted"})});W.addListener("streamResumedAt",function(){v.dispatch({type:"stream_resumed"})});W.addListener("streamGoneBeforeStart",function(){Z(),v.dispatch({type:"stream_gone_before_start"})});W.addListener("streamEnd",function(){Z(),v.dispatch({type:"stream_ended"})});W.addListener("videoNodeErrorRetry",function(a){if(H.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationVideoNodeError(a,"oz_player_stream_error_retry");v.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});W.addListener("enterBuffering",function(a){v.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})});W.addListener("leaveBuffering",function(a){v.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})});n&&n.handleOzPlayerChanged(W,D);var la=function(){var a=p();a={inbandCaptionsAutogeneratedFromManifest:o.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:o.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:o.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=v.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&r(a)},ma=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;v.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},na=function(){var a=o.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-H.getNumber("live_rewind_seek_to_live_delta",8),b);v.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},oa=function(){var a=W.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=q();typeof a==="number"&&b!=null&&b.setStreamType(a)},X=function(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("lvp");return a==="1"}}return!1},pa=function(a){var b=function(){na(),la(),oa()};a.addListener("updated",b);b();var e=[],f=function(a){u.logVPLEvent({eventType:"imf",logDataOverrides:a,state:v.getCurrentState()})},g=function(a,b,c){a=a.parseEmsgBoxesFromMP4Segment;a=a(c,L,b.getID(),C.currentTime,f);a.length>0&&v.dispatch({payload:{emsgBoxes:a},type:"emsg_boxes_parsed"})},h=function(a){var b=e.shift();while(b)g.apply(void 0,[a].concat(b)),b=e.shift()};W.updatePlayerRunTimeConfig({audioStreamDataHandler:function(){var a=v.getCurrentState();if(a.controlledState.emsgObserverTokens.size>0){var b=i.getModuleIfRequireable();for(var d=arguments.length,f=new Array(d),j=0;j<d;j++)f[j]=arguments[j];b!=null?(h(b),g.apply(void 0,[b].concat(f))):(e.push(f),i.load().then(function(a){h(a)})["catch"](function(a){c("FBLogger")("comet_video_player").catching(c("getErrorSafe")(a)).warn("Failed to load VideoPlayerEmsg"),e.length=0}))}},videoStreamDataHandler:ma});if(o.isPredictiveDash()){H.setContext("streaming_implementation","pdash");a=aa();a&&a.maybeUpdateLatencyLevel()}b="mos";a=H.getBool("is_csvqm_enabled",!1);if(a&&!N){a=o.getVideoRepresentations();a=a==null?void 0:a.every(function(a){return a.getQualityScoreCurveString("csvqm")!=null});a===!0&&(b="csvqm")}H.setContext("quality_score_type",b);d("VideoPlayerODS").bumpEntityKey("comet_video_player",b==="csvqm"?"OzImplementation.quality_score_type_csvqm":"OzImplementation.quality_score_type_mos",14);a=p();r({inbandCaptionsAutogeneratedFromManifest:o.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:o.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:o.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps})};W.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=v.getCurrentState().controlledState.captionFormat;c!==d&&v.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});v.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});W.addListener("mpdParsed",function(a){o.isPredictiveDash()&&H.setContext("streaming_implementation","pdash")});W.addListener("mpdReady",function(a){E.current=!0,pa(a),v.dispatch({payload:{selectedVideoQuality:o.getUserSelectedVideoQuality()},type:"implementation_engine_initialized"})});W.addListener("representationBlocked",function(a){v.dispatch({payload:{blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=s.current,b=z.current;if(a!=null){s.current=null;z.current=null;w.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}g=s.current;Q=J==null?void 0:J.ticket;if(K!=null&&J&&g&&Q!=null){I=W.getPerfLoggerProvider();I&&I.setIsP2pPlayback(!0);B=K.substring(K.indexOf("?"));V=g.initSession(Q+B,W,C);var $=new(c("Deferred"))();j>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+j+"ms"))},j));V.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=z.current;b!==K&&d&&d.logManifestMismatch(b,K);d&&d.logSessionInit(a,b);u.setLoggingToVPLAdditionalData("is_p2p_playback",!0);u.setLoggingToVPLAdditionalData("is_live_preview",X(b));W.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=z.current;b&&b.logError(a);Z();u.setLoggingToVPLAdditionalData("is_live_preview",X(K));W.load(K)})}else u.setLoggingToVPLAdditionalData("is_p2p_playback",!1),u.setLoggingToVPLAdditionalData("is_live_preview",X(K)),W.load(K)}g.proceedWithOzPlayerCreation=a}),98);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2="normal",this.$4=null,this.$1=a,this.$3=b,this.$6=c}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.updateBroadcastLatencySensitivity=function(a){this.$5!==a&&(this.$5=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$7(this.$5);a!==this.$2&&(this.$2=a,this.$1.getBool("set_latency_context_immediately",!1)&&this.$1.setContext("latency_level",a),this.$3.dispatch({payload:{latencyLevel:a,ullIneligibilityReason:this.$8()},type:"implementation_set_latency_level_requested"}))};b.$8=function(){var a=this.$1.getNumber("ultra_low_latency_bandwidth_threshold",0),b=this.$6.getEstimatedBandwidth();return b!==null&&a>0&&b<a?"low_bandwidth_estimate":null};b.$7=function(a){if(a==null)return"normal";switch(a){case 1:return"low";case 2:return this.$8()!==null?this.$1.getBool("fall_back_to_low_latency_in_ull",!1)?"low":"normal":"ultra-low";case 0:return"normal"}};return a}();g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","ErrorMetadata","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzPlayerModuleLoaderDeferredForDisplay","cr:1473549","emptyFunction","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,i=a.initialProps;a=a.setExposedStateInReact;var j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null},v={current:null},w={current:null};function x(){var a;return(a=p.current)!=null?a:null}function y(){var a;return(a=o.current)!=null?a:null}function z(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null}function A(){var a;return(a=Y.current)!=null?a:null}function B(){var a;return(a=v.current)!=null?a:null}var C;b("cr:1473549")&&(C=new(b("cr:1473549"))());var D="comet_oz",E=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},F=function(a,b){return a.videoFBID!==b.videoFBID},G=function(a){return a.getBool("use_full_player_if_cached",!1)&&c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().getModuleIfRequireable():null},H=function(a,b,c){b!=null?k.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):k.current=a,X.dispatch({type:"implementation_engine_oz_manifest_downloading"}),n.current=G(a.experimentationConfig),L(n.current,[].concat(c,["proceedWithOzManifestDownloading"]))},I=function(a){var b,e,f,g=a.manifestUrl,h=a.manifest,i=null;c("CometDASHPrefetchCacheManager")&&(a.videoFBID!=null&&(i=c("CometDASHPrefetchCacheManager").get(a.videoFBID)));b={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,initialAudioUserPreferredLanguage:a.initialAudioUserPreferredLanguage,manifestUrl:(b=g)!=null?b:null,manifestXmlStringInitial:(b=h)!=null?b:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:i,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};i=j.current;e=(e=v.current)!=null?e:new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,X,Q);v.current=e;w.current=(f=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?f:null;e.updatePlayerFormat((f=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?f:null);e.updateBroadcastLatencySensitivity(a.broadcastLatencySensitivity);f=!1;if(i==null)f=!0;else if(i!=null&&!F(b,i)&&E(b,i)){e=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",e);f=!1}else if(i!=null&&F(b,i)){var k;e=c("err")("videoFBID changed after player initialization: %s",JSON.stringify({subOrigin:a.loggingMetaData.coreVideoPlayerMetaData.subOrigin,toVideoFBID:b.videoFBID}));e.name="VideoPlayerOzImplementationVideoFBIDChanged";k=(k=e.metadata)!=null?k:new(c("ErrorMetadata"))();i.videoFBID!=null&&k.addEntry("COMET_VIDEO","VIDEO_ID",i.videoFBID);e.metadata=k;e.project="comet_video_player";throw e}if(!f)return!1;g=b.manifestUrl;h=b.manifestXmlStringInitial;if(h==null&&g==null){i=c("err")("Empty manifestXmlStringInitial and manifestUrl: %s",JSON.stringify({manifestUrl:g,manifestXmlStringInitial:h,subOrigin:a.loggingMetaData.coreVideoPlayerMetaData.subOrigin}));i.name="VideoPlayerOzImplementationManifestEmpty";e=(k=i.metadata)!=null?k:new(c("ErrorMetadata"))();b.videoFBID!=null&&e.addEntry("COMET_VIDEO","VIDEO_ID",b.videoFBID);i.metadata=e;i.project="comet_video_player";throw i}j.current=b;H(b,h,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},J=function(a,b){var d=function(c){if(m.current!==a)return;n.current=c;L(c,[].concat(b,["handleOzPlayerModuleLoadSuccess"]))},e=function(b){if(m.current!==a)return;V(b,"oz_player_module_load_failed")};m.current=a;c("promiseDone")(a,d,e)},K=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);Y.current=a;return a},L=function(a,b){var e=S(),f=k.current;if(e==null||f==null)return;var g=K(e),h=f.experimentationConfig;a?M(a,e,g,f,[].concat(b,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,X,p,W),J(c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().load(),[].concat(b,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):V(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},M=function(a,b,e,f,g){try{var h={OzPlayerClass:a,callChain:[].concat(g,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:u,engineDebugAPI:C,engineExtrasAPI:Q,getCaptionsInfo:R,getLatencyLevelManager:B,getVideoLiveTrace:T,handleCaptionsInfoChange:U,handleFatalImplementationError:V,initialProps:i,loggerToVPL:W,machine:X,ozBufferingDetectorRef:p,playerFormatForDPLRef:w,playerVersion:D,resolvedVideoInfo:f,videoElement:b};a=z();g=i.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&g!=null?t.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,g,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r,videoElementAPI:e}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r,videoElementAPI:e}));l.current=f}catch(a){V(a,"oz_player_create_exception")}};function N(a){var b=u.current;b!=null&&(u.current=null,b(a));t.current!=null&&(t.current(),t.current=null)}function O(){return}function P(){m.current=null,n.current=null}var Q=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:z,getOzPlayer:y,getVideoElementAPI:A});A=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.loggerToVPL;return C?C.createDebugAPI({engineExtrasAPI:Q,getConfig:function(){var a;return(a=(a=l.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:x,getOzPlayer:y,getVideoElementAPI:a,loggerToVPL:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:f,destroyEngineParts:function(a){N([].concat(a,["destroyEngineParts"])),O(),P()},engineExtrasAPI:Q,engineMetadata:{isAbrEnabled:!0,playerVersion:D,streamingFormat:"dash"},handleFatalError:g,handleVideoElementChanged:function(a,b){a!=null&&L(n.current,[].concat(b,["handleVideoElementMounted"]))},handleVideoInfoChange:I,initialProps:i,setExposedStateInReact:a});e=A.engine;var R=A.getCaptionsInfo,S=A.getVideoElement,T=A.getVideoLiveTrace,U=A.handleCaptionsInfoChange,V=A.handleFatalImplementationError,W=A.loggerToVPL,X=A.machine,Y=A.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}g["default"]=a}),98);
__d("VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9450060145042784"}),null);
__d("VideoPlayerRelayFragmentRefetchQuery.graphql",["VideoPlayerRelay_video$normalization.graphql","VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"},e=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"VideoPlayerRelayFragmentRefetchQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"playerSuborigin",variableName:"playerSuborigin"}],kind:"FragmentSpread",name:"VideoPlayerRelay_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"VideoPlayerRelayFragmentRefetchQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:[{kind:"Variable",name:"VideoPlayerRelay_video$playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"VideoPlayerRelay_video$playerSuborigin",variableName:"playerSuborigin"}],fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation"),metadata:{},name:"VideoPlayerRelayFragmentRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoPlayerRelay_video.graphql",["VideoPlayerRelayFragmentRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("VideoPlayerRelayFragmentRefetchQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"VideoPlayerRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsupported_browser_message",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LatencySensitiveConfig",kind:"LinkedField",name:"latency_sensitive_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_latency_sensitivity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LivePlaybackInstrumentationConfigParams",kind:"LinkedField",name:"live_playback_instrumentation_configs",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_client_triggered_trace_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ncsr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seo_web_crawler_lookaside_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerVideoStatusRelayWithFallbackCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoImplementationsParamsRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerBuilder_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoP2PSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerLiveLatencyKnobSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioAvailabilityInfoRelay_video"},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"InstreamVideoAdBreaksPlayer_video"}]},{args:null,kind:"FragmentSpread",name:"VideoPlayerVideoIsCastingCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerIMFFromVideoMetadataRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerUnsupportedBrowserMessageFallback.react",["ErrorMetadata","FBLogger","VideoPlayerFallbackCover.react","err","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect;b.useMemo;var k=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(11);bb0:{if(a!=null){var f;if(e[0]!==a||e[1]!==b){var g;f=c("err")("Cannot play video: Unsupported browser message from server: %s",a);f.name="VideoPlayerUnsupportedBrowserMessageFromServer";g=(g=f.metadata)!=null?g:new(c("ErrorMetadata"))();f.metadata=g;g.addEntry("COMET_VIDEO","VIDEO_ID",b);e[0]=a;e[1]=b;e[2]=f}else f=e[2];g=f;break bb0}g=null}var h=g,l=k(!1);e[3]!==h?(f=function(){if(h!=null&&!l.current){var a;l.current=!0;(a=c("FBLogger")("comet_video_player").catching(h)).warn.apply(a,[(a=h.messageFormat)!=null?a:""].concat((a=h.messageParams)!=null?a:[]))}},e[3]=h,e[4]=f):f=e[4];e[5]!==h||e[6]!==b?(g=[h,b],e[5]=h,e[6]=b,e[7]=g):g=e[7];j(f,g);if(a!=null){e[8]!==a||e[9]!==h?(b=i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:h,message:a}),e[8]=a,e[9]=h,e[10]=b):b=e[10];return b}return null}g.useVideoPlayerUnsupportedBrowserMessageFallback=a}),98);
__d("VideoPlayerXImplRelayWrapper.react",["VideoPlayerXImpl.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VideoPlayerXImpl.react")}),98);
__d("XFBLatencySensitiveTypeUtils.facebook",["$InternalEnumUtils","LatencySensitiveType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("LatencySensitiveType"));b=d("$InternalEnumUtils").createFromJSEnum(c("LatencySensitiveType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoAutoplayGatingResult_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","react-compiler-runtime","useGraphQLVideoAutoplayGatingResult_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);var e;c[0]!==a.autoplay_gating_result||c[1]!==a.can_autoplay||c[2]!==a.viewer_autoplay_setting?(e=d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay),c[0]=a.autoplay_gating_result,c[1]=a.can_autoplay,c[2]=a.viewer_autoplay_setting,c[3]=e):e=c[3];return e}g["default"]=a}),98);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoDRMInfo_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","react","useGraphQLVideoDRMInfo_video.graphql","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useRef;function l(a){if(a!=null){a=m(a);return d("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo(a)}return null}function m(a){a=JSON.parse(a)||{};var b=a.fairplay_cert,c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;return{fairplay_cert:b,graph_api_video_license_uri:c,video_license_uri_map:d,widevine_cert:a}}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoDRMInfo_video.graphql"),a);var e=k(null),f=l(a.drm_info),g=(i||(i=c("useUnsafeRef_DEPRECATED")))(null);e.current!==a.drm_info&&(e.current=a.drm_info,g.current=f);return g.current}g["default"]=a}),98);
__d("useGraphQLVideoP2PSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoP2PSettings_video",selections:[{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveCommunityInfo",kind:"LinkedField",name:"community_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"community_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"community_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoP2PSettings",["CometRelay","GraphQLVideoP2PSettings","recoverableViolation","useGraphQLVideoP2PSettings_video.graphql","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=null;if(a){var e,f,g,h,i;e={delay_p2p_until_play:(e=(e=a.config)==null?void 0:e.delay_p2p_until_play)!=null?e:!1,disable_hivejava_for_livevc:(e=(e=a.config)==null?void 0:e.disable_hivejava_for_livevc)!=null?e:!1};var j=a.ticket,k=a.community_info;f=(f=a.hive_initialization_options)==null?void 0:f.debug_level;g=(g=(g=a.hive_initialization_options)==null?void 0:g.hive_tech_order.map(function(a){var b=d("GraphQLVideoP2PSettings").hiveTechOrderOrNull(a);b==null&&a!=null&&c("recoverableViolation")("Invalid hive tech order: '"+a+"'","comet_video_player");return b}).filter(Boolean))!=null?g:[];h=(h=a.hive_initialization_options)==null?void 0:(h=h.hive_java)==null?void 0:h.min_version;i=((i=a.hive_initialization_options)==null?void 0:i.hive_java)?{minVersion:h}:null;h=a.hive_initialization_options?{HiveJava:i,debugLevel:f,hiveTechOrder:g}:null;f={communityId:(a=k==null?void 0:k.community_id)!=null?a:"unknowncustomer",communityName:(i=k==null?void 0:k.community_name)!=null?i:"Unknown Customer"};b={community_info:f,config:e,hive_initialization_options:h,ticket:j}}return b}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoP2PSettings_video.graphql"),a);var e=(i||(i=c("useUnsafeRef_DEPRECATED")))(null),f=i(null);a=j((a=a.p2p_settings)!=null?a:null);var g=JSON.stringify(a);if(e.current!==g){e.current=(e=g)!=null?e:null;f.current=(g=a)!=null?g:null}return f.current}g["default"]=a}),98);
__d("useVideoImplementationsParamsRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],b=[{}],c={alias:null,args:null,concreteType:"XFBVideoDeliveryFailureReason",kind:"LinkedField",name:"failure_reason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_params",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsParamsRelayImpl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_video_player_nextgendash_availability",storageKey:null},{alias:"videoDeliveryLegacyFields",args:[{kind:"Literal",name:"negate",value:!0}],concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{alias:"dash_manifest_xml_string",args:a,kind:"ScalarField",name:"playlist",storageKey:'playlist(scrubbing_preference:"MPEG_DASH")'},{alias:"dash_manifest_url",args:a,kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:"browser_native_sd_url",args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"browser_native_hd_url",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'}],storageKey:"if_viewer_should_use_video_delivery_response(negate:true)"},{alias:"videoDeliveryResponseFragment",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{kind:"CatchField",field:{alias:"videoDeliveryResponseResult",args:[{kind:"Literal",name:"video_delivery_request",value:{dash_manifest_requests:b,dash_manifest_url_requests:b,hls_playlist_url_requests:b,progressive_url_requests:[{quality:"SD"},{quality:"HD"}]}}],concreteType:"XFBVideoDeliveryResponse",kind:"LinkedField",name:"video_delivery_response",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBDashManifestResponse",kind:"LinkedField",name:"dash_manifests",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_xml",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"XFBDashManifestUrlResponse",kind:"LinkedField",name:"dash_manifest_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_url",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"XFBProgressiveUrlResponse",kind:"LinkedField",name:"progressive_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"progressive_url",storageKey:null},c,{alias:null,args:null,concreteType:"XFBProgressiveUrlMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"quality",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBHlsPlaylistUrlResponse",kind:"LinkedField",name:"hls_playlist_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"hls_playlist_url",storageKey:null},c],storageKey:null}],storageKey:'video_delivery_response(video_delivery_request:{"dash_manifest_requests":[{}],"dash_manifest_url_requests":[{}],"hls_playlist_url_requests":[{}],"progressive_url_requests":[{"quality":"SD"},{"quality":"HD"}]})'},to:"RESULT"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoImplementationsParamsRelayImpl",["CometRelay","CometVideoPlayerNextgendashAvailability","getJSEnumSafe","react","react-compiler-runtime","useVideoImplementationsParamsRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e){var f,g,i,j,k,l,m,n=d("react-compiler-runtime").c(20);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoImplementationsParamsRelayImpl_video.graphql"),a);(f=a.spherical_video_fallback_urls)==null?void 0:f.hd;(f=a.spherical_video_fallback_urls)==null?void 0:f.sd;(f=a.videoDeliveryLegacyFields)==null?void 0:f.dash_manifest_xml_string;(f=a.videoDeliveryLegacyFields)==null?void 0:f.dash_manifest_url;(f=a.videoDeliveryLegacyFields)==null?void 0:f.browser_native_hd_url;(f=a.videoDeliveryLegacyFields)==null?void 0:f.browser_native_sd_url;f=(f=a.videoDeliveryLegacyFields)==null?void 0:f.browser_native_hd_url;g=(g=a.videoDeliveryLegacyFields)==null?void 0:g.browser_native_sd_url;i=(i=a.videoDeliveryLegacyFields)==null?void 0:i.dash_manifest_url;j=(j=a.videoDeliveryLegacyFields)==null?void 0:j.dash_manifest_xml_string;if(n[0]!==a.comet_video_player_nextgendash_availability){var o;o=(o=c("getJSEnumSafe")(c("CometVideoPlayerNextgendashAvailability"),a.comet_video_player_nextgendash_availability))!=null?o:"UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER";n[0]=a.comet_video_player_nextgendash_availability;n[1]=o}else o=n[1];k=(k=a.spherical_video_fallback_urls)==null?void 0:k.hd;l=(l=a.spherical_video_fallback_urls)==null?void 0:l.sd;m=(m=a.videoDeliveryResponseFragment)==null?void 0:m.videoDeliveryResponseResult;var p;n[2]!==e.dashManifestUrlOverride_DO_NOT_USE||n[3]!==e.minQualityPreferenceOverrideFromProductSurface||n[4]!==e.preferBrowserNativeImplementation||n[5]!==e.videoPlayerShakaConfig||n[6]!==f||n[7]!==g||n[8]!==i||n[9]!==j||n[10]!==o||n[11]!==k||n[12]!==l||n[13]!==m||n[14]!==a.audio_user_preferred_language||n[15]!==a.can_use_oz||n[16]!==a.id||n[17]!==a.is_spherical||n[18]!==a.min_quality_preference?(p={browserNativeHdUrl:f,browserNativeSdUrl:g,canUseOz:a.can_use_oz,dashManifestUrl:i,dashManifestUrlOverride_DO_NOT_USE:e.dashManifestUrlOverride_DO_NOT_USE,dashManifestXmlString:j,initialAudioUserPreferredLanguage:a.audio_user_preferred_language,isSpherical:a.is_spherical,minQualityPreference:a.min_quality_preference,minQualityPreferenceOverrideFromProductSurface:e.minQualityPreferenceOverrideFromProductSurface,nextgendashAvailability:o,preferBrowserNativeImplementation:e.preferBrowserNativeImplementation,sphericalVideoFallbackHdUrl:k,sphericalVideoFallbackSdUrl:l,videoDeliveryResponseResult:m,videoFBID:a.id,videoPlayerShakaConfig:e.videoPlayerShakaConfig},n[2]=e.dashManifestUrlOverride_DO_NOT_USE,n[3]=e.minQualityPreferenceOverrideFromProductSurface,n[4]=e.preferBrowserNativeImplementation,n[5]=e.videoPlayerShakaConfig,n[6]=f,n[7]=g,n[8]=i,n[9]=j,n[10]=o,n[11]=k,n[12]=l,n[13]=m,n[14]=a.audio_user_preferred_language,n[15]=a.can_use_oz,n[16]=a.id,n[17]=a.is_spherical,n[18]=a.min_quality_preference,n[19]=p):p=n[19];e=p;return e}g["default"]=a}),98);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=babelHelpers["extends"]({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();f["default"]=a}),66);
__d("VideoPlayerShakaConfig",["VideoPlayerContextSensitiveConfigResolver","VideoPlayerShakaConfigContextProvider"],(function(a,b,c,d,e,f,g){var h={};a=function(){function a(a,b,d){this.$1=new(c("VideoPlayerShakaConfigContextProvider"))(),this.$2=b||null,this.$3=new(c("VideoPlayerContextSensitiveConfigResolver"))(d),this.$3.setContexts(a||{}),a&&this.$1.setAllContexts(a)}a.setGlobalOverrideConfig=function(a){h=a};var b=a.prototype;b.setContext=function(a,b){var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&this.$3.setContexts(a)};b.setOverrideConfig=function(a){this.$2=a};b.getBool=function(a,b){a=this.$4(a,b);return typeof a==="boolean"?a:b};b.getNumber=function(a,b){a=this.$4(a,b);return typeof a==="number"?a:b};b.getString=function(a,b){a=this.$4(a,b);return typeof a==="string"?a:b};b.getAllContexts=function(){return this.$1.getAllContexts()};b.$4=function(a,b){if(!!h&&typeof h[a]===typeof b)return h[a];if(typeof this.$3.getValue(a)===typeof b)return this.$3.getValue(a);return!!this.$2&&typeof this.$2[a]===typeof b?this.$2[a]:null};return a}();g["default"]=a}),98);
__d("prepareVideoPlayerImplementations",["ErrorMetadata","VideoPlayerOzImplementationData","VideoPlayerOzImplementationV2.react","VideoPlayerOzWWWConfig","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerShakaConfig","cr:8921","cr:8922","emptyFunction","err","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=b("cr:8922"))==null?void 0:e.makeNextgendashEngineData;function a(a){var e=a.browserNativeHdUrl,f=a.browserNativeSdUrl,g=a.canUseOz,j=a.dashManifestUrl,k=a.dashManifestUrlOverride_DO_NOT_USE,l=a.dashManifestXmlString,m=a.initialAudioUserPreferredLanguage,n=a.isBroadcast,o=a.isLiveStreaming,p=a.isSpherical,q=a.minQualityPreference,r=a.minQualityPreferenceOverrideFromProductSurface,s=a.nextgendashAvailability,t=a.preferBrowserNativeImplementation,u=a.sphericalVideoFallbackHdUrl,v=a.sphericalVideoFallbackSdUrl,w=a.videoDeliveryResponseResult,x=a.videoFBID;a=a.videoPlayerShakaConfig;var y=[],z=[],A=null,B=null,C=null,D=null,E=[],F=[],G=[],H=[],I=[];if(w!=null)if(w.ok!==!0){var J=c("err")("VideoDeliveryResponse API failed: %s",JSON.stringify(w.errors.map(function(a){try{JSON.stringify(a);return a}catch(b){return String(a)}})));J.name="VideoDeliveryResponseAPIFailed";E.push(J)}else{J=w.value;w=i(F,"dash_manifests","DashManifest",J.dash_manifests,c("emptyFunction").thatReturnsTrue,function(a){return a.manifest_xml!=null&&a.manifest_xml!==""?a:null})[0];var K=i(G,"dash_manifest_urls","DashManifestURL",J.dash_manifest_urls,c("emptyFunction").thatReturnsTrue,function(a){return a.manifest_url!=null&&a.manifest_url!==""?a:null})[0],L=i(H,"progressive_urls","ProgressiveURLHD",J.progressive_urls,function(a){return((a=a.metadata)==null?void 0:a.quality)==="HD"},function(a){return a.progressive_url!=null?a:null})[0],M=i(H,"progressive_urls","ProgressiveURLSD",J.progressive_urls,function(a){return((a=a.metadata)==null?void 0:a.quality)==="SD"},function(a){return a.progressive_url!=null?a:null})[0];A=(w=w==null?void 0:w.manifest_xml)!=null?w:null;B=(w=K==null?void 0:K.manifest_url)!=null?w:null;C=(K=L==null?void 0:L.progressive_url)!=null?K:null;D=(w=M==null?void 0:M.progressive_url)!=null?w:null;if(C==null&&D==null&&c("gkx")("8034")){L=i(I,"hls_playlist_urls","HLSPlaylistURL",J.hls_playlist_urls,c("emptyFunction").thatReturnsTrue,function(a){return a.hls_playlist_url!=null?a:null})[0];C=null;D=(K=L==null?void 0:L.hls_playlist_url)!=null?K:null}}else{A=(M=l)!=null?M:null;B=(w=j)!=null?w:null;C=(J=e)!=null?J:null;D=(L=f)!=null?L:null}if(p===!0){C=(K=u)!=null?K:C;D=(l=v)!=null?l:D}if(t!==!0){if(h&&b("cr:8921")&&(E.length===0&&(F.length===0||G.length===0||B!=null||A!=null))){M=h({canUseOz:g,dashManifestUrl:B,dashManifestUrlOverride_DO_NOT_USE:k,dashManifestXmlString:A,experimentationConfig:new(c("VideoPlayerShakaConfig"))(),initialAudioUserPreferredLanguage:m,minQualityPreference:q,nextgendashAvailability:s});M instanceof Error?z.push(["VideoPlayerNextgendashImplementation",M]):y.push({Component:b("cr:8921"),data:M,typename:"VideoPlayerNextgendashImplementation"})}if(E.length===0&&(F.length===0||G.length===0||B!=null||A!=null)){w=d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:g,dashManifestUrl:B,dashManifestUrlOverride_DO_NOT_USE:k,dashManifestXmlString:A,experimentationConfig:new(c("VideoPlayerOzWWWConfig"))((j=a)!=null?j:new(c("VideoPlayerShakaConfig"))()),initialAudioUserPreferredLanguage:m,minQualityPreference:q});w instanceof Error?z.push(["VideoPlayerOzImplementation",w]):y.push({Component:c("VideoPlayerOzImplementationV2.react"),data:w,typename:"VideoPlayerOzImplementation"})}}else{e=c("err")("preferBrowserNativeImplementation="+String(t));e.name="VideoImplementationsPreferBrowserNative";h&&b("cr:8921")&&z.push(["VideoPlayerNextgendashImplementation",e]);z.push(["VideoPlayerOzImplementation",e])}if(E.length===0&&(H.length===0||C!=null||D!=null)){f=(J=r)!=null?J:q;L=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:C,hdSrcPreferred:c("gkx")("24369")||f==="HD"||f==="UHD",sdSrc:D});L instanceof Error?z.push(["VideoPlayerProgressiveImplementation",L]):y.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:L,typename:"VideoPlayerProgressiveImplementation"})}u=y.length===0;K=[];K.push.apply(K,E);K.push.apply(K,F);K.push.apply(K,G);K.push.apply(K,H);K.push.apply(K,I);K.push.apply(K,z.map(function(a){var b,d=a[0];a=a[1];a=c("getErrorSafe")(a);d=d.replace(/^VideoPlayer/,"").replace(/(Implementation)|(Engine)$/,"")+"Engine";b=c("err").apply(void 0,["Cannot use "+d+" / "+((b=a.messageFormat)!=null?b:a.message)].concat(a.messageFormat!=null?(b=a.messageParams)!=null?b:[]:[]));b.name="VideoPlayerCannotUse"+d+"/"+a.name;return b}));v=null;if(u||c("gkx")("24370")&&K.length>0){l=new Map();for(s=0;s<K.length;++s){M=K[s];B=M.name+": "+((g=M.messageFormat)!=null?g:M.message);l.has(B)||l.set(B,M)}k=Array.from(l.values());A=[];a=[];j=[];for(m=0;m<k.length;++m){w=k[m];A.push(w.name);a.push((t=w.messageFormat)!=null?t:w.message);w.messageFormat!=null&&w.messageParams!=null&&j.push.apply(j,w.messageParams)}v=c("err").apply(void 0,[(u?p===!0?"Cannot play 360 video: ":"Cannot play video: ":p===!0?"Warning for 360 video: ":"Warning: ")+a.join(" ++ ")].concat(j));v.name=A.join("++");v.type=u?"fatal":"warn";v.project="comet_video_player";r=(e=v.metadata)!=null?e:new(c("ErrorMetadata"))();v.metadata=r;x!=null&&r.addEntry("COMET_VIDEO","VIDEO_ID",String(x));r.addEntry("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify({isBroadcast:n,isLiveStreaming:o,isSpherical:p}));if(u)throw v}return{implementations:y,warning:v}}function i(a,b,c,d,e,f){e=d.filter(e);var g=e.map(function(a){return a.failure_reason==null?f(a):null}).filter(Boolean);if(e.length===0)a.push(k(b,c,d));else if(g.length===0){e=e.filter(function(a){return a.failure_reason!=null});e.length===0?a.push(l(b,c,d)):a.push.apply(a,e.map(function(a){return a.failure_reason!=null?j(b,c,a.failure_reason,a.metadata):null}).filter(Boolean))}return g}function j(a,b,d,e){try{var f;f=(f=JSON.stringify(e))!=null?f:String(e)}catch(a){f=String(e)}e=c("err").apply(void 0,["VideoDeliveryResponse "+a+" failure for "+b+": "+d.type+"; metadata=%s"+(d.message_format!=null&&d.message_format!==""?"; "+d.message_format:""),f].concat(d.message_params));e.name="VideoDeliveryResponseFailureReason/"+a+"("+b+")/"+d.type;return e}function k(a,b,d){try{d=(d=JSON.stringify(d))!=null?d:"N/A"}catch(a){d="N/A"}d=c("err")("VideoDeliveryResponse "+a+" failure for "+b+": no matching items; all items: %s",d);d.name="VideoDeliveryResponseContractViolation/"+a+"("+b+")/no_matching";return d}function l(a,b,d){try{d=(d=JSON.stringify(d))!=null?d:"N/A"}catch(a){d="N/A"}d=c("err")("VideoDeliveryResponse "+a+" failure for "+b+": no succeeded or failed items; all items: %s",d);d.name="VideoDeliveryResponseContractViolation/"+a+"("+b+")/no_success_and_failure";return d}g["default"]=a}),98);
__d("useVideoPlayerImplementations",["FBLogger","gkx","prepareVideoPlayerImplementations","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect;e.useMemo;function a(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){if(a){var b,d,e;b=(b=a.messageFormat)!=null?b:a.message;d=a.messageFormat!=null?(d=a.messageParams)!=null?d:[]:[];(e=c("FBLogger")("comet_video_player").catching(a)).warn.apply(e,[b].concat(d))}},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);i(e,f)}var j=c("gkx")("24370")?a:c("useEmptyFunction");function b(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=c("prepareVideoPlayerImplementations")(a),b[0]=a,b[1]=e):e=b[1];a=e;b=a;j(b.warning);return b}g["default"]=b}),98);
__d("useVideoImplementationsRelayImpl",["react","react-compiler-runtime","useVideoImplementationsParamsRelayImpl","useVideoPlayerImplementations"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useDebugValue;function a(a,b){var e=d("react-compiler-runtime").c(4);a=c("useVideoImplementationsParamsRelayImpl")(a,b);b=c("useVideoPlayerImplementations")(a);var f=b.implementations;b=b.warning;var g;e[0]!==f||e[1]!==a||e[2]!==b?(g={implementations:f,params:a,warning:b},e[0]=f,e[1]=a,e[2]=b,e[3]=g):g=e[3];i(g);return f}g["default"]=a}),98);
__d("useVideoImplementationsRelay",["useVideoImplementationsRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoImplementationsRelayImpl")}),98);
__d("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioAvailabilityInfoRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay",["CometRelay","VideoPlayerAudioAvailabilityInfo","react","react-compiler-runtime","useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var c=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"),a);var e;c[0]!==a.audio_availability||c[1]!==a.muted_segments?(e=d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityInfo({audioAvailability:a.audio_availability,mutedSegmentsUnsanitized:a.muted_segments==null?[]:a.muted_segments.map(j)}),c[0]=a.audio_availability,c[1]=a.muted_segments,c[2]=e):e=c[2];a=e;return a}function j(a){return{muteEndTimeInSec:a.mute_end_time_in_sec,muteStartTimeInSec:a.mute_start_time_in_sec}}g["default"]=a}),98);
__d("useVideoPlayerAudioSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioSettings_video",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioSettings",["AudioSettingsVolumeSetting","CometRelay","react","react-compiler-runtime","useVideoPlayerAudioSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;var j=1;e=.5;var k=null,l=new Map([["default",j],["quiet",e]]);function a(a){var e,f=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioSettings_video.graphql"),a);e=(e=a.audio_settings)==null?void 0:e.video_volume_setting;var g="DEFAULT";bb0:switch(e){case"DEFAULT":case"QUIET":g=e;break bb0;default:}e=c("AudioSettingsVolumeSetting")[g];if(f[0]!==e){g=(g=l.get(e))!=null?g:j;f[0]=e;f[1]=g}else g=f[1];e=g;a=(g=a.audio_user_preferred_language)!=null?g:k;f[2]!==a||f[3]!==e?(g={audioUserPreferredLanguage:a,preferredVolumeSetting:e},f[2]=a,f[3]=e,f[4]=g):g=f[4];a=g;return a}g["default"]=a}),98);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerCaptionsSettings_video",selections:[{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_opacity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_size",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings",["CometRelay","react-compiler-runtime","useVideoPlayerCaptionsSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i="DEFAULT",j="BLACK",k="WHITE",l="DEFAULT";function a(a){var c,e,f,g,m=d("react-compiler-runtime").c(8);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerCaptionsSettings_video.graphql"),a);c=(c=(c=a.captions_settings)==null?void 0:c.always_show_captions)!=null?c:!1;e=(e=(e=a.captions_settings)==null?void 0:e.captions_background_color)!=null?e:j;f=(f=(f=a.captions_settings)==null?void 0:f.captions_background_opacity)!=null?f:i;g=(g=(g=a.captions_settings)==null?void 0:g.captions_text_color)!=null?g:k;a=(a=(a=a.captions_settings)==null?void 0:a.captions_text_size)!=null?a:l;var n;m[0]!==e||m[1]!==f||m[2]!==g||m[3]!==a?(n={captionsBackgroundColor:e,captionsBackgroundOpacity:f,captionsTextColor:g,captionsTextSize:a},m[0]=e,m[1]=f,m[2]=g,m[3]=a,m[4]=n):n=m[4];m[5]!==c||m[6]!==n?(e={alwaysShowCaptions:c,captionDisplayStyle:n},m[5]=c,m[6]=n,m[7]=e):e=m[7];return e}g["default"]=a}),98);
__d("useVideoPlayerIMFFromVideoMetadata",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useDebugValue;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),c=a.isVideoBroadcast;a=a.specInlineJson;c=c===!0;var e;b[0]!==c||b[1]!==a?(e={imfExpectedFromEmsg:c,specInlineJson:a},b[0]=c,b[1]=a,b[2]=e):e=b[2];c=e;a=c;b[3]!==a?(e={useVideoPlayerIMFFromVideoMetadata:a},b[3]=a,b[4]=e):e=b[4];i(e);return a}g["default"]=a}),98);
__d("useVideoPlayerIMFFromVideoMetadataRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerIMFFromVideoMetadataRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,concreteType:"VideoIMFData",kind:"LinkedField",name:"video_imf_data",plural:!1,selections:[{args:null,documentName:"useVideoPlayerIMFFromVideoMetadataRelay_video",fragmentName:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",fragmentPropName:"video_imf_data",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"spec_inline_json",storageKey:null}],type:"VideoIMFData",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerIMFFromVideoMetadataRelay",["CometRelay","react-compiler-runtime","useVideoPlayerIMFFromVideoMetadata","useVideoPlayerIMFFromVideoMetadataRelay_video.graphql","useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerIMFFromVideoMetadataRelay_video.graphql"),a);var f=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql"),a.video_imf_data);f=f==null?void 0:f.spec_inline_json;var g;e[0]!==f||e[1]!==a.id||e[2]!==a.is_video_broadcast?(g={isVideoBroadcast:a.is_video_broadcast,specInlineJson:f,videoID:a.id},e[0]=f,e[1]=a.id,e[2]=a.is_video_broadcast,e[3]=g):g=e[3];return c("useVideoPlayerIMFFromVideoMetadata")(g)}g["default"]=a}),98);
__d("useVideoPlayerLiveLatencyKnobSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerLiveLatencyKnobSettings_video",selections:[{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerLiveLatencyKnobSettings",["CometRelay","react-compiler-runtime","useVideoPlayerLiveLatencyKnobSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerLiveLatencyKnobSettings_video.graphql"),a);c=(c=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_desired_latency_ms)!=null?c:0;a=(a=(a=a.broadcast_low_latency_config)==null?void 0:a.ll_latency_tolerance_ms)!=null?a:0;var f;e[0]!==c||e[1]!==a?(f={desiredLatencyMs:c,latencyToleranceMs:a},e[0]=c,e[1]=a,e[2]=f):f=e[2];return f}g["default"]=a}),98);
__d("useVideoPlayerShakaConfig_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaConfig_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_sensitive_broadcast",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaConfig",["CometRelay","VideoPlayerConnectionQuality","VideoPlayerOzWWWGlobalConfig","VideoPlayerShakaConfig","oz-player/networks/OzBandwidthEstimator","react","react-compiler-runtime","useSelectedLatencySetting","useVideoPlayerShakaConfig_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function a(a,e){var f=d("react-compiler-runtime").c(17);e=e.adClientToken;var g=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerShakaConfig_video.graphql"),a),i=e!=null,m=g.is_spherical===!0,n=g.is_gaming_video===!0;e=c("useSelectedLatencySetting")((a=g.id)!=null?a:"null",g.selected_latency_setting);var o=e[0];f[0]!==i||f[1]!==n||f[2]!==m||f[3]!==o||f[4]!==g.fbls_tier||f[5]!==g.is_latency_menu_enabled||f[6]!==g.is_latency_sensitive_broadcast||f[7]!==g.is_live_streaming?(a=function(){var a;return new(c("VideoPlayerShakaConfig"))({connection_quality:d("VideoPlayerConnectionQuality").evaluate(l),content_category:n?"gaming":"general",fbls_tier:((a=g.fbls_tier)==null?void 0:a.startsWith("user"))?"user":"general",is_ad:i,is_latency_sensitive_broadcast:g.is_latency_sensitive_broadcast===!0,is_live:g.is_live_streaming===!0,is_spherical:m,latency_level:g.is_latency_menu_enabled===!0?o:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"})},f[0]=i,f[1]=n,f[2]=m,f[3]=o,f[4]=g.fbls_tier,f[5]=g.is_latency_menu_enabled,f[6]=g.is_latency_sensitive_broadcast,f[7]=g.is_live_streaming,f[8]=a):a=f[8];e=k(a);var p=e[0];f[9]!==i||f[10]!==p?(a=function(){p.setContext("is_ad",i)},e=[p,i],f[9]=i,f[10]=p,f[11]=a,f[12]=e):(a=f[11],e=f[12]);j(a,e);f[13]!==m||f[14]!==p?(a=function(){p.setContext("is_spherical",m)},e=[p,m],f[13]=m,f[14]=p,f[15]=a,f[16]=e):(a=f[15],e=f[16]);j(a,e);return p}function l(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_video",selections:[{alias:"video_player_shaka_performance_logger_init2",args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerBuilder_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerBuilder_init",fragmentPropName:"init",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"per_session_sampling_rate",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder",["CometRelay","react-compiler-runtime","useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql","useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql");function a(a){var c=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"),a);var e;c[0]!==a.video_player_shaka_performance_logger_init2?(e=a.video_player_shaka_performance_logger_init2?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init2):null,c[0]=a.video_player_shaka_performance_logger_init2,c[1]=e):e=c[1];e=e;a=(a=a.video_player_shaka_performance_logger_init2)==null?void 0:a.per_session_sampling_rate;if(e!=null&&a!=null){var f;c[2]!==e||c[3]!==a?(f=new e({perSessionSampleRate:a}),c[2]=e,c[3]=a,c[4]=f):f=c[4];return f}return null}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_player_shaka_performance_logger_should_sample",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl",["CometRelay","react-compiler-runtime","useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql","useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql");function a(a){var c=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"),a);var e;c[0]!==a.video_player_shaka_performance_logger_init||c[1]!==a.video_player_shaka_performance_logger_should_sample?(e=a.video_player_shaka_performance_logger_init?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init):null,e!=null&&a.video_player_shaka_performance_logger_should_sample===!0&&e.forceShouldSample(),c[0]=a.video_player_shaka_performance_logger_init,c[1]=a.video_player_shaka_performance_logger_should_sample,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["useVideoPlayerShakaPerformanceLoggerRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoPlayerShakaPerformanceLoggerRelayImpl")}),98);
__d("VideoStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({ENCODING:1,DELETED:2,ENCODED:3,UPLOADING:5,OK:6,TOO_LONG:7,ENCODE_FAILED:8,UNPUBLISHED:9,SOFT_DELETED:10,UNDISCOVERABLE:11,UPLOAD_FAILED:13,UPLOADED:14,ORIGINAL_VIDEO_DELETED:15});f["default"]=a}),66);
__d("evaluateVideoPlayerVideoStatusFallbackCover",["fbt","ErrorMetadata","VideoPlayerFallbackCover.react","VideoStatusType","err","getGraphQLEnumSafe","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.disableVideoStatusFallbackIf,d=a.overrideGkForVideoStatusFallback_EXPERIMENTAL,e=a.videoFBID;a=a.videoStatusTypeFromGraphQL;e=k({videoFBID:e,videoStatusTypeFromGraphQL:a});a=null;var f;if(d==null&&!c("gkx")("24384"))a=null,f="disabled_by_gk";else if(d===!1)a=null,f="disabled_by_gk_override";else if((b==null?void 0:b(e))===!0){a=null;f="disable_if:"+e.videoAvailabilityStatus+":"+((d=e.videoStatusTypeFromGraphQL)!=null?d:"null")}else{switch(e.videoAvailabilityStatus){case"unknown":a=null;break;case"ok":a=null;break;case"undiscoverable":a=null;break;case"unpublished":a=null;break;case"processing":b=c("gkx")("24385");a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:b?e.debugError:null,message:h._(/*BTDS*/"This video is being processed..."),showDebugWithoutError:b,showLearnMoreLink:!1});break;case"processing_failed":a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:e.debugError,message:h._(/*BTDS*/"Processing of this video failed.")});break;case"deleted":a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:e.debugError,message:h._(/*BTDS*/"This video isn't available at the moment.")});break;default:e.videoAvailabilityStatus}f=(a==null?"not_needed_for_status:":"fallback_for_status:")+e.videoAvailabilityStatus+":"+String(e.videoStatusTypeFromGraphQL)}return{fallback:a,fallbackDebug:f,videoStatus:e}}function k(a){var b=a.videoFBID;a=a.videoStatusTypeFromGraphQL;var d=[c("getGraphQLEnumSafe")(c("VideoStatusType"),6)].includes(a)?"ok":[c("getGraphQLEnumSafe")(c("VideoStatusType"),9)].includes(a)?"unpublished":[c("getGraphQLEnumSafe")(c("VideoStatusType"),11)].includes(a)?"undiscoverable":[c("getGraphQLEnumSafe")(c("VideoStatusType"),5),c("getGraphQLEnumSafe")(c("VideoStatusType"),14),c("getGraphQLEnumSafe")(c("VideoStatusType"),1),c("getGraphQLEnumSafe")(c("VideoStatusType"),3)].includes(a)?"processing":[c("getGraphQLEnumSafe")(c("VideoStatusType"),13),c("getGraphQLEnumSafe")(c("VideoStatusType"),8),c("getGraphQLEnumSafe")(c("VideoStatusType"),7)].includes(a)?"processing_failed":[c("getGraphQLEnumSafe")(c("VideoStatusType"),10),c("getGraphQLEnumSafe")(c("VideoStatusType"),2)].includes(a)?"deleted":"unknown",e=d==="ok"||d==="unpublished"||d==="undiscoverable"||d==="processing_failed"||d==="deleted"||d==="unknown",f=null;if(d!=="ok"){var g;f=c("err")("Video is now %s due to video_status_type=%s",d,a);g=(g=f.metadata)!=null?g:new(c("ErrorMetadata"))();g.addEntry("COMET_VIDEO","VIDEO_ID",(b=b)!=null?b:"");f.metadata=g;f.name="VideoPlayerVideoStatusInfo"}b={debugError:f,isTerminalStatus:e,videoAvailabilityStatus:d,videoStatusTypeFromGraphQL:a};return b}g["default"]=a}),226);
__d("useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerVideoStatusRelayWithFallbackCover_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_status_type",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerVideoStatusRelayWithFallbackCover",["CometRelay","evaluateVideoPlayerVideoStatusFallbackCover","react","react-compiler-runtime","useInterval","useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useDebugValue;function a(a,e,f,g){var i=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql"),a);var k;i[0]!==f||i[1]!==g||i[2]!==a.id||i[3]!==a.video_status_type?(k=c("evaluateVideoPlayerVideoStatusFallbackCover")({disableVideoStatusFallbackIf:f,overrideGkForVideoStatusFallback_EXPERIMENTAL:g,videoFBID:a.id,videoStatusTypeFromGraphQL:a.video_status_type}),i[0]=f,i[1]=g,i[2]=a.id,i[3]=a.video_status_type,i[4]=k):k=i[4];f=k;c("useInterval")(e,f.videoStatus.isTerminalStatus||f.fallback==null?0:1e4);j(f);return f}g["default"]=a}),98);
__d("VideoPlayerRelay.react",["CastingStateHooks","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","ErrorMetadata","FBLogger","InstreamVideoAdBreaksPlayer.react","JSResourceForInteraction","VideoPlayerErrorBoundary.react","VideoPlayerRelay_video.graphql","VideoPlayerUnsupportedBrowserMessageFallback.react","VideoPlayerXImplRelayWrapper.react","XFBLatencySensitiveTypeUtils.facebook","computeAspectRatio","cr:759","defaultErrorBoundaryFallback","deferredLoadComponent","err","getVideoPlayerAutoplayProps","gkx","lazyLoadComponent","normalizeVideoPlayerLoopCount","react","react-compiler-runtime","requireDeferredForDisplay","useEmptyFunction","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useGraphQLVideoP2PSettings","useVideoImplementationsRelay","useVideoPlayerAudioAvailabilityInfoRelay","useVideoPlayerAudioSettings","useVideoPlayerAvailableCaptionsLocalesFromRelay","useVideoPlayerCaptionsSettings","useVideoPlayerIMFFromVideoMetadataRelay","useVideoPlayerLiveLatencyKnobSettings","useVideoPlayerShakaConfig","useVideoPlayerShakaPerformanceLoggerBuilder","useVideoPlayerShakaPerformanceLoggerRelay","useVideoPlayerVideoStatusRelayWithFallbackCover"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useRef,m=e.useTransition,n=(f=b("cr:759"))!=null?f:c("useEmptyFunction"),o=c("gkx")("24325"),p=c("gkx")("24326"),q=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react").__setRef("VideoPlayerRelay.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("VideoPlayerVideoIsCastingCover.react").__setRef("VideoPlayerRelay.react"));function s(a){var e=d("react-compiler-runtime").c(13),f,g;e[0]!==a?(g=a.video,f=babelHelpers.objectWithoutPropertiesLoose(a,["video"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);a=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("VideoPlayerRelay_video.graphql"),g);var i=a[0],n=a[1];g=m();var o=g[1];e[3]!==n?(a=function(){o(function(){n({},{fetchPolicy:"network-only"})})},e[3]=n,e[4]=a):a=e[4];g=a;a=c("useVideoPlayerVideoStatusRelayWithFallbackCover")(i,g,f.disableVideoStatusFallbackIf,f.overrideGkForVideoStatusFallback_EXPERIMENTAL);var p=a.fallback,q=a.fallbackDebug,r=a.videoStatus,s=l(null);e[5]!==q||e[6]!==i||e[7]!==r||e[8]!==p?(g=function(){var a=r,b=s.current;if(p!=null&&(a.videoAvailabilityStatus!==(b==null?void 0:b.videoAvailabilityStatus)||a.videoStatusTypeFromGraphQL!==(b==null?void 0:b.videoStatusTypeFromGraphQL))){s.current=r;c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",(a=i.id)!=null?a:"").warn("VideoPlayerRelay rendered the video status fallback: %s",q)}},e[5]=q,e[6]=i,e[7]=r,e[8]=p,e[9]=g):g=e[9];k(g,void 0);if(p!=null)return p;e[10]!==f||e[11]!==i?(a=j.jsx(t,babelHelpers["extends"]({},f,{video:i})),e[10]=f,e[11]=i,e[12]=a):a=e[12];return a}function t(a){var b,e=d("react-compiler-runtime").c(100),f=a.accessToken,g=a.adClientToken,h=a.audioOnly,i=a.autoplayGatingResult,k=a.bufferEndLimit,l=a.bypassUseCometSizeError,m=a.canAutoplay,s=a.children,t=a.disableLoadingIndicator,u=a.externalLogID,v=a.externalLogType,w=a.forceProgressive_EXPERIMENTAL,x=a.graphQLVideoDRMInfo,y=a.initialForceHD,z=a.initialTracePolicy,A=a.loadSequence,B=a.loggingConfig,C=a.loggingToSNAPLAdditionalData,D=a.loggingToVPLAdditionalData,E=a.loopCount,F=a.manifestURL_DO_NOT_USE,G=a.playerFormat,H=a.playerOriginOverride,I=a.portalingEnabled,ba=a.portalingFromVideoID,ca=a.portalingPlaceMetaData,da=a.portalingRenderPlaceholder,ea=a.poster,fa=a.productAttribution,ga=a.renderVideoPixelsFit,J=a.seoWebCrawlerLookasideUrl,ha=a.seoWebCrawlerVideoTracks,ia=a.source_VPL_LOGGING_HACK,ja=a.startTimestamp,K=a.subOrigin,L=a.video,M=a.volumeSetting;a=a.wrapVideoPixels_EXPERIMENTAL;t=t===void 0?!1:t;w=w===void 0?!1:w;y=y===void 0?!1:y;G=G===void 0?"inline":G;var N=L.id;if(N==null||N===""){var O=c("err")("Cannot play video: Invalid video ID: %s",N===""?"an empty string":String(N));O.name="VideoPlayerInvalidVideoID";O.project="comet_video_player";throw O}O=L.dash_prefetch_experimental;var P=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(L),ka=(P==null?void 0:P.find(aa))!=null;if(e[0]!==((b=L.latency_sensitive_config)==null?void 0:b.broadcast_latency_sensitivity)){var Q;b=d("XFBLatencySensitiveTypeUtils.facebook").toJSEnum((b=L.latency_sensitive_config)==null?void 0:b.broadcast_latency_sensitivity);e[0]=(Q=L.latency_sensitive_config)==null?void 0:Q.broadcast_latency_sensitivity;e[1]=b}else b=e[1];Q=b;e[2]!==g?(b={adClientToken:g},e[2]=g,e[3]=b):b=e[3];b=c("useVideoPlayerShakaConfig")(L,b);var la=n(N),ma=c("useGraphQLVideoP2PSettings")(L),R=c("useGraphQLVideoDRMInfo")(L);R=(x=x)!=null?x:R;x=!!(R&&R.fairplayCert!==null);w=w===!0||x||o&&!!L.is_live_streaming||p&&typeof MediaSource==="undefined";x=y?"HD":null;e[4]!==F||e[5]!==w||e[6]!==x||e[7]!==b?(y={dashManifestUrlOverride_DO_NOT_USE:F,minQualityPreferenceOverrideFromProductSurface:x,preferBrowserNativeImplementation:w,videoPlayerShakaConfig:b},e[4]=F,e[5]=w,e[6]=x,e[7]=b,e[8]=y):y=e[8];F=c("useVideoImplementationsRelay")(L,y);w=c("useVideoPlayerCaptionsSettings")(L);x=c("useVideoPlayerAudioSettings")(L);b=c("useVideoPlayerLiveLatencyKnobSettings")(L);y=b.desiredLatencyMs;b=b.latencyToleranceMs;var na=c("useVideoPlayerAudioAvailabilityInfoRelay")(L),S=c("useGraphQLVideoAutoplayGatingResult")(L),T;e[9]!==i||e[10]!==m||e[11]!==S?(T=c("getVideoPlayerAutoplayProps")(S,m,i),e[9]=i,e[10]=m,e[11]=S,e[12]=T):T=e[12];i=T;m=c("useVideoPlayerShakaPerformanceLoggerRelay")(L);S=c("useVideoPlayerShakaPerformanceLoggerBuilder")(L);T=c("useVideoPlayerIMFFromVideoMetadataRelay")(L);var U;e[13]!==G||e[14]!==K||e[15]!==L?(U=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("InstreamVideoAdBreaksPlayer.react"),{playerFormat:G,subOrigin:K,video:L})}),e[13]=G,e[14]=K,e[15]=L,e[16]=U):U=e[16];U=U;var V=d("CastingStateHooks").useCastingVideoID(),W=d("VideoPlayerUnsupportedBrowserMessageFallback.react").useVideoPlayerUnsupportedBrowserMessageFallback(L.unsupported_browser_message,N);if(W!=null)return W;W=L.permalink_url;var X=L.spherical_video_renderer,Y;e[17]!==G||e[18]!==X||e[19]!==K||e[20]!==W?(Y=X?j.jsx(d("CometRelay").MatchContainer,{match:X,props:{playerFormat:G,sphericalVideoRenderer:X,subOrigin:K,videoTahoeUrl:W}}):null,e[17]=G,e[18]=X,e[19]=K,e[20]=W,e[21]=Y):Y=e[21];X=Y;W=L.is_spherical;Y=L.is_spherical_enabled;var Z=L.permalink_url;if(W===!0&&Y!==!0){if(Z==null||Z===""){W=c("err")("Cannot play video: Empty permalink URL for a spherical video");W.name="VideoPlayerSphericalEmptyPermalinkURL";W.project="comet_video_player";Y=(Y=W.metadata)!=null?Y:new(c("ErrorMetadata"))();Y.addEntry("COMET_VIDEO","VIDEO_ID",N);W.metadata=Y;throw W}e[22]!==Z?(Y=j.jsx(q,{videoTahoeUrl:Z}),e[22]=Z,e[23]=Y):Y=e[23];return Y}if(V!=null&&V===N){e[24]!==L?(W=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(r,{video:L})}),e[24]=L,e[25]=W):W=e[25];return W}V=(Y=(Z=L.live_playback_instrumentation_configs)==null?void 0:Z.is_client_triggered_trace_enabled)!=null?Y:!1;e[26]!==E||e[27]!==L.is_looping||e[28]!==L.loop_count?(W=c("normalizeVideoPlayerLoopCount")(E,L.is_looping,L.loop_count),e[26]=E,e[27]=L.is_looping,e[28]=L.loop_count,e[29]=W):W=e[29];Z=W;e[30]!==L.height||e[31]!==L.width?(Y=c("computeAspectRatio")(L.width,L.height),e[30]=L.height,e[31]=L.width,e[32]=Y):Y=e[32];E=Y;W=c("gkx")("23009")?L.animated_image_caption:void 0;Y=L.is_podcast_video===!0||h;h=L.pmv_metadata!=null;J=(J=J)!=null?J:L.seo_web_crawler_lookaside_url;P=((P=P==null?void 0:P.length)!=null?P:0)>0;M=M!==void 0?M:x.preferredVolumeSetting;var $;e[33]!==m||e[34]!==f||e[35]!==g||e[36]!==ka||e[37]!==na||e[38]!==x.audioUserPreferredLanguage||e[39]!==Q||e[40]!==k||e[41]!==l||e[42]!==w.alwaysShowCaptions||e[43]!==w.captionDisplayStyle||e[44]!==s||e[45]!==y||e[46]!==t||e[47]!==la||e[48]!==u||e[49]!==v||e[50]!==R||e[51]!==ma||e[52]!==F||e[53]!==O||e[54]!==z||e[55]!==U||e[56]!==V||e[57]!==b||e[58]!==A||e[59]!==B||e[60]!==C||e[61]!==D||e[62]!==Z||e[63]!==G||e[64]!==H||e[65]!==I||e[66]!==ba||e[67]!==ca||e[68]!==da||e[69]!==ea||e[70]!==fa||e[71]!==ga||e[72]!==ha||e[73]!==ia||e[74]!==ja||e[75]!==K||e[76]!==W||e[77]!==Y||e[78]!==h||e[79]!==J||e[80]!==P||e[81]!==M||e[82]!==L.broadcast_id||e[83]!==L.broadcast_status||e[84]!==L.broadcaster_origin||e[85]!==L.captions_url||e[86]!==L.is_live_streaming||e[87]!==L.is_live_trace_enabled||e[88]!==L.is_ncsr||e[89]!==L.is_video_broadcast||e[90]!==N||e[91]!==E||e[92]!==i.autoplayGatingResult||e[93]!==i.autoplaySetting||e[94]!==i.canAutoplay||e[95]!==T||e[96]!==S||e[97]!==X||e[98]!==a?($=j.jsx(c("VideoPlayerXImplRelayWrapper.react"),{VideoPlayerShakaPerformanceLoggerClass:m,accessToken:f,adClientToken:g,alt:W,alwaysShowCaptions:w.alwaysShowCaptions,areCaptionsAutogenerated:ka,audioAvailabilityInfo:na,audioOnly:Y,autoplayGatingResult:i.autoplayGatingResult,autoplaySetting:i.autoplaySetting,broadcastId:L.broadcast_id,broadcastLatencySensitivity:Q,broadcastStatus:L.broadcast_status,broadcasterOrigin:L.broadcaster_origin,bufferEndLimit:k,bypassUseCometSizeError:l,canAutoplay:i.canAutoplay,captionDisplayStyle:w.captionDisplayStyle,children:s,desiredLatencyMs:y,disableLoadingIndicator:t,expiredVideoUrlRefreshHandler:la,externalLogID:u,externalLogType:v,graphQLVideoDRMInfo:R,graphQLVideoP2PSettings:ma,implementations:F,initialRepresentationIds:O,initialTracePolicy:z,instreamVideoAdBreaksPlayer:U,isClientTriggeredTraceEnabled:V,isLiveStreaming:L.is_live_streaming,isLiveTraceEnabled:L.is_live_trace_enabled,isNCSR:L.is_ncsr,isPremiumMusicVideo:h,isVideoBroadcast:L.is_video_broadcast,latencyToleranceMs:b,loadSequence:A,loggingConfig:B,loggingToSNAPLAdditionalData:C,loggingToVPLAdditionalData:D,loopCount:Z,playerFormat:G,playerOriginOverride:H,portalingEnabled:I,portalingFromVideoID:ba,portalingPlaceMetaData:ca,portalingRenderPlaceholder:da,poster:ea,productAttribution:fa,renderVideoPixelsFit:ga,seoWebCrawlerLookasideUrl:J,seoWebCrawlerVideoTracks:ha,sideLoadCaptionsExpected:P,sideLoadCaptionsUrl:L.captions_url,source_VPL_LOGGING_HACK:ia,startTimestamp:ja,subOrigin:K,userPreferenceLang:x.audioUserPreferredLanguage,videoFBID:N,videoPixelsAspectRatio:E,videoPlayerIMFFromVideoMetadata:T,videoPlayerShakaPerformanceLoggerBuilder:S,videoPlayerSpherical:X,volumeSetting:M,wrapVideoPixels_EXPERIMENTAL:a},N),e[33]=m,e[34]=f,e[35]=g,e[36]=ka,e[37]=na,e[38]=x.audioUserPreferredLanguage,e[39]=Q,e[40]=k,e[41]=l,e[42]=w.alwaysShowCaptions,e[43]=w.captionDisplayStyle,e[44]=s,e[45]=y,e[46]=t,e[47]=la,e[48]=u,e[49]=v,e[50]=R,e[51]=ma,e[52]=F,e[53]=O,e[54]=z,e[55]=U,e[56]=V,e[57]=b,e[58]=A,e[59]=B,e[60]=C,e[61]=D,e[62]=Z,e[63]=G,e[64]=H,e[65]=I,e[66]=ba,e[67]=ca,e[68]=da,e[69]=ea,e[70]=fa,e[71]=ga,e[72]=ha,e[73]=ia,e[74]=ja,e[75]=K,e[76]=W,e[77]=Y,e[78]=h,e[79]=J,e[80]=P,e[81]=M,e[82]=L.broadcast_id,e[83]=L.broadcast_status,e[84]=L.broadcaster_origin,e[85]=L.captions_url,e[86]=L.is_live_streaming,e[87]=L.is_live_trace_enabled,e[88]=L.is_ncsr,e[89]=L.is_video_broadcast,e[90]=N,e[91]=E,e[92]=i.autoplayGatingResult,e[93]=i.autoplaySetting,e[94]=i.canAutoplay,e[95]=T,e[96]=S,e[97]=X,e[98]=a,e[99]=$):$=e[99];return $}function aa(a){return a.localizedCreationMethod!=null}function a(a){var b=d("react-compiler-runtime").c(9),e,f,g;b[0]!==a?(g=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn,e=a.errorBoundaryFallback,f=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=g===void 0?!1:g;b[4]!==f?(g=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:13,children:j.jsx(s,babelHelpers["extends"]({},f))}),b[4]=f,b[5]=g):g=b[5];f=g;if(a)return f;a=(g=e)!=null?g:c("defaultErrorBoundaryFallback");b[6]!==f||b[7]!==a?(e=j.jsx(c("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:a,children:f}),b[6]=f,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseToastContentWrapper.react",["BaseTheme.react","BaseView.react","Dsp2BaseThemeContext.react","Dsp2BaseThemeGated.react","XPlatReactFocusRegion.react","basePushToast","focusScopeQueries","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={dark:"__fb-dark-mode ",light:"__fb-light-mode ",type:"CLASSNAMES"};function a(a){var b=d("react-compiler-runtime").c(12),e=a.ariaLabelledBy,f=a.children,g=a.ref,h=a.role,l=a.testid,m=a.themeConfig,n=a.useInvertedDisplayMode;a=a.xstyle;var o=c("useCurrentDisplayMode")();o=o==="dark"?"light":"dark";var p=j(c("Dsp2BaseThemeContext.react"));b[0]!==e||b[1]!==f||b[2]!==p||b[3]!==o||b[4]!==h||b[5]!==l||b[6]!==m||b[7]!==n||b[8]!==a?(g=n?c("Dsp2BaseThemeGated.react")?i.jsx(c("Dsp2BaseThemeGated.react"),{"aria-labelledby":e,displayMode:o,ref:g,role:h,testid:void 0,themes:p,xstyle:a,children:f}):i.jsx(c("BaseTheme.react"),{"aria-labelledby":e,config:m!=null?m:k,displayMode:o,ref:g,role:h,testid:void 0,xstyle:a,children:f}):i.jsx(c("BaseView.react"),{"aria-labelledby":e,ref:g,role:h,testid:void 0,xstyle:a,children:f}),b[0]=e,b[1]=f,b[2]=p,b[3]=o,b[4]=h,b[5]=l,b[6]=m,b[7]=n,b[8]=a,b[9]=g):g=b[9];e=g;b[10]!==e?(f=d("basePushToast").passesNewToastAPIGK()?i.jsx(c("XPlatReactFocusRegion.react"),{containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:e}):e,b[10]=e,b[11]=f):f=b[11];return f}g["default"]=a}),98);
__d("BaseToast.react",["BaseInlinePressable.react","BaseToastContentWrapper.react","BaseView.react","XPlatReactFocusRegion.react","basePushToast","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useId;b.useMemo;var k={item:{display:"x78zum5",flexDirection:"xdt5ytf",paddingBottom:"x19yoh24",paddingStart:"xrxijuk",paddingEnd:"xpowjs8",paddingLeft:null,paddingRight:null,paddingTop:"x6enp1t",$$css:!0},itemText:{flexGrow:"x1iyjqo2",$$css:!0},link:{wordBreak:"xdnwjd9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x1wkzo03",borderTopColor:"xlnzwam",borderEndColor:"x12rs7x4",borderBottomColor:"xm9qwu6",borderStartColor:"xup3dfi",borderTopStartRadius:"x1192kqh",borderTopEndRadius:"xjfsc2c",borderBottomEndRadius:"xg8fqjl",borderBottomStartRadius:"x1kdh5me",borderTopStyle:"xhf2mca",borderEndStyle:"xrf2tuc",borderBottomStyle:"x13y0ya8",borderStartStyle:"x1pyzo2z",borderTopWidth:"xmqxc35",borderEndWidth:"x7gbks2",borderBottomWidth:"x21fg80",borderStartWidth:"x1q3d8fi",boxShadow:"xi1c1fh",display:"x78zum5",flexShrink:"x2lah0s",maxWidth:"x1cs6qxi",minWidth:"x1hqenl9",paddingTop:"x192rfv7",paddingBottom:"x13jxccy",paddingStart:"xuv3zuj",paddingEnd:"xd3owfx",paddingLeft:null,paddingRight:null,$$css:!0},rootDense:{minWidth:"xktpd3l",$$css:!0},rootFullWidth:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(45),e=a.action,f=a.addOnStart,g=a.closeButton,h=a.density,l=a.linkWrapper,m=a.message,n=a.offsetStyles,o=a.onDismiss,p=a.size,q=a.testid,r=a.themeConfigOverride,s=a.toastRef,t=a.useInvertedDisplayMode;a=a.variant;p=p===void 0?"full-width":p;t=t===void 0?!0:t;var u=j();bb0:{if(e!=null){var v;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(v={},b[0]=v):v=b[0];v=v;break bb0}var w;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(w={"aria-atomic":!0,role:"alert"},b[1]=w):w=b[1];v=w}w=v;if(b[2]!==e||b[3]!==o||b[4]!==(a==null?void 0:(v=a.xstyleConfig)==null?void 0:v.item)){var x;v=e!=null?i.jsx(c("BaseView.react"),{xstyle:[k.item,a==null?void 0:(v=a.xstyleConfig)==null?void 0:v.item],children:e.element!=null?e.element:e.labelRenderer&&i.jsx(c("BaseInlinePressable.react"),{onPress:function(a){o(),e.onPress(a)},testid:void 0,xstyle:k.link,children:e.labelRenderer(e.label)})}):null;b[2]=e;b[3]=o;b[4]=a==null?void 0:(x=a.xstyleConfig)==null?void 0:x.item;b[5]=v}else v=b[5];x=v;if(b[6]!==f||b[7]!==(a==null?void 0:(v=a.xstyleConfig)==null?void 0:v.item)){v=f!=null&&i.jsx(c("BaseView.react"),{xstyle:[k.item,a==null?void 0:(v=a.xstyleConfig)==null?void 0:v.item],children:f});b[6]=f;b[7]=a==null?void 0:(f=a.xstyleConfig)==null?void 0:f.item;b[8]=v}else v=b[8];f=a==null?void 0:(f=a.xstyleConfig)==null?void 0:f.item;var y;b[9]!==f?(y=[k.item,k.itemText,f],b[9]=f,b[10]=y):y=b[10];b[11]!==m||b[12]!==u?(f=m({toastMessageId:u}),b[11]=m,b[12]=u,b[13]=f):f=b[13];b[14]!==w||b[15]!==y||b[16]!==f?(m=i.jsx(c("BaseView.react"),babelHelpers["extends"]({xstyle:y},w,{children:f})),b[14]=w,b[15]=y,b[16]=f,b[17]=m):m=b[17];b[18]!==x?(w=x!=null&&(d("basePushToast").passesNewToastAPIGK()?x:i.jsx(c("XPlatReactFocusRegion.react"),{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:x})),b[18]=x,b[19]=w):w=b[19];if(b[20]!==g||b[21]!==(a==null?void 0:(y=a.xstyleConfig)==null?void 0:y.item)){x=Boolean(g)&&i.jsx(c("BaseView.react"),{xstyle:[k.item,a==null?void 0:(f=a.xstyleConfig)==null?void 0:f.item],children:g});b[20]=g;b[21]=a==null?void 0:(y=a.xstyleConfig)==null?void 0:y.item;b[22]=x}else x=b[22];b[23]!==w||b[24]!==x||b[25]!==v||b[26]!==m?(f=i.jsxs(i.Fragment,{children:[v,m,w,x]}),b[23]=w,b[24]=x,b[25]=v,b[26]=m,b[27]=f):f=b[27];y=f;b[28]!==l||b[29]!==y?(w=l!=null?l(y):y,b[28]=l,b[29]=y,b[30]=w):w=b[30];y=w;x=e!=null&&d("basePushToast").passesNewToastAPIGK?u:void 0;v=d("basePushToast").passesNewToastAPIGK()&&(e!=null||Boolean(g))?"dialog":void 0;m=p==="full-width"&&k.rootFullWidth;f=h==="dense"&&k.rootDense;w=a==null?void 0:(l=a.xstyleConfig)==null?void 0:l.container;b[31]!==n||b[32]!==m||b[33]!==f||b[34]!==w?(u=[k.root,m,f,n,w],b[31]=n,b[32]=m,b[33]=f,b[34]=w,b[35]=u):u=b[35];b[36]!==x||b[37]!==v||b[38]!==u||b[39]!==q||b[40]!==r||b[41]!==y||b[42]!==s||b[43]!==t?(g=i.jsx(c("BaseToastContentWrapper.react"),{ariaLabelledBy:x,ref:s,role:v,testid:void 0,themeConfig:r,useInvertedDisplayMode:t,xstyle:u,children:y}),b[36]=x,b[37]=v,b[38]=u,b[39]=q,b[40]=r,b[41]=y,b[42]=s,b[43]=t,b[44]=g):g=b[44];return g}g["default"]=a}),98);
__d("CacheStorage",["ErrorGuard","ExecutionEnvironment","WebStorage","cr:6943","cr:8958","emptyFunction","err"],(function(a,b,c,d,e,f,g){var h,i,j,k="_@_",l="3b",m="CacheStorageVersion",n={length:0,getItem:a=c("emptyFunction"),setItem:a,clear:a,removeItem:a,key:a};d=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getLocalStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getLocalStorage()};return b}(d);g=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getSessionStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getSessionStorage()};return b}(d);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,d){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;d&&(this._key_prefix=d);a==="AUTO"||!a?d="memory":d=a;d&&(!p[d]||!p[d].available()?((i||(i=c("ExecutionEnvironment"))).canUseDOM,this._backend=new o()):this._backend=new p[d]());a=this.useBrowserStorage();a&&b("cr:6943").listen(window,"storage",this._onBrowserValueChanged.bind(this));d=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];d!==l&&this.clearOwnKeys()}var d=a.prototype;d.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c("WebStorage"))).getLocalStorage()||this._backend.getStore()===(h||(h=c("WebStorage"))).getSessionStorage()};d.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};d._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};d.keys=function(){var a=this,b=[];(j||(j=c("ErrorGuard"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};d.set=function(d,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=b("cr:8958").stringify(g)):g=b("cr:8958").stringify(e);f=this._backend;e=this._key_prefix+d;d=!0;var h=null;while(d)try{h=null,f.set(e,g),d=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();d=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};d.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};d.getLastSetException=function(){return this._exception};d.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};d._evictCacheEntries=function(){var c=[],d=this._backend;d.keys().forEach(function(e){if(e===m)return;var g=d.get(e);if(g===void 0){d.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=b("cr:8958").parse(g,f.id)}catch(a){d.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&c.push([e,g.__t])});c.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(c.length/2);e++)d.remove(c[e][0])};d.get=function(d,e){var g;if(this._backend){(j||(j=c("ErrorGuard"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+d)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=b("cr:8958").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(d,g));return g};d.remove=function(a){this._backend&&(j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};d._setVersion=function(){var a=this;(j||(j=c("ErrorGuard"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:"CacheStorage:setVersion"})};d.clear=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};d.clearOwnKeys=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);
__d("CometFeedStoriesStrategyErrorsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometFeedStoriesStrategyErrorsLoggerConfig")}),null);
__d("CometFeedUnitLoadingIndicatorMask.react",["FDSProgressIndicator.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",flexDirection:"xdt5ytf",end:"xds687c",start:"x17qophe",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(d("react-strict-dom").html.div,{style:j.root,children:i.jsx(c("FDSProgressIndicator.react"),{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("CometToast.react",["fbt","ix","BaseToast.react","CometPressable.react","FDSCircleButton.react","FDSText.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useMemo;var l={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(35),e,f,g,j,n,o,p,q,r,s,t;b[0]!==a?(e=a.action,f=a.href,g=a.icon,j=a.impressionLoggingRef,n=a.message,o=a.onDismiss,s=a.target,p=a.testid,q=a.truncateText,r=a.withoutCloseButton,t=babelHelpers.objectWithoutPropertiesLoose(a,["action","href","icon","impressionLoggingRef","message","onDismiss","target","testid","truncateText","withoutCloseButton"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=n,b[6]=o,b[7]=p,b[8]=q,b[9]=r,b[10]=s,b[11]=t):(e=b[1],f=b[2],g=b[3],j=b[4],n=b[5],o=b[6],p=b[7],q=b[8],r=b[9],s=b[10],t=b[11]);a=p===void 0?"Toast":p;var u=q===void 0?!0:q;p=r===void 0?!1:r;b[12]!==f||b[13]!==s?(q=f!=null?{target:s,url:f}:void 0,b[12]=f,b[13]=s,b[14]=q):q=b[14];r=q;var v=r;b[15]!==e?(f=e!=null?{label:e.label,labelRenderer:m,onPress:e.onPress,testid:e.testid}:void 0,b[15]=e,b[16]=f):f=b[16];b[17]!==o||b[18]!==p?(s=p!==!0&&k.jsx(c("FDSCircleButton.react"),{icon:d("fbicon")._(i("478231"),12),label:h._(/*BTDS*/"Close"),onPress:o,size:24,testid:void 0}),b[17]=o,b[18]=p,b[19]=s):s=b[19];b[20]!==v||b[21]!==t?(q=t.onPress!=null||v!=null?function(a){return k.jsx(c("CometPressable.react"),babelHelpers["extends"]({},t,{expanding:!0,linkProps:v,xstyle:l.pressable,children:a}))}:void 0,b[20]=v,b[21]=t,b[22]=q):q=b[22];b[23]!==n||b[24]!==u?(r=function(a){a=a.toastMessageId;return k.jsx(c("FDSText.react"),{color:"primary",id:a,numberOfLines:u?4:void 0,type:"body3",children:n})},b[23]=n,b[24]=u,b[25]=r):r=b[25];b[26]!==g||b[27]!==j||b[28]!==o||b[29]!==f||b[30]!==s||b[31]!==q||b[32]!==r||b[33]!==a?(e=k.jsx(c("BaseToast.react"),{action:f,addOnStart:g,closeButton:s,linkWrapper:q,message:r,onDismiss:o,testid:void 0,toastRef:j}),b[26]=g,b[27]=j,b[28]=o,b[29]=f,b[30]=s,b[31]=q,b[32]=r,b[33]=a,b[34]=e):e=b[34];return e}function m(a){return k.jsx(c("FDSText.react"),{color:"blueLink",numberOfLines:1,type:"bodyLink3",children:a})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);
__d("jsbi",[],(function(a,b,c,d,e,f){(function(a,b){"object"==typeof f&&"undefined"!=typeof e?e.exports=b():"function"==typeof define&&define.amd?define(b):a.JSBI=b()})(this,function(){"use strict";function a(b){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a(b)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&g(a,b)}function f(a){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},f(a)}function g(a,b){return g=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},g(a,b)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function i(){return i=h()?Reflect.construct:function(a,b,c){var d=[null];d.push.apply(d,b);b=Function.bind.apply(a,d);a=new b;return c&&g(a,c.prototype),a},i.apply(null,arguments)}function j(a){return-1!==Function.toString.call(a).indexOf("[native code]")}function k(a){var b="function"==typeof Map?new Map:void 0;return k=function(a){function c(){return i(a,arguments,f(this).constructor)}if(null===a||!j(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g(c,a)},k(a)}function l(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function m(a,b){return b&&("object"==typeof b||"function"==typeof b)?b:l(a)}var n=function(c){var h=Math.abs,i=Math.max,j=Math.imul,k=Math.clz32;function g(a,c){if(b(this,g),a>g.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return a=m(this,f(g).call(this,a)),a.sign=c,a}return e(g,c),d(g,[{key:"toDebugString",value:function(){var a=["BigInt["],b=!0,c=!1,d=void 0;try{for(var e,e,f=this[Symbol.iterator]();!(b=(e=f.next()).done);b=!0)e=e.value,a.push((e?(e>>>0).toString(16):e)+", ")}catch(a){c=!0,d=a}finally{try{b||null==f["return"]||f["return"]()}finally{if(c)throw d}}return a.push("]"),a.join("")}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>a||36<a)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(a&a-1)?g.__toStringBasePowerOfTwo(this,a):g.__toStringGeneric(this,a,!1)}},{key:"__copy",value:function(){for(var a=new g(this.length,this.sign),b=0;b<this.length;b++)a[b]=this[b];return a}},{key:"__trim",value:function(){for(var a=this.length,b=this[a-1];0===b;)a--,b=this[a-1],this.pop();return 0===a&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var a=0;a<this.length;a++)this[a]=0}},{key:"__clzmsd",value:function(){return k(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(a,b,c){c>this.length&&(c=this.length);for(var d=65535&a,a=a>>>16,e=0,f=65535&b,b=b>>>16,i=0;i<c;i++){var n=this.__digit(i),m=65535&n;n=n>>>16;var o=j(m,d);m=j(m,a);var p=j(n,d);n=j(n,a);var q=f+(65535&o);o=b+e+(q>>>16)+(o>>>16)+(65535&m)+(65535&p);f=(m>>>16)+(p>>>16)+(65535&n)+(o>>>16),e=f>>>16,f&=65535,b=n>>>16;this.__setDigit(i,65535&q|o<<16)}if(0!==e||0!==f||0!==b)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(a,b,c){for(var d,e=0,f=0;f<c;f++)d=this.__halfDigit(b+f)+a.__halfDigit(f)+e,e=d>>>16,this.__setHalfDigit(b+f,d);return e}},{key:"__inplaceSub",value:function(a,b,c){var d=0;if(1&b){b>>=1;for(var e=this.__digit(b),f=65535&e,k=0;k<c-1>>>1;k++){var l=a.__digit(k),m=(e>>>16)-(65535&l)-d;d=1&m>>>16,this.__setDigit(b+k,m<<16|65535&f),e=this.__digit(b+k+1),f=(65535&e)-(l>>>16)-d,d=1&f>>>16}m=a.__digit(k);l=(e>>>16)-(65535&m)-d;d=1&l>>>16,this.__setDigit(b+k,l<<16|65535&f);if(b+k+1>=this.length)throw new RangeError("out of bounds");0==(1&c)&&(e=this.__digit(b+k+1),f=(65535&e)-(m>>>16)-d,d=1&f>>>16,this.__setDigit(b+a.length,4294901760&e|65535&f))}else{b>>=1;for(l=0;l<a.length-1;l++){k=this.__digit(b+l);m=a.__digit(l);e=(65535&k)-(65535&m)-d;d=1&e>>>16;f=(k>>>16)-(m>>>16)-d;d=1&f>>>16,this.__setDigit(b+l,f<<16|65535&e)}k=this.__digit(b+l);m=a.__digit(l);f=(65535&k)-(65535&m)-d;d=1&f>>>16;e=0;0==(1&c)&&(e=(k>>>16)-(m>>>16)-d,d=1&e>>>16),this.__setDigit(b+l,e<<16|65535&f)}return d}},{key:"__inplaceRightShift",value:function(a){if(0!==a){for(var b,c=this.__digit(0)>>>a,d=this.length-1,e=0;e<d;e++)b=this.__digit(e+1),this.__setDigit(e,b<<32-a|c),c=b>>>a;this.__setDigit(d,c)}}},{key:"__digit",value:function(a){return this[a]}},{key:"__unsignedDigit",value:function(a){return this[a]>>>0}},{key:"__setDigit",value:function(a,b){this[a]=0|b}},{key:"__setDigitGrow",value:function(a,b){this[a]=0|b}},{key:"__halfDigitLength",value:function(){var a=this.length;return 65535>=this.__unsignedDigit(a-1)?2*a-1:2*a}},{key:"__halfDigit",value:function(a){return 65535&this[a>>>1]>>>((1&a)<<4)}},{key:"__setHalfDigit",value:function(a,b){var c=a>>>1,d=this.__digit(c);a=1&a?65535&d|b<<16:4294901760&d|65535&b;this.__setDigit(c,a)}}],[{key:"BigInt",value:function(b){var c=Math.floor,d=Number.isFinite;if("number"==typeof b){if(0===b)return g.__zero();if((0|b)===b)return 0>b?g.__oneDigit(-b,!0):g.__oneDigit(b,!1);if(!d(b)||c(b)!==b)throw new RangeError("The number "+b+" cannot be converted to BigInt because it is not an integer");return g.__fromDouble(b)}if("string"==typeof b){d=g.__fromString(b);if(null===d)throw new SyntaxError("Cannot convert "+b+" to a BigInt");return d}if("boolean"==typeof b)return!0===b?g.__oneDigit(1,!1):g.__zero();if("object"===a(b)){if(b.constructor===g)return b;c=g.__toPrimitive(b);return g.BigInt(c)}throw new TypeError("Cannot convert "+b+" to a BigInt")}},{key:"toNumber",value:function(a){var b=a.length;if(0===b)return 0;if(1===b){var c=a.__unsignedDigit(0);return a.sign?-c:c}c=a.__digit(b-1);var d=k(c),e=32*b-d;if(1024<e)return a.sign?-Infinity:1/0;e=e-1;c=c;b=b-1;d=d+1;var f=32===d?0:c<<d;f>>>=12;var h=d-12,i=12<=d?0:c<<20+d;d=20+d;0<h&&0<b&&(b--,c=a.__digit(b),f|=c>>>32-h,i=c<<h,d=h),0<d&&0<b&&(b--,c=a.__digit(b),i|=c>>>32-d,d-=32);h=g.__decideRounding(a,d,b,c);if((1===h||0===h&&1==(1&i))&&(i=i+1>>>0,0===i&&(f++,0!=f>>>20&&(f=0,e++,1023<e))))return a.sign?-Infinity:1/0;d=a.sign?-2147483648:0;return e=e+1023<<20,g.__kBitConversionInts[1]=d|e|f,g.__kBitConversionInts[0]=i,g.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(a){if(0===a.length)return a;var b=a.__copy();return b.sign=!a.sign,b}},{key:"bitwiseNot",value:function(a){return a.sign?g.__absoluteSubOne(a).__trim():g.__absoluteAddOne(a,!0)}},{key:"exponentiate",value:function(a,b){if(b.sign)throw new RangeError("Exponent must be positive");if(0===b.length)return g.__oneDigit(1,!1);if(0===a.length)return a;if(1===a.length&&1===a.__digit(0))return a.sign&&0==(1&b.__digit(0))?g.unaryMinus(a):a;if(1<b.length)throw new RangeError("BigInt too big");b=b.__unsignedDigit(0);if(1===b)return a;if(b>=g.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===a.length&&2===a.__digit(0)){var c=1+(b>>>5),d=a.sign&&0!=(1&b);d=new g(c,d);d.__initializeDigits();var e=1<<(31&b);return d.__setDigit(c-1,e),d}c=null;e=a;for(0!=(1&b)&&(c=a),b>>=1;0!==b;b>>=1)e=g.multiply(e,e),0!=(1&b)&&(null===c?c=e:c=g.multiply(c,e));return c}},{key:"multiply",value:function(a,b){if(0===a.length)return a;if(0===b.length)return b;var c=a.length+b.length;32<=a.__clzmsd()+b.__clzmsd()&&c--;c=new g(c,a.sign!==b.sign);c.__initializeDigits();for(var d=0;d<a.length;d++)g.__multiplyAccumulate(b,a.__digit(d),c,d);return c.__trim()}},{key:"divide",value:function(a,b){if(0===b.length)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(a,b))return g.__zero();var c=a.sign!==b.sign,d=b.__unsignedDigit(0);if(1===b.length&&65535>=d){if(1===d)return c===a.sign?a:g.unaryMinus(a);d=g.__absoluteDivSmall(a,d,null)}else d=g.__absoluteDivLarge(a,b,!0,!1);return d.sign=c,d.__trim()}},{key:"remainder",value:function(a,b){if(0===b.length)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(a,b))return a;var c=b.__unsignedDigit(0);if(1===b.length&&65535>=c){if(1===c)return g.__zero();c=g.__absoluteModSmall(a,c);return 0===c?g.__zero():g.__oneDigit(c,a.sign)}c=g.__absoluteDivLarge(a,b,!1,!0);return c.sign=a.sign,c.__trim()}},{key:"add",value:function(a,b){var c=a.sign;return c===b.sign?g.__absoluteAdd(a,b,c):0<=g.__absoluteCompare(a,b)?g.__absoluteSub(a,b,c):g.__absoluteSub(b,a,!c)}},{key:"subtract",value:function(a,b){var c=a.sign;return c===b.sign?0<=g.__absoluteCompare(a,b)?g.__absoluteSub(a,b,c):g.__absoluteSub(b,a,!c):g.__absoluteAdd(a,b,c)}},{key:"leftShift",value:function(a,b){return 0===b.length||0===a.length?a:b.sign?g.__rightShiftByAbsolute(a,b):g.__leftShiftByAbsolute(a,b)}},{key:"signedRightShift",value:function(a,b){return 0===b.length||0===a.length?a:b.sign?g.__leftShiftByAbsolute(a,b):g.__rightShiftByAbsolute(a,b)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(a,b){return 0>g.__compareToBigInt(a,b)}},{key:"lessThanOrEqual",value:function(a,b){return 0>=g.__compareToBigInt(a,b)}},{key:"greaterThan",value:function(a,b){return 0<g.__compareToBigInt(a,b)}},{key:"greaterThanOrEqual",value:function(a,b){return 0<=g.__compareToBigInt(a,b)}},{key:"equal",value:function(a,b){if(a.sign!==b.sign)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a.__digit(c)!==b.__digit(c))return!1;return!0}},{key:"notEqual",value:function(a,b){return!g.equal(a,b)}},{key:"bitwiseAnd",value:function(a,b){if(!a.sign&&!b.sign)return g.__absoluteAnd(a,b).__trim();if(a.sign&&b.sign){var c=i(a.length,b.length)+1;c=g.__absoluteSubOne(a,c);var d=g.__absoluteSubOne(b);return c=g.__absoluteOr(c,d,c),g.__absoluteAddOne(c,!0,c).__trim()}if(a.sign){d=[b,a];a=d[0],b=d[1]}return g.__absoluteAndNot(a,g.__absoluteSubOne(b)).__trim()}},{key:"bitwiseXor",value:function(a,b){if(!a.sign&&!b.sign)return g.__absoluteXor(a,b).__trim();if(a.sign&&b.sign){var c=i(a.length,b.length);c=g.__absoluteSubOne(a,c);var d=g.__absoluteSubOne(b);return g.__absoluteXor(c,d,c).__trim()}d=i(a.length,b.length)+1;if(a.sign){c=[b,a];a=c[0],b=c[1]}c=g.__absoluteSubOne(b,d);return c=g.__absoluteXor(c,a,c),g.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(a,b){var c=i(a.length,b.length);if(!a.sign&&!b.sign)return g.__absoluteOr(a,b).__trim();if(a.sign&&b.sign){var d=g.__absoluteSubOne(a,c),e=g.__absoluteSubOne(b);return d=g.__absoluteAnd(d,e,d),g.__absoluteAddOne(d,!0,d).__trim()}if(a.sign){e=[b,a];a=e[0],b=e[1]}d=g.__absoluteSubOne(b,c);return d=g.__absoluteAndNot(d,a,d),g.__absoluteAddOne(d,!0,d).__trim()}},{key:"asIntN",value:function(a,b){if(0===b.length)return b;if(0===a)return g.__zero();if(a>=g.__kMaxLengthBits)return b;var c=a+31>>>5;if(b.length<c)return b;var d=b.__unsignedDigit(c-1),e=1<<(31&a-1);if(b.length===c&&d<e)return b;if(!((d&e)===e))return g.__truncateToNBits(a,b);if(!b.sign)return g.__truncateAndSubFromPowerOfTwo(a,b,!0);if(0==(d&e-1)){for(var f=c-2;0<=f;f--)if(0!==b.__digit(f))return g.__truncateAndSubFromPowerOfTwo(a,b,!1);return b.length===c&&d===e?b:g.__truncateToNBits(a,b)}return g.__truncateAndSubFromPowerOfTwo(a,b,!1)}},{key:"asUintN",value:function(a,b){if(0===b.length)return b;if(0===a)return g.__zero();if(b.sign){if(a>g.__kMaxLengthBits)throw new RangeError("BigInt too big");return g.__truncateAndSubFromPowerOfTwo(a,b,!1)}if(a>=g.__kMaxLengthBits)return b;var c=a+31>>>5;if(b.length<c)return b;var d=31&a;if(b.length==c){if(0==d)return b;c=b.__digit(c-1);if(0==c>>>d)return b}return g.__truncateToNBits(a,b)}},{key:"ADD",value:function(a,b){if(a=g.__toPrimitive(a),b=g.__toPrimitive(b),"string"==typeof a)return"string"!=typeof b&&(b=b.toString()),a+b;if("string"==typeof b)return a.toString()+b;if(a=g.__toNumeric(a),b=g.__toNumeric(b),g.__isBigInt(a)&&g.__isBigInt(b))return g.add(a,b);if("number"==typeof a&&"number"==typeof b)return a+b;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(a,b){return g.__compare(a,b,0)}},{key:"LE",value:function(a,b){return g.__compare(a,b,1)}},{key:"GT",value:function(a,b){return g.__compare(a,b,2)}},{key:"GE",value:function(a,b){return g.__compare(a,b,3)}},{key:"EQ",value:function(b,c){for(;;){if(g.__isBigInt(b))return g.__isBigInt(c)?g.equal(b,c):g.EQ(c,b);if("number"==typeof b){if(g.__isBigInt(c))return g.__equalToNumber(c,b);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("string"==typeof b){if(g.__isBigInt(c))return b=g.__fromString(b),null!==b&&g.equal(b,c);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("boolean"==typeof b){if(g.__isBigInt(c))return g.__equalToNumber(c,+b);if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("symbol"===a(b)){if(g.__isBigInt(c))return!1;if("object"!==a(c))return b==c;c=g.__toPrimitive(c)}else if("object"===a(b)){if("object"===a(c)&&c.constructor!==g)return b==c;b=g.__toPrimitive(b)}else return b==c}}},{key:"NE",value:function(a,b){return!g.EQ(a,b)}},{key:"__zero",value:function(){return new g(0,!1)}},{key:"__oneDigit",value:function(a,b){b=new g(1,b);return b.__setDigit(0,a),b}},{key:"__decideRounding",value:function(a,b,c,d){if(0<b)return-1;if(0>b)b=-b-1;else{if(0===c)return-1;c--,d=a.__digit(c),b=31}b=1<<b;if(0==(d&b))return-1;if(b-=1,0!=(d&b))return 1;for(;0<c;)if(c--,0!==a.__digit(c))return 1;return 0}},{key:"__fromDouble",value:function(a){g.__kBitConversionDouble[0]=a;var b,c=2047&g.__kBitConversionInts[1]>>>20;c=c-1023;var d=(c>>>5)+1;a=new g(d,0>a);var e=1048575&g.__kBitConversionInts[1]|1048576,f=g.__kBitConversionInts[0],k=20;c=31&c;var n=0;if(c<k){var m=k-c;n=m+32,b=e>>>m,e=e<<32-m|f>>>m,f<<=32-m}else if(c===k)n=32,b=e,e=f;else{m=c-k;n=32-m,b=e<<m|f>>>32-m,e=f<<m}a.__setDigit(d-1,b);for(c=d-2;0<=c;c--)0<n?(n-=32,b=e,e=f):b=0,a.__setDigit(c,b);return a.__trim()}},{key:"__isWhitespace",value:function(a){return!!(13>=a&&9<=a)||(159>=a?32==a:131071>=a?160==a||5760==a:196607>=a?(a&=131071,10>=a||40==a||41==a||47==a||95==a||4096==a):65279==a)}},{key:"__fromString",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=0,d=a.length,e=0;if(e===d)return g.__zero();for(var f=a.charCodeAt(e);g.__isWhitespace(f);){if(++e===d)return g.__zero();f=a.charCodeAt(e)}if(43===f){if(++e===d)return null;f=a.charCodeAt(e),c=1}else if(45===f){if(++e===d)return null;f=a.charCodeAt(e),c=-1}if(0===b){if(b=10,48===f){if(++e===d)return g.__zero();if(f=a.charCodeAt(e),88===f||120===f){if(b=16,++e===d)return null;f=a.charCodeAt(e)}else if(79===f||111===f){if(b=8,++e===d)return null;f=a.charCodeAt(e)}else if(66===f||98===f){if(b=2,++e===d)return null;f=a.charCodeAt(e)}}}else if(16===b&&48===f){if(++e===d)return g.__zero();if(f=a.charCodeAt(e),88===f||120===f){if(++e===d)return null;f=a.charCodeAt(e)}}for(;48===f;){if(++e===d)return g.__zero();f=a.charCodeAt(e)}var m=d-e,i=g.__kMaxBitsPerChar[b],j=g.__kBitsPerCharTableMultiplier-1;if(m>1073741824/i)return null;var k=i*m+j>>>g.__kBitsPerCharTableShift,l=new g(k+31>>>5,!1),n=10>b?b:10,o=10<b?b-10:0;if(0==(b&b-1)){i>>=g.__kBitsPerCharTableShift;var p=[],q=[],r=!1;do{for(var s,t=0,u=0;;){if(void 0,f-48>>>0<n)s=f-48;else if((32|f)-97>>>0<o)s=(32|f)-87;else{r=!0;break}if(u+=i,t=t<<i|s,++e===d){r=!0;break}if(f=a.charCodeAt(e),32<u+i)break}p.push(t),q.push(u)}while(!r);g.__fillFromParts(l,p,q)}else{l.__initializeDigits();var v=!1,w=0;do{for(var x,y=0,z=1;;){if(void 0,f-48>>>0<n)x=f-48;else if((32|f)-97>>>0<o)x=(32|f)-87;else{v=!0;break}var A=z*b;if(4294967295<A)break;if(z=A,y=y*b+x,w++,++e===d){v=!0;break}f=a.charCodeAt(e)}j=32*g.__kBitsPerCharTableMultiplier-1;var B=i*w+j>>>g.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(z,y,B)}while(!v)}if(e!==d){if(!g.__isWhitespace(f))return null;for(e++;e<d;e++)if(f=a.charCodeAt(e),!g.__isWhitespace(f))return null}return 0!==c&&10!==b?null:(l.sign=-1===c,l.__trim())}},{key:"__fillFromParts",value:function(a,b,c){for(var d=0,e=0,f=0,k=b.length-1;0<=k;k--){var l=b[k],m=c[k];e|=l<<f,f+=m,32===f?(a.__setDigit(d++,e),f=0,e=0):32<f&&(a.__setDigit(d++,e),f-=32,e=l>>>m-f)}if(0!==e){if(d>=a.length)throw new Error("implementation bug");a.__setDigit(d++,e)}for(;d<a.length;d++)a.__setDigit(d,0)}},{key:"__toStringBasePowerOfTwo",value:function(a,b){var c=a.length,d=b-1;d=(85&d>>>1)+(85&d),d=(51&d>>>2)+(51&d),d=(15&d>>>4)+(15&d);d=d;b=b-1;var e=a.__digit(c-1),f=k(e);f=0|(32*c-f+d-1)/d;if(a.sign&&f++,268435456<f)throw new Error("string too long");for(var h=Array(f),f=f-1,l=0,n=0,o=0;o<c-1;o++){var p=a.__digit(o),q=(l|p<<n)&b;h[f--]=g.__kConversionChars[q];q=d-n;for(l=p>>>q,n=32-q;n>=d;)h[f--]=g.__kConversionChars[l&b],l>>>=d,n-=d}p=(l|e<<n)&b;for(h[f--]=g.__kConversionChars[p],l=e>>>d-n;0!==l;)h[f--]=g.__kConversionChars[l&b],l>>>=d;if(a.sign&&(h[f--]="-"),-1!==f)throw new Error("implementation bug");return h.join("")}},{key:"__toStringGeneric",value:function(a,b,c){var d=a.length;if(0===d)return"";if(1===d){var e=a.__unsignedDigit(0).toString(b);return!1===c&&a.sign&&(e="-"+e),e}e=32*d-k(a.__digit(d-1));d=g.__kMaxBitsPerChar[b];d=d-1;e=e*g.__kBitsPerCharTableMultiplier;e+=d-1,e=0|e/d;var f;d=e+1>>1;e=g.exponentiate(g.__oneDigit(b,!1),g.__oneDigit(d,!1));var h=e.__unsignedDigit(0);if(1===e.length&&65535>=h){f=new g(a.length,!1),f.__initializeDigits();for(var i,j=0,l=2*a.length-1;0<=l;l--)i=j<<16|a.__halfDigit(l),f.__setHalfDigit(l,0|i/h),j=0|i%h;i=j.toString(b)}else{h=g.__absoluteDivLarge(a,e,!0,!0);f=h.quotient;l=h.remainder.__trim();i=g.__toStringGeneric(l,b,!0)}f.__trim();for(j=g.__toStringGeneric(f,b,!0);i.length<d;)i="0"+i;return!1===c&&a.sign&&(j="-"+j),j+i}},{key:"__unequalSign",value:function(a){return a?-1:1}},{key:"__absoluteGreater",value:function(a){return a?-1:1}},{key:"__absoluteLess",value:function(a){return a?1:-1}},{key:"__compareToBigInt",value:function(a,b){var c=a.sign;if(c!==b.sign)return g.__unequalSign(c);a=g.__absoluteCompare(a,b);return 0<a?g.__absoluteGreater(c):0>a?g.__absoluteLess(c):0}},{key:"__compareToNumber",value:function(a,b){if(!0|b){var c=a.sign,d=0>b;if(c!==d)return g.__unequalSign(c);if(0===a.length){if(d)throw new Error("implementation bug");return 0===b?0:-1}if(1<a.length)return g.__absoluteGreater(c);d=h(b);var e=a.__unsignedDigit(0);return e>d?g.__absoluteGreater(c):e<d?g.__absoluteLess(c):0}return g.__compareToDouble(a,b)}},{key:"__compareToDouble",value:function(a,b){if(b!==b)return b;if(b===1/0)return-1;if(b===-Infinity)return 1;var c=a.sign;if(c!==0>b)return g.__unequalSign(c);if(0===b)throw new Error("implementation bug: should be handled elsewhere");if(0===a.length)return-1;g.__kBitConversionDouble[0]=b;b=2047&g.__kBitConversionInts[1]>>>20;if(2047==b)throw new Error("implementation bug: handled elsewhere");b=b-1023;if(0>b)return g.__absoluteGreater(c);var d=a.length,e=a.__digit(d-1),f=k(e),l=32*d-f;b=b+1;if(l<b)return g.__absoluteLess(c);if(l>b)return g.__absoluteGreater(c);b=1048576|1048575&g.__kBitConversionInts[1];var m=g.__kBitConversionInts[0],o=20;f=31-f;if(f!==(l-1)%31)throw new Error("implementation bug");var p;l=0;if(f<o){var q=o-f;l=q+32,p=b>>>q,b=b<<32-q|m>>>q,m<<=32-q}else if(f===o)l=32,p=b,b=m;else{q=f-o;l=32-q,p=b<<q|m>>>32-q,b=m<<q}if(e>>>=0,p>>>=0,e>p)return g.__absoluteGreater(c);if(e<p)return g.__absoluteLess(c);for(f=d-2;0<=f;f--){0<l?(l-=32,p=b>>>0,b=m,m=0):p=0;o=a.__unsignedDigit(f);if(o>p)return g.__absoluteGreater(c);if(o<p)return g.__absoluteLess(c)}if(0!==b||0!==m){if(0===l)throw new Error("implementation bug");return g.__absoluteLess(c)}return 0}},{key:"__equalToNumber",value:function(a,b){return b|0===b?0===b?0===a.length:1===a.length&&a.sign===0>b&&a.__unsignedDigit(0)===h(b):0===g.__compareToDouble(a,b)}},{key:"__comparisonResultToBool",value:function(a,b){switch(b){case 0:return 0>a;case 1:return 0>=a;case 2:return 0<a;case 3:return 0<=a}throw new Error("unreachable")}},{key:"__compare",value:function(a,b,c){if(a=g.__toPrimitive(a),b=g.__toPrimitive(b),"string"==typeof a&&"string"==typeof b)switch(c){case 0:return a<b;case 1:return a<=b;case 2:return a>b;case 3:return a>=b}if(g.__isBigInt(a)&&"string"==typeof b)return b=g.__fromString(b),null!==b&&g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if("string"==typeof a&&g.__isBigInt(b))return a=g.__fromString(a),null!==a&&g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if(a=g.__toNumeric(a),b=g.__toNumeric(b),g.__isBigInt(a)){if(g.__isBigInt(b))return g.__comparisonResultToBool(g.__compareToBigInt(a,b),c);if("number"!=typeof b)throw new Error("implementation bug");return g.__comparisonResultToBool(g.__compareToNumber(a,b),c)}if("number"!=typeof a)throw new Error("implementation bug");if(g.__isBigInt(b))return g.__comparisonResultToBool(g.__compareToNumber(b,a),2^c);if("number"!=typeof b)throw new Error("implementation bug");return 0===c?a<b:1===c?a<=b:2===c?a>b:3===c?a>=b:void 0}},{key:"__absoluteAdd",value:function(a,b,c){if(a.length<b.length)return g.__absoluteAdd(b,a,c);if(0===a.length)return a;if(0===b.length)return a.sign===c?a:g.unaryMinus(a);var d=a.length;(0===a.__clzmsd()||b.length===a.length&&0===b.__clzmsd())&&d++;for(var d=new g(d,c),c=0,e=0;e<b.length;e++){var f=b.__digit(e),h=a.__digit(e),m=(65535&h)+(65535&f)+c;h=(h>>>16)+(f>>>16)+(m>>>16);c=h>>>16,d.__setDigit(e,65535&m|h<<16)}for(;e<a.length;e++){f=a.__digit(e);m=(65535&f)+c;h=(f>>>16)+(m>>>16);c=h>>>16,d.__setDigit(e,65535&m|h<<16)}return e<d.length&&d.__setDigit(e,c),d.__trim()}},{key:"__absoluteSub",value:function(a,b,c){if(0===a.length)return a;if(0===b.length)return a.sign===c?a:g.unaryMinus(a);for(var c=new g(a.length,c),d=0,e=0;e<b.length;e++){var f=a.__digit(e),l=b.__digit(e),m=(65535&f)-(65535&l)-d;d=1&m>>>16;f=(f>>>16)-(l>>>16)-d;d=1&f>>>16,c.__setDigit(e,65535&m|f<<16)}for(;e<a.length;e++){l=a.__digit(e);m=(65535&l)-d;d=1&m>>>16;f=(l>>>16)-d;d=1&f>>>16,c.__setDigit(e,65535&m|f<<16)}return c.__trim()}},{key:"__absoluteAddOne",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length;null===c?c=new g(d,b):c.sign=b;for(var e=!0,f=0;f<d;f++){var k=a.__digit(f),l=-1===k;e&&(k=0|k+1),e=l,c.__setDigit(f,k)}return e&&c.__setDigitGrow(d,1),c}},{key:"__absoluteSubOne",value:function(a,b){var c=a.length;b=b||c;for(var d=new g(b,!1),e=!0,f=0;f<c;f++){var k=a.__digit(f),l=0===k;e&&(k=0|k-1),e=l,d.__setDigit(f,k)}for(l=c;l<b;l++)d.__setDigit(l,0);return d}},{key:"__absoluteAnd",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,e,b=m,n}var k=f;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)&b.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteAndNot",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;d<e&&(f=d);var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)&~b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteOr",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,d=e,b=m,n}var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)|b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteXor",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=a.length,e=b.length,f=e;if(d<e){f=d;var m=a,n=d;a=b,d=e,b=m,n}var k=d;null===c?c=new g(k,!1):k=c.length;for(var l=0;l<f;l++)c.__setDigit(l,a.__digit(l)^b.__digit(l));for(;l<d;l++)c.__setDigit(l,a.__digit(l));for(;l<k;l++)c.__setDigit(l,0);return c}},{key:"__absoluteCompare",value:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(c=a.length-1;0<=c&&a.__digit(c)===b.__digit(c);)c--;return 0>c?0:a.__unsignedDigit(c)>b.__unsignedDigit(c)?1:-1}},{key:"__multiplyAccumulate",value:function(a,b,c,d){if(0!==b){for(var e=65535&b,b=b>>>16,f=0,g=0,k=0,l=0;l<a.length;l++,d++){var m=c.__digit(d),n=65535&m,o=m>>>16,p=a.__digit(l),q=65535&p;p=p>>>16;var r=j(q,e);q=j(q,b);var s=j(p,e);p=j(p,b);n+=g+(65535&r),o+=k+f+(n>>>16)+(r>>>16)+(65535&q)+(65535&s),f=o>>>16,g=(q>>>16)+(s>>>16)+(65535&p)+f,f=g>>>16,g&=65535,k=p>>>16,m=65535&n|o<<16,c.__setDigit(d,m)}for(;0!==f||0!==g||0!==k;d++){r=c.__digit(d);q=(65535&r)+g;s=(r>>>16)+(q>>>16)+k+f;g=0,k=0,f=s>>>16,r=65535&q|s<<16,c.__setDigit(d,r)}}}},{key:"__internalMultiplyAdd",value:function(a,b,c,d,e){for(var c=c,f=0,h=0;h<d;h++){var l=a.__digit(h),m=j(65535&l,b),n=(65535&m)+f+c;c=n>>>16;l=j(l>>>16,b);m=(65535&l)+(m>>>16)+c;c=m>>>16,f=l>>>16,e.__setDigit(h,m<<16|65535&n)}if(e.length>d)for(e.__setDigit(d++,c+f);d<e.length;)e.__setDigit(d++,0);else if(0!==c+f)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(a,b,c){null===c&&(c=new g(a.length,!1));for(var d=0,e=2*a.length-1;0<=e;e-=2){var f=(d<<16|a.__halfDigit(e))>>>0,k=0|f/b;d=0|f%b,f=(d<<16|a.__halfDigit(e-1))>>>0;var l=0|f/b;d=0|f%b,c.__setDigit(e>>>1,k<<16|l)}return c}},{key:"__absoluteModSmall",value:function(a,b){for(var c,d=0,e=2*a.length-1;0<=e;e--)c=(d<<16|a.__halfDigit(e))>>>0,d=0|c%b;return d}},{key:"__absoluteDivLarge",value:function(a,b,c,d){var f=b.__halfDigitLength(),e=b.length,n=a.__halfDigitLength()-f,i=null;c&&(i=new g(n+2>>>1,!1),i.__initializeDigits());var l=new g(f+2>>>1,!1);l.__initializeDigits();var m=g.__clz16(b.__halfDigit(f-1));0<m&&(b=g.__specialLeftShift(b,m,0));for(var a=g.__specialLeftShift(a,m,1),k=b.__halfDigit(f-1),o=0,n=n;0<=n;n--){var p=65535,q=a.__halfDigit(n+f);if(q!==k){q=(q<<16|a.__halfDigit(n+f-1))>>>0;p=0|q/k;for(var q=0|q%k,r=b.__halfDigit(f-2),s=a.__halfDigit(n+f-2);j(p,r)>>>0>(q<<16|s)>>>0&&(p--,q+=k,!(65535<q)););}g.__internalMultiplyAdd(b,p,0,e,l);r=a.__inplaceSub(l,n,f+1);0!==r&&(r=a.__inplaceAdd(b,n,f),a.__setHalfDigit(n+f,a.__halfDigit(n+f)+r),p--),c&&(1&n?o=p<<16:i.__setDigit(n>>>1,o|p))}return d?(a.__inplaceRightShift(m),c?{quotient:i,remainder:a}:a):c?i:void 0}},{key:"__clz16",value:function(a){return k(a)-16}},{key:"__specialLeftShift",value:function(a,b,c){var e=a.length,d=new g(e+c,!1);if(0===b){for(var f=0;f<e;f++)d.__setDigit(f,a.__digit(f));return 0<c&&d.__setDigit(e,0),d}for(var j,f=0,l=0;l<e;l++)j=a.__digit(l),d.__setDigit(l,j<<b|f),f=j>>>32-b;return 0<c&&d.__setDigit(e,f),d}},{key:"__leftShiftByAbsolute",value:function(a,b){b=g.__toShiftAmount(b);if(0>b)throw new RangeError("BigInt too big");var c=b>>>5;b=31&b;var d=a.length,e=0!==b&&0!=a.__digit(d-1)>>>32-b,f=d+c+(e?1:0),m=new g(f,a.sign);if(0===b){for(var n=0;n<c;n++)m.__setDigit(n,0);for(;n<f;n++)m.__setDigit(n,a.__digit(n-c))}else{for(n=0,f=0;f<c;f++)m.__setDigit(f,0);for(var o,f=0;f<d;f++)o=a.__digit(f),m.__setDigit(f+c,o<<b|n),n=o>>>32-b;if(e)m.__setDigit(d+c,n);else if(0!==n)throw new Error("implementation bug")}return m.__trim()}},{key:"__rightShiftByAbsolute",value:function(a,b){var c=a.length,d=a.sign;b=g.__toShiftAmount(b);if(0>b)return g.__rightShiftByMaximum(d);var e=b>>>5;b=31&b;var f=c-e;if(0>=f)return g.__rightShiftByMaximum(d);var i=!1;if(d)if(0!=(a.__digit(e)&(1<<b)-1))i=!0;else for(var m=0;m<e;m++)if(0!==a.__digit(m)){i=!0;break}if(i&&0===b){m=a.__digit(c-1);0==~m&&f++}m=new g(f,d);if(0===b)for(f=e;f<c;f++)m.__setDigit(f-e,a.__digit(f));else{for(var n,d=a.__digit(e)>>>b,f=c-e-1,c=0;c<f;c++)n=a.__digit(c+e+1),m.__setDigit(c,n<<32-b|d),d=n>>>b;m.__setDigit(f,d)}return i&&(m=g.__absoluteAddOne(m,!0,m)),m.__trim()}},{key:"__rightShiftByMaximum",value:function(a){return a?g.__oneDigit(1,!0):g.__zero()}},{key:"__toShiftAmount",value:function(a){if(1<a.length)return-1;a=a.__unsignedDigit(0);return a>g.__kMaxLengthBits?-1:a}},{key:"__toPrimitive",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==a(b))return b;if(b.constructor===g)return b;var d=b[Symbol.toPrimitive];if(d){var e=d(c);if("object"!==a(e))return e;throw new TypeError("Cannot convert object to primitive value")}var f=b.valueOf;if(f){var k=f.call(b);if("object"!==a(k))return k}var l=b.toString;if(l){var m=l.call(b);if("object"!==a(m))return m}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(a){return g.__isBigInt(a)?a:+a}},{key:"__isBigInt",value:function(b){return"object"===a(b)&&b.constructor===g}},{key:"__truncateToNBits",value:function(a,b){for(var c=a+31>>>5,d=new g(c,b.sign),c=c-1,e=0;e<c;e++)d.__setDigit(e,b.__digit(e));e=b.__digit(c);if(0!=(31&a)){b=32-(31&a);e=e<<b>>>b}return d.__setDigit(c,e),d.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(a,b,c){for(var d=Math.min,e=a+31>>>5,c=new g(e,c),f=0,e=e-1,h=0,d=d(e,b.length);f<d;f++){var j=b.__digit(f),l=0-(65535&j)-h;h=1&l>>>16;j=0-(j>>>16)-h;h=1&j>>>16,c.__setDigit(f,65535&l|j<<16)}for(;f<e;f++)c.__setDigit(f,0|-h);l=e<b.length?b.__digit(e):0;j=31&a;if(0===j){d=0-(65535&l)-h;h=1&d>>>16;f=0-(l>>>16)-h;b=65535&d|f<<16}else{a=32-j;l=l<<a>>>a;d=1<<32-a;f=(65535&d)-(65535&l)-h;h=1&f>>>16;j=(d>>>16)-(l>>>16)-h;b=65535&f|j<<16,b&=d-1}return c.__setDigit(e,b),c.__trim()}},{key:"__digitPow",value:function(a,b){for(var c=1;0<b;)1&b&&(c*=a),b>>>=1,a*=a;return c}}]),g}(k(Array));return n.__kMaxLength=33554432,n.__kMaxLengthBits=n.__kMaxLength<<5,n.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],n.__kBitsPerCharTableShift=5,n.__kBitsPerCharTableMultiplier=1<<n.__kBitsPerCharTableShift,n.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.__kBitConversionBuffer=new ArrayBuffer(8),n.__kBitConversionDouble=new Float64Array(n.__kBitConversionBuffer),n.__kBitConversionInts=new Int32Array(n.__kBitConversionBuffer),n})}),null);
__d("TCompactProtocolPolyfill",["StringToUtf8","ThriftTypes","Utf8ToString","jsbi"],(function(a,b,c,d,e,f,g){var h,i=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),j=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:i.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:i.CT_BOOLEAN_FALSE}),k=[i.CT_STOP,0,i.CT_BOOLEAN_TRUE,i.CT_BYTE,i.CT_DOUBLE,0,i.CT_I16,0,i.CT_I32,0,i.CT_I64,i.CT_BINARY,i.CT_STRUCT,i.CT_MAP,i.CT_SET,i.CT_LIST,0,0,0,i.CT_FLOAT],l=Math.pow(2,7)-1,m=-1*Math.pow(2,7),n=Math.pow(2,15)-1,o=-1*Math.pow(2,15),p=Math.pow(2,31)-1,q=-1*Math.pow(2,31),r=Math.pow(2,32)-1,s=(a=c("jsbi")).BigInt("9223372036854775807"),t=a.BigInt("-9223372036854775808"),u=a.BigInt("18446744073709551615"),v=a.BigInt(63),w=a.BigInt(1),x=a.BigInt(0),y=a.BigInt(7),z=a.BigInt(70),A=a.BigInt(127),B=a.BigInt(128),C=Math.pow(2,4);b=function(){function a(a){this.$4=null,this.$5=null,this.$1=a,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var b=a.prototype;b.readStructBegin=function(){this.$2.push(this.$3),this.$3=0};b.readStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeStructBegin=function(a){this.$2.push(this.$3);this.$3=0;return 0};b.writeStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeFieldBegin=function(a){if(a.ftype===(h||(h=c("ThriftTypes"))).BOOL){this.$4={fid:a.fid,fname:a.fname,ftype:a.ftype};return 0}else return this.$7(a,j.NONE)};b.writeListBegin=function(a){return this.$8(a)};b.writeListEnd=function(){return 0};b.writeSetBegin=function(a){return this.$8(a)};b.writeSetEnd=function(){return 0};b.writeMapBegin=function(a){var b=0;if(a.size===0)b+=this.$1.writeByte(0);else{b+=this.writeVarint32(a.size);if(a.ktype!=null&&a.vtype!=null)b+=this.$1.writeByte(this.$9(a.ktype)<<4|this.$9(a.vtype));else throw new Error("received invalid map info: "+JSON.stringify(a))}return b};b.writeMapEnd=function(){return 0};b.$7=function(a,b){var c=0;b=b===j.NONE?this.$9(a.ftype):b;a.fid>this.$3&&a.fid-this.$3<=C-1?c+=this.$1.writeByte(a.fid-this.$3<<4|b):(c+=this.$1.writeByte(b),c+=this.writeI16(a.fid));this.$3=a.fid;return c};b.$8=function(a){var b=0,c=this.$9(a.etype);a.size<=C-2?b+=this.$1.writeByte(a.size<<4|c):(b+=this.$1.writeByte(240|c),b+=this.writeVarint32(a.size));return b};b.readFieldBegin=function(){var a=this.$1.readByte(),b=a&15;if(b===(h||(h=c("ThriftTypes"))).STOP)return{ftype:(h||(h=c("ThriftTypes"))).STOP,fid:0};a=(a&240)>>>4;var d;a===0?d=this.readI16():d=this.$3+a;a=this.$10(b);(b===i.CT_BOOLEAN_TRUE||b===i.CT_BOOLEAN_FALSE)&&(this.$5=b===i.CT_BOOLEAN_TRUE);this.$3=d;return{ftype:a,fid:d}};b.readListBegin=function(){return this.$11()};b.readListEnd=function(){return 0};b.readSetBegin=function(){return this.$11()};b.readSetEnd=function(){return 0};b.readMapBegin=function(){var a=this.readVarint32();if(a>0){var b=this.$1.readByte(),c=this.$12(b>>4,"readMapBegin:key");b=this.$12(b&15,"readMapBegin:value");return{ktype:this.$10(c),vtype:this.$10(b),size:a}}return{size:a}};b.readMapEnd=function(){return 0};b.$12=function(a,b){if(a<0||a>13)throw new Error(b+" read invalid compact type: "+a);return a};b.$11=function(){var a=this.$1.readByte(),b=this.$12(a&15,"_readListOrSetBegin");b=this.$10(b);a=a>>4&15;a===15&&(a=this.readVarint32());return{etype:b,size:a}};b.readFieldEnd=function(){return 0};b.readByte=function(){this.$6.setUint8(0,this.$1.readByte());return this.$6.getInt8(0)};b.writeByte=function(a){if(a<m||a>l)throw new Error("byte to write is out of range: "+a);this.$6.setInt8(0,a);return this.$1.writeByte(this.$6.getUint8(0))};b.readFloat=function(){return this.$1.readFloatBE()};b.writeFloat=function(a){return this.$1.writeFloatBE(a)};b.readDouble=function(){return this.$1.readDoubleBE()};b.writeDouble=function(a){return this.$1.writeDoubleBE(a)};b.writeString=function(a){return this.writeBinary(d("StringToUtf8").StringToUtf8(a))};b.skip=function(a){switch(a){case(h||(h=c("ThriftTypes"))).STOP:return;case(h||(h=c("ThriftTypes"))).BOOL:this.readBool();break;case(h||(h=c("ThriftTypes"))).BYTE:this.readByte();break;case(h||(h=c("ThriftTypes"))).DOUBLE:this.readDouble();break;case(h||(h=c("ThriftTypes"))).I16:this.readI16();break;case(h||(h=c("ThriftTypes"))).I32:this.readI32();break;case(h||(h=c("ThriftTypes"))).I64:this.readI64();break;case(h||(h=c("ThriftTypes"))).STRING:this.readString();break;case(h||(h=c("ThriftTypes"))).STRUCT:this.readStructBegin();var b;while(!0){b=this.readFieldBegin();if(b.ftype===(h||(h=c("ThriftTypes"))).STOP)break;this.skip(b.ftype)}this.readStructEnd();break;case(h||(h=c("ThriftTypes"))).MAP:b=this.readMapBegin();if(b.size>0&&b.ktype!=null&&b.vtype!=null){var d=b.ktype,e=b.vtype;for(var f=0;f<b.size;f++)this.skip(d),this.skip(e)}break;case(h||(h=c("ThriftTypes"))).SET:case(h||(h=c("ThriftTypes"))).LIST:f=this.$11();for(d=0;d<f.size;d++)this.skip(f.etype);break;case(h||(h=c("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+a+" in skip")}};b.toByteArray=function(){return this.$1.toByteArray()};b.writeFieldEnd=function(){return 0};b.writeFieldStop=function(){return this.$1.writeByte((h||(h=c("ThriftTypes"))).STOP)};b.writeI16=function(a){if(a<o||a>n)throw new Error("trying to write i16 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI16=function(){var a=this.zigzagToI32(this.readVarint32());if(a<o||a>n)throw new Error("read invalid i16: "+a);return a};b.writeI32=function(a){if(a<q||a>p)throw new Error("i32 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI32=function(){return this.zigzagToI32(this.readVarint32())};b.writeI64=function(a){return this.writeVarint64(this.i64ToZigzag(a))};b.readI64=function(){return this.zigzagToI64(this.readVarint64())};b.readBool=function(){var a;this.$5!=null?(a=this.$5,this.$5=null):a=this.$1.readByte()===i.CT_BOOLEAN_TRUE;return a};b.writeBool=function(a){var b=0;this.$4!=null?(b+=this.$7(this.$4,a?j.CT_BOOLEAN_TRUE:j.CT_BOOLEAN_FALSE),this.$4=null):b+=this.$1.writeByte(a?i.CT_BOOLEAN_TRUE:i.CT_BOOLEAN_FALSE);return b};b.readBinary=function(){var a=this.readVarint32();return a===0?new Uint8Array(0):this.$1.readBytes(a)};b.writeBinary=function(a){var b=0;b+=this.writeVarint32(a.length);b+=this.$1.write(a);return b};b.i32ToZigzag=function(a){if(a<q||a>p)throw new Error("number: "+a+" is out of range of i32");return(a<<1^(a<0?4294967295:0))>>>0};b.zigzagToI32=function(a){if(a<0||a>r)throw new Error("number: "+a+" is out of range of uint32");return a>>>1^-1*(a&1)};b.i64ToZigzag=function(a){if(c("jsbi").greaterThan(a,s)||c("jsbi").lessThan(a,t))throw new Error("i64 out of range: "+a.toString());return c("jsbi").bitwiseXor(c("jsbi").signedRightShift(a,v),c("jsbi").leftShift(a,w))};b.zigzagToI64=function(a){if(c("jsbi").lessThan(a,0)||c("jsbi").greaterThan(a,u))throw new Error("invalid uint64: "+a.toString());return c("jsbi").equal(c("jsbi").bitwiseAnd(a,w),w)?c("jsbi").bitwiseNot(c("jsbi").signedRightShift(a,w)):c("jsbi").signedRightShift(a,w)};b.writeVarint32=function(a){if(a<0||a>r)throw new Error("writeVarint32 received out of range uint32: "+a);a=a;var b=0;while(!0)if(a>>>7===0){this.$1.writeByte(a);b++;break}else this.$1.writeByte(a&127|128),b++,a>>>=7;return b};b.readVarint32=function(){var a=0,b=0,c;while(!0){c=this.$1.readByte();a=(a|(c&127)<<b)>>>0;b+=7;if((c&128)==0){if(b===35&&(c&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(b>28)throw new Error("result exceeded 32 bit limit")}return a};b.writeVarint64=function(a){if(c("jsbi").lessThan(a,x)||c("jsbi").greaterThan(a,u))throw new Error("invalid uint64: "+a.toString());a=a;var b=0;while(!0)if(c("jsbi").equal(c("jsbi").signedRightShift(a,y),x)){this.$1.writeByte(c("jsbi").toNumber(a));b++;break}else{var d,e=(d=c("jsbi")).toNumber(d.bitwiseOr(d.bitwiseAnd(a,A),B));this.$1.writeByte(e);b++;a=d.signedRightShift(a,y)}return b};b.readVarint64=function(){var a=x,b=x,d;while(!0){var e;d=(e=c("jsbi")).BigInt(this.$1.readByte());a=e.bitwiseOr(a,e.leftShift(e.bitwiseAnd(d,A),b));b=e.add(b,y);if(c("jsbi").equal(c("jsbi").bitwiseAnd(d,B),x)){if(c("jsbi").equal(b,z)&&c("jsbi").notEqual(d,w))throw new Error("result exceeded 64 bit limit");break}if(c("jsbi").greaterThan(b,v))throw new Error("result exceeded 64 bit limit")}return a};b.readString=function(){return d("Utf8ToString").Utf8ToString(this.readBinary())};b.getLastFieldId=function(){return this.$3};b.getLastField=function(){return this.$2};b.getBooleanFieldInfo=function(){return this.$4};b.getBooleanValue=function(){return this.$5};b.$9=function(a){return k[a]};b.$10=function(a){switch(a){case i.CT_STOP:return(h||(h=c("ThriftTypes"))).STOP;case i.CT_BOOLEAN_FALSE:case i.CT_BOOLEAN_TRUE:return(h||(h=c("ThriftTypes"))).BOOL;case i.CT_BYTE:return(h||(h=c("ThriftTypes"))).BYTE;case i.CT_I16:return(h||(h=c("ThriftTypes"))).I16;case i.CT_I32:return(h||(h=c("ThriftTypes"))).I32;case i.CT_I64:return(h||(h=c("ThriftTypes"))).I64;case i.CT_DOUBLE:return(h||(h=c("ThriftTypes"))).DOUBLE;case i.CT_FLOAT:return(h||(h=c("ThriftTypes"))).FLOAT;case i.CT_BINARY:return(h||(h=c("ThriftTypes"))).STRING;case i.CT_LIST:return(h||(h=c("ThriftTypes"))).LIST;case i.CT_SET:return(h||(h=c("ThriftTypes"))).SET;case i.CT_MAP:return(h||(h=c("ThriftTypes"))).MAP;case i.CT_STRUCT:return(h||(h=c("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}};return a}();g["default"]=b}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("CompactSerializerPolyfill",["TCompactProtocolPolyfill","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocolPolyfill"))(a);return b(a)}function a(a,b,c){try{return h(a,b)}catch(a){c!=null&&c(a)}return null}function i(a,b,d){d===void 0&&(d=!1);if(d){d=new(c("TNoOpWriteBuffer"))();var e=new(c("TCompactProtocolPolyfill"))(d);b(a,e);e=new(c("TWriteBuffer"))(d.currentSize())}else e=new(c("TWriteBuffer"))();d=new(c("TCompactProtocolPolyfill"))(e);b(a,d);return d.toByteArray()}function b(a,b,c,d){c===void 0&&(c=!1);try{return i(a,b,c)}catch(a){d!=null&&d(a)}return null}g.deserialize=h;g.deserializeNoThrow=a;g.serialize=i;g.serializeNoThrow=b}),98);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter$p_2=d;e.$CrossWindowEventEmitter$p_1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter$p_1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),d].concat(c.__v))}});return e}var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter$p_1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometEventListener")}),66);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("MqttEnvWebSocket",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new WebSocket(a)}f.createWebSocket=a}),66);
__d("MqttEnv",["MqttEnvWebSocket","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});e=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}c("clearTimeout")(a)};a.setTimeout=function(a,b){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return this.$4!=null?this.$4.apply(null,arguments):c("setTimeout").apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):d("MqttEnvWebSocket").createWebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new e();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt==null?void 0:a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure==null?void 0:a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected==null?void 0:a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess==null?void 0:a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost==null?void 0:a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect==null?void 0:a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe==null?void 0:b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe==null?void 0:b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish==null?void 0:b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage==null?void 0:b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal==null?void 0:a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,"sid",b.toString())}function b(a,b){var c=a;b.forEach(function(a,b){c=h(c,b,a)});return c}function h(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c}function c(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)}function i(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})}function e(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);i(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}g.endpointWithSessionId=a;g.endpointWithExtraParameters=b;g.endpointWithExtraParameter=h;g.generateSessionId=c;g.promiseDone=i;g.promiseDoneWithTimeout=e;g.sprintf=f}),98);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{position:e,wireMessage:null};b=i.offset;i=b+i.value;if(i>a.length)return{position:e,wireMessage:null};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{position:i,wireMessage:j}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d("MqttProtocolUtils")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,ConnAck:m,Connect:f,Disconnect:e,Ping:k,PubAckUnsubAck:n,Publish:q,Subscription:o};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserNameUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null?a:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus()}function b(){return navigator.userAgent}f.getMqttForegroundStatus=a;f.getUserAgent=b}),66);
__d("MqttUserName",["MqttUserNameUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h,i,j,k,l,m){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),m===void 0&&(m=null),this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5=f,this.$6=g,this.$7=d("MqttUserNameUtils").getMqttForegroundStatus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l,this.$13=m}var b=a.prototype;b.gen=function(a,b,c,e){e===void 0&&(e=[]);var f=d("MqttUserNameUtils").getMqttForegroundStatus(this.$7);c=c.map(function(a){a={isBase64Publish:!1,messageId:a.messageId,payload:a.payload,qos:a.qos,topic:a.topic};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});f={a:d("MqttUserNameUtils").getUserAgent(),asi:this.$13,aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:"",ecp:this.$2,fg:f,gas:this.$8,mqtt_sid:"",no_auto_fg:!0,p:this.$11,pack:e,php_override:this.$9,pm:c,s:a,st:b,u:this.$1};return JSON.stringify(f)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null?void 0:g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null?void 0:b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttWebSocketUtils",[],(function(a,b,c,d,e,f){"use strict";function b(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype}f.hasWSSupport=b}),66);
__d("isFastRefreshEnabledForCurrentDomain",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;var r=a.assetIds;r=r===void 0?null:r;a=a.appSpecificInfo;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,r,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){var b=this;this.$3.push(a);return function(){b.unsubscribeChannelEvents(a)}};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(d of d)try{d(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}d=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(c of d)try{c(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b of this.$3)b.onJSError&&b.onJSError(a)};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b of this.$3)b.onMQTTStateChanged(a)};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttConfig",["MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MqttWebConfig")}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){a.getInstance=function(b){n||(n=new a(b));return n};function a(a){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$7(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null),this.$6=a}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;var s=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+s);s=r/(r+j);r=n&&this.getBrowserConnectivity();var t={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:s.toString(),device_id:this.$4,hostname:k,connectionStatus:f.toString(),exposure:(j=this.$6)!=null?j:""},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(n=this.$5)==null?void 0:n.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return t})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$9(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$9(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4,exposure:(b=this.$6)!=null?b:""},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(d=this.$5)==null?void 0:d.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$8(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("21121");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),(a=a)!=null?a:null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null;function a(){F().set(k,x())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function x(){t=t||F().get(k)||0;return t}function y(){v||(u=F().get(l),v=!0);var a=Date.now();(!u||a-i>x())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),F().set(l,u));return u}function z(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function A(){return{locale:navigator.language}}function B(a,b,c,d,e,f,g){var h=g!=null&&g!=0?g:Date.now();t=g!=null&&g!=0?Date.now():h;g=b!=null&&b!=""?b:p;return{name:a,time:h/1e3,module:g,obj_type:d,obj_id:e,uuid:f,extra:c}}function C(a,b,c){return B("content",null,{flags:b},null,null,a,c)}function D(a){var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(C(c,1,d[1]));a.push(C(c,2,d[2]));a.push(C(c,3,d[3]))}}}function E(a,c){D(a);if(a.length===0)return;o&&a.push(B("counters",null,m));var d=b("Banzai").BASIC;c==="vital"&&(d=b("Banzai").VITAL);var e=b("MarauderConfig").gk_enabled;s===0&&e&&(a.push(B("device_status",null,A())),d={delay:5e3});c==="signal"&&(d={signal:!0});e&&Math.random()<.01&&a.push(B("device_info",null,z()));if(r!==null)for(c=0;c<a.length;c++){e=a[c];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,device_id:void 0,log_type:g,seq:s++,session_id:y()};c=F().get("device_id");c&&(e.device_id=c);m={};o=!1;b("Banzai").post(j,e,d)}function F(){w||(w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function G(b,a,c,d,f,g,h,i){E([B(b,a,c,d,f,g,h)],i)}function H(a,b){p!==b&&(n.push(B(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,H(a,b))}function f(a,b,c){G(b?"show_module":"hide_module",a,c)}function I(a){p=a}function J(){return p}function K(a){r===null&&(r=a,a!==null&&(E(n),n=[]))}e.exports={count:c,log:G,navigateTo:d,navigateWithinSession:H,toggleModule:f,setUUID:K,setNavigationModule:I,getNavigationModule:J}}),null);
__d("PromiseResult",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){var a=this;this.promise=new(g||(g=b("Promise")))(function(b,c){a.$1=b,a.$2=c})}var c=a.prototype;c.resolve=function(a){this.$1(a)};c.reject=function(a){this.$2(a)};return a}();f["default"]=a}),66);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUserName","MqttUtils","Promise","PromiseResult"],(function(a,b,c,d,e,f,g){"use strict";var h,i="fetch_pull",j="fetch_pull_finish",k="fetch_",l=6e4,m="action",n="chunked",o="send",p="true",q=5,r=20,s=10,t=5e3,u=typeof window!=="undefined"?window:self;a=function(){function a(){this.$1="",this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$3=0,this.$4="",this.$5=new(c("MqttUserName"))("",0,1,"",0,!0),this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}a.isSupported=function(){return typeof u.fetch==="function"};var e=a.prototype;e.run=function(a,b,c,e,f,g,h,i){this.$1=d("MqttUtils").endpointWithSessionId(a,b),this.$3=b,this.$4=c,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$20()};e.isTopicSupported=function(a){return!0};e.publish=function(a,b){return this.$21(a,b)};e.publishBinary=function(a,b){return this.$21(a,b)};e.$21=function(a,d){if(this.$14!=="ReceivingData"){this.$2.bumpCounter(k+"publish."+a+".invalidstate");return(h||(h=b("Promise"))).reject("not connected")}else{this.$2.bumpCounter(k+"publish."+a+".publish");var e=new(c("PromiseResult"))();a={topic:a,payload:d,promiseResult:e};this.$15.push(a);this.$22();return e.promise}};e.abort=function(){this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){}};e.$23=function(a){var b=this;a.forEach(function(a){b.$2.bumpCounter(k+"publish."+a.topic+".resolved"),a.promiseResult.resolve()});this.$12+=a.length};e.$24=function(a,b){var c=this;a.forEach(function(a){c.$2.bumpCounter(k+"publish."+a.topic+".rejected"),a.promiseResult.reject(b)})};e.$25=function(a,b,c,d){var e=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+c);this.$2.bumpCounter(k+"publish_request_failed");this.$14!=="ReceivingData"||c===q?(this.$24(a,d),this.$18=!1,this.$2.bumpCounter(k+"publish_request_failed_final"),this.$22()):this.$26(a,b,c+1)};e.$27=function(a,b,c,d){if(!d.ok){this.$2.bumpCounter(k+"publish_request_failed.http."+d.status);if(d.status===409){this.$19++;if(this.$19>=s){this.$2.bumpCounter(k+"409_reset");this.$28(new Error("Too many 409 errors"));return}}this.$25(a,b,c,this.$29(d));return}this.$2.bumpCounter(k+"publish_request_success");b=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+b+", retry:"+c);this.$23(a);this.$18=!1;this.$22()};e.$22=function(){if(this.$14!=="ReceivingData")return;if(this.$18)return;if(this.$15.length===0&&this.$16.length===0)return;this.$18=!0;var a=this.$15.slice(0,r);this.$15=this.$15.slice(r,this.$15.length);this.$17!=null&&d("MqttEnv").Env.clearTimeout(this.$17);this.$17=null;var b=this.$16.slice(0,r);this.$16=this.$16.slice(r,this.$16.length);this.$26(a,b,0)};e.$26=function(a,b,c){var e=this,f=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+f+", retry:"+c);f=d("MqttUtils").endpointWithExtraParameter(this.$1,m,o);var g=a.map(function(a){return{topic:a.topic,payload:a.payload,qos:0,messageId:d("MqttEnv").Env.random()}});g=this.$5.gen(this.$3,[],g,b);this.$2.bumpCounter(k+"publish_request");d("MqttUtils").promiseDoneWithTimeout(u.fetch(f,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:g,keepalive:!1}),function(d){return e.$27(a,b,c,d)},function(d){return e.$25(a,b,c,d)},l)};e.$30=function(a){a=a.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+a);this.$9(a);this.$31(!1,a);this.$2.bumpCounter(k+"error");this.$14="Error"};e.$32=function(a){var b=this;this.$2.debugTrace("FetchClient","Fetch response data received");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages;var c=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PINGREQ});a=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH}).map(function(a){if(!(a instanceof d("MqttProtocolCodec").WireMessage.Publish))return{};a=a;a.qos===1&&a.messageIdentifier!=null&&(b.$16.push(a.messageIdentifier),b.$17==null&&(b.$17=d("MqttEnv").Env.setTimeout(function(){b.$22()},t)));return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}});for(var e of a){var f;this.$2.bumpCounter(k+"response_"+((f=e.topic)!=null?f:"void"))}a&&a.length>0&&(this.$13+=a.length,this.$7(a));c&&c.length>0&&this.$33()};e.$33=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(k+"ping")};e.$28=function(a){this.$2.debugTrace("FetchClient","Fetch request ended: "+a.toString()),this.$2.bumpCounter(k+"done"),this.$34(a.message),this.$8(),this.$14="Done"};e.$35=function(a,b,c){var e=this;if(c!=null)try{this.$32(c)}catch(a){this.$28(a);this.$2.bumpCounter(k+"dataDecodeException");return}if(b){this.$28(new Error("EOF"));return}d("MqttUtils").promiseDone(a.read(),function(c){var b=c.done;c=c.value;return e.$35(a,b,c)},function(a){return e.$28(a)})};e.$36=function(a){if(!a.ok){this.$2.bumpCounter(k+"error.http."+a.status);this.$30(this.$29(a));return}a=a.body;if(!a){this.$30(new Error("Empty body"));return}a=a.getReader();this.$6();this.$2.bumpCounter(k+"success");this.$31(!0,null);this.$11=Date.now();this.$14="ReceivingData";this.$2.debugTrace("FetchClient","Fetch request success");this.$35(a,!1,null)};e.$34=function(a){this.$2.eventLogPullFinish({pullEventName:j,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:a,publishReceived:this.$13,publishSent:this.$12})};e.$31=function(a,b){this.$2.eventLogPull({pullEventName:i,sessionID:this.$3,status:a,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:b})};e.$20=function(){var a=this;if(this.$14!=="Ready")return;this.$2.debugTrace("FetchClient","Sending fetch request");this.$2.bumpCounter(k+"request");this.$10=Date.now();var b=d("MqttUtils").endpointWithExtraParameter(this.$1,n,p);d("MqttUtils").promiseDoneWithTimeout(u.fetch(b,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(b){return a.$36(b)},function(b){return a.$30(b)},l)};e.$29=function(a){return new Error("Http error, status="+a.status)};return a}();g["default"]=a}),98);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","MqttUserName","Promise","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=120*1e3,j="simple_pull",k="longpolling_";a=function(){function a(){this.$3="",this.$4=0,this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$1="Ready",this.$5="",this.$6=new(c("MqttUserName"))("",0,1,"",0,!0),this.$7=function(){},this.$8=function(a){},this.$9=function(){},this.$10=function(a){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var e=a.prototype;e.run=function(a,b,c,d,e,f,g,h){this.$3=a,this.$4=b,this.$5=c,this.$6=d,this.$7=e,this.$8=f,this.$9=g,this.$10=h,this.$14(this.$5)};e.isTopicSupported=function(a){return this.$13.has(a)};e.publish=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.publishBinary=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")};e.$15=function(a,b){if(this.$1===a)return;this.$1=a;a==="Error"&&b!=null&&this.$10(b);this.$2.debugTrace("LongPollingClient","_changeStatus : "+a)};e.$16=function(a){if(this.$1!=="RequestSend")return;if(!a){this.$17("EmptyResponse",null);return}this.$7();this.$2.bumpCounter(k+"success");this.$18(!0,null);this.$15("ResponseReceived");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages.filter(function(a){return a instanceof d("MqttProtocolCodec").WireMessage.Publish}).map(function(a){if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){a=a;return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}}else return{}});this.$8(a);this.$9()};e.$17=function(a,b){b=b!=null?b.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$18(!1,a+":"+b);this.$2.bumpCounter(k+"error."+a);this.$15("Error",a)};e.$18=function(a,b){this.$2.eventLogPull({pullEventName:j,sessionID:this.$4,status:a,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:b})};e.$14=function(a){var b=this;if(this.$1!=="Ready"||this.$12)return;this.$2.bumpCounter(k+"request");try{this.$11=Date.now(),this.$12=new(c("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(c("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return b.$16(a)}).setNetworkFailureHandler(function(a){b.$17("Network",a)}).setErrorHandler(function(a){b.$17("Error",a)}).setAbortHandler(function(a){b.$17("Abort",null)}).setTimeoutHandler(function(){b.$17("Timeout",null)}).setTimeout(i).send(),this.$15("RequestSend")}catch(a){this.$17("Error",a)}};return a}();g["default"]=a}),98);
__d("MqttLongPollingHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onPollRequestSent=function(){this.$1.forEach(function(a){a.onPollRequestSent()})};b.onPollRequestSuccess=function(){this.$1.forEach(function(a){a.onPollRequestSuccess()})};b.onPollResponse=function(a){this.$1.forEach(function(b){b.onPollResponse(a)})};b.onPollFinish=function(){this.$1.forEach(function(a){a.onPollFinish()})};b.onPollRequestFailed=function(a){this.$1.forEach(function(b){b.onPollRequestFailed(a)})};b.onPollShutdownAbort=function(){this.$1.forEach(function(a){a.onPollShutdownAbort()})};return a}();f["default"]=a}),66);
__d("exponentialBackoff",["MqttEnv"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=null);var c=null,e=0;function f(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=function(){a.apply(b,g)};if(c===null){var j=Math.max(0,Math.pow(2,Math.min(e,6))*(1e3+d("MqttEnv").Env.random()*100)-2e3);c=d("MqttEnv").Env.setTimeout(function(){i(),c=null},j)}e++}f.reset=function(){e=0,c!=null&&(d("MqttEnv").Env.clearTimeout(c),c=null)};f.isPending=function(){return c!=null};return f}g["default"]=a}),98);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","MqttWebSocketUtils","Promise","exponentialBackoff"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=1e3,k=3e3,l="mqtt_should_longpoll",m="last_lp",n="yes",o="no";a=function(){function a(a,b,e,f,g,h,i,j,k){var l=this;this.$23=function(){try{if(!l.$30())return;l.$5.debugTrace("LongPollingRunner","_startPollingIfNecessary called");var a=l.$31();l.$14=a;var b=l.$9(),c=l.$10();b=b.filter(function(b){return a.isTopicSupported(b)});c=c.filter(function(b){return a.isTopicSupported(b.topic)});if(b.length===0&&c.length===0){l.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do");l.$14=null;d("MqttEnv").Env.setTimeout(function(){l.$23()},1e3);return}var e=d("MqttUtils").generateSessionId();a.run(l.$6,e,l.$7.gen(e,b,c),l.$7,function(){return l.$32()},function(a){return l.$33(a)},function(){return l.$34()},function(a){return l.$35(a)});l.$19.onPollRequestSent();e=b.join(",");b=c.map(function(a){return a.topic}).join(",");l.$5.debugTrace("LongPollingRunner","Making a poll request to "+l.$6+". SubscribedTopics:"+e+". Publishes:"+b)}catch(a){a&&l.$5.logErrorWarn(a,"lp_js_error"),l.$11(new(d("MqttTypes").MqttChannelError)(!1,"js error lp",a)),l.$35("lp_js_error")}};this.$6=a;this.$7=b;this.$1=f;this.$2=0;this.$3=e;this.$4=d("MqttWebSocketUtils").hasWSSupport();this.$5=d("MqttEnv").Env.getLoggerInstance();this.$8=g;this.$9=h;this.$10=i;this.$11=j;this.$12=k;this.$13=!1;this.$14=null;this.$15="LPInactive";this.$16="NotSent";this.$17=0;this.$19=new(c("MqttLongPollingHookCollection"))();this.$18=c("exponentialBackoff")(this.$23,this);this.$20=0;this.$21=o;a=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch);b=c("MqttFetchClient").isSupported();a?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail");b?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported");this.$22=a&&b}var e=a.prototype;e.addHook=function(a){this.$19.addHook(a)};e.start=function(){var a=this;this.$21=d("MqttEnv").Env.configRead(m,o);this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21);this.$20=Date.now();this.$23();d("MqttEnv").Env.setTimeout(function(){a.$23()},j+100);d("MqttEnv").Env.setTimeout(function(){a.$23()},k+100)};e.shutdown=function(){this.$5.debugTrace("LongPollingRunner","Shutdown called"),this.$14&&this.$14.abort(),this.$19.onPollShutdownAbort(),this.$14=null};e.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"};e.publish=function(a,b,c){return this.$24(a,b)};e.publishBinary=function(a,b,c){return this.$24(a,b)};e.$24=function(a,c){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling)&&(this.$14&&this.$14.isTopicSupported(a)))if(typeof c==="string")return this.$14.publish(a,c);else return this.$14.publishBinary(a,c);return(h||(h=b("Promise"))).reject()};e.onConnectAttempt=function(){};e.onConnectFailure=function(){this.$2++,this.$23()};e.onConnected=function(){};e.onConnectSuccess=function(){this.$1=!0,d("MqttEnv").Env.configWrite(m,null)};e.onConnectionLost=function(){};e.onConnectionDisconnect=function(){};e.onSubscribe=function(a){};e.onUnsubscribe=function(a){};e.onPublish=function(a){};e.onMessage=function(a){};e.onWSFatal=function(){this.$3=!0,this.$23()};e.getStatus=function(){return this.$15};e.getRequestStatus=function(){return this.$16};e.$25=function(a){a!==this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+a+" from "+this.$15),this.$15=a,this.$12(this.$15,this.$16))};e.$26=function(a){if(!this.$22)return;a!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+a+" from "+this.$16),this.$16=a,this.$12(this.$15,this.$16))};e.$27=function(){this.$17=0};e.$28=function(){this.$17++,this.$17>=i&&this.$25("LPError")};e.$29=function(){var a,b=(a=d("MqttEnv")).Env.genGk(a.MqttGkNames.mqtt_lp_no_delay),c=a.Env.genGk(a.MqttGkNames.mqtt_ws_polling_enabled);a=a.Env.genGk(a.MqttGkNames.mqtt_fast_lp);this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(b)+" enabled:"+String(c)+" fastPoll:"+String(a)+" hasWSSupport:"+String(this.$4)+" hasWsSuccessBefore:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3));if(!c)return!1;if(b){this.$5.bumpCounter(l+".nd");return!0}if(!this.$4){this.$5.bumpCounter(l+".na");return!0}if(this.$3){this.$5.bumpCounter(l+".fatal");return!0}if(this.$1)return!1;if(a){c=Date.now()-this.$20;if(this.$21===n){if(this.$2>=1)return!0;if(c>j){this.$5.bumpCounter(l+".fastdelay");return!0}}else if(c>k){this.$5.bumpCounter(l+".regulardelay");return!0}}if(this.$2>=3){this.$5.bumpCounter(l+".failure");return!0}return!1};e.$30=function(){if(this.$14!=null)return!1;var a=this.$29();!this.$13&&a&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$25("LPActive"),this.$27());this.$13&&!a&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$25("LPInactive"),this.$27());return a};e.$31=function(){if(this.$22){this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API");return new(c("MqttFetchClient"))()}else{this.$5.debugTrace("LongPollingRunner","Creating regular Polling client");return new(c("MqttLongPollingClient"))()}};e.$32=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$25("LPActive"),this.$27(),d("MqttEnv").Env.configWrite(m,n),this.$26("ReceivingData")};e.$33=function(a){var b=a.map(function(a){return a.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+b);for(b of a)this.$19.onPollResponse(b.topic),this.$8(b.topic,b.payload,b.qos)};e.$34=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$26("NotSent")};e.$35=function(a){this.$19.onPollRequestFailed(a),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$28(),this.$26("NotSent")};return a}();g["default"]=a}),98);
__d("QpActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744247");b=d("FalcoLoggerInternal").create("qp_action",a);e=b;g["default"]=e}),98);
__d("QpImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744249");b=d("FalcoLoggerInternal").create("qp_impression",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("core-util-is-1.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){function a(a){return Array.isArray?Array.isArray(a):p(a)==="[object Array]"}g.isArray=a;function b(a){return typeof a==="boolean"}g.isBoolean=b;function c(a){return a===null}g.isNull=c;function d(a){return a==null}g.isNullOrUndefined=d;function e(a){return typeof a==="number"}g.isNumber=e;function f(a){return typeof a==="string"}g.isString=f;function h(a){return typeof a==="symbol"}g.isSymbol=h;function i(a){return a===void 0}g.isUndefined=i;function j(a){return p(a)==="[object RegExp]"}g.isRegExp=j;function k(a){return typeof a==="object"&&a!==null}g.isObject=k;function l(a){return p(a)==="[object Date]"}g.isDate=l;function m(a){return p(a)==="[object Error]"||a instanceof Error}g.isError=m;function n(a){return typeof a==="function"}g.isFunction=n;function o(a){return a===null||typeof a==="boolean"||typeof a==="number"||typeof a==="string"||typeof a==="symbol"||typeof a==="undefined"}g.isPrimitive=o;g.isBuffer=Buffer.isBuffer;function p(a){return Object.prototype.toString.call(a)}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("immediate-3.0.6",[],(function(a,b,c,d,e,f){"use strict";c={};var g={exports:c};function h(){var b=a.MutationObserver||a.WebKitMutationObserver,c;if(process.browser)if(b){var d=0;b=new b(j);var e=a.document.createTextNode("");b.observe(e,{characterData:!0});c=function(){e.data=d=++d%2}}else if(!a.setImmediate&&typeof a.MessageChannel!=="undefined"){var f=new a.MessageChannel();f.port1.onmessage=j;c=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?c=function(){var b=a.document.createElement("script");b.onreadystatechange=function(){j(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null};a.document.documentElement.appendChild(b)}:c=function(){setTimeout(j,0)};else c=function(){process.nextTick(j)};var h,i=[];function j(){h=!0;var a,b,c=i.length;while(c){b=i;i=[];a=-1;while(++a<c)b[a]();c=i.length}h=!1}g.exports=k;function k(a){i.push(a)===1&&!h&&c()}}var i=!1;function j(){i||(i=!0,h());return g.exports}function b(a){switch(a){case void 0:return j()}}e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/Hnt8PzozZpk/
 */
__d("inherits-2.0.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){typeof Object.create==="function"?g.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:g.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype;a.prototype=new c();a.prototype.constructor=a}}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){try{var a={};if(typeof a.inherits!=="function")throw"";k.exports=a.inherits}catch(a){k.exports=j()}}var m=!1;function n(){m||(m=!0,l());return k.exports}function a(a){switch(a){case void 0:return n()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("isarray-1.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={}.toString;g.exports=Array.isArray||function(b){return a.call(b)=="[object Array]"}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("lie-3.3.0",["immediate-3.0.6"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("immediate-3.0.6"));d={};var h={exports:d};function i(){var a=g();function b(){}var c={},d=["REJECTED"],e=["FULFILLED"],f=["PENDING"];if(!process.browser)var i=["UNHANDLED"];h.exports=j;function j(a){if(typeof a!=="function")throw new TypeError("resolver must be a function");this.state=f;this.queue=[];this.outcome=void 0;process.browser||(this.handled=i);a!==b&&n(this,a)}j.prototype["finally"]=function(c){if(typeof c!=="function")return this;var d=this.constructor;return this.then(a,b);function a(a){function b(){return a}return d.resolve(c()).then(b)}function b(a){function b(){throw a}return d.resolve(c()).then(b)}};j.prototype["catch"]=function(a){return this.then(null,a)};j.prototype.then=function(a,c){if(typeof a!=="function"&&this.state===e||typeof c!=="function"&&this.state===d)return this;var g=new this.constructor(b);process.browser||this.handled===i&&(this.handled=null);if(this.state!==f){var h=this.state===e?a:c;l(g,h,this.outcome)}else this.queue.push(new k(g,a,c));return g};function k(a,b,c){this.promise=a,typeof b==="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof c==="function"&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}k.prototype.callFulfilled=function(a){c.resolve(this.promise,a)};k.prototype.otherCallFulfilled=function(a){l(this.promise,this.onFulfilled,a)};k.prototype.callRejected=function(a){c.reject(this.promise,a)};k.prototype.otherCallRejected=function(a){l(this.promise,this.onRejected,a)};function l(b,d,e){a(function(){var a;try{a=d(e)}catch(a){return c.reject(b,a)}a===b?c.reject(b,new TypeError("Cannot resolve promise with itself")):c.resolve(b,a)})}c.resolve=function(a,b){var d=o(m,b);if(d.status==="error")return c.reject(a,d.value);d=d.value;if(d)n(a,d);else{a.state=e;a.outcome=b;d=-1;var f=a.queue.length;while(++d<f)a.queue[d].callFulfilled(b)}return a};c.reject=function(b,c){b.state=d;b.outcome=c;process.browser||b.handled===i&&a(function(){b.handled===i&&process.emit("unhandledRejection",c,b)});var e=-1,f=b.queue.length;while(++e<f)b.queue[e].callRejected(c);return b};function m(a){var b=a&&a.then;if(a&&(typeof a==="object"||typeof a==="function")&&typeof b==="function")return function(){b.apply(a,arguments)}}function n(a,b){var d=!1;function e(b){if(d)return;d=!0;c.reject(a,b)}function f(b){if(d)return;d=!0;c.resolve(a,b)}function g(){b(f,e)}g=o(g);g.status==="error"&&e(g.value)}function o(a,b){var c={};try{c.value=a(b),c.status="success"}catch(a){c.status="error",c.value=a}return c}j.resolve=p;function p(a){return a instanceof this?a:c.resolve(new this(b),a)}j.reject=q;function q(a){var d=new this(b);return c.reject(d,a)}j.all=r;function r(a){var d=this;if(Object.prototype.toString.call(a)!=="[object Array]")return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);var g=new Array(e),h=0,i=-1,j=new this(b);while(++i<e)k(a[i],i);return j;function k(b,a){d.resolve(b).then(i,function(a){f||(f=!0,c.reject(j,a))});function i(b){g[a]=b,++h===e&&!f&&(f=!0,c.resolve(j,g))}}}j.race=s;function s(a){var d=this;if(Object.prototype.toString.call(a)!=="[object Array]")return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);var g=-1,h=new this(b);while(++g<e)i(a[g]);return h;function i(a){d.resolve(a).then(function(a){f||(f=!0,c.resolve(h,a))},function(a){f||(f=!0,c.reject(h,a))})}}}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("pako-1.0.8",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}g.assign=function(a){var c=Array.prototype.slice.call(arguments,1);while(c.length){var d=c.shift();if(!d)continue;if(typeof d!=="object")throw new TypeError(d+"must be non-object");for(var e in d)b(d,e)&&(a[e]=d[e])}return a};g.shrinkBuf=function(a,b){if(a.length===b)return a;if(a.subarray)return a.subarray(0,b);a.length=b;return a};var c={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray){a.set(b.subarray(c,c+d),e);return}for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f;d=0;for(b=0,c=a.length;b<c;b++)d+=a[b].length;d=new Uint8Array(d);e=0;for(b=0,c=a.length;b<c;b++)f=a[b],d.set(f,e),e+=f.length;return d}},d={arraySet:function(a,b,c,d,e){for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};g.setTyped=function(a){a?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,c)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,d))};g.setTyped(a)}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){var a=k(),b=4,c=0,d=1,e=2;function f(a){var b=a.length;while(--b>=0)a[b]=0}var g=0,h=1,i=2,j=3,m=258,n=29,o=256,p=o+1+n,q=30,r=19,aa=2*p+1,s=15,t=16,u=7,v=256,w=16,x=17,y=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ba=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ca=512,C=new Array((p+2)*2);f(C);var da=new Array(q*2);f(da);var D=new Array(ca);f(D);var ea=new Array(m-j+1);f(ea);var fa=new Array(n);f(fa);var E=new Array(q);f(E);function ga(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}var ha,F,G;function H(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function ia(a){return a<256?D[a]:D[256+(a>>>7)]}function ja(a,b){a.pending_buf[a.pending++]=b&255,a.pending_buf[a.pending++]=b>>>8&255}function I(a,b,c){a.bi_valid>t-c?(a.bi_buf|=b<<a.bi_valid&65535,ja(a,a.bi_buf),a.bi_buf=b>>t-a.bi_valid,a.bi_valid+=c-t):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function J(a,b,c){I(a,c[b*2],c[b*2+1])}function ka(a,b){var c=0;do c|=a&1,a>>>=1,c<<=1;while(--b>0);return c>>>1}function la(a){a.bi_valid===16?(ja(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)}function ma(a,b){var c=b.dyn_tree,d=b.max_code,e=b.stat_desc.static_tree,f=b.stat_desc.has_stree,g=b.stat_desc.extra_bits,h=b.stat_desc.extra_base;b=b.stat_desc.max_length;var i,j,k,l,m,n=0;for(k=0;k<=s;k++)a.bl_count[k]=0;c[a.heap[a.heap_max]*2+1]=0;for(i=a.heap_max+1;i<aa;i++){j=a.heap[i];k=c[c[j*2+1]*2+1]+1;k>b&&(k=b,n++);c[j*2+1]=k;if(j>d)continue;a.bl_count[k]++;l=0;j>=h&&(l=g[j-h]);m=c[j*2];a.opt_len+=m*(k+l);f&&(a.static_len+=m*(e[j*2+1]+l))}if(n===0)return;do{k=b-1;while(a.bl_count[k]===0)k--;a.bl_count[k]--;a.bl_count[k+1]+=2;a.bl_count[b]--;n-=2}while(n>0);for(k=b;k!==0;k--){j=a.bl_count[k];while(j!==0){m=a.heap[--i];if(m>d)continue;c[m*2+1]!==k&&(a.opt_len+=(k-c[m*2+1])*c[m*2],c[m*2+1]=k);j--}}}function na(a,b,c){var d=new Array(s+1),e=0,f;for(f=1;f<=s;f++)d[f]=e=e+c[f-1]<<1;for(f=0;f<=b;f++){c=a[f*2+1];if(c===0)continue;a[f*2]=ka(d[c]++,c)}}function K(){var a,b,c,d=new Array(s+1);b=0;for(c=0;c<n-1;c++){fa[c]=b;for(a=0;a<1<<z[c];a++)ea[b++]=c}ea[b-1]=c;b=0;for(c=0;c<16;c++){E[c]=b;for(a=0;a<1<<A[c];a++)D[b++]=c}b>>=7;for(;c<q;c++){E[c]=b<<7;for(a=0;a<1<<A[c]-7;a++)D[256+b++]=c}for(c=0;c<=s;c++)d[c]=0;a=0;while(a<=143)C[a*2+1]=8,a++,d[8]++;while(a<=255)C[a*2+1]=9,a++,d[9]++;while(a<=279)C[a*2+1]=7,a++,d[7]++;while(a<=287)C[a*2+1]=8,a++,d[8]++;na(C,p+1,d);for(a=0;a<q;a++)da[a*2+1]=5,da[a*2]=ka(a,5);ha=new ga(C,z,o+1,p,s);F=new ga(da,A,0,q,s);G=new ga(new Array(0),B,0,r,u)}function oa(a){var b;for(b=0;b<p;b++)a.dyn_ltree[b*2]=0;for(b=0;b<q;b++)a.dyn_dtree[b*2]=0;for(b=0;b<r;b++)a.bl_tree[b*2]=0;a.dyn_ltree[v*2]=1;a.opt_len=a.static_len=0;a.last_lit=a.matches=0}function L(a){a.bi_valid>8?ja(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function pa(b,c,d,e){L(b),e&&(ja(b,d),ja(b,~d)),a.arraySet(b.pending_buf,b.window,c,d,b.pending),b.pending+=d}function qa(a,b,c,d){var e=b*2,f=c*2;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function M(a,b,c){var d=a.heap[c],e=c<<1;while(e<=a.heap_len){e<a.heap_len&&qa(b,a.heap[e+1],a.heap[e],a.depth)&&e++;if(qa(b,d,a.heap[e],a.depth))break;a.heap[c]=a.heap[e];c=e;e<<=1}a.heap[c]=d}function ra(a,b,c){var d,e,f=0,g,h;if(a.last_lit!==0)do d=a.pending_buf[a.d_buf+f*2]<<8|a.pending_buf[a.d_buf+f*2+1],e=a.pending_buf[a.l_buf+f],f++,d===0?J(a,e,b):(g=ea[e],J(a,g+o+1,b),h=z[g],h!==0&&(e-=fa[g],I(a,e,h)),d--,g=ia(d),J(a,g,c),h=A[g],h!==0&&(d-=E[g],I(a,d,h)));while(f<a.last_lit);J(a,v,b)}function N(a,b){var c=b.dyn_tree,d=b.stat_desc.static_tree,e=b.stat_desc.has_stree,f=b.stat_desc.elems,g,h=-1,i;a.heap_len=0;a.heap_max=aa;for(g=0;g<f;g++)c[g*2]!==0?(a.heap[++a.heap_len]=h=g,a.depth[g]=0):c[g*2+1]=0;while(a.heap_len<2)i=a.heap[++a.heap_len]=h<2?++h:0,c[i*2]=1,a.depth[i]=0,a.opt_len--,e&&(a.static_len-=d[i*2+1]);b.max_code=h;for(g=a.heap_len>>1;g>=1;g--)M(a,c,g);i=f;do g=a.heap[1],a.heap[1]=a.heap[a.heap_len--],M(a,c,1),e=a.heap[1],a.heap[--a.heap_max]=g,a.heap[--a.heap_max]=e,c[i*2]=c[g*2]+c[e*2],a.depth[i]=(a.depth[g]>=a.depth[e]?a.depth[g]:a.depth[e])+1,c[g*2+1]=c[e*2+1]=i,a.heap[1]=i++,M(a,c,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1];ma(a,b);na(c,h,a.bl_count)}function O(a,b,c){var d,e=-1,f,g=b[0*2+1],h=0,i=7,j=4;g===0&&(i=138,j=3);b[(c+1)*2+1]=65535;for(d=0;d<=c;d++){f=g;g=b[(d+1)*2+1];if(++h<i&&f===g)continue;else h<j?a.bl_tree[f*2]+=h:f!==0?(f!==e&&a.bl_tree[f*2]++,a.bl_tree[w*2]++):h<=10?a.bl_tree[x*2]++:a.bl_tree[y*2]++;h=0;e=f;g===0?(i=138,j=3):f===g?(i=6,j=3):(i=7,j=4)}}function P(a,b,c){var d,e=-1,f,g=b[0*2+1],h=0,i=7,j=4;g===0&&(i=138,j=3);for(d=0;d<=c;d++){f=g;g=b[(d+1)*2+1];if(++h<i&&f===g)continue;else if(h<j)do J(a,f,a.bl_tree);while(--h!==0);else f!==0?(f!==e&&(J(a,f,a.bl_tree),h--),J(a,w,a.bl_tree),I(a,h-3,2)):h<=10?(J(a,x,a.bl_tree),I(a,h-3,3)):(J(a,y,a.bl_tree),I(a,h-11,7));h=0;e=f;g===0?(i=138,j=3):f===g?(i=6,j=3):(i=7,j=4)}}function Q(a){var b;O(a,a.dyn_ltree,a.l_desc.max_code);O(a,a.dyn_dtree,a.d_desc.max_code);N(a,a.bl_desc);for(b=r-1;b>=3;b--)if(a.bl_tree[ba[b]*2+1]!==0)break;a.opt_len+=3*(b+1)+5+5+4;return b}function sa(a,b,c,d){var e;I(a,b-257,5);I(a,c-1,5);I(a,d-4,4);for(e=0;e<d;e++)I(a,a.bl_tree[ba[e]*2+1],3);P(a,a.dyn_ltree,b-1);P(a,a.dyn_dtree,c-1)}function R(a){var b=4093624447,e;for(e=0;e<=31;e++,b>>>=1)if(b&1&&a.dyn_ltree[e*2]!==0)return c;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return d;for(e=32;e<o;e++)if(a.dyn_ltree[e*2]!==0)return d;return c}var ta=!1;function S(a){ta||(K(),ta=!0),a.l_desc=new H(a.dyn_ltree,ha),a.d_desc=new H(a.dyn_dtree,F),a.bl_desc=new H(a.bl_tree,G),a.bi_buf=0,a.bi_valid=0,oa(a)}function T(a,b,c,d){I(a,(g<<1)+(d?1:0),3),pa(a,b,c,!0)}function U(a){I(a,h<<1,3),J(a,v,C),la(a)}function V(a,c,d,f){var g,j,k=0;a.level>0?(a.strm.data_type===e&&(a.strm.data_type=R(a)),N(a,a.l_desc),N(a,a.d_desc),k=Q(a),g=a.opt_len+3+7>>>3,j=a.static_len+3+7>>>3,j<=g&&(g=j)):g=j=d+5;d+4<=g&&c!==-1?T(a,c,d,f):a.strategy===b||j===g?(I(a,(h<<1)+(f?1:0),3),ra(a,C,da)):(I(a,(i<<1)+(f?1:0),3),sa(a,a.l_desc.max_code+1,a.d_desc.max_code+1,k+1),ra(a,a.dyn_ltree,a.dyn_dtree));oa(a);f&&L(a)}function W(a,b,c){a.pending_buf[a.d_buf+a.last_lit*2]=b>>>8&255;a.pending_buf[a.d_buf+a.last_lit*2+1]=b&255;a.pending_buf[a.l_buf+a.last_lit]=c&255;a.last_lit++;b===0?a.dyn_ltree[c*2]++:(a.matches++,b--,a.dyn_ltree[(ea[c]+o+1)*2]++,a.dyn_dtree[ia(b)*2]++);return a.last_lit===a.lit_bufsize-1}l._tr_init=S;l._tr_stored_block=T;l._tr_flush_block=V;l._tr_tally=W;l._tr_align=U}var o=!1;function p(){o||(o=!0,n());return m.exports}b={};var q={exports:b};function r(){function a(a,b,c,d){var e=a&65535|0;a=a>>>16&65535|0;var f;while(c!==0){f=c>2e3?2e3:c;c-=f;do e=e+b[d++]|0,a=a+e|0;while(--f);e%=65521;a%=65521}return e|a<<16|0}q.exports=a}var aa=!1;function s(){aa||(aa=!0,r());return q.exports}c={};var t={exports:c};function u(){function a(){var a,b=[];for(var c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=a&1?3988292384^a>>>1:a>>>1;b[c]=a}return b}var b=a();function c(a,c,d,e){var f=b;d=e+d;a^=-1;for(e=e;e<d;e++)a=a>>>8^f[(a^c[e])&255];return a^-1}t.exports=c}var v=!1;function w(){v||(v=!0,u());return t.exports}d={};var x={exports:d};function y(){x.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}var z=!1;function A(){z||(z=!0,y());return x.exports}var B={},ba={exports:B};function ca(){var a=k(),b=p(),c=s(),d=w(),e=A(),f=0,g=1,h=3,i=4,j=5,l=0,m=1,n=-2,o=-3,q=-5,r=-1,aa=1,t=2,u=3,v=4,x=0,y=2,z=8,ba=9,ca=15,C=8,da=29,D=256,ea=D+1+da,fa=30,E=19,ga=2*ea+1,ha=15,F=3,G=258,H=G+F+1,ia=32,ja=42,I=69,J=73,ka=91,la=103,ma=113,na=666,K=1,oa=2,L=3,pa=4,qa=3;function M(a,b){a.msg=e[b];return b}function ra(a){return(a<<1)-(a>4?9:0)}function N(a){var b=a.length;while(--b>=0)a[b]=0}function O(b){var c=b.state,d=c.pending;d>b.avail_out&&(d=b.avail_out);if(d===0)return;a.arraySet(b.output,c.pending_buf,c.pending_out,d,b.next_out);b.next_out+=d;c.pending_out+=d;b.total_out+=d;b.avail_out-=d;c.pending-=d;c.pending===0&&(c.pending_out=0)}function P(a,c){b._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,c),a.block_start=a.strstart,O(a.strm)}function Q(a,b){a.pending_buf[a.pending++]=b}function sa(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=b&255}function R(b,e,f,g){var h=b.avail_in;h>g&&(h=g);if(h===0)return 0;b.avail_in-=h;a.arraySet(e,b.input,b.next_in,h,f);b.state.wrap===1?b.adler=c(b.adler,e,h,f):b.state.wrap===2&&(b.adler=d(b.adler,e,h,f));b.next_in+=h;b.total_in+=h;return h}function ta(a,b){var c=a.max_chain_length,d=a.strstart,e,f=a.prev_length,g=a.nice_match,h=a.strstart>a.w_size-H?a.strstart-(a.w_size-H):0,i=a.window,j=a.w_mask,k=a.prev,l=a.strstart+G,m=i[d+f-1],n=i[d+f];a.prev_length>=a.good_match&&(c>>=2);g>a.lookahead&&(g=a.lookahead);do{e=b;if(i[e+f]!==n||i[e+f-1]!==m||i[e]!==i[d]||i[++e]!==i[d+1])continue;d+=2;e++;do;while(i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&i[++d]===i[++e]&&d<l);e=G-(l-d);d=l-G;if(e>f){a.match_start=b;f=e;if(e>=g)break;m=i[d+f-1];n=i[d+f]}}while((b=k[b&j])>h&&--c!==0);return f<=a.lookahead?f:a.lookahead}function S(b){var c=b.w_size,d,e,f,g;do{g=b.window_size-b.lookahead-b.strstart;if(b.strstart>=c+(c-H)){a.arraySet(b.window,b.window,c,c,0);b.match_start-=c;b.strstart-=c;b.block_start-=c;e=b.hash_size;d=e;do f=b.head[--d],b.head[d]=f>=c?f-c:0;while(--e);e=c;d=e;do f=b.prev[--d],b.prev[d]=f>=c?f-c:0;while(--e);g+=c}if(b.strm.avail_in===0)break;e=R(b.strm,b.window,b.strstart+b.lookahead,g);b.lookahead+=e;if(b.lookahead+b.insert>=F){f=b.strstart-b.insert;b.ins_h=b.window[f];b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+1])&b.hash_mask;while(b.insert){b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+F-1])&b.hash_mask;b.prev[f&b.w_mask]=b.head[b.ins_h];b.head[b.ins_h]=f;f++;b.insert--;if(b.lookahead+b.insert<F)break}}}while(b.lookahead<H&&b.strm.avail_in!==0)}function T(a,b){var c=65535;c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);for(;;){if(a.lookahead<=1){S(a);if(a.lookahead===0&&b===f)return K;if(a.lookahead===0)break}a.strstart+=a.lookahead;a.lookahead=0;var d=a.block_start+c;if(a.strstart===0||a.strstart>=d){a.lookahead=a.strstart-d;a.strstart=d;P(a,!1);if(a.strm.avail_out===0)return K}if(a.strstart-a.block_start>=a.w_size-H){P(a,!1);if(a.strm.avail_out===0)return K}}a.insert=0;if(b===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.strstart>a.block_start){P(a,!1);if(a.strm.avail_out===0)return K}return K}function U(a,c){var d;for(;;){if(a.lookahead<H){S(a);if(a.lookahead<H&&c===f)return K;if(a.lookahead===0)break}d=0;a.lookahead>=F&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+F-1])&a.hash_mask,d=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);d!==0&&a.strstart-d<=a.w_size-H&&(a.match_length=ta(a,d));if(a.match_length>=F){d=b._tr_tally(a,a.strstart-a.match_start,a.match_length-F);a.lookahead-=a.match_length;if(a.match_length<=a.max_lazy_match&&a.lookahead>=F){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+F-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask}else d=b._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d){P(a,!1);if(a.strm.avail_out===0)return K}}a.insert=a.strstart<F-1?a.strstart:F-1;if(c===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.last_lit){P(a,!1);if(a.strm.avail_out===0)return K}return oa}function V(a,c){var d,e;for(;;){if(a.lookahead<H){S(a);if(a.lookahead<H&&c===f)return K;if(a.lookahead===0)break}d=0;a.lookahead>=F&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+F-1])&a.hash_mask,d=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=F-1;d!==0&&a.prev_length<a.max_lazy_match&&a.strstart-d<=a.w_size-H&&(a.match_length=ta(a,d),a.match_length<=5&&(a.strategy===aa||a.match_length===F&&a.strstart-a.match_start>4096)&&(a.match_length=F-1));if(a.prev_length>=F&&a.match_length<=a.prev_length){d=a.strstart+a.lookahead-F;e=b._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-F);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=d&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+F-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);a.match_available=0;a.match_length=F-1;a.strstart++;if(e){P(a,!1);if(a.strm.avail_out===0)return K}}else if(a.match_available){e=b._tr_tally(a,0,a.window[a.strstart-1]);e&&P(a,!1);a.strstart++;a.lookahead--;if(a.strm.avail_out===0)return K}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(b._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=a.strstart<F-1?a.strstart:F-1;if(c===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.last_lit){P(a,!1);if(a.strm.avail_out===0)return K}return oa}function W(a,c){var d,e,g,h=a.window;for(;;){if(a.lookahead<=G){S(a);if(a.lookahead<=G&&c===f)return K;if(a.lookahead===0)break}a.match_length=0;if(a.lookahead>=F&&a.strstart>0){e=a.strstart-1;d=h[e];if(d===h[++e]&&d===h[++e]&&d===h[++e]){g=a.strstart+G;do;while(d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&e<g);a.match_length=G-(g-e);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}}a.match_length>=F?(d=b._tr_tally(a,1,a.match_length-F),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(d=b._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(d){P(a,!1);if(a.strm.avail_out===0)return K}}a.insert=0;if(c===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.last_lit){P(a,!1);if(a.strm.avail_out===0)return K}return oa}function X(a,c){var d;for(;;){if(a.lookahead===0){S(a);if(a.lookahead===0){if(c===f)return K;break}}a.match_length=0;d=b._tr_tally(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(d){P(a,!1);if(a.strm.avail_out===0)return K}}a.insert=0;if(c===i){P(a,!0);return a.strm.avail_out===0?L:pa}if(a.last_lit){P(a,!1);if(a.strm.avail_out===0)return K}return oa}function ua(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}var va;va=[new ua(0,0,0,0,T),new ua(4,4,8,4,U),new ua(4,5,16,8,U),new ua(4,6,32,32,U),new ua(4,4,16,16,V),new ua(8,16,32,32,V),new ua(8,16,128,128,V),new ua(8,32,128,256,V),new ua(32,128,258,1024,V),new ua(32,258,258,4096,V)];function wa(a){a.window_size=2*a.w_size,N(a.head),a.max_lazy_match=va[a.level].max_lazy,a.good_match=va[a.level].good_length,a.nice_match=va[a.level].nice_length,a.max_chain_length=va[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=F-1,a.match_available=0,a.ins_h=0}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(ga*2),this.dyn_dtree=new a.Buf16((2*fa+1)*2),this.bl_tree=new a.Buf16((2*E+1)*2),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(ha+1),this.heap=new a.Buf16(2*ea+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*ea+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xa(a){var c;if(!a||!a.state)return M(a,n);a.total_in=a.total_out=0;a.data_type=y;c=a.state;c.pending=0;c.pending_out=0;c.wrap<0&&(c.wrap=-c.wrap);c.status=c.wrap?ja:ma;a.adler=c.wrap===2?0:1;c.last_flush=f;b._tr_init(c);return l}function Z(a){var b=xa(a);b===l&&wa(a.state);return b}function $(a,b){if(!a||!a.state)return n;if(a.state.wrap!==2)return n;a.state.gzhead=b;return l}function ya(b,c,d,e,f,g){if(!b)return n;var h=1;c===r&&(c=6);e<0?(h=0,e=-e):e>15&&(h=2,e-=16);if(f<1||f>ba||d!==z||e<8||e>15||c<0||c>9||g<0||g>v)return M(b,n);e===8&&(e=9);var i=new Y();b.state=i;i.strm=b;i.wrap=h;i.gzhead=null;i.w_bits=e;i.w_size=1<<i.w_bits;i.w_mask=i.w_size-1;i.hash_bits=f+7;i.hash_size=1<<i.hash_bits;i.hash_mask=i.hash_size-1;i.hash_shift=~~((i.hash_bits+F-1)/F);i.window=new a.Buf8(i.w_size*2);i.head=new a.Buf16(i.hash_size);i.prev=new a.Buf16(i.w_size);i.lit_bufsize=1<<f+6;i.pending_buf_size=i.lit_bufsize*4;i.pending_buf=new a.Buf8(i.pending_buf_size);i.d_buf=1*i.lit_bufsize;i.l_buf=(1+2)*i.lit_bufsize;i.level=c;i.strategy=g;i.method=d;return Z(b)}function za(a,b){return ya(a,b,z,ca,C,x)}function Aa(a,c){var e,k;if(!a||!a.state||c>j||c<0)return a?M(a,n):n;k=a.state;if(!a.output||!a.input&&a.avail_in!==0||k.status===na&&c!==i)return M(a,a.avail_out===0?q:n);k.strm=a;e=k.last_flush;k.last_flush=c;if(k.status===ja)if(k.wrap===2)a.adler=0,Q(k,31),Q(k,139),Q(k,8),!k.gzhead?(Q(k,0),Q(k,0),Q(k,0),Q(k,0),Q(k,0),Q(k,k.level===9?2:k.strategy>=t||k.level<2?4:0),Q(k,qa),k.status=ma):(Q(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Q(k,k.gzhead.time&255),Q(k,k.gzhead.time>>8&255),Q(k,k.gzhead.time>>16&255),Q(k,k.gzhead.time>>24&255),Q(k,k.level===9?2:k.strategy>=t||k.level<2?4:0),Q(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&(Q(k,k.gzhead.extra.length&255),Q(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(a.adler=d(a.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=I);else{var o=z+(k.w_bits-8<<4)<<8,p;k.strategy>=t||k.level<2?p=0:k.level<6?p=1:k.level===6?p=2:p=3;o|=p<<6;k.strstart!==0&&(o|=ia);o+=31-o%31;k.status=ma;sa(k,o);k.strstart!==0&&(sa(k,a.adler>>>16),sa(k,a.adler&65535));a.adler=1}if(k.status===I)if(k.gzhead.extra){p=k.pending;while(k.gzindex<(k.gzhead.extra.length&65535)){if(k.pending===k.pending_buf_size){k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));O(a);p=k.pending;if(k.pending===k.pending_buf_size)break}Q(k,k.gzhead.extra[k.gzindex]&255);k.gzindex++}k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=J)}else k.status=J;if(k.status===J)if(k.gzhead.name){p=k.pending;do{if(k.pending===k.pending_buf_size){k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));O(a);p=k.pending;if(k.pending===k.pending_buf_size){o=1;break}}k.gzindex<k.gzhead.name.length?o=k.gzhead.name.charCodeAt(k.gzindex++)&255:o=0;Q(k,o)}while(o!==0);k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));o===0&&(k.gzindex=0,k.status=ka)}else k.status=ka;if(k.status===ka)if(k.gzhead.comment){p=k.pending;do{if(k.pending===k.pending_buf_size){k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));O(a);p=k.pending;if(k.pending===k.pending_buf_size){o=1;break}}k.gzindex<k.gzhead.comment.length?o=k.gzhead.comment.charCodeAt(k.gzindex++)&255:o=0;Q(k,o)}while(o!==0);k.gzhead.hcrc&&k.pending>p&&(a.adler=d(a.adler,k.pending_buf,k.pending-p,p));o===0&&(k.status=la)}else k.status=la;k.status===la&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&O(a),k.pending+2<=k.pending_buf_size&&(Q(k,a.adler&255),Q(k,a.adler>>8&255),a.adler=0,k.status=ma)):k.status=ma);if(k.pending!==0){O(a);if(a.avail_out===0){k.last_flush=-1;return l}}else if(a.avail_in===0&&ra(c)<=ra(e)&&c!==i)return M(a,q);if(k.status===na&&a.avail_in!==0)return M(a,q);if(a.avail_in!==0||k.lookahead!==0||c!==f&&k.status!==na){p=k.strategy===t?X(k,c):k.strategy===u?W(k,c):va[k.level].func(k,c);(p===L||p===pa)&&(k.status=na);if(p===K||p===L){a.avail_out===0&&(k.last_flush=-1);return l}if(p===oa){c===g?b._tr_align(k):c!==j&&(b._tr_stored_block(k,0,0,!1),c===h&&(N(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0)));O(a);if(a.avail_out===0){k.last_flush=-1;return l}}}if(c!==i)return l;if(k.wrap<=0)return m;k.wrap===2?(Q(k,a.adler&255),Q(k,a.adler>>8&255),Q(k,a.adler>>16&255),Q(k,a.adler>>24&255),Q(k,a.total_in&255),Q(k,a.total_in>>8&255),Q(k,a.total_in>>16&255),Q(k,a.total_in>>24&255)):(sa(k,a.adler>>>16),sa(k,a.adler&65535));O(a);k.wrap>0&&(k.wrap=-k.wrap);return k.pending!==0?l:m}function Ba(a){var b;if(!a||!a.state)return n;b=a.state.status;if(b!==ja&&b!==I&&b!==J&&b!==ka&&b!==la&&b!==ma&&b!==na)return M(a,n);a.state=null;return b===ma?M(a,o):l}function Ca(b,d){var e=d.length,f,g,h,i,j;if(!b||!b.state)return n;f=b.state;g=f.wrap;if(g===2||g===1&&f.status!==ja||f.lookahead)return n;g===1&&(b.adler=c(b.adler,d,e,0));f.wrap=0;e>=f.w_size&&(g===0&&(N(f.head),f.strstart=0,f.block_start=0,f.insert=0),j=new a.Buf8(f.w_size),a.arraySet(j,d,e-f.w_size,f.w_size,0),d=j,e=f.w_size);j=b.avail_in;h=b.next_in;i=b.input;b.avail_in=e;b.next_in=0;b.input=d;S(f);while(f.lookahead>=F){e=f.strstart;d=f.lookahead-(F-1);do f.ins_h=(f.ins_h<<f.hash_shift^f.window[e+F-1])&f.hash_mask,f.prev[e&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=e,e++;while(--d);f.strstart=e;f.lookahead=F-1;S(f)}f.strstart+=f.lookahead;f.block_start=f.strstart;f.insert=f.lookahead;f.lookahead=0;f.match_length=f.prev_length=F-1;f.match_available=0;b.next_in=h;b.input=i;b.avail_in=j;f.wrap=g;return l}B.deflateInit=za;B.deflateInit2=ya;B.deflateReset=Z;B.deflateResetKeep=xa;B.deflateSetHeader=$;B.deflate=Aa;B.deflateEnd=Ba;B.deflateSetDictionary=Ca;B.deflateInfo="pako deflate (from Nodeca project)"}var C=!1;function da(){C||(C=!0,ca());return ba.exports}var D={},ea={exports:D};function fa(){var a=k(),b=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch(a){b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){c=!1}var d=new a.Buf8(256);for(var e=0;e<256;e++)d[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;d[254]=d[254]=1;D.string2buf=function(b){var c,d,e,f,g,h=b.length,i=0;for(f=0;f<h;f++)d=b.charCodeAt(f),(d&64512)===55296&&f+1<h&&(e=b.charCodeAt(f+1),(e&64512)===56320&&(d=65536+(d-55296<<10)+(e-56320),f++)),i+=d<128?1:d<2048?2:d<65536?3:4;c=new a.Buf8(i);for(g=0,f=0;g<i;f++)d=b.charCodeAt(f),(d&64512)===55296&&f+1<h&&(e=b.charCodeAt(f+1),(e&64512)===56320&&(d=65536+(d-55296<<10)+(e-56320),f++)),d<128?c[g++]=d:d<2048?(c[g++]=192|d>>>6,c[g++]=128|d&63):d<65536?(c[g++]=224|d>>>12,c[g++]=128|d>>>6&63,c[g++]=128|d&63):(c[g++]=240|d>>>18,c[g++]=128|d>>>12&63,c[g++]=128|d>>>6&63,c[g++]=128|d&63);return c};function f(d,e){if(e<65534&&(d.subarray&&c||!d.subarray&&b))return String.fromCharCode.apply(null,a.shrinkBuf(d,e));var f="";for(var g=0;g<e;g++)f+=String.fromCharCode(d[g]);return f}D.buf2binstring=function(a){return f(a,a.length)};D.binstring2buf=function(b){var c=new a.Buf8(b.length);for(var d=0,e=c.length;d<e;d++)c[d]=b.charCodeAt(d);return c};D.buf2string=function(a,b){var c,e,g,h;b=b||a.length;var i=new Array(b*2);for(e=0,c=0;c<b;){g=a[c++];if(g<128){i[e++]=g;continue}h=d[g];if(h>4){i[e++]=65533;c+=h-1;continue}g&=h===2?31:h===3?15:7;while(h>1&&c<b)g=g<<6|a[c++]&63,h--;if(h>1){i[e++]=65533;continue}g<65536?i[e++]=g:(g-=65536,i[e++]=55296|g>>10&1023,i[e++]=56320|g&1023)}return f(i,e)};D.utf8border=function(a,b){var c;b=b||a.length;b>a.length&&(b=a.length);c=b-1;while(c>=0&&(a[c]&192)===128)c--;if(c<0)return b;return c===0?b:c+d[a[c]]>b?c:b}}var E=!1;function ga(){E||(E=!0,fa());return ea.exports}f={};var ha={exports:f};function F(){function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}ha.exports=a}var G=!1;function H(){G||(G=!0,F());return ha.exports}var ia={},ja={exports:ia};function I(){var a=da(),b=k(),c=ga(),d=A(),e=H(),f=Object.prototype.toString,g=0,h=4,i=0,j=1,l=2,m=-1,n=0,o=8;function p(g){if(!(this instanceof p))return new p(g);this.options=b.assign({level:m,method:o,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},g||{});g=this.options;g.raw&&g.windowBits>0?g.windowBits=-g.windowBits:g.gzip&&g.windowBits>0&&g.windowBits<16&&(g.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new e();this.strm.avail_out=0;var h=a.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(h!==i)throw new Error(d[h]);g.header&&a.deflateSetHeader(this.strm,g.header);if(g.dictionary){var j;typeof g.dictionary==="string"?j=c.string2buf(g.dictionary):f.call(g.dictionary)==="[object ArrayBuffer]"?j=new Uint8Array(g.dictionary):j=g.dictionary;h=a.deflateSetDictionary(this.strm,j);if(h!==i)throw new Error(d[h]);this._dict_set=!0}}p.prototype.push=function(d,e){var k=this.strm,m=this.options.chunkSize;if(this.ended)return!1;e=e===~~e?e:e===!0?h:g;typeof d==="string"?k.input=c.string2buf(d):f.call(d)==="[object ArrayBuffer]"?k.input=new Uint8Array(d):k.input=d;k.next_in=0;k.avail_in=k.input.length;do{k.avail_out===0&&(k.output=new b.Buf8(m),k.next_out=0,k.avail_out=m);d=a.deflate(k,e);if(d!==j&&d!==i){this.onEnd(d);this.ended=!0;return!1}(k.avail_out===0||k.avail_in===0&&(e===h||e===l))&&(this.options.to==="string"?this.onData(c.buf2binstring(b.shrinkBuf(k.output,k.next_out))):this.onData(b.shrinkBuf(k.output,k.next_out)))}while((k.avail_in>0||k.avail_out===0)&&d!==j);if(e===h){d=a.deflateEnd(this.strm);this.onEnd(d);this.ended=!0;return d===i}if(e===l){this.onEnd(i);k.avail_out=0;return!0}return!0};p.prototype.onData=function(a){this.chunks.push(a)};p.prototype.onEnd=function(a){a===i&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function q(a,b){b=new p(b);b.push(a,!0);if(b.err)throw b.msg||d[b.err];return b.result}function r(a,b){b=b||{};b.raw=!0;return q(a,b)}function aa(a,b){b=b||{};b.gzip=!0;return q(a,b)}ia.Deflate=p;ia.deflate=q;ia.deflateRaw=r;ia.gzip=aa}var J=!1;function ka(){J||(J=!0,I());return ja.exports}b={};var la={exports:b};function ma(){var a=30,b=12;la.exports=function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,aa,s,t,u,v,w,x,y,z,A;e=c.state;f=c.next_in;z=c.input;g=f+(c.avail_in-5);h=c.next_out;A=c.output;d=h-(d-c.avail_out);i=h+(c.avail_out-257);j=e.dmax;k=e.wsize;l=e.whave;m=e.wnext;n=e.window;o=e.hold;p=e.bits;q=e.lencode;r=e.distcode;aa=(1<<e.lenbits)-1;s=(1<<e.distbits)-1;top:do{p<15&&(o+=z[f++]<<p,p+=8,o+=z[f++]<<p,p+=8);t=q[o&aa];dolen:for(;;){u=t>>>24;o>>>=u;p-=u;u=t>>>16&255;if(u===0)A[h++]=t&65535;else if(u&16){v=t&65535;u&=15;u&&(p<u&&(o+=z[f++]<<p,p+=8),v+=o&(1<<u)-1,o>>>=u,p-=u);p<15&&(o+=z[f++]<<p,p+=8,o+=z[f++]<<p,p+=8);t=r[o&s];dodist:for(;;){u=t>>>24;o>>>=u;p-=u;u=t>>>16&255;if(u&16){w=t&65535;u&=15;p<u&&(o+=z[f++]<<p,p+=8,p<u&&(o+=z[f++]<<p,p+=8));w+=o&(1<<u)-1;if(w>j){c.msg="invalid distance too far back";e.mode=a;break top}o>>>=u;p-=u;u=h-d;if(w>u){u=w-u;if(u>l&&e.sane){c.msg="invalid distance too far back";e.mode=a;break top}x=0;y=n;if(m===0){x+=k-u;if(u<v){v-=u;do A[h++]=n[x++];while(--u);x=h-w;y=A}}else if(m<u){x+=k+m-u;u-=m;if(u<v){v-=u;do A[h++]=n[x++];while(--u);x=0;if(m<v){u=m;v-=u;do A[h++]=n[x++];while(--u);x=h-w;y=A}}}else{x+=m-u;if(u<v){v-=u;do A[h++]=n[x++];while(--u);x=h-w;y=A}}while(v>2)A[h++]=y[x++],A[h++]=y[x++],A[h++]=y[x++],v-=3;v&&(A[h++]=y[x++],v>1&&(A[h++]=y[x++]))}else{x=h-w;do A[h++]=A[x++],A[h++]=A[x++],A[h++]=A[x++],v-=3;while(v>2);v&&(A[h++]=A[x++],v>1&&(A[h++]=A[x++]))}}else if((u&64)===0){t=r[(t&65535)+(o&(1<<u)-1)];continue dodist}else{c.msg="invalid distance code";e.mode=a;break top}break}}else if((u&64)===0){t=q[(t&65535)+(o&(1<<u)-1)];continue dolen}else if(u&32){e.mode=b;break top}else{c.msg="invalid literal/length code";e.mode=a;break top}break}}while(f<g&&h<i);v=p>>3;f-=v;p-=v<<3;o&=(1<<p)-1;c.next_in=f;c.next_out=h;c.avail_in=f<g?5+(g-f):5-(f-g);c.avail_out=h<i?257+(i-h):257-(h-i);e.hold=o;e.bits=p;return}}var na=!1;function K(){na||(na=!0,ma());return la.exports}c={};var oa={exports:c};function L(){var a=k(),b=15,c=852,d=592,e=0,f=1,g=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];oa.exports=function(k,m,n,o,p,q,r,aa){var s=aa.bits,t,u,v,w,x,y,z,A,B,ba,ca,C,da,D,ea=0,fa,E=new a.Buf16(b+1),ga=new a.Buf16(b+1),ha=0,F,G,H;for(t=0;t<=b;t++)E[t]=0;for(u=0;u<o;u++)E[m[n+u]]++;s=s;for(w=b;w>=1;w--)if(E[w]!==0)break;s>w&&(s=w);if(w===0){p[q++]=1<<24|64<<16|0;p[q++]=1<<24|64<<16|0;aa.bits=1;return 0}for(v=1;v<w;v++)if(E[v]!==0)break;s<v&&(s=v);z=1;for(t=1;t<=b;t++){z<<=1;z-=E[t];if(z<0)return-1}if(z>0&&(k===e||w!==1))return-1;ga[1]=0;for(t=1;t<b;t++)ga[t+1]=ga[t]+E[t];for(u=0;u<o;u++)m[n+u]!==0&&(r[ga[m[n+u]]++]=u);k===e?(ga=o=r,fa=19):k===f?(ga=h,ea-=257,o=i,ha-=257,fa=256):(ga=j,o=l,fa=-1);B=0;u=0;t=v;D=q;x=s;y=0;C=-1;A=1<<s;da=A-1;if(k===f&&A>c||k===g&&A>d)return 1;for(;;){F=t-y;r[u]<fa?(G=0,H=r[u]):r[u]>fa?(G=o[ha+r[u]],H=ga[ea+r[u]]):(G=32+64,H=0);ba=1<<t-y;ca=1<<x;v=ca;do ca-=ba,p[D+(B>>y)+ca]=F<<24|G<<16|H|0;while(ca!==0);ba=1<<t-1;while(B&ba)ba>>=1;ba!==0?(B&=ba-1,B+=ba):B=0;u++;if(--E[t]===0){if(t===w)break;t=m[n+r[u]]}if(t>s&&(B&da)!==C){y===0&&(y=s);D+=v;x=t-y;z=1<<x;while(x+y<w){z-=E[x+y];if(z<=0)break;x++;z<<=1}A+=1<<x;if(k===f&&A>c||k===g&&A>d)return 1;C=B&da;p[C]=s<<24|x<<16|D-q|0}}B!==0&&(p[D+B]=t-y<<24|64<<16|0);aa.bits=s;return 0}}var pa=!1;function qa(){pa||(pa=!0,L());return oa.exports}var M={},ra={exports:M};function N(){var a=k(),b=s(),c=w(),d=K(),e=qa(),f=0,g=1,h=2,i=4,j=5,l=6,m=0,n=1,o=2,p=-2,q=-3,r=-4,aa=-5,t=8,u=1,v=2,x=3,y=4,z=5,A=6,B=7,ba=8,ca=9,C=10,da=11,D=12,ea=13,fa=14,E=15,ga=16,ha=17,F=18,G=19,H=20,ia=21,ja=22,I=23,J=24,ka=25,la=26,ma=27,na=28,oa=29,L=30,pa=31,ra=32,N=852,O=592,P=15,Q=P;function sa(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ta(b){var c;if(!b||!b.state)return p;c=b.state;b.total_in=b.total_out=c.total=0;b.msg="";c.wrap&&(b.adler=c.wrap&1);c.mode=u;c.last=0;c.havedict=0;c.dmax=32768;c.head=null;c.hold=0;c.bits=0;c.lencode=c.lendyn=new a.Buf32(N);c.distcode=c.distdyn=new a.Buf32(O);c.sane=1;c.back=-1;return m}function S(a){var b;if(!a||!a.state)return p;b=a.state;b.wsize=0;b.whave=0;b.wnext=0;return ta(a)}function T(a,b){var c,d;if(!a||!a.state)return p;d=a.state;b<0?(c=0,b=-b):(c=(b>>4)+1,b<48&&(b&=15));if(b&&(b<8||b>15))return p;d.window!==null&&d.wbits!==b&&(d.window=null);d.wrap=c;d.wbits=b;return S(a)}function U(a,b){var c;if(!a)return p;c=new R();a.state=c;c.window=null;c=T(a,b);c!==m&&(a.state=null);return c}function V(a){return U(a,Q)}var W=!0,X,ua;function va(b){if(W){var c;X=new a.Buf32(512);ua=new a.Buf32(32);c=0;while(c<144)b.lens[c++]=8;while(c<256)b.lens[c++]=9;while(c<280)b.lens[c++]=7;while(c<288)b.lens[c++]=8;e(g,b.lens,0,288,X,0,b.work,{bits:9});c=0;while(c<32)b.lens[c++]=5;e(h,b.lens,0,32,ua,0,b.work,{bits:5});W=!1}b.lencode=X;b.lenbits=9;b.distcode=ua;b.distbits=5}function wa(b,c,d,e){var f;b=b.state;b.window===null&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new a.Buf8(b.wsize));e>=b.wsize?(a.arraySet(b.window,c,d-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(f=b.wsize-b.wnext,f>e&&(f=e),a.arraySet(b.window,c,d-e,f,b.wnext),e-=f,e?(a.arraySet(b.window,c,d-e,e,0),b.wnext=e,b.whave=b.wsize):(b.wnext+=f,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=f)));return 0}function Y(k,s){var w,K,qa,M,N,O,P,Q,R,ta,S,T,U,V,W,X,ua,Y,xa,Z=new a.Buf8(4),$,ya,za=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return p;w=k.state;w.mode===D&&(w.mode=ea);N=k.next_out;qa=k.output;P=k.avail_out;M=k.next_in;K=k.input;O=k.avail_in;Q=w.hold;R=w.bits;ta=O;S=P;xa=m;inf_leave:for(;;)switch(w.mode){case u:if(w.wrap===0){w.mode=ea;break}while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(w.wrap&2&&Q===35615){w.check=0;Z[0]=Q&255;Z[1]=Q>>>8&255;w.check=c(w.check,Z,2,0);Q=0;R=0;w.mode=v;break}w.flags=0;w.head&&(w.head.done=!1);if(!(w.wrap&1)||(((Q&255)<<8)+(Q>>8))%31){k.msg="incorrect header check";w.mode=L;break}if((Q&15)!==t){k.msg="unknown compression method";w.mode=L;break}Q>>>=4;R-=4;Y=(Q&15)+8;if(w.wbits===0)w.wbits=Y;else if(Y>w.wbits){k.msg="invalid window size";w.mode=L;break}w.dmax=1<<Y;k.adler=w.check=1;w.mode=Q&512?C:D;Q=0;R=0;break;case v:while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.flags=Q;if((w.flags&255)!==t){k.msg="unknown compression method";w.mode=L;break}if(w.flags&57344){k.msg="unknown header flags set";w.mode=L;break}w.head&&(w.head.text=Q>>8&1);w.flags&512&&(Z[0]=Q&255,Z[1]=Q>>>8&255,w.check=c(w.check,Z,2,0));Q=0;R=0;w.mode=x;case x:while(R<32){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.head&&(w.head.time=Q);w.flags&512&&(Z[0]=Q&255,Z[1]=Q>>>8&255,Z[2]=Q>>>16&255,Z[3]=Q>>>24&255,w.check=c(w.check,Z,4,0));Q=0;R=0;w.mode=y;case y:while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.head&&(w.head.xflags=Q&255,w.head.os=Q>>8);w.flags&512&&(Z[0]=Q&255,Z[1]=Q>>>8&255,w.check=c(w.check,Z,2,0));Q=0;R=0;w.mode=z;case z:if(w.flags&1024){while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.length=Q;w.head&&(w.head.extra_len=Q);w.flags&512&&(Z[0]=Q&255,Z[1]=Q>>>8&255,w.check=c(w.check,Z,2,0));Q=0;R=0}else w.head&&(w.head.extra=null);w.mode=A;case A:if(w.flags&1024){T=w.length;T>O&&(T=O);T&&(w.head&&(Y=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),a.arraySet(w.head.extra,K,M,T,Y)),w.flags&512&&(w.check=c(w.check,K,T,M)),O-=T,M+=T,w.length-=T);if(w.length)break inf_leave}w.length=0;w.mode=B;case B:if(w.flags&2048){if(O===0)break inf_leave;T=0;do Y=K[M+T++],w.head&&Y&&w.length<65536&&(w.head.name+=String.fromCharCode(Y));while(Y&&T<O);w.flags&512&&(w.check=c(w.check,K,T,M));O-=T;M+=T;if(Y)break inf_leave}else w.head&&(w.head.name=null);w.length=0;w.mode=ba;case ba:if(w.flags&4096){if(O===0)break inf_leave;T=0;do Y=K[M+T++],w.head&&Y&&w.length<65536&&(w.head.comment+=String.fromCharCode(Y));while(Y&&T<O);w.flags&512&&(w.check=c(w.check,K,T,M));O-=T;M+=T;if(Y)break inf_leave}else w.head&&(w.head.comment=null);w.mode=ca;case ca:if(w.flags&512){while(R<16){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(Q!==(w.check&65535)){k.msg="header crc mismatch";w.mode=L;break}Q=0;R=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0);k.adler=w.check=0;w.mode=D;break;case C:while(R<32){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}k.adler=w.check=sa(Q);Q=0;R=0;w.mode=da;case da:if(w.havedict===0){k.next_out=N;k.avail_out=P;k.next_in=M;k.avail_in=O;w.hold=Q;w.bits=R;return o}k.adler=w.check=1;w.mode=D;case D:if(s===j||s===l)break inf_leave;case ea:if(w.last){Q>>>=R&7;R-=R&7;w.mode=ma;break}while(R<3){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.last=Q&1;Q>>>=1;R-=1;switch(Q&3){case 0:w.mode=fa;break;case 1:va(w);w.mode=H;if(s===l){Q>>>=2;R-=2;break inf_leave}break;case 2:w.mode=ha;break;case 3:k.msg="invalid block type",w.mode=L}Q>>>=2;R-=2;break;case fa:Q>>>=R&7;R-=R&7;while(R<32){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if((Q&65535)!==(Q>>>16^65535)){k.msg="invalid stored block lengths";w.mode=L;break}w.length=Q&65535;Q=0;R=0;w.mode=E;if(s===l)break inf_leave;case E:w.mode=ga;case ga:T=w.length;if(T){T>O&&(T=O);T>P&&(T=P);if(T===0)break inf_leave;a.arraySet(qa,K,M,T,N);O-=T;M+=T;P-=T;N+=T;w.length-=T;break}w.mode=D;break;case ha:while(R<14){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.nlen=(Q&31)+257;Q>>>=5;R-=5;w.ndist=(Q&31)+1;Q>>>=5;R-=5;w.ncode=(Q&15)+4;Q>>>=4;R-=4;if(w.nlen>286||w.ndist>30){k.msg="too many length or distance symbols";w.mode=L;break}w.have=0;w.mode=F;case F:while(w.have<w.ncode){while(R<3){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.lens[za[w.have++]]=Q&7;Q>>>=3;R-=3}while(w.have<19)w.lens[za[w.have++]]=0;w.lencode=w.lendyn;w.lenbits=7;$={bits:w.lenbits};xa=e(f,w.lens,0,19,w.lencode,0,w.work,$);w.lenbits=$.bits;if(xa){k.msg="invalid code lengths set";w.mode=L;break}w.have=0;w.mode=G;case G:while(w.have<w.nlen+w.ndist){for(;;){U=w.lencode[Q&(1<<w.lenbits)-1];V=U>>>24;W=U>>>16&255;X=U&65535;if(V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(X<16)Q>>>=V,R-=V,w.lens[w.have++]=X;else{if(X===16){ya=V+2;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=V;R-=V;if(w.have===0){k.msg="invalid bit length repeat";w.mode=L;break}Y=w.lens[w.have-1];T=3+(Q&3);Q>>>=2;R-=2}else if(X===17){ya=V+3;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=V;R-=V;Y=0;T=3+(Q&7);Q>>>=3;R-=3}else{ya=V+7;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=V;R-=V;Y=0;T=11+(Q&127);Q>>>=7;R-=7}if(w.have+T>w.nlen+w.ndist){k.msg="invalid bit length repeat";w.mode=L;break}while(T--)w.lens[w.have++]=Y}}if(w.mode===L)break;if(w.lens[256]===0){k.msg="invalid code -- missing end-of-block";w.mode=L;break}w.lenbits=9;$={bits:w.lenbits};xa=e(g,w.lens,0,w.nlen,w.lencode,0,w.work,$);w.lenbits=$.bits;if(xa){k.msg="invalid literal/lengths set";w.mode=L;break}w.distbits=6;w.distcode=w.distdyn;$={bits:w.distbits};xa=e(h,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,$);w.distbits=$.bits;if(xa){k.msg="invalid distances set";w.mode=L;break}w.mode=H;if(s===l)break inf_leave;case H:w.mode=ia;case ia:if(O>=6&&P>=258){k.next_out=N;k.avail_out=P;k.next_in=M;k.avail_in=O;w.hold=Q;w.bits=R;d(k,S);N=k.next_out;qa=k.output;P=k.avail_out;M=k.next_in;K=k.input;O=k.avail_in;Q=w.hold;R=w.bits;w.mode===D&&(w.back=-1);break}w.back=0;for(;;){U=w.lencode[Q&(1<<w.lenbits)-1];V=U>>>24;W=U>>>16&255;X=U&65535;if(V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(W&&(W&240)===0){Y=V;$=W;ua=X;for(;;){U=w.lencode[ua+((Q&(1<<Y+$)-1)>>Y)];V=U>>>24;W=U>>>16&255;X=U&65535;if(Y+V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=Y;R-=Y;w.back+=Y}Q>>>=V;R-=V;w.back+=V;w.length=X;if(W===0){w.mode=la;break}if(W&32){w.back=-1;w.mode=D;break}if(W&64){k.msg="invalid literal/length code";w.mode=L;break}w.extra=W&15;w.mode=ja;case ja:if(w.extra){ya=w.extra;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.length+=Q&(1<<w.extra)-1;Q>>>=w.extra;R-=w.extra;w.back+=w.extra}w.was=w.length;w.mode=I;case I:for(;;){U=w.distcode[Q&(1<<w.distbits)-1];V=U>>>24;W=U>>>16&255;X=U&65535;if(V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if((W&240)===0){Y=V;$=W;ua=X;for(;;){U=w.distcode[ua+((Q&(1<<Y+$)-1)>>Y)];V=U>>>24;W=U>>>16&255;X=U&65535;if(Y+V<=R)break;if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}Q>>>=Y;R-=Y;w.back+=Y}Q>>>=V;R-=V;w.back+=V;if(W&64){k.msg="invalid distance code";w.mode=L;break}w.offset=X;w.extra=W&15;w.mode=J;case J:if(w.extra){ya=w.extra;while(R<ya){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}w.offset+=Q&(1<<w.extra)-1;Q>>>=w.extra;R-=w.extra;w.back+=w.extra}if(w.offset>w.dmax){k.msg="invalid distance too far back";w.mode=L;break}w.mode=ka;case ka:if(P===0)break inf_leave;T=S-P;if(w.offset>T){T=w.offset-T;if(T>w.whave&&w.sane){k.msg="invalid distance too far back";w.mode=L;break}T>w.wnext?(T-=w.wnext,U=w.wsize-T):U=w.wnext-T;T>w.length&&(T=w.length);$=w.window}else $=qa,U=N-w.offset,T=w.length;T>P&&(T=P);P-=T;w.length-=T;do qa[N++]=$[U++];while(--T);w.length===0&&(w.mode=ia);break;case la:if(P===0)break inf_leave;qa[N++]=w.length;P--;w.mode=ia;break;case ma:if(w.wrap){while(R<32){if(O===0)break inf_leave;O--;Q|=K[M++]<<R;R+=8}S-=P;k.total_out+=S;w.total+=S;S&&(k.adler=w.check=w.flags?c(w.check,qa,S,N-S):b(w.check,qa,S,N-S));S=P;if((w.flags?Q:sa(Q))!==w.check){k.msg="incorrect data check";w.mode=L;break}Q=0;R=0}w.mode=na;case na:if(w.wrap&&w.flags){while(R<32){if(O===0)break inf_leave;O--;Q+=K[M++]<<R;R+=8}if(Q!==(w.total&4294967295)){k.msg="incorrect length check";w.mode=L;break}Q=0;R=0}w.mode=oa;case oa:xa=n;break inf_leave;case L:xa=q;break inf_leave;case pa:return r;case ra:default:return p}k.next_out=N;k.avail_out=P;k.next_in=M;k.avail_in=O;w.hold=Q;w.bits=R;if((w.wsize||S!==k.avail_out&&w.mode<L&&(w.mode<ma||s!==i))&&wa(k,k.output,k.next_out,S-k.avail_out)){w.mode=pa;return r}ta-=k.avail_in;S-=k.avail_out;k.total_in+=ta;k.total_out+=S;w.total+=S;w.wrap&&S&&(k.adler=w.check=w.flags?c(w.check,qa,S,k.next_out-S):b(w.check,qa,S,k.next_out-S));k.data_type=w.bits+(w.last?64:0)+(w.mode===D?128:0)+(w.mode===H||w.mode===E?256:0);(ta===0&&S===0||s===i)&&xa===m&&(xa=aa);return xa}function xa(a){if(!a||!a.state)return p;var b=a.state;b.window&&(b.window=null);a.state=null;return m}function Z(a,b){if(!a||!a.state)return p;a=a.state;if((a.wrap&2)===0)return p;a.head=b;b.done=!1;return m}function $(a,c){var d=c.length,e,f;if(!a||!a.state)return p;e=a.state;if(e.wrap!==0&&e.mode!==da)return p;if(e.mode===da){f=1;f=b(f,c,d,0);if(f!==e.check)return q}f=wa(a,c,d,d);if(f){e.mode=pa;return r}e.havedict=1;return m}M.inflateReset=S;M.inflateReset2=T;M.inflateResetKeep=ta;M.inflateInit=V;M.inflateInit2=U;M.inflate=Y;M.inflateEnd=xa;M.inflateGetHeader=Z;M.inflateSetDictionary=$;M.inflateInfo="pako inflate (from Nodeca project)"}var O=!1;function P(){O||(O=!0,N());return ra.exports}d={};var Q={exports:d};function sa(){Q.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}var R=!1;function ta(){R||(R=!0,sa());return Q.exports}f={};var S={exports:f};function T(){function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}S.exports=a}var U=!1;function V(){U||(U=!0,T());return S.exports}var W={},X={exports:W};function ua(){var a=P(),b=k(),c=ga(),d=ta(),e=A(),f=H(),g=V(),h=Object.prototype.toString;function i(j){if(!(this instanceof i))return new i(j);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},j||{});var k=this.options;k.raw&&k.windowBits>=0&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15));k.windowBits>=0&&k.windowBits<16&&!(j&&j.windowBits)&&(k.windowBits+=32);k.windowBits>15&&k.windowBits<48&&((k.windowBits&15)===0&&(k.windowBits|=15));this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new f();this.strm.avail_out=0;j=a.inflateInit2(this.strm,k.windowBits);if(j!==d.Z_OK)throw new Error(e[j]);this.header=new g();a.inflateGetHeader(this.strm,this.header);if(k.dictionary){typeof k.dictionary==="string"?k.dictionary=c.string2buf(k.dictionary):h.call(k.dictionary)==="[object ArrayBuffer]"&&(k.dictionary=new Uint8Array(k.dictionary));if(k.raw){j=a.inflateSetDictionary(this.strm,k.dictionary);if(j!==d.Z_OK)throw new Error(e[j])}}}i.prototype.push=function(e,f){var g=this.strm,i=this.options.chunkSize,j=this.options.dictionary,k,l,m,n=!1;if(this.ended)return!1;f=f===~~f?f:f===!0?d.Z_FINISH:d.Z_NO_FLUSH;typeof e==="string"?g.input=c.binstring2buf(e):h.call(e)==="[object ArrayBuffer]"?g.input=new Uint8Array(e):g.input=e;g.next_in=0;g.avail_in=g.input.length;do{g.avail_out===0&&(g.output=new b.Buf8(i),g.next_out=0,g.avail_out=i);e=a.inflate(g,d.Z_NO_FLUSH);e===d.Z_NEED_DICT&&j&&(e=a.inflateSetDictionary(this.strm,j));e===d.Z_BUF_ERROR&&n===!0&&(e=d.Z_OK,n=!1);if(e!==d.Z_STREAM_END&&e!==d.Z_OK){this.onEnd(e);this.ended=!0;return!1}g.next_out&&((g.avail_out===0||e===d.Z_STREAM_END||g.avail_in===0&&(f===d.Z_FINISH||f===d.Z_SYNC_FLUSH))&&(this.options.to==="string"?(k=c.utf8border(g.output,g.next_out),l=g.next_out-k,m=c.buf2string(g.output,k),g.next_out=l,g.avail_out=i-l,l&&b.arraySet(g.output,g.output,k,l,0),this.onData(m)):this.onData(b.shrinkBuf(g.output,g.next_out))));g.avail_in===0&&g.avail_out===0&&(n=!0)}while((g.avail_in>0||g.avail_out===0)&&e!==d.Z_STREAM_END);e===d.Z_STREAM_END&&(f=d.Z_FINISH);if(f===d.Z_FINISH){e=a.inflateEnd(this.strm);this.onEnd(e);this.ended=!0;return e===d.Z_OK}if(f===d.Z_SYNC_FLUSH){this.onEnd(d.Z_OK);g.avail_out=0;return!0}return!0};i.prototype.onData=function(a){this.chunks.push(a)};i.prototype.onEnd=function(a){a===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function j(a,b){b=new i(b);b.push(a,!0);if(b.err)throw b.msg||e[b.err];return b.result}function l(a,b){b=b||{};b.raw=!0;return j(a,b)}W.Inflate=i;W.inflate=j;W.inflateRaw=l;W.ungzip=j}var va=!1;function wa(){va||(va=!0,ua());return X.exports}b={};var Y={exports:b};function xa(){var a=k().assign,b=ka(),c=wa(),d=ta(),e={};a(e,b,c,d);Y.exports=e}var Z=!1;function $(){Z||(Z=!0,xa());return Y.exports}function a(a){switch(a){case void 0:return $()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("process-nextick-args-2.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?g.exports={nextTick:a}:g.exports=process;function a(a,b,c,d){if(typeof a!=="function")throw new TypeError('"callback" argument must be a function');var e=arguments.length,f,g;switch(e){case 0:case 1:return process.nextTick(a);case 2:return process.nextTick(function(){a.call(null,b)});case 3:return process.nextTick(function(){a.call(null,b,c)});case 4:return process.nextTick(function(){a.call(null,b,c,d)});default:f=new Array(e-1);g=0;while(g<f.length)f[g++]=arguments[g];return process.nextTick(function(){a.apply(null,f)})}}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("safe-buffer-5.1.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a={},b=a.Buffer;function c(a,b){for(var c in a)b[c]=a[c]}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?h.exports=a:(c(a,g),g.Buffer=d);function d(a,c,d){return b(a,c,d)}c(b,d);d.from=function(a,c,d){if(typeof a==="number")throw new TypeError("Argument must not be a number");return b(a,c,d)};d.alloc=function(a,c,d){if(typeof a!=="number")throw new TypeError("Argument must be a number");a=b(a);c!==void 0?typeof d==="string"?a.fill(c,d):a.fill(c):a.fill(0);return a};d.allocUnsafe=function(a){if(typeof a!=="number")throw new TypeError("Argument must be a number");return b(a)};d.allocUnsafeSlow=function(b){if(typeof b!=="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(b)}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("util-deprecate-1.0.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports={}.deprecate}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("readable-stream-2.3.6",["safe-buffer-5.1.2","process-nextick-args-2.0.0","core-util-is-1.0.2","inherits-2.0.3","util-deprecate-1.0.2","isarray-1.0.0"],(function(a,b,c,d,e,f){"use strict";function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("safe-buffer-5.1.2")),h=c(b("process-nextick-args-2.0.0")),i=c(b("core-util-is-1.0.2")),j=c(b("inherits-2.0.3")),k=c(b("util-deprecate-1.0.2")),l=c(b("isarray-1.0.0"));c={};var m={exports:c};function n(){m.exports={}}var o=!1;function p(){o||(o=!0,n());return m.exports}b={};var q={exports:b};function r(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=g().Buffer,c={};function d(a,b,c){a.copy(b,c)}q.exports=function(){function c(){a(this,c),this.head=null,this.tail=null,this.length=0}c.prototype.push=function(a){a={data:a,next:null};this.length>0?this.tail.next=a:this.head=a;this.tail=a;++this.length};c.prototype.unshift=function(a){a={data:a,next:this.head};this.length===0&&(this.tail=a);this.head=a;++this.length};c.prototype.shift=function(){if(this.length===0)return;var a=this.head.data;this.length===1?this.head=this.tail=null:this.head=this.head.next;--this.length;return a};c.prototype.clear=function(){this.head=this.tail=null,this.length=0};c.prototype.join=function(a){if(this.length===0)return"";var b=this.head,c=""+b.data;while(b=b.next)c+=a+b.data;return c};c.prototype.concat=function(a){if(this.length===0)return b.alloc(0);if(this.length===1)return this.head.data;a=b.allocUnsafe(a>>>0);var c=this.head,e=0;while(c)d(c.data,a,e),e+=c.data.length,c=c.next;return a};return c}();c&&c.inspect&&c.inspect.custom&&(q.exports.prototype[c.inspect.custom]=function(){var a=c.inspect({length:this.length});return this.constructor.name+" "+a})}var s=!1;function t(){s||(s=!0,r());return q.exports}c={};var u={exports:c};function v(){var a=h();function b(b,c){var e=this,f=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;if(f||g){c?c(b):b&&(!this._writableState||!this._writableState.errorEmitted)&&a.nextTick(d,this,b);return this}this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(b||null,function(b){!c&&b?(a.nextTick(d,e,b),e._writableState&&(e._writableState.errorEmitted=!0)):c&&c(b)});return this}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(a,b){a.emit("error",b)}u.exports={destroy:b,undestroy:c}}var w=!1;function x(){w||(w=!0,v());return u.exports}b={};var y={exports:b};function z(){var b=h();y.exports=w;function c(a){var b=this;this.next=null;this.entry=null;this.finish=function(){Q(b,a)}}var d=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:b.nextTick,e;w.WritableState=u;var f=i();f.inherits=j();var l={deprecate:k()},m=p(),n=g().Buffer,o=a.Uint8Array||function(){};function q(a){return n.from(a)}function r(a){return n.isBuffer(a)||a instanceof o}var s=x();f.inherits(w,m);function t(){}function u(a,b){e=e||F();a=a||{};var d=b instanceof e;this.objectMode=!!a.objectMode;d&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var f=a.highWaterMark,g=a.writableHighWaterMark,h=this.objectMode?16:16*1024;f||f===0?this.highWaterMark=f:d&&(g||g===0)?this.highWaterMark=g:this.highWaterMark=h;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=!1;this.needDrain=!1;this.ending=!1;this.ended=!1;this.finished=!1;this.destroyed=!1;f=a.decodeStrings===!1;this.decodeStrings=!f;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){H(b,a)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=!1;this.errorEmitted=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new c(this)}u.prototype.getBuffer=function(){var a=this.bufferedRequest,b=[];while(a)b.push(a),a=a.next;return b};(function(){try{Object.defineProperty(u.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}})();var v;typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(a){if(v.call(this,a))return!0;return this!==w?!1:a&&a._writableState instanceof u}})):v=function(a){return a instanceof this};function w(a){e=e||F();if(!v.call(w,this)&&!(this instanceof e))return new w(a);this._writableState=new u(a,this);this.writable=!0;a&&(typeof a.write==="function"&&(this._write=a.write),typeof a.writev==="function"&&(this._writev=a.writev),typeof a.destroy==="function"&&(this._destroy=a.destroy),typeof a["final"]==="function"&&(this._final=a["final"]));m.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function z(a,c){var d=new Error("write after end");a.emit("error",d);b.nextTick(c,d)}function A(a,c,d,e){var f=!0,g=!1;d===null?g=new TypeError("May not write null values to stream"):typeof d!=="string"&&d!==void 0&&!c.objectMode&&(g=new TypeError("Invalid non-string/buffer chunk"));g&&(a.emit("error",g),b.nextTick(e,g),f=!1);return f}w.prototype.write=function(a,b,c){var d=this._writableState,e=!1,f=!d.objectMode&&r(a);f&&!n.isBuffer(a)&&(a=q(a));typeof b==="function"&&(c=b,b=null);f?b="buffer":b||(b=d.defaultEncoding);typeof c!=="function"&&(c=t);d.ended?z(this,c):(f||A(this,d,a,c))&&(d.pendingcb++,e=C(this,d,f,a,b,c));return e};w.prototype.cork=function(){var a=this._writableState;a.corked++};w.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,!a.writing&&!a.corked&&!a.finished&&!a.bufferProcessing&&a.bufferedRequest&&K(this,a))};w.prototype.setDefaultEncoding=function(a){typeof a==="string"&&(a=a.toLowerCase());if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);this._writableState.defaultEncoding=a;return this};function B(a,b,c){!a.objectMode&&a.decodeStrings!==!1&&typeof b==="string"&&(b=n.from(b,c));return b}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(a,b,c,d,e,f){if(!c){var g=B(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}g=b.objectMode?1:d.length;b.length+=g;var h=b.length<b.highWaterMark;h||(b.needDrain=!0);if(b.writing||b.corked){var i=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null};i?i.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest;b.bufferedRequestCount+=1}else D(a,b,!1,g,d,e,f);return h}function D(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function E(a,c,d,e,f){--c.pendingcb,d?(b.nextTick(f,e),b.nextTick(O,a,c),a._writableState.errorEmitted=!0,a.emit("error",e)):(f(e),a._writableState.errorEmitted=!0,a.emit("error",e),O(a,c))}function G(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function H(a,b){var c=a._writableState,e=c.sync,f=c.writecb;G(c);if(b)E(a,c,e,b,f);else{b=L(c);!b&&!c.corked&&!c.bufferProcessing&&c.bufferedRequest&&K(a,c);e?d(I,a,c,b,f):I(a,c,b,f)}}function I(a,b,c,d){c||J(a,b),b.pendingcb--,d(),O(a,b)}function J(a,b){b.length===0&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function K(a,b){b.bufferProcessing=!0;var d=b.bufferedRequest;if(a._writev&&d&&d.next){var e=b.bufferedRequestCount;e=new Array(e);var f=b.corkedRequestsFree;f.entry=d;var g=0,h=!0;while(d)e[g]=d,d.isBuf||(h=!1),d=d.next,g+=1;e.allBuffers=h;D(a,b,!0,b.length,e,"",f.finish);b.pendingcb++;b.lastBufferedRequest=null;f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new c(b);b.bufferedRequestCount=0}else{while(d){g=d.chunk;h=d.encoding;e=d.callback;f=b.objectMode?1:g.length;D(a,b,!1,f,g,h,e);d=d.next;b.bufferedRequestCount--;if(b.writing)break}d===null&&(b.lastBufferedRequest=null)}b.bufferedRequest=d;b.bufferProcessing=!1}w.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))};w.prototype._writev=null;w.prototype.end=function(a,b,c){var d=this._writableState;typeof a==="function"?(c=a,a=null,b=null):typeof b==="function"&&(c=b,b=null);a!==null&&a!==void 0&&this.write(a,b);d.corked&&(d.corked=1,this.uncork());!d.ending&&!d.finished&&P(this,d,c)};function L(a){return a.ending&&a.length===0&&a.bufferedRequest===null&&!a.finished&&!a.writing}function M(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),O(a,b)})}function N(a,c){!c.prefinished&&!c.finalCalled&&(typeof a._final==="function"?(c.pendingcb++,c.finalCalled=!0,b.nextTick(M,a,c)):(c.prefinished=!0,a.emit("prefinish")))}function O(a,b){var c=L(b);c&&(N(a,b),b.pendingcb===0&&(b.finished=!0,a.emit("finish")));return c}function P(a,c,d){c.ending=!0,O(a,c),d&&(c.finished?b.nextTick(d):a.once("finish",d)),c.ended=!0,a.writable=!1}function Q(a,b,c){var d=a.entry;a.entry=null;while(d){var e=d.callback;b.pendingcb--;e(c);d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(a){if(!this._writableState)return;this._writableState.destroyed=a}});w.prototype.destroy=s.destroy;w.prototype._undestroy=s.undestroy;w.prototype._destroy=function(a,b){this.end(),b(a)}}var A=!1;function B(){A||(A=!0,z());return y.exports}c={};var C={exports:c};function D(){var a=h(),b=Object.keys||function(a){var b=[];for(a in a)b.push(a);return b};C.exports=g;var c=i();c.inherits=j();var d=O(),e=B();c.inherits(g,d);c=b(e.prototype);for(b=0;b<c.length;b++){var f=c[b];g.prototype[f]||(g.prototype[f]=e.prototype[f])}function g(a){if(!(this instanceof g))return new g(a);d.call(this,a);e.call(this,a);a&&a.readable===!1&&(this.readable=!1);a&&a.writable===!1&&(this.writable=!1);this.allowHalfOpen=!0;a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1);this.once("end",k)}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(){if(this.allowHalfOpen||this._writableState.ended)return;a.nextTick(l,this)}function l(a){a.end()}Object.defineProperty(g.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(a){if(this._readableState===void 0||this._writableState===void 0)return;this._readableState.destroyed=a;this._writableState.destroyed=a}});g.prototype._destroy=function(b,c){this.push(null),this.end(),a.nextTick(c,b)}}var E=!1;function F(){E||(E=!0,D());return C.exports}var G={},H={exports:G};function I(){var a=g().Buffer,b=a.isEncoding||function(a){a=""+a;switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(a){if(!a)return"utf8";var b;while(!0)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase();b=!0}}function d(d){var e=c(d);if(typeof e!=="string"&&(a.isEncoding===b||!b(d)))throw new Error("Unknown encoding: "+d);return e||d}G.StringDecoder=e;function e(b){this.encoding=d(b);var c;switch(this.encoding){case"utf16le":this.text=m;this.end=n;c=4;break;case"utf8":this.fillLast=j;c=4;break;case"base64":this.text=o;this.end=p;c=3;break;default:this.write=q;this.end=r;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=a.allocUnsafe(c)}e.prototype.write=function(a){if(a.length===0)return"";var b,c;if(this.lastNeed){b=this.fillLast(a);if(b===void 0)return"";c=this.lastNeed;this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""};e.prototype.end=l;e.prototype.text=k;e.prototype.fillLast=function(a){if(this.lastNeed<=a.length){a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length);this.lastNeed-=a.length};function f(a){if(a<=127)return 0;else if(a>>5===6)return 2;else if(a>>4===14)return 3;else if(a>>3===30)return 4;return a>>6===2?-1:-2}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=f(b[d]);if(e>=0){e>0&&(a.lastNeed=e-1);return e}if(--d<c||e===-2)return 0;e=f(b[d]);if(e>=0){e>0&&(a.lastNeed=e-2);return e}if(--d<c||e===-2)return 0;e=f(b[d]);if(e>=0){e>0&&(e===2?e=0:a.lastNeed=e-3);return e}return 0}function i(a,b,c){if((b[0]&192)!==128){a.lastNeed=0;return"\ufffd"}if(a.lastNeed>1&&b.length>1){if((b[1]&192)!==128){a.lastNeed=1;return"\ufffd"}if(a.lastNeed>2&&b.length>2&&(b[2]&192)!==128){a.lastNeed=2;return"\ufffd"}}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);if(c!==void 0)return c;if(this.lastNeed<=a.length){a.copy(this.lastChar,b,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}a.copy(this.lastChar,b,0,a.length);this.lastNeed-=a.length}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;c=a.length-(c-this.lastNeed);a.copy(this.lastChar,0,c);return a.toString("utf8",b,c)}function l(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+"\ufffd":a}function m(a,b){if((a.length-b)%2===0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=a[a.length-2];this.lastChar[1]=a[a.length-1];return c.slice(0,-1)}}return c}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=a[a.length-1];return a.toString("utf16le",b,a.length-1)}function n(a){a=a&&a.length?this.write(a):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return a+this.lastChar.toString("utf16le",0,b)}return a}function o(a,b){var c=(a.length-b)%3;if(c===0)return a.toString("base64",b);this.lastNeed=3-c;this.lastTotal=3;c===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]);return a.toString("base64",b,a.length-c)}function p(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}}var J=!1;function K(){J||(J=!0,I());return H.exports}b={};var L={exports:b};function M(){var b=h();L.exports=A;var c=l(),d;A.ReadableState=z;var e=function(a,b){return a.listeners(b).length},f=p(),k=g().Buffer,m=a.Uint8Array||function(){};function n(a){return k.from(a)}function o(a){return k.isBuffer(a)||a instanceof m}var q=i();q.inherits=j();var r={},s=void 0;r&&r.debuglog?s=r.debuglog("stream"):s=function(){};var u=t();r=x();var v;q.inherits(A,f);var w=["error","close","destroy","pause","resume"];function y(a,b,d){if(typeof a.prependListener==="function")return a.prependListener(b,d);!a._events||!a._events[b]?a.on(b,d):c(a._events[b])?a._events[b].unshift(d):a._events[b]=[d,a._events[b]]}function z(a,b){d=d||F();a=a||{};b=b instanceof d;this.objectMode=!!a.objectMode;b&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var c=a.highWaterMark,e=a.readableHighWaterMark,f=this.objectMode?16:16*1024;c||c===0?this.highWaterMark=c:b&&(e||e===0)?this.highWaterMark=e:this.highWaterMark=f;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new u();this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=!1;this.endEmitted=!1;this.reading=!1;this.sync=!0;this.needReadable=!1;this.emittedReadable=!1;this.readableListening=!1;this.resumeScheduled=!1;this.destroyed=!1;this.defaultEncoding=a.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.decoder=null;this.encoding=null;a.encoding&&(v||(v=K("/").StringDecoder),this.decoder=new v(a.encoding),this.encoding=a.encoding)}function A(a){d=d||F();if(!(this instanceof A))return new A(a);this._readableState=new z(a,this);this.readable=!0;a&&(typeof a.read==="function"&&(this._read=a.read),typeof a.destroy==="function"&&(this._destroy=a.destroy));f.call(this)}Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(a){if(!this._readableState)return;this._readableState.destroyed=a}});A.prototype.destroy=r.destroy;A.prototype._undestroy=r.undestroy;A.prototype._destroy=function(a,b){this.push(null),b(a)};A.prototype.push=function(a,b){var c=this._readableState,d;!c.objectMode?typeof a==="string"&&(b=b||c.defaultEncoding,b!==c.encoding&&(a=k.from(a,b),b=""),d=!0):d=!0;return B(this,a,b,!1,d)};A.prototype.unshift=function(a){return B(this,a,null,!0,!1)};function B(a,b,c,d,e){var f=a._readableState;if(b===null)f.reading=!1,J(a,f);else{var g;e||(g=D(f,b));g?a.emit("error",g):f.objectMode||b&&b.length>0?(typeof b!=="string"&&!f.objectMode&&Object.getPrototypeOf(b)!==k.prototype&&(b=n(b)),d?f.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):C(a,f,b,!0):f.ended?a.emit("error",new Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!c?(b=f.decoder.write(b),f.objectMode||b.length!==0?C(a,f,b,!1):O(a,f)):C(a,f,b,!1))):d||(f.reading=!1)}return E(f)}function C(a,b,c,d){b.flowing&&b.length===0&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&M(a)),O(a,b)}function D(a,b){var c;!o(b)&&typeof b!=="string"&&b!==void 0&&!a.objectMode&&(c=new TypeError("Invalid non-string/buffer chunk"));return c}function E(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||a.length===0)}A.prototype.isPaused=function(){return this._readableState.flowing===!1};A.prototype.setEncoding=function(a){v||(v=K("/").StringDecoder);this._readableState.decoder=new v(a);this._readableState.encoding=a;return this};var G=8388608;function H(a){a>=G?a=G:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++);return a}function I(a,b){if(a<=0||b.length===0&&b.ended)return 0;if(b.objectMode)return 1;if(a!==a)if(b.flowing&&b.length)return b.buffer.head.data.length;else return b.length;a>b.highWaterMark&&(b.highWaterMark=H(a));if(a<=b.length)return a;if(!b.ended){b.needReadable=!0;return 0}return b.length}A.prototype.read=function(a){s("read",a);a=parseInt(a,10);var b=this._readableState,c=a;a!==0&&(b.emittedReadable=!1);if(a===0&&b.needReadable&&(b.length>=b.highWaterMark||b.ended)){s("read: emitReadable",b.length,b.ended);b.length===0&&b.ended?Z(this):M(this);return null}a=I(a,b);if(a===0&&b.ended){b.length===0&&Z(this);return null}var d=b.needReadable;s("need readable",d);(b.length===0||b.length-a<b.highWaterMark)&&(d=!0,s("length less than watermark",d));b.ended||b.reading?(d=!1,s("reading or ended",d)):d&&(s("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=I(c,b)));a>0?d=V(a,b):d=null;d===null?(b.needReadable=!0,a=0):b.length-=a;b.length===0&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&Z(this));d!==null&&this.emit("data",d);return d};function J(a,b){if(b.ended)return;if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0;M(a)}function M(a){var c=a._readableState;c.needReadable=!1;c.emittedReadable||(s("emitReadable",c.flowing),c.emittedReadable=!0,c.sync?b.nextTick(N,a):N(a))}function N(a){s("emit readable"),a.emit("readable"),U(a)}function O(a,c){c.readingMore||(c.readingMore=!0,b.nextTick(P,a,c))}function P(a,b){var c=b.length;while(!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark){s("maybeReadMore read 0");a.read(0);if(c===b.length)break;else c=b.length}b.readingMore=!1}A.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))};A.prototype.pipe=function(a,c){var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=a;break;case 1:f.pipes=[f.pipes,a];break;default:f.pipes.push(a);break}f.pipesCount+=1;s("pipe count=%d opts=%j",f.pipesCount,c);c=(!c||c.end!==!1)&&a!==process.stdout&&a!==process.stderr;c=c?h:q;f.endEmitted?b.nextTick(c):d.once("end",c);a.on("unpipe",g);function g(a,b){s("onunpipe"),a===d&&(b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,k()))}function h(){s("onend"),a.end()}var i=Q(d);a.on("drain",i);var j=!1;function k(){s("cleanup"),a.removeListener("close",o),a.removeListener("finish",p),a.removeListener("drain",i),a.removeListener("error",n),a.removeListener("unpipe",g),d.removeListener("end",h),d.removeListener("end",q),d.removeListener("data",m),j=!0,f.awaitDrain&&(!a._writableState||a._writableState.needDrain)&&i()}var l=!1;d.on("data",m);function m(b){s("ondata");l=!1;b=a.write(b);!1===b&&!l&&((f.pipesCount===1&&f.pipes===a||f.pipesCount>1&&aa(f.pipes,a)!==-1)&&!j&&(s("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,l=!0),d.pause())}function n(b){s("onerror",b),q(),a.removeListener("error",n),e(a,"error")===0&&a.emit("error",b)}y(a,"error",n);function o(){a.removeListener("finish",p),q()}a.once("close",o);function p(){s("onfinish"),a.removeListener("close",o),q()}a.once("finish",p);function q(){s("unpipe"),d.unpipe(a)}a.emit("pipe",d);f.flowing||(s("pipe resume"),d.resume());return a};function Q(a){return function(){var b=a._readableState;s("pipeOnDrain",b.awaitDrain);b.awaitDrain&&b.awaitDrain--;b.awaitDrain===0&&e(a,"data")&&(b.flowing=!0,U(a))}}A.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;b.flowing=!1;a&&a.emit("unpipe",this,c);return this}if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null;b.pipesCount=0;b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}d=aa(b.pipes,a);if(d===-1)return this;b.pipes.splice(d,1);b.pipesCount-=1;b.pipesCount===1&&(b.pipes=b.pipes[0]);a.emit("unpipe",this,c);return this};A.prototype.on=function(a,c){c=f.prototype.on.call(this,a,c);if(a==="data")this._readableState.flowing!==!1&&this.resume();else if(a==="readable"){a=this._readableState;!a.endEmitted&&!a.readableListening&&(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,!a.reading?b.nextTick(R,this):a.length&&M(this))}return c};A.prototype.addListener=A.prototype.on;function R(a){s("readable nexttick read 0"),a.read(0)}A.prototype.resume=function(){var a=this._readableState;a.flowing||(s("resume"),a.flowing=!0,S(this,a));return this};function S(a,c){c.resumeScheduled||(c.resumeScheduled=!0,b.nextTick(T,a,c))}function T(a,b){b.reading||(s("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),U(a),b.flowing&&!b.reading&&a.read(0)}A.prototype.pause=function(){s("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};function U(a){var b=a._readableState;s("flow",b.flowing);while(b.flowing&&a.read()!==null);}A.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;a.on("end",function(){s("wrapped end");if(c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)});a.on("data",function(e){s("wrapped data");c.decoder&&(e=c.decoder.write(e));if(c.objectMode&&(e===null||e===void 0))return;else if(!c.objectMode&&(!e||!e.length))return;e=b.push(e);e||(d=!0,a.pause())});for(var e in a)this[e]===void 0&&typeof a[e]==="function"&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(e=0;e<w.length;e++)a.on(w[e],this.emit.bind(this,w[e]));this._read=function(b){s("wrapped _read",b),d&&(d=!1,a.resume())};return this};Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});A._fromList=V;function V(a,b){if(b.length===0)return null;var c;b.objectMode?c=b.buffer.shift():!a||a>=b.length?(b.decoder?c=b.buffer.join(""):b.buffer.length===1?c=b.buffer.head.data:c=b.buffer.concat(b.length),b.buffer.clear()):c=W(a,b.buffer,b.decoder);return c}function W(a,b,c){var d;a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):a===b.head.data.length?d=b.shift():d=c?X(a,b):Y(a,b);return d}function X(a,b){var c=b.head,d=1,e=c.data;a-=e.length;while(c=c.next){var f=c.data,g=a>f.length?f.length:a;g===f.length?e+=f:e+=f.slice(0,a);a-=g;if(a===0){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}b.length-=d;return e}function Y(a,b){var c=k.allocUnsafe(a),d=b.head,e=1;d.data.copy(c);a-=d.data.length;while(d=d.next){var f=d.data,g=a>f.length?f.length:a;f.copy(c,c.length-a,0,g);a-=g;if(a===0){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}b.length-=e;return c}function Z(a){var c=a._readableState;if(c.length>0)throw new Error('"endReadable()" called on non-empty stream');c.endEmitted||(c.ended=!0,b.nextTick($,c,a))}function $(a,b){!a.endEmitted&&a.length===0&&(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function aa(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}}var N=!1;function O(){N||(N=!0,M());return L.exports}c={};var P={exports:c};function Q(){P.exports=d;var a=F(),b=i();b.inherits=j();b.inherits(d,a);function c(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null;c.writecb=null;b!=null&&this.push(b);d(a);c=this._readableState;c.reading=!1;(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}function d(b){if(!(this instanceof d))return new d(b);a.call(this,b);this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;b&&(typeof b.transform==="function"&&(this._transform=b.transform),typeof b.flush==="function"&&(this._flush=b.flush));this.on("prefinish",e)}function e(){var a=this;typeof this._flush==="function"?this._flush(function(b,c){f(a,b,c)}):f(this,null,null)}d.prototype.push=function(b,c){this._transformState.needTransform=!1;return a.prototype.push.call(this,b,c)};d.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")};d.prototype._write=function(a,b,c){var d=this._transformState;d.writecb=c;d.writechunk=a;d.writeencoding=b;if(!d.transforming){c=this._readableState;(d.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}};d.prototype._read=function(a){a=this._transformState;a.writechunk!==null&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0};d.prototype._destroy=function(b,c){var d=this;a.prototype._destroy.call(this,b,function(a){c(a),d.emit("close")})};function f(a,b,c){if(b)return a.emit("error",b);c!=null&&a.push(c);if(a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}}var R=!1;function S(){R||(R=!0,Q());return P.exports}b={};var T={exports:b};function U(){T.exports=c;var a=S(),b=i();b.inherits=j();b.inherits(c,a);function c(b){if(!(this instanceof c))return new c(b);a.call(this,b)}c.prototype._transform=function(a,b,c){c(null,a)}}var V=!1;function W(){V||(V=!0,U());return T.exports}d={};var X={exports:d};function Y(){var a={};process.env.READABLE_STREAM==="disable"&&a?(X.exports=a,d=X.exports=a.Readable,d.Readable=a.Readable,d.Writable=a.Writable,d.Duplex=a.Duplex,d.Transform=a.Transform,d.PassThrough=a.PassThrough,d.Stream=a):(d=X.exports=O(),d.Stream=a||d,d.Readable=d,d.Writable=B(),d.Duplex=F(),d.Transform=S(),d.PassThrough=W())}var Z=!1;function $(){Z||(Z=!0,Y());return X.exports}function f(a){switch(a){case void 0:return $()}}e.exports=f}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("set-immediate-shim-1.0.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=typeof setImmediate==="function"?setImmediate:function(){var a=[].slice.apply(arguments);a.splice(1,0,0);setTimeout.apply(null,a)}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("jszip-3.2.0",["readable-stream-2.3.6","set-immediate-shim-1.0.1","lie-3.3.0","pako-1.0.8"],(function(a,b,c,d,e,f){"use strict";var g=b("readable-stream-2.3.6"),h=b("set-immediate-shim-1.0.1"),i=b("lie-3.3.0"),j=b("pako-1.0.8"),k={},l={exports:k};function m(){k.base64=!0;k.array=!0;k.string=!0;k.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";k.nodebuffer=typeof Buffer!=="undefined";k.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")k.blob=!1;else{var a=new ArrayBuffer(0);try{k.blob=new Blob([a],{type:"application/zip"}).size===0}catch(c){try{var b=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;b=new b();b.append(a);k.blob=b.getBlob("application/zip").size===0}catch(a){k.blob=!1}}}try{k.nodestream=!!g().Readable}catch(a){k.nodestream=!1}}var n=!1;function o(){n||(n=!0,m());return l.exports}var p={},q={exports:p};function r(){var a=E(),b=o(),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";p.encode=function(b){var d=[],e,f,g,h,i=0,j=b.length,k=j,l=a.getTypeOf(b)!=="string";while(i<b.length)k=j-i,!l?(e=b.charCodeAt(i++),f=i<j?b.charCodeAt(i++):0,g=i<j?b.charCodeAt(i++):0):(e=b[i++],f=i<j?b[i++]:0,g=i<j?b[i++]:0),h=e>>2,e=(e&3)<<4|f>>4,f=k>1?(f&15)<<2|g>>6:64,g=k>2?g&63:64,d.push(c.charAt(h)+c.charAt(e)+c.charAt(f)+c.charAt(g));return d.join("")};p.decode=function(a){var d,e,f,g,h=0,i=0,j="data:";if(a.substr(0,j.length)===j)throw new Error("Invalid base64 input, it looks like a data url.");a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j=a.length*3/4;a.charAt(a.length-1)===c.charAt(64)&&j--;a.charAt(a.length-2)===c.charAt(64)&&j--;if(j%1!==0)throw new Error("Invalid base64 input, bad content length.");var k;b.uint8array?k=new Uint8Array(j|0):k=new Array(j|0);while(h<a.length)j=c.indexOf(a.charAt(h++)),e=c.indexOf(a.charAt(h++)),f=c.indexOf(a.charAt(h++)),g=c.indexOf(a.charAt(h++)),j=j<<2|e>>4,e=(e&15)<<4|f>>2,d=(f&3)<<6|g,k[i++]=j,f!==64&&(k[i++]=e),g!==64&&(k[i++]=d);return k}}var s=!1;function t(){s||(s=!0,r());return q.exports}c={};var u={exports:c};function v(){u.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(a,b){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,b);else{if(typeof a==="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,b)}},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);else{a=new Buffer(a);a.fill(0);return a}},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on==="function"&&typeof a.pause==="function"&&typeof a.resume==="function"}}}var w=!1;function x(){w||(w=!0,v());return u.exports}d={};var y={exports:d};function z(){var a;typeof Promise!=="undefined"?a=Promise:a=i();y.exports={Promise:a}}var A=!1;function B(){A||(A=!0,z());return y.exports}var C={},aa={exports:C};function ba(){var a=o(),b=t(),c=x(),d=h(),e=B();function f(b){var c;a.uint8array?c=new Uint8Array(b.length):c=new Array(b.length);return i(b,c)}C.newBlob=function(a,b){C.checkSupport("blob");try{return new Blob([a],{type:b})}catch(d){try{var c=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;c=new c();c.append(a);return c.getBlob(b)}catch(a){throw new Error("Bug : can't construct the Blob.")}}};function g(a){return a}function i(a,b){for(var c=0;c<a.length;++c)b[c]=a.charCodeAt(c)&255;return b}var j={stringifyByChunk:function(a,b,c){var d=[],e=0,f=a.length;if(f<=c)return String.fromCharCode.apply(null,a);while(e<f)b==="array"||b==="nodebuffer"?d.push(String.fromCharCode.apply(null,a.slice(e,Math.min(e+c,f)))):d.push(String.fromCharCode.apply(null,a.subarray(e,Math.min(e+c,f)))),e+=c;return d.join("")},stringifyByChar:function(a){var b="";for(var c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(a){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch(a){return!1}}()}};function k(a){var b=65536,c=C.getTypeOf(a),d=!0;c==="uint8array"?d=j.applyCanBeUsed.uint8array:c==="nodebuffer"&&(d=j.applyCanBeUsed.nodebuffer);if(d)while(b>1)try{return j.stringifyByChunk(a,c,b)}catch(a){b=Math.floor(b/2)}return j.stringifyByChar(a)}C.applyFromCharCode=k;function l(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var m={};m.string={string:g,array:function(a){return i(a,new Array(a.length))},arraybuffer:function(a){return m.string.uint8array(a).buffer},uint8array:function(a){return i(a,new Uint8Array(a.length))},nodebuffer:function(a){return i(a,c.allocBuffer(a.length))}};m.array={string:k,array:g,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return c.newBufferFrom(a)}};m.arraybuffer={string:function(a){return k(new Uint8Array(a))},array:function(a){return l(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:g,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return c.newBufferFrom(new Uint8Array(a))}};m.uint8array={string:k,array:function(a){return l(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:g,nodebuffer:function(a){return c.newBufferFrom(a)}};m.nodebuffer={string:k,array:function(a){return l(a,new Array(a.length))},arraybuffer:function(a){return m.nodebuffer.uint8array(a).buffer},uint8array:function(a){return l(a,new Uint8Array(a.length))},nodebuffer:g};C.transformTo=function(a,b){b||(b="");if(!a)return b;C.checkSupport(a);var c=C.getTypeOf(b);c=m[c][a](b);return c};C.getTypeOf=function(b){if(typeof b==="string")return"string";if(Object.prototype.toString.call(b)==="[object Array]")return"array";if(a.nodebuffer&&c.isBuffer(b))return"nodebuffer";if(a.uint8array&&b instanceof Uint8Array)return"uint8array";if(a.arraybuffer&&b instanceof ArrayBuffer)return"arraybuffer"};C.checkSupport=function(b){var c=a[b.toLowerCase()];if(!c)throw new Error(b+" is not supported by this platform")};C.MAX_VALUE_16BITS=65535;C.MAX_VALUE_32BITS=-1;C.pretty=function(a){var b="",c,d;for(d=0;d<(a||"").length;d++)c=a.charCodeAt(d),b+="\\x"+(c<16?"0":"")+c.toString(16).toUpperCase();return b};C.delay=function(a,b,c){d(function(){a.apply(c||null,b||[])})};C.inherits=function(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c()};C.extend=function(){var a={},b,c;for(b=0;b<arguments.length;b++)for(c in arguments[b])arguments[b].hasOwnProperty(c)&&typeof a[c]==="undefined"&&(a[c]=arguments[b][c]);return a};C.prepareContent=function(c,d,g,h,i){d=e.Promise.resolve(d).then(function(b){var c=a.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1);if(c&&typeof FileReader!=="undefined")return new e.Promise(function(a,c){var d=new FileReader();d.onload=function(b){a(b.target.result)};d.onerror=function(a){c(a.target.error)};d.readAsArrayBuffer(b)});else return b});return d.then(function(a){var d=C.getTypeOf(a);if(!d)return e.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));d==="arraybuffer"?a=C.transformTo("uint8array",a):d==="string"&&(i?a=b.decode(a):g&&(h!==!0&&(a=f(a))));return a})}}var D=!1;function E(){D||(D=!0,ba());return aa.exports}f={};var F={exports:f};function ca(){function a(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){if(this.isFinished)return!1;this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp());return!0},on:function(a,b){this._listeners[a].push(b);return this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,b){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,b)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo;this.mergeStreamInfo();this.previous=a;var b=this;a.on("data",function(a){b.processChunk(a)});a.on("end",function(){b.end()});a.on("error",function(a){b.error(a)});return this},pause:function(){if(this.isPaused||this.isFinished)return!1;this.isPaused=!0;this.previous&&this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;this.generatedError&&(this.error(this.generatedError),a=!0);this.previous&&this.previous.resume();return!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,b){this.extraStreamInfo[a]=b;this.mergeStreamInfo();return this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo){if(!this.extraStreamInfo.hasOwnProperty(a))continue;this.streamInfo[a]=this.extraStreamInfo[a]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0;this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;if(this.previous)return this.previous+" -> "+a;else return a}};F.exports=a}var G=!1;function H(){G||(G=!0,ca());return F.exports}var I={},da={exports:I};function ea(){var a=E(),b=o(),c=x(),d=H(),e=new Array(256);for(var f=0;f<256;f++)e[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;e[254]=e[254]=1;var g=function(c){var d,e,f,g,a,h=c.length,i=0;for(g=0;g<h;g++)e=c.charCodeAt(g),(e&64512)===55296&&g+1<h&&(f=c.charCodeAt(g+1),(f&64512)===56320&&(e=65536+(e-55296<<10)+(f-56320),g++)),i+=e<128?1:e<2048?2:e<65536?3:4;b.uint8array?d=new Uint8Array(i):d=new Array(i);for(a=0,g=0;a<i;g++)e=c.charCodeAt(g),(e&64512)===55296&&g+1<h&&(f=c.charCodeAt(g+1),(f&64512)===56320&&(e=65536+(e-55296<<10)+(f-56320),g++)),e<128?d[a++]=e:e<2048?(d[a++]=192|e>>>6,d[a++]=128|e&63):e<65536?(d[a++]=224|e>>>12,d[a++]=128|e>>>6&63,d[a++]=128|e&63):(d[a++]=240|e>>>18,d[a++]=128|e>>>12&63,d[a++]=128|e>>>6&63,d[a++]=128|e&63);return d},h=function(a,b){var c;b=b||a.length;b>a.length&&(b=a.length);c=b-1;while(c>=0&&(a[c]&192)===128)c--;if(c<0)return b;return c===0?b:c+e[a[c]]>b?c:b},i=function(c){var b,d,f,g,h=c.length,i=new Array(h*2);for(d=0,b=0;b<h;){f=c[b++];if(f<128){i[d++]=f;continue}g=e[f];if(g>4){i[d++]=65533;b+=g-1;continue}f&=g===2?31:g===3?15:7;while(g>1&&b<h)f=f<<6|c[b++]&63,g--;if(g>1){i[d++]=65533;continue}f<65536?i[d++]=f:(f-=65536,i[d++]=55296|f>>10&1023,i[d++]=56320|f&1023)}i.length!==d&&(i.subarray?i=i.subarray(0,d):i.length=d);return a.applyFromCharCode(i)};I.utf8encode=function(a){return b.nodebuffer?c.newBufferFrom(a,"utf-8"):g(a)};I.utf8decode=function(c){if(b.nodebuffer)return a.transformTo("nodebuffer",c).toString("utf-8");c=a.transformTo(b.uint8array?"uint8array":"array",c);return i(c)};function j(){d.call(this,"utf-8 decode"),this.leftOver=null}a.inherits(j,d);j.prototype.processChunk=function(c){var d=a.transformTo(b.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var e=d;d=new Uint8Array(e.length+this.leftOver.length);d.set(this.leftOver,0);d.set(e,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}e=h(d);var f=d;e!==d.length&&(b.uint8array?(f=d.subarray(0,e),this.leftOver=d.subarray(e,d.length)):(f=d.slice(0,e),this.leftOver=d.slice(e,d.length)));this.push({data:I.utf8decode(f),meta:c.meta})};j.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:I.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};I.Utf8DecodeWorker=j;function k(){d.call(this,"utf-8 encode")}a.inherits(k,d);k.prototype.processChunk=function(a){this.push({data:I.utf8encode(a.data),meta:a.meta})};I.Utf8EncodeWorker=k}var J=!1;function K(){J||(J=!0,ea());return da.exports}b={};var L={exports:b};function fa(){var a=H(),b=E();function c(b){a.call(this,"ConvertWorker to "+b),this.destType=b}b.inherits(c,a);c.prototype.processChunk=function(a){this.push({data:b.transformTo(this.destType,a.data),meta:a.meta})};L.exports=c}var M=!1;function ga(){M||(M=!0,fa());return L.exports}c={};var N={exports:c};function ha(){var a=g().Readable,b=E();b.inherits(c,a);function c(b,c,d){a.call(this,c);this._helper=b;var e=this;b.on("data",function(a,b){e.push(a)||e._helper.pause(),d&&d(b)}).on("error",function(a){e.emit("error",a)}).on("end",function(){e.push(null)})}c.prototype._read=function(){this._helper.resume()};N.exports=c}var O=!1;function ia(){O||(O=!0,ha());return N.exports}d={};var P={exports:d};function ja(){var a=E(),b=ga(),c=H(),d=t(),e=o(),f=B(),g=null;if(e.nodestream)try{g=ia()}catch(a){}function h(b,c,e){switch(b){case"blob":return a.newBlob(a.transformTo("arraybuffer",c),e);case"base64":return d.encode(c);default:return a.transformTo(b,c)}}function i(a,b){var c,d=0,e=null,f=0;for(c=0;c<b.length;c++)f+=b[c].length;switch(a){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":e=new Uint8Array(f);for(c=0;c<b.length;c++)e.set(b[c],d),d+=b[c].length;return e;case"nodebuffer":return Buffer.concat(b);default:throw new Error("concat : unsupported type '"+a+"'")}}function j(a,b){return new f.Promise(function(c,d){var e=[],f=a._internalType,g=a._outputType,j=a._mimeType;a.on("data",function(a,c){e.push(a),b&&b(c)}).on("error",function(a){e=[],d(a)}).on("end",function(){try{var a=h(g,i(f,e),j);c(a)}catch(a){d(a)}e=[]}).resume()})}function k(d,e,f){var g=e;switch(e){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string";break}try{this._internalType=g,this._outputType=e,this._mimeType=f,a.checkSupport(g),this._worker=d.pipe(new b(g)),d.lock()}catch(a){this._worker=new c("error"),this._worker.error(a)}}k.prototype={accumulate:function(a){return j(this,a)},on:function(b,c){var d=this;b==="data"?this._worker.on(b,function(a){c.call(d,a.data,a.meta)}):this._worker.on(b,function(){a.delay(c,arguments,d)});return this},resume:function(){a.delay(this._worker.resume,[],this._worker);return this},pause:function(){this._worker.pause();return this},toNodejsStream:function(b){a.checkSupport("nodestream");if(this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},b)}};P.exports=k}var Q=!1;function R(){Q||(Q=!0,ja());return P.exports}var S={},ka={exports:S};function la(){S.base64=!1,S.binary=!1,S.dir=!1,S.createFolders=!0,S.date=null,S.compression=null,S.compressionOptions=null,S.comment=null,S.unixPermissions=null,S.dosPermissions=null}var T=!1;function U(){T||(T=!0,la());return ka.exports}f={};var V={exports:f};function ma(){var a=E(),b=H(),c=16*1024;function d(c){b.call(this,"DataWorker");var d=this;this.dataIsReady=!1;this.index=0;this.max=0;this.data=null;this.type="";this._tickScheduled=!1;c.then(function(b){d.dataIsReady=!0,d.data=b,d.max=b&&b.length||0,d.type=a.getTypeOf(b),d.isPaused||d._tickAndRepeat()},function(a){d.error(a)})}a.inherits(d,b);d.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null};d.prototype.resume=function(){if(!b.prototype.resume.call(this))return!1;!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this));return!0};d.prototype._tickAndRepeat=function(){this._tickScheduled=!1;if(this.isPaused||this.isFinished)return;this._tick();this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)};d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=c,b=null;a=Math.min(this.max,this.index+a);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":b=this.data.substring(this.index,a);break;case"uint8array":b=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":b=this.data.slice(this.index,a);break}this.index=a;return this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})}};V.exports=d}var na=!1;function oa(){na||(na=!0,ma());return V.exports}b={};var pa={exports:b};function qa(){var a=E(),b=H();function c(a){b.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}a.inherits(c,b);c.prototype.processChunk=function(a){if(a){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+a.data.length}b.prototype.processChunk.call(this,a)};pa.exports=c}var ra=!1;function sa(){ra||(ra=!0,qa());return pa.exports}c={};var ta={exports:c};function ua(){var a=E();function b(){var a,b=[];for(var c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=a&1?3988292384^a>>>1:a>>>1;b[c]=a}return b}var c=b();function d(a,b,d,e){var f=c;d=e+d;a=a^-1;for(e=e;e<d;e++)a=a>>>8^f[(a^b[e])&255];return a^-1}function e(a,b,d,e){var f=c;d=e+d;a=a^-1;for(e=e;e<d;e++)a=a>>>8^f[(a^b.charCodeAt(e))&255];return a^-1}ta.exports=function(b,c){if(typeof b==="undefined"||!b.length)return 0;var f=a.getTypeOf(b)!=="string";if(f)return d(c|0,b,b.length,0);else return e(c|0,b,b.length,0)}}var va=!1;function W(){va||(va=!0,ua());return ta.exports}d={};var wa={exports:d};function xa(){var a=H(),b=W(),c=E();function d(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c.inherits(d,a);d.prototype.processChunk=function(a){this.streamInfo.crc32=b(a.data,this.streamInfo.crc32||0),this.push(a)};wa.exports=d}var ya=!1;function za(){ya||(ya=!0,xa());return wa.exports}f={};var Aa={exports:f};function Ba(){var a=B(),b=oa(),c=sa(),d=za(),c=sa();function e(a,b,c,d,e){this.compressedSize=a,this.uncompressedSize=b,this.crc32=c,this.compression=d,this.compressedContent=e}e.prototype={getContentWorker:function(){var d=new b(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),e=this;d.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")});return d},getCompressedWorker:function(){return new b(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};e.createWorkerFrom=function(a,b,e){return a.pipe(new d()).pipe(new c("uncompressedSize")).pipe(b.compressWorker(e)).pipe(new c("compressedSize")).withStreamInfo("compression",b)};Aa.exports=e}var Ca=!1;function X(){Ca||(Ca=!0,Ba());return Aa.exports}b={};var Da={exports:b};function Ea(){var a=R(),b=oa(),c=K(),d=X(),e=H(),f=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}};f.prototype={internalStream:function(b){var d=null,f="string";try{if(!b)throw new Error("No output type specified.");f=b.toLowerCase();b=f==="string"||f==="text";(f==="binarystring"||f==="text")&&(f="string");d=this._decompressWorker();var g=!this._dataBinary;g&&!b&&(d=d.pipe(new c.Utf8EncodeWorker()));!g&&b&&(d=d.pipe(new c.Utf8DecodeWorker()))}catch(a){d=new e("error"),d.error(a)}return new a(d,f,"")},async:function(a,b){return this.internalStream(a).accumulate(b)},nodeStream:function(a,b){return this.internalStream(a||"nodebuffer").toNodejsStream(b)},_compressWorker:function(a,b){if(this._data instanceof d&&this._data.compression.magic===a.magic)return this._data.getCompressedWorker();else{var e=this._decompressWorker();this._dataBinary||(e=e.pipe(new c.Utf8EncodeWorker()));return d.createWorkerFrom(e,a,b)}},_decompressWorker:function(){if(this._data instanceof d)return this._data.getContentWorker();else if(this._data instanceof e)return this._data;else return new b(this._data)}};var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(var i=0;i<g.length;i++)f.prototype[g[i]]=h;Da.exports=f}var Fa=!1;function Ga(){Fa||(Fa=!0,Ea());return Da.exports}var Y={},Ha={exports:Y};function Ia(){var a=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",b=j(),c=E(),d=H(),e=a?"uint8array":"array";Y.magic="\b\0";function f(a,b){d.call(this,"FlateWorker/"+a),this._pako=null,this._pakoAction=a,this._pakoOptions=b,this.meta={}}c.inherits(f,d);f.prototype.processChunk=function(a){this.meta=a.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(e,a.data),!1)};f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)};f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null};f.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var a=this;this._pako.onData=function(b){a.push({data:b,meta:a.meta})}};Y.compressWorker=function(a){return new f("Deflate",a)};Y.uncompressWorker=function(){return new f("Inflate",{})}}var Ja=!1;function Ka(){Ja||(Ja=!0,Ia());return Ha.exports}var Z={},La={exports:Z};function Ma(){var a=H();Z.STORE={magic:"\0\0",compressWorker:function(b){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}};Z.DEFLATE=Ka()}var Na=!1;function Oa(){Na||(Na=!0,Ma());return La.exports}var $={},Pa={exports:$};function Qa(){$.LOCAL_FILE_HEADER="PK\x03\x04",$.CENTRAL_FILE_HEADER="PK\x01\x02",$.CENTRAL_DIRECTORY_END="PK\x05\x06",$.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",$.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",$.DATA_DESCRIPTOR="PK\x07\b"}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return Pa.exports}c={};var Ta={exports:c};function Ua(){var a=E(),b=H(),c=K(),d=W(),e=Sa(),f=function(a,b){var c="",d;for(d=0;d<b;d++)c+=String.fromCharCode(a&255),a=a>>>8;return c},g=function(a,b){var c=a;a||(c=b?16893:33204);return(c&65535)<<16},h=function(a,b){return(a||0)&63},i=function(b,i,j,k,l,m){var n=b.file,o=b.compression,p=m!==c.utf8encode,q=a.transformTo("string",m(n.name)),r=a.transformTo("string",c.utf8encode(n.name)),s=n.comment;m=a.transformTo("string",m(s));var t=a.transformTo("string",c.utf8encode(s)),u=r.length!==n.name.length;s=t.length!==s.length;var v="",w="",x="",y=n.dir,z=n.date,A={crc32:0,compressedSize:0,uncompressedSize:0};(!i||j)&&(A.crc32=b.crc32,A.compressedSize=b.compressedSize,A.uncompressedSize=b.uncompressedSize);j=0;i&&(j|=8);!p&&(u||s)&&(j|=2048);b=0;i=0;y&&(b|=16);l==="UNIX"?(i=798,b|=g(n.unixPermissions,y)):(i=20,b|=h(n.dosPermissions));p=z.getUTCHours();p=p<<6;p=p|z.getUTCMinutes();p=p<<5;p=p|z.getUTCSeconds()/2;l=z.getUTCFullYear()-1980;l=l<<4;l=l|z.getUTCMonth()+1;l=l<<5;l=l|z.getUTCDate();u&&(w=f(1,1)+f(d(q),4)+r,v+="up"+f(w.length,2)+w);s&&(x=f(1,1)+f(d(m),4)+t,v+="uc"+f(x.length,2)+x);y="";y+="\n\0";y+=f(j,2);y+=o.magic;y+=f(p,2);y+=f(l,2);y+=f(A.crc32,4);y+=f(A.compressedSize,4);y+=f(A.uncompressedSize,4);y+=f(q.length,2);y+=f(v.length,2);n=e.LOCAL_FILE_HEADER+y+q+v;z=e.CENTRAL_FILE_HEADER+f(i,2)+y+f(m.length,2)+"\0\0\0\0"+f(b,4)+f(k,4)+q+v+m;return{fileRecord:n,dirRecord:z}},j=function(b,c,d,g,h){h=a.transformTo("string",h(g));g=e.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(b,2)+f(b,2)+f(c,4)+f(d,4)+f(h.length,2)+h;return g},k=function(a){a=e.DATA_DESCRIPTOR+f(a.crc32,4)+f(a.compressedSize,4)+f(a.uncompressedSize,4);return a};function l(a,c,d,e){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=c,this.zipPlatform=d,this.encodeFileName=e,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(l,b);l.prototype.push=function(a){var c=a.meta.percent||0,d=this.entriesCount,e=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,b.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:d?(c+100*(d-e-1))/d:100}}))};l.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten;this.currentFile=a.file.name;var b=this.streamFiles&&!a.file.dir;if(b){a=i(a,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:a.fileRecord,meta:{percent:0}})}else this.accumulate=!0};l.prototype.closedSource=function(a){this.accumulate=!1;var b=this.streamFiles&&!a.file.dir,c=i(a,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.dirRecords.push(c.dirRecord);if(b)this.push({data:k(a),meta:{percent:100}});else{this.push({data:c.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};l.prototype.flush=function(){var a=this.bytesWritten;for(var b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});b=this.bytesWritten-a;b=j(this.dirRecords.length,b,a,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})};l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()};l.prototype.registerPrevious=function(a){this._sources.push(a);var b=this;a.on("data",function(a){b.processChunk(a)});a.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()});a.on("error",function(a){b.error(a)});return this};l.prototype.resume=function(){if(!b.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length){this.prepareNextSource();return!0}if(!this.previous&&!this._sources.length&&!this.generatedError){this.end();return!0}};l.prototype.error=function(a){var c=this._sources;if(!b.prototype.error.call(this,a))return!1;for(var d=0;d<c.length;d++)try{c[d].error(a)}catch(a){}return!0};l.prototype.lock=function(){b.prototype.lock.call(this);var a=this._sources;for(var c=0;c<a.length;c++)a[c].lock()};Ta.exports=l}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}var Xa={},Ya={exports:Xa};function Za(){var a=Oa(),b=Wa(),c=function(b,c){b=b||c;c=a[b];if(!c)throw new Error(b+" is not a valid compression method !");return c};Xa.generateWorker=function(a,d,e){var f=new b(d.streamFiles,e,d.platform,d.encodeFileName),g=0;try{a.forEach(function(a,b){g++;var e=c(b.options.compression,d.compression),h=b.options.compressionOptions||d.compressionOptions||{},i=b.dir,j=b.date;b._compressWorker(e,h).withStreamInfo("file",{name:a,dir:i,date:j,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(a){f.error(a)}return f}}var $a=!1;function ab(){$a||($a=!0,Za());return Ya.exports}d={};var bb={exports:d};function cb(){var a=E(),b=H();function c(a,c){b.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(c,b);c.prototype._bindStream=function(a){var b=this;this._stream=a;a.pause();a.on("data",function(a){b.push({data:a,meta:{percent:0}})}).on("error",function(a){b.isPaused?this.generatedError=a:b.error(a)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})};c.prototype.pause=function(){if(!b.prototype.pause.call(this))return!1;this._stream.pause();return!0};c.prototype.resume=function(){if(!b.prototype.resume.call(this))return!1;this._upstreamEnded?this.end():this._stream.resume();return!0};bb.exports=c}var db=!1;function eb(){db||(db=!0,cb());return bb.exports}f={};var fb={exports:f};function gb(){var a=K(),b=E(),c=H(),d=R(),e=U(),f=X(),g=Ga(),h=ab(),i=x(),j=eb(),k=function(a,d,h){var k=b.getTypeOf(d),o,p=b.extend(h||{},e);p.date=p.date||new Date();p.compression!==null&&(p.compression=p.compression.toUpperCase());typeof p.unixPermissions==="string"&&(p.unixPermissions=parseInt(p.unixPermissions,8));p.unixPermissions&&p.unixPermissions&16384&&(p.dir=!0);p.dosPermissions&&p.dosPermissions&16&&(p.dir=!0);p.dir&&(a=m(a));p.createFolders&&(o=l(a))&&n.call(this,o,!0);var q=k==="string"&&p.binary===!1&&p.base64===!1;(!h||typeof h.binary==="undefined")&&(p.binary=!q);h=d instanceof f&&d.uncompressedSize===0;(h||p.dir||!d||d.length===0)&&(p.base64=!1,p.binary=!0,d="",p.compression="STORE",k="string");d instanceof f||d instanceof c?q=d:i.isNode&&i.isStream(d)?q=new j(a,d):q=b.prepareContent(a,d,p.binary,p.optimizedBinaryString,p.base64);h=new g(a,q,p);this.files[a]=h},l=function(a){a.slice(-1)==="/"&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf("/");return b>0?a.substring(0,b):""},m=function(a){a.slice(-1)!=="/"&&(a+="/");return a},n=function(a,b){b=typeof b!=="undefined"?b:e.createFolders;a=m(a);this.files[a]||k.call(this,a,null,{dir:!0,createFolders:b});return this.files[a]};function o(a){return Object.prototype.toString.call(a)==="[object RegExp]"}var p={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(a){var b,c,d;for(b in this.files){if(!this.files.hasOwnProperty(b))continue;d=this.files[b];c=b.slice(this.root.length,b.length);c&&b.slice(0,this.root.length)===this.root&&a(c,d)}},filter:function(a){var b=[];this.forEach(function(c,d){a(c,d)&&b.push(d)});return b},file:function(a,b,c){if(arguments.length===1)if(o(a)){var d=a;return this.filter(function(a,b){return!b.dir&&d.test(a)})}else{var e=this.files[this.root+a];if(e&&!e.dir)return e;else return null}else a=this.root+a,k.call(this,a,b,c);return this},folder:function(a){if(!a)return this;if(o(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a;b=n.call(this,b);var c=this.clone();c.root=b.name;return c},remove:function(a){a=this.root+a;var b=this.files[a];b||(a.slice(-1)!=="/"&&(a+="/"),b=this.files[a]);if(b&&!b.dir)delete this.files[a];else{b=this.filter(function(c,b){return b.name.slice(0,a.length)===a});for(var c=0;c<b.length;c++)delete this.files[b[c].name]}return this},generate:function(a){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var f,g={};try{g=b.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode});g.type=g.type.toLowerCase();g.compression=g.compression.toUpperCase();g.type==="binarystring"&&(g.type="string");if(!g.type)throw new Error("No output type specified.");b.checkSupport(g.type);(g.platform==="darwin"||g.platform==="freebsd"||g.platform==="linux"||g.platform==="sunos")&&(g.platform="UNIX");g.platform==="win32"&&(g.platform="DOS");e=g.comment||this.comment||"";f=h.generateWorker(this,g,e)}catch(a){f=new c("error"),f.error(a)}return new d(f,g.type||"string",g.mimeType)},generateAsync:function(a,b){return this.generateInternalStream(a).accumulate(b)},generateNodeStream:function(a,b){a=a||{};a.type||(a.type="nodebuffer");return this.generateInternalStream(a).toNodejsStream(b)}};fb.exports=p}var hb=!1;function ib(){hb||(hb=!0,gb());return fb.exports}b={};var jb={exports:b};function kb(){var a=E();function b(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var b=0,c;this.checkOffset(a);for(c=this.index+a-1;c>=this.index;c--)b=(b<<8)+this.byteAt(c);this.index+=a;return b},readString:function(b){return a.transformTo("string",this.readData(b))},readData:function(a){},lastIndexOfSignature:function(a){},readAndCheckSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(a&31)<<1))}};jb.exports=b}var lb=!1;function mb(){lb||(lb=!0,kb());return jb.exports}c={};var nb={exports:c};function ob(){var a=mb(),b=E();function c(b){a.call(this,b);for(var c=0;c<this.data.length;c++)b[c]=b[c]&255}b.inherits(c,a);c.prototype.byteAt=function(a){return this.data[this.zero+a]};c.prototype.lastIndexOfSignature=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2);a=a.charCodeAt(3);for(var e=this.length-4;e>=0;--e)if(this.data[e]===b&&this.data[e+1]===c&&this.data[e+2]===d&&this.data[e+3]===a)return e-this.zero;return-1};c.prototype.readAndCheckSignature=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2);a=a.charCodeAt(3);var e=this.readData(4);return b===e[0]&&c===e[1]&&d===e[2]&&a===e[3]};c.prototype.readData=function(a){this.checkOffset(a);if(a===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);this.index+=a;return b};nb.exports=c}var pb=!1;function qb(){pb||(pb=!0,ob());return nb.exports}d={};var rb={exports:d};function sb(){var a=mb(),b=E();function c(b){a.call(this,b)}b.inherits(c,a);c.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)};c.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero};c.prototype.readAndCheckSignature=function(a){var b=this.readData(4);return a===b};c.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);this.index+=a;return b};rb.exports=c}var tb=!1;function ub(){tb||(tb=!0,sb());return rb.exports}f={};var vb={exports:f};function wb(){var a=qb(),b=E();function c(b){a.call(this,b)}b.inherits(c,a);c.prototype.readData=function(a){this.checkOffset(a);if(a===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+a);this.index+=a;return b};vb.exports=c}var xb=!1;function yb(){xb||(xb=!0,wb());return vb.exports}b={};var zb={exports:b};function Ab(){var a=yb(),b=E();function c(b){a.call(this,b)}b.inherits(c,a);c.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);this.index+=a;return b};zb.exports=c}var Bb=!1;function Cb(){Bb||(Bb=!0,Ab());return zb.exports}c={};var Db={exports:c};function Eb(){var a=E(),b=o(),c=qb(),d=ub(),e=Cb(),f=yb();Db.exports=function(g){var h=a.getTypeOf(g);a.checkSupport(h);if(h==="string"&&!b.uint8array)return new d(g);if(h==="nodebuffer")return new e(g);return b.uint8array?new f(a.transformTo("uint8array",g)):new c(a.transformTo("array",g))}}var Fb=!1;function Gb(){Fb||(Fb=!0,Eb());return Db.exports}d={};var Hb={exports:d};function Ib(){var a=Gb(),b=E(),c=X(),d=W(),e=K(),f=Oa(),g=o(),h=0,i=3,j=function(a){for(var b in f){if(!f.hasOwnProperty(b))continue;if(f[b].magic===a)return f[b]}return null};function k(a,b){this.options=a,this.loadOptions=b}k.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(a){var d;a.skip(22);this.fileNameLength=a.readInt(2);d=a.readInt(2);this.fileName=a.readData(this.fileNameLength);a.skip(d);if(this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");d=j(this.compressionMethod);if(d===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,d,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2);a.skip(2);this.bitFlag=a.readInt(2);this.compressionMethod=a.readString(2);this.date=a.readDate();this.crc32=a.readInt(4);this.compressedSize=a.readInt(4);this.uncompressedSize=a.readInt(4);var b=a.readInt(2);this.extraFieldsLength=a.readInt(2);this.fileCommentLength=a.readInt(2);this.diskNumberStart=a.readInt(2);this.internalFileAttributes=a.readInt(2);this.externalFileAttributes=a.readInt(4);this.localHeaderOffset=a.readInt(4);if(this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(b);this.readExtraFields(a);this.parseZIP64ExtraField(a);this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null;this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=this.externalFileAttributes&16?!0:!1;a===h&&(this.dosPermissions=this.externalFileAttributes&63);a===i&&(this.unixPermissions=this.externalFileAttributes>>16&65535);!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(c){if(!this.extraFields[1])return;c=a(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8));this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8));this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8));this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))},readExtraFields:function(a){var b=a.index+this.extraFieldsLength,c,d,e;this.extraFields||(this.extraFields={});while(a.index<b)c=a.readInt(2),d=a.readInt(2),e=a.readData(d),this.extraFields[c]={id:c,length:d,value:e}},handleUTF8:function(){var a=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=e.utf8decode(this.fileName),this.fileCommentStr=e.utf8decode(this.fileComment);else{var c=this.findExtraFieldUnicodePath();if(c!==null)this.fileNameStr=c;else{c=b.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}c=this.findExtraFieldUnicodeComment();if(c!==null)this.fileCommentStr=c;else{c=b.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var c=a(b.value);if(c.readInt(1)!==1)return null;return d(this.fileName)!==c.readInt(4)?null:e.utf8decode(c.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var c=a(b.value);if(c.readInt(1)!==1)return null;return d(this.fileComment)!==c.readInt(4)?null:e.utf8decode(c.readData(b.length-5))}return null}};Hb.exports=k}var Jb=!1;function Kb(){Jb||(Jb=!0,Ib());return Hb.exports}f={};var Lb={exports:f};function Mb(){var a=Gb(),b=E(),c=Sa(),d=Kb();K();var e=o();function f(a){this.files=[],this.loadOptions=a}f.prototype={checkSignature:function(a){if(!this.reader.readAndCheckSignature(a)){this.reader.index-=4;var c=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(c)+", expected "+b.pretty(a)+")")}},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);a=this.reader.readString(4);a=a===b;this.reader.setIndex(c);return a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),c=e.uint8array?"uint8array":"array";c=b.transformTo(c,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var a=this.zip64EndOfCentralSize-44,b=0,c,d,e;while(b<a)c=this.reader.readInt(2),d=this.reader.readInt(4),e=this.reader.readData(d),this.zip64ExtensibleData[c]={id:c,length:d,value:e}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER))a=new d({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&(this.centralDirRecords!==0&&this.files.length===0))throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(a<0){var d=!this.isSignature(0,c.LOCAL_FILE_HEADER);if(d)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(a);d=a;this.checkSignature(c.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){this.zip64=!0;a=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(a<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");this.reader.setIndex(a);this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();if(!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)){this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END);if(this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);a=d-a;if(a>0)this.isSignature(d,c.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(b){this.reader=a(b)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};Lb.exports=f}var Nb=!1;function Ob(){Nb||(Nb=!0,Mb());return Lb.exports}b={};var Pb={exports:b};function Qb(){var a=E(),b=B(),c=K(),a=E(),d=Ob(),e=za(),f=x();function g(a){return new b.Promise(function(b,c){var d=a.decompressed.getContentWorker().pipe(new e());d.on("error",function(a){c(a)}).on("end",function(){d.streamInfo.crc32!==a.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}Pb.exports=function(e,h){var i=this;h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode});return f.isNode&&f.isStream(e)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",e,!0,h.optimizedBinaryString,h.base64).then(function(a){var b=new d(h);b.load(a);return b}).then(function(a){var c=[b.Promise.resolve(a)];a=a.files;if(h.checkCRC32)for(var d=0;d<a.length;d++)c.push(g(a[d]));return b.Promise.all(c)}).then(function(a){a=a.shift();var b=a.files;for(var c=0;c<b.length;c++){var d=b[c];i.file(d.fileNameStr,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:h.createFolders})}a.zipComment.length&&(i.comment=a.zipComment);return i})}}var Rb=!1;function Sb(){Rb||(Rb=!0,Qb());return Pb.exports}c={};var Tb={exports:c};function Ub(){function a(){if(!(this instanceof a))return new a();if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={};this.comment=null;this.root="";this.clone=function(){var b=new a();for(var c in this)typeof this[c]!=="function"&&(b[c]=this[c]);return b}}a.prototype=ib();a.prototype.loadAsync=Sb();a.support=o();a.defaults=U();a.version="3.2.0";a.loadAsync=function(b,c){return new a().loadAsync(b,c)};a.external=B();Tb.exports=a}var Vb=!1;function Wb(){Vb||(Vb=!0,Ub());return Tb.exports}function a(a){switch(a){case void 0:return Wb()}}e.exports=a}),null);
__d("jszip",["jszip-3.2.0"],(function(a,b,c,d,e,f){e.exports=b("jszip-3.2.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/CCT5pM3qiNk/
 */
__d("tweetnacl-auth-1.0.1",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f){"use strict";var g=b("tweetnacl-1.0.3");c={};var h={exports:c};function i(){(function(a,b){typeof h!=="undefined"&&h.exports?h.exports=b(g()):a.nacl.auth=b(a.nacl)})(this,function(a){if(!a)throw new Error("tweetnacl not loaded");var b=128,c=64;function d(d,e){var f=new Uint8Array(b+Math.max(c,d.length)),g;e.length>b&&(e=a.hash(e));for(g=0;g<b;g++)f[g]=54;for(g=0;g<e.length;g++)f[g]^=e[g];f.set(d,b);d=a.hash(f.subarray(0,b+d.length));for(g=0;g<b;g++)f[g]=92;for(g=0;g<e.length;g++)f[g]^=e[g];f.set(d,b);return a.hash(f.subarray(0,b+d.length))}function e(a,b){var c=new Uint8Array(32);c.set(d(a,b).subarray(0,32));return c}e.full=function(a,b){return d(a,b)};e.authLength=32;e.authFullLength=64;e.keyLength=32;return e})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("tweetnacl-auth",["tweetnacl-auth-1.0.1"],(function(a,b,c,d,e,f){e.exports=b("tweetnacl-auth-1.0.1")()}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/yKsQCAUqcFZ/
 */
__d("dexie-4.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.Dexie=c())})(this,function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return b(a,c)};function c(a,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");b(a,c);function d(){this.constructor=a}a.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}var d=function(){d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return d.apply(this,arguments)};function e(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))}var f=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:a,g=Object.keys,h=Array.isArray;typeof Promise!=="undefined"&&!f.Promise&&(f.Promise=Promise);function i(a,b){if(typeof b!=="object")return a;g(b).forEach(function(c){a[c]=b[c]});return a}var j=Object.getPrototypeOf,k={}.hasOwnProperty;function l(a,b){return k.call(a,b)}function m(a,b){typeof b==="function"&&(b=b(j(a))),(typeof Reflect==="undefined"?g:Reflect.ownKeys)(b).forEach(function(c){o(a,c,b[c])})}var n=Object.defineProperty;function o(a,b,c,d){n(a,b,i(c&&l(c,"get")&&typeof c.get==="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function p(a){return{from:function(b){a.prototype=Object.create(b.prototype);o(a.prototype,"constructor",a);return{extend:m.bind(null,a.prototype)}}}}var q=Object.getOwnPropertyDescriptor;function r(a,b){var c=q(a,b);return c||(c=j(a))&&r(c,b)}var s=[].slice;function t(a,b,c){return s.call(a,b,c)}function u(a,b){return b(a)}function v(a){if(!a)throw new Error("Assertion Failed")}function aa(a){f.setImmediate?setImmediate(a):setTimeout(a,0)}function ba(a,b){return a.reduce(function(a,c,d){c=b(c,d);c&&(a[c[0]]=c[1]);return a},{})}function w(a,b){if(typeof b==="string"&&l(a,b))return a[b];if(!b)return a;if(typeof b!=="string"){var c=[];for(var d=0,e=b.length;d<e;++d){var f=w(a,b[d]);c.push(f)}return c}f=b.indexOf(".");if(f!==-1){d=a[b.substr(0,f)];return d==null?void 0:w(d,b.substr(f+1))}return void 0}function x(a,b,c){if(!a||b===void 0)return;if("isFrozen"in Object&&Object.isFrozen(a))return;if(typeof b!=="string"&&"length"in b){v(typeof c!=="string"&&"length"in c);for(var d=0,e=b.length;d<e;++d)x(a,b[d],c[d])}else{d=b.indexOf(".");if(d!==-1){e=b.substr(0,d);d=b.substr(d+1);if(d==="")c===void 0?h(a)&&!isNaN(parseInt(e))?a.splice(e,1):delete a[e]:a[e]=c;else{var f=a[e];(!f||!l(a,e))&&(f=a[e]={});x(f,d,c)}}else c===void 0?h(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=c}}function ca(a,b){typeof b==="string"?x(a,b,void 0):"length"in b&&[].map.call(b,function(b){x(a,b,void 0)})}function da(a){var b={};for(var c in a)l(a,c)&&(b[c]=a[c]);return b}var ea=[].concat;function fa(a){return ea.apply([],a)}var y="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fa([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(b){return b+a+"Array"})}))).filter(function(a){return f[a]}),ga=new Set(y.map(function(a){return f[a]}));function ha(a){var b={};for(var c in a)if(l(a,c)){var d=a[c];b[c]=!d||typeof d!=="object"||ga.has(d.constructor)?d:ha(d)}return b}function ia(a){for(var b in a)if(l(a,b))return!1;return!0}var ja=null;function z(a){ja=new WeakMap();a=ka(a);ja=null;return a}function ka(a){if(!a||typeof a!=="object")return a;var b=ja.get(a);if(b)return b;if(h(a)){b=[];ja.set(a,b);for(var c=0,d=a.length;c<d;++c)b.push(ka(a[c]))}else if(ga.has(a.constructor))b=a;else{c=j(a);b=c===Object.prototype?{}:Object.create(c);ja.set(a,b);for(d in a)l(a,d)&&(b[d]=ka(a[d]))}return b}var la={}.toString;function ma(a){return la.call(a).slice(8,-1)}var na=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator",oa=typeof na==="symbol"?function(a){var b;return a!=null&&(b=a[na])&&b.apply(a)}:function(){return null};function A(a,b){b=a.indexOf(b);b>=0&&a.splice(b,1);return b>=0}var pa={};function B(a){var b,c,d,e;if(arguments.length===1){if(h(a))return a.slice();if(this===pa&&typeof a==="string")return[a];if(e=oa(a)){c=[];while(d=e.next(),!d.done)c.push(d.value);return c}if(a==null)return[a];b=a.length;if(typeof b==="number"){c=new Array(b);while(b--)c[b]=a[b];return c}return[a]}b=arguments.length;c=new Array(b);while(b--)c[b]=arguments[b];return c}var qa=typeof Symbol!=="undefined"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1};y=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var C=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];y=y.concat(C);var ra={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function sa(a,b){this.name=a,this.message=b}p(sa).from(Error).extend({toString:function(){return this.name+": "+this.message}});function ta(a,b){return a+". Errors: "+Object.keys(b).map(function(a){return b[a].toString()}).filter(function(a,b,c){return c.indexOf(a)===b}).join("\n")}function ua(a,b,c,d){this.failures=b,this.failedKeys=d,this.successCount=c,this.message=ta(a,b)}p(ua).from(sa);function va(a,b){this.name="BulkError",this.failures=Object.keys(b).map(function(a){return b[a]}),this.failuresByPos=b,this.message=ta(a,this.failures)}p(va).from(sa);var wa=y.reduce(function(a,b){return a[b]=b+"Error",a},{}),xa=sa,D=y.reduce(function(b,c){var d=c+"Error";function a(a,b){this.name=d,!a?(this.message=ra[c]||d,this.inner=null):typeof a==="string"?(this.message="".concat(a).concat(b?"\n "+b:""),this.inner=b||null):typeof a==="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a)}p(a).from(xa);b[c]=a;return b},{});D.Syntax=SyntaxError;D.Type=TypeError;D.Range=RangeError;var ya=C.reduce(function(a,b){a[b+"Error"]=D[b];return a},{});function za(a,b){if(!a||a instanceof sa||a instanceof TypeError||a instanceof SyntaxError||!a.name||!ya[a.name])return a;b=new ya[a.name](b||a.message,a);"stack"in a&&o(b,"stack",{get:function(){return this.inner.stack}});return b}C=y.reduce(function(a,b){["Syntax","Type","Range"].indexOf(b)===-1&&(a[b+"Error"]=D[b]);return a},{});C.ModifyError=ua;C.DexieError=sa;C.BulkError=va;function E(){}function Aa(a){return a}function Ba(a,b){return a==null||a===Aa?b:function(c){return b(a(c))}}function F(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function Ca(a,b){return a===E?b:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,e=this.onerror;this.onsuccess=null;this.onerror=null;var f=b.apply(this,arguments);d&&(this.onsuccess=this.onsuccess?F(d,this.onsuccess):d);e&&(this.onerror=this.onerror?F(e,this.onerror):e);return f!==void 0?f:c}}function Da(a,b){return a===E?b:function(){a.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null;b.apply(this,arguments);c&&(this.onsuccess=this.onsuccess?F(c,this.onsuccess):c);d&&(this.onerror=this.onerror?F(d,this.onerror):d)}}function Ea(a,b){return a===E?b:function(c){var d=a.apply(this,arguments);i(c,d);var e=this.onsuccess,f=this.onerror;this.onsuccess=null;this.onerror=null;var g=b.apply(this,arguments);e&&(this.onsuccess=this.onsuccess?F(e,this.onsuccess):e);f&&(this.onerror=this.onerror?F(f,this.onerror):f);return d===void 0?g===void 0?void 0:g:i(d,g)}}function Fa(a,b){return a===E?b:function(){return b.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function Ga(a,b){return a===E?b:function(){var c=a.apply(this,arguments);if(c&&typeof c.then==="function"){var d=this,e=arguments.length,f=new Array(e);while(e--)f[e]=arguments[e];return c.then(function(){return b.apply(d,f)})}return b.apply(this,arguments)}}var G=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ha(a,b){G=a}var Ia={},Ja=100;y=typeof Promise==="undefined"?[]:function(){var a=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[a,j(a),a];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,j(b),a]}();var Ka=y[0],H=y[1];y=y[2];H=H&&H.then;var La=Ka&&Ka.constructor,Ma=!!y;function Na(){queueMicrotask(db)}var Oa=function(a,b){Ua.push([a,b]),Qa&&(Na(),Qa=!1)},Pa=!0,Qa=!0,Ra=[],Sa=[],Ta=Aa,I={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:E,pgp:!1,env:{},finalize:E},J=I,Ua=[],Va=0,Wa=[];function K(a){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this._lib=!1;var b=this._PSD=J;if(typeof a!=="function"){if(a!==Ia)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];this._state===!1&&$a(this,this._value);return}this._state=null;this._value=null;++b.ref;Za(this,a)}var Xa={get:function(){var a=J,b=ob;function c(c,d){var e=this,f=!a.global&&(a!==J||b!==ob),g=f&&!O(),h=new K(function(b,h){bb(e,new Ya(wb(c,a,f,g),wb(d,a,f,g),b,h,a))});this._consoleTask&&(h._consoleTask=this._consoleTask);return h}c.prototype=Ia;return c},set:function(a){o(this,"then",a&&a.prototype===Ia?Xa:{get:function(){return a},set:Xa.set})}};m(K.prototype,{then:Xa,_then:function(a,b){bb(this,new Ya(null,null,a,b,J))},"catch":function(b){if(arguments.length===1)return this.then(null,b);var a=arguments[0],c=arguments[1];return typeof a==="function"?this.then(null,function(b){return b instanceof a?c(b):kb(b)}):this.then(null,function(b){return b&&b.name===a?c(b):kb(b)})},"finally":function(a){return this.then(function(b){return K.resolve(a()).then(function(){return b})},function(b){return K.resolve(a()).then(function(){return kb(b)})})},timeout:function(a,b){var c=this;return a<Infinity?new K(function(d,e){var f=setTimeout(function(){return e(new D.Timeout(b))},a);c.then(d,e)["finally"](clearTimeout.bind(null,f))}):this}});typeof Symbol!=="undefined"&&Symbol.toStringTag&&o(K.prototype,Symbol.toStringTag,"Dexie.Promise");I.env=ub();function Ya(a,b,c,d,e){this.onFulfilled=typeof a==="function"?a:null,this.onRejected=typeof b==="function"?b:null,this.resolve=c,this.reject=d,this.psd=e}m(K,{all:function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.length===0&&b([]);var d=a.length;a.forEach(function(e,f){return K.resolve(e).then(function(c){a[f]=c,--d||b(a)},c)})})},resolve:function(a){if(a instanceof K)return a;if(a&&typeof a.then==="function")return new K(function(b,c){a.then(b,c)});var b=new K(Ia,!0,a);return b},reject:kb,race:function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.map(function(a){return K.resolve(a).then(b,c)})})},PSD:{get:function(){return J},set:function(a){return J=a}},totalEchoes:{get:function(){return ob}},newPSD:N,usePSD:vb,scheduler:{get:function(){return Oa},set:function(a){Oa=a}},rejectionMapper:{get:function(){return Ta},set:function(a){Ta=a}},follow:function(a,b){return new K(function(c,d){return N(function(b,c){var d=J;d.unhandleds=[];d.onunhandled=c;d.finalize=F(function(){var a=this;hb(function(){a.unhandleds.length===0?b():c(a.unhandleds[0])})},d.finalize);a()},b,c,d)})}});La&&(La.allSettled&&o(K,"allSettled",function(){var a=B.apply(null,arguments).map(rb);return new K(function(b){a.length===0&&b([]);var c=a.length,d=new Array(c);a.forEach(function(a,e){return K.resolve(a).then(function(a){return d[e]={status:"fulfilled",value:a}},function(a){return d[e]={status:"rejected",reason:a}}).then(function(){return--c||b(d)})})})}),La.any&&typeof AggregateError!=="undefined"&&o(K,"any",function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.length===0&&c(new AggregateError([]));var d=a.length,e=new Array(d);a.forEach(function(a,f){return K.resolve(a).then(function(a){return b(a)},function(a){e[f]=a,--d||c(new AggregateError(e))})})})}));function Za(a,b){try{b(function(b){if(a._state!==null)return;if(b===a)throw new TypeError("A promise cannot be resolved with itself.");var c=a._lib&&eb();b&&typeof b.then==="function"?Za(a,function(a,c){b instanceof K?b._then(a,c):b.then(a,c)}):(a._state=!0,a._value=b,ab(a));c&&fb()},$a.bind(null,a))}catch(b){$a(a,b)}}function $a(a,b){Sa.push(b);if(a._state!==null)return;var c=a._lib&&eb();b=Ta(b);a._state=!1;a._value=b;ib(a);ab(a);c&&fb()}function ab(a){var b=a._listeners;a._listeners=[];for(var c=0,d=b.length;c<d;++c)bb(a,b[c]);c=a._PSD;--c.ref||c.finalize();Va===0&&(++Va,Oa(function(){--Va===0&&gb()},[]))}function bb(a,b){if(a._state===null){a._listeners.push(b);return}var c=a._state?b.onFulfilled:b.onRejected;if(c===null)return(a._state?b.resolve:b.reject)(a._value);++b.psd.ref;++Va;Oa(cb,[c,a,b])}function cb(a,b,c){try{var d,e=b._value;!b._state&&Sa.length&&(Sa=[]);d=G&&b._consoleTask?b._consoleTask.run(function(){return a(e)}):a(e);!b._state&&Sa.indexOf(e)===-1&&jb(b);c.resolve(d)}catch(a){c.reject(a)}finally{--Va===0&&gb(),--c.psd.ref||c.psd.finalize()}}function db(){vb(I,function(){eb()&&fb()})}function eb(){var a=Pa;Pa=!1;Qa=!1;return a}function fb(){var a,b,c;do while(Ua.length>0){a=Ua;Ua=[];c=a.length;for(b=0;b<c;++b){var d=a[b];d[0].apply(null,d[1])}}while(Ua.length>0);Pa=!0;Qa=!0}function gb(){var a=Ra;Ra=[];a.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});a=Wa.slice(0);var b=a.length;while(b)a[--b]()}function hb(a){function b(){a(),Wa.splice(Wa.indexOf(b),1)}Wa.push(b);++Va;Oa(function(){--Va===0&&gb()},[])}function ib(a){Ra.some(function(b){return b._value===a._value})||Ra.push(a)}function jb(a){var b=Ra.length;while(b)if(Ra[--b]._value===a._value){Ra.splice(b,1);return}}function kb(a){return new K(Ia,!1,a)}function L(a,b){var c=J;return function(){var d=eb(),e=J;try{P(c,!0);return a.apply(this,arguments)}catch(a){b&&b(a)}finally{P(e,!1),d&&fb()}}}var M={awaits:0,echoes:0,id:0},lb=0,mb=[],nb=0,ob=0,pb=0;function N(b,a,c,d){var e=J,f=Object.create(e);f.parent=e;f.ref=0;f.global=!1;f.id=++pb;I.env;f.env=Ma?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject}:{};a&&i(f,a);++e.ref;f.finalize=function(){--this.parent.ref||this.parent.finalize()};a=vb(f,b,c,d);f.ref===0&&f.finalize();return a}function qb(){M.id||(M.id=++lb);++M.awaits;M.echoes+=Ja;return M.id}function O(){if(!M.awaits)return!1;--M.awaits===0&&(M.id=0);M.echoes=M.awaits*Ja;return!0}(""+H).indexOf("[native code]")===-1&&(qb=O=E);function rb(a){if(M.echoes&&a&&a.constructor===La){qb();return a.then(function(a){O();return a},function(a){O();return Q(a)})}return a}function sb(a){++ob,(!M.echoes||--M.echoes===0)&&(M.echoes=M.awaits=M.id=0),mb.push(J),P(a,!0)}function tb(){var a=mb[mb.length-1];mb.pop();P(a,!1)}function P(a,b){var c=J;(b?M.echoes&&(!nb++||a!==J):nb&&(!--nb||a!==J))&&queueMicrotask(b?sb.bind(null,a):tb);if(a===J)return;J=a;c===I&&(I.env=ub());if(Ma){b=I.env.Promise;var d=a.env;(c.global||a.global)&&(Object.defineProperty(f,"Promise",d.PromiseProp),b.all=d.all,b.race=d.race,b.resolve=d.resolve,b.reject=d.reject,d.allSettled&&(b.allSettled=d.allSettled),d.any&&(b.any=d.any))}}function ub(){var a=f.Promise;return Ma?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function vb(a,b,c,d,e){var f=J;try{P(a,!0);return b(c,d,e)}finally{P(f,!1)}}function wb(a,b,c,d){return typeof a!=="function"?a:function(){var e=J;c&&qb();P(b,!0);try{return a.apply(this,arguments)}finally{P(e,!1),d&&queueMicrotask(O)}}}function xb(a){Promise===La&&M.echoes===0?nb===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}var Q=K.reject;function yb(a,b,c,d){if(!a.idbdb||!a._state.openComplete&&!J.letThrough&&!a._vip){if(a._state.openComplete)return Q(new D.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return Q(new D.DatabaseClosed());a.open()["catch"](E)}return a._state.dbReadyPromise.then(function(){return yb(a,b,c,d)})}else{var e=a._createTransaction(b,c,a._dbSchema);try{e.create(),a._state.PR1398_maxLoop=3}catch(e){if(e.name===wa.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a.close({disableAutoOpen:!1});return a.open().then(function(){return yb(a,b,c,d)})}return Q(e)}return e._promise(b,function(a,b){return N(function(){J.trans=e;return d(a,b,e)})}).then(function(a){if(b==="readwrite")try{e.idbtrans.commit()}catch(a){}return b==="readonly"?a:e._completion.then(function(){return a})})}}Ka="4.0.1";var zb=String.fromCharCode(65535),Ab=-Infinity,R="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Bb="String expected.",Cb=[],Db="__dbnames",Eb="readonly",Fb="readwrite";function Gb(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}var Hb={type:3,lower:-Infinity,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ib(a){return typeof a==="string"&&!/\./.test(a)?function(b){b[a]===void 0&&a in b&&(b=z(b),delete b[a]);return b}:function(a){return a}}function Jb(){throw D.Type()}function S(a,b){try{var c=Mb(a),d=Mb(b);if(c!==d){if(c==="Array")return 1;if(d==="Array")return-1;if(c==="binary")return 1;if(d==="binary")return-1;if(c==="string")return 1;if(d==="string")return-1;if(c==="Date")return 1;return d!=="Date"?NaN:-1}switch(c){case"number":case"Date":case"string":return a>b?1:a<b?-1:0;case"binary":return Lb(Nb(a),Nb(b));case"Array":return Kb(a,b)}}catch(a){}return NaN}function Kb(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f){var g=S(a[f],b[f]);if(g!==0)return g}return c===d?0:c<d?-1:1}function Lb(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f)if(a[f]!==b[f])return a[f]<b[f]?-1:1;return c===d?0:c<d?-1:1}function Mb(a){var b=typeof a;if(b!=="object")return b;if(ArrayBuffer.isView(a))return"binary";b=ma(a);return b==="ArrayBuffer"?"binary":b}function Nb(a){if(a instanceof Uint8Array)return a;return ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var Ob=function(){function a(){}a.prototype._trans=function(b,c,d){var e=this._tx||J.trans,f=this.name,a=G&&typeof console!=="undefined"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function g(b,d,a){if(!a.schema[f])throw new D.NotFound("Table "+f+" not part of transaction");return c(a.idbtrans,a)}var h=eb();try{var i=e&&e.db._novip===this.db._novip?e===J.trans?e._promise(b,g,d):N(function(){return e._promise(b,g,d)},{trans:e,transless:J.transless||J}):yb(this.db,b,[this.name],g);a&&(i._consoleTask=a,i=i["catch"](function(a){console.trace(a);return Q(a)}));return i}finally{h&&fb()}};a.prototype.get=function(a,b){var c=this;if(a&&a.constructor===Object)return this.where(a).first(b);return a==null?Q(new D.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return c.core.get({trans:b,key:a}).then(function(a){return c.hook.reading.fire(a)})}).then(b)};a.prototype.where=function(a){if(typeof a==="string")return new this.db.WhereClause(this,a);if(h(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var b=g(a);if(b.length===1)return this.where(b[0]).equals(a[b[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(a){if(a.compound&&b.every(function(b){return a.keyPath.indexOf(b)>=0})){for(var c=0;c<b.length;++c)if(b.indexOf(a.keyPath[c])===-1)return!1;return!0}return!1}).sort(function(a,b){return a.keyPath.length-b.keyPath.length})[0];if(c&&this.db._maxKey!==zb){var d=c.keyPath.slice(0,b.length);return this.where(d).equals(d.map(function(b){return a[b]}))}!c&&G&&!1;var e=this.schema.idxByName,f=this.db._deps.indexedDB;function i(a,b){return f.cmp(a,b)===0}d=b.reduce(function(b,c){var d=b[0];b=b[1];var f=e[c],g=a[c];return[d||f,d||!f?Gb(b,f&&f.multi?function(a){a=w(a,c);return h(a)&&a.some(function(a){return i(g,a)})}:function(a){return i(g,w(a,c))}):b]},[null,null]);var j=d[0];d=d[1];return j?this.where(j.name).equals(a[j.keyPath]).filter(d):c?this.filter(d):this.where(b).equals("")};a.prototype.filter=function(a){return this.toCollection().and(a)};a.prototype.count=function(a){return this.toCollection().count(a)};a.prototype.offset=function(a){return this.toCollection().offset(a)};a.prototype.limit=function(a){return this.toCollection().limit(a)};a.prototype.each=function(a){return this.toCollection().each(a)};a.prototype.toArray=function(a){return this.toCollection().toArray(a)};a.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};a.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,h(a)?"[".concat(a.join("+"),"]"):a))};a.prototype.reverse=function(){return this.toCollection().reverse()};a.prototype.mapToClass=function(a){var b=this,d=b.db,e=b.name;this.schema.mappedClass=a;a.prototype instanceof Jb&&(a=function(a){c(b,a);function b(){return a!==null&&a.apply(this,arguments)||this}Object.defineProperty(b.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0});b.prototype.table=function(){return e};return b}(a));var f=new Set();for(b=a.prototype;b;b=j(b))Object.getOwnPropertyNames(b).forEach(function(a){return f.add(a)});b=function(b){if(!b)return b;var c=Object.create(a.prototype);for(var d in b)if(!f.has(d))try{c[d]=b[d]}catch(a){}return c};this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook);this.schema.readHook=b;this.hook("reading",b);return a};a.prototype.defineClass=function(){function a(a){i(this,a)}return this.mapToClass(a)};a.prototype.add=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Ib(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"add",keys:b!=null?[b]:null,values:[g]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype.update=function(a,b){if(typeof a==="object"&&!h(a)){var c=w(a,this.schema.primKey.keyPath);return c===void 0?Q(new D.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(b)}else return this.where(":id").equals(a).modify(b)};a.prototype.put=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Ib(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"put",values:[g],keys:b!=null?[b]:null})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype["delete"]=function(a){var b=this;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.clear=function(){var a=this;return this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"deleteRange",range:Hb})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.bulkGet=function(a){var b=this;return this._trans("readonly",function(c){return b.core.getMany({keys:a,trans:c}).then(function(a){return a.map(function(a){return b.hook.reading.fire(a)})})})};a.prototype.bulkAdd=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Ib(d)):b;return e.core.mutate({trans:c,type:"add",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new va("".concat(e.name,".bulkAdd(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkPut=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Ib(d)):b;return e.core.mutate({trans:c,type:"put",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new va("".concat(e.name,".bulkPut(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkUpdate=function(b){var c=this,d=this.core,a=b.map(function(a){return a.key}),e=b.map(function(a){return a.changes}),f=[];return this._trans("readwrite",function(g){return d.getMany({trans:g,keys:a,cache:"clone"}).then(function(h){var i=[],j=[];b.forEach(function(a,b){var d=a.key;a=a.changes;var e=h[b];if(e){for(var g=0,k=Object.keys(a);g<k.length;g++){var l=k[g],m=a[l];if(l===c.schema.primKey.keyPath){if(S(m,d)!==0)throw new D.Constraint("Cannot update primary key in bulkUpdate()")}else x(e,l,m)}f.push(b);i.push(d);j.push(e)}});var k=i.length;return d.mutate({trans:g,type:"put",keys:i,values:j,updates:{keys:a,changeSpecs:e}}).then(function(a){var b=a.numFailures;a=a.failures;if(b===0)return k;for(var d=0,e=Object.keys(a);d<e.length;d++){var g=e[d],h=f[Number(g)];if(h!=null){var i=a[g];delete a[g];a[h]=i}}throw new va("".concat(c.name,".bulkUpdate(): ").concat(b," of ").concat(k," operations failed"),a)})})})};a.prototype.bulkDelete=function(a){var b=this,c=a.length;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:a})}).then(function(a){var d=a.numFailures,e=a.lastResult;a=a.failures;if(d===0)return e;throw new va("".concat(b.name,".bulkDelete(): ").concat(d," of ").concat(c," operations failed"),a)})};return a}();function Pb(a){var b={},c=function(d,e){if(e){var c=arguments.length,f=new Array(c-1);while(--c)f[c-1]=arguments[c];b[d].subscribe.apply(null,f);return a}else if(typeof d==="string")return b[d]};c.addEventType=f;for(var d=1,e=arguments.length;d<e;++d)f(arguments[d]);return c;function f(a,d,e){if(typeof a==="object")return i(a);d||(d=Fa);e||(e=E);var f={subscribers:[],fire:e,subscribe:function(a){f.subscribers.indexOf(a)===-1&&(f.subscribers.push(a),f.fire=d(f.fire,a))},unsubscribe:function(a){f.subscribers=f.subscribers.filter(function(b){return b!==a}),f.fire=f.subscribers.reduce(d,e)}};b[a]=c[a]=f;return f}function i(a){g(a).forEach(function(b){var c=a[b];if(h(c))f(b,a[b][0],a[b][1]);else if(c==="asap")var d=f(b,Aa,function(){var a=arguments.length,b=new Array(a);while(a--)b[a]=arguments[a];d.subscribers.forEach(function(a){aa(function(){a.apply(null,b)})})});else throw new D.InvalidArgument("Invalid event config")})}}function Qb(a,b){p(b).from({prototype:a});return b}function Rb(a){return Qb(Ob.prototype,function(b,c,d){this.db=a,this._tx=d,this.name=b,this.schema=c,this.hook=a._allTables[b]?a._allTables[b].hook:Pb(null,{creating:[Ca,E],reading:[Ba,Aa],updating:[Ea,E],deleting:[Da,E]})})}function Sb(a,b){return!(a.filter||a.algorithm||a.or)&&(b?a.justLimit:!a.replayFilter)}function Tb(a,b){a.filter=Gb(a.filter,b)}function Ub(a,b,c){var d=a.replayFilter;a.replayFilter=d?function(){return Gb(d(),b())}:b;a.justLimit=c&&!d}function Vb(a,b){a.isMatch=Gb(a.isMatch,b)}function Wb(a,b){if(a.isPrimKey)return b.primaryKey;var c=b.getIndexByKeyPath(a.index);if(!c)throw new D.Schema("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return c}function Xb(a,b,c){var d=Wb(a,b.schema);return b.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:d,range:a.range}})}function Yb(a,b,c,d){var e=a.replayFilter?Gb(a.filter,a.replayFilter()):a.filter;if(!a.or)return Zb(Xb(a,d,c),Gb(a.algorithm,e),b,!a.keysOnly&&a.valueMapper);else{var f={},g=function(a,c,d){if(!e||e(c,d,function(a){return c.stop(a)},function(a){return c.fail(a)})){var g=c.primaryKey,h=""+g;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(g));l(f,h)||(f[h]=!0,b(a,c,d))}};return Promise.all([a.or._iterate(g,c),Zb(Xb(a,d,c),a.algorithm,g,!a.keysOnly&&a.valueMapper)])}}function Zb(a,b,c,d){var e=d?function(a,b,e){return c(d(a),b,e)}:c,f=L(e);return a.then(function(a){if(a)return a.start(function(){var c=function(){return a["continue"]()};(!b||b(a,function(a){return c=a},function(b){a.stop(b),c=E},function(b){a.fail(b),c=E}))&&f(a.value,a,function(a){return c=a});c()})})}y=Symbol();var $b=function(){function a(a){Object.assign(this,a)}a.prototype.execute=function(a){var b;b=(b=this.replacePrefix)===null||b===void 0?void 0:b[0];return b&&typeof a==="string"&&a.startsWith(b)?this.replacePrefix[1]+a.substring(b.length):a};return a}(),ac=function(){function a(){}a.prototype._read=function(a,b){var c=this._ctx;return c.error?c.table._trans(null,Q.bind(null,c.error)):c.table._trans("readonly",a).then(b)};a.prototype._write=function(a){var b=this._ctx;return b.error?b.table._trans(null,Q.bind(null,b.error)):b.table._trans("readwrite",a,"locked")};a.prototype._addAlgorithm=function(a){var b=this._ctx;b.algorithm=Gb(b.algorithm,a)};a.prototype._iterate=function(a,b){return Yb(this._ctx,a,b,this._ctx.table.core)};a.prototype.clone=function(a){var b=Object.create(this.constructor.prototype),c=Object.create(this._ctx);a&&i(c,a);b._ctx=c;return b};a.prototype.raw=function(){this._ctx.valueMapper=null;return this};a.prototype.each=function(a){var b=this._ctx;return this._read(function(c){return Yb(b,a,c,b.table.core)})};a.prototype.count=function(a){var b=this;return this._read(function(a){var c=b._ctx,d=c.table.core;if(Sb(c,!0))return d.count({trans:a,query:{index:Wb(c,d.schema),range:c.range}}).then(function(a){return Math.min(a,c.limit)});else{var e=0;return Yb(c,function(){++e;return!1},a,d).then(function(){return e})}}).then(a)};a.prototype.sortBy=function(a,b){var c=a.split(".").reverse(),d=c[0],e=c.length-1;function f(a,b){return b?f(a[c[b]],b-1):a[d]}var g=this._ctx.dir==="next"?1:-1;function h(a,b){a=f(a,e);b=f(b,e);return a<b?-g:a>b?g:0}return this.toArray(function(a){return a.sort(h)}).then(b)};a.prototype.toArray=function(a){var b=this;return this._read(function(a){var c=b._ctx;if(c.dir==="next"&&Sb(c,!0)&&c.limit>0){var d=c.valueMapper,e=Wb(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:e,range:c.range}}).then(function(a){a=a.result;return d?a.map(d):a})}else{var f=[];return Yb(c,function(a){return f.push(a)},a,c.table.core).then(function(){return f})}},a)};a.prototype.offset=function(a){var b=this._ctx;if(a<=0)return this;b.offset+=a;Sb(b)?Ub(b,function(){var b=a;return function(a,c){if(b===0)return!0;if(b===1){--b;return!1}c(function(){a.advance(b),b=0});return!1}}):Ub(b,function(){var b=a;return function(){return--b<0}});return this};a.prototype.limit=function(a){this._ctx.limit=Math.min(this._ctx.limit,a);Ub(this._ctx,function(){var b=a;return function(a,c,d){--b<=0&&c(d);return b>=0}},!0);return this};a.prototype.until=function(a,b){Tb(this._ctx,function(c,d,e){if(a(c.value)){d(e);return b}else return!0});return this};a.prototype.first=function(a){return this.limit(1).toArray(function(a){return a[0]}).then(a)};a.prototype.last=function(a){return this.reverse().first(a)};a.prototype.filter=function(a){Tb(this._ctx,function(b){return a(b.value)});Vb(this._ctx,a);return this};a.prototype.and=function(a){return this.filter(a)};a.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)};a.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";this._ondirectionchange&&this._ondirectionchange(this._ctx.dir);return this};a.prototype.desc=function(){return this.reverse()};a.prototype.eachKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.key,c)})};a.prototype.eachUniqueKey=function(a){this._ctx.unique="unique";return this.eachKey(a)};a.prototype.eachPrimaryKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.primaryKey,c)})};a.prototype.keys=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.key)}).then(function(){return c}).then(a)};a.prototype.primaryKeys=function(a){var b=this._ctx;if(b.dir==="next"&&Sb(b,!0)&&b.limit>0)return this._read(function(a){var c=Wb(b,b.table.core.schema);return b.table.core.query({trans:a,values:!1,limit:b.limit,query:{index:c,range:b.range}})}).then(function(a){a=a.result;return a}).then(a);b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.primaryKey)}).then(function(){return c}).then(a)};a.prototype.uniqueKeys=function(a){this._ctx.unique="unique";return this.keys(a)};a.prototype.firstKey=function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)};a.prototype.lastKey=function(a){return this.reverse().firstKey(a)};a.prototype.distinct=function(){var a=this._ctx;a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var b={};Tb(this._ctx,function(a){a=a.primaryKey.toString();var c=l(b,a);b[a]=!0;return!c});return this};a.prototype.modify=function(a){var b=this,c=this._ctx;return this._write(function(d){var e;if(typeof a==="function")e=a;else{var f=g(a),h=f.length;e=function(b){var c=!1;for(var d=0;d<h;++d){var e=f[d],g=a[e],i=w(b,e);g instanceof $b?(x(b,e,g.execute(i)),c=!0):i!==g&&(x(b,e,g),c=!0)}return c}}var i=c.table.core,j=i.schema.primaryKey,k=j.outbound,l=j.extractKey,m=b.db._options.modifyChunkSize||200,n=[],o=0,p=[],q=function(a,b){var c=b.failures;b=b.numFailures;o+=a-b;for(a=0,b=g(c);a<b.length;a++){var d=b[a];n.push(c[d])}};return b.clone().primaryKeys().then(function(b){var f=function(g){var h=Math.min(m,b.length-g);return i.getMany({trans:d,keys:b.slice(g,g+h),cache:"immutable"}).then(function(j){var n=[],o=[],p=k?[]:null,r=[];for(var s=0;s<h;++s){var t=j[s],u={value:z(t),primKey:b[g+s]};e.call(u,u.value,u)!==!1&&(u.value==null?r.push(b[g+s]):!k&&S(l(t),l(u.value))!==0?(r.push(b[g+s]),n.push(u.value)):(o.push(u.value),k&&p.push(b[g+s])))}var v=Sb(c)&&c.limit===Infinity&&(typeof a!=="function"||a===bc)&&{index:c.index,range:c.range};return Promise.resolve(n.length>0&&i.mutate({trans:d,type:"add",values:n}).then(function(a){for(var b in a.failures)r.splice(parseInt(b),1);q(n.length,a)})).then(function(){return(o.length>0||v&&typeof a==="object")&&i.mutate({trans:d,type:"put",keys:p,values:o,criteria:v,changeSpec:typeof a!=="function"&&a}).then(function(a){return q(o.length,a)})}).then(function(){return(r.length>0||v&&a===bc)&&i.mutate({trans:d,type:"delete",keys:r,criteria:v}).then(function(a){return q(r.length,a)})}).then(function(){return b.length>g+h&&f(g+m)})})};return f(0).then(function(){if(n.length>0)throw new ua("Error modifying one or more objects",n,o,p);return b.length})})})};a.prototype["delete"]=function(){var a=this._ctx,b=a.range;return Sb(a)&&(a.isPrimKey||b.type===3)?this._write(function(c){var d=a.table.core.schema.primaryKey,e=b;return a.table.core.count({trans:c,query:{index:d,range:e}}).then(function(b){return a.table.core.mutate({trans:c,type:"deleteRange",range:e}).then(function(a){var c=a.failures;a.lastResult;a.results;a=a.numFailures;if(a)throw new ua("Could not delete some values",Object.keys(c).map(function(a){return c[a]}),b-a);return b-a})})}):this.modify(bc)};return a}(),bc=function(a,b){return b.value=null};function cc(a){return Qb(ac.prototype,function(b,c){this.db=a;var d=Hb,e=null;if(c)try{d=c()}catch(a){e=a}c=b._ctx;b=c.table;var f=b.hook.reading.fire;this._ctx={table:b,index:c.index,isPrimKey:!c.index||b.schema.primKey.keyPath&&c.index===b.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:e,or:c.or,valueMapper:f!==Aa?f:null}})}function dc(a,b){return a<b?-1:a===b?0:1}function ec(a,b){return a>b?-1:a===b?0:1}function T(a,b,c){a=a instanceof lc?new a.Collection(a):a;a._ctx.error=c?new c(b):new TypeError(b);return a}function fc(a){return new a.Collection(a,function(){return kc("")}).limit(0)}function gc(a){return a==="next"?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function hc(a){return a==="next"?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function ic(b,c,d,e,a,f){var g=Math.min(b.length,e.length),h=-1;for(var i=0;i<g;++i){var j=c[i];if(j!==e[i]){if(a(b[i],d[i])<0)return b.substr(0,i)+d[i]+d.substr(i+1);if(a(b[i],e[i])<0)return b.substr(0,i)+e[i]+d.substr(i+1);return h>=0?b.substr(0,h)+c[h]+d.substr(h+1):null}a(b[i],j)<0&&(h=i)}if(g<e.length&&f==="next")return b+d.substr(b.length);return g<b.length&&f==="prev"?b.substr(0,d.length):h<0?null:b.substr(0,h)+e[h]+d.substr(h+1)}function jc(a,b,c,d){var e,f,g,h,i,j,k,l=c.length;if(!c.every(function(a){return typeof a==="string"}))return T(a,Bb);function m(a){e=gc(a);f=hc(a);g=a==="next"?dc:ec;var b=c.map(function(a){return{lower:f(a),upper:e(a)}}).sort(function(a,b){return g(a.lower,b.lower)});h=b.map(function(a){return a.upper});i=b.map(function(a){return a.lower});j=a;k=a==="next"?"":d}m("next");a=new a.Collection(a,function(){return U(h[0],i[l-1]+d)});a._ondirectionchange=function(a){m(a)};var n=0;a._addAlgorithm(function(a,c,d){var e=a.key;if(typeof e!=="string")return!1;var m=f(e);if(b(m,i,n))return!0;else{var o=null;for(var p=n;p<l;++p){var q=ic(e,m,h[p],i[p],g,j);q===null&&o===null?n=p+1:(o===null||g(o,q)>0)&&(o=q)}o!==null?c(function(){a["continue"](o+k)}):c(d);return!1}});return a}function U(a,b,c,d){return{type:2,lower:a,upper:b,lowerOpen:c,upperOpen:d}}function kc(a){return{type:1,lower:a,upper:a}}var lc=function(){function a(){}Object.defineProperty(a.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0});a.prototype.between=function(a,b,c,d){c=c!==!1;d=d===!0;try{return this._cmp(a,b)>0||this._cmp(a,b)===0&&(c||d)&&!(c&&d)?fc(this):new this.Collection(this,function(){return U(a,b,!c,!d)})}catch(a){return T(this,R)}};a.prototype.equals=function(a){return a==null?T(this,R):new this.Collection(this,function(){return kc(a)})};a.prototype.above=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(a,void 0,!0)})};a.prototype.aboveOrEqual=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(a,void 0,!1)})};a.prototype.below=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(void 0,a,!1,!0)})};a.prototype.belowOrEqual=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(void 0,a)})};a.prototype.startsWith=function(a){return typeof a!=="string"?T(this,Bb):this.between(a,a+zb,!0,!0)};a.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):jc(this,function(a,b){return a.indexOf(b[0])===0},[a],zb)};a.prototype.equalsIgnoreCase=function(a){return jc(this,function(a,b){return a===b[0]},[a],"")};a.prototype.anyOfIgnoreCase=function(){var a=B.apply(pa,arguments);return a.length===0?fc(this):jc(this,function(a,b){return b.indexOf(a)!==-1},a,"")};a.prototype.startsWithAnyOfIgnoreCase=function(){var a=B.apply(pa,arguments);return a.length===0?fc(this):jc(this,function(a,b){return b.some(function(b){return a.indexOf(b)===0})},a,zb)};a.prototype.anyOf=function(){var a=this,b=B.apply(pa,arguments),c=this._cmp;try{b.sort(c)}catch(a){return T(this,R)}if(b.length===0)return fc(this);var d=new this.Collection(this,function(){return U(b[0],b[b.length-1])});d._ondirectionchange=function(d){c=d==="next"?a._ascending:a._descending,b.sort(c)};var e=0;d._addAlgorithm(function(a,d,f){var g=a.key;while(c(g,b[e])>0){++e;if(e===b.length){d(f);return!1}}if(c(g,b[e])===0)return!0;else{d(function(){a["continue"](b[e])});return!1}});return d};a.prototype.notEqual=function(a){return this.inAnyRange([[Ab,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})};a.prototype.noneOf=function(){var a=B.apply(pa,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch(a){return T(this,R)}var b=a.reduce(function(a,b){return a?a.concat([[a[a.length-1][1],b]]):[[Ab,b]]},null);b.push([a[a.length-1],this.db._maxKey]);return this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})};a.prototype.inAnyRange=function(c,d){var e=this,a=this._cmp,f=this._ascending,g=this._descending,h=this._min,i=this._max;if(c.length===0)return fc(this);if(!c.every(function(a){return a[0]!==void 0&&a[1]!==void 0&&f(a[0],a[1])<=0}))return T(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);var j=!d||d.includeLowers!==!1,k=d&&d.includeUppers===!0;function b(b,c){var d=0,e=b.length;for(;d<e;++d){var f=b[d];if(a(c[0],f[1])<0&&a(c[1],f[0])>0){f[0]=h(f[0],c[0]);f[1]=i(f[1],c[1]);break}}d===e&&b.push(c);return b}var l=f;function m(a,b){return l(a[0],b[0])}var n;try{n=c.reduce(b,[]),n.sort(m)}catch(a){return T(this,R)}var o=0,p=k?function(a){return f(a,n[o][1])>0}:function(a){return f(a,n[o][1])>=0},q=j?function(a){return g(a,n[o][0])>0}:function(a){return g(a,n[o][0])>=0};function r(a){return!p(a)&&!q(a)}var s=p;d=new this.Collection(this,function(){return U(n[0][0],n[n.length-1][1],!j,!k)});d._ondirectionchange=function(a){a==="next"?(s=p,l=f):(s=q,l=g),n.sort(m)};d._addAlgorithm(function(a,b,c){var d=a.key;while(s(d)){++o;if(o===n.length){b(c);return!1}}if(r(d))return!0;else if(e._cmp(d,n[o][1])===0||e._cmp(d,n[o][0])===0)return!1;else{b(function(){l===f?a["continue"](n[o][0]):a["continue"](n[o][1])});return!1}});return d};a.prototype.startsWithAnyOf=function(){var a=B.apply(pa,arguments);if(!a.every(function(a){return typeof a==="string"}))return T(this,"startsWithAnyOf() only works with strings");return a.length===0?fc(this):this.inAnyRange(a.map(function(a){return[a,a+zb]}))};return a}();function mc(a){return Qb(lc.prototype,function(b,c,d){this.db=a;this._ctx={table:b,index:c===":id"?null:c,or:d};this._cmp=this._ascending=S;this._descending=function(a,b){return S(b,a)};this._max=function(a,b){return S(a,b)>0?a:b};this._min=function(a,b){return S(a,b)<0?a:b};this._IDBKeyRange=a._deps.IDBKeyRange;if(!this._IDBKeyRange)throw new D.MissingAPI()})}function V(a){return L(function(b){nc(b);a(b.target.error);return!1})}function nc(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var oc="storagemutated",pc="x-storagemutated-1",W=Pb(null,oc),qc=function(){function a(){}a.prototype._lock=function(){v(!J.global);++this._reculock;this._reculock===1&&!J.global&&(J.lockOwnerFor=this);return this};a.prototype._unlock=function(){v(!J.global);if(--this._reculock===0){J.global||(J.lockOwnerFor=null);while(this._blockedFuncs.length>0&&!this._locked()){var a=this._blockedFuncs.shift();try{vb(a[1],a[0])}catch(a){}}}return this};a.prototype._locked=function(){return this._reculock&&J.lockOwnerFor!==this};a.prototype.create=function(a){var b=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;v(!this.idbtrans);if(!a&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new D.DatabaseClosed(d);case"MissingAPIError":throw new D.MissingAPI(d.message,d);default:throw new D.OpenFailed(d)}if(!this.active)throw new D.TransactionInactive();v(this._completion._state===null);a=this.idbtrans=a||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):c.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));a.onerror=L(function(c){nc(c),b._reject(a.error)});a.onabort=L(function(c){nc(c),b.active&&b._reject(new D.Abort(a.error)),b.active=!1,b.on("abort").fire(c)});a.oncomplete=L(function(){b.active=!1,b._resolve(),"mutatedParts"in a&&W.storagemutated.fire(a.mutatedParts)});return this};a.prototype._promise=function(a,b,c){var d=this;if(a==="readwrite"&&this.mode!=="readwrite")return Q(new D.ReadOnly("Transaction is readonly"));if(!this.active)return Q(new D.TransactionInactive());if(this._locked())return new K(function(e,f){d._blockedFuncs.push([function(){d._promise(a,b,c).then(e,f)},J])});else if(c)return N(function(){var a=new K(function(a,c){d._lock();var e=b(a,c,d);e&&e.then&&e.then(a,c)});a["finally"](function(){return d._unlock()});a._lib=!0;return a});else{var e=new K(function(a,c){var e=b(a,c,d);e&&e.then&&e.then(a,c)});e._lib=!0;return e}};a.prototype._root=function(){return this.parent?this.parent._root():this};a.prototype.waitFor=function(a){var b=this._root(),c=K.resolve(a);if(b._waitingFor)b._waitingFor=b._waitingFor.then(function(){return c});else{b._waitingFor=c;b._waitingQueue=[];var d=b.idbtrans.objectStore(b.storeNames[0]);(function a(){++b._spinCount;while(b._waitingQueue.length)b._waitingQueue.shift()();b._waitingFor&&(d.get(-Infinity).onsuccess=a)})()}var e=b._waitingFor;return new K(function(a,d){c.then(function(c){return b._waitingQueue.push(L(a.bind(null,c)))},function(a){return b._waitingQueue.push(L(d.bind(null,a)))})["finally"](function(){b._waitingFor===e&&(b._waitingFor=null)})})};a.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort()))};a.prototype.table=function(a){var b=this._memoizedTables||(this._memoizedTables={});if(l(b,a))return b[a];var c=this.schema[a];if(!c)throw new D.NotFound("Table "+a+" not part of transaction");c=new this.db.Table(a,c,this);c.core=this.db.core.table(a);b[a]=c;return c};return a}();function rc(a){return Qb(qc.prototype,function(b,c,d,e,f){var g=this;this.db=a;this.mode=b;this.storeNames=c;this.schema=d;this.chromeTransactionDurability=e;this.idbtrans=null;this.on=Pb(this,"complete","error","abort");this.parent=f||null;this.active=!0;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new K(function(a,b){g._resolve=a,g._reject=b});this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(a){var b=g.active;g.active=!1;g.on.error.fire(a);g.parent?g.parent._reject(a):b&&g.idbtrans&&g.idbtrans.abort();return Q(a)})})}function sc(a,b,c,d,e,f,g){return{name:a,keyPath:b,unique:c,multi:d,auto:e,compound:f,src:(c&&!g?"&":"")+(d?"*":"")+(e?"++":"")+tc(b)}}function tc(a){return typeof a==="string"?a:a?"["+[].join.call(a,"+")+"]":""}function uc(a,b,c){return{name:a,primKey:b,indexes:c,mappedClass:null,idxByName:ba(c,function(a){return[a.name,a]})}}function vc(a){return a.length===1?a[0]:a}var wc=function(a){try{a.only([[]]);wc=function(){return[[]]};return[[]]}catch(a){wc=function(){return zb};return zb}};function xc(a){if(a==null)return function(){return void 0};else if(typeof a==="string")return yc(a);else return function(b){return w(b,a)}}function yc(a){var b=a.split(".");if(b.length===1)return function(b){return b[a]};else return function(b){return w(b,a)}}function zc(a){return[].slice.call(a)}var Ac=0;function Bc(a){return a==null?":id":typeof a==="string"?a:"[".concat(a.join("+"),"]")}function Cc(a,b,c){function d(a,b){var c=zc(a.objectStoreNames);return{schema:{name:a.name,tables:c.map(function(a){return b.objectStore(a)}).map(function(a){var b=a.keyPath,c=a.autoIncrement,d=h(b),e=b==null,f={};e={name:a.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:e,compound:d,keyPath:b,autoIncrement:c,unique:!0,extractKey:xc(b)},indexes:zc(a.indexNames).map(function(b){return a.index(b)}).map(function(b){var c=b.name,d=b.unique,e=b.multiEntry;b=b.keyPath;var a=h(b);c={name:c,compound:a,keyPath:b,unique:d,multiEntry:e,extractKey:xc(b)};f[Bc(b)]=c;return c}),getIndexByKeyPath:function(a){return f[Bc(a)]}};f[":id"]=e.primaryKey;b!=null&&(f[Bc(b)]=e.primaryKey);return e})},hasGetAll:c.length>0&&"getAll"in b.objectStore(c[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function e(a){if(a.type===3)return null;if(a.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var c=a.lower,d=a.upper,e=a.lowerOpen;a=a.upperOpen;c=c===void 0?d===void 0?null:b.upperBound(d,!!a):d===void 0?b.lowerBound(c,!!e):b.bound(c,d,!!e,!!a);return c}function f(b){var c=b.name;function d(d){var f=d.trans,b=d.type,a=d.keys,g=d.values,h=d.range;return new Promise(function(d,i){d=L(d);i=f.objectStore(c);var j=i.keyPath==null,k=b==="put"||b==="add";if(!k&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var l=(a||g||{length:1}).length;if(a&&g&&a.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(l===0)return d({numFailures:0,failures:{},results:[],lastResult:void 0});var m,n=[],o=[],p=0,q=function(a){++p,nc(a)};if(b==="deleteRange"){if(h.type===4)return d({numFailures:p,failures:o,results:[],lastResult:void 0});h.type===3?n.push(m=i.clear()):n.push(m=i["delete"](e(h)))}else{j=k?j?[g,a]:[g,null]:[a,null];var r=j[0];j=j[1];if(k)for(k=0;k<l;++k)n.push(m=j&&j[k]!==void 0?i[b](r[k],j[k]):i[b](r[k])),m.onerror=q;else for(k=0;k<l;++k)n.push(m=i[b](r[k])),m.onerror=q}var s=function(c){c=c.target.result;n.forEach(function(a,b){return a.error!=null&&(o[b]=a.error)});d({numFailures:p,failures:o,results:b==="delete"?a:n.map(function(a){return a.result}),lastResult:c})};m.onerror=function(a){q(a),s(a)};m.onsuccess=s})}function a(b){var d=b.trans,f=b.values,a=b.query,g=b.reverse,h=b.unique;return new Promise(function(b,i){b=L(b);var j=a.index,k=a.range,l=d.objectStore(c);l=j.isPrimaryKey?l:l.index(j.name);j=g?h?"prevunique":"prev":h?"nextunique":"next";var m=f||!("openKeyCursor"in l)?l.openCursor(e(k),j):l.openKeyCursor(e(k),j);m.onerror=V(i);m.onsuccess=L(function(a){var c=m.result;if(!c){b(null);return}c.___id=++Ac;c.done=!1;var e=c["continue"].bind(c),f=c.continuePrimaryKey;f&&(f=f.bind(c));var g=c.advance.bind(c);a=function(){throw new Error("Cursor not started")};var h=function(){throw new Error("Cursor not stopped")};c.trans=d;c.stop=c["continue"]=c.continuePrimaryKey=c.advance=a;c.fail=L(i);c.next=function(){var a=this,b=1;return this.start(function(){return b--?a["continue"]():a.stop()}).then(function(){return a})};c.start=function(a){var b=new Promise(function(a,b){a=L(a),m.onerror=V(b),c.fail=b,c.stop=function(b){c.stop=c["continue"]=c.continuePrimaryKey=c.advance=h,a(b)}}),d=function(){if(m.result)try{a()}catch(a){c.fail(a)}else c.done=!0,c.start=function(){throw new Error("Cursor behind last entry")},c.stop()};m.onsuccess=L(function(a){m.onsuccess=d,d()});c["continue"]=e;c.continuePrimaryKey=f;c.advance=g;d();return b};b(c)},i)})}function f(a){return function(b){return new Promise(function(f,g){f=L(f);var h=b.trans,i=b.values,j=b.limit,d=b.query,k=j===Infinity?void 0:j,l=d.index;d=d.range;h=h.objectStore(c);h=l.isPrimaryKey?h:h.index(l.name);l=e(d);if(j===0)return f({result:[]});if(a){d=i?h.getAll(l,k):h.getAllKeys(l,k);d.onsuccess=function(a){return f({result:a.target.result})};d.onerror=V(g)}else{var m=0,n=i||!("openKeyCursor"in h)?h.openCursor(l):h.openKeyCursor(l),o=[];n.onsuccess=function(a){a=n.result;if(!a)return f({result:o});o.push(i?a.value:a.primaryKey);if(++m===j)return f({result:o});a["continue"]()};n.onerror=V(g)}})}}return{name:c,schema:b,mutate:d,getMany:function(b){var d=b.trans,a=b.keys;return new Promise(function(b,e){b=L(b);var f=d.objectStore(c),g=a.length,h=new Array(g),i=0,j=0,k=function(a){a=a.target;(h[a._pos]=a.result)!=null;++j===i&&b(h)};e=V(e);for(var l=0;l<g;++l){var m=a[l];m!=null&&(m=f.get(a[l]),m._pos=l,m.onsuccess=k,m.onerror=e,++i)}i===0&&b(h)})},get:function(a){var b=a.trans,d=a.key;return new Promise(function(a,e){a=L(a);var f=b.objectStore(c);f=f.get(d);f.onsuccess=function(b){return a(b.target.result)};f.onerror=V(e)})},query:f(g),openCursor:a,count:function(b){var a=b.query,d=b.trans,f=a.index,g=a.range;return new Promise(function(a,b){var h=d.objectStore(c);h=f.isPrimaryKey?h:h.index(f.name);var i=e(g);i=i?h.count(i):h.count();i.onsuccess=L(function(b){return a(b.target.result)});i.onerror=V(b)})}}}d=d(a,c);c=d.schema;var g=d.hasGetAll;d=c.tables.map(function(a){return f(a)});var i={};d.forEach(function(a){return i[a.name]=a});return{stack:"dbcore",transaction:a.transaction.bind(a),table:function(a){var b=i[a];if(!b)throw new Error("Table '".concat(a,"' not found"));return i[a]},MIN_KEY:-Infinity,MAX_KEY:wc(b),schema:c}}function Dc(a,b){return b.reduce(function(a,b){b=b.create;return d(d({},a),b(a))},a)}function Ec(a,b,c,d){var e=c.IDBKeyRange;c.indexedDB;c=Dc(Cc(b,e,d),a.dbcore);return{dbcore:c}}function Fc(a,b){var c=b.db;c=Ec(a._middlewares,c,a._deps,b);a.core=c.dbcore;a.tables.forEach(function(b){var c=b.name;a.core.schema.tables.some(function(a){return a.name===c})&&(b.core=a.core.table(c),a[c]instanceof a.Table&&(a[c].core=b.core))})}function Gc(a,b,c,d){c.forEach(function(c){var e=d[c];b.forEach(function(b){var d=r(b,c);(!d||"value"in d&&d.value===void 0)&&(b===a.Transaction.prototype||b instanceof a.Transaction?o(b,c,{get:function(){return this.table(c)},set:function(a){n(this,c,{value:a,writable:!0,configurable:!0,enumerable:!0})}}):b[c]=new a.Table(c,e))})})}function Hc(a,b){b.forEach(function(b){for(var c in b)b[c]instanceof a.Table&&delete b[c]})}function Ic(a,b){return a._cfg.version-b._cfg.version}function Jc(a,b,c,d){var e=a._dbSchema;c.objectStoreNames.contains("$meta")&&!e.$meta&&(e.$meta=uc("$meta",Wc("")[0],[]),a._storeNames.push("$meta"));var f=a._createTransaction("readwrite",a._storeNames,e);f.create(c);f._completion["catch"](d);var h=f._reject.bind(f),i=J.transless||J;N(function(){J.trans=f;J.transless=i;if(b===0)g(e).forEach(function(a){Oc(c,a,e[a].primKey,e[a].indexes)}),Fc(a,c),K.follow(function(){return a.on.populate.fire(f)})["catch"](h);else{Fc(a,c);return Lc(a,f,b).then(function(b){return Mc(a,b,f,c)})["catch"](h)}})}function Kc(a,b){Pc(a._dbSchema,b);b.db.version%10===0&&!b.objectStoreNames.contains("$meta")&&b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var c=Sc(a,a.idbdb,b);Vc(a,a._dbSchema,b);c=Nc(c,a._dbSchema);a=function(a){if(a.change.length||a.recreate)return{value:void 0};var c=b.objectStore(a.name);a.add.forEach(function(a){G&&!1,Rc(c,a)})};for(var d=0,c=c.change;d<c.length;d++){var e=c[d];e=a(e);if(typeof e==="object")return e.value}}function Lc(a,b,c){if(b.storeNames.includes("$meta"))return b.table("$meta").get("version").then(function(a){return a!=null?a:c});else return K.resolve(c)}function Mc(a,b,c,d){var e=[],f=a._versions,h=a._dbSchema=Sc(a,a.idbdb,d);f=f.filter(function(a){return a._cfg.version>=b});if(f.length===0)return K.resolve();f.forEach(function(f){e.push(function(){var e=h,i=f._cfg.dbschema;Vc(a,e,d);Vc(a,i,d);h=a._dbSchema=i;var j=Nc(e,i);j.add.forEach(function(a){Oc(d,a[0],a[1].primKey,a[1].indexes)});j.change.forEach(function(a){if(a.recreate)throw new D.Upgrade("Not yet support for changing primary key");else{var b=d.objectStore(a.name);a.add.forEach(function(a){return Rc(b,a)});a.change.forEach(function(a){b.deleteIndex(a.name),Rc(b,a)});a.del.forEach(function(a){return b.deleteIndex(a)})}});var k=f._cfg.contentUpgrade;if(k&&f._cfg.version>b){Fc(a,d);c._memoizedTables={};var l=da(i);j.del.forEach(function(a){l[a]=e[a]});Hc(a,[a.Transaction.prototype]);Gc(a,[a.Transaction.prototype],g(l),l);c.schema=l;var m=qa(k);m&&qb();var n;i=K.follow(function(){n=k(c);if(n&&m){var a=O.bind(null,null);n.then(a,a)}});return n&&typeof n.then==="function"?K.resolve(n):i.then(function(){return n})}}),e.push(function(b){var d=f._cfg.dbschema;Qc(d,b);Hc(a,[a.Transaction.prototype]);Gc(a,[a.Transaction.prototype],a._storeNames,a._dbSchema);c.schema=a._dbSchema}),e.push(function(b){a.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(a.idbdb.version/10)===f._cfg.version?(a.idbdb.deleteObjectStore("$meta"),delete a._dbSchema.$meta,a._storeNames=a._storeNames.filter(function(a){return a!=="$meta"})):b.objectStore("$meta").put(f._cfg.version,"version"))})});function i(){return e.length?K.resolve(e.shift()(c.idbtrans)).then(i):K.resolve()}return i().then(function(){Pc(h,d)})}function Nc(a,b){var c={del:[],add:[],change:[]},d;for(d in a)b[d]||c.del.push(d);for(d in b){var e=a[d],f=b[d];if(!e)c.add.push([d,f]);else{var g={name:d,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(e.primKey.keyPath||"")!==""+(f.primKey.keyPath||"")||e.primKey.auto!==f.primKey.auto)g.recreate=!0,c.change.push(g);else{e=e.idxByName;f=f.idxByName;var h;for(h in e)f[h]||g.del.push(h);for(h in f){var i=e[h],j=f[h];!i?g.add.push(j):i.src!==j.src&&g.change.push(j)}(g.del.length>0||g.add.length>0||g.change.length>0)&&c.change.push(g)}}}return c}function Oc(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});d.forEach(function(a){return Rc(e,a)});return e}function Pc(a,b){g(a).forEach(function(c){b.db.objectStoreNames.contains(c)||(G&&!1,Oc(b,c,a[c].primKey,a[c].indexes))})}function Qc(a,b){[].slice.call(b.db.objectStoreNames).forEach(function(c){return a[c]==null&&b.db.deleteObjectStore(c)})}function Rc(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function Sc(a,b,c){var d={};a=t(b.objectStoreNames,0);a.forEach(function(a){var b=c.objectStore(a),e=b.keyPath,f=sc(tc(e),e||"",!0,!1,!!b.autoIncrement,e&&typeof e!=="string",!0),g=[];for(var h=0;h<b.indexNames.length;++h){var i=b.index(b.indexNames[h]);e=i.keyPath;i=sc(i.name,e,!!i.unique,!!i.multiEntry,!1,e&&typeof e!=="string",!1);g.push(i)}d[a]=uc(a,f,g)});return d}function Tc(a,b,c){a.verno=b.version/10;c=a._dbSchema=Sc(a,b,c);a._storeNames=t(b.objectStoreNames,0);Gc(a,[a._allTables],g(c),c)}function Uc(a,b){b=Sc(a,a.idbdb,b);b=Nc(b,a._dbSchema);return!(b.add.length||b.change.some(function(a){return a.add.length||a.change.length}))}function Vc(a,b,c){var d=c.db.objectStoreNames;for(var e=0;e<d.length;++e){var g=d[e],h=c.objectStore(g);a._hasGetAll="getAll"in h;for(var i=0;i<h.indexNames.length;++i){var j=h.indexNames[i],k=h.index(j).keyPath;k=typeof k==="string"?k:"["+t(k).join("+")+"]";if(b[g]){var l=b[g].idxByName[k];l&&(l.name=j,delete b[g].idxByName[k],b[g].idxByName[j]=l)}}}typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Wc(a){return a.split(",").map(function(a,b){a=a.trim();var c=a.replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return sc(c,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),h(d),b===0)})}var Xc=function(){function a(){}a.prototype._parseStoresSpec=function(a,b){g(a).forEach(function(c){if(a[c]!==null){var d=Wc(a[c]),e=d.shift();e.unique=!0;if(e.multi)throw new D.Schema("Primary key cannot be multi-valued");d.forEach(function(a){if(a.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")});b[c]=uc(c,e,d)}})};a.prototype.stores=function(a){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,a):a;a=b._versions;var c={},d={};a.forEach(function(a){i(c,a._cfg.storesSource),d=a._cfg.dbschema={},a._parseStoresSpec(c,d)});b._dbSchema=d;Hc(b,[b._allTables,b,b.Transaction.prototype]);Gc(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],g(d),d);b._storeNames=g(d);return this};a.prototype.upgrade=function(a){this._cfg.contentUpgrade=Ga(this._cfg.contentUpgrade||E,a);return this};return a}();function Yc(a){return Qb(Xc.prototype,function(b){this.db=a,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Zc(a,b){var c=a._dbNamesDB;c||(c=a._dbNamesDB=new Y(Db,{addons:[],indexedDB:a,IDBKeyRange:b}),c.version(1).stores({dbnames:"name"}));return c.table("dbnames")}function $c(a){return a&&typeof a.databases==="function"}function ad(a){var b=a.indexedDB;a=a.IDBKeyRange;return $c(b)?Promise.resolve(b.databases()).then(function(a){return a.map(function(a){return a.name}).filter(function(a){return a!==Db})}):Zc(b,a).toCollection().primaryKeys()}function bd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!$c(c)&&b!==Db&&Zc(c,a).put({name:b})["catch"](E)}function cd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!$c(c)&&b!==Db&&Zc(c,a)["delete"](b)["catch"](E)}function dd(a){return N(function(){J.letThrough=!0;return a()})}function ed(){var a=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!a||!indexedDB.databases)return Promise.resolve();var b;return new Promise(function(a){var c=function(){return indexedDB.databases()["finally"](a)};b=setInterval(c,100);c()})["finally"](function(){return clearInterval(b)})}function fd(a){return!("from"in a)}var X=function(a,b){if(this)i(this,arguments.length?{d:1,from:a,to:arguments.length>1?b:a}:{d:0});else{var c=new X();a&&"d"in a&&i(c,a);return c}};m(X.prototype,(H={add:function(a){hd(this,a);return this},addKey:function(a){gd(this,a,a);return this},addKeys:function(a){var b=this;a.forEach(function(a){return gd(b,a,a)});return this}},H[na]=function(){return jd(this)},H));function gd(a,b,c){var d=S(b,c);if(isNaN(d))return;if(d>0)throw RangeError();if(fd(a))return i(a,{from:b,to:c,d:1});d=a.l;var e=a.r;if(S(c,a.from)<0){d?gd(d,b,c):a.l={from:b,to:c,d:1,l:null,r:null};return kd(a)}if(S(b,a.to)>0){e?gd(e,b,c):a.r={from:b,to:c,d:1,l:null,r:null};return kd(a)}S(b,a.from)<0&&(a.from=b,a.l=null,a.d=e?e.d+1:1);S(c,a.to)>0&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1);b=!a.r;d&&!a.l&&hd(a,d);e&&b&&hd(a,e)}function hd(a,b){function c(a,b){var d=b.from,e=b.to,f=b.l;b=b.r;gd(a,d,e);f&&c(a,f);b&&c(a,b)}fd(b)||c(a,b)}function id(a,b){b=jd(b);var c=b.next();if(c.done)return!1;var d=c.value;a=jd(a);var e=a.next(d.from),f=e.value;while(!c.done&&!e.done){if(S(f.from,d.to)<=0&&S(f.to,d.from)>=0)return!0;S(d.from,f.from)<0?d=(c=b.next(f.from)).value:f=(e=a.next(d.from)).value}return!1}function jd(a){var b=fd(a)?null:{s:0,n:a};return{next:function(a){var c=arguments.length>0;while(b)switch(b.s){case 0:b.s=1;if(c)while(b.n.l&&S(a,b.n.from)<0)b={up:b,n:b.n.l,s:1};else while(b.n.l)b={up:b,n:b.n.l,s:1};case 1:b.s=2;if(!c||S(a,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3;b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function kd(a){var b;b=(((b=a.r)===null||b===void 0?void 0:b.d)||0)-(((b=a.l)===null||b===void 0?void 0:b.d)||0);b=b>1?"r":b<-1?"l":"";if(b){var c=b==="r"?"l":"r",e=d({},a),f=a[b];a.from=f.from;a.to=f.to;a[b]=f[b];e[b]=f[c];a[c]=e;e.d=ld(e)}a.d=ld(a)}function ld(a){var b=a.r;a=a.l;return(b?a?Math.max(b.d,a.d):b.d:a?a.d:0)+1}function md(a,b){g(b).forEach(function(c){a[c]?hd(a[c],b[c]):a[c]=ha(b[c])});return a}function nd(a,b){return a.all||b.all||Object.keys(a).some(function(c){return b[c]&&id(b[c],a[c])})}var od={},pd={},qd=!1;function rd(a,b){md(pd,a),qd||(qd=!0,setTimeout(function(){qd=!1;var a=pd;pd={};sd(a,!1)},0))}function sd(a,b){b===void 0&&(b=!1);var c=new Set();if(a.all)for(var d=0,e=Object.values(od);d<e.length;d++){var f=e[d];td(f,a,c,b)}else for(e in a){d=/^idb\:\/\/(.*)\/(.*)\//.exec(e);if(d){var g=d[1];d=d[2];var f=od["idb://".concat(g,"/").concat(d)];f&&td(f,a,c,b)}}c.forEach(function(a){return a()})}function td(a,b,c,d){var e=[];for(var f=0,g=Object.entries(a.queries.query);f<g.length;f++){var h=g[f],i=h[0];h=h[1];var j=[];for(var k=0,h=h;k<h.length;k++){var l=h[k];nd(b,l.obsSet)?l.subscribers.forEach(function(a){return c.add(a)}):d&&j.push(l)}d&&e.push([i,j])}if(d)for(l=0,k=e;l<k.length;l++){h=k[l];var i=h[0],j=h[1];a.queries.query[i]=j}}function ud(a){var b=a._state,c=a._deps.indexedDB;if(b.isBeingOpened||a.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Q(b.dbOpenError):a});b.isBeingOpened=!0;b.dbOpenError=null;b.openComplete=!1;var d=b.openCanceller,e=Math.round(a.verno*10),f=!1;function g(){if(b.openCanceller!==d)throw new D.DatabaseClosed("db.open() was cancelled")}var h=b.dbReadyResolve,i=null,j=!1,k=function(){return new K(function(d,h){g();if(!c)throw new D.MissingAPI();var l=a.name,m=b.autoSchema||!e?c.open(l):c.open(l,e);if(!m)throw new D.MissingAPI();m.onerror=V(h);m.onblocked=L(a._fireOnBlocked);m.onupgradeneeded=L(function(d){i=m.transaction;if(b.autoSchema&&!a._options.allowEmptyDB){m.onerror=nc;i.abort();m.result.close();var e=c.deleteDatabase(l);e.onsuccess=e.onerror=L(function(){h(new D.NoSuchDatabase("Database ".concat(l," doesnt exist")))})}else{i.onerror=V(h);e=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;j=e<1;a.idbdb=m.result;f&&Kc(a,i);Jc(a,e/10,i,h)}},h);m.onsuccess=L(function(){i=null;var c=a.idbdb=m.result,g=t(c.objectStoreNames);if(g.length>0)try{g=c.transaction(vc(g),"readonly");if(b.autoSchema)Tc(a,c,g);else{Vc(a,a._dbSchema,g);if(!Uc(a,g)&&!f){c.close();e=c.version+1;f=!0;return d(k())}}Fc(a,g)}catch(a){}Cb.push(a);c.onversionchange=L(function(c){b.vcFired=!0,a.on("versionchange").fire(c)});c.onclose=L(function(b){a.on("close").fire(b)});j&&bd(a._deps,l);d()},h)})["catch"](function(a){switch(a===null||a===void 0?void 0:a.name){case"UnknownError":if(b.PR1398_maxLoop>0){b.PR1398_maxLoop--;return k()}break;case"VersionError":if(e>0){e=0;return k()}break}return K.reject(a)})};return K.race([d,(typeof navigator==="undefined"?K.resolve():ed()).then(k)]).then(function(){g();b.onReadyBeingFired=[];return K.resolve(dd(function(){return a.on.ready.fire(a.vip)})).then(function c(){if(b.onReadyBeingFired.length>0){var d=b.onReadyBeingFired.reduce(Ga,E);b.onReadyBeingFired=[];return K.resolve(dd(function(){return d(a.vip)})).then(c)}})})["finally"](function(){b.openCanceller===d&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)})["catch"](function(c){b.dbOpenError=c;try{i&&i.abort()}catch(a){}d===b.openCanceller&&a._close();return Q(c)})["finally"](function(){b.openComplete=!0,h()}).then(function(){if(j){var b={};a.tables.forEach(function(c){c.schema.indexes.forEach(function(d){d.name&&(b["idb://".concat(a.name,"/").concat(c.name,"/").concat(d.name)]=new X(-Infinity,[[[]]]))}),b["idb://".concat(a.name,"/").concat(c.name,"/")]=b["idb://".concat(a.name,"/").concat(c.name,"/:dels")]=new X(-Infinity,[[[]]])});W(oc).fire(b);sd(b,!0)}return a})}function vd(a){var b=function(b){return a.next(b)},c=function(b){return a["throw"](b)},d=f(b),e=f(c);function f(a){return function(b){b=a(b);var c=b.value;return b.done?c:!c||typeof c.then!=="function"?h(c)?Promise.all(c).then(d,e):d(c):c.then(d,e)}}return f(b)()}function wd(a,b,c){var d=arguments.length;if(d<2)throw new D.InvalidArgument("Too few arguments");var e=new Array(d-1);while(--d)e[d-1]=arguments[d];c=e.pop();var f=fa(e);return[a,f,c]}function xd(a,b,c,d,e){return K.resolve().then(function(){var f=J.transless||J,g=a._createTransaction(b,c,a._dbSchema,d);g.explicit=!0;f={trans:g,transless:f};if(d)g.idbtrans=d.idbtrans;else try{g.create(),g.idbtrans._explicit=!0,a._state.PR1398_maxLoop=3}catch(d){if(d.name===wa.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a.close({disableAutoOpen:!1});return a.open().then(function(){return xd(a,b,c,null,e)})}return Q(d)}var h=qa(e);h&&qb();var i;f=K.follow(function(){i=e.call(g,g);if(i)if(h){var a=O.bind(null,null);i.then(a,a)}else typeof i.next==="function"&&typeof i["throw"]==="function"&&(i=vd(i))},f);return(i&&typeof i.then==="function"?K.resolve(i).then(function(a){return g.active?a:Q(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return i})).then(function(a){d&&g._resolve();return g._completion.then(function(){return a})})["catch"](function(a){g._reject(a);return Q(a)})})}function yd(a,b,c){a=h(a)?a.slice():[a];for(var d=0;d<c;++d)a.push(b);return a}function zd(a){return d(d({},a),{table:function(b){var c=a.table(b);b=c.schema;var e={},f=[];function g(a,b,c){var h=Bc(a),i=e[h]=e[h]||[],j=a==null?0:typeof a==="string"?1:a.length,k=b>0;h=d(d({},c),{name:k?"".concat(h,"(virtual-from:").concat(c.name,")"):c.name,lowLevelIndex:c,isVirtual:k,keyTail:b,keyLength:j,extractKey:xc(a),unique:!k&&c.unique});i.push(h);h.isPrimaryKey||f.push(h);if(j>1){k=j===2?a[0]:a.slice(0,j-1);g(k,b+1,c)}i.sort(function(a,b){return a.keyTail-b.keyTail});return h}var h=g(b.primaryKey.keyPath,0,b.primaryKey);e[":id"]=[h];for(var i=0,j=b.indexes;i<j.length;i++){var k=j[i];g(k.keyPath,0,k)}function l(a){a=e[Bc(a)];return a&&a[0]}function m(b,c){return{type:b.type===1?2:b.type,lower:yd(b.lower,b.lowerOpen?a.MAX_KEY:a.MIN_KEY,c),lowerOpen:!0,upper:yd(b.upper,b.upperOpen?a.MIN_KEY:a.MAX_KEY,c),upperOpen:!0}}function n(b){var a=b.query.index;return a.isVirtual?d(d({},b),{query:{index:a.lowLevelIndex,range:m(b.query.range,a.keyTail)}}):b}k=d(d({},c),{schema:d(d({},b),{primaryKey:h,indexes:f,getIndexByKeyPath:l}),count:function(a){return c.count(n(a))},query:function(a){return c.query(n(a))},openCursor:function(d){var b=d.query.index,e=b.keyTail,f=b.isVirtual,g=b.keyLength;if(!f)return c.openCursor(d);function h(b){function c(c){c!=null?b["continue"](yd(c,d.reverse?a.MAX_KEY:a.MIN_KEY,e)):d.unique?b["continue"](b.key.slice(0,g).concat(d.reverse?a.MIN_KEY:a.MAX_KEY,e)):b["continue"]()}c=Object.create(b,{"continue":{value:c},continuePrimaryKey:{value:function(d,c){b.continuePrimaryKey(yd(d,a.MAX_KEY,e),c)}},primaryKey:{get:function(){return b.primaryKey}},key:{get:function(){var a=b.key;return g===1?a[0]:a.slice(0,g)}},value:{get:function(){return b.value}}});return c}return c.openCursor(n(d)).then(function(a){return a&&h(a)})}});return k}})}var Ad={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:zd};function Bd(a,b,c,d){c=c||{};d=d||"";g(a).forEach(function(e){if(!l(b,e))c[d+e]=void 0;else{var f=a[e],g=b[e];if(typeof f==="object"&&typeof g==="object"&&f&&g){var h=ma(f),i=ma(g);h!==i?c[d+e]=b[e]:h==="Object"?Bd(f,g,c,d+e+"."):f!==g&&(c[d+e]=b[e])}else f!==g&&(c[d+e]=b[e])}});g(b).forEach(function(e){l(a,e)||(c[d+e]=b[e])});return c}function Cd(a,b){return b.type==="delete"?b.keys:b.keys||b.values.map(a.extractKey)}var Dd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return d(d({},a),{table:function(b){var c=a.table(b),f=c.schema.primaryKey,g=d(d({},c),{mutate:function(a){var g=J.trans,h=g.table(b).hook,i=h.deleting,j=h.creating,k=h.updating;switch(a.type){case"add":if(j.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"put":if(j.fire===E&&k.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"delete":if(i.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"deleteRange":if(i.fire===E)break;return g._promise("readwrite",function(){return n(a)},!0)}return c.mutate(a);function m(b){var g=J.trans,a=b.keys||Cd(f,b);if(!a)throw new Error("Keys missing");b=b.type==="add"||b.type==="put"?d(d({},b),{keys:a}):d({},b);b.type!=="delete"&&(b.values=e([],b.values,!0));b.keys&&(b.keys=e([],b.keys,!0));return Ed(c,b,a).then(function(d){var e=a.map(function(a,c){var e=d[c],h={onerror:null,onsuccess:null};if(b.type==="delete")i.fire.call(h,a,e,g);else if(b.type==="add"||e===void 0){var m=j.fire.call(h,a,b.values[c],g);a==null&&m!=null&&(a=m,b.keys[c]=a,f.outbound||x(b.values[c],f.keyPath,a))}else{m=Bd(e,b.values[c]);var n=k.fire.call(h,m,a,e,g);if(n){var o=b.values[c];Object.keys(n).forEach(function(a){l(o,a)?o[a]=n[a]:x(o,a,n[a])})}}return h});return c.mutate(b).then(function(c){var f=c.failures,g=c.results,h=c.numFailures;c=c.lastResult;for(var i=0;i<a.length;++i){var j=g?g[i]:a[i],k=e[i];j==null?k.onerror&&k.onerror(f[i]):k.onsuccess&&k.onsuccess(b.type==="put"&&d[i]?b.values[i]:j)}return{failures:f,results:g,numFailures:h,lastResult:c}})["catch"](function(a){e.forEach(function(b){return b.onerror&&b.onerror(a)});return Promise.reject(a)})})}function n(a){return o(a.trans,a.range,1e4)}function o(a,b,e){return c.query({trans:a,values:!1,query:{index:f,range:b},limit:e}).then(function(c){var f=c.result;return m({type:"delete",keys:f,trans:a}).then(function(c){if(c.numFailures>0)return Promise.reject(c.failures[0]);if(f.length<e)return{failures:[],numFailures:0,lastResult:void 0};else return o(a,d(d({},b),{lower:f[f.length-1],lowerOpen:!0}),e)})})}}});return g}})}};function Ed(a,b,c){return b.type==="add"?Promise.resolve([]):a.getMany({trans:b.trans,keys:c,cache:"immutable"})}function Fd(a,b,c){try{if(!b)return null;if(b.keys.length<a.length)return null;var d=[];for(var e=0,f=0;e<b.keys.length&&f<a.length;++e){if(S(b.keys[e],a[f])!==0)continue;d.push(c?z(b.values[e]):b.values[e]);++f}return d.length===a.length?d:null}catch(a){return null}}var Gd={stack:"dbcore",level:-1,create:function(a){return{table:function(b){var c=a.table(b);return d(d({},c),{getMany:function(a){if(!a.cache)return c.getMany(a);var b=Fd(a.keys,a.trans._cache,a.cache==="clone");return b?K.resolve(b):c.getMany(a).then(function(b){a.trans._cache={keys:a.keys,values:a.cache==="clone"?z(b):b};return b})},mutate:function(a){a.type!=="add"&&(a.trans._cache=null);return c.mutate(a)}})}}}};function Hd(a,b){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Id(a,b){switch(a){case"query":return b.values&&!b.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Jd={stack:"dbcore",level:0,name:"Observability",create:function(a){var b=a.schema.name,c=new X(a.MIN_KEY,a.MAX_KEY);return d(d({},a),{transaction:function(b,c,d){if(J.subscr&&c!=="readonly")throw new D.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(J.querier));return a.transaction(b,c,d)},table:function(e){var f=a.table(e),i=f.schema,j=i.primaryKey,k=j.extractKey,l=j.outbound,m=d(d({},f),{mutate:function(g){var k=g.trans,l=g.mutatedParts||(g.mutatedParts={}),m=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return l[a]||(l[a]=new X())},n=m(""),o=m(":dels"),d=g.type,p=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Cd(j,g).filter(function(a){return a}),g.values]:[],a=p[0];p=p[1];var q=g.trans._cache;if(h(a)){n.addKeys(a);d=d==="delete"||a.length===p.length?Fd(a,q):null;d||o.addKeys(a);(d||p)&&Kd(m,i,d,p)}else if(a){q={from:a.lower,to:a.upper};o.add(q);n.add(q)}else n.add(c),o.add(c),i.indexes.forEach(function(a){return m(a.name).add(c)});return f.mutate(g).then(function(b){a&&(g.type==="add"||g.type==="put")&&n.addKeys(b.results);k.mutatedParts=md(k.mutatedParts||{},l);return b})}}),n=function(b){b=b.query;var c=b.index;b=b.range;return[c,new X((c=b.lower)!==null&&c!==void 0?c:a.MIN_KEY,(c=b.upper)!==null&&c!==void 0?c:a.MAX_KEY)]},o={get:function(a){return[j,new X(a.key)]},getMany:function(a){return[j,new X().addKeys(a.keys)]},count:n,query:n,openCursor:n};g(o).forEach(function(a){m[a]=function(g){var h=J.subscr,i=!!h,j=Hd(J,f)&&Id(a,g),m=j?g.obsSet={}:h;if(i){var n=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return m[a]||(m[a]=new X())},p=n(""),q=n(":dels"),r=o[a](g),s=r[0],t=r[1];a==="query"&&s.isPrimaryKey&&!g.values?q.add(t):n(s.name||"").add(t);if(!s.isPrimaryKey)if(a==="count")q.add(c);else{var u=a==="query"&&l&&g.values&&f.query(d(d({},g),{values:!1}));return f[a].apply(this,arguments).then(function(b){if(a==="query"){if(l&&g.values)return u.then(function(a){a=a.result;p.addKeys(a);return b});var c=g.values?b.result.map(k):b.result;g.values?p.addKeys(c):q.addKeys(c)}else if(a==="openCursor"){var d=b,e=g.values;return d&&Object.create(d,{key:{get:function(){q.addKey(d.primaryKey);return d.key}},primaryKey:{get:function(){var a=d.primaryKey;q.addKey(a);return a}},value:{get:function(){e&&p.addKey(d.primaryKey);return d.value}}})}return b})}}return f[a].apply(this,arguments)}});return m}})}};function Kd(a,b,c,d){function e(b){var e=a(b.name||"");function f(a){return a!=null?b.extractKey(a):null}var g=function(a){return b.multiEntry&&h(a)?a.forEach(function(a){return e.addKey(a)}):e.addKey(a)};(c||d).forEach(function(a,b){a=c&&f(c[b]);b=d&&f(d[b]);S(a,b)!==0&&(a!=null&&g(a),b!=null&&g(b))})}b.indexes.forEach(e)}function Ld(a,b,c){if(c.numFailures===0)return b;if(b.type==="deleteRange")return null;a=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;if(c.numFailures===a)return null;a=d({},b);h(a.keys)&&(a.keys=a.keys.filter(function(a,b){return!(b in c.failures)}));"values"in a&&h(a.values)&&(a.values=a.values.filter(function(a,b){return!(b in c.failures)}));return a}function Md(a,b){return b.lower===void 0?!0:b.lowerOpen?S(a,b.lower)>0:S(a,b.lower)>=0}function Nd(a,b){return b.upper===void 0?!0:b.upperOpen?S(a,b.upper)<0:S(a,b.upper)<=0}function Od(a,b){return Md(a,b)&&Nd(a,b)}function Pd(a,b,c,d,e,f){if(!c||c.length===0)return a;var g=b.query.index,i=g.multiEntry,j=b.query.range;d=d.schema.primaryKey;var k=d.extractKey,l=g.extractKey,m=(g.lowLevelIndex||g).extractKey;d=c.reduce(function(a,c){var d=a,e=c.type==="add"||c.type==="put"?c.values.filter(function(a){a=l(a);return i&&h(a)?a.some(function(a){return Od(a,j)}):Od(a,j)}).map(function(a){a=z(a);f&&Object.freeze(a);return a}):[];switch(c.type){case"add":d=a.concat(b.values?e:e.map(function(a){return k(a)}));break;case"put":var g=new X().addKeys(c.values.map(function(a){return k(a)}));d=a.filter(function(a){a=b.values?k(a):a;return!id(new X(a),g)}).concat(b.values?e:e.map(function(a){return k(a)}));break;case"delete":var m=new X().addKeys(c.keys);d=a.filter(function(a){a=b.values?k(a):a;return!id(new X(a),m)});break;case"deleteRange":var n=c.range;d=a.filter(function(a){return!Od(k(a),n)});break}return d},a);if(d===a)return a;d.sort(function(a,b){return S(m(a),m(b))||S(k(a),k(b))});b.limit&&b.limit<Infinity&&(d.length>b.limit?d.length=b.limit:a.length===b.limit&&d.length<b.limit&&(e.dirty=!0));return f?Object.freeze(d):d}function Qd(a,b){return S(a.lower,b.lower)===0&&S(a.upper,b.upper)===0&&!!a.lowerOpen===!!b.lowerOpen&&!!a.upperOpen===!!b.upperOpen}function Rd(a,b,c,d){if(a===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;a=S(a,b);if(a===0){if(c&&d)return 0;if(c)return 1;if(d)return-1}return a}function Sd(a,b,c,d){if(a===void 0)return b!==void 0?1:0;if(b===void 0)return-1;a=S(a,b);if(a===0){if(c&&d)return 0;if(c)return-1;if(d)return 1}return a}function Td(a,b){return Rd(a.lower,b.lower,a.lowerOpen,b.lowerOpen)<=0&&Sd(a.upper,b.upper,a.upperOpen,b.upperOpen)>=0}function Ud(b,c,a,d){b=od["idb://".concat(b,"/").concat(c)];if(!b)return[];c=b.queries[a];if(!c)return[null,!1,b,null];var e=d.query?d.query.index.name:null;c=c[e||""];if(!c)return[null,!1,b,null];switch(a){case"query":e=c.find(function(a){return a.req.limit===d.limit&&a.req.values===d.values&&Qd(a.req.query.range,d.query.range)});if(e)return[e,!0,b,c];a=c.find(function(a){var b="limit"in a.req?a.req.limit:Infinity;return b>=d.limit&&(d.values?a.req.values:!0)&&Td(a.req.query.range,d.query.range)});return[a,!1,b,c];case"count":e=c.find(function(a){return Qd(a.req.query.range,d.query.range)});return[e,!!e,b,c]}}function Vd(a,b,c,d){a.subscribers.add(c),d.addEventListener("abort",function(){a.subscribers["delete"](c),a.subscribers.size===0&&Wd(a,b)})}function Wd(a,b){setTimeout(function(){a.subscribers.size===0&&A(b,a)},3e3)}var Xd={stack:"dbcore",level:0,name:"Cache",create:function(a){var b=a.schema.name,c=d(d({},a),{transaction:function(c,d,e){var f=a.transaction(c,d,e);if(d==="readwrite"){var g=new AbortController();e=g.signal;var h=function(e){return function(){g.abort();if(d==="readwrite"){var h=new Set();for(var i=0,j=c;i<j.length;i++){var k=j[i],l=od["idb://".concat(b,"/").concat(k)];if(l){k=a.table(k);var m=l.optimisticOps.filter(function(a){return a.trans===f});if(f._explicit&&e&&f.mutatedParts)for(var n=0,o=Object.values(l.queries.query);n<o.length;n++){var p=o[n];for(var q=0,r=p.slice();q<r.length;q++){var s=r[q];nd(s.obsSet,f.mutatedParts)&&(A(p,s),s.subscribers.forEach(function(a){return h.add(a)}))}}else if(m.length>0){l.optimisticOps=l.optimisticOps.filter(function(a){return a.trans!==f});for(q=0,r=Object.values(l.queries.query);q<r.length;q++){var p=r[q];for(n=0,o=p.slice();n<o.length;n++){var s=o[n];if(s.res!=null&&f.mutatedParts)if(e&&!s.dirty){l=Object.isFrozen(s.res);l=Pd(s.res,s.req,m,k,s,l);s.dirty?(A(p,s),s.subscribers.forEach(function(a){return h.add(a)})):l!==s.res&&(s.res=l,s.promise=K.resolve({result:l}))}else s.dirty&&A(p,s),s.subscribers.forEach(function(a){return h.add(a)})}}}}}h.forEach(function(a){return a()})}}};f.addEventListener("abort",h(!1),{signal:e});f.addEventListener("error",h(!1),{signal:e});f.addEventListener("complete",h(!0),{signal:e})}return f},table:function(c){var e=a.table(c),f=e.schema.primaryKey,g=d(d({},e),{mutate:function(a){var g=J.trans;if(f.outbound||g.db._options.cache==="disabled"||g.explicit)return e.mutate(a);var h=od["idb://".concat(b,"/").concat(c)];if(!h)return e.mutate(a);g=e.mutate(a);(a.type==="add"||a.type==="put")&&(a.values.length>=50||Cd(f,a).some(function(a){return a==null}))?g.then(function(b){var c=d(d({},a),{values:a.values.map(function(a,c){var e;e=((e=f.keyPath)===null||e===void 0?void 0:e.includes("."))?z(a):d({},a);x(e,f.keyPath,b.results[c]);return e})});c=Ld(h,c,b);h.optimisticOps.push(c);queueMicrotask(function(){return a.mutatedParts&&rd(a.mutatedParts)})}):(h.optimisticOps.push(a),a.mutatedParts&&rd(a.mutatedParts),g.then(function(b){if(b.numFailures>0){A(h.optimisticOps,a);b=Ld(h,a,b);b&&h.optimisticOps.push(b);a.mutatedParts&&rd(a.mutatedParts)}}),g["catch"](function(){A(h.optimisticOps,a),a.mutatedParts&&rd(a.mutatedParts)}));return g},query:function(a){var d;if(!Hd(J,e)||!Id("query",a))return e.query(a);var f=((d=J.trans)===null||d===void 0?void 0:d.db._options.cache)==="immutable";d=J;var g=d.requery;d=d.signal;var h=Ud(b,c,"query",a),i=h[0],j=h[1],k=h[2],l=h[3];if(i&&j)i.obsSet=a.obsSet;else{h=e.query(a).then(function(a){var b=a.result;i&&(i.res=b);if(f){for(var c=0,d=b.length;c<d;++c)Object.freeze(b[c]);Object.freeze(b)}else a.result=z(b);return a})["catch"](function(a){l&&i&&A(l,i);return Promise.reject(a)});i={obsSet:a.obsSet,promise:h,subscribers:new Set(),type:"query",req:a,dirty:!1};l?l.push(i):(l=[i],k||(k=od["idb://".concat(b,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map(),optimisticOps:[],unsignaledParts:{}}),k.queries.query[a.query.index.name||""]=l)}Vd(i,l,g,d);return i.promise.then(function(b){return{result:Pd(b.result,a,k===null||k===void 0?void 0:k.optimisticOps,e,i,f)}})}});return g}});return c}};function Yd(a,b){return new Proxy(a,{get:function(a,c,d){return c==="db"?b:Reflect.get(a,c,d)}})}var Y=function(){function a(b,c){var e=this;this._middlewares={};this.verno=0;var f=a.dependencies;this._options=c=d({addons:a.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c);this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange};f=c.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;var g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:E,dbReadyPromise:null,cancelOpen:E,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};g.dbReadyPromise=new K(function(a){g.dbReadyResolve=a});g.openCanceller=new K(function(a,b){g.cancelOpen=b});this._state=g;this.name=b;this.on=Pb(this,"populate","blocked","versionchange","close",{ready:[Ga,E]});this.on.ready.subscribe=u(this.on.ready.subscribe,function(b){return function(c,d){a.vip(function(){var a=e._state;if(a.openComplete)a.dbOpenError||K.resolve().then(c),d&&b(c);else if(a.onReadyBeingFired)a.onReadyBeingFired.push(c),d&&b(c);else{b(c);var f=e;d||b(function a(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(a)})}})}});this.Collection=cc(this);this.Table=Rb(this);this.Transaction=rc(this);this.Version=Yc(this);this.WhereClause=mc(this);this.on("versionchange",function(a){a.newVersion>0?!1:!1,e.close({disableAutoOpen:!1})});this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?!1:!1});this._maxKey=wc(c.IDBKeyRange);this._createTransaction=function(a,b,c,d){return new e.Transaction(a,b,c,e._options.chromeTransactionDurability,d)};this._fireOnBlocked=function(a){e.on("blocked").fire(a),Cb.filter(function(a){return a.name===e.name&&a!==e&&!a._state.vcFired}).map(function(b){return b.on("versionchange").fire(a)})};this.use(Gd);this.use(Xd);this.use(Jd);this.use(Ad);this.use(Dd);var h=new Proxy(this,{get:function(a,b,c){if(b==="_vip")return!0;if(b==="table")return function(a){return Yd(e.table(a),h)};var d=Reflect.get(a,b,c);if(d instanceof Ob)return Yd(d,h);if(b==="tables")return d.map(function(a){return Yd(a,h)});return b==="_createTransaction"?function(){var a=d.apply(this,arguments);return Yd(a,h)}:d}});this.vip=h;f.forEach(function(a){return a(e)})}a.prototype.version=function(a){if(isNaN(a)||a<.1)throw new D.Type("Given version is not a positive number");a=Math.round(a*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=this._versions,c=b.filter(function(b){return b._cfg.version===a})[0];if(c)return c;c=new this.Version(a);b.push(c);b.sort(Ic);c.stores({});this._state.autoSchema=!1;return c};a.prototype._whenReady=function(a){var b=this;return this.idbdb&&(this._state.openComplete||J.letThrough||this._vip)?a():new K(function(a,c){if(b._state.openComplete)return c(new D.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen){c(new D.DatabaseClosed());return}b.open()["catch"](E)}b._state.dbReadyPromise.then(a,c)}).then(a)};a.prototype.use=function(a){var b=a.stack,c=a.create,d=a.level;a=a.name;a&&this.unuse({stack:b,name:a});var e=this._middlewares[b]||(this._middlewares[b]=[]);e.push({stack:b,create:c,level:d==null?10:d,name:a});e.sort(function(a,b){return a.level-b.level});return this};a.prototype.unuse=function(a){var b=a.stack,c=a.name,d=a.create;b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(a){return d?a.create!==d:c?a.name!==c:!1}));return this};a.prototype.open=function(){var a=this;return vb(I,function(){return ud(a)})};a.prototype._close=function(){var a=this._state,b=Cb.indexOf(this);b>=0&&Cb.splice(b,1);if(this.idbdb){try{this.idbdb.close()}catch(a){}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new K(function(b){a.dbReadyResolve=b}),a.openCanceller=new K(function(b,c){a.cancelOpen=c}))};a.prototype.close=function(a){a=a===void 0?{disableAutoOpen:!0}:a;a=a.disableAutoOpen;var b=this._state;a?(b.isBeingOpened&&b.cancelOpen(new D.DatabaseClosed()),this._close(),b.autoOpen=!1,b.dbOpenError=new D.DatabaseClosed()):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)};a.prototype["delete"]=function(a){var b=this;a===void 0&&(a={disableAutoOpen:!0});var c=arguments.length>0&&typeof arguments[0]!=="object",d=this._state;return new K(function(e,f){var g=function(){b.close(a);var c=b._deps.indexedDB.deleteDatabase(b.name);c.onsuccess=L(function(){cd(b._deps,b.name),e()});c.onerror=V(f);c.onblocked=b._fireOnBlocked};if(c)throw new D.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(g):g()})};a.prototype.backendDB=function(){return this.idbdb};a.prototype.isOpen=function(){return this.idbdb!==null};a.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"};a.prototype.hasFailed=function(){return this._state.dbOpenError!==null};a.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(a.prototype,"tables",{get:function(){var a=this;return g(this._allTables).map(function(b){return a._allTables[b]})},enumerable:!1,configurable:!0});a.prototype.transaction=function(){var a=wd.apply(this,arguments);return this._transaction.apply(this,a)};a.prototype._transaction=function(a,b,c){var d=this,e=J.trans;(!e||e.db!==this||a.indexOf("!")!==-1)&&(e=null);var f=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");var g,h;try{h=b.map(function(a){a=a instanceof d.Table?a.name:a;if(typeof a!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return a});if(a=="r"||a===Eb)g=Eb;else if(a=="rw"||a==Fb)g=Fb;else throw new D.InvalidArgument("Invalid transaction mode: "+a);if(e){if(e.mode===Eb&&g===Fb)if(f)e=null;else throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");e&&h.forEach(function(a){if(e&&e.storeNames.indexOf(a)===-1)if(f)e=null;else throw new D.SubTransaction("Table "+a+" not included in parent transaction.")});f&&e&&!e.active&&(e=null)}}catch(a){return e?e._promise(null,function(b,c){c(a)}):Q(a)}var i=xd.bind(null,this,g,h,e,c);return e?e._promise(g,i,"lock"):J.trans?vb(J.transless,function(){return d._whenReady(i)}):this._whenReady(i)};a.prototype.table=function(a){if(!l(this._allTables,a))throw new D.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]};return a}(),Zd=typeof Symbol!=="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",$d=function(){function a(a){this._subscribe=a}a.prototype.subscribe=function(a,b,c){return this._subscribe(!a||typeof a==="function"?{next:a,error:b,complete:c}:a)};a.prototype[Zd]=function(){return this};return a}(),ae;try{ae={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch(a){ae={indexedDB:null,IDBKeyRange:null}}function be(a){var b=!1,c,d=new $d(function(d){var e=qa(a);function f(b){var c=eb();try{e&&qb();b=N(a,b);e&&(b=b["finally"](O));return b}finally{c&&fb()}}var g=!1,h,i={},j={},k={get closed(){return g},unsubscribe:function(){if(g)return;g=!0;h&&h.abort();l&&W.storagemutated.unsubscribe(o)}};d.start&&d.start(k);var l=!1,m=function(){return xb(p)};function n(){return nd(j,i)}var o=function(a){md(i,a),n()&&m()},p=function(){if(g||!ae.indexedDB)return;i={};var e={};h&&h.abort();h=new AbortController();var k={subscr:e,signal:h.signal,requery:m,querier:a,trans:null},n=f(k);Promise.resolve(n).then(function(a){b=!0;c=a;if(g||k.signal.aborted)return;i={};j=e;!ia(j)&&!l&&(W(oc,o),l=!0);xb(function(){return!g&&d.next&&d.next(a)})},function(a){b=!1,["DatabaseClosedError","AbortError"].includes(a===null||a===void 0?void 0:a.name)||(g||xb(function(){if(g)return;d.error&&d.error(a)}))})};setTimeout(m,0);return k});d.hasValue=function(){return b};d.getValue=function(){return c};return d}var ce=Y;m(ce,d(d({},C),{"delete":function(a){a=new ce(a,{addons:[]});return a["delete"]()},exists:function(a){return new ce(a,{addons:[]}).open().then(function(a){a.close();return!0})["catch"]("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return ad(ce.dependencies).then(a)}catch(a){return Q(new D.MissingAPI())}},defineClass:function(){function a(a){i(this,a)}return a},ignoreTransaction:function(a){return J.trans?vb(J.transless,a):a()},vip:dd,async:function(a){return function(){try{var b=vd(a.apply(this,arguments));return!b||typeof b.then!=="function"?K.resolve(b):b}catch(a){return Q(a)}}},spawn:function(a,b,c){try{a=vd(a.apply(c,b||[]));return!a||typeof a.then!=="function"?K.resolve(a):a}catch(a){return Q(a)}},currentTransaction:{get:function(){return J.trans||null}},waitFor:function(a,b){a=K.resolve(typeof a==="function"?ce.ignoreTransaction(a):a).timeout(b||6e4);return J.trans?J.trans.waitFor(a):a},Promise:K,debug:{get:function(){return G},set:function(a){Ha(a)}},derive:p,extend:i,props:m,override:u,Events:Pb,on:W,liveQuery:be,extendObservabilitySet:md,getByKeyPath:w,setByKeyPath:x,delByKeyPath:ca,shallowClone:da,deepClone:z,getObjectDiff:Bd,cmp:S,asap:aa,minKey:Ab,addons:[],connections:Cb,errnames:wa,dependencies:ae,cache:od,semVer:Ka,version:Ka.split(".").map(function(a){return parseInt(a)}).reduce(function(a,b,c){return a+b/Math.pow(10,c*2)})}));ce.maxKey=wc(ce.dependencies.IDBKeyRange);typeof dispatchEvent!=="undefined"&&typeof addEventListener!=="undefined"&&(W(oc,function(a){if(!Z){a=new CustomEvent(pc,{detail:a});Z=!0;dispatchEvent(a);Z=!1}}),addEventListener(pc,function(a){a=a.detail;Z||de(a)}));function de(a){var b=Z;try{Z=!0,W.storagemutated.fire(a),sd(a,!0)}finally{Z=b}}var Z=!1,$,ee=function(){};typeof BroadcastChannel!=="undefined"&&(ee=function(){$=new BroadcastChannel(pc),$.onmessage=function(a){return a.data&&de(a.data)}},ee(),typeof $.unref==="function"&&$.unref(),W(oc,function(a){Z||$.postMessage(a)}));typeof addEventListener!=="undefined"&&(addEventListener("pagehide",function(a){if(!Y.disableBfCache&&a.persisted){G&&!1;$===null||$===void 0?void 0:$.close();for(var a=0,b=Cb;a<b.length;a++){var c=b[a];c.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(a){!Y.disableBfCache&&a.persisted&&(G&&!1,ee(),de({all:new X(-Infinity,[[]])}))}));function fe(a,b){return new $b({replacePrefix:[a,b]})}K.rejectionMapper=za;Ha(G);H=Object.freeze({__proto__:null,Dexie:Y,liveQuery:be,Entity:Jb,cmp:S,PropModSymbol:y,PropModification:$b,replacePrefix:fe,"default":Y,RangeSet:X,mergeRanges:hd,rangesOverlap:id});d(Y,H,{"default":Y});return Y})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("dexie_maw-next",["dexie-4.0.1"],(function(a,b,c,d,e,f){e.exports=b("dexie-4.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.MiniSearch=c())})(this,function(){var a=function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)};function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(c(arguments[b]));return a}var e="ENTRIES",f="KEYS",g="VALUES",h="",i=function(){function a(a,b){var c=a._tree,d=Object.keys(c);this.set=a;this._type=b;this._path=d.length>0?[{node:c,keys:d}]:[]}a.prototype.next=function(){var a=this.dive();this.backtrack();return a};a.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var a=j(this._path),b=a.node;a=a.keys;if(j(a)===h)return{done:!1,value:this.result()};this._path.push({node:b[j(a)],keys:Object.keys(b[j(a)])});return this.dive()};a.prototype.backtrack=function(){if(this._path.length===0)return;j(this._path).keys.pop();if(j(this._path).keys.length>0)return;this._path.pop();this.backtrack()};a.prototype.key=function(){return this.set._prefix+this._path.map(function(a){a=a.keys;return j(a)}).filter(function(a){return a!==h}).join("")};a.prototype.value=function(){return j(this._path).node[h]};a.prototype.result=function(){if(this._type===g)return this.value();return this._type===f?this.key():[this.key(),this.value()]};a.prototype[Symbol.iterator]=function(){return this};return a}(),j=function(a){return a[a.length-1]},k=0,l=1,m=2,n=3,o=function(a,b,d){var e=[{distance:0,i:0,key:"",node:a}],f={},g=[];a=function(){var a=e.pop(),i=a.node,j=a.distance,k=a.key,l=a.i,m=a.edit;Object.keys(i).forEach(function(n){if(n===h){var o=j+(b.length-l),a=c(f[k]||[null,Infinity],2);a=a[1];o<=d&&o<a&&(f[k]=[i[n],o])}else p(b,n,d-j,l,m,g).forEach(function(a){var c=a.distance,b=a.i;a=a.edit;e.push({node:i[n],distance:j+c,key:k+n,i:b,edit:a})})})};while(e.length>0)a();return f},p=function(a,b,c,d,e,f){f.push({distance:0,ia:d,ib:0,edit:e});d=[];while(f.length>0){e=f.pop();var g=e.distance,h=e.ia,i=e.ib;e=e.edit;if(i===b.length){d.push({distance:g,i:h,edit:e});continue}if(a[h]===b[i])f.push({distance:g,ia:h+1,ib:i+1,edit:k});else{if(g>=c)continue;e!==m&&f.push({distance:g+1,ia:h,ib:i+1,edit:n});h<a.length&&(e!==n&&f.push({distance:g+1,ia:h+1,ib:i,edit:m}),e!==n&&e!==m&&f.push({distance:g+1,ia:h+1,ib:i+1,edit:l}))}}return d},q=function(){function a(a,b){a===void 0&&(a={}),b===void 0&&(b=""),this._tree=a,this._prefix=b}a.prototype.atPrefix=function(d){var b;if(!d.startsWith(this._prefix))throw new Error("Mismatched prefix");var e=c(r(this._tree,d.slice(this._prefix.length)),2),f=e[0];e=e[1];if(f===void 0){e=c(y(e),2);var g=e[0],i=e[1];e=Object.keys(g).find(function(a){return a!==h&&a.startsWith(i)});if(e!==void 0)return new a((b={},b[e.slice(i.length)]=g[e],b),d)}return new a(f||{},d)};a.prototype.clear=function(){delete this._size,this._tree={}};a.prototype["delete"]=function(a){delete this._size;return v(this._tree,a)};a.prototype.entries=function(){return new i(this,e)};a.prototype.forEach=function(d){var e,a;try{for(var f=b(this),g=f.next();!g.done;g=f.next()){var h=c(g.value,2),i=h[0];h=h[1];d(i,h,this)}}catch(a){e={error:a}}finally{try{g&&!g.done&&(a=f["return"])&&a.call(f)}finally{if(e)throw e.error}}};a.prototype.fuzzyGet=function(a,b){return o(this._tree,a,b)};a.prototype.get=function(a){a=s(this._tree,a);return a!==void 0?a[h]:void 0};a.prototype.has=function(a){a=s(this._tree,a);return a!==void 0&&a.hasOwnProperty(h)};a.prototype.keys=function(){return new i(this,f)};a.prototype.set=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b;return this};Object.defineProperty(a.prototype,"size",{get:function(){var a=this;if(this._size)return this._size;this._size=0;this.forEach(function(){a._size+=1});return this._size},enumerable:!1,configurable:!0});a.prototype.update=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b(a[h]);return this};a.prototype.values=function(){return new i(this,g)};a.prototype[Symbol.iterator]=function(){return this.entries()};a.from=function(e){var f,d,g=new a();try{for(var h=b(e),i=h.next();!i.done;i=h.next()){e=c(i.value,2);var j=e[0];e=e[1];g.set(j,e)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(d=h["return"])&&d.call(h)}finally{if(f)throw f.error}}return g};a.fromObject=function(b){return a.from(Object.entries(b))};return a}(),r=function(a,b,c){c===void 0&&(c=[]);if(b.length===0||a==null)return[a,c];var d=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});if(d===void 0){c.push([a,b]);return r(void 0,"",c)}c.push([a,d]);return r(a[d],b.slice(d.length),c)},s=function(a,b){if(b.length===0||a==null)return a;var c=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});return c===void 0?void 0:s(a[c],b.slice(c.length))},t=function(b,c){var a;if(c.length===0||b==null)return b;var d=Object.keys(b).find(function(a){return a!==h&&c.startsWith(a)});if(d===void 0){var e=Object.keys(b).find(function(a){return a!==h&&a.startsWith(c[0])});if(e===void 0)b[c]={};else{var f=u(c,e);b[f]=(a={},a[e.slice(f.length)]=b[e],a);delete b[e];return t(b[f],c.slice(f.length))}return b[c]}return t(b[d],c.slice(d.length))},u=function(a,b,c,d,e){c===void 0&&(c=0);d===void 0&&(d=Math.min(a.length,b.length));e===void 0&&(e="");if(c>=d)return e;return a[c]!==b[c]?e:u(a,b,c+1,d,e+a[c])},v=function(a,b){a=c(r(a,b),2);b=a[0];a=a[1];if(b===void 0)return;delete b[h];var d=Object.keys(b);d.length===0&&w(a);d.length===1&&x(a,d[0],b[d[0]])},w=function(b){if(b.length===0)return;var a=c(y(b),2),d=a[0];a=a[1];delete d[a];Object.keys(d).length===0&&w(b.slice(0,-1))},x=function(a,b,d){if(a.length===0)return;a=c(y(a),2);var e=a[0];a=a[1];e[a+b]=d;delete e[a]},y=function(a){return a[a.length-1]},z,A="or",B="and",C=function(){function b(b){if((b===null||b===void 0?void 0:b.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},J),b),{searchOptions:a(a({},K),b.searchOptions||{})});this._index=new q();this._documentCount=0;this._documentIds={};this._fieldIds={};this._fieldLength={};this._averageFieldLength={};this._nextId=0;this._storedFields={};this.addFields(this._options.fields)}b.prototype.add=function(b){var c=this,a=this._options,d=a.extractField,e=a.tokenize,f=a.processTerm,g=a.fields;a=a.idField;var h=d(b,a);if(h==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');var i=this.addDocumentId(h);this.saveStoredFields(i,b);g.forEach(function(a){var g=d(b,a);if(g==null)return;g=e(g.toString(),a);c.addFieldLength(i,c._fieldIds[a],c.documentCount-1,g.length);g.forEach(function(b){b=f(b,a);b&&c.addTerm(c._fieldIds[a],i,b)})})};b.prototype.addAll=function(a){var b=this;a.forEach(function(a){return b.add(a)})};b.prototype.addAllAsync=function(a,b){var c=this;b===void 0&&(b={});b=b.chunkSize;var d=b===void 0?10:b;b={chunk:[],promise:Promise.resolve()};a=a.reduce(function(a,e,f){var b=a.chunk;a=a.promise;b.push(e);if((f+1)%d===0)return{chunk:[],promise:a.then(function(){return new Promise(function(a){return setTimeout(a,0)})}).then(function(){return c.addAll(b)})};else return{chunk:b,promise:a}},b);var e=a.chunk;b=a.promise;return b.then(function(){return c.addAll(e)})};b.prototype.remove=function(b){var d=this,a=this._options,e=a.tokenize,f=a.processTerm,g=a.extractField,h=a.fields;a=a.idField;var i=g(b,a);if(i==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');a=c(Object.entries(this._documentIds).find(function(a){a=c(a,2);a[0];a=a[1];return i===a})||[],1);var j=a[0];if(j==null)throw new Error("MiniSearch: cannot remove document with ID "+i+": it is not in the index");h.forEach(function(a){var c=g(b,a);if(c==null)return;c=e(c.toString(),a);c.forEach(function(b){b=f(b,a);b&&d.removeTerm(d._fieldIds[a],j,b)})});delete this._storedFields[j];delete this._documentIds[j];this._documentCount-=1};b.prototype.removeAll=function(a){var b=this;if(a)a.forEach(function(a){return b.remove(a)});else if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new q(),this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0};b.prototype.search=function(d,e){var f=this;e===void 0&&(e={});var b=this._options,g=b.tokenize,h=b.processTerm;b=b.searchOptions;var i=a(a({tokenize:g,processTerm:h},b),e);g=i.tokenize;var j=i.processTerm;h=g(d).map(function(a){return j(a)}).filter(function(a){return!!a});b=h.map(H(i));e=b.map(function(a){return f.executeQuery(a,i)});g=this.combineResults(e,i.combineWith);return Object.entries(g).reduce(function(d,a){a=c(a,2);var e=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;a={id:f._documentIds[e],terms:I(a),score:b,match:g};Object.assign(a,f._storedFields[e]);(i.filter==null||i.filter(a))&&d.push(a);return d},[]).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};b.prototype.autoSuggest=function(b,d){d===void 0&&(d={});d=a(a({},L),d);b=this.search(b,d).reduce(function(c,a){var b=a.score;a=a.terms;var d=a.join(" ");c[d]==null?c[d]={score:b,terms:a,count:1}:(c[d].score+=b,c[d].count+=1);return c},{});return Object.entries(b).map(function(a){a=c(a,2);var d=a[0];a=a[1];var b=a.score,e=a.terms;a=a.count;return{suggestion:d,terms:e,score:b/a}}).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};Object.defineProperty(b.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0});b.loadJSON=function(a,c){if(c==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return b.loadJS(JSON.parse(a),c)};b.getDefault=function(a){if(J.hasOwnProperty(a))return D(J,a);else throw new Error('MiniSearch: unknown option "'+a+'"')};b.loadJS=function(a,c){var d=a.index,e=a.documentCount,f=a.nextId,g=a.documentIds,h=a.fieldIds,i=a.fieldLength,j=a.averageFieldLength;a=a.storedFields;c=new b(c);c._index=new q(d._tree,d._prefix);c._documentCount=e;c._nextId=f;c._documentIds=g;c._fieldIds=h;c._fieldLength=i;c._averageFieldLength=j;c._fieldIds=h;c._storedFields=a||{};return c};b.prototype.executeQuery=function(b,d){var e=this;d=a(a({},this._options.searchOptions),d);var f=(d.fields||this._options.fields).reduce(function(c,d){var b;return a(a({},c),(b={},b[d]=D(c,d)||1,b))},d.boost||{}),g=d.boostDocument;d=d.weights;d=a(a({},K.weights),d);var h=d.fuzzy,i=d.prefix;d=this.termResults(b.term,f,g,this._index.get(b.term));if(!b.fuzzy&&!b.prefix)return d;var j=[d];b.prefix&&this._index.atPrefix(b.term).forEach(function(a,c){var d=.3*(a.length-b.term.length)/a.length;j.push(e.termResults(a,f,g,c,i,d))});if(b.fuzzy){d=b.fuzzy===!0?.2:b.fuzzy;d=d<1?Math.round(b.term.length*d):d;Object.entries(this._index.fuzzyGet(b.term,d)).forEach(function(a){a=c(a,2);var b=a[0];a=c(a[1],2);var d=a[0];a=a[1];a=a/b.length;j.push(e.termResults(b,f,g,d,h,a))})}return j.reduce(E[A],{})};b.prototype.combineResults=function(a,b){b===void 0&&(b=A);if(a.length===0)return{};b=b.toLowerCase();return a.reduce(E[b],null)||{}};b.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}};b.prototype.termResults=function(a,b,d,e,f,g){var h=this;g===void 0&&(g=0);return e==null?{}:Object.entries(b).reduce(function(f,b){b=c(b,2);var i=b[0],j=b[1],k=h._fieldIds[i];b=e[k]||{ds:{}};var l=b.df;b=b.ds;Object.entries(b).forEach(function(b){b=c(b,2);var e=b[0];b=b[1];var m=d?d(h._documentIds[e],a):1;if(!m)return;var n=h._fieldLength[e][k]/h._averageFieldLength[k];f[e]=f[e]||{score:0,match:{},terms:[]};f[e].terms.push(a);f[e].match[a]=D(f[e].match,a)||[];f[e].score+=m*G(b,l,h._documentCount,n,j,g);f[e].match[a].push(i)});return f},{})};b.prototype.addTerm=function(b,c,d){this._index.update(d,function(d){d=d||{};var e=d[b]||{df:0,ds:{}};e.ds[c]==null&&(e.df+=1);e.ds[c]=(e.ds[c]||0)+1;return a(a({},d),(d={},d[b]=e,d))})};b.prototype.removeTerm=function(b,c,d){var e=this;if(!this._index.has(d)){this.warnDocumentChanged(c,b,d);return}this._index.update(d,function(f){var g=f[b];if(g==null||g.ds[c]==null){e.warnDocumentChanged(c,b,d);return f}if(g.ds[c]<=1){if(g.df<=1){delete f[b];return f}g.df-=1}if(g.ds[c]<=1){delete g.ds[c];return f}g.ds[c]-=1;return a(a({},f),(f={},f[b]=g,f))});Object.keys(this._index.get(d)).length===0&&this._index["delete"](d)};b.prototype.warnDocumentChanged=function(a,b,d){if(console==null||emptyFunction==null)return;a=Object.entries(this._fieldIds).find(function(a){a=c(a,2);a[0];a=a[1];return a===b})[0]};b.prototype.addDocumentId=function(a){var b=this._nextId.toString(36);this._documentIds[b]=a;this._documentCount+=1;this._nextId+=1;return b};b.prototype.addFields=function(a){var b=this;a.forEach(function(a,c){b._fieldIds[a]=c})};b.prototype.addFieldLength=function(a,b,c,d){this._averageFieldLength[b]=this._averageFieldLength[b]||0;var e=this._averageFieldLength[b]*c+d;this._fieldLength[a]=this._fieldLength[a]||{};this._fieldLength[a][b]=d;this._averageFieldLength[b]=e/(c+1)};b.prototype.saveStoredFields=function(b,c){var d=this,a=this._options,e=a.storeFields,f=a.extractField;if(e==null||e.length===0)return;this._storedFields[b]=this._storedFields[b]||{};e.forEach(function(a){var e=f(c,a);if(e===void 0)return;d._storedFields[b][a]=e})};return b}(),D=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},E=(z={},z[A]=function(a,b){return Object.entries(b).reduce(function(e,a){a=c(a,2);var f=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;e[f]==null?e[f]={score:b,match:g,terms:a}:(e[f].score+=b,e[f].score*=1.5,(b=e[f].terms).push.apply(b,d(a)),Object.assign(e[f].match,g));return e},a||{})},z[B]=function(b,e){return b==null?e:Object.entries(e).reduce(function(g,e){e=c(e,2);var h=e[0];e=e[1];var f=e.score,i=e.match;e=e.terms;if(b[h]===void 0)return g;g[h]=g[h]||{};g[h].score=b[h].score+f;g[h].match=a(a({},b[h].match),i);g[h].terms=d(b[h].terms,e);return g},{})},z),F=function(a,b,c){return a*Math.log(c/b)},G=function(a,b,c,d,e,f){e=e/(1+.333*e*f);return e*F(a,b,c)/d},H=function(a){return function(b,c,d){var e=typeof a.fuzzy==="function"?a.fuzzy(b,c,d):a.fuzzy||!1;c=typeof a.prefix==="function"?a.prefix(b,c,d):a.prefix===!0;return{term:b,fuzzy:e,prefix:c}}},I=function(a){return a.filter(function(b,c,a){return a.indexOf(b)===c})},J={idField:"id",extractField:function(a,b){return a[b]},tokenize:function(a,b){return a.split(M)},processTerm:function(a,b){return a.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},K={combineWith:A,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},L={prefix:function(a,b,c){return b===c.length-1}},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return C})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("minisearch",["minisearch-3.0.2"],(function(a,b,c,d,e,f){e.exports=b("minisearch-3.0.2")()}),null);/*FB_PKG_DELIM*/
__d("CastingChromecastAPIWrapper",["cr:1885117"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1885117")}),98);
__d("CastingChromecastSession",["Promise","err","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,d){var e=this;this.$3=null;this.$4=[];this.$5=[];this.$6=[];this.$7=[];this.$8=[];this.$9=[];this.$10=[];this.$11=[];this.$12=function(a,b){if(a===e.$2){var d=e.$4.slice();d.forEach(function(a){a(b)})}else e.$6.slice().forEach(function(b){b(c("err")("Namespace does not match. Expected "+e.$2+" but received "+a),"CastingChromecastSession._onMessageReceived")})};this.$1=a;this.$2=b;this.$3=d;d.addMessageListener(this.$2,this.$12)}var d=a.prototype;d.destroy=function(){var a=this.$3;a!=null&&(a.status!=null&&a.status!=="disconnected"&&c("recoverableViolation")("Destroying receiver session that is not disconnected. Status, "+a.status,"comet_cast_sender"),a.removeMessageListener(this.$2,this.$12));this.$3=null};d.isCasting=function(){return this.$3!=null};d.isConnected=function(){return this.$3!=null&&this.$3.status==="connected"};d.isDisconnected=function(){return this.$3!=null&&this.$3.status==="disconnected"};d.disconnect=function(){var a=this;this.$5.slice().forEach(function(a){a()});return new(h||(h=b("Promise")))(function(b,c){a.$3!=null?a.$3.stop(b,c):b()})["catch"](function(b){if(a.$3!=null&&a.$3.status!=="stopped"){a.$6.slice().forEach(function(a){a(b,"CastingChromecastSession.disconnect")});throw b}})["finally"](function(){var b=a.$3;a.$3=null;b&&b.removeMessageListener(a.$2,a.$12);a.$7.slice().forEach(function(a){a()})})};d.getVolume=function(){var a=this.$13();return a?a.level:null};d.getFriendlyName=function(){return this.$14()};d.setVolume=function(a){var d=this,e=this.$3;return new(h||(h=b("Promise")))(function(b,d){if(e==null){d(c("err")("Cannot set volume without a session"));return}e.setReceiverVolumeLevel(a,b,d)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.setVolume")});throw a})};d.isMuted=function(){var a=this.$13();return a?a.muted:null};d.mute=function(){return this.$15(!0)};d.unmute=function(){return this.$15(!1)};d.sendMessage=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The message can not be sent without a session"));return}f.sendMessage(d.$2,a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.sendMessage")});throw a})};d.$13=function(){var a;a=(a=this.$3)==null?void 0:(a=a.receiver)==null?void 0:a.volume;return a==null?null:a};d.$14=function(){var a;return((a=this.$3)==null?void 0:a.receiver.friendlyName)||null};d.$15=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The muted state can not be set without a session"));return}f.setReceiverMuted(a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession._setIsMuted")});throw a})};d.onMessage=function(a){var b=this.$4;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnecting=function(a){var b=this.$5;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onError=function(a){var b=this.$6;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnected=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoading=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoaded=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPlaying=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPaused=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingErrorUtils",["ErrorMetadata","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a!=null&&typeof a==="object"&&typeof a.code==="string"&&a.code===b}function b(a){return a!=null&&typeof a==="object"&&typeof a.code==="string"?c("err")("Chromecast error: %s, keys: %s","cast.ChromecastError",JSON.stringify({code:a.code})):c("getErrorSafe")(a)}function d(a,b){a.metadata==null&&(a.metadata=new(c("ErrorMetadata"))());var d=a.metadata;b=b==null?void 0:b.videoID;b!=null&&d.addEntries(["COMET_VIDEO","VIDEO_ID",b]);return a}g.isChromecastError=a;g.getCastingErrorSafe=b;g.appendCastingMetadataToExpandedError=d}),98);
__d("ConnectedTvLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1843753");b=d("FalcoLoggerInternal").create("connected_tv_logging",a);e=b;g["default"]=e}),98);
__d("CastingChromecastScanner",["CastingChromecastAPIWrapper","CastingChromecastSession","CastingErrorUtils","ConnectedTvLoggingFalcoEvent","Promise","err","performanceAbsoluteNow","promiseDone","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a,b){this.$6=null,this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$1=a,this.$2=b,this.$4=!1,this.$3=!1,this.$5=new Set()}var e=a.prototype;e.init=function(){if(this.$6!=null)return(i||(i=b("Promise"))).reject(c("err")("Scanner can only be initialized once."));this.$6=this.$16();return this.$6};e.ready=function(){return this.$6==null?(i||(i=b("Promise"))).reject(c("err")("Scanner should be initialized.")):this.$6};e.hasSupport=function(){return this.$3};e.hasFoundReceiver=function(){return this.$4};e.getSession=function(){var a=this;if(!this.$4)return(i||(i=b("Promise"))).reject(c("err")("No receivers found"));this.$13.slice().forEach(function(a){a()});return this.$17().then(function(b){var c=a.$18(b);a.$5.add(c);a.$14.slice().forEach(function(a){a(c)});return c})["catch"](function(b){a.$10.slice().forEach(function(a){a()});a.$11.slice().forEach(function(a){a()});throw b})};e.$16=function(){var a=this;this.$3=!0;return this.$19().then(function(b){return a.$20()}).then(function(b){a.$9.slice().forEach(function(a){a()})}).then(function(b){return a.$21()})["catch"](function(b){!d("CastingErrorUtils").isChromecastError(b,"not_supported")&&!d("CastingErrorUtils").isChromecastError(b,"extension_not_available")&&!d("CastingErrorUtils").isChromecastError(b,"extension_no_casting_script")&&a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._init")});throw b})};e.$21=function(){var a=this,d=this.$1;if(d==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var e=function(b){var c=a.$18(b);a.$14.slice().forEach(function(a){a(c)})},f=function(b){c("promiseDone")(c("CastingChromecastAPIWrapper").getIsAvailable(b).then(function(b){a.$4=b,a.$15.slice().forEach(function(b){b({foundReceiver:a.$4})})}))};return c("CastingChromecastAPIWrapper").initialize({appID:d,receiverListener:f,sessionListener:e}).then(function(){})["catch"](function(b){a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._initializeApi")});throw b})};e.$19=function(){var a=this;return this.$1!=null?(i||(i=b("Promise"))).resolve():c("CastingChromecastAPIWrapper").getDefaultAppID().then(function(b){a.$1=b})};e.$17=function(){var a=this.$1;if(a==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var d=(h||(h=c("performanceAbsoluteNow")))();c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_requested"}});return c("CastingChromecastAPIWrapper").getSession(a).then(function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_started",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d)}});return a})["catch"](function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_failed",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d),session_failure_code:typeof a.code==="string"?a.code:null,session_failure_description:a.description}});throw a})};e.$18=function(a){var b=this,d=new(c("CastingChromecastSession"))(this.$1||"",this.$2||"",a),e=d.onDisconnecting(function(){b.$12.slice().forEach(function(a){a()})}),f=d.onError(function(a,c){b.$8.slice().forEach(function(b){b(a,c)})}),g=d.onDisconnected(function(){b.$11.slice().forEach(function(a){a()}),b.$5["delete"](d),e.remove(),f.remove(),g.remove()});return d};e.$20=function(){var a=this;return c("CastingChromecastAPIWrapper").addReceiverListener({onCast:function(b){a.$7.slice().forEach(function(a){a(b)})},onStop:function(){a.$5.forEach(function(a){return a.disconnect()})}})};e.onCast=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onError=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onInit=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionCancelled=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnecting=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionRequested=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingState",[],(function(a,b,c,d,e,f){"use strict";function a(){return{isCastPending:!1,receiverExperience:null,receiverFriendlyName:null,receiverIsConnected:!1,receiverIsMuted:null,receiverVolume:null}}function b(){return{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null,type:"video_channel"}}function c(){return{type:"photo"}}function d(){return{currentAssetID:null,currentPlaybackState:null,type:"photo_album"}}f.initialCastingState=a;f.initialVideoChannelExperienceState=b;f.initialPhotoExperienceState=c;f.initialPhotoAlbumExperienceState=d}),66);
__d("TV2PhotoAlbumReportedState",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoAlbumReportedState"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoAlbumReportedState")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoAlbumReportedState:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"media_state",js:"media_state",typ:m("MediaState")}],"any"),MediaParameters:d([{json:"album_id",js:"album_id",typ:""}],"any"),MediaState:d([{json:"photo_state",js:"photo_state",typ:c(void 0,m("PhotoMediaState"))},{json:"video_state",js:"video_state",typ:c(void 0,m("VideoMediaState"))}],"any"),PhotoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"photo_id",js:"photo_id",typ:""},{json:"photo_playback_state",js:"photo_playback_state",typ:m("PhotoPlaybackState")},{json:"position_ms",js:"position_ms",typ:3.14}],"any"),VideoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"position_ms",js:"position_ms",typ:3.14},{json:"video_id",js:"video_id",typ:""},{json:"video_playback_state",js:"video_playback_state",typ:m("VideoPlaybackState")}],"any"),PhotoPlaybackState:["paused","play"],VideoPlaybackState:["ended","paused","play","seeking","unknown"]};e.exports={TV2PhotoAlbumReportedStateToJson:b,toTV2PhotoAlbumReportedState:a}}),null);
__d("TV2UniqueIDs",["guid"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b;b=(b=h.get(a))!=null?b:0;h.set(a,b+1);return""+a+b.toString(36)}function a(){return i("id_tv2_vcr_")}function b(){return i("id_tv2_veqe_")}function d(){return i("id_tv2_toast_")}function e(){return i("id_tv2_rvr_")}function f(){return c("guid")()}g.makeTV2VideoCastRequestID=a;g.makeTV2VideoExperienceQueueEntryID=b;g.makeTV2ToastID=d;g.makeTV2RelatedVideosRequestID=e;g.makeTV2ChainingSessionID=f}),98);
__d("getTV2QueryStringCheatcodeValue",[],(function(a,b,c,d,e,f){"use strict";function b(b){try{b=new RegExp("\\b"+b+"=([^&]*)");b=b.exec(a.location.search);return!b||b[1]==null?null:b[1]}catch(a){return null}}f["default"]=b}),66);
__d("getTV2QueryStringCheatcode",["getTV2QueryStringCheatcodeValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{return c("getTV2QueryStringCheatcodeValue")(a)==="1"}catch(a){return!1}}g["default"]=a}),98);
__d("getTV2DebuggingEnabled",["getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2QueryStringCheatcode")("debugging")}g["default"]=a}),98);
__d("TV2CommsParseUtils",["TV2PhotoAlbumReportedState","TV2UniqueIDs","err","getTV2DebuggingEnabled"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===null?"null":a===""?"empty string":Array.isArray(a)?"array":typeof a==="object"?"object with keys: "+JSON.stringify(Object.keys(a).sort()):typeof a}function i(a,b,d){if(typeof a!=="string"||a===""){var e=c("err")("Message parse error: %s expected JSON string, got %s",d,h(a));throw e}try{e=JSON.parse(a);return b(e,d)}catch(b){if("messageFormat"in b&&typeof b.messageFormat==="string"&&"messageParams"in b&&Array.isArray(b.messageParams))throw b;else{a=c("err")("Message parse error: %s expected JSON string, got error: %s",d,b.message);throw a}}}function j(a,b){if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function b(a,b){if(a==null)return null;if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function k(a,b){if(!Array.isArray(a)){b=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw b}return a}function e(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.map(function(a){return m(a,b)})}function l(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.filter(Boolean).map(function(a){return m(a,b)})}function m(a,b){if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected non-empty string, got %s",b,h(a));throw b}return a}function n(a,b){if(a==null)return null;if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected optional non-empty string, got %s",b,h(a));throw b}return a}function o(a,b){if(a==null)return null;if(typeof a!=="string"){b=c("err")("Message parse error: %s expected optional string, got %s",b,h(a));throw b}return a}function p(a,b){if(a==null)return null;if(!(typeof a==="number"&&Number.isFinite(a)||typeof a==="string"&&a!=="")){b=c("err")("Message parse error: %s expected optional non-empty string or number, got %s",b,h(a));throw b}return a}function q(a,b){if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected finite number, got %s",b,h(a));throw b}return a}function f(a,b){if(a==null)return null;if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected optional finite number, got %s",b,h(a));throw b}return a}function r(a,b){return a==="true"||a===!0}function s(a,b,c){c===void 0&&(c=!1);return a==null?c:a===!0}function t(a,b){if(typeof a!=="boolean"){b=c("err")("Parse error: %s expected boolean, got %s",b,h(a));throw b}return a}function u(a,b){a=a!=null?j(a,b):null;if(a==null)return null;var c=m(a.uri,b+".uri"),d=q(a.width,b+".width");a=q(a.height,b+".height");return{height:a,uri:c,width:d}}function v(a,b){a=a!=null?j(a,b):null;if(a==null)return null;a=j(a.image,b+".image");a=m(a.uri,b+".image.uri");return{uri:a}}function w(a,b){if(a==null)return null;a=k(a,b);return a.map(function(a,b){return m(a,"["+b+"]")})}function x(a,b){return i(a,function(b,a){b=k(b,a);return b.map(function(b,c){c=a+"."+c;return z(j(b,c),c)})},b)}function y(a,b){return i(a,function(b,a){return z(j(b,a),a)},b)}function z(b,e){var f=m(b.access_token,e+".access_token"),g=String(p(b.app_id,e+".app_id")),h=o(b.app_version,e+".app_version"),i=u(b.background_image,e+".background_image"),j=n(b.channel_token,e+".channel_token"),k=n(b.channel_session_id,e+".channel_session_id"),q=o(b.end_cursor,e+".end_cursor")||null,r=s(b.from_next_video_query,e+".from_next_video_query"),t=s(b.is_ad,e+".is_ad"),x=w(b.dash_prefetched_representation_ids,e+".dash_prefetched_representation_ids"),y=n(b.entry_point,e+".entry_point"),z=n(b.player_origin===""?null:b.player_origin,e+".player_origin"),A=n(b.player_suborigin===""?null:b.player_suborigin,e+".player_suborigin"),B=v(b.preferred_thumbnail,e+".preferred_thumbnail"),C=n(b.video_channel_id,e+".video_channel_id"),D=m(b.root_video_id,e+".root_video_id"),E=c("getTV2DebuggingEnabled")()?/\bvideo_id=([0-9]+)\b/.exec(a.location.search):null;E=E&&E[1]?E[1]:m(b.video_id,e+".video_id");b=b.tracking_codes!=null?l(b.tracking_codes,e+".tracking_codes"):null;return{accessToken:f,appID:g,appVersion:h,backgroundImage:i,chainingEnabled:!1,channelSessionID:k,channelToken:j,dashPrefetchedRepresentationIDs:x,endCursor:q,entryPoint:y,fromNextVideoQuery:r,isAd:t,playerOrigin:z,playerSuborigin:A,preferredThumbnail:B,rootVideoID:D,startTimestamp:0,trackingCodes:b,videoCastRequestID:d("TV2UniqueIDs").makeTV2VideoCastRequestID(),videoChannelID:C,videoID:E}}function A(a,b){a=j(a,b);b=m(a.type,b+".type");switch(b){case"version_response":return a;case"version_launch_response":return a;case"experience_state":return a;case"command_result":return a;case"duration_change":return a;case"status_update":return a;case"experience_status_update":return a}b=c("err")("Parse error: %s expected response message type, got %s","parseTV2CommsFBAppOutboundMessageFromObject",h(a));throw b}function B(a){return i(a,A,".")}function C(a){a=B(a);switch(a.type){case"version_response":case"version_launch_response":case"experience_state":case"command_result":return a}a=c("err")("Parse error: %s expected response message type, got %s","parseCastingReceiverResponseMessageFromJSON",h(a));throw a}function D(a){return d("TV2PhotoAlbumReportedState").toTV2PhotoAlbumReportedState(a)}g.parseJSONString=i;g.parseObject=j;g.parseOptionalObject=b;g.parseArray=k;g.parseStringArray=e;g.parseTrackingCodes=l;g.parseNonEmptyString=m;g.parseOptionalNonEmptyString=n;g.parseOptionalString=o;g.parseNumber=q;g.parseOptionalNumber=f;g.parseOptionalStringishBoolean=r;g.parseOptionalBoolean=s;g.parseBoolean=t;g.parseVideoCastingPayloadBackgroundImage=u;g.parseVideoCastingPayloadPreferredThumbnail=v;g.parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray=x;g.parseVideoCastingPayloadJSONAsTV2VideoCastRequest=y;g.parseVideoCastingPayloadAsTV2VideoCastRequest=z;g.parseTV2CommsFBAppOutboundMessageFromJSON=B;g.parseCastingReceiverResponseMessageFromJSON=C;g.parseCastingReceiverPhotoAlbumReportedState=D}),98);
__d("fetchCtvCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29808457688745543"}),null);
__d("fetchCtvCastPayloadQuery.graphql",["fetchCtvCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"mediaParameters"},d={defaultValue:null,kind:"LocalArgument",name:"requestID"},e=[{alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Literal",name:"caster_id",value:0},{kind:"Variable",name:"media_parameters_json",variableName:"mediaParameters"},{kind:"Literal",name:"receiver_app_id",value:1614120985559993},{kind:"Variable",name:"request_id",variableName:"requestID"},{kind:"Literal",name:"uses_secure_connection",value:!0}],kind:"ScalarField",name:"ctv_cast_payload",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"fetchCtvCastPayloadQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"fetchCtvCastPayloadQuery",selections:e},params:{id:b("fetchCtvCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchCtvCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchCtvCastPayload",["CometRelay","err","fetchCtvCastPayloadQuery.graphql","getErrorSafe","guid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchCtvCastPayloadQuery.graphql");function a(a){var b=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:b,mediaParameters:"{}",requestID:c("guid")()}).toPromise().then(function(a){if(a!=null&&a.ctv_cast_payload!=null&&typeof a.ctv_cast_payload==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}function e(a){var b=a.albumID,e=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:e,mediaParameters:JSON.stringify({album_id:b}),requestID:c("guid")()}).toPromise().then(function(a){if(typeof (a==null?void 0:a.ctv_cast_payload)==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g.fetchPhotoCastPayload=a;g.fetchAlbumCastPayload=e}),98);
__d("fetchVideoCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9544699068932467"}),null);
__d("fetchVideoCastPayloadQuery.graphql",["fetchVideoCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},e={defaultValue:null,kind:"LocalArgument",name:"videoID"},f=[{kind:"Variable",name:"id",variableName:"videoID"}],g={alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSubOrigin"}],kind:"ScalarField",name:"video_cast_payload",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,c,d,a],kind:"Operation",name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("fetchVideoCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchVideoCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchVideoCastPayload",["CometRelay","err","fetchVideoCastPayloadQuery.graphql","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchVideoCastPayloadQuery.graphql");function a(a){var b=a.castSessionID,e=a.environment,f=a.playerOrigin,g=a.playerSubOrigin;a=a.videoID;return d("CometRelay").fetchQuery(e,i,{castSessionID:b,playerOrigin:f,playerSubOrigin:g,videoID:a}).toPromise().then(function(a){if(a==null||a.video==null||a.video.video_cast_payload==null)return{type:"video_cannot_be_casted"};else if(typeof a.video.video_cast_payload==="string")return{payload:a.video.video_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g["default"]=a}),98);
__d("CastingController",["CastingErrorUtils","CastingState","FBLogger","Promise","SubscriptionsHandler","TV2CommsParseUtils","err","fetchCtvCastPayload","fetchVideoCastPayload","getErrorSafe","performanceAbsoluteNow","promiseDone","recoverableViolation","removeFromArray","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("FBLogger")("fbtv"),k="PhotoAlbum",l="ChannelVideo",m="Photo";a=function(){function a(a,b){var e=this;this.$5=[];this.$6=[];this.$7=[];this.$9=function(){var a=d("CastingState").initialCastingState();e.$12(a);e.$13(null)};this.$10=function(a){switch(a.type){case"status_update":e.$16(a);break;case"experience_status_update":e.$17(a);break;default:break}};this.$11=function(a,b){var f;if(d("CastingErrorUtils").isChromecastError(a,"cancel"))j.warn("ChromecastError while casting. Received ChromecastError with cancel code.");else if(((f=e.$2)==null?void 0:f.type)==="video_channel"){f=(f=e.$2)==null?void 0:f.currentVideoID;f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),babelHelpers["extends"]({},f!=null?{videoID:f}:{}));c("recoverableViolation")("Receiver error at "+b+" while playing video channel","comet_cast_sender",{error:f});c("promiseDone")(e.$4.stopCasting())}else{f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),{});a=((a=e.$2)==null?void 0:a.type)||"";c("recoverableViolation")("Receiver error at "+b+" while playing in experience "+a,"comet_cast_sender",{error:f});c("promiseDone")(e.$4.stopCasting())}};this.$1=d("CastingState").initialCastingState();this.$2=null;this.$3=b;this.$4=a;this.$8=new(c("SubscriptionsHandler"))();this.$8.addSubscriptions(this.$4.onReceiverDisconnected(this.$9),this.$4.onSessionDisconnected(this.$9),this.$4.onSessionMessage(this.$10),this.$4.onError(this.$11))}var e=a.prototype;e.destroy=function(){this.$8.release()};e.getCastingState=function(){return this.$1};e.getCastingExperienceState=function(){return this.$2};e.setCastingState=function(a){this.$1=a};e.setCastingExperienceState=function(a){this.$2=a};e.subscribeToCastingStateChange=function(a){var b=this;this.$5.push(a);return function(){c("removeFromArray")(b.$5,a)}};e.subscribeToCastingExperienceStateChange=function(a){var b=this;this.$6.push(a);return function(){c("removeFromArray")(b.$6,a)}};e.subscribeToCastingEvent=function(a){var b=this;this.$7.push(a);return function(){c("removeFromArray")(b.$7,a)}};e.startPlayVideoNow=function(a){var e=this,f=a.environment,g=a.origin,j=a.position,k=a.subOrigin,m=a.videoID;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"cast_requested",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([c("fetchVideoCastPayload")({castSessionID:this.$3,environment:f,playerOrigin:g,playerSubOrigin:k,videoID:m}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="video_cannot_be_casted"){c("recoverableViolation")("The video is not eligible to be casted. The cast request is ignored.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("video_cannot_be_casted"),{videoID:m})});return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving video cast payload. Video failed to play.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{videoID:m})});return(h||(h=b("Promise"))).resolve()}a=e.$4.isCasting(l);a?a=e.$4.playVideoNow({position:j},f.payload):a=e.$4.startCasting(l,{position:j},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialVideoChannelExperienceState();e.$13(a)})})["catch"](function(a){e.$14({data:{type:"cast_failed",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()}),d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to cast video.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{videoID:m})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startPhotoCasting=function(a){var e=this;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"photo_cast_requested"},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchPhotoCastPayload({castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving photo cast payload.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})});return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(m,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);e.$13(d("CastingState").initialPhotoExperienceState())})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to start photo casting session.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startAlbumSlideshow=function(a){var e=this,f=a.albumID;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchAlbumCastPayload({albumID:f,castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="album_cannot_be_casted"){c("recoverableViolation")("The album is not eligible to be casted.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("album_cannot_be_casted"),{})});return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving album cast payload.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})});return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(k,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialPhotoAlbumExperienceState();e.$13(a)})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to cast album.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.disconnect=function(){c("promiseDone")(this.$4.stopCasting())};e.play=function(){c("promiseDone")(this.$4.playVideo())};e.pause=function(){c("promiseDone")(this.$4.pauseVideo())};e.setVolume=function(a){c("promiseDone")(this.$4.setVolume(a))};e.mute=function(){c("promiseDone")(this.$4.mute())};e.unmute=function(){c("promiseDone")(this.$4.unmute())};e.seek=function(a){c("promiseDone")(this.$4.seekVideo(a))};e.showSingleMedia=function(a){var b=null;switch(a.type){case"photo":b={photo_id:a.photoID};break;case"video":b={video_id:a.videoID};break;default:a.type;return}c("promiseDone")(this.$4.showPhoto({media_parameters:b,request_id:c("uuidv4")()}))};e.playAlbumSlideshow=function(){c("promiseDone")(this.$4.playAlbumSlideshow())};e.pauseAlbumSlideshow=function(){c("promiseDone")(this.$4.pauseAlbumSlideshow())};e.nextPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.nextPhotoAlbumSlideshow())};e.previousPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.previousPhotoAlbumSlideshow())};e.$12=function(a){a!==this.$1&&(this.$1=a,this.$5.slice().forEach(function(b){b(a)}))};e.$13=function(a){a!==this.$2&&(this.$2=a,this.$6.slice().forEach(function(b){b(a)}))};e.$14=function(a){this.$7.slice().forEach(function(b){b(a)})};e.$16=function(a){var b=this.$1,d=this.$2;if(d!=null&&d.type==="video_channel"){var e=a.data.video_id,f=this.$4.getVolume()||0,g=this.$4.isMuted()||!1;e!=null&&this.$14({data:{playbackState:a.data.state,playerInfo:(a==null?void 0:a.player_info)||null,receiverInfo:(a==null?void 0:a.receiver_info)||null,type:"video_status_update",videoID:e},timestamp:(i||(i=c("performanceAbsoluteNow")))()});g={receiverIsConnected:!0,receiverIsMuted:g,receiverVolume:f};if(e==null)this.$12(babelHelpers["extends"]({},b,g)),this.$13(babelHelpers["extends"]({},d,{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null}));else{f=babelHelpers["extends"]({},b,g);this.$12(f);this.$13(babelHelpers["extends"]({},d,{currentDuration:a.data.duration!=null?a.data.duration:d.currentDuration,currentPlaybackState:a.data.state,currentPosition:a.data.position,currentVideoID:e}))}}};e.$17=function(a){var b=this.$2;if(b!=null&&b.type==="photo_album"&&a.data.name==="PhotoAlbum"){var c;a=d("TV2CommsParseUtils").parseCastingReceiverPhotoAlbumReportedState(a.data.payload);a=a.media_state;c=((c=(c=a.photo_state)==null?void 0:c.photo_id)!=null?c:(c=a.video_state)==null?void 0:c.video_id)||null;a=this.$18(a);this.$13(babelHelpers["extends"]({},b,{currentAssetID:c,currentPlaybackState:a}))}};e.$15=function(){return{receiverFriendlyName:this.$4.getFriendlyName()||null,receiverIsMuted:this.$4.isMuted()||null,receiverVolume:this.$4.getVolume()||0}};e.$18=function(a){if(a.photo_state!=null)return a.photo_state.photo_playback_state==="play"?"play":"paused";else if(a.video_state!=null)return["play","seeking"].includes(a.video_state.video_playback_state)?"play":"paused";else return null};return a}();g["default"]=a}),98);
__d("CastingEventReporter",["ConnectedTvLoggingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){switch(a.data.type){case"cast_requested":b.logWithAvailableContext({event:"cast_requested",video_id_override:a.data.videoID});b.$5(a);break;case"photo_cast_requested":b.logWithAvailableContext({event:"photo_cast_requested"});b.$5(a);break;case"cast_failed":b.$5(a);break;case"video_status_update":b.$6(a.data.receiverInfo,a.data.playerInfo);b.$5(a);break;default:break}};this.$1=null;this.$2=null;this.$3={cast_session_id:a,is_google_cast_bg:null,third_party_app_id:null,tv_os_version:null,tv_player_instance_key:null,tv_player_version:null,tv_session_id:null,tv_web_client_revision:null}}var b=a.prototype;b.destroy=function(){this.$1!=null&&this.$1(),this.$1=null};b.bindToCastingController=function(a){this.$1=a.subscribeToCastingEvent(this.$4)};b.logWithAvailableContext=function(a){var b=this;c("ConnectedTvLoggingFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$3,a)})};b.$5=function(a){var b=a.data;switch(b.type){case"cast_requested":this.$2={data:b,timestamp:a.timestamp};break;case"cast_failed":var c=this.$2;this.logWithAvailableContext({event:"cast_failed",perf_time_ms:Math.floor(c!=null?a.timestamp-c.timestamp:0),video_id_override:b.videoID});this.$2=null;break;case"video_status_update":c=this.$2;if(c==null)break;var d=c.data.videoID;b.videoID===d&&b.playbackState==="play"?(this.logWithAvailableContext({event:"cast_started",perf_time_ms:Math.floor(a.timestamp-c.timestamp)}),this.$2=null):b.videoID!==d&&(this.$2=null);break}};b.$6=function(a,b){var c=(a==null?void 0:a.third_party_app_id)||null,d=(a==null?void 0:a.cast_receiver_logger_session_id)||null,e=(a==null?void 0:a.is_google_cast_bg)||null,f=(a==null?void 0:a.os_version)||null;a=(a==null?void 0:a.web_client_revision)||null;var g=(b==null?void 0:b.player_instance_key)||null;b=(b==null?void 0:b.player_version)||null;this.$3=babelHelpers["extends"]({},this.$3,{is_google_cast_bg:e,third_party_app_id:c,tv_os_version:f,tv_player_instance_key:g,tv_player_version:b,tv_session_id:d,tv_web_client_revision:a})};return a}();g["default"]=a}),98);
__d("TV2MessageTypes",[],(function(a,b,c,d,e,f){"use strict";a="urn:x-cast:com.facebook.fb";b="urn:x-cast:com.google.cast.media";f.FBAPP_CAST_PROTOCOL_NAMESPACE=a;f.GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE=b}),66);
__d("TV2PhotoShowRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoShowRequest"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoShowRequest")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoShowRequest:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:d([{json:"photo_id",js:"photo_id",typ:c(void 0,"")},{json:"video_id",js:"video_id",typ:c(void 0,"")}],"any")};e.exports={TV2PhotoShowRequestToJson:b,toTV2PhotoShowRequest:a}}),null);
__d("CastingReceiverManager",["CastingChromecastScanner","Promise","Random","SubscriptionsHandler","TV2CommsParseUtils","TV2MessageTypes","TV2PhotoShowRequest","promiseDone","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i="1.2.0";a=function(){function a(a){var b=this;this.$5=null;this.$6=null;this.$10=null;this.$11=[];this.$12=[];this.$13=[];this.$14=[];this.$15=[];this.$16=[];this.$17=[];this.$18=[];this.$19=[];this.$4=new(c("CastingChromecastScanner"))(a,d("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE);this.$2=null;this.$1=!1;this.$3=0;this.$6=null;this.$9=new Map();this.$20=new(c("SubscriptionsHandler"))();this.$20.addSubscriptions(this.$4.onStatusChanged(function(a){var c=a.foundReceiver;b.$15.slice().forEach(function(a){a(!!c)})}),this.$4.onSessionDisconnected(function(){b.$21(),b.$14.slice().forEach(function(a){a()})}),this.$4.onSessionStarted(function(a){b.$22(a)}),this.$4.onError(function(a,c){b.$11.slice().forEach(function(b){b(a,c)})}));this.$7=this.$4.init();c("promiseDone")(this.$7.then(function(){b.$2=!0,b.$1=!0,b.$13.slice().forEach(function(a){a()})},function(a){b.$2=!1,b.$12.slice().forEach(function(b){b(a)})}))}var e=a.prototype;e.ready=function(){return this.$7};e.hasSupport=function(){return this.$2};e.hasFoundReceiver=function(){return this.$4.hasFoundReceiver()};e.isCasting=function(a){var b=!!this.$5&&this.$5.isCasting();b&&a!=null&&(b=this.$6!=null&&this.$6.indexOf(a)>=0);return b};e.getSession=function(){var a=this;return this.ready().then(function(){var b=a.$5;b!=null&&!b.isConnected()&&a.$21()}).then(function(){if(a.$5)return a.$5;a.$8||(a.$8=a.$23());return a.$8})["catch"](function(b){a.$11.slice().forEach(function(a){a(b,"CastingReceiverManager.getSession")});throw b})["finally"](function(){a.$8=null})};e.startCasting=function(a,b,c){var d=this;return this.$24(a,b,c).then(function(a){a.success?d.$6=a.target:d.$6=null})};e.stopCasting=function(){var a=this;return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.ready().then(function(){var b=a.$5;b!=null&&b.isDisconnected()&&a.$21();return a.$5}).then(function(a){return a==null?(h||(h=b("Promise"))).resolve(null):a.disconnect()}).then(function(){a.$21()})};e.playVideoNow=function(a,c){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_video",babelHelpers["extends"]({},a,{auto_advance:!0}),c).then(function(){})};e.skipToNextVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("skip_video").then(function(){})};e.playVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_video",{position:a||0}).then(function(){})};e.pauseVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_video").then(function(){})};e.seekVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("seek_video",{position:a}).then(function(){})};e.showPhoto=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("show_photo",void 0,d("TV2PhotoShowRequest").TV2PhotoShowRequestToJson(a),"Photo").then(function(){})};e.stopVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("stop_video").then(function(){})};e.playAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.pauseAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.nextPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.previousPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("previous_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.getFriendlyName=function(){return this.$5==null?null:this.$5.getFriendlyName()};e.getVolume=function(){return this.$5==null?null:this.$5.getVolume()};e.setVolume=function(a){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.setVolume(a)};e.isMuted=function(){if(!this.isCasting())return null;return this.$5==null?null:this.$5.isMuted()};e.mute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.mute()};e.unmute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.unmute()};e.$26=function(){var a=this,b=this.$27();return this.$28(function(a){return{data:{client_cast_session:b,version:i},num:a,target:"version",timestamp:Date.now(),type:"version_request"}}).then(function(b){var c=b.messageNum;return a.$29(function(a){return a.response_num===c})}).then(function(a){if(a.type!=="version_response")throw c("unrecoverableViolation")('Response message was not a "version_response"',"comet_cast_sender");if(a.data==null)throw c("unrecoverableViolation")("Version response is missing data","comet_cast_sender");return a.data})};e.$24=function(a,b,d){var e=this,f=this.$27();return this.$28(function(c){return{data:{client_cast_session:f,name:a,params:b,payload:d,version:i},num:c,target:"version_launch",timestamp:Date.now(),type:"version_launch"}}).then(function(a){var b=a.messageNum;return e.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="version_launch_response")throw c("unrecoverableViolation")('Response message was not a "version_launch_response"',"comet_cast_sender");if(a.data==null)throw c("unrecoverableViolation")("Version launch response is missing data","comet_cast_sender");return a.data})};e.$30=function(){var a=this;return this.$6!=null?(h||(h=b("Promise"))).resolve(this.$6):this.getSession().then(function(b){return a.$26()}).then(function(b){var d=null;typeof b.currently_running_experience==="object"&&(d=b.currently_running_experience);if(d==null)throw c("unrecoverableViolation")("Session has no target","comet_cast_sender");a.$6=d;return a.$6})};e.$27=function(){var a=null;localStorage&&(a=localStorage.getItem("CastingSessionKey"));a==null&&(a=c("Random").uint32().toString(16),localStorage&&localStorage.setItem("CastingSessionKey",a));return a};e.$28=function(a){var b=this.$3+=2;return this.getSession().then(function(d){if(d==null)throw c("unrecoverableViolation")("The message can not be sent without a session","comet_cast_sender");var e=a(b);return d.sendMessage(e)}).then(function(){return{messageNum:b}})};e.$29=function(a){return this.getSession().then(function(e){if(e==null)throw c("unrecoverableViolation")("The message cannot be received without a session","comet_cast_sender");return new(h||(h=b("Promise")))(function(b,c){var f=e.onMessage(function(e){try{e=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(e);if(e.type==="version_response"||e.type==="version_launch_response"||e.type==="experience_state"||e.type==="command_result"){var g=!a||a(e);g&&(f.remove(),b(e))}}catch(a){f.remove(),c(a)}})})})};e.$25=function(a,b,d,e){var f=this;return this.$30().then(function(c){return f.$28(function(f){return{data:{cmd:a,name:e,params:b,payload:d},num:f,target:c,timestamp:Date.now(),type:"experience_command"}})}).then(function(a){var b=a.messageNum;return f.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="command_result")throw c("unrecoverableViolation")('Response message was not a "command_result"',"comet_cast_sender");return a.data})};e.$23=function(){var a=this;return this.$4.getSession().then(function(b){a.$5==null&&(a.$5=b);return a.$5})};e.$22=function(a){var b=this;this.$5=a;var e="extension";this.$8&&(e="site");c("promiseDone")(this.$26().then(function(c){var f=c.success;if(!f)return;var g=null;typeof c.currently_running_experience==="object"&&(g=c.currently_running_experience);g!=null&&(b.$6=g);b.$18.slice().forEach(function(c){c(a,{session:a,source:e,success:f,target:b.$6})});b.$10=a.onMessage(function(a){try{var c=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(a);b.$17.slice().forEach(function(a){a(c)})}catch(a){b.$11.slice().forEach(function(b){b(a,"CastingReceiverManager._onSessionStartedHandler")})}})}))};e.$21=function(){this.$10!=null&&(this.$10.remove(),this.$10=null);var a=this.$5;a!=null&&a.destroy();this.$5=null;this.$6=null};e.onError=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceNotSupported=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceReady=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverDisconnected=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$16;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionMessage=function(a){var b=this.$17;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$18;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStopView=function(a){var b=this.$19;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingControllerHooks",["CastingContext","CastingController","CastingEventReporter","CastingReceiverManager","CurrentUser","ExecutionEnvironment","Promise","guid","qex","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");var k=f.useContext,l=f.useEffect,m=f.useState,n=null,o=c("qex")._("1648");function p(){if(n!=null)return n;if(o==null)throw c("unrecoverableViolation")("Use useIsCastAvailable first to check if casting feature is available in this browser.","comet_cast_sender");var a=new(c("CastingReceiverManager"))(o),b=c("guid")(),d=new(c("CastingController"))(a,b);b=new(c("CastingEventReporter"))(b);b.bindToCastingController(d);n={castingController:d,castingEventReporter:b,castingReceiverManager:a};return n}function q(){var a=r();a=a.castingReceiverManager;return a}function r(){var a=d("react-compiler-runtime").c(1);if((i||(i=c("ExecutionEnvironment"))).canUseDOM&&c("CurrentUser").isLoggedIn()){var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=p(),a[0]=e):e=a[0];return e}throw new(h||(h=b("Promise")))(s)}function s(){}function t(){var a=r();a=a.castingController;return a}function a(){var a=d("react-compiler-runtime").c(6),b=q(),c=k(d("CastingContext").SetCastingControllerContext),e=m(!1),f=e[0],g=e[1];e=m(!1);var h=e[0],i=e[1],j;a[0]!==b?(e=function(){var a=b.onExperienceReady(function(){g(b.hasSupport()||!1)});g(b.hasSupport()||!1);return function(){return a.remove()}},j=[b],a[0]=b,a[1]=e,a[2]=j):(e=a[1],j=a[2]);l(e,j);a[3]!==b?(e=function(){var a=b.onReceiverStatusChanged(function(){i(b.hasFoundReceiver()||!1)});i(b.hasFoundReceiver()||!1);return function(){return a.remove()}},j=[b],a[3]=b,a[4]=e,a[5]=j):(e=a[4],j=a[5]);l(e,j);if(o==null)return!1;if(c==null)return!1;if(!f)return!1;return!h?!1:!0}function e(){var a=d("react-compiler-runtime").c(4),b=t(),e=k(d("CastingContext").SetCastingControllerContext);if(e==null)throw c("unrecoverableViolation")("Casting has to be initialized inside CastingProvider.","comet_cast_sender");var f,g;a[0]!==b||a[1]!==e?(f=function(){e(b)},g=[e,b],a[0]=b,a[1]=e,a[2]=f,a[3]=g):(f=a[2],g=a[3]);l(f,g)}g.useCastingController=t;g.useIsCastAvailable=a;g.useCastingInitializeIfNecessary=e}),98);
__d("CometVideoPictureInPictureManager.react",["CometSetWatchAndScrollVideoContext","CometVideoPictureInPictureManagerContext","CometWatchAndScrollVideoContext","XCometWatchControllerRouteBuilder","clearTimeout","gkx","react","requireDeferred","setTimeout","useCometRouterDispatcher","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometVideoPictureInPictureManager.react"),q=c("gkx")("22889"),r=50;e=["286211568997787","214604021960500","108677131037"];var s=window.document.pictureInPictureEnabled;function a(a){var b=a.children;a=a.isPipEnabled;var e=c("useCometRouterDispatcher")(),f=a;a=o(null);var g=a[0],h=a[1];a=o(!1);var t=a[0],u=a[1];a=o(!1);var v=a[0],w=a[1],x=n(!1);a=j(function(a){x.current=a},[]);var y=m(function(){return{hasNextChainedVideo:v,isPipEnabled:f,setHasNextChainedVideo:w,setSkippedFromPipPlayer:u,skippedFromPipPlayer:t}},[t,u,v,w,f]),z=o(null),A=z[0],B=z[1],C=k(c("CometWatchAndScrollVideoContext")),D=k(c("CometSetWatchAndScrollVideoContext")),E=n(null),F=n(null),G=c("useMinifiedProductAttribution")(),H=j(function(a){a===void 0&&(a=null),p.onReady(function(b){b.log({attribution_id_v2:G,click_point:a,event:"click"})})},[]),I=j(function(){var a=C==null?void 0:C.videoID,b=C==null?void 0:C.videoUrl;if(a!=null&&b!=null){var d=C==null?void 0:C.routeTracePolicy,f=C==null?void 0:C.subOrigin;b=q?b:c("XCometWatchControllerRouteBuilder").buildURL({v:a});e&&(e.go(b,{passthroughProps:{portableVideoID:A,portalingRouteTracePolicy:d,portalingSubOrigin:f}}),D(null))}},[e,C,A,D]),J=j(function(){g!=null&&(E.current=c("setTimeout")(function(){var a=g.getCurrentState(),b=a.lastPauseReason;a=a.paused;x.current||(f&&(a===!1||a===!0&&b==="product_initiated")?(I(),H("control_pip_player_return_to_tab")):window.document.pictureInPictureElement===null&&(D(null),H("control_pip_player_close")))},r))},[g,f,I,D,H]),K=j(function(){g!=null&&(x.current||(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("pause",function(){g.pause("product_initiated")})),v||window.navigator.mediaSession.setActionHandler("nexttrack",null))},[g,v,H,a]),L=j(function(a){a.requestPictureInPicture();R(!1);a=a.internal_getVideoElement();F.current=a==null?void 0:a.currentSrc},[]),M=j(function(){if(g!=null){var a=g.getIsDesktopPictureInPicture();if(a){g.exitPictureInPicture();return}L(g)}},[L,g]),N=j(function(a){h(a)},[h]),O=j(function(a){a!=null&&B(a)},[B]);z=m(function(){return{openPipPlayer:M,setController:N,setPipPortableVideoID:O}},[M,N,O]);var P=n(!1);a=o(!1);var Q=a[0],R=a[1];l(function(){var a=null;if(s&&g!=null&&window.document.pictureInPictureElement){var b=g.internal_getVideoElement();b=b==null?void 0:b.currentSrc;var c=!1,d=!1;a=g.subscribe(function(){var a=g.getCurrentState(),b=a.playing;a=a.isDesktopPictureInPicture;!c&&b&&P.current&&!x.current&&(P.current=!1,R(!0));d&&!a&&J();!d&&a&&K();c=b;d=a});b!==F.current?!Q?(g.play("user_initiated"),P.current=!0):L(g):f&&(K(),F.current=b)}return function(){a!=null&&a.remove()}},[L,g,M,v,K,J,f,Q]);l(function(){return function(){E.current!=null&&(c("clearTimeout")(E.current),E.current=null)}},[]);return i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerContext.Provider,{value:y,children:i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerAPIContext.Provider,{value:z,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g.EXCLUDED_PROVIDERS=e;g.CometVideoPictureInPictureManager=a}),98);
__d("useLiveCostreamerTagSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9770086849717179"}),null);
__d("useLiveCostreamerTagSubscription.graphql",["VideoPlayerRelay_video$normalization.graphql","useLiveCostreamerTagSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"tagged_page",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:e,storageKey:null}],storageKey:null},g={args:null,documentName:"useLiveCostreamerTagSubscription",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"};e={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],storageKey:null};var h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoPlayerCostreamingThumbnailRowInner_video"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g,d],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[h,d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},d],storageKey:null},{args:null,fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},d],storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}]},params:{id:b("useLiveCostreamerTagSubscription_facebookRelayOperation"),metadata:{subscriptionName:"live_video_tag_subscribe"},name:"useLiveCostreamerTagSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useLiveCostreamerTagSubscription.react",["CometRelay","react","react-compiler-runtime","useLiveCostreamerTagSubscription.graphql","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e,f){var g=d("react-compiler-runtime").c(8),i;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("useLiveCostreamerTagSubscription.graphql"),g[0]=i):i=g[0];i=i;var k;g[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("uuidv4")(),g[1]=k):k=g[1];g[2]!==a||g[3]!==e?(k={input:{client_subscription_id:k,tagged_page_id:a,tagged_video_id:e}},g[2]=a,g[3]=e,g[4]=k):k=g[4];g[5]!==f||g[6]!==k?(a={onNext:f,subscription:i,updater:j,variables:k},g[5]=f,g[6]=k,g[7]=a):a=g[7];e=a;i=e;d("CometRelay").useSubscription(i)}function j(a){var b;a=a.getRootField("live_video_tag_subscribe");b=a==null?void 0:(b=a.getLinkedRecord("tagged_page"))==null?void 0:b.getLinkedRecord("currently_live_video");a=a==null?void 0:a.getLinkedRecord("tagged_video");b==null&&a!=null&&a.setValue(null,"if_viewer_can_see_costreaming_tools")}g["default"]=a}),98);
__d("LiveCostreamerTagSubscription.react",["useLiveCostreamerTagSubscription.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onNext,d=a.pageID;a=a.videoID;c("useLiveCostreamerTagSubscription.react")(d,a,b);return null}g["default"]=a}),98);
__d("LiveVideoLatencyMenuContextProvider_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoLatencyMenuContextProvider_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu",fragmentName:"VideoPlayerSettingsMenuLatencyPane_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu"},{kind:"RequiredField",field:{alias:"if_viewer_can_use_latency_menu_toggle",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu_toggle",fragmentName:"VideoPlayerSettingsMenuLatencyPaneToggle_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu_toggle"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("LiveVideoLatencyMenu.react",["fbt","CometRelay","LiveVideoLatencyMenuContextProvider_video.graphql","VideoPlayerHooks","react","react-compiler-runtime","recoverableViolation","useSelectedLatencySetting"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));j.useMemo;f=h._(/*BTDS*/"Latency");var m=[o("low"),o("normal")],n=l.createContext({liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null});function o(a){switch(a){case"low":return{description:h._(/*BTDS*/"A near-real-time experience."),title:h._(/*BTDS*/"Low latency"),value:a};case"normal":return{description:h._(/*BTDS*/"Best for performance and slower connections."),title:h._(/*BTDS*/"Normal"),value:a};case"ultra-low":return{description:h._(/*BTDS*/"Best for interactive broadcasts."),title:h._(/*BTDS*/"Ultra-low"),value:a};default:a;c("recoverableViolation")("Setting "+a+" is not valid","gaming_video");return{description:h._(/*BTDS*/"Error"),title:h._(/*BTDS*/"Error"),value:a}}}function a(a,b){var e=d("react-compiler-runtime").c(10),f=(k||(k=d("VideoPlayerHooks"))).useController(),g=k.useLatencyLevel();a=c("useSelectedLatencySetting")(a,b);var h=a[1];e[0]!==g?(b=o(g),e[0]=g,e[1]=b):b=e[1];a=b;b=a.title;e[2]!==f||e[3]!==g||e[4]!==h?(a=function(a){g!==a&&(h(a),f.setLatencyLevel(a))},e[2]=f,e[3]=g,e[4]=h,e[5]=a):a=e[5];a=a;var i;e[6]!==g||e[7]!==a||e[8]!==b?(i={selectedLatencySetting:g,selectedLatencySettingTitle:b,setSelectedLatencySetting:a},e[6]=g,e[7]=a,e[8]=b,e[9]=i):i=e[9];return i}var p=i!==void 0?i:i=b("LiveVideoLatencyMenuContextProvider_video.graphql");function e(a){var b=d("react-compiler-runtime").c(7),c=a.children;a=a.video;a=d("CometRelay").useFragment(p,a);bb0:{if(a==null){var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null},b[0]=e):e=b[0];e=e;break bb0}var f;b[1]!==a.if_viewer_can_use_latency_menu||b[2]!==a.if_viewer_can_use_latency_menu_toggle?(f={liveVideoLatencyMenuPaneMatchPointer:a.if_viewer_can_use_latency_menu,liveVideoLatencyMenuPaneToggleMatchPointer:a.if_viewer_can_use_latency_menu_toggle},b[1]=a.if_viewer_can_use_latency_menu,b[2]=a.if_viewer_can_use_latency_menu_toggle,b[3]=f):f=b[3];e=f}a=e;b[4]!==c||b[5]!==a?(f=l.jsx(n.Provider,{value:a,children:c}),b[4]=c,b[5]=a,b[6]=f):f=b[6];return f}g.LATENCY_MENU_TITLE=f;g.LATENCY_SETTING_OPTIONS=m;g.LiveVideoLatencyMenuContext=n;g.getLiveVideoLatencySettingToInfoMapping=o;g.useLatencySettingState=a;g.LiveVideoLatencyMenuContextProvider=e}),226);
__d("VideoPlayerAudioTrackUtils",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a,b){if(b==null)return void 0;a=String(a).substring(0,2);try{return new Intl.DisplayNames([a],{type:"language"}).of(b)}catch(a){return void 0}};a=function(a,b){if(a==null)return h._(/*BTDS*/"Default");b=i(b,a.lang);b=(b=b)!=null?b:h._(/*BTDS*/"Default");var c=null;a.role==="dub"?c=h._(/*BTDS*/"Dubbed"):(a==null?void 0:a.role)==="description"&&(c=h._(/*BTDS*/"Description"));return c!=null?b.toString()+" - "+c.toString():b};g.getAudioTrackLabelLocalized=a}),226);
__d("VideoPlayerCaptionsControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsControl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCaptionsMenu.react",["fbt","$InternalEnum","CometKeys","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsMenuCaptionsDisplayPane.react","VideoPlayerCaptionsMenuMainPane.react","VideoPlayerHooks","react","react-compiler-runtime","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useEffect;e.useMemo;var m=e.useRef,n=e.useState,o=b("$InternalEnum")({CAPTIONS_BG_COLOR:"captionsBackgroundColor",CAPTIONS_BG_OPACITY:"captionsBackgroundOpacity",CAPTIONS_DISPLAY_MAIN:"captionsDisplayMain",CAPTIONS_TEXT_COLOR:"captionsTextColor",CAPTIONS_TEXT_SIZE:"captionsTextSize",CAPTIONS_MAIN:"captionsMain"});function a(a){var b=d("react-compiler-runtime").c(36),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,i=a.onClose,p=a.onPressLog,q=a.selectedCaptionsLocale,r=a.setCaptionsListExpanded;a=a.setSelectedCaptionsLocale;g=g===void 0?null:g;var s=(j||(j=d("VideoPlayerHooks"))).useCaptionDisplayStyle(),t=n(o.CAPTIONS_MAIN),u=t[0];t=t[1];var v=m(null),w=m(null),x;b[0]!==i?(x=function(a){v.current&&w.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!v.current.contains(a.target)&&w.current.contains(a.target)&&i()},b[0]=i,b[1]=x):x=b[1];var y=x,z;b[2]!==y?(x=function(){document.addEventListener("click",y);return function(){document.removeEventListener("click",y)}},z=[y],b[2]=y,b[3]=x,b[4]=z):(x=b[3],z=b[4]);l(x,z);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={key:c("CometKeys").ESCAPE},z=h._(/*BTDS*/"Close captions menu"),b[5]=x,b[6]=z):(x=b[5],z=b[6]);b[7]!==i?(x=[{command:x,description:z,handler:function(){i()}}],b[7]=i,b[8]=x):x=b[8];z=x;x=z;c("useLayerKeyCommands")(x);b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==p||b[13]!==q||b[14]!==r||b[15]!==a?(z=k.jsx(d("VideoPlayerCaptionsMenuMainPane.react").VideoPlayerCaptionsMenuMainPane,{availableCaptionsLocales:e,captionsListExpanded:f,onPressLog:p,selectedCaptionsLocale:q,setCaptionsListExpanded:r,setPane:t,setSelectedCaptionsLocale:a,children:g}),b[9]=e,b[10]=f,b[11]=g,b[12]=p,b[13]=q,b[14]=r,b[15]=a,b[16]=z):z=b[16];x=z;bb0:switch(u){case o.CAPTIONS_MAIN:break bb0;case o.CAPTIONS_DISPLAY_MAIN:b[17]!==s||b[18]!==p?(e=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").VideoPlayerCaptionsMenuCaptionsDisplayMainPane,{currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[17]=s,b[18]=p,b[19]=e):e=b[19];x=e;break bb0;case o.CAPTIONS_BG_COLOR:b[20]!==s||b[21]!==p?(f=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[20]=s,b[21]=p,b[22]=f):f=b[22];x=f;break bb0;case o.CAPTIONS_BG_OPACITY:b[23]!==s||b[24]!==p?(g=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundOpacity",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[23]=s,b[24]=p,b[25]=g):g=b[25];x=g;break bb0;case o.CAPTIONS_TEXT_SIZE:b[26]!==s?(q=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextSize",currentCaptionsDisplay:s,setPane:t}),b[26]=s,b[27]=q):q=b[27];x=q;break bb0;case o.CAPTIONS_TEXT_COLOR:b[28]!==s||b[29]!==p?(r=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[28]=s,b[29]=p,b[30]=r):r=b[30];x=r}b[31]!==x?(a=k.jsx("div",{ref:v,children:x}),b[31]=x,b[32]=a):a=b[32];b[33]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx("div",babelHelpers["extends"]({className:"x5yr21d x17qophe xixxii4 x13vifvy xh8yej3 x8knxv4"},{"data-testid":void 0,ref:w})),b[33]=z):z=b[33];b[34]!==a?(u=k.jsxs(k.Fragment,{children:[a,z]}),b[34]=a,b[35]=u):u=b[35];return u}g.VideoPlayerCaptionsMenuPaneType=o;g.VideoPlayerCaptionsMenu=a}),226);
__d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useCallback;var l={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",textAlign:"x1yc453h",width:"xafpxmx",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},m={captionsBackgroundColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsBackgroundOpacity:{"0%":"TRANSPARENT","25%":"LIGHT","45%":"DEFAULT","75%":"DARK","100%":"OPAQUE"},captionsTextColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsTextSize:{"(50%)":"SMALLEST","(75%)":"SMALL","(100%)":"DEFAULT","(125%)":"MEDIUM","(150%)":"BIG","(175%)":"BIGGER","(200%)":"BIGGEST"}},n={"Background Color":{ftbLabel:h._(/*BTDS*/"Background colour"),name:"captionsBackgroundColor"},"Background Opacity":{ftbLabel:h._(/*BTDS*/"Background opacity"),name:"captionsBackgroundOpacity"},"Text Color":{ftbLabel:h._(/*BTDS*/"Text colour"),name:"captionsTextColor"},"Text Size":{ftbLabel:h._(/*BTDS*/"Text size"),name:"captionsTextSize"}},o={Black:h._(/*BTDS*/"Black"),Blue:h._(/*BTDS*/"Blue"),Cyan:h._(/*BTDS*/"Cyan"),Green:h._(/*BTDS*/"Green"),Magenta:h._(/*BTDS*/"Magenta"),Red:h._(/*BTDS*/"Red"),White:h._(/*BTDS*/"White"),Yellow:h._(/*BTDS*/"Yellow")};function p(a){var b=null,c=null;switch(a){case"(50%)":b=h._(/*BTDS*/"Small");c="X-";break;case"(75%)":b=h._(/*BTDS*/"Small");break;case"(125%)":b=h._(/*BTDS*/"Large");break;case"(150%)":b=h._(/*BTDS*/"Large");c="X-";break;case"(175%)":b=h._(/*BTDS*/"Large");c="XX-";break;case"(200%)":b=h._(/*BTDS*/"Large");c="XXX-";break;case"(100%)":b=h._(/*BTDS*/"Medium")}return k.jsxs("span",{children:[c!=null&&c,b,a]})}p.displayName=p.name+" [from "+f.id+"]";var q={captionsBackgroundColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_COLOR,captionsBackgroundOpacity:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_OPACITY,captionsTextColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_COLOR,captionsTextSize:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_SIZE};function r(a){var b=d("react-compiler-runtime").c(24),e=a.onPressLog,f=a.option,g=a.optionVal,h=a.setPane,j=n[f].name;b[0]!==j||b[1]!==e||b[2]!==f||b[3]!==h?(a=function(){h(q[j]),e&&e("captions_display_main_menu",f)},b[0]=j,b[1]=e,b[2]=f,b[3]=h,b[4]=a):a=b[4];a=a;var m;bb0:switch(j){case"captionsTextColor":case"captionsBackgroundColor":m=o[g];break bb0;default:m=g}var r=f.replace(" ","");r="video-player-captions-menu-captions-display-main-"+r;var s;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1nxh6w3 x1s688f x1uncgzr"},b[5]=s):s=b[5];var t=n[f],u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x1nxh6w3 xo1l8bm"},b[6]=u):u=b[6];var v;b[7]!==j||b[8]!==g||b[9]!==m?(v=j==="captionsTextSize"?p(g):m,b[7]=j,b[8]=g,b[9]=m,b[10]=v):v=b[10];b[11]!==v||b[12]!==r?(g=k.jsx("div",babelHelpers["extends"]({},u,{"data-testid":void 0,children:v})),b[11]=v,b[12]=r,b[13]=g):g=b[13];b[14]!==t.ftbLabel||b[15]!==g?(u=k.jsxs("div",babelHelpers["extends"]({},s,{children:[t.ftbLabel,g]})),b[14]=t.ftbLabel,b[15]=g,b[16]=u):u=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1rg5ohu"},r={className:"x1lliihq"},s={display:"table-cell"},b[17]=s,b[18]=v,b[19]=r):(s=b[17],v=b[18],r=b[19]);b[20]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",babelHelpers["extends"]({},v,{children:k.jsx("div",babelHelpers["extends"]({},r,{children:k.jsx("div",{style:s,children:k.jsx(c("CometImage.react"),{src:i("480588")})})}))})),b[20]=t):t=b[20];b[21]!==a||b[22]!==u?(g=k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.menuOptionRow,children:[u,t]}),b[21]=a,b[22]=u,b[23]=g):g=b[23];return g}function a(a){var b=d("react-compiler-runtime").c(17),e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.setPane;b[0]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_MAIN)},b[0]=g,b[1]=a):a=b[1];a=a;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[2]=j):j=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x3nfvp2"},b[3]=o):o=b[3];var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=k.jsx("span",babelHelpers["extends"]({},o,{children:k.jsx(c("CometImage.react"),{src:i("480580")})})),p=k.jsx("span",babelHelpers["extends"]({className:"x1nxh6w3 x1s688f x16n37ib"},{children:h._(/*BTDS*/"Subtitle options")})),b[4]=o,b[5]=p):(o=b[4],p=b[5]);b[6]!==a?(j=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.pressableOption,children:[o,p]})})),b[6]=a,b[7]=j):j=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1anpbxc"},b[8]=o):o=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=Object.keys(n),b[9]=p):p=b[9];b[10]!==e||b[11]!==f||b[12]!==g?(a=k.jsx("div",babelHelpers["extends"]({},o,{"data-testid":void 0,children:p.map(function(a){var b=n[a].name,c=m[b];c=Object.fromEntries(Object.entries(c).map(s));c=e!=null?c[e[b]]:"";return k.jsx(r,{onPressLog:f,option:a,optionVal:c,setPane:g},a)})})),b[10]=e,b[11]=f,b[12]=g,b[13]=a):a=b[13];b[14]!==j||b[15]!==a?(o=k.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[j,a]}),b[14]=j,b[15]=a,b[16]=o):o=b[16];return o}function s(a){var b=a[0];a=a[1];return[a,b]}g.captionsDisplayOptionsMap=m;g.colorsFBTMap=o;g.getFontSizeDivWithFBTLabel=p;g.VideoPlayerCaptionsMenuCaptionsDisplayMainPane=a}),226);
__d("VideoPlayerCaptionsSettingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8917695971664599"}),null);
__d("VideoPlayerCaptionsSettingMutation.graphql",["VideoPlayerCaptionsSettingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPlayerCaptionsSettingResponsePayload",kind:"LinkedField",name:"video_player_captions_setting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsSettingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoPlayerCaptionsSettingMutation",selections:c},params:{id:b("VideoPlayerCaptionsSettingMutation_facebookRelayOperation"),metadata:{},name:"VideoPlayerCaptionsSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoPlayerCaptionsSettingMutation",["CometRelay","VideoPlayerCaptionsSettingMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("VideoPlayerCaptionsSettingMutation.graphql");function a(a,b,c){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c&&c.onCompleted,onError:c&&c.onError,optimisticResponse:{video_captions_setting:{success:!0}},variables:{input:{captions_background_color:b.captions_background_color,captions_background_opacity:b.captions_background_opacity,captions_text_color:b.captions_text_color,captions_text_size:b.captions_text_size,client_mutation_id:"www_captions_settings"}}})}g.commit=a}),98);
__d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react",["fbt","ix","CometImage.react","CometPressable.react","CometRelay","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsSettingMutation","VideoPlayerHooks","fbicon","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react")),m=j.useCallback,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},o={captionsBackgroundColor:h._(/*BTDS*/"Background colour"),captionsBackgroundOpacity:h._(/*BTDS*/"Background opacity"),captionsTextColor:h._(/*BTDS*/"Text colour"),captionsTextSize:h._(/*BTDS*/"Text size")},p=function(a){return{captions_background_color:a.captionsBackgroundColor,captions_background_opacity:a.captionsBackgroundOpacity,captions_text_color:a.captionsTextColor,captions_text_size:a.captionsTextSize}};function q(a){var b=a.captionsDisplayOption,e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.option,h=a.selected,j=a.setPane,o=(k||(k=d("VideoPlayerHooks"))).useController();a=h;var q=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[b];h=null;switch(b){case"captionsTextColor":case"captionsBackgroundColor":h=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").colorsFBTMap[g];break;default:h=g}var r="video-player-captions-menu-captions-display-pane-"+b+"-"+g;r=m(function(){a=!0;if(e!=null){e[b]=q[g];o.setCaptionsDisplayStyle(babelHelpers["extends"]({},e));var c=p(e);d("VideoPlayerCaptionsSettingMutation").commit(s,c)}j(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN);f&&f(b)},[e,q,b,o,g]);var s=d("CometRelay").useRelayEnvironment();return l.jsxs(c("CometPressable.react"),{"aria-pressed":a,onPress:r,testid:void 0,xstyle:n.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu x1849jeq"},{children:a&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})})})),b==="captionsTextSize"?d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").getFontSizeDivWithFBTLabel(g):l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu"},{children:h}))]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(26),e=a.captionsDisplayOption,f=a.currentCaptionsDisplay,g=a.onPressLog,h=a.setPane;a=o[e];var j=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[e],k=f!=null?f[e]:null,m;b[0]!==h?(m=function(){h(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN)},b[0]=h,b[1]=m):m=b[1];m=m;var p="video-player-captions-menu-captions-display-pane-"+e,r;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1nxh6w3 x1s688f x1lku1pv"},b[2]=r):r=b[2];var s=p+"-topBar",t;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x3nfvp2 x1849jeq"},b[3]=t):t=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=l.jsx("span",babelHelpers["extends"]({},t,{children:l.jsx(c("CometImage.react"),{src:i("480580")})})),b[4]=t):t=b[4];b[5]!==m||b[6]!==a||b[7]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:l.jsxs(c("CometPressable.react"),{onPress:m,testid:void 0,xstyle:n.pressableOption,children:[t,a]})})),b[5]=m,b[6]=a,b[7]=s,b[8]=r):r=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1nxh6w3 xo1l8bm x1anpbxc"},b[9]=t):t=b[9];b[10]!==j?(m=Object.keys(j),b[10]=j,b[11]=m):m=b[11];b[12]!==j||b[13]!==k||b[14]!==e||b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==m?(a=m.map(function(a){var b=k===j[a];return l.jsx(q,{captionsDisplayOption:e,currentCaptionsDisplay:f,onPressLog:g,option:a,selected:b,setPane:h},a)}),b[12]=j,b[13]=k,b[14]=e,b[15]=f,b[16]=g,b[17]=h,b[18]=m,b[19]=a):a=b[19];b[20]!==a||b[21]!==p?(s=l.jsx("div",babelHelpers["extends"]({},t,{"data-testid":void 0,children:a})),b[20]=a,b[21]=p,b[22]=s):s=b[22];b[23]!==s||b[24]!==r?(m=l.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[r,s]}),b[23]=s,b[24]=r,b[25]=m):m=b[25];return m}g.VideoPlayerCaptionsMenuCaptionsDisplayPane=a}),226);
__d("VideoPlayerCaptionsMenuMainPane.react",["fbt","ix","CometPressable.react","CometScrollableArea.react","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenuTopBar.react","VideoPlayerHooks","fbicon","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react")),m=j.useEffect,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",fontSize:"x1nxh6w3",fontWeight:"xo1l8bm",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",textAlign:"x1yc453h",":hover_backgroundColor":"xx8nu07",$$css:!0}},o=5;function p(a){var b,e,f=d("react-compiler-runtime").c(27),g=a.captions,j=a.captionsVisible,m=a.controller,o=a.focused,p=a.onPressLog,q=a.setSelectedCaptionsLocale;a=(k||(k=d("VideoPlayerHooks"))).useIsVideoBroadcast();a=g.localizedCreationMethod!=null||a;b="video-player-captions-menu-language-list-item-"+((b=g.localizedLanguage)!=null?b:"");var r;f[0]!==g.captionsUrl||f[1]!==g.locale||f[2]!==g.localizedLanguage||f[3]!==j||f[4]!==m||f[5]!==p||f[6]!==q?(r=function(){var a;g.locale!=null&&q(g.locale);j||m.setCaptionsVisible(!0);g.captionsUrl!=null&&m.setCaptionsUrl(g.captionsUrl);p&&p("captions_language_selector",(a=g.localizedLanguage)!=null?a:"")},f[0]=g.captionsUrl,f[1]=g.locale,f[2]=g.localizedLanguage,f[3]=j,f[4]=m,f[5]=p,f[6]=q,f[7]=r):r=f[7];var s;f[8]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1rg5ohu xw4jnvo"},f[8]=s):s=f[8];var t;f[9]!==o||f[10]!==b?(t=o&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})}),f[9]=o,f[10]=b,f[11]=t):t=f[11];f[12]!==t?(s=l.jsx("div",babelHelpers["extends"]({},s,{children:t})),f[12]=t,f[13]=s):s=f[13];f[14]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1ypdohk x1rg5ohu x17adc0v xzjbwwf"},f[14]=t):t=f[14];e=(e=g.localizedCountry)!=null?e:null;var u;f[15]!==a?(u=!a&&h._(/*BTDS*/"(Provided by author)"),f[15]=a,f[16]=u):u=f[16];f[17]!==g.localizedLanguage||f[18]!==e||f[19]!==u?(a=l.jsxs("div",babelHelpers["extends"]({},t,{children:[g.localizedLanguage,e,u]})),f[17]=g.localizedLanguage,f[18]=e,f[19]=u,f[20]=a):a=f[20];f[21]!==o||f[22]!==r||f[23]!==s||f[24]!==a||f[25]!==b?(t=l.jsxs(c("CometPressable.react"),{"aria-pressed":o,onPress:r,testid:void 0,xstyle:n.menuOptionRow,children:[s,a]}),f[21]=o,f[22]=r,f[23]=s,f[24]=a,f[25]=b,f[26]=t):t=f[26];return t}function a(a){var b=d("react-compiler-runtime").c(59),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,j=a.onPressLog,q=a.selectedCaptionsLocale,r=a.setCaptionsListExpanded,s=a.setPane,t=a.setSelectedCaptionsLocale,u=(k||(k=d("VideoPlayerHooks"))).useController(),v=k.useCaptionsVisible();a=e!=null?e.length:0;var w,x;b[0]!==v||b[1]!==t?(w=function(){v||t("")},x=[v,t],b[0]=v,b[1]=t,b[2]=w,b[3]=x):(w=b[2],x=b[3]);m(w,x);if(e==null)return null;b[4]!==e||b[5]!==j||b[6]!==s?(w=l.jsx(c("VideoPlayerCaptionsMenuTopBar.react"),{availableCaptionsLocales:e,onPressLog:j,setPane:s}),b[4]=e,b[5]=j,b[6]=s,b[7]=w):w=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(x={className:"x1anpbxc x15eivr9"},b[8]=x):x=b[8];s=q==="";var y;b[9]!==u||b[10]!==t?(y=function(){t(""),u.setCaptionsVisible(!1)},b[9]=u,b[10]=t,b[11]=y):y=b[11];var z;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x1rg5ohu xw4jnvo"},b[12]=z):z=b[12];var A;b[13]!==q?(A=q===""&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)}),b[13]=q,b[14]=A):A=b[14];b[15]!==A?(z=l.jsx("div",babelHelpers["extends"]({},z,{children:A})),b[15]=A,b[16]=z):z=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(A=l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x17adc0v xzjbwwf"},{children:h._(/*BTDS*/"Off")})),b[17]=A):A=b[17];b[18]!==s||b[19]!==y||b[20]!==z?(A=l.jsxs(c("CometPressable.react"),{"aria-pressed":s,onPress:y,xstyle:n.menuOptionRow,children:[z,A]}),b[18]=s,b[19]=y,b[20]=z,b[21]=A):A=b[21];if(b[22]!==e||b[23]!==v||b[24]!==u||b[25]!==j||b[26]!==q||b[27]!==t){b[29]!==v||b[30]!==u||b[31]!==j||b[32]!==q||b[33]!==t?(s=function(a){var b=a.locale===q;return a.localizedLanguage!=null?l.jsx(p,{captions:a,captionsVisible:v,controller:u,focused:b,onPressLog:j,setSelectedCaptionsLocale:t},a.locale):null},b[29]=v,b[30]=u,b[31]=j,b[32]=q,b[33]=t,b[34]=s):s=b[34];y=e.slice(0,4).map(s);b[22]=e;b[23]=v;b[24]=u;b[25]=j;b[26]=q;b[27]=t;b[28]=y}else y=b[28];b[35]!==a||b[36]!==f||b[37]!==r?(z=a>=o&&!f&&l.jsx(c("CometPressable.react"),{onPress:function(){r(!0)},xstyle:n.menuOptionRow,children:l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x1iedhe"},{children:h._(/*BTDS*/"See more")}))}),b[35]=a,b[36]=f,b[37]=r,b[38]=z):z=b[38];b[39]!==e||b[40]!==f||b[41]!==v||b[42]!==u||b[43]!==q||b[44]!==t?(s=f&&e.slice(4).map(function(a){var b=a.locale===q;return a.localizedLanguage!=null?l.jsx(p,{captions:a,captionsVisible:v,controller:u,focused:b,setSelectedCaptionsLocale:t},a.locale):null}),b[39]=e,b[40]=f,b[41]=v,b[42]=u,b[43]=q,b[44]=t,b[45]=s):s=b[45];b[46]!==f||b[47]!==r?(a=f&&l.jsx(c("CometPressable.react"),{onPress:function(){r(!1)},xstyle:n.menuOptionRow,children:l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x1iedhe"},{children:h._(/*BTDS*/"See less")}))}),b[46]=f,b[47]=r,b[48]=a):a=b[48];b[49]!==A||b[50]!==y||b[51]!==z||b[52]!==s||b[53]!==a?(e=l.jsx(c("CometScrollableArea.react"),{hideScrollbar:!0,children:l.jsxs("div",babelHelpers["extends"]({},x,{"data-testid":void 0,children:[A,y,z,s,a]}))}),b[49]=A,b[50]=y,b[51]=z,b[52]=s,b[53]=a,b[54]=e):e=b[54];b[55]!==g||b[56]!==e||b[57]!==w?(f=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[w,g,e]})}),b[55]=g,b[56]=e,b[57]=w,b[58]=f):f=b[58];return f}g.VideoPlayerCaptionsMenuMainPane=a}),226);
__d("VideoPlayerCaptionsMenuTopBar.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerCaptionsMenu.react","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));j.useCallback;var m={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.availableCaptionsLocales,f=a.onPressLog,g=a.setPane;b[0]!==f||b[1]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN),f&&f("captions_main_menu_top_bar")},b[0]=f,b[1]=g,b[2]=a):a=b[2];a=a;var j=(k||(k=d("VideoPlayerHooks"))).useIsLive(),o=k.useIsVideoBroadcast();o=o&&!j;b[3]!==e||b[4]!==o?(j=(e==null?void 0:e.some(n))||o,b[3]=e,b[4]=o,b[5]=j):j=b[5];e=j;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x14ctfv x78zum5 x1jzhcrs"},b[6]=o):o=b[6];var p,q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",babelHelpers["extends"]({className:"x1nxh6w3 x1s688f"},{children:h._(/*BTDS*/"Subtitles")})),p={className:"x6s0dn4 x14ctfv x1ypdohk x3nfvp2 x1bhwmg6 x13a6bvl x8zvzrc"},q={className:"x3nfvp2"},b[7]=j,b[8]=p,b[9]=q):(j=b[7],p=b[8],q=b[9]);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsxs("div",babelHelpers["extends"]({},p,{children:[l.jsx("span",babelHelpers["extends"]({},q,{children:l.jsx(c("CometImage.react"),{src:i("492300")})})),l.jsx("div",babelHelpers["extends"]({className:"x3nfvp2 xo1l8bm x1mnrxsn"},{children:h._(/*BTDS*/"Options")}))]})),b[10]=p):p=b[10];b[11]!==a?(q=l.jsx("div",babelHelpers["extends"]({},o,{children:l.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:m.pressableOption,children:[j,p]})})),b[11]=a,b[12]=q):q=b[12];b[13]!==e?(o=e!=null&&e&&l.jsx("div",babelHelpers["extends"]({className:"x1nxh6w3 x1k4tb9n"},{children:h._(/*BTDS*/"Auto-generated")})),b[13]=e,b[14]=o):o=b[14];b[15]!==q||b[16]!==o?(j=l.jsxs("div",{children:[q,o]}),b[15]=q,b[16]=o,b[17]=j):j=b[17];return j}function n(a){return a.localizedCreationMethod!=null}g["default"]=a}),226);
__d("VideoPlayerCaptionsControl.react",["fbt","ix","CometRelay","IntlCurrentLocale","VideoPlayerCaptionsControl_video.graphql","VideoPlayerCaptionsMenu.react","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerHooks","VideoPlayerLoggingSuboriginContext","VideoPlayerUserInteractionCounter","fbicon","react","requireDeferred","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;var n=e.useCallback,o=e.useContext,p=e.useEffect,q=e.useMemo,r=e.useRef,s=e.useState,t=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerCaptionsControl.react"),u="asr",v=function(a){return a.length<2?null:a.substr(0,2)};function a(a){var e=a.alignMenuToIcon;e=e===void 0?!1:e;var f=a.availableCaptionsLocales,g=a.captionsVisible,k=a.children;k=k===void 0?null:k;var w=a.compactMenu,x=a.icon,y=a.initialCaptionsUrl,z=a.menuOpened,A=a.onMenuOpen,B=a.onUserInteraction,C=a.setMenuOpened;a=a.video;var D=h._(/*BTDS*/"Captions");d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_captions_menu",z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU,B);B=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerCaptionsControl_video.graphql"),a);var E=(l||(l=d("VideoPlayerHooks"))).useMuted(),F=l.useController(),G=c("usePlayerOriginRouteTracePolicy")(),H=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(B),I=q(function(){var a;return((a=(a=f)!=null?a:H)!=null?a:[]).slice().sort(function(a,b){return((a=a.localizedLanguage)!=null?a:"")>((a=b.localizedLanguage)!=null?a:"")?1:-1})},[f,H]),J=(a=y)!=null?a:B==null?void 0:B.captions_url;y=s("");a=y[0];var K=y[1],L=r(null),M=r(null);p(function(){I.forEach(function(a){a.captionsUrl===J&&a.locale!=null&&(L.current==null&&(L.current=a.locale),K(a.locale))})},[I,J]);var N=c("IntlCurrentLocale").code;p(function(){var a;L.current!==u&&v((a=L.current)!=null?a:"")!==v(N)&&M.current===null?(F.setCaptionsVisible(!1),M.current=!1):E&&!g&&M.current===null?(M.current=!0,F.setCaptionsVisible(!0)):!E&&M.current===!0&&(F.setCaptionsVisible(!1),M.current=!1)},[g,F,E,N]);var O=z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU;B=s(!1);y=B[0];z=B[1];var P=o(c("VideoPlayerLoggingSuboriginContext")),Q=c("useMinifiedProductAttribution")(),R=n(function(a,b){a===void 0&&(a=null),b===void 0&&(b=null),t.onReady(function(c){c.log({attribution_id_v2:Q,click_point:a,event:"click",event_target_info:G,event_target_sub_type:b,player_suborigin:P})})},[Q,G,P]);return m.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1rg5ohu x1k70j0n x1w0mnb xzueoph x1mnrxsn"},1:{className:"x1rg5ohu x1k70j0n x1w0mnb xzueoph x1mnrxsn x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],{"data-testid":void 0,children:[O&&m.jsx("div",babelHelpers["extends"]({role:"dialog"},{0:{className:"x1av4zun x1lcm9me x1yr5g0i xrt01vj x10y3i5r xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk xk6ci0l x1602a87"},2:{className:"x1av4zun x1lcm9me x1yr5g0i xrt01vj x10y3i5r xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x1602a87 xwjie4w"},1:{className:"x1av4zun x1lcm9me x1yr5g0i xrt01vj x10y3i5r xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x1602a87 x1g75g36"},3:{className:"x1av4zun x1lcm9me x1yr5g0i xrt01vj x10y3i5r xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x1602a87 x1g75g36"}}[!!(w===!0)<<1|!!(e===!0)<<0],{children:m.jsx(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenu,{availableCaptionsLocales:I,captionsListExpanded:y,onClose:function(){C!=null&&C(null)},onPressLog:R,selectedCaptionsLocale:a,setCaptionsListExpanded:z,setSelectedCaptionsLocale:K,children:k})})),m.jsx(c("VideoPlayerControlIcon.react"),{icon:x==null?g?d("fbicon")._(i("662652"),20):d("fbicon")._(i("662655"),20):x,label:D,onPress:function(){C!=null&&C(O?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU),!O&&A!=null&&A(),R("closed_captions_button")},tooltip:D})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerCastControlIcon.react",["fbt","ix","CastingControllerHooks","CometRelay","CometWatchAndScrollVideoContext","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","emptyFunction","fbicon","react","react-compiler-runtime","recoverableViolation","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;b.useCallback;var m=b.useContext,n=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerCastControlIcon.react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.subOrigin;d("CastingControllerHooks").useCastingInitializeIfNecessary();var f=(a=(k||(k=d("VideoPlayerHooks"))).useVideoFbid())!=null?a:"",g=(k||(k=d("VideoPlayerHooks"))).useController(),j=d("CometRelay").useRelayEnvironment(),o=d("CastingControllerHooks").useCastingController();a=m(c("CometWatchAndScrollVideoContext"));var p=c("useCometLazyDialog")(n),q=p[0],r=a==null?void 0:a.videoID;b[0]!==o||b[1]!==j||b[2]!==e||b[3]!==g||b[4]!==f?(p=function(){if(f!=null){var a=g.getPlayheadPosition();o.startPlayVideoNow({environment:j,origin:"video_home",position:a,subOrigin:e,videoID:f})}else c("recoverableViolation")("Could not transition to Cast player because videoID was null","comet_video_player")},b[0]=o,b[1]=j,b[2]=e,b[3]=g,b[4]=f,b[5]=p):p=b[5];var s=p;b[6]!==s||b[7]!==q||b[8]!==r?(a=function(){r!=null?q({onClose:c("emptyFunction"),onContinue:s,startingVideoType:"cast"},c("emptyFunction")):s()},b[6]=s,b[7]=q,b[8]=r,b[9]=a):a=b[9];p=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cast video to your TV"),b[10]=a):a=b[10];a=a;var t;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("fbicon")._(i("788899"),20),b[11]=t):t=b[11];b[12]!==p?(t=l.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:t,label:a,onPress:p,tooltip:a}),b[12]=p,b[13]=t):t=b[13];return t}g["default"]=a}),226);
__d("VideoPlayerCastControl.react",["CastingControllerHooks","VideoPlayerCastControlIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.subOrigin;var e=d("CastingControllerHooks").useIsCastAvailable();if(!e)return null;b[0]!==a?(e=i.jsx(c("VideoPlayerCastControlIcon.react"),{subOrigin:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("VideoPlayerCastControlShimImpl.modern.react",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerCastControl.react").__setRef("VideoPlayerCastControlShimImpl.modern.react"));g["default"]=a}),98);
__d("VideoPlayerCastControlShim.react",["CometPlaceholder.react","VideoPlayerCastControlShimImpl.modern.react","VideoPlayerControlsGroups.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e,f;b[0]!==a?(e=a.isVisible,f=babelHelpers.objectWithoutPropertiesLoose(a,["isVisible"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==f?(a=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("VideoPlayerCastControlShimImpl.modern.react"),babelHelpers["extends"]({},f))}),b[3]=f,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(f=i.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:e,noPaddingEnd:!0,noPaddingStart:!0,children:a}),b[5]=e,b[6]=a,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerExpandSidePanelControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailExpanded,f=b.setRightRailExpanded;a[0]!==e?(b=e?h._(/*BTDS*/"Collapse comments"):h._(/*BTDS*/"Expand comments"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n x1w0mnb xzueoph x1mnrxsn"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("557039"),20):d("fbicon")._(i("557052"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerLiveVideoControls_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_clipping_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_rewind_enabled",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"LiveVideoLatencyMenuContextProvider_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_community_moderation_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video",fragmentName:"VideoPlayerModeratorControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_live_rewind",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_live_rewind",fragmentName:"VideoPlayerLiveRewindControlsGroup_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_see_costreaming_tools",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("VideoPlayerQuietModeControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailHidden,f=b.setRightRailHidden;a[0]!==e?(b=e?h._(/*BTDS*/"Show comments and reactions"):h._(/*BTDS*/"Hide comments and reactions"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n x1w0mnb xzueoph x1mnrxsn"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("942218"),20):d("fbicon")._(i("942221"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.selectedVideoQuality,f=a.setPane;a=a.targetVideoQuality;var g;b[0]!==f?(g=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.QUALITY)},b[0]=f,b[1]=g):g=b[1];var j,m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:h._(/*BTDS*/"Quality")})),m={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x1i64zmx x450l9j"},b[2]=j,b[3]=m):(j=b[2],m=b[3]);var n;b[4]!==e||b[5]!==a?(n=e==="notselected"?k.jsx("span",{"data-testid":void 0,children:"\xa0"}):e==="auto"?k.jsxs(k.Fragment,{children:[k.jsx("span",{"data-testid":void 0,children:h._(/*BTDS*/"Automatic")}),a!=null?k.jsxs(k.Fragment,{children:[k.jsx("span",{children:"\xa0"}),k.jsx("span",{"data-testid":void 0,children:a})]}):null]}):k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=a,b[6]=n):n=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 x12mruv9"},b[7]=e):e=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[8]=a):a=b[8];b[9]!==n?(e=k.jsxs("div",babelHelpers["extends"]({},m,{children:[n,a]})),b[9]=n,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(m=k.jsxs(c("CometPressable.react"),{onPress:g,testid:void 0,xstyle:l.pressableOption,children:[j,e]}),b[11]=g,b[12]=e,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("VideoPlayerSettingsMenu.react",["fbt","$InternalEnum","CometErrorBoundary.react","CometKeys","CometPlaceholder.react","CometRelay","LiveVideoLatencyMenu.react","PlaybackSpeedExperiments","VideoPlayerHooks","VideoPlayerSettingsMenuAudioTrackPane.react","VideoPlayerSettingsMenuMainPane.react","VideoPlayerSettingsMenuPlaybackSpeedPane.react","VideoPlayerSettingsMenuQualityPane.react","react","react-compiler-runtime","recoverableViolation","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef,o=e.useState,p=b("$InternalEnum")({LATENCY:"latency",MAIN:"main",PLAYBACK_SPEED:"playbackSpeed",QUALITY:"quality",AUDIO:"audio"});function a(a){var b=d("react-compiler-runtime").c(51),e=a.children,f=a.forceShowPlaybackRateControl,g=a.onClose;a=e===void 0?null:e;e=(j||(j=d("VideoPlayerHooks"))).useCaptionsLoaded();var i=j.useCaptionsVisible(),q=j.useSelectedVideoQuality(),r=j.useTargetAudioTrack(),s=j.useAvailableAudioTracks(),t=j.useInbandCaptionsAutogenerated(),u=j.useTargetVideoQuality(),v=o(p.MAIN),w=v[0],x=v[1];v=o(i);i=v[0];v=v[1];var y=j.usePlaybackRate(),z=j.useIsLive(),A=j.useIsLiveRewindActive(),B=l(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);B=B.liveVideoLatencyMenuPaneMatchPointer;var C=j.useShouldShowPlaybackRateControl(),D;b[0]!==f||b[1]!==C?(D=f===!0||d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&C,b[0]=f,b[1]=C,b[2]=D):D=b[2];f=D;b[3]!==z||b[4]!==A||b[5]!==w?(C=function(){z&&!A&&w===p.PLAYBACK_SPEED&&x(p.MAIN)},D=[A,x,z,w],b[3]=z,b[4]=A,b[5]=w,b[6]=C,b[7]=D):(C=b[6],D=b[7]);m(C,D);b[8]!==s.length||b[9]!==w?(C=function(){s.length<=1&&w===p.AUDIO&&x(p.MAIN)},b[8]=s.length,b[9]=w,b[10]=C):C=b[10];b[11]!==s||b[12]!==w?(D=[s,w],b[11]=s,b[12]=w,b[13]=D):D=b[13];m(C,D);var E=n(null),F=n(null);b[14]!==g?(C=function(a){E.current&&F.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!E.current.contains(a.target)&&F.current.contains(a.target)&&g()},b[14]=g,b[15]=C):C=b[15];var G=C;b[16]!==G?(D=function(){document.addEventListener("click",G);return function(){document.removeEventListener("click",G)}},C=[G],b[16]=G,b[17]=D,b[18]=C):(D=b[17],C=b[18]);m(D,C);b[19]===Symbol["for"]("react.memo_cache_sentinel")?(D={key:c("CometKeys").ESCAPE},C=h._(/*BTDS*/"Close video settings menu"),b[19]=D,b[20]=C):(D=b[19],C=b[20]);b[21]!==g?(D=[{command:D,description:C,handler:function(){g()}}],b[21]=g,b[22]=D):D=b[22];C=D;D=C;c("useLayerKeyCommands")(D);b[23]!==s||b[24]!==e||b[25]!==i||b[26]!==a||b[27]!==t||b[28]!==z||b[29]!==y||b[30]!==q||b[31]!==f||b[32]!==r||b[33]!==u?(C=k.jsx(c("VideoPlayerSettingsMenuMainPane.react"),{availableAudioTracks:s,captionsLoaded:e,captionsVisibleOptimistic:i,inbandCaptionsAutogenerated:t,isLive:z,playbackRate:y,selectedVideoQuality:q,setIsCaptionsVisible:v,setPane:x,shouldEnablePlaybackRateSupport:f,targetAudioTrack:r,targetVideoQuality:u,children:a}),b[23]=s,b[24]=e,b[25]=i,b[26]=a,b[27]=t,b[28]=z,b[29]=y,b[30]=q,b[31]=f,b[32]=r,b[33]=u,b[34]=C):C=b[34];D=C;bb0:switch(w){case p.LATENCY:if(B==null){c("recoverableViolation")("Latency components should not be null","gaming_video");break bb0}b[35]===Symbol["for"]("react.memo_cache_sentinel")?(v={setPane:x},b[35]=v):v=b[35];b[36]!==B?(e=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:B,props:v})})}),b[36]=B,b[37]=e):e=b[37];D=e;break bb0;case p.MAIN:break bb0;case p.PLAYBACK_SPEED:b[38]!==y?(i=k.jsx(c("VideoPlayerSettingsMenuPlaybackSpeedPane.react"),{playbackRate:y,setPane:x}),b[38]=y,b[39]=i):i=b[39];D=i;break bb0;case p.QUALITY:b[40]!==q?(a=k.jsx(c("VideoPlayerSettingsMenuQualityPane.react"),{selectedVideoQuality:q,setPane:x}),b[40]=q,b[41]=a):a=b[41];D=a;break bb0;case p.AUDIO:b[42]!==s||b[43]!==z||b[44]!==r?(t=!z&&s.length>1?k.jsx(c("VideoPlayerSettingsMenuAudioTrackPane.react"),{availableAudioTracks:s,setPane:x,targetAudioTrack:r}):null,b[42]=s,b[43]=z,b[44]=r,b[45]=t):t=b[45];D=t}b[46]!==D?(f=k.jsx("div",{ref:E,children:D}),b[46]=D,b[47]=f):f=b[47];b[48]===Symbol["for"]("react.memo_cache_sentinel")?(u=k.jsx("div",babelHelpers["extends"]({className:"xjbqb8w x5yr21d x17qophe xg6iff7 x1g81zrj xixxii4 x13vifvy xh8yej3 x8knxv4"},{"data-testid":void 0,ref:F})),b[48]=u):u=b[48];b[49]!==f?(C=k.jsxs(k.Fragment,{children:[f,u]}),b[49]=f,b[50]=C):C=b[50];return C}g.VideoPlayerSettingsMenuPaneType=p;g.VideoPlayerSettingsMenu=a}),226);
__d("VideoPlayerSettingsMenuAudioTrackPane.react",["fbt","ix","CometImage.react","CometPressable.react","CurrentLocale","FocusRegion.react","VideoPlayerAudioTrackUtils","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingEnd:"x4uap5",paddingBottom:"xg8j3zb",paddingStart:"xkhd6sd",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e=a.availableAudioTracks,f=a.setPane,g=a.targetAudioTrack,j=(k||(k=d("VideoPlayerHooks"))).useController();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=a):a=b[0];var n;b[1]!==f?(n=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=n):n=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x3nfvp2 xmgb6t1 x139jcc6"},b[3]=o):o=b[3];var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx("span",babelHelpers["extends"]({},o,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),p=h._(/*BTDS*/"Audio"),b[4]=o,b[5]=p):(o=b[4],p=b[5]);b[6]!==n?(a=l.jsx("div",babelHelpers["extends"]({},a,{children:l.jsxs(c("CometPressable.react"),{onPress:n,testid:void 0,xstyle:m.pressableOption,children:[o,p]})})),b[6]=n,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x17adc0v x1anpbxc xn80e1m"},b[8]=o):o=b[8];if(b[9]!==e||b[10]!==j||b[11]!==(g==null?void 0:g.id)){b[13]!==j||b[14]!==(g==null?void 0:g.id)?(p=function(a){var b=(g==null?void 0:g.id)===a.id,e=d("VideoPlayerAudioTrackUtils").getAudioTrackLabelLocalized(a,c("CurrentLocale").get());return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoVariant({lang:a.lang,role:a.role})},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1ykpwxx x118zf8b xnwxkdh xfocsrx x1rg5ohu xmgb6t1 xmo9yow x1yrsyyn xsyo7zv x10b6aqq x16hj40l"},{children:b&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x8u2fvd x1ht7hnu x1quq95r x5yzy4c x1rg5ohu xqu0tyb x8182xy x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:e}))]})},a.id)},b[13]=j,b[14]=g==null?void 0:g.id,b[15]=p):p=b[15];n=e.map(p);b[9]=e;b[10]=j;b[11]=g==null?void 0:g.id;b[12]=n}else n=b[12];b[16]!==n?(p=l.jsx("div",babelHelpers["extends"]({},o,{"data-testid":void 0,children:n})),b[16]=n,b[17]=p):p=b[17];b[18]!==a||b[19]!==p?(e=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,p]})}),b[18]=a,b[19]=p,b[20]=e):e=b[20];return e}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuAudioTrackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","CurrentLocale","VideoPlayerAudioTrackUtils","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.setPane;a=a.targetAudioTrack;var f;b[0]!==a?(f=d("VideoPlayerAudioTrackUtils").getAudioTrackLabelLocalized(a,c("CurrentLocale").get()),b[0]=a,b[1]=f):f=b[1];a=f;b[2]!==e?(f=function(){e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.AUDIO)},b[2]=e,b[3]=f):f=b[3];var g,j;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:h._(/*BTDS*/"Audio")})),j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x1i64zmx x450l9j xn80e1m"},b[4]=g,b[5]=j):(g=b[4],j=b[5]);var m;b[6]!==a?(m=k.jsx("span",{"data-testid":void 0,children:a}),b[6]=a,b[7]=m):m=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x3nfvp2 xmgb6t1 x12mruv9"},b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("span",babelHelpers["extends"]({},a,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[9]=a):a=b[9];b[10]!==m?(j=k.jsxs("div",babelHelpers["extends"]({},j,{children:[m,a]})),b[10]=m,b[11]=j):j=b[11];b[12]!==f||b[13]!==j?(a=k.jsxs(c("CometPressable.react"),{onPress:f,testid:void 0,xstyle:l.pressableOption,children:[g,j]}),b[12]=f,b[13]=j,b[14]=a):a=b[14];return a}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuMainPane.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","FocusRegion.react","LiveVideoLatencyMenu.react","VideoPlayerSettingsMenuAudioTrackPaneToggle.react","VideoPlayerSettingsMenuPlaybackPaneToggle.react","VideoPlayerSettingsMenuQualityPaneToggle.react","focusScopeQueries","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(23),e=a.availableAudioTracks,f=a.children,g=a.isLive,h=a.playbackRate,k=a.selectedVideoQuality,l=a.setPane,m=a.shouldEnablePlaybackRateSupport,n=a.targetAudioTrack;a=a.targetVideoQuality;var o=j(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);o=o.liveVideoLatencyMenuPaneToggleMatchPointer;g=!g&&e.length>1?c("gkx")("24336"):!1;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[0]=e):e=b[0];b[1]!==k||b[2]!==l||b[3]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("VideoPlayerSettingsMenuQualityPaneToggle.react"),{selectedVideoQuality:k,setPane:l,targetVideoQuality:a})})),b[1]=k,b[2]=l,b[3]=a,b[4]=e):e=b[4];b[5]!==l||b[6]!==g||b[7]!==n?(k=g&&i.jsx("div",babelHelpers["extends"]({className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},{children:i.jsx(c("VideoPlayerSettingsMenuAudioTrackPaneToggle.react"),{setPane:l,targetAudioTrack:n})})),b[5]=l,b[6]=g,b[7]=n,b[8]=k):k=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[9]=a):a=b[9];b[10]!==h||b[11]!==l||b[12]!==m?(g=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("VideoPlayerSettingsMenuPlaybackPaneToggle.react"),{playbackRate:h,setPane:l,shouldEnablePlaybackRateSupport:m})})),b[10]=h,b[11]=l,b[12]=m,b[13]=g):g=b[13];b[14]!==o||b[15]!==l?(n=o!=null&&i.jsx("div",babelHelpers["extends"]({className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},{children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:o,props:{setPane:l}})})})})),b[14]=o,b[15]=l,b[16]=n):n=b[16];b[17]!==f||b[18]!==e||b[19]!==k||b[20]!==g||b[21]!==n?(a=i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:i.jsxs("div",{"data-testid":void 0,children:[e,k,g,n,f]})}),b[17]=f,b[18]=e,b[19]=k,b[20]=g,b[21]=n,b[22]=a):a=b[22];return a}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuPlaybackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.playbackRate,f=a.setPane;a=a.shouldEnablePlaybackRateSupport;if(!a)return null;b[0]!==f?(a=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.PLAYBACK_SPEED)},b[0]=f,b[1]=a):a=b[1];var g,j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:h._(/*BTDS*/"Playback speed")})),j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x1i64zmx x450l9j"},b[2]=g,b[3]=j):(g=b[2],j=b[3]);var m;b[4]!==e?(m=k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=m):m=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 x12mruv9"},b[6]=e):e=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[7]=e):e=b[7];b[8]!==m?(j=k.jsxs("div",babelHelpers["extends"]({},j,{children:[m,e]})),b[8]=m,b[9]=j):j=b[9];b[10]!==a||b[11]!==j?(e=k.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:l.pressableOption,children:[g,j]}),b[10]=a,b[11]=j,b[12]=e):e=b[12];return e}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuPlaybackSpeedPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingEnd:"x4uap5",paddingBottom:"xg8j3zb",paddingStart:"xkhd6sd",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.playbackRate,f=a.setPane,g=(k||(k=d("VideoPlayerHooks"))).useController();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=a):a=b[0];var j;b[1]!==f?(j=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=j):j=b[2];var n;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x3nfvp2 xmgb6t1 x139jcc6"},b[3]=n):n=b[3];var o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx("span",babelHelpers["extends"]({},n,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),o=h._(/*BTDS*/"Playback speed"),b[4]=n,b[5]=o):(n=b[4],o=b[5]);b[6]!==j?(a=l.jsx("div",babelHelpers["extends"]({},a,{children:l.jsxs(c("CometPressable.react"),{onPress:j,testid:void 0,xstyle:m.pressableOption,children:[" ",n,o]})})),b[6]=j,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x17adc0v x1anpbxc"},b[8]=n):n=b[8];b[9]!==g||b[10]!==e?(o=l.jsx("div",babelHelpers["extends"]({},n,{"data-testid":void 0,children:[.5,.75,1,1.25,1.5,1.75,2].map(function(a){var b=e===a,d=h._(/*BTDS*/"Set the playback speed to {playback_rate_option}{is_playback_rate_option_selected}",[h._param("playback_rate_option",a),h._param("is_playback_rate_option_selected",b?", selected":"")]);return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{"aria-checked":b,"aria-label":d,onPress:function(){g.setPlaybackRate(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"x17j41np x1ykpwxx x118zf8b xnwxkdh xfocsrx x1rg5ohu xmgb6t1 xmo9yow x1yrsyyn xsyo7zv x10b6aqq x16hj40l"},{children:b&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x8u2fvd x1ht7hnu x1quq95r x5yzy4c x1rg5ohu xqu0tyb x8182xy x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)})})),b[9]=g,b[10]=e,b[11]=o):o=b[11];b[12]!==a||b[13]!==o?(j=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,o]})}),b[12]=a,b[13]=o,b[14]=j):j=b[14];return j}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingEnd:"x4uap5",paddingBottom:"xg8j3zb",paddingStart:"xkhd6sd",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.selectedVideoQuality,f=a.setPane;a=(k||(k=d("VideoPlayerHooks"))).useAvailableVideoQualities();var g=k.useIsAbrEnabled(),j=k.useController(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=n):n=b[0];var o;b[1]!==f?(o=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=o):o=b[2];var p;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x3nfvp2 xmgb6t1 x139jcc6"},b[3]=p):p=b[3];var q;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx("span",babelHelpers["extends"]({},p,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),q=h._(/*BTDS*/"Quality"),b[4]=p,b[5]=q):(p=b[4],q=b[5]);b[6]!==o?(n=l.jsx("div",babelHelpers["extends"]({},n,{children:l.jsxs(c("CometPressable.react"),{onPress:o,testid:void 0,xstyle:m.pressableOption,children:[p,q]})})),b[6]=o,b[7]=n):n=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x17adc0v x1anpbxc"},b[8]=p):p=b[8];b[9]!==j||b[10]!==g||b[11]!==e?(q=g?l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality("auto")},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1ykpwxx x118zf8b xnwxkdh xfocsrx x1rg5ohu xmgb6t1 xmo9yow x1yrsyyn xsyo7zv x10b6aqq x16hj40l"},{children:e==="auto"&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x8u2fvd x1ht7hnu x1quq95r x5yzy4c x1rg5ohu xqu0tyb x8182xy x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!(e==="auto")<<0],{"data-testid":void 0,children:h._(/*BTDS*/"Auto")}))]})},"auto"):null,b[9]=j,b[10]=g,b[11]=e,b[12]=q):q=b[12];if(b[13]!==a||b[14]!==j||b[15]!==e){b[17]!==j||b[18]!==e?(o=function(a){var b=e===a;return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1ykpwxx x118zf8b xnwxkdh xfocsrx x1rg5ohu xmgb6t1 xmo9yow x1yrsyyn xsyo7zv x10b6aqq x16hj40l"},{children:b&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x8u2fvd x1ht7hnu x1quq95r x5yzy4c x1rg5ohu xqu0tyb x8182xy x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)},b[17]=j,b[18]=e,b[19]=o):o=b[19];g=a.map(o).reverse();b[13]=a;b[14]=j;b[15]=e;b[16]=g}else g=b[16];b[20]!==q||b[21]!==g?(o=l.jsxs("div",babelHelpers["extends"]({},p,{"data-testid":void 0,children:[q,g]})),b[20]=q,b[21]=g,b[22]=o):o=b[22];b[23]!==o||b[24]!==n?(a=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[n,o]})}),b[23]=o,b[24]=n,b[25]=a):a=b[25];return a}g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchAndScrollControl_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29450006731309811"}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery.graphql",["useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"nux_id",value:9347}],c={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:"nux(nux_id:9347)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:"nux(nux_id:9347)"}]},params:{id:b("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"),metadata:{},name:"useVideoPlayerWatchAndScrollControlNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUX",["fbt","ARIA_LABEL_PLACEHOLDER_FIXME","CometRelay","CometWatchAndScrollTriggerContext","react","react-compiler-runtime","recoverableViolation","requireDeferred","useFDSCallout","useVideoPlayerWatchAndScrollControlNUXQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=j||d("react");e.useCallback;var k=e.useContext,l=e.useEffect,m=e.useState,n=c("requireDeferred")("CometDismissFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),o=c("requireDeferred")("CometLogImpressionFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),p={nux:{maxWidth:"xw5ewwj",$$css:!0}},q=9347,r=i!==void 0?i:i=b("useVideoPlayerWatchAndScrollControlNUXQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(18),e=k(c("CometWatchAndScrollTriggerContext")),f=e.setIsTriggerDisabled;e=m(null);var g=e[0],i=e[1],j=d("CometRelay").useRelayEnvironment();b[0]!==j||b[1]!==f?(e=function(){f!=null&&f(!0),i(!1),n.onReady(function(a){a.commit(j,q)})},b[0]=j,b[1]=f,b[2]=e):e=b[2];var u=e,v;b[3]!==a||b[4]!==j||b[5]!==g?(e=function(){if(a&&g===null){var b=d("CometRelay").fetchQuery(j,r,{fetchPolicy:"store-or-network"}).subscribe({next:function(b){b=(b==null?void 0:(b=b.nux)==null?void 0:b.should_show)||!1;i(b);b&&a&&o.onReady(function(a){a.commit(j,q,t,s)})}});return function(){b.unsubscribe()}}},v=[j,a,g],b[3]=a,b[4]=j,b[5]=g,b[6]=e,b[7]=v):(e=b[6],v=b[7]);l(e,v);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Continue watching while you browse Facebook."),b[8]=e):e=b[8];b[9]!==u?(v=function(){u()},b[9]=u,b[10]=v):v=b[10];var w;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(w=function(){i(!1)},b[11]=w):w=b[11];b[12]!==v?(e={align:"end","aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),arrowStyle:"inset",content:e,disableAutoFlip:!0,hasCloseButton:!0,onClose:v,onHide:w,position:"below",type:"accent",xstyle:p.nux},b[12]=v,b[13]=e):e=b[13];w=c("useFDSCallout")(e,g===!0&&a||!1);v=w.anchorRef;b[14]!==v||b[15]!==u||b[16]!==g?(e={handleDismissNUX:u,nuxRef:v,shouldShowNUX:g},b[14]=v,b[15]=u,b[16]=g,b[17]=e):e=b[17];return e}function s(){c("recoverableViolation")("logimpression fb nux mutation failed for video player watch and scroll control.","watch_www_and_off_platform")}function t(){}g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl.react",["fbt","ix","CastingStateHooks","CometPictureInPictureExpContext","CometRelay","CometRouteRenderType","CometVideoPictureInPictureManager.react","CometVideoPictureInPictureManagerContext","CometWatchAndScrollControlNUXContext","CometWatchAndScrollTriggerContext","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerWatchAndScrollControl_video.graphql","VideoPlayerWithWatchAndScrollTrigger.react","emptyFunction","fbicon","gkx","react","react-compiler-runtime","requireDeferred","useCometLazyDialog","useCometRouterDispatcher","useCometRouterState","useIsVideoHomePlayerOriginFromTracePolicy","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerWatchAndScrollControlNUX","useWatchAndScrollTrigger"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;e.useCallback;var n=e.useContext,o=e.useEffect,p=e.useState,q=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerWatchAndScrollControl.react"),r=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerWatchAndScrollControl.react"),s=6e4,t=window.document.pictureInPictureEnabled;function a(a){var e=d("react-compiler-runtime").c(56),f=a.subOrigin;a=a.video;var g=n(c("CometWatchAndScrollTriggerContext")),k=g.isControlShown,u=g.setIsControlShown;g=d("CometRouteRenderType").useIsPushView();var v=(l||(l=d("VideoPlayerHooks"))).useIsFullscreen(),w=c("useCometRouterDispatcher")(),x=c("useCometRouterState")(),y=(x=x==null?void 0:x.main.route.tabKey)!=null?x:"undefined";x=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWatchAndScrollControl_video.graphql"),a);var z=x==null?void 0:x.id;a=(a=x==null?void 0:x.playable_duration_in_ms)!=null?a:0;var A=x==null?void 0:x.is_huddle,B=x==null?void 0:x.url,C,D;e[0]!==u?(C=function(){u!=null&&u(!0)},D=[u],e[0]=u,e[1]=C,e[2]=D):(C=e[1],D=e[2]);o(C,D);var E=c("usePlayerOriginRouteTracePolicy")();C=c("useIsVideoHomePlayerOriginFromTracePolicy")(E);D=(x==null?void 0:(D=x.owner)==null?void 0:D.has_professional_features_for_watch)===!0&&a>=s&&k&&!C;var F=l.usePlaying(),G=l.useController();a=G.getPlayheadPosition();var H=a>=10;k=p(!1);C=k[0];var I=k[1];a=p(!1);var J=a[0],K=a[1];k=p(!1);a=k[0];var L=k[1];k=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsStateValue();k=k==="STARTING_INDICATOR"||k==="PLAY_NI_VIDEO"||k==="START_AD"||k==="PLAY_LONGER_AD";var M=c("useMinifiedProductAttribution")(),N,O;e[3]!==H||e[4]!==F?(N=function(){F&&H&&I(!0)},O=[H,F],e[3]=H,e[4]=F,e[5]=N,e[6]=O):(N=e[5],O=e[6]);o(N,O);var P=d("CastingStateHooks").useIsCastingAnyVideo();N=c("useCometLazyDialog")(r);var Q=N[0];O=!k&&C&&D;N=c("useVideoPlayerWatchAndScrollControlNUX")(O);var R=N.handleDismissNUX;k=N.nuxRef;C=N.shouldShowNUX;var S=C===!0&&O;D=n(c("CometWatchAndScrollControlNUXContext"));var T=D.setIsVideoPlayerWatchAndScrollControlNUXVisible,U=n(c("CometPictureInPictureExpContext"));e[7]!==S||e[8]!==T?(N=function(){T&&T(S)},C=[S,T],e[7]=S,e[8]=T,e[9]=N,e[10]=C):(N=e[9],C=e[10]);o(N,C);var V=d("useWatchAndScrollTrigger").useWatchAndScrollTrigger(f,d("VideoPlayerWithWatchAndScrollTrigger.react").WatchAndScrollTriggerType.WNS_CONTROL,z,B),W=l.useIsPremiumMusicVideo(),X=x==null?void 0:(O=x.owner)==null?void 0:O.id;e[11]!==W||e[12]!==X||e[13]!==U?(D=function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp(),b=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExpControlGroup();U.setPictureInPictureExpConfig({isInPictureInPictureExp:a,isInPictureInPictureExpControlGroup:b,isSkipAndChainingDisabled:!1});t&&a&&K(!0);a=(a||b)&&(W||d("CometVideoPictureInPictureManager.react").EXCLUDED_PROVIDERS.includes(X));a&&L(!0)},e[11]=W,e[12]=X,e[13]=U,e[14]=D):D=e[14];N=D;var Y=E==="comet.videos.tahoe";e[15]!==P||e[16]!==V||e[17]!==Q||e[18]!==z?(C=function(){P&&z!=null?Q({onClose:c("emptyFunction"),onContinue:V,startingVideoType:"wns"},c("emptyFunction")):V()},e[15]=P,e[16]=V,e[17]=Q,e[18]=z,e[19]=C):C=e[19];var Z=C;e[20]!==G||e[21]!==w||e[22]!==R||e[23]!==J||e[24]!==S||e[25]!==Z||e[26]!==M||e[27]!==E||e[28]!==f||e[29]!==y?(B=function(){Z(),J?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:E,player_suborigin:f})}),G.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:y})}),S===!0&&R(),w&&w.popPushView()},e[20]=G,e[21]=w,e[22]=R,e[23]=J,e[24]=S,e[25]=Z,e[26]=M,e[27]=E,e[28]=f,e[29]=y,e[30]=B):B=e[30];x=B;var $=f==="live_producer";e[31]!==G||e[32]!==w||e[33]!==Y||e[34]!==R||e[35]!==J||e[36]!==v||e[37]!==S||e[38]!==Z||e[39]!==M||e[40]!==$||e[41]!==E||e[42]!==f||e[43]!==y?(O=function(){Z(),J?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:E,player_suborigin:f})}),G.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:y})}),S===!0&&R(),v&&G.requestSetIsFullscreen(!1),w!=null&&($||Y)&&w.go("/",{})},e[31]=G,e[32]=w,e[33]=Y,e[34]=R,e[35]=J,e[36]=v,e[37]=S,e[38]=Z,e[39]=M,e[40]=$,e[41]=E,e[42]=f,e[43]=y,e[44]=O):O=e[44];D=O;C=g?x:D;if(c("gkx")("20836")){e[45]===Symbol["for"]("react.memo_cache_sentinel")?(B=h._(/*BTDS*/"Continue watching while you use Workplace"),e[45]=B):B=e[45];O=B}else if(A===!0){e[46]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Continue listening while you browse Facebook."),e[46]=g):g=e[46];O=g}else{e[47]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"Continue watching while you browse Facebook."),e[47]=x):x=e[47];O=x}if(J){e[48]===Symbol["for"]("react.memo_cache_sentinel")?(D=h._(/*BTDS*/"Enter picture in picture mode"),e[48]=D):D=e[48];O=D}e[49]!==a||e[50]!==S||e[51]!==O||e[52]!==k||e[53]!==N||e[54]!==C?(B=a?null:m.jsx("div",{onMouseEnter:N,ref:k,children:m.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:d("fbicon")._(i("150489"),20),label:O,onPress:C,tooltip:S?null:O})}),e[49]=a,e[50]=S,e[51]=O,e[52]=k,e[53]=N,e[54]=C,e[55]=B):B=e[55];return B}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls.react",["CometPlaceholder.react","CometRelay","CometTahoeCustomVideoAreaContext","CometTahoeSidePaneContext","CometTrackingNodeProvider.react","LiveCostreamerTagSubscription.react","LiveVideoLatencyMenu.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerLiveVideoControls_video.graphql","VideoPlayerPlaybackControl.react","VideoPlayerQuietModeControl.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerBigPlayButtonOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useState,n=h!==void 0?h:h=b("VideoPlayerLiveVideoControls_video.graphql");function o(a){var b,e,f=d("react-compiler-runtime").c(85),g=d("CometRelay").useFragment(n,a.video),h=(j||(j=d("VideoPlayerHooks"))).useEnded(),i=j.useIsFullscreen(),o=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),p=l(c("CometTahoeSidePaneContext"));p=p.rightRailHidden;var q=c("useVideoPlayerBigPlayButtonOverlay")();q=q.bigPlayButtonIsVisible;var r=j.useCaptionsLoaded(),s=j.useCaptionsVisible(),t=m(null),u=t[0];t=t[1];var v=l(d("CometTahoeCustomVideoAreaContext").CometTahoeCustomVideoAreaContext);v=v.customVideoAreaHidden;if(h)return null;h=a.disablePlaybackControls;var w=a.expandControl,x=a.isControlsVisible,y=a.isExpandControlVisible,z=a.isVolumeControlVisible,A=a.isWatchAndScrollControlVisible,B=a.onUserInteraction,C=a.shouldRenderCaptionsControl,D=a.shouldRenderCostreamControl,E=a.shouldRenderModeratorControl,F=a.subOrigin;y=y===void 0?!1:y;A=A===void 0?!1:A;C=C===void 0?!0:C;D=D===void 0?!1:D;E=E===void 0?!1:E;var G=g==null?void 0:g.id;b=g==null?void 0:(b=g.owner)==null?void 0:b.id;var H=g==null?void 0:g.if_viewer_can_see_costreaming_tools,I=H!=null,J=g==null?void 0:g.if_viewer_can_use_clipping,K=(g==null?void 0:g.is_clipping_enabled)===!0,L=g==null?void 0:g.if_viewer_can_see_community_moderation_tools,M=L!=null,N=g==null?void 0:g.if_viewer_can_use_live_rewind;e=((e=g==null?void 0:g.live_rewind_enabled)!=null?e:!1)&&a.shouldHideRewindControls!==!0;y=y||x||h===!0&&!q;A=A||x||h===!0&&!q;f[0]!==w||f[1]!==y?(q=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y,noPaddingEnd:!0,noPaddingStart:!0,children:w}),f[0]=w,f[1]=y,f[2]=q):q=f[2];w=q;f[3]!==a.shouldRenderWatchAndScrollControl||f[4]!==A||f[5]!==F||f[6]!==g?(y=a.shouldRenderWatchAndScrollControl===!0&&F!=null&&g!=null?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A,children:k.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:F,video:g})}):null,f[3]=a.shouldRenderWatchAndScrollControl,f[4]=A,f[5]=F,f[6]=g,f[7]=y):y=f[7];q=y;A=F==="watch_scroll";y=c("gkx")("24335")?C===!0:!A;f[8]!==N||f[9]!==h||f[10]!==x||f[11]!==e||f[12]!==B||f[13]!==a.shouldRenderPauseControl?(C=e?k.jsx(d("CometRelay").MatchContainer,{match:N,props:{isControlsVisible:x&&!h,onUserInteraction:B,video:N}}):k.jsxs(k.Fragment,{children:[Boolean(a.shouldRenderPauseControl)?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x&&!h,children:k.jsx(c("VideoPlayerPlaybackControl.react"),{})}):null,k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:k.jsx(k.Fragment,{})})]}),f[8]=N,f[9]=h,f[10]=x,f[11]=e,f[12]=B,f[13]=a.shouldRenderPauseControl,f[14]=C):C=f[14];f[15]!==b||f[16]!==G?(A=b!=null&&G!=null&&k.jsx(c("LiveCostreamerTagSubscription.react"),{pageID:b,videoID:G}),f[15]=b,f[16]=G,f[17]=A):A=f[17];f[18]!==I||f[19]!==H||f[20]!==i||f[21]!==D||f[22]!==G?(N=I&&D&&G!=null&&!i&&k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:H,props:{video:H}})}),f[18]=I,f[19]=H,f[20]=i,f[21]=D,f[22]=G,f[23]=N):N=f[23];f[24]!==i||f[25]!==a.shouldRenderQuietModeControl?(e=a.shouldRenderQuietModeControl===!0&&!i&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerQuietModeControl.react"),{})}),f[24]=i,f[25]=a.shouldRenderQuietModeControl,f[26]=e):e=f[26];f[27]!==i||f[28]!==a.shouldRenderExpandSidePanelControl||f[29]!==p?(b=a.shouldRenderExpandSidePanelControl===!0&&!i&&!p&&k.jsx(c("VideoPlayerExpandSidePanelControl.react"),{}),f[27]=i,f[28]=a.shouldRenderExpandSidePanelControl,f[29]=p,f[30]=b):b=f[30];f[31]!==J||f[32]!==K||f[33]!==G?(I=K&&G!=null&&k.jsx(d("CometRelay").MatchContainer,{match:J,props:{video:J,videoID:G}}),f[31]=J,f[32]=K,f[33]=G,f[34]=I):I=f[34];f[35]!==M||f[36]!==L||f[37]!==E||f[38]!==G?(H=M&&E?k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:L,props:{video:L,videoID:G}})}):null,f[35]=M,f[36]=L,f[37]=E,f[38]=G,f[39]=H):H=f[39];f[40]!==o||f[41]!==h||f[42]!==u||f[43]!==B||f[44]!==g?(D=h===!0?null:k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:k.jsx(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContextProvider,{video:g,children:k.jsx(c("VideoPlayerSettingsControl.react"),{alignMenuToIcon:(o==null?void 0:o.getBottomRowAddOn())!=null,menuOpened:u,onUserInteraction:B,setMenuOpened:t})})}),f[40]=o,f[41]=h,f[42]=u,f[43]=B,f[44]=g,f[45]=D):D=f[45];f[46]!==o||f[47]!==r||f[48]!==s||f[49]!==y||f[50]!==x||f[51]!==u||f[52]!==B||f[53]!==g?(i=r&&y?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x,children:k.jsx(c("VideoPlayerCaptionsControl.react"),{alignMenuToIcon:(o==null?void 0:o.getBottomRowAddOn())!=null,captionsVisible:s,menuOpened:u,onUserInteraction:B,setMenuOpened:t,video:g})}):null,f[46]=o,f[47]=r,f[48]=s,f[49]=y,f[50]=x,f[51]=u,f[52]=B,f[53]=g,f[54]=i):i=f[54];f[55]!==h||f[56]!==x||f[57]!==a.shouldRenderCastControl||f[58]!==F||f[59]!==g?(p=a.shouldRenderCastControl===!0&&F!=null&&g!=null?k.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:x&&!h,subOrigin:F}):null,f[55]=h,f[56]=x,f[57]=a.shouldRenderCastControl,f[58]=F,f[59]=g,f[60]=p):p=f[60];f[61]!==x||f[62]!==e||f[63]!==b||f[64]!==I||f[65]!==H||f[66]!==D||f[67]!==i||f[68]!==p||f[69]!==A||f[70]!==N?(J=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x,children:[A,N,e,b,I,H,D,i,p]}),f[61]=x,f[62]=e,f[63]=b,f[64]=I,f[65]=H,f[66]=D,f[67]=i,f[68]=p,f[69]=A,f[70]=N,f[71]=J):J=f[71];f[72]!==B?(K=k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:B})}),f[72]=B,f[73]=K):K=f[73];f[74]!==z||f[75]!==K?(M=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:z,noPaddingStart:!0,children:K}),f[74]=z,f[75]=K,f[76]=M):M=f[76];f[77]!==v||f[78]!==w||f[79]!==x||f[80]!==J||f[81]!==M||f[82]!==C||f[83]!==q?(L=k.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:x,isVisible:v,children:[C,J,w,q,M]}),f[77]=v,f[78]=w,f[79]=x,f[80]=J,f[81]=M,f[82]=C,f[83]=q,f[84]=L):L=f[84];return L}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(o,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplLive.react",["CometRelay","VideoPlayerDefaultControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(17),f=a.expandControl,g=a.isControlsVisible,i=a.isVolumeControlVisible,k=a.onUserInteraction,l=a.pictureInPictureControl,m=a.shouldHideRewindControls,n=a.shouldRenderCaptionsControl,o=a.shouldRenderCostreamControl,p=a.shouldRenderExpandSidePanelControl,q=a.shouldRenderModeratorControl,r=a.shouldRenderPauseControl,s=a.shouldRenderQuietModeControl,t=a.shouldRenderWatchAndScrollControl,u=a.subOrigin,v=a.video;a=a.videoTahoeUrl;v=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplLive_video.graphql"),v);var w;e[0]!==f||e[1]!==g||e[2]!==i||e[3]!==k||e[4]!==l||e[5]!==m||e[6]!==n||e[7]!==o||e[8]!==p||e[9]!==q||e[10]!==r||e[11]!==s||e[12]!==t||e[13]!==u||e[14]!==v||e[15]!==a?(w=j.jsx(c("VideoPlayerLiveVideoControls.react"),{expandControl:f,isControlsVisible:g,isVolumeControlVisible:i,onUserInteraction:k,pictureInPictureControl:l,shouldHideRewindControls:m,shouldRenderCaptionsControl:n,shouldRenderCostreamControl:o,shouldRenderExpandSidePanelControl:p,shouldRenderModeratorControl:q,shouldRenderPauseControl:r,shouldRenderQuietModeControl:s,shouldRenderWatchAndScrollControl:t,subOrigin:u,video:v,videoTahoeUrl:a}),e[0]=f,e[1]=g,e[2]=i,e[3]=k,e[4]=l,e[5]=m,e[6]=n,e[7]=o,e[8]=p,e[9]=q,e[10]=r,e[11]=s,e[12]=t,e[13]=u,e[14]=v,e[15]=a,e[16]=w):w=e[16];return w}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplNotLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplNotLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerDefaultControlsImplNotLive_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberRenderer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberRenderer_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_base_content_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberRenderer_video",fragmentName:"VideoPlayerScrubberBaseContentSegmented_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberBaseContentSegmentedRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberRenderer.react",["CometRelay","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerScrubberRenderer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.scrubberProps;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberRenderer_video.graphql"),a);if((a==null?void 0:a.video_player_scrubber_base_content_renderer)==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},f)),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_base_content_renderer;e[2]!==f?(a=babelHelpers["extends"]({},f),e[2]=f,e[3]=a):a=e[3];e[4]!==g||e[5]!==a?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:a}),e[4]=g,e[5]=a,e[6]=f):f=e[6];return f}g["default"]=a}),98);
__d("VideoPlayerScrubberWithPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberWithPreview_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberRenderer_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberWithPreview.react",["CometRelay","VideoPlayerScrubber.react","VideoPlayerScrubberPreview.react","VideoPlayerScrubberRenderer.react","VideoPlayerScrubberWithPreview_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.onUserInteraction;a=a.video;var g=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberWithPreview_video.graphql"),a),i;e[0]!==g?(a=function(a){return j.jsx(c("VideoPlayerScrubberRenderer.react"),{scrubberProps:a,video:g})},i=function(a){return j.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:g})},e[0]=g,e[1]=a,e[2]=i):(a=e[1],i=e[2]);var k;e[3]!==f||e[4]!==a||e[5]!==i?(k=j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:f,renderScrubber:a,renderTooltip:i}),e[3]=f,e[4]=a,e[5]=i,e[6]=k):k=e[6];return k}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplNotLive.react",["CometRelay","CometTahoeSidePaneContext","VideoPlayerCaptionsControl.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerDefaultControlsImplNotLive_video.graphql","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerQuietModeControl.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useState;function a(a){var e=d("react-compiler-runtime").c(67),f=a.availableCaptionsLocales,g=a.expandControl,i=a.initialCaptionsUrl,n=a.isControlsVisible,o=a.isVolumeControlVisible,p=a.onUserInteraction,q=a.shouldRenderCaptionsControl,r=a.shouldRenderExpandSidePanelControl,s=a.shouldRenderQuietModeControl,t=a.shouldRenderWatchAndScrollControl,u=a.skipControl,v=a.subOrigin;a=a.video;q=q===void 0?!0:q;r=r===void 0?!1:r;s=s===void 0?!1:s;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplNotLive_video.graphql"),a);var w=(j||(j=d("VideoPlayerHooks"))).useIsFullscreen(),x=a==null?void 0:a.id,y=a==null?void 0:a.if_viewer_can_use_clipping,z=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),A=l(c("CometTahoeSidePaneContext"));A=A.rightRailHidden;var B;e[0]!==n||e[1]!==w||e[2]!==s?(B=s===!0&&!w?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:n,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerQuietModeControl.react"),{})}):null,e[0]=n,e[1]=w,e[2]=s,e[3]=B):B=e[3];s=B;e[4]!==n||e[5]!==w||e[6]!==A||e[7]!==r?(B=r===!0&&!w&&!A&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:n,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerExpandSidePanelControl.react"),{})}),e[4]=n,e[5]=w,e[6]=A,e[7]=r,e[8]=B):B=e[8];w=B;e[9]!==y||e[10]!==n||e[11]!==s||e[12]!==x?(A=y!=null&&x!=null&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:n,noPaddingEnd:!0,noPaddingStart:s!=null,children:k.jsx(d("CometRelay").MatchContainer,{match:y,props:{video:y,videoID:x}})}),e[9]=y,e[10]=n,e[11]=s,e[12]=x,e[13]=A):A=e[13];r=A;B=m(null);y=B[0];x=B[1];A=s!=null||r!=null;B=(z==null?void 0:z.getBottomRowAddOn())!=null;e[14]!==y||e[15]!==p||e[16]!==B?(z=k.jsx(c("VideoPlayerSettingsControl.react"),{alignMenuToIcon:B,menuOpened:y,onUserInteraction:p,setMenuOpened:x}),e[14]=y,e[15]=p,e[16]=B,e[17]=z):z=e[17];e[18]!==n||e[19]!==A||e[20]!==z?(B=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:n,noPaddingEnd:!0,noPaddingStart:A,children:z}),e[18]=n,e[19]=A,e[20]=z,e[21]=B):B=e[21];A=B;e[22]!==n||e[23]!==t||e[24]!==v||e[25]!==a?(z=t===!0&&v!=null&&a!=null?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:n,children:k.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:v,video:a})}):null,e[22]=n,e[23]=t,e[24]=v,e[25]=a,e[26]=z):z=e[26];B=z;e[27]!==g||e[28]!==n?(t=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:n,noPaddingEnd:!0,children:g}),e[27]=g,e[28]=n,e[29]=t):t=e[29];z=t;e[30]!==p?(g=k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:p}),e[30]=p,e[31]=g):g=e[31];e[32]!==o||e[33]!==g?(t=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingStart:!0,children:g}),e[32]=o,e[33]=g,e[34]=t):t=e[34];o=t;e[35]!==p||e[36]!==a?(g=k.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:p,video:a}),e[35]=p,e[36]=a,e[37]=g):g=e[37];e[38]!==n||e[39]!==g?(t=k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:n,children:g}),e[38]=n,e[39]=g,e[40]=t):t=e[40];g=t;e[41]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx(c("VideoPlayerPlaybackControl.react"),{}),e[41]=t):t=e[41];var C;e[42]===Symbol["for"]("react.memo_cache_sentinel")?(C=k.jsx(c("VideoPlayerPlaybackTimer.react"),{}),e[42]=C):C=e[42];e[43]!==n||e[44]!==u?(t=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:n,children:[t,u,C]}),e[43]=n,e[44]=u,e[45]=t):t=e[45];C=t;u=c("gkx")("21034")?!1:c("gkx")("24335")?q===!0:v!=="watch_scroll";t=j.useCaptionsLoaded();q=j.useCaptionsVisible();v=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(a);f=(f=f)!=null?f:v;t=t||((v=f==null?void 0:f.length)!=null?v:0)>0;v=u&&t;e[46]!==f||e[47]!==q||e[48]!==i||e[49]!==n||e[50]!==y||e[51]!==p||e[52]!==v||e[53]!==a?(u=v?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:n,children:k.jsx(c("VideoPlayerCaptionsControl.react"),{availableCaptionsLocales:f,captionsVisible:q,initialCaptionsUrl:i,menuOpened:y,onUserInteraction:p,setMenuOpened:x,video:a})}):null,e[46]=f,e[47]=q,e[48]=i,e[49]=n,e[50]=y,e[51]=p,e[52]=v,e[53]=a,e[54]=u):u=e[54];t=u;e[55]!==t||e[56]!==r||e[57]!==w||e[58]!==n||e[59]!==C||e[60]!==s||e[61]!==z||e[62]!==g||e[63]!==A||e[64]!==o||e[65]!==B?(x=k.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:n,children:[C,g,s,w,r,A,t,B,z,null,o]}),e[55]=t,e[56]=r,e[57]=w,e[58]=n,e[59]=C,e[60]=s,e[61]=z,e[62]=g,e[63]=A,e[64]=o,e[65]=B,e[66]=x):x=e[66];return x}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBSMGatingUI",["EBSMGating","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MAWWaitForBackendSetup").isBackendSetupSuccessful()||d("EBSMGating").isPersistedEBTableEnabled()}g.isBackendSetupSuccessfulForEBSM=a}),98);
__d("LSOnboardFromExistingDeviceStart",["LSGetLatestEpochKeys","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][onboardFromExistingDeviceStart] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.db.table(282).add({stateKey:"auto_restored",stateValue:"true"})},function(b){return c.db.table(185).add({pk:c.i64.cast([0,1]),backupId:a[0],deviceRegistrationId:a[2],taskId:c.i64.cast([0,1])})},function(a){return c.storedProcedure(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return d[2]!==void 0?c.sequence([function(e){return d[11]=d[2].get("epoch_keys"),d[12]=d[11].get("epoch_id"),d[13]=new c.Map(),d[13].set("existing_device_id",a[1]),d[13].set("base_epoch_id",d[12]),d[14]=new c.Map(),d[14].set("success",d[13]),d[15]=c.toJSON(d[14]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_onboard_from_existing_device",c.i64.cast([0,50036]),d[15],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[4]=void 0}]):c.sequence([function(a){return d[3]!==void 0?c.sequence([function(a){return d[12]=d[3].get("error_message"),d[13]=d[3].get("error_code"),d[14]=new c.Map(),d[14].set("error_code",d[13]),d[14].set("stored_procedure","onboardFromExistingDeviceStart"),d[14].set("error_message",d[12]),d[15]=new c.Map(),d[15].set("failure",d[14]),d[16]=c.toJSON(d[15]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_onboard_from_existing_device",c.i64.cast([0,50036]),d[16],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=new c.Map(),d[18].set("error_code",d[13]),d[18].set("stored_procedure","LSEncryptedBackupsOnboardFromExistingDeviceStartStoredProcedure"),d[18].set("error_message",""),d[11]=d[18]}]):c.sequence([function(a){return d[12]=new c.Map(),d[12].set("error_code",c.i64.cast([0,603])),d[12].set("stored_procedure","onboardFromExistingDeviceStart"),d[12].set("error_message","Unknown error encountered"),d[13]=new c.Map(),d[13].set("failure",d[12]),d[14]=c.toJSON(d[13]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_onboard_from_existing_device",c.i64.cast([0,50036]),d[14],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,603])),d[16].set("stored_procedure","LSEncryptedBackupsOnboardFromExistingDeviceStartStoredProcedure"),d[16].set("error_message",""),d[11]=d[16]}])},function(a){return d[4]=d[11]}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][onboardFromExistingDeviceStart] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"onboardFromExistingDeviceStart",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsOnboardFromExistingDeviceStartStoredProcedure";a.__tables__=["experiences_shared_state","device_metadata"];e.exports=a}),null);
__d("LSOnboardFromExistingDeviceStartStoredProcedure",["LSOnboardFromExistingDeviceStart","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOnboardFromExistingDeviceStart"),e.backupId,e.previousDeviceId,e.newDeviceRegistrationId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEncryptedBackupsInitializeRestoreDeferred",["MWChatEncryptedBackupsQPLEvents","QPLUserFlow","WALogger","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Error initializing restore: ",""]);h=function(){return a};return a}var i=c("requireDeferred")("MWEncryptedBackupsInitializeRestore").__setRef("MWEncryptedBackupsInitializeRestoreDeferred");function a(a){var b=a.db,e=a.onFailure,f=a.onSuccess;i.onReady(function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"add_device_init_restore_sproc"),c("promiseDone")(a.initializeRestore(b),f,function(a){d("WALogger").ERROR(h(),a),e==null?void 0:e("failed_to_initialize_restore")})})}g.encryptedBackupsInitializeRestoreDeferred=a}),98);
__d("EBAddDeviceWithKeys",["ClientConsistencyEventEmitter","CurrentAppID","EBAPIQPLPoints","EBGating","EBSMAPI","EBSMDBAPI","EBSMGatingUI","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSOnboardFromExistingDeviceStartStoredProcedure","LSShape","MAWIndexedDbMetadata","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBODSEntityName.enum","MWEncryptedBackupsInitializeRestoreDeferred","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ODS","Promise","QPLUserFlow","ReQL","WAHashStringToNumber","WALogger","err","getErrorSafe","justknobx","promiseDone","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI addDeviceWithEBKeys initialize restore success"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI addDeviceWithEBKeys initialize restore failed"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI addDeviceWithEBKeys client state row added"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI addDeviceWithKeys sproc failed, isInWorker: ",", error: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI addDeviceWithEBKeys caling LSOnboardFromExistingDeviceStartStoredProcedure"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI addDeviceWithEBKeys start"]);s=function(){return a};return a}var t=c("requireDeferred")("MWEBUseLocalStorage").__setRef("EBAddDeviceWithKeys");function a(a){var e=a.backupId,g=a.db,l=a.isInWorker,w=a.newDeviceRegistrationId,x=a.previousDeviceId,y=a.source,z=a.trackAddingDevice;return new(k||(k=b("Promise")))(function(a,b){d("WALogger").LOG(s());l||u("START_LS_ADD_DEVICE_WITH_EB_KEYS_SPROC",d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent);var k=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")()),A=c("qpl")._(521473756,"2768"),B=y;c("QPLUserFlow").start(A,{annotations:{bool:{isEBAddDeviceWithKeys:!0,isGraphQL:!1,isInWorker:l},string:{restore_type:B}},instanceKey:k,timeoutInMs:c("justknobx")._("4226")});c("QPLUserFlow").addPoint(c("qpl")._(521473756,"2768"),d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SPROC_START,{instanceKey:k});(h||(h=d("ODS"))).bumpEntityKey(7319,B,"start");d("WALogger").LOG(r());g.runInTransaction(function(a){return c("LSOnboardFromExistingDeviceStartStoredProcedure")(c("LSFactory")(a),{backupId:e,newDeviceRegistrationId:w,previousDeviceId:x})},"readwrite",void 0,void 0,f.id+":113").then(function(e){e=e[0];l||u("END_LS_ADD_DEVICE_WITH_EB_KEYS_SPROC",d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent);c("QPLUserFlow").addPoint(c("qpl")._(521473756,"2768"),d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SPROC_END,{instanceKey:k});if(e!=null){var f=d("LSShape").toRecord(e).error_message;l||(l||u("FAIL_LS_ADD_DEVICE_WITH_EB_KEYS_SPROC_WIPE_EBSM",d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent),l||u("FAIL_LS_ADD_DEVICE_WITH_EB_KEYS_SPROC_WIPE_EBSM",d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent),d("MWChatEncryptedBackupsLogging").endFailure({errorName:f,event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({errorName:f,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}));c("QPLUserFlow").endFailure(c("qpl")._(521473756,"2768"),d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SPROC_FAILURE,{annotations:{string:{error_code:(i||(i=d("I64"))).to_string(d("LSShape").toRecord(e).error_code),error_message:f}},instanceKey:k});(h||(h=d("ODS"))).bumpEntityKey(7319,B,"fail");d("WALogger").ERROR(q(),l.toString(),f);e=l&&d("EBGating").isEBSMv2Phase1Enabled()?d("MAWIndexedDbMetadata").EBSM_WORKER_DB_PREFIX:"";c("promiseDone")(d("EBSMDBAPI").deleteEBIDB(e));if(!l)switch(d("CurrentAppID").getAppID()){case 772021112871879..toString():c("ClientConsistencyEventEmitter").emit("hardRefresh","eb_autorestore_error");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","eb_autorestore_error")}b(c("err")(f))}c("QPLUserFlow").addPoint(c("qpl")._(521473756,"2768"),d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SUBSCRIPTION_START,{instanceKey:k});var r=d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_client_state).subscribe(function(e,f){if(f.operation==="delete"){r();e="[wmi][ebsm] EBAPI addDeviceWithKeys subscription failed, isInWorker: "+l.toString()+", error: client state deleted";v(e,l,k,B);b(c("err")(e))}else if(f.operation==="add"||f.operation==="put"){e=f.value;f=e.authorityLevel;e=e.deviceId;(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(l||u("END_LS_ADD_DEVICE_WITH_EB_KEYS_TASK",d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent),c("QPLUserFlow").addPoint(c("qpl")._(521473756,"2768"),d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SUBSCRIPTION_END,{instanceKey:k}),r(),c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:g,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY})),d("WALogger").LOG(p()),l||(t.onReady(function(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}),z(e),d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:g,onFailure:function(){d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),d("WALogger").ERROR(o())},onSuccess:function(){c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"auto_restore"}}),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),d("WALogger").LOG(n())}})),c("EBSMAPI").fetchBackupIds(g,{isInWorker:l})["catch"](function(a){d("WALogger").ERROR(m(),c("getErrorSafe")(a).message)}),c("QPLUserFlow").endSuccess(c("qpl")._(521473756,"2768"),{instanceKey:k}),(h||(h=d("ODS"))).bumpEntityKey(7319,B,"success"),a())}})})["catch"](function(a){a="[wmi][ebsm] EBAPI addDeviceWithKeys sproc error, isInWorker: "+l.toString()+", error: "+c("getErrorSafe")(a).message;v(a,l,k,B);b(c("err")(a))})})}function u(a,b){c("QPLUserFlow").addPoint(b,a)}function v(a,b,e,f){b||(d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH})),c("QPLUserFlow").endFailure(c("qpl")._(521473756,"2768"),d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SPROC_FAILURE,{annotations:{string:{error_message:a}},instanceKey:e}),(h||(h=d("ODS"))).bumpEntityKey(7319,f,"fail"),d("WALogger").ERROR(l(),a)}g.addDeviceWithEBKeys=a}),98);
__d("GaloisField32",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=c("FBLogger")("labyrinth_web"),i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,5,7,1,3,13,15,9,11,21,23,17,19,29,31,25,27,0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,21,22,19,16,25,26,31,28,13,14,11,8,1,2,7,4,0,4,8,12,16,20,24,28,5,1,13,9,21,17,29,25,10,14,2,6,26,30,18,22,15,11,7,3,31,27,23,19,0,5,10,15,20,17,30,27,13,8,7,2,25,28,19,22,26,31,16,21,14,11,4,1,23,18,29,24,3,6,9,12,0,6,12,10,24,30,20,18,21,19,25,31,13,11,1,7,15,9,3,5,23,17,27,29,26,28,22,16,2,4,14,8,0,7,14,9,28,27,18,21,29,26,19,20,1,6,15,8,31,24,17,22,3,4,13,10,2,5,12,11,30,25,16,23,0,8,16,24,5,13,21,29,10,2,26,18,15,7,31,23,20,28,4,12,17,25,1,9,30,22,14,6,27,19,11,3,0,9,18,27,1,8,19,26,2,11,16,25,3,10,17,24,4,13,22,31,5,12,23,30,6,15,20,29,7,14,21,28,0,10,20,30,13,7,25,19,26,16,14,4,23,29,3,9,17,27,5,15,28,22,8,2,11,1,31,21,6,12,18,24,0,11,22,29,9,2,31,20,18,25,4,15,27,16,13,6,1,10,23,28,8,3,30,21,19,24,5,14,26,17,12,7,0,12,24,20,21,25,13,1,15,3,23,27,26,22,2,14,30,18,6,10,11,7,19,31,17,29,9,5,4,8,28,16,0,13,26,23,17,28,11,6,7,10,29,16,22,27,12,1,14,3,20,25,31,18,5,8,9,4,19,30,24,21,2,15,0,14,28,18,29,19,1,15,31,17,3,13,2,12,30,16,27,21,7,9,6,8,26,20,4,10,24,22,25,23,5,11,0,15,30,17,25,22,7,8,23,24,9,6,14,1,16,31,11,4,21,26,18,29,12,3,28,19,2,13,5,10,27,20,0,16,5,21,10,26,15,31,20,4,17,1,30,14,27,11,13,29,8,24,7,23,2,18,25,9,28,12,19,3,22,6,0,17,7,22,14,31,9,24,28,13,27,10,18,3,21,4,29,12,26,11,19,2,20,5,1,16,6,23,15,30,8,25,0,18,1,19,2,16,3,17,4,22,5,23,6,20,7,21,8,26,9,27,10,24,11,25,12,30,13,31,14,28,15,29,0,19,3,16,6,21,5,22,12,31,15,28,10,25,9,26,24,11,27,8,30,13,29,14,20,7,23,4,18,1,17,2,0,20,13,25,26,14,23,3,17,5,28,8,11,31,6,18,7,19,10,30,29,9,16,4,22,2,27,15,12,24,1,21,0,21,15,26,30,11,17,4,25,12,22,3,7,18,8,29,23,2,24,13,9,28,6,19,14,27,1,20,16,5,31,10,0,22,9,31,18,4,27,13,1,23,8,30,19,5,26,12,2,20,11,29,16,6,25,15,3,21,10,28,17,7,24,14,0,23,11,28,22,1,29,10,9,30,2,21,31,8,20,3,18,5,25,14,4,19,15,24,27,12,16,7,13,26,6,17,0,24,21,13,15,23,26,2,30,6,11,19,17,9,4,28,25,1,12,20,22,14,3,27,7,31,18,10,8,16,29,5,0,25,23,14,11,18,28,5,22,15,1,24,29,4,10,19,9,16,30,7,2,27,21,12,31,6,8,17,20,13,3,26,0,26,17,11,7,29,22,12,14,20,31,5,9,19,24,2,28,6,13,23,27,1,10,16,18,8,3,25,21,15,4,30,0,27,19,8,3,24,16,11,6,29,21,14,5,30,22,13,12,23,31,4,15,20,28,7,10,17,25,2,9,18,26,1,0,28,29,1,31,3,2,30,27,7,6,26,4,24,25,5,19,15,14,18,12,16,17,13,8,20,21,9,23,11,10,22,0,29,31,2,27,6,4,25,19,14,12,17,8,21,23,10,3,30,28,1,24,5,7,26,16,13,15,18,11,22,20,9,0,30,25,7,23,9,14,16,11,21,18,12,28,2,5,27,22,8,15,17,1,31,24,6,29,3,4,26,10,20,19,13,0,31,27,4,19,12,8,23,3,28,24,7,16,15,11,20,6,25,29,2,21,10,14,17,5,26,30,1,22,9,13,18],j=[0,1,18,28,9,23,14,12,22,4,25,16,7,15,6,13,11,24,2,29,30,26,8,5,17,10,21,31,3,19,20,27],k="ACDEFHJKLMNPQRSTUVWXYZ0123456789",l=function(){var a={};for(var b=0;b<k.length;b++)a[k[b]]=b;return a}();function m(a,b){return i[a*32+b]}function a(a){var b=[];for(var c=0;c<a.length;c++){if(!(a[c]in l)){h.mustfix("gf32: tried to convert invalid string to GF32 matrix: %s",a);return null}b[c]=l[a[c]]}return b}function b(a){var b=[];for(a of a)b.push(k[a]);return b.join("")}function n(a){return a===0||a===1||a===2||a===3||a===4||a===5||a===6||a===7||a===8||a===9||a===10||a===11||a===12||a===13||a===14||a===15||a===16||a===17||a===18||a===19||a===20||a===21||a===22||a===23||a===24||a===25||a===26||a===27||a===28||a===29||a===30||a===31?a:null}function d(a){var b=[];for(var c=0;c<a.length;c++){var d=n(a[c]);if(d==null)throw h.mustfixThrow("gf32: tried to convert bad value to GF32 element: %s",a[c]);b.push(d)}return b}function o(a,b){var c=a^b,d=n(c);if(d==null)throw h.mustfixThrow("gf32: xor of gf32 elements returned a non-element (should be impossible): %s ^ %s = %s",a,b,c);return d}function p(a,b,c,d,e){for(var f=0;f<b;f++)a[c*b+f]=o(a[c*b+f],m(a[d*b+f],e))}function q(a,b,c,d){for(var e=0;e<b;e++){var f=a[c*b+e];a[c*b+e]=a[d*b+e];a[d*b+e]=f}}function r(a,b,c,d){for(var e=0;e<b;e++)a[c*b+e]=m(a[c*b+e],d)}function s(a,b){if(b===0)throw h.mustfixThrow("gf32: tried to divide by 0");return m(a,j[b])}function t(a){var b=Array(a*a).fill(0);for(var c=0;c<a;c++)b[c*a+c]=1;return b}function e(a,b){a=a.slice();var c=t(b);for(var d=0;d<b;d++){var e=d;if(a[d*b+e]===0){var f=!1;for(var g=d+1;g<b;g++)if(a[g*b+e]!==0){q(a,b,d,g);q(c,b,d,g);f=!0;break}if(!f)return null}for(g=d+1;g<b;g++){f=s(a[g*b+e],a[d*b+e]);p(a,b,g,d,f);p(c,b,g,d,f)}}for(f=b-1;f>=0;f--){e=f;for(g=f-1;g>=0;g--){d=s(a[g*b+e],a[f*b+e]);p(a,b,g,f,d);p(c,b,g,f,d)}}for(d=0;d<b;d++){e=a[d*b+d];if(e===0)return null;r(c,b,d,j[e])}return c}f=0;g.zero=f;g.matrixToSymbols=b;g.symbolsToMatrix=a;g.invert=e;g.xor=o;g.multiply=m;g.asGf32MatExn=d}),98);
__d("GF32RecoveryCodes",["FBLogger","GaloisField32"],(function(a,b,c,d,e,f,g){"use strict";var h=c("FBLogger")("labyrinth_web"),i=34,j=4,k=3,l=i+j,m=d("GaloisField32").asGf32MatExn([18,24,16,12,8,20,2,19,4,22,21,5,28,5,14,21,7,16,15,10,3,9,28,22,11,30,19,6,7,7,9,18,16,2,9,12,18,14,7,6,5,16,9,24,16,28,19,2,14,8,2,4,1,21,26,21,10,27,16,25,18,14,20,17,11,22,21,22,16,20,2,5,0,9,6,7,23,23,23,11,6,5,3,31,29,30,17,28,0,30,28,7,13,5,11,22,12,16,25,3,20,22,26,22,14,29,5,14,5,19,12,19,18,8,25,7,30,7,8,12,0,26,15,10,17,21,2,29,14,4,31,7,29,6,29,1,14,16,17,15,4,16,7,4,7,4,8,26,10,23,24,26]);function n(a,b,c){c===void 0&&(c=1);var d=[];for(a=a;a<b;a+=c)d.push(a);return d}var o={};function p(a,b){function c(a,b,d,e){if(b<=0)return[[]];if(e-d<=b)return[n(d,e)];var f=a|b<<8|d<<16|e<<24,g=o[f];if(g!=null)return g;var h=[];c(a-1,b-1,d+1,e).forEach(function(a){a=a.slice();a.splice(0,0,d);h.push(a)});c(a-1,b,d+1,e).forEach(function(a){h.push(a.slice())});o[f]=h;return h}return c(a,b,0,a)}function q(a,b){var c=a.length,d=Array(c*c).fill(0),e=0;for(var f=0;f<j;f++){if(f===b)continue;for(var g=0;g<c;g++){var h=a[g];d[e*c+g]=m[f*l+h]}e++}return d}function r(a,b){for(var c=0;c<j;c++){var e=q(a,c);e=d("GaloisField32").invert(e,b);if(e!=null)return{excludeRow:c,submatInv:e}}return null}function a(a){var b=Array(j).fill(0);for(var c=0;c<j;c++)for(var e=0;e<i;e++)b[c]=d("GaloisField32").xor(b[c],d("GaloisField32").multiply(m[c*l+e],a[e]));e=Array(j*j);for(a=0;a<j;a++)for(c=0;c<j;c++)e[a*j+c]=m[a*l+i+c];c=d("GaloisField32").invert(e,j);if(c==null)throw h.mustfixThrow("gf32: failed to invert error code submatrix (should be impossible): %s",JSON.stringify(e));a=Array(j).fill(0);for(e=0;e<j;e++)for(var f=0;f<j;f++)a[e]=d("GaloisField32").xor(a[e],d("GaloisField32").multiply(c[e*j+f],b[f]));return a}function b(a){var b=new Set(),c=d("GaloisField32").symbolsToMatrix(a);if(c==null){h.warn("gf32: recovery code %s could not be converted to GF32 matrix",a);return[a]}a=Array(j).fill(0);for(var e=0;e<j;e++)for(var f=0;f<l;f++)a[e]=d("GaloisField32").xor(a[e],d("GaloisField32").multiply(m[e*l+f],c[f]));f=p(l,k);for(e of f){f=a.slice();for(var g=0;g<j;g++)for(var i of e)f[g]=d("GaloisField32").xor(f[g],d("GaloisField32").multiply(m[g*l+i],c[i]));i=r(e,k);if(i==null){h.warn("gf32: no submat inverse found for error locs %s",JSON.stringify(e));continue}g=i.excludeRow;i=i.submatInv;var n=Array(k).fill(0),o=f.slice();o.splice(g,1);for(var q=0;q<k;q++)for(var s=0;s<k;s++)n[q]=d("GaloisField32").xor(n[q],d("GaloisField32").multiply(i[q*k+s],o[s]));s=d("GaloisField32").zero;for(q=0;q<k;q++)s=d("GaloisField32").xor(s,d("GaloisField32").multiply(m[g*l+e[q]],n[q]));if(s===f[g]){i=c.slice();for(o=0;o<e.length;o++)i[e[o]]=n[o];b.add(d("GaloisField32").matrixToSymbols(i))}}return Array.from(b)}g.getEccForCode=a;g.getCandidateCodes=b}),98);
__d("checkLSRecoveryCodeMatch",["LSBinaryToHex.nop","LSShape","LSVec","Promise","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g,i){i=c("LSVec").toArray(i).map(function(a){return d("LSShape").toRecord(a)});var j=c("LSBinaryToHex.nop")(a,e,c("nullthrows")(f)),k=function(d,i){return d.then(function(d){if(d[0]!=null)return(h||(h=b("Promise"))).resolve(d);d=c("LSBinaryToHex.nop")(a,e,i.virtual_device_id);return(h||(h=b("Promise"))).all([j,d]).then(function(a){var c=a[0],d=a[1];a=c.length===d.length&&c.every(function(a,b){return a===d[b]});if(a)return(h||(h=b("Promise"))).resolve([f,g]);else return(h||(h=b("Promise"))).resolve([void 0,void 0])})})};return i.reduce(k,(h||(h=b("Promise"))).resolve([void 0,void 0]))}g["default"]=a}),98);
__d("deriveLSKey",["I64","LSCreateDerivedKeys.nop","LSCryptoUtils","LSVec"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){g=g==="1"?(h||(h=d("I64"))).of_string("8"):(h||(h=d("I64"))).of_string("16");g=c("LSVec").ofArray([g,(h||(h=d("I64"))).of_string("32")]);return c("LSCreateDerivedKeys.nop")(a,b,d("LSCryptoUtils").strToBuf(f),void 0,d("LSCryptoUtils").strToBuf(e),g).then(function(a){a=a[0];if(a==null)return[void 0,void 0];a=c("LSVec").toArray(a);return a.length===2?[a[0],a[1]]:[void 0,void 0]})}g["default"]=a}),98);
__d("parseLSRecoveryCode",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.substring(0,1);if(a.length!==40||c!=="1"&&c!=="2")return;var d=c==="1"?35:34,e=a.substring(1,2);a=a.substring(2,d+2);d="BackupRecoveryCode_v"+c+"_"+e+"_"+b;return[a,d,c]}f["default"]=a}),66);
__d("LSParseRecoveryCode_v2.nop",["CryptoLogger","GF32RecoveryCodes","Promise","checkLSRecoveryCodeMatch","deriveLSKey","parseLSRecoveryCode"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,e,f,g,i){var j=d("CryptoLogger").CryptoLogger("parse_recovery_code_v2");f=c("parseLSRecoveryCode")(f,g);if(f!=null)return c("deriveLSKey")(a,e,f[0],f[1],f[2]);else{i&&j.mustfix("could not parse recovery code with uid");return(h||(h=b("Promise"))).resolve([void 0,void 0])}}var j=new Map([["B","8"],["G","C"],["I","1"],["O","0"]]),k=new RegExp("["+Array.from(j.keys()).join("")+"]","g");function l(a){return a.replace(k,function(a){return j.get(a)||a})}a=function(a,e,f,g,j){if(f.length!==40)return(h||(h=b("Promise"))).resolve([void 0,void 0]);var k=f.substring(0,2),m=l(f.substring(2,40));f=d("GF32RecoveryCodes").getCandidateCodes(m);var n=function(d,f){return d.then(function(d){if(d[0]!=null)return(h||(h=b("Promise"))).resolve(d);else return i(a,e,k+f,g,!1).then(function(d){var f=d[0];if(f==null)return(h||(h=b("Promise"))).resolve([void 0,void 0]);else return c("checkLSRecoveryCodeMatch")(a,e,f,d[1],j)}).then(function(a){if(a[0]==null)return[void 0,void 0];else return a})})};return f.reduce(n,(h||(h=b("Promise"))).resolve([void 0,void 0])).then(function(c){return c[0]==null?i(a,e,k+m,g,!0):(h||(h=b("Promise"))).resolve(c)})};a.__nop_name__="LSParseRecoveryCode_v2";g["default"]=a}),98);
__d("LSAddDevice",["LSArrayGetObjectAt","LSBase64Encode.nop","LSGetViewerFBID","LSHandleWrongRecoveryCode","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSParseRecoveryCode_v2.nop","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] Beginning execution."),c("justknobx")._("946")?d.sequence([function(a){return e[8]=d.createArray(),d.forEach(d.db.table(179).fetch(),function(a){var b=a.item;return d.sequence([function(a){return e[15]=b.taskId,d.db.table(2).fetch([[[e[15]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?e[13]=!1:(a.item,e[13]=!0)})},function(a){return e[13]?0:e[16]=(e[8].push(e[15]),e[8])}])})},function(a){return e[9]=d.i64.of_int32(e[8].length),d.i64.gt(e[9],d.i64.cast([0,0]))?d.loopAsync(e[9],function(a){return e[13]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[8],e[13]).then(function(a){return a=a,e[14]=a[0],e[15]=a[1],a})},function(a){return d.forEach(d.db.table(179).fetch([[[e[14]]]]),function(a){return a["delete"]()})}])}):d.resolve()},function(a){return d.db.table(179).fetch().next().then(function(a,b){b=a.done;a=a.value;return b?e[10]=!1:(a.item,e[10]=!0)})},function(c){return e[10]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] add device task already pending"),e[14]="add device task already pending",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] ","",e[14]].join("")),e[13]=d.createArray(),void 0!==void 0?e[15]=(e[13].push(void 0),e[13]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceStoredProcedure",e[14],e[13],d.i64.cast([0,3]))},function(a){return e[12]=d.i64.cast([0,1])}]):d.sequence([function(b){return e[13]=d.createArray(),d.forEach(d.filter(d.db.table(184).fetch(),function(b){return d.i64.eq(b.backupId,a[0])}),function(a){a=a.item;return e[19]=new d.Map(),e[19].set("virtual_device_id",a.virtualDeviceId),e[20]=(e[13].push(e[19]),e[13])})},function(a){return d.db.table(172).fetch().next().then(function(a,b){var c=a.done;a=a.value;return c?e[14]=void 0:(b=a.item,e[20]=b.encryptionManagementDelegatorId,d.i64.neq(e[20],void 0)?(d.i64.neq(e[20],d.i64.cast([0,0]))?e[21]=d.i64.to_string(e[20]):e[21]=void 0,e[19]=e[21]):e[19]=void 0,e[14]=e[19])})},function(a){return d.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,e[16]=a[0],a})},function(c){return d.nativeOperation(b("LSParseRecoveryCode_v2.nop"),a[1],e[14]==null?d.i64.to_string(e[16]):e[14],e[13]).then(function(a){return a=a,e[17]=a[0],e[18]=a[1],a})},function(c){return d.blobs.neq(e[17],void 0)?d.blobs.neq(e[18],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[17]).then(function(a){return a=a,e[19]=a[0],a})},function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,1])})},function(c){return e[24]=d.i64.cast([0,1e3]),e[20]=e[24],e[21]=new d.Map(),e[21].set("backup_id",a[0]),e[21].set("virtual_device_id",e[19]==null?"":e[19]),e[21].set("trace_id",a[4]),e[22]=d.toJSON(e[21]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50007]),e[22],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,e[20]).then(function(a){return a=a,e[23]=a[0],a})},function(b){return d.db.table(185).add({pk:d.i64.cast([0,1]),backupId:a[0],deviceRegistrationId:a[2],taskId:e[23]})},function(a){return d.db.table(179).add({taskId:e[23],virtualDeviceId:e[17],blobDecryptionKey:e[18]})}]):d.storedProcedure(b("LSHandleWrongRecoveryCode"),void 0,"[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] Invalid recovery code. blob_decryption_key is null",!0):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] Invalid recovery code. virtual_device_id is null"),e[20]="Invalid recovery code. virtual_device_id is null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] ","",e[20]].join("")),e[19]=d.createArray(),void 0!==void 0?e[21]=(e[19].push(void 0),e[19]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceStoredProcedure",e[20],e[19],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleWrongRecoveryCode"),void 0,"[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] Invalid recovery code. virtual_device_id is null",!0)}])},function(a){return e[12]=d.i64.cast([0,0])}])},function(a){return e[1]=e[12]}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] addDeviceFlow is not enabled"),e[1]=d.i64.cast([0,1])))},function(a){return e[2]=d.i64.of_float(Date.now()),e[3]=d.i64.random(),e[5]="Finishing execution. Execution time: ",e[6]=d.i64.to_string(d.i64.sub(e[2],e[0])),e[7]=" ms",e[4]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceStoredProcedure] ",e[4],e[5],e[4],e[6],e[4],e[7]].join("")),d.i64.eq(d.i64.mod_(e[3],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[8]=",",e[9]=d.createArray(),void 0!==void 0?e[10]=(e[9].push(void 0),e[9]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceStoredProcedure",[e[5],e[8],e[6],e[8],e[7]].join(""),e[9],d.i64.cast([0,4]))):d.resolve()},function(a){return f[0]=e[1]}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsAddDeviceStoredProcedure";a.__tables__=["secure_recovery_code_data","pending_tasks","encrypted_backups_virtual_devices","encrypted_backups","secure_encrypted_backups_recovery_code_status","device_metadata"];d=a;g["default"]=d}),98);
__d("LSAddDeviceStoredProcedure",["LSAddDevice","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAddDevice"),e.backupId,e.recoveryCode,e.deviceRegistrationId,e.backupTenancy,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSEncryptedBackupsRecoveryCodeStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:1,VALID:2,INVALID:3,SYSTEM_ERROR:4});f["default"]=a}),66);
__d("MWEncryptedBackupsRecoveryCodeStatus",["FBLogger","I64","LSEncryptedBackupsRecoveryCodeStatus"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.onFailure,e=a.onInvalidRecoveryCode,f=a.onSuccess;a=a.recoveryCodeStatusData;if((a==null?void 0:a.length)!==1)return;a=a[0].recoveryCodeStatus;switch((h||(h=d("I64"))).to_int32(a)){case c("LSEncryptedBackupsRecoveryCodeStatus").OPTIMISTIC:return c("LSEncryptedBackupsRecoveryCodeStatus").OPTIMISTIC;case c("LSEncryptedBackupsRecoveryCodeStatus").INVALID:e==null?void 0:e();return c("LSEncryptedBackupsRecoveryCodeStatus").INVALID;case c("LSEncryptedBackupsRecoveryCodeStatus").VALID:f==null?void 0:f();return c("LSEncryptedBackupsRecoveryCodeStatus").VALID;case c("LSEncryptedBackupsRecoveryCodeStatus").SYSTEM_ERROR:b==null?void 0:b();return c("LSEncryptedBackupsRecoveryCodeStatus").SYSTEM_ERROR;default:b==null?void 0:b(),c("FBLogger")("labyrinth_web").mustfix("Invalid Recovery Code Status type")}}g.encryptedBackupsGetRecoveryCodeStatus=a}),98);
__d("EBAddDeviceWithRecoveryCode",["EBAPIQPLPoints","FBLogger","I64","LSAddDeviceStoredProcedure","LSEncryptedBackupsBackupTenancy","LSEncryptedBackupsOpStatus","LSFactory","LSIntEnum","MAWWaitForBackendSetup","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsInitializeRestoreDeferred","MWEncryptedBackupsRecoveryCodeStatus","Promise","QPLUserFlow","ReQL","WAHashStringToNumber","WALogger","cr:10885","isInstamadilloEB","justknobx","promiseDone","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI add device sproc success"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI add device sproc start"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI add device gql success"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] EBAPI add device gql start"]);n=function(){return a};return a}var o=10;function p(a){var e=a.count,f=a.storage;return new(j||(j=b("Promise")))(function(a,b){if(e===o)return a();c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.encrypted_backups)),function(b){b=b==null?void 0:b.backupId;if(b!=null)return a(b);window.setTimeout(function(){a(p({count:e+1,storage:f}))},1e3)},function(a){return b(a)})})}var q=c("qpl")._(521484295,"1460");function a(a){var e=a.environment,g=a.isInWorker,o=a.onFailure,t=a.onInvalidRecoveryCode,u=a.onStart,v=a.onSuccess,w=a.recoveryCode,x=a.storage,y=a.traceId,z=a.trackAddingDevice,A=a.trackOverprompting,B=a.userId,C=function(){},D=!1,E=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());a=new(j||(j=b("Promise")))(function(a,b){window.setTimeout(function(){if(D)return;var a="Add device failed by timeout 90 sec";c("FBLogger")("labyrinth_web").warn(a);o("add_device_timeout");s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_TIMEOUT,E);b(a)},9e4)});var F=new j(function(a,j){c("QPLUserFlow").start(c("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:g?!0:d("MAWWaitForBackendSetup").isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isGraphQL:b("cr:10885")!=null,isInWorker:g}},instanceKey:E,timeoutInMs:c("justknobx")._("4226")}),void A(q),s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ON_START_BEGIN,E,{string:{traceId:y}}),u(),s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ON_START_SUCCESS,E,{string:{traceId:y}}),C=x.tables.secure_encrypted_backups_recovery_code_status.subscribe(function(e,f){if(f.operation==="delete")return;f.operation==="add"&&b("cr:10885")==null&&s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_OPTIMISTIC_STATUS,E);e=[f.value];s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_CHECK_RC_STATUS,E,{string:{traceId:y}});d("MWEncryptedBackupsRecoveryCodeStatus").encryptedBackupsGetRecoveryCodeStatus({onFailure:function(){var a="LSEncryptedBackupsRecoveryCodeStatus system error";r(E,d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_FAILED_TO_GET_RC_STATUS,{bool:{is_backend_setup:g?!0:d("MAWWaitForBackendSetup").isBackendSetupSuccessful()},string:{traceId:y}});C();o("add_device_failed_to_get_rc_status");j(a)},onInvalidRecoveryCode:function(){var a="Invalid recovery code";r(E,d("EBAPIQPLPoints").EBAddDeviceQPLPoints.INVALID_RECOVERY_CODE,{bool:{is_backend_setup:g?!0:d("MAWWaitForBackendSetup").isBackendSetupSuccessful()},string:{traceId:y}});C();t();j(a)},onSuccess:function(){c("QPLUserFlow").addAnnotations(c("qpl")._(521473756,"2768"),{bool:{is_backend_setup:g?!0:d("MAWWaitForBackendSetup").isBackendSetupSuccessful()}},{instanceKey:E}),s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_TASK_END,E),c("QPLUserFlow").endSuccess(c("qpl")._(521473756,"2768"),{instanceKey:E}),C(),!c("isInstamadilloEB")()?g||d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:x,onFailure:o,onSuccess:v}):c("QPLUserFlow").endSuccess(q),z()["finally"](function(){v(),a()})},recoveryCodeStatusData:e})}),c("promiseDone")(p({count:0,storage:x}),function(a){if(a!=null)if(b("cr:10885")!=null){d("WALogger").LOG(n());s(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_GQL_START,E);var p=g!==!0&&e!=null?b("cr:10885").addDeviceGraphQL({backupId:a,environment:e,qplInstanceKey:E,recoveryCode:w,storage:x,userId:B}):b("cr:10885").addDeviceGraphQLWorker({backupId:a,qplInstanceKey:E,recoveryCode:w,storage:x,userId:B});return p.then(function(a){if(a.success)s(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_GQL_END,E),s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_TASK_START,E),d("WALogger").LOG(m());else{r(E,d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_GQL_FAIL,{bool:{is_backend_setup:g?!0:d("MAWWaitForBackendSetup").isBackendSetupSuccessful()},string:{fail_result:a.error}});s(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_GQL_FAIL,E);C();o("add_device_graphql_error");return j("Add device gql failed")}})}else{d("WALogger").LOG(l());var q=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();if(q===""){r(E,d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_FAILED_DEVICE_REGISTRATION_ID_NULL);C();o("deviceRegistrationId is not defied");return j("deviceRegistrationId is not defined")}s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SPROC_START,E);return x.runInTransaction(function(b){return c("LSAddDeviceStoredProcedure")(c("LSFactory")(b),{backupId:a,backupTenancy:(h||(h=d("I64"))).of_int32(c("LSEncryptedBackupsBackupTenancy").PRODUCTION),deviceRegistrationId:q,recoveryCode:w})},"readwrite",void 0,void 0,f.id+":329").then(function(a){a=a[0];if(!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsOpStatus").SUCCESS))){r(E,d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SPROC_FAILURE,{bool:{is_backend_setup:g?!0:d("MAWWaitForBackendSetup").isBackendSetupSuccessful()}});C();o("add_device_error_add_device_sproc_failure");return j("Add device sproc failed")}s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_SPROC_END,E);s(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_TASK_START,E);d("WALogger").LOG(k())})["catch"](function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(521473756,"2768"),{string:{error_message:a.message}},{instanceKey:E});throw a})}else{r(E,d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_FAILURE_BACKUP_NOT_FOUND);C();o("add_device_error_backup_id_not_defined");return j("backupId is not defined")}},function(a){var b="Add device failed. Could not find backup.";c("FBLogger")("labyrinth_web").catching(a).mustfix(b);r(E,d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_COULD_NOT_FIND_BACKUP,{string:{error_message:a.message}});C();o("add_device_error_could_not_read_backup_table");return j(b)})});return g?F.then(function(){D=!0}):(j||(j=b("Promise"))).race([F,a]).then(function(){D=!0})}var r=function(a,b,d){c("QPLUserFlow").endFailure(c("qpl")._(521473756,"2768"),b,{annotations:d,instanceKey:a})};function s(a,b,d){c("QPLUserFlow").addPoint(c("qpl")._(521473756,"2768"),a,{data:d,instanceKey:b})}g.addDeviceWithRecoveryCode=a}),98);
__d("EBFetchBackupIds",["I64","LSAuthorityLevel","LSEncryptedBackupsBackupTenancy","LSFactory","LSFetchBackupIdsStoredProcedure","LSIntEnum","Promise","err","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("justknobx")._("3868");function a(a,e){var g=e.isInWorker;return new(j||(j=b("Promise")))(function(b,e){var j,l=a.tables.encrypted_backups.subscribe(function(a,e){if(e.operation==="delete"||!(h||(h=d("I64"))).equal(e.value.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;l();window.clearTimeout(j);b()});c("promiseDone")(a.runInTransaction(function(a){return c("LSFetchBackupIdsStoredProcedure")(c("LSFactory")(a),{backupTenancy:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION),isUiBlocking:!1}).then(function(){j=window.setTimeout(function(){e(c("err")("[wmi][ebapi] Timeout fetching backup ids, isInWorker: "+g.toString()))},k)})},"readwrite",void 0,void 0,f.id+":53"))})}g.fetchBackupIds=a}),98);
__d("EBGetEBStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23909871918604871"}),null);
__d("EBGetEBStateQuery.graphql",["EBGetEBStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null}],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EBGetEBStateQuery",selections:[{kind:"RequiredField",field:a,action:"LOG",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"EBGetEBStateQuery",selections:[a]},params:{id:b("EBGetEBStateQuery_facebookRelayOperation"),metadata:{},name:"EBGetEBStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBGetEBState",["EBGetEBStateQuery.graphql","FBLogger","MAWOneTimeCodeGating","RelayHooks","WAResultOrError","XPlatRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("EBGetEBStateQuery.graphql");async function a(){try{var a,b,e=await d("RelayHooks").fetchQuery(d("XPlatRelayEnvironment").getRelayEnvironment(),i,{}).toPromise().then(function(a){return a});a=e==null?void 0:(a=e.viewer)==null?void 0:a.backup_state;if(a===1||a===0)return d("WAResultOrError").makeResult({backupStatus:a});a=(a=e==null?void 0:(a=e.viewer)==null?void 0:(a=a.encrypted_backup)==null?void 0:a.virtual_devices)!=null?a:[];var f=a.filter(function(a){return a.device_type==="HSM"});a=a.filter(function(a){return a.device_type===1});return d("WAResultOrError").makeResult({backupStatus:(e==null?void 0:(b=e.viewer)==null?void 0:b.backup_state)!=null?e.viewer.backup_state:0,ebState:{backupMetadata:{backupId:(b=e==null?void 0:(b=e.viewer)==null?void 0:(b=b.encrypted_backup)==null?void 0:b.id)!=null?b:"",creationTime:(b=e==null?void 0:(b=e.viewer)==null?void 0:(b=b.encrypted_backup)==null?void 0:b.backup_creation_time)!=null?b:0,deviceCreatedOn:(b=f[0].device_created_on)!=null?b:"",removalStatus:"",requiresHsmMigration:f[0].migration_status!=="DOES_NOT_REQUIRE_MIGRATION",virtualDeviceCreationTime:(b=(b=f[0])==null?void 0:b.creation_time)!=null?b:0,virtualDeviceId:(b=(b=f[0])==null?void 0:b.id)!=null?b:"",virtualDeviceType:(b=(b=f[0])==null?void 0:b.device_type)!=null?b:""},backupTenancy:(b=e==null?void 0:(b=e.viewer)==null?void 0:(b=b.encrypted_backup)==null?void 0:b.backup_tenancy)!=null?b:"PRODUCTION",hasOtcEligibleDevices:!!(d("MAWOneTimeCodeGating").isOneTimeCodeEnabled&&(e==null?void 0:(b=e.viewer)==null?void 0:(b=b.encrypted_backup)==null?void 0:b.has_otc_eligible_devices)!==!1),hasSeenEbAutoRestoreNotice:(b=e==null?void 0:(b=e.viewer)==null?void 0:(b=b.encrypted_backup)==null?void 0:b.has_seen_eb_auto_restore_notice)!=null?b:!1,isPINCodeRegistered:((b=f[0])==null?void 0:b.id)!=null,isUserOptedOut:(e=e==null?void 0:(f=e.viewer)==null?void 0:(b=f.encrypted_backup)==null?void 0:b.is_user_opted_out)!=null?e:!1,offlineDevicesCount:a.length}})}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Failed to check EB enabled");return d("WAResultOrError").makeResult({backupStatus:0})}}g.GetEbState=a}),98);
__d("EBGetLSVirtualDevices",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups_virtual_devices))}g.getLSVirtualDevices=a}),98);
__d("EBGetLatestChatJids",["I64","MAWBridgeSafeActionsWorkerAndUI","ReQL","WAResultOrError","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=50;async function a(a,b){b===void 0&&(b=i);try{var e;if(c("gkx")("14805")){var g=await Promise.all([d("MAWBridgeSafeActionsWorkerAndUI").sendAndReceiveBackendWorkerAndUIShared("getLatestChatJids",{count:b}),a.runInTransaction(function(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).map(function(a){a=a.jid;return(h||(h=d("I64"))).to_string(a)}))},"readonly",void 0,void 0,f.id+":47")]);e=g[0];g=g[1]}else e=await d("MAWBridgeSafeActionsWorkerAndUI").sendAndReceiveBackendWorkerAndUIShared("getLatestChatJids",{count:b}),g=await a.runInTransaction(function(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).map(function(a){a=a.jid;return(h||(h=d("I64"))).to_string(a)}))},"readonly",void 0,void 0,f.id+":66");var j=[];if(g.length>0){var k=new Set(g);e.forEach(function(a){var b=a.split("@")[0];k.has(b)&&j.push(a)})}return d("WAResultOrError").makeResult(j)}catch(a){return d("WAResultOrError").makeError(c("getErrorSafe")(a))}}g.getLatestChatJids=a}),98);
__d("EBMinosWasmOpenEpoch",["EBGetMinosWasm","EBMinosLogger","EBMinosTypes","EBMinosWasm.pb","WACreateWasmFunction","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getWasmModule;a=a.logger;var c=a.TAGS(["open-epoch"]);function e(a){var b;a=a.minosSignedEpoch;var c=a.epochHead,e=a.epochPublicData;a=a.signatures;return d("WAResultOrError").makeResult({epochHead:(b=d("EBMinosTypes")).unsafeCastToEpochHead(c),epochPublicData:{epochNumber:b.unsafeCastToEpochNumber(e.epochNumber),mailboxAuthPk:b.unsafeCastToMailboxAuthPK(e.mailboxAuthPk),mailboxEncryptionPk:b.unsafeCastToMailboxEncryptionPK(e.mailboxEncryptionPk),mailboxSigningPk:b.unsafeCastToMailboxSigningPK(e.mailboxSigningPk),previousEpochHead:e.previousEpochHead==null?null:d("EBMinosTypes").unsafeCastToEpochHead(e.previousEpochHead),userFbid:d("EBMinosTypes").unsafeCastToUserFbId(e.userFbid)},signatures:{prevSignature:a.prevSignature==null?null:d("EBMinosTypes").unsafeCastToEpochSignature(a.prevSignature),selfSignature:d("EBMinosTypes").unsafeCastToEpochSignature(a.selfSignature)}})}return async function(a){var f=a.epochNumber,g=a.exportRootKey,h=a.previousEpochHead,i=a.previousEpochNumber,j=a.previousExportRootKey;a=a.userFbid;var k=d("WACreateWasmFunction").createWasmFunction({InputSpec:d("EBMinosWasm.pb").MinosOpenEpochInputSpec,ResultSpec:d("EBMinosWasm.pb").MinosOpenEpochResultSpec,cli:"minos_cli",command:"minos-open-epoch",getWasmModule:b,logger:c,validateResult:e});k=await k({epochNumber:f,exportRootKey:g,previousEpochHead:h,previousEpochNumber:i,previousExportRootKey:j,userFbid:a});return k}}b=a({getWasmModule:d("EBGetMinosWasm").getMinosWasm,logger:d("EBMinosLogger").minosLogger});g.openEpoch=b}),98);
__d("EBMinosWasmOpenInitialEpoch",["EBGetMinosWasm","EBMinosLogger","EBMinosTypes","EBMinosWasm.pb","WACreateWasmFunction","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getWasmModule;a=a.logger;var c=a.TAGS(["open-initial-epoch"]);function e(a){var b;a=a.minosSignedEpoch;var c=a.epochHead,e=a.epochPublicData;a=a.signatures;return d("WAResultOrError").makeResult({epochHead:(b=d("EBMinosTypes")).unsafeCastToEpochHead(c),epochPublicData:{epochNumber:b.unsafeCastToEpochNumber(e.epochNumber),mailboxAuthPk:b.unsafeCastToMailboxAuthPK(e.mailboxAuthPk),mailboxEncryptionPk:b.unsafeCastToMailboxEncryptionPK(e.mailboxEncryptionPk),mailboxSigningPk:b.unsafeCastToMailboxSigningPK(e.mailboxSigningPk),previousEpochHead:e.previousEpochHead==null?null:d("EBMinosTypes").unsafeCastToEpochHead(e.previousEpochHead),userFbid:d("EBMinosTypes").unsafeCastToUserFbId(e.userFbid)},signatures:{prevSignature:a.prevSignature==null?null:d("EBMinosTypes").unsafeCastToEpochSignature(a.prevSignature),selfSignature:d("EBMinosTypes").unsafeCastToEpochSignature(a.selfSignature)}})}return async function(a){var f=a.epochNumber,g=a.exportRootKey;a=a.userFbid;var h=d("WACreateWasmFunction").createWasmFunction({InputSpec:d("EBMinosWasm.pb").MinosOpenInitialEpochInputSpec,ResultSpec:d("EBMinosWasm.pb").MinosOpenInitialEpochResultSpec,cli:"minos_cli",command:"minos-open-initial-epoch",getWasmModule:b,logger:c,validateResult:e});h=await h({epochNumber:f,exportRootKey:g,userFbid:a});return h}}b=a({getWasmModule:d("EBGetMinosWasm").getMinosWasm,logger:d("EBMinosLogger").minosLogger});g.openInitialEpoch=b}),98);
__d("EBMinosCreateMinosEpochParams",["EBMinosLogger","EBMinosTypes","EBMinosWasmOpenEpoch","EBMinosWasmOpenInitialEpoch","WALongInt","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Created minos epoch params successfully"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to open epoch ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Created minos epoch params successfully for initial epoch"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to open epoch ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["start creating minos epoch params"]);l=function(){return a};return a}async function a(a){var b=a.epochAnonId,c=a.epochRootKeyBlob,e=a.previousEpochAnonId,f=a.previousEpochHead,g=a.previousEpochRootKeyBlob;a=a.rawUserFbid;d("EBMinosLogger").minosLogger.DEV(l());a=d("EBMinosTypes").unsafeCastToUserFbId(a);b=d("EBMinosTypes").unsafeCastToEpochNumber(d("WALongInt").decimalStringToLongInt(new TextDecoder().decode(b)));c=d("EBMinosTypes").unsafeCastToExportRootKey(c);e=e==null?null:d("EBMinosTypes").unsafeCastToEpochNumber(d("WALongInt").decimalStringToLongInt(new TextDecoder().decode(e)));g=g==null?null:d("EBMinosTypes").unsafeCastToExportRootKey(g);if(e==null||g==null||f==null){var m=await d("EBMinosWasmOpenInitialEpoch").openInitialEpoch({epochNumber:b,exportRootKey:c,userFbid:a});if(!m.success){d("EBMinosLogger").minosLogger.ERROR(k(),m.error);return d("WAResultOrError").makeError({errorName:"open-initial-epoch-failed",failReason:m.error})}d("EBMinosLogger").minosLogger.DEV(j());return d("WAResultOrError").makeResult({epochHead:m.value.epochHead,mailboxAuthPk:m.value.epochPublicData.mailboxAuthPk,mailboxEncryptionPk:m.value.epochPublicData.mailboxEncryptionPk,mailboxSigningPk:m.value.epochPublicData.mailboxSigningPk,previousEpochSignature:null,selfEpochSignature:m.value.signatures.selfSignature})}m=await d("EBMinosWasmOpenEpoch").openEpoch({epochNumber:b,exportRootKey:c,previousEpochHead:d("EBMinosTypes").unsafeCastToEpochHead(f),previousEpochNumber:e,previousExportRootKey:g,userFbid:a});if(!m.success){d("EBMinosLogger").minosLogger.ERROR(i(),m.error);return d("WAResultOrError").makeError({errorName:"open-epoch-failed",failReason:m.error})}d("EBMinosLogger").minosLogger.DEV(h());return d("WAResultOrError").makeResult({epochHead:m.value.epochHead,mailboxAuthPk:m.value.epochPublicData.mailboxAuthPk,mailboxEncryptionPk:m.value.epochPublicData.mailboxEncryptionPk,mailboxSigningPk:m.value.epochPublicData.mailboxSigningPk,previousEpochSignature:m.value.signatures.prevSignature,selfEpochSignature:m.value.signatures.selfSignature})}g.createMinosEpochParamsType=a}),98);
__d("LSCreateMinosEpochParams.nop",["EBMinosCreateMinosEpochParams","MAWCurrentUser","err"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,e,f,g,h,i){a=await d("EBMinosCreateMinosEpochParams").createMinosEpochParamsType({epochAnonId:f,epochRootKeyBlob:e,previousEpochAnonId:h,previousEpochHead:i,previousEpochRootKeyBlob:g,rawUserFbid:d("MAWCurrentUser").getID()});if(!a.success){throw c("err")("createMinosEpochParamsType error: "+a.error.errorName+" "+((b=a.error.failReason)!=null?b:""))}return Promise.resolve([a.value.mailboxEncryptionPk,a.value.mailboxSigningPk,a.value.mailboxAuthPk,a.value.epochHead,a.value.selfEpochSignature,(f=a.value.previousEpochSignature)!=null?f:void 0])};a.__nop_name__="LSCreateMinosEpochParamsType";g.default=a}),98);
__d("LSOcmfClientInit_v2.nop",["CryptoLogger","LSResult","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ristretto255").__setRef("LSOcmfClientInit_v2.nop");a=function(a,b){return h.load().then(function(a){return c("LSResult")(a.scalar.getRandom().buffer)})["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("ocmf_client_init_v2"),a).mustfix("Failed to init OCMF client.");throw a})};a.__nop_name__="LSOcmfClientInit_v2";g["default"]=a}),98);
__d("LSRandom.nop",["CryptoLogger","I64","LSMaxInt32","LSResult","Promise","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f){a=d("CryptoLogger").CryptoLogger("ope_encrypt");if((i||(i=d("I64"))).gt(f,c("LSMaxInt32"))){a.mustfix("numBytes '"+String(f)+"' too large. Returning an empty array");return(h||(h=b("Promise"))).resolve(c("LSResult")(new Uint8Array(0).buffer))}e=(i||(i=d("I64"))).to_int32(f);a=new Uint8Array(e);f=65536;for(var g=0;g<e;g+=f){var j=a.subarray(g,g+Math.min(e-g,f));d("XPlatReactCrypto").getRandomValues(j)}return(h||(h=b("Promise"))).resolve(c("LSResult")(a.buffer))};a.__nop_name__="LSRandom";g["default"]=a}),98);
__d("LSGenerateInitialDeviceSetupPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateAuthKeyPair.nop","LSCreateEncryptionKeyPair.nop","LSCreateSignatureKeyPair.nop","LSCreateSignature_v2.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientInit_v2.nop","LSOcmfClientMap.nop","LSRandom.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][generateInitialDeviceSetupPayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!0}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=new c.Map(),d[33].set("error_msg","Expected a nonempty query result"),d[33].set("code",c.i64.cast([0,3])),d[33].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[34]=c.createArray(),d[35]=(d[34].push(d[33]),d[34]),e=[void 0,d[34]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[33]=new c.Map(),d[33].set("backup_id",b.backupId),d[33].set("device_public_key_blob",b.devicePublicKeyBlob),d[33].set("device_private_key_blob",b.devicePrivateKeyBlob),d[33].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[33].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[33].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[33].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[33].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[33].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[33].set("orf_client_state_v2_blob",void 0),d[33].set("orf_v2_authority_level",void 0),d[33].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[33].set("device_id",b.deviceId),d[33].set("backup_tenancy",b.backupTenancy),d[33].set("encryption_version",b.encryptionVersion),d[33].set("revision_version",b.revisionVersion),d[33].set("initialize_restore_result",void 0),d[33].set("device_creation_timestamp_sec",void 0),d[33].set("authority_level",b.authorityLevel),e=[d[33],void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[33]=d[6].get("backup_id"),d[34]=d[6].get("device_public_key_blob"),d[35]=d[6].get("device_private_key_blob"),d[36]=d[6].get("epoch_storage_public_key_blob"),d[37]=d[6].get("epoch_storage_private_key_blob"),d[38]=d[6].get("epoch_auth_public_key_blob"),d[39]=d[6].get("epoch_auth_private_key_blob"),d[40]=d[6].get("mailbox_root_key_blob"),d[41]=d[6].get("ocmf_client_state_blob"),d[42]=d[6].get("orf_client_state_v2_blob"),d[43]=d[6].get("orf_v2_authority_level"),d[44]=d[6].get("oblivious_validation_token_blob"),d[45]=d[6].get("device_id"),d[46]=d[6].get("backup_tenancy"),d[47]=d[6].get("encryption_version"),d[48]=d[6].get("revision_version"),d[49]=d[6].get("initialize_restore_result"),d[50]=d[6].get("device_creation_timestamp_sec"),d[51]=d[6].get("authority_level"),c.i64.neq(d[45],void 0)?c.sequence([function(a){return d[70]=void 0,c.i64.neq(d[70],void 0)?c.resolve(d[71]=d[70]):c.sequence([function(a){return d[74]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[75]?d[84]=(d[74].push(c.i64.cast([0,0])),d[74]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[76]=a[0],a})},function(a){return d[76]?d[84]=(d[74].push(c.i64.cast([0,2])),d[74]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[77]=a[0],a})},function(a){return d[77]?d[84]=(d[74].push(c.i64.cast([0,3])),d[74]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[78]?d[84]=(d[74].push(c.i64.cast([0,4])),d[74]):0,d[79]=c.createArray(),d[80]=c.i64.of_int32(d[74].length),c.i64.gt(d[80],c.i64.cast([0,0]))?c.loopAsync(d[80],function(a){return d[84]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[74],d[84]).then(function(a){return a=a,d[85]=a[0],d[86]=a[1],a})},function(a){return d[87]=(d[79].push(d[85]),d[79])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[84]=c.createArray(),d[85]=c.i64.of_int32(d[79].length),c.i64.gt(d[85],c.i64.cast([0,0]))?c.loopAsync(d[85],function(a){return d[87]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[79],d[87]).then(function(a){return a=a,d[88]=a[0],d[89]=a[1],a})},function(a){return d[90]=(d[84].push(c.i64.to_string(d[88])),d[84])}])}):c.resolve()},function(a){return d[86]=d[84].join(","),d[81]=d[86]}])},function(a){return d[79].some(function(a){return c.i64.eq(d[47],a)})?d[82]=d[47]:d[82]=void 0,c.i64.neq(d[82],void 0)?d[83]=d[82]:d[83]=void 0,d[71]=d[83]}])},function(a){return c.i64.neq(d[71],void 0)?d[72]=d[71]:d[72]=c.i64.cast([0,0]),c.i64.neq(d[46],void 0)?d[73]=d[46]:d[73]=c.i64.cast([0,1]),a=[d[33],d[45],d[40],d[41],void 0,void 0,d[72],d[73],d[38],d[39],d[34],d[35],d[36],d[37],d[44],d[51],void 0,void 0],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],d[56]=a[4],d[57]=a[5],d[58]=a[6],d[59]=a[7],d[60]=a[8],d[61]=a[9],d[62]=a[10],d[63]=a[11],d[64]=a[12],d[65]=a[13],d[66]=a[14],d[67]=a[15],d[68]=a[16],d[69]=a[17],a}]):c.sequence([function(a){return c.forEach(c.db.table(169).fetch(),function(a){return a["delete"]()})},function(a){return d[70]=c.i64.random(),d[71]=c.i64.random(),c.nativeOperation(b("LSCreateSignatureKeyPair.nop")).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return c.nativeOperation(b("LSCreateEncryptionKeyPair.nop")).then(function(a){return a=a,d[74]=a[0],d[75]=a[1],a})},function(a){return c.nativeOperation(b("LSCreateAuthKeyPair.nop")).then(function(a){return a=a,d[76]=a[0],d[77]=a[1],a})},function(a){return c.nativeOperation(b("LSRandom.nop"),c.i64.cast([0,32])).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientInit_v2.nop")).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientInit_v2.nop")).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.nativeOperation(b("LSRandom.nop"),c.i64.cast([0,32])).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[82]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[83]?d[109]=(d[82].push(c.i64.cast([0,0])),d[82]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[84]?d[109]=(d[82].push(c.i64.cast([0,2])),d[82]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[85]?d[109]=(d[82].push(c.i64.cast([0,3])),d[82]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[86]=a[0],a})},function(a){return d[86]?d[109]=(d[82].push(c.i64.cast([0,4])),d[82]):0,d[87]=c.i64.of_int32(d[82].length),c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[82],c.i64.sub(d[87],c.i64.cast([0,1]))).then(function(a){return a=a,d[88]=a[0],d[89]=a[1],a})},function(a){return c.forEach(c.filter(c.db.table(168).fetch([[[d[70]]]]),function(a){return c.i64.eq(a.backupId,d[70])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(168).add({backupId:d[70],deviceId:d[71],devicePublicKeyBlob:d[73],devicePrivateKeyBlob:d[72],epochStoragePublicKeyBlob:d[75],epochStoragePrivateKeyBlob:d[74],epochAuthPublicKeyBlob:d[77],epochAuthPrivateKeyBlob:d[76],mailboxRootKeyBlob:d[78],ocmfClientStateBlob:d[79],obliviousValidationTokenBlob:d[81],authorityLevel:c.i64.cast([0,20]),encryptionVersion:d[88],revisionVersion:c.i64.cast([0,1]),backupTenancy:c.i64.cast([0,1])})},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,20]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[90]=f[0],d[91]=f[1],d[92]=f[2],d[93]=f[3],d[94]=f[4],d[95]=f[5],d[96]=f[6],d[97]=f[7],d[98]=f[8],d[99]=f[9],d[100]=f[10],d[101]=f[11],d[102]=f[12],d[103]=f[13],d[104]=f[14],d[105]=f[15],d[106]=f[16],d[107]=f[17],f):(e=a.item,c.sequence([function(a){return d[114]=e.backupTenancy,d[113]=e.encryptionVersion,d[109]=void 0,c.i64.neq(d[109],void 0)?c.resolve(d[110]=d[109]):c.sequence([function(a){return d[115]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[116]=a[0],a})},function(a){return d[116]?d[125]=(d[115].push(c.i64.cast([0,0])),d[115]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[117]=a[0],a})},function(a){return d[117]?d[125]=(d[115].push(c.i64.cast([0,2])),d[115]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[118]=a[0],a})},function(a){return d[118]?d[125]=(d[115].push(c.i64.cast([0,3])),d[115]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[119]=a[0],a})},function(a){return d[119]?d[125]=(d[115].push(c.i64.cast([0,4])),d[115]):0,d[120]=c.createArray(),d[121]=c.i64.of_int32(d[115].length),c.i64.gt(d[121],c.i64.cast([0,0]))?c.loopAsync(d[121],function(a){return d[125]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[115],d[125]).then(function(a){return a=a,d[126]=a[0],d[127]=a[1],a})},function(a){return d[128]=(d[120].push(d[126]),d[120])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[125]=c.createArray(),d[126]=c.i64.of_int32(d[120].length),c.i64.gt(d[126],c.i64.cast([0,0]))?c.loopAsync(d[126],function(a){return d[128]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[120],d[128]).then(function(a){return a=a,d[129]=a[0],d[130]=a[1],a})},function(a){return d[131]=(d[125].push(c.i64.to_string(d[129])),d[125])}])}):c.resolve()},function(a){return d[127]=d[125].join(","),d[122]=d[127]}])},function(a){return d[120].some(function(a){return c.i64.eq(d[113],a)})?d[123]=d[113]:d[123]=void 0,c.i64.neq(d[123],void 0)?d[124]=d[123]:d[124]=void 0,d[110]=d[124]}])},function(a){return c.i64.neq(d[110],void 0)?d[111]=d[110]:d[111]=c.i64.cast([0,0]),c.i64.neq(d[114],void 0)?d[112]=d[114]:d[112]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[111],d[112],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[90]=a[0],d[91]=a[1],d[92]=a[2],d[93]=a[3],d[94]=a[4],d[95]=a[5],d[96]=a[6],d[97]=a[7],d[98]=a[8],d[99]=a[9],d[100]=a[10],d[101]=a[11],d[102]=a[12],d[103]=a[13],d[104]=a[14],d[105]=a[15],d[106]=a[16],d[107]=a[17],a}]))})},function(a){return a=[d[90],d[91],d[92],d[93],d[94],d[95],d[96],d[97],d[98],d[99],d[100],d[101],d[102],d[103],d[104],d[105],d[106],d[107]],d[52]=a[0],d[53]=a[1],d[54]=a[2],d[55]=a[3],d[56]=a[4],d[57]=a[5],d[58]=a[6],d[59]=a[7],d[60]=a[8],d[61]=a[9],d[62]=a[10],d[63]=a[11],d[64]=a[12],d[65]=a[13],d[66]=a[14],d[67]=a[15],d[68]=a[16],d[69]=a[17],a}])},function(a){return a=[d[52],d[53],d[54],d[55],d[56],d[57],d[58],d[59],d[60],d[61],d[62],d[63],d[64],d[65],d[66],d[67],d[68],d[69]],d[7]=a[0],d[8]=a[1],d[9]=a[2],d[10]=a[3],d[11]=a[4],d[12]=a[5],d[13]=a[6],d[14]=a[7],d[15]=a[8],d[16]=a[9],d[17]=a[10],d[18]=a[11],d[19]=a[12],d[20]=a[13],d[21]=a[14],d[22]=a[15],d[23]=a[16],d[24]=a[17],a}]):c.sequence([function(a){return d[33]=d[5].get("errors"),d[34]=d[5].get("errors"),c.forEach(c.db.table(169).fetch(),function(a){return a["delete"]()})},function(a){return d[35]=c.i64.random(),d[36]=c.i64.random(),c.nativeOperation(b("LSCreateSignatureKeyPair.nop")).then(function(a){return a=a,d[37]=a[0],d[38]=a[1],a})},function(a){return c.nativeOperation(b("LSCreateEncryptionKeyPair.nop")).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return c.nativeOperation(b("LSCreateAuthKeyPair.nop")).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return c.nativeOperation(b("LSRandom.nop"),c.i64.cast([0,32])).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientInit_v2.nop")).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientInit_v2.nop")).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSRandom.nop"),c.i64.cast([0,32])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[48]?d[74]=(d[47].push(c.i64.cast([0,0])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]?d[74]=(d[47].push(c.i64.cast([0,2])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[50]?d[74]=(d[47].push(c.i64.cast([0,3])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[51]?d[74]=(d[47].push(c.i64.cast([0,4])),d[47]):0,d[52]=c.i64.of_int32(d[47].length),c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[47],c.i64.sub(d[52],c.i64.cast([0,1]))).then(function(a){return a=a,d[53]=a[0],d[54]=a[1],a})},function(a){return c.forEach(c.filter(c.db.table(168).fetch([[[d[35]]]]),function(a){return c.i64.eq(a.backupId,d[35])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(168).add({backupId:d[35],deviceId:d[36],devicePublicKeyBlob:d[38],devicePrivateKeyBlob:d[37],epochStoragePublicKeyBlob:d[40],epochStoragePrivateKeyBlob:d[39],epochAuthPublicKeyBlob:d[42],epochAuthPrivateKeyBlob:d[41],mailboxRootKeyBlob:d[43],ocmfClientStateBlob:d[44],obliviousValidationTokenBlob:d[46],authorityLevel:c.i64.cast([0,20]),encryptionVersion:d[53],revisionVersion:c.i64.cast([0,1]),backupTenancy:c.i64.cast([0,1])})},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,20]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[55]=f[0],d[56]=f[1],d[57]=f[2],d[58]=f[3],d[59]=f[4],d[60]=f[5],d[61]=f[6],d[62]=f[7],d[63]=f[8],d[64]=f[9],d[65]=f[10],d[66]=f[11],d[67]=f[12],d[68]=f[13],d[69]=f[14],d[70]=f[15],d[71]=f[16],d[72]=f[17],f):(e=a.item,c.sequence([function(a){return d[79]=e.backupTenancy,d[78]=e.encryptionVersion,d[74]=void 0,c.i64.neq(d[74],void 0)?c.resolve(d[75]=d[74]):c.sequence([function(a){return d[80]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[81]?d[90]=(d[80].push(c.i64.cast([0,0])),d[80]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[82]=a[0],a})},function(a){return d[82]?d[90]=(d[80].push(c.i64.cast([0,2])),d[80]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[83]?d[90]=(d[80].push(c.i64.cast([0,3])),d[80]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[84]?d[90]=(d[80].push(c.i64.cast([0,4])),d[80]):0,d[85]=c.createArray(),d[86]=c.i64.of_int32(d[80].length),c.i64.gt(d[86],c.i64.cast([0,0]))?c.loopAsync(d[86],function(a){return d[90]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[80],d[90]).then(function(a){return a=a,d[91]=a[0],d[92]=a[1],a})},function(a){return d[93]=(d[85].push(d[91]),d[85])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[90]=c.createArray(),d[91]=c.i64.of_int32(d[85].length),c.i64.gt(d[91],c.i64.cast([0,0]))?c.loopAsync(d[91],function(a){return d[93]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[85],d[93]).then(function(a){return a=a,d[94]=a[0],d[95]=a[1],a})},function(a){return d[96]=(d[90].push(c.i64.to_string(d[94])),d[90])}])}):c.resolve()},function(a){return d[92]=d[90].join(","),d[87]=d[92]}])},function(a){return d[85].some(function(a){return c.i64.eq(d[78],a)})?d[88]=d[78]:d[88]=void 0,c.i64.neq(d[88],void 0)?d[89]=d[88]:d[89]=void 0,d[75]=d[89]}])},function(a){return c.i64.neq(d[75],void 0)?d[76]=d[75]:d[76]=c.i64.cast([0,0]),c.i64.neq(d[79],void 0)?d[77]=d[79]:d[77]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[76],d[77],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[55]=a[0],d[56]=a[1],d[57]=a[2],d[58]=a[3],d[59]=a[4],d[60]=a[5],d[61]=a[6],d[62]=a[7],d[63]=a[8],d[64]=a[9],d[65]=a[10],d[66]=a[11],d[67]=a[12],d[68]=a[13],d[69]=a[14],d[70]=a[15],d[71]=a[16],d[72]=a[17],a}]))})},function(a){return a=[d[55],d[56],d[57],d[58],d[59],d[60],d[61],d[62],d[63],d[64],d[65],d[66],d[67],d[68],d[69],d[70],d[71],d[72]],d[7]=a[0],d[8]=a[1],d[9]=a[2],d[10]=a[3],d[11]=a[4],d[12]=a[5],d[13]=a[6],d[14]=a[7],d[15]=a[8],d[16]=a[9],d[17]=a[10],d[18]=a[11],d[19]=a[12],d[20]=a[13],d[21]=a[14],d[22]=a[15],d[23]=a[16],d[24]=a[17],a}])},function(e){return c.i64.neq(d[7],void 0)?c.sequence([function(e){return c.blobs.neq(d[18],void 0)?c.sequence([function(e){return c.blobs.neq(d[17],void 0)?c.sequence([function(e){return c.blobs.neq(d[19],void 0)?c.sequence([function(e){return c.blobs.neq(d[15],void 0)?c.sequence([function(e){return c.blobs.neq(d[10],void 0)?c.sequence([function(e){return c.blobs.neq(d[9],void 0)?c.sequence([function(a){return c.nativeOperation(b("LSCreateSignature_v2.nop"),d[18],c.blob("MA=="),d[19]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateSignature_v2.nop"),d[18],c.blob("MQ=="),d[15]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),c.i64.to_string(d[7])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[10],d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(b){return d[51]=new c.Map(),d[51].set("optimistic_backup_id",d[7]),d[51].set("device_private_key",d[18]),d[51].set("device_public_key",d[17]),d[51].set("epoch_storage_public_key",d[19]),d[51].set("epoch_storage_public_key_sig",d[45]==null?c.blob("bnVsbA=="):d[45]),d[51].set("epoch_auth_public_key",d[15]),d[51].set("epoch_auth_public_key_sig",d[46]==null?c.blob("bnVsbA=="):d[46]),d[51].set("ocmf_client_state",d[10]),d[51].set("mailbox_partial_id",d[50]==null?"":d[50]),d[51].set("mailbox_root_key",d[9]),d[51].set("device_registration_id",a[0]),d[51].set("orf_client_state_v2",void 0),b=[d[51],void 0],d[43]=b[0],d[44]=b[1],b}]):c.resolve((d[45]=new c.Map(),d[45].set("error_code",c.i64.cast([0,9])),d[45].set("stored_procedure","LSEncryptedBackupsGenerateInitialDeviceSetupPayloadStoredProcedure"),d[45].set("error_message",""),e=[void 0,d[45]],d[43]=e[0],d[44]=e[1],e))},function(a){return a=[d[43],d[44]],d[41]=a[0],d[42]=a[1],a}]):c.resolve((d[43]=new c.Map(),d[43].set("error_code",c.i64.cast([0,9])),d[43].set("stored_procedure","LSEncryptedBackupsGenerateInitialDeviceSetupPayloadStoredProcedure"),d[43].set("error_message",""),e=[void 0,d[43]],d[41]=e[0],d[42]=e[1],e))},function(a){return a=[d[41],d[42]],d[39]=a[0],d[40]=a[1],a}]):c.resolve((d[41]=new c.Map(),d[41].set("error_code",c.i64.cast([0,9])),d[41].set("stored_procedure","LSEncryptedBackupsGenerateInitialDeviceSetupPayloadStoredProcedure"),d[41].set("error_message",""),e=[void 0,d[41]],d[39]=e[0],d[40]=e[1],e))},function(a){return a=[d[39],d[40]],d[37]=a[0],d[38]=a[1],a}]):c.resolve((d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,9])),d[39].set("stored_procedure","LSEncryptedBackupsGenerateInitialDeviceSetupPayloadStoredProcedure"),d[39].set("error_message",""),e=[void 0,d[39]],d[37]=e[0],d[38]=e[1],e))},function(a){return a=[d[37],d[38]],d[35]=a[0],d[36]=a[1],a}]):c.resolve((d[37]=new c.Map(),d[37].set("error_code",c.i64.cast([0,9])),d[37].set("stored_procedure","LSEncryptedBackupsGenerateInitialDeviceSetupPayloadStoredProcedure"),d[37].set("error_message",""),e=[void 0,d[37]],d[35]=e[0],d[36]=e[1],e))},function(a){return a=[d[35],d[36]],d[33]=a[0],d[34]=a[1],a}]):c.resolve((d[35]=new c.Map(),d[35].set("error_code",c.i64.cast([0,9])),d[35].set("stored_procedure","LSEncryptedBackupsGenerateInitialDeviceSetupPayloadStoredProcedure"),d[35].set("error_message",""),e=[void 0,d[35]],d[33]=e[0],d[34]=e[1],e))},function(a){return a=[d[33],d[34]],d[25]=a[0],d[26]=a[1],a}]):c.resolve((d[33]=new c.Map(),d[33].set("error_code",c.i64.cast([0,9])),d[33].set("stored_procedure","LSEncryptedBackupsGenerateInitialDeviceSetupPayloadStoredProcedure"),d[33].set("error_message",""),e=[void 0,d[33]],d[25]=e[0],d[26]=e[1],e))},function(a){return d[27]=c.i64.of_float(Date.now()),d[28]=c.i64.random(),d[30]="Finishing execution. Execution time: ",d[31]=c.i64.to_string(c.i64.sub(d[27],d[0])),d[32]=" ms",d[29]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][generateInitialDeviceSetupPayload] ",d[29],d[30],d[29],d[31],d[29],d[32]].join("")),c.i64.eq(c.i64.mod_(d[28],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[33]=",",d[34]=c.createArray(),void 0!==void 0?d[35]=(d[34].push(void 0),d[34]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"generateInitialDeviceSetupPayload",[d[30],d[33],d[31],d[33],d[32]].join(""),d[34],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[25],d[26]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsGenerateInitialDeviceSetupPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSCreateSymmetricEncryptionSecretKey.nop",["CryptoLogger","LSResult","Promise","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e){return(h||(h=b("Promise"))).resolve(c("LSResult")(d("XPlatReactCrypto").getRandomValues(new Uint8Array(32)).buffer))["catch"](function(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("create_symmetric_encryption_secret_key"),a).mustfix("Creation of symmetric encryption secret key failed");throw a})};a.__nop_name__="LSCreateSymmetricEncryptionSecretKey";g["default"]=a}),98);
__d("LSGenerateInitialEpochSetupPayload",["LSCreateMinosEpochParams.nop","LSCreateSymmetricEncryptionSecretKey.nop","LSGetNextEpochAnonId.nop","LSLogMebClientEvent.nop","LSStoreEpoch","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][generateInitialEpochSetupPayload] Beginning execution."),e[1]=d.i64.of_float(Date.now()),d.filter(d.db.table(169).fetch(),function(a){return d.i64.eq(a.epochStatus,d.i64.cast([0,1]))&&d.i64.eq(a.authorityLevel,d.i64.cast([0,20]))}).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(a){return function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialEpochSetupPayloadStoredProcedure] Generating new initial epoch."),d.nativeOperation(b("LSGetNextEpochAnonId.nop"),void 0).then(function(a){return a=a,e[16]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateSymmetricEncryptionSecretKey.nop")).then(function(a){return a=a,e[17]=a[0],a})},function(a){return c("gkx")("14857")||!1?d.sequence([function(a){return d.nativeOperation(b("LSCreateMinosEpochParams.nop"),e[17],e[16],void 0,void 0,void 0).then(function(a){return a=a,e[20]=a[0],e[21]=a[1],e[22]=a[2],e[23]=a[3],e[24]=a[4],e[25]=a[5],a})},function(a){return e[18]=e[23]}]):d.resolve(e[18]=void 0)},function(c){return e[19]=d.i64.random(),d.storedProcedure(b("LSStoreEpoch"),e[19],a[0],e[16],e[17],d.i64.cast([0,1]),d.i64.cast([0,20]),!1,e[18])},function(a){return a=[e[19],e[16],e[17],void 0,void 0,e[18]],e[2]=a[0],e[3]=a[1],e[4]=a[2],e[5]=a[3],e[6]=a[4],e[7]=a[5],a}]):(g=f.item,function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialEpochSetupPayloadStoredProcedure] Using local optimistic initial epoch."),h=[g.epochId,g.epochAnonIdBlob,g.epochRootKeyBlob,void 0,void 0,g.epochHead],e[2]=h[0],e[3]=h[1],e[4]=h[2],e[5]=h[3],e[6]=h[4],e[7]=h[5],h)})},function(a){return e[9]=new d.Map(),e[9].set("optimistic_epoch_id",e[2]),e[9].set("epoch_anon_id",e[3]),e[9].set("epoch_root_key",e[4]),e[10]=d.i64.of_float(Date.now()),e[11]=d.i64.random(),e[13]="Finishing execution. Execution time: ",e[14]=d.i64.to_string(d.i64.sub(e[10],e[0])),e[15]=" ms",e[12]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][generateInitialEpochSetupPayload] ",e[12],e[13],e[12],e[14],e[12],e[15]].join("")),d.i64.eq(d.i64.mod_(e[11],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[16]=",",e[17]=d.createArray(),void 0!==void 0?e[18]=(e[17].push(void 0),e[17]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"generateInitialEpochSetupPayload",[e[13],e[16],e[14],e[16],e[15]].join(""),e[17],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[9],void 0],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsGenerateInitialEpochSetupPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_epochs"];d=a;g["default"]=d}),98);
__d("LSGetOpenEpochKeys",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSDeleteBackupOnClient","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Beginning execution."),d[11]="Querying latest epoch keys with authority level: ",a[0]?d[1]="OPTIMISTIC":d[1]="AUTHORITATIVE",d[2]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[2],d[11],d[2],d[1]].join("")),c.resolve()},function(e){return a[0]?d[3]="OPTIMISTIC":d[3]="AUTHORITATIVE",c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2842]),c.i64.cast([0,2]),void 0,d[3]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[19]].join("")),d[18]=c.createArray(),void 0!==void 0?d[20]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[19],d[18],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2844]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[19]].join("")),d[18]=c.createArray(),void 0!==void 0?d[20]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[19],d[18],c.i64.cast([0,3]))):c.resolve()}])},function(b){return d[4]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[16]=(d[4].push(c.blobs.to_string(a.epochAnonIdBlob)),d[4])})},function(a){return d[5]=c.i64.of_int32(d[4].length),c.i64.gt(d[5],c.i64.cast([0,0]))?c.sequence([function(a){return d[16]=c.i64.of_int32(d[4].length),c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2845]),c.i64.cast([0,2]),void 0,c.i64.to_string(d[16])):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[22]=!0:d[22]=!1,d[22]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[24]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[24]].join("")),d[23]=c.createArray(),void 0!==void 0?d[25]=(d[23].push(void 0),d[23]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[24],d[23],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[17]=a[0],d[18]=a[1],a})},function(a){return d[19]=d[17],d[20]=c.i64.of_int32(d[4].length),c.i64.gt(d[20],c.i64.cast([0,0]))?c.loopAsync(d[20],function(a){return d[21]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],d[21]).then(function(a){return a=a,d[22]=a[0],d[23]=a[1],a})},function(a){return c.i64.eq([0,d[19].length],[0,d[22].length])?(d[19]===d[22]?d[25]=d[19]:(d[19]>d[22]?d[26]=d[19]:d[26]=d[22],d[25]=d[26]),d[24]=d[25]):(c.i64.gt([0,d[19].length],[0,d[22].length])?d[25]=d[19]:d[25]=d[22],d[24]=d[25]),d[19]=d[24]}])}):c.resolve()},function(a){return d[6]=d[19]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Epoch anon ID list is empty."),d[17]="Epoch anon ID list is empty.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ","",d[17]].join("")),d[16]=c.createArray(),void 0!==void 0?d[18]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure",d[17],d[16],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2846]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[19]=!0:d[19]=!1,d[19]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[21]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[21]].join("")),d[20]=c.createArray(),void 0!==void 0?d[22]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[21],d[20],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]=void 0}])},function(a){return d[6]!==void 0?c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2863]),c.i64.cast([0,2]),void 0,d[6]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[19]].join("")),d[18]=c.createArray(),void 0!==void 0?d[20]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[19],d[18],c.i64.cast([0,3]))):c.resolve()}]):c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2864]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[19]].join("")),d[18]=c.createArray(),void 0!==void 0?d[20]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[19],d[18],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[12]=c.blobs.of_string(d[6]),c.blobs.neq(d[12],void 0)?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2847]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[19]=!0:d[19]=!1,d[19]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[21]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[21]].join("")),d[20]=c.createArray(),void 0!==void 0?d[22]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[21],d[20],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.filter(c.db.table(169).fetch(),function(a){return c.blobs.eq(a.epochAnonIdBlob,d[12])}).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction."),d[19]="Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ","",d[19]].join("")),d[18]=c.createArray(),void 0!==void 0?d[20]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure",d[19],d[18],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2848]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[23]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[23]].join("")),d[22]=c.createArray(),void 0!==void 0?d[24]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[23],d[22],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[16]=void 0}]):(e=a.item,c.sequence([function(a){return d[22]=e.epochAnonIdBlob,d[20]="Using latest epoch: ",d[21]=c.blobs.to_string(d[22]),d[18]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[18],d[20],d[18],d[21]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("epoch_id",e.epochId),d[19].set("epoch_root_key",e.epochRootKeyBlob),d[19].set("epoch_anon_id",d[22]),d[16]=d[19]}]))})},function(a){return d[7]=d[16]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client."),d[17]="No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ","",d[17]].join("")),d[16]=c.createArray(),void 0!==void 0?d[18]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure",d[17],d[16],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2843]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[19]=!0:d[19]=!1,d[19]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[21]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[21]].join("")),d[20]=c.createArray(),void 0!==void 0?d[22]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[21],d[20],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,"get_open_epoch_keys",!0,void 0,"Attempted to fetch epoch keys when there are no epochs on the client.",!1)},function(a){return d[7]=void 0}])},function(a){return d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[13]="Finishing execution. Execution time: ",d[14]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[15]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[10],d[13],d[10],d[14],d[10],d[15]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[16]=",",d[17]=c.createArray(),void 0!==void 0?d[18]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure",[d[13],d[16],d[14],d[16],d[15]].join(""),d[17],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsGetOpenEpochKeysStoredProcedure";a.__tables__=["secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSHandleCreateVirtualDeviceFailure",["LSAppendDataTraceAddon","LSDeleteBackupOnClient","LSFlushDataTrace.nop","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure] Beginning execution."),c.sequence([function(d){return a[2]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[2],c.i64.cast([0,1412]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[7]?d[8]=!0:d[8]=!1,d[8]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[10]].join("")),d[9]=c.createArray(),void 0!==void 0?d[11]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[10],d[9],c.i64.cast([0,3]))):c.resolve()}])},function(e){return a[1]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure] Failure when creating virtual device, deleting backup"),d[8]="Failure when creating virtual device, deleting backup",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure] ","",d[8]].join("")),d[7]=c.createArray(),void 0!==void 0?d[9]=(d[7].push(void 0),d[7]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure",d[8],d[7],c.i64.cast([0,3]))},function(d){return c.storedProcedure(b("LSDeleteBackupOnClient"),a[0],void 0,!1,a[2],void 0,!1)}]):c.sequence([function(e){return d[7]="Failure when creating virtual device",d[7]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure] ","",d[7]].join("")),d[8]=c.createArray(),a[2]!==void 0?d[9]=(d[8].push(a[2]),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure",d[7],d[8],c.i64.cast([0,3]))):c.resolve()},function(a){return c.db.table(178).put({pk:c.i64.cast([0,1]),recoveryCodeStatus:c.i64.cast([0,3])})}])},function(e){return c.sequence([function(d){return a[2]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[2]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[7]?d[8]=!0:d[8]=!1,d[8]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[10]].join("")),d[9]=c.createArray(),void 0!==void 0?d[11]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[10],d[9],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.random(),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[1],d[0])),d[6]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[6]].join("")),c.i64.eq(c.i64.mod_(d[2],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[7]=",",d[8]=c.createArray(),void 0!==void 0?d[9]=(d[8].push(void 0),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure",[d[4],d[7],d[5],d[7],d[6]].join(""),d[8],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsHandleCreateVirtualDeviceFailureStoredProcedure";a.__tables__=["secure_encrypted_backups_recovery_code_status"];e.exports=a}),null);
__d("LSGenerateInitialVirtualDeviceSetupPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSCreateEncryptionKeyPair.nop","LSCreateSignatureKeyPair.nop","LSCreateSignature_v2.nop","LSGetBlobFromString.nop","LSGetOpenEpochKeys","LSGetViewerFBID","LSHandleCreateVirtualDeviceFailure","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientEvolve_v2.nop","LSParseRecoveryCode_v2.nop","LSSymmetricEncryptionCreateEncryptedString.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][generateInitialVirtualDeviceSetupPayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.db.table(174).fetch([[[c.i64.cast([0,1])]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] No recovery code found in recovery code table"),d[12]="No recovery code found in recovery code table",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[12]].join("")),d[11]=c.createArray(),void 0!==void 0?d[14]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[12],d[11],c.i64.cast([0,3]))},function(d){return c.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),a[0],!0,void 0)},function(a){return d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,501])),d[13].set("stored_procedure","LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure"),d[13].set("error_message",""),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[11]=c.createArray(),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.nativeOperation(b("LSParseRecoveryCode_v2.nop"),f.recoveryCode,void 0==null?c.i64.to_string(d[12]):void 0,d[11]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(e){return c.blobs.neq(d[14],void 0)?c.sequence([function(e){return c.blobs.neq(d[13],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetOpenEpochKeys"),!0).then(function(a){return a=a,d[19]=a[0],a})},function(e){return d[19]!==void 0?c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!0}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[29]=new c.Map(),d[29].set("error_msg","Expected a nonempty query result"),d[29].set("code",c.i64.cast([0,3])),d[29].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[30]=c.createArray(),d[31]=(d[30].push(d[29]),d[30]),a=[void 0,d[30]],d[22]=a[0],d[23]=a[1],a):(e=b.item,d[29]=new c.Map(),d[29].set("backup_id",e.backupId),d[29].set("device_public_key_blob",e.devicePublicKeyBlob),d[29].set("device_private_key_blob",e.devicePrivateKeyBlob),d[29].set("epoch_storage_public_key_blob",e.epochStoragePublicKeyBlob),d[29].set("epoch_storage_private_key_blob",e.epochStoragePrivateKeyBlob),d[29].set("epoch_auth_public_key_blob",e.epochAuthPublicKeyBlob),d[29].set("epoch_auth_private_key_blob",e.epochAuthPrivateKeyBlob),d[29].set("mailbox_root_key_blob",e.mailboxRootKeyBlob),d[29].set("ocmf_client_state_blob",e.ocmfClientStateBlob),d[29].set("orf_client_state_v2_blob",void 0),d[29].set("orf_v2_authority_level",void 0),d[29].set("oblivious_validation_token_blob",e.obliviousValidationTokenBlob),d[29].set("device_id",e.deviceId),d[29].set("backup_tenancy",e.backupTenancy),d[29].set("encryption_version",e.encryptionVersion),d[29].set("revision_version",e.revisionVersion),d[29].set("initialize_restore_result",void 0),d[29].set("device_creation_timestamp_sec",void 0),d[29].set("authority_level",e.authorityLevel),a=[d[29],void 0],d[22]=a[0],d[23]=a[1],a)})},function(a){return d[25]=new c.Map(),d[25].set("value",d[22]),d[25].set("errors",d[23]),d[26]=d[25].get("value"),d[26]!==void 0?c.sequence([function(a){return d[29]=d[26].get("backup_id"),d[30]=d[26].get("device_public_key_blob"),d[31]=d[26].get("device_private_key_blob"),d[32]=d[26].get("epoch_storage_public_key_blob"),d[33]=d[26].get("epoch_storage_private_key_blob"),d[34]=d[26].get("epoch_auth_public_key_blob"),d[35]=d[26].get("epoch_auth_private_key_blob"),d[36]=d[26].get("mailbox_root_key_blob"),d[37]=d[26].get("ocmf_client_state_blob"),d[38]=d[26].get("orf_client_state_v2_blob"),d[39]=d[26].get("orf_v2_authority_level"),d[40]=d[26].get("oblivious_validation_token_blob"),d[41]=d[26].get("device_id"),d[42]=d[26].get("backup_tenancy"),d[43]=d[26].get("encryption_version"),d[44]=d[26].get("revision_version"),d[45]=d[26].get("initialize_restore_result"),d[46]=d[26].get("device_creation_timestamp_sec"),d[47]=d[26].get("authority_level"),c.i64.neq(d[41],void 0)?c.sequence([function(a){return d[50]=void 0,c.i64.neq(d[50],void 0)?c.resolve(d[51]=d[50]):c.sequence([function(a){return d[102]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[103]=a[0],a})},function(a){return d[103]?d[112]=(d[102].push(c.i64.cast([0,0])),d[102]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[104]=a[0],a})},function(a){return d[104]?d[112]=(d[102].push(c.i64.cast([0,2])),d[102]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[105]=a[0],a})},function(a){return d[105]?d[112]=(d[102].push(c.i64.cast([0,3])),d[102]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[106]=a[0],a})},function(a){return d[106]?d[112]=(d[102].push(c.i64.cast([0,4])),d[102]):0,d[107]=c.createArray(),d[108]=c.i64.of_int32(d[102].length),c.i64.gt(d[108],c.i64.cast([0,0]))?c.loopAsync(d[108],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[102],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=(d[107].push(d[113]),d[107])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[112]=c.createArray(),d[113]=c.i64.of_int32(d[107].length),c.i64.gt(d[113],c.i64.cast([0,0]))?c.loopAsync(d[113],function(a){return d[115]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],d[115]).then(function(a){return a=a,d[116]=a[0],d[117]=a[1],a})},function(a){return d[118]=(d[112].push(c.i64.to_string(d[116])),d[112])}])}):c.resolve()},function(a){return d[114]=d[112].join(","),d[109]=d[114]}])},function(a){return d[107].some(function(a){return c.i64.eq(d[43],a)})?d[110]=d[43]:d[110]=void 0,c.i64.neq(d[110],void 0)?d[111]=d[110]:d[111]=void 0,d[51]=d[111]}])},function(a){return c.i64.neq(d[51],void 0)?d[52]=d[51]:d[52]=c.i64.cast([0,0]),c.i64.neq(d[42],void 0)?d[53]=d[42]:d[53]=c.i64.cast([0,1]),c.nativeOperation(b("LSCreateSignatureKeyPair.nop")).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return c.nativeOperation(b("LSCreateEncryptionKeyPair.nop")).then(function(a){return a=a,d[56]=a[0],d[57]=a[1],a})},function(a){return c.nativeOperation(b("LSCreateSignature_v2.nop"),d[54],c.blob("MA=="),d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[59]=d[19].get("epoch_anon_id"),d[60]=d[19].get("epoch_root_key"),d[61]=c.createArray(),d[102]=(d[61].push(c.i64.cast([0,32])),d[61]),c.nativeOperation(b("LSBase64Encode.nop"),d[59]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[62]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blobs.of_string(["epoch_devices","_",d[62]].join("")),void 0,d[60],d[61]).then(function(a){return a=a,d[102]=a[0],a})},function(a){return d[102]?d[103]=!1:d[103]=!0,d[103]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),d[106]="THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",d[106]].join("")),d[105]=c.createArray(),void 0!==void 0?d[108]=(d[105].push(void 0),d[105]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",d[106],d[105],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[107]=a[0],a})},function(a){return d[104]=d[107]}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[102],c.i64.cast([0,0])).then(function(a){return a=a,d[105]=a[0],d[106]=a[1],a})},function(a){return d[104]=d[105]}])},function(a){return d[63]=d[104]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),d[103]="THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[105]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",d[103],d[102],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[104]=a[0],a})},function(a){return d[63]=d[104]}])},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),d[63],d[55]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.blobs.neq(d[64],void 0)?c.resolve(d[65]=d[64]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] device_epoch_hmac is null!"),d[103]="device_epoch_hmac is null!",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[105]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[103],d[102],c.i64.cast([0,3]))},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,d[104]=a[0],a})},function(a){return d[65]=d[104]}])},function(a){return d[66]=d[19].get("epoch_root_key"),d[67]=c.createArray(),d[102]=(d[67].push(c.i64.cast([0,18])),d[67]),c.nativeOperation(b("LSCreateDerivedKeys.nop"),c.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,d[66],d[67]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[68]!==void 0?c.sequence([function(a){return d[102]=c.i64.of_int32(d[68].length),c.i64.ge(d[102],c.i64.cast([0,1]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[68],c.i64.cast([0,0])).then(function(a){return a=a,d[104]=a[0],d[105]=a[1],a})},function(a){return d[103]=d[104]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),d[105]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[105]].join("")),d[104]=c.createArray(),void 0!==void 0?d[106]=(d[104].push(void 0),d[104]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[105],d[104],c.i64.cast([0,3]))},function(a){return d[103]=void 0}])},function(a){return d[69]=d[103]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),d[103]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[104]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",d[103],d[102],c.i64.cast([0,3]))},function(a){return d[69]=void 0}])},function(a){return c.blobs.neq(d[69],void 0)?d[70]=!0:d[70]=!1,d[70]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),c["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),c.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),d[37]).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return c.blobs.neq(void 0,void 0)?c.sequence([function(a){return c.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),void 0).then(function(a){return a=a,d[102]=a[0],d[103]=a[1],a})},function(a){return a=[d[71],d[72],d[102],d[103]],d[73]=a[0],d[74]=a[1],d[75]=a[2],d[76]=a[3],a}]):c.resolve((a=[d[71],d[72],void 0,void 0],d[73]=a[0],d[74]=a[1],d[75]=a[2],d[76]=a[3],a))},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[54]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[14],c.blob("dmlydHVhbF9kZXZpY2U6dmlydHVhbF9kZXZpY2VfcHJpdmF0ZV9rZXk="),d[77]==null?"":d[77]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[78]!==void 0?d[79]=d[78]:d[79]="",d[79]===""?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] encrypted_device_private_key is empty!"),d[103]="encrypted_device_private_key is empty!",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[104]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[103],d[102],c.i64.cast([0,3]))):c.resolve()},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[14],c.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfc3RvcmFnZV9wcml2YXRlX2tleQ=="),d[80]==null?"":d[80]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[81]!==void 0?d[82]=d[81]:d[82]="",d[82]===""?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] encrypted_epoch_storage_private_key is empty!"),d[103]="encrypted_epoch_storage_private_key is empty!",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[104]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[103],d[102],c.i64.cast([0,3]))):c.resolve()},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[73]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[14],c.blob("dmlydHVhbF9kZXZpY2U6b2NtZl9jbGllbnRfc3RhdGU="),d[83]==null?"":d[83]).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[84]!==void 0?d[85]=d[84]:d[85]="",d[85]===""?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] encrypted_orf_client_state_v1_shape is empty!"),d[103]="encrypted_orf_client_state_v1_shape is empty!",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[104]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[103],d[102],c.i64.cast([0,3]))):c.resolve()},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[40]).then(function(a){return a=a,d[86]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[14],c.blob("dmlydHVhbF9kZXZpY2U6b2JsaXZpb3VzX3ZhbGlkYXRpb25fdG9rZW4="),d[86]==null?"":d[86]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[87]!==void 0?d[88]=d[87]:d[88]="",d[88]===""?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] encrypted_oblivious_validation_token is empty!"),d[103]="encrypted_oblivious_validation_token is empty!",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[104]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[103],d[102],c.i64.cast([0,3]))):c.resolve()},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[36]).then(function(a){return a=a,d[89]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[14],c.blob("dmlydHVhbF9kZXZpY2U6bWFpbGJveF9yb290X2tleQ=="),d[89]==null?"":d[89]).then(function(a){return a=a,d[90]=a[0],a})},function(a){return d[90]!==void 0?d[91]=d[90]:d[91]="",d[91]===""?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] encrypted_mailbox_root_key is empty!"),d[103]="encrypted_mailbox_root_key is empty!",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[104]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[103],d[102],c.i64.cast([0,3]))):c.resolve()},function(a){return d[92]=d[19].get("epoch_anon_id"),c.nativeOperation(b("LSBase64Encode.nop"),d[92]).then(function(a){return a=a,d[93]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[14],c.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfYW5vbl9pZA=="),d[93]==null?"":d[93]).then(function(a){return a=a,d[94]=a[0],a})},function(a){return d[94]!==void 0?d[95]=d[94]:d[95]="",d[95]===""?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] encrypted_epoch_anon_id is empty!"),d[103]="encrypted_epoch_anon_id is empty!",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[104]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[103],d[102],c.i64.cast([0,3]))):c.resolve()},function(a){return d[96]=d[19].get("epoch_root_key"),c.nativeOperation(b("LSBase64Encode.nop"),d[96]).then(function(a){return a=a,d[97]=a[0],a})},function(a){return c.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),d[14],c.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfcm9vdF9rZXk="),d[97]==null?"":d[97]).then(function(a){return a=a,d[98]=a[0],a})},function(a){return d[98]!==void 0?d[99]=d[98]:d[99]="",d[99]===""?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] encrypted_epoch_root_key is empty!"),d[103]="encrypted_epoch_root_key is empty!",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[103]].join("")),d[102]=c.createArray(),void 0!==void 0?d[104]=(d[102].push(void 0),d[102]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[103],d[102],c.i64.cast([0,3]))):c.resolve()},function(a){return d[100]=new c.Map(),d[100].set("encrypted_device_private_key",d[79]),d[100].set("encrypted_epoch_storage_private_key",d[82]),d[100].set("encrypted_ocmf_client_state",d[85]),d[100].set("encrypted_orf_client_state_v2",void 0),d[100].set("encrypted_oblivious_validation_token_blob",d[88]),d[100].set("encrypted_mailbox_root_key_blob",d[91]),d[100].set("encrypted_epoch_anon_id",d[95]),d[100].set("encrypted_epoch_root_key",d[99]),d[101]=new c.Map(),d[101].set("virtual_device_public_key",d[55]),d[101].set("virtual_device_id",d[13]),d[101].set("virtual_device_epoch_storage_public_key",d[57]),d[101].set("virtual_device_epoch_storage_public_key_sig",d[58]==null?c.blob("bnVsbA=="):d[58]),d[101].set("device_epoch_hmac",d[65]),d[101].set("epoch_root_key_fingerprint",d[69]),d[101].set("virtual_device_type",f.virtualDeviceType),d[101].set("action_type",c.i64.cast([0,1])),d[101].set("ocmf_rotation_token",d[74]),d[101].set("encrypted_secret_values_payload",d[100]),d[101].set("cloud_service_account",f.cloudServiceAccount),d[101].set("hsm_pin_normalization_status",f.hsmPinNormalizationStatus),d[101].set("security_question_type",void 0),d[101].set("trusted_contact_id",void 0),a=[d[101],void 0],d[48]=a[0],d[49]=a[1],a}]):c.resolve((d[50]=new c.Map(),d[50].set("error_code",c.i64.cast([0,9])),d[50].set("stored_procedure","LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure"),d[50].set("error_message",""),a=[void 0,d[50]],d[48]=a[0],d[49]=a[1],a))},function(a){return a=[d[48],d[49]],d[27]=a[0],d[28]=a[1],a}]):c.resolve((d[29]=d[25].get("errors"),d[30]=d[25].get("errors"),d[31]=new c.Map(),d[31].set("error_code",c.i64.cast([0,9])),d[31].set("stored_procedure","LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure"),d[31].set("error_message",""),a=[void 0,d[31]],d[27]=a[0],d[28]=a[1],a))},function(a){return a=[d[27],d[28]],d[20]=a[0],d[21]=a[1],a}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] Epoch keys are unavailable."),d[23]="Epoch keys are unavailable.",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[23]].join("")),d[22]=c.createArray(),void 0!==void 0?d[25]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[23],d[22],c.i64.cast([0,3]))},function(d){return c.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),a[0],!0,void 0)},function(a){return d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,11])),d[24].set("stored_procedure","LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure"),d[24].set("error_message",""),a=[void 0,d[24]],d[20]=a[0],d[21]=a[1],a}])},function(a){return a=[d[20],d[21]],d[17]=a[0],d[18]=a[1],a}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] Invalid Recovery Code Provided"),d[20]="Invalid Recovery Code Provided",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[20]].join("")),d[19]=c.createArray(),void 0!==void 0?d[22]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[20],d[19],c.i64.cast([0,3]))},function(d){return c.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),a[0],!0,void 0)},function(a){return d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,10])),d[21].set("stored_procedure","LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure"),d[21].set("error_message",""),a=[void 0,d[21]],d[17]=a[0],d[18]=a[1],a}])},function(a){return a=[d[17],d[18]],d[15]=a[0],d[16]=a[1],a}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] Invalid Recovery Code Provided"),d[18]="Invalid Recovery Code Provided",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure] ","",d[18]].join("")),d[17]=c.createArray(),void 0!==void 0?d[20]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure",d[18],d[17],c.i64.cast([0,3]))},function(d){return c.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),a[0],!0,void 0)},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,10])),d[19].set("stored_procedure","LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[15]=a[0],d[16]=a[1],a}])},function(a){return a=[d[15],d[16]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][generateInitialVirtualDeviceSetupPayload] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"generateInitialVirtualDeviceSetupPayload",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsGenerateInitialVirtualDeviceSetupPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_generated_recovery_code","secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSInitializeBackupV2",["LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDerivedKeys.nop","LSCreateMinosEpochParams.nop","LSCreateSignature_v2.nop","LSGenerateInitialDeviceSetupPayload","LSGenerateInitialEpochSetupPayload","LSGenerateInitialVirtualDeviceSetupPayload","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(c){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][initializeBackupV2] Beginning execution."),e[1]=d.i64.of_float(Date.now()),d.storedProcedure(b("LSGenerateInitialDeviceSetupPayload"),a[0]).then(function(a){return a=a,e[2]=a[0],e[3]=a[1],a})},function(c){return e[2]!==void 0?d.sequence([function(a){return e[15]=e[2].get("device_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[15]).then(function(a){return a=a,e[16]=a[0],a})},function(a){return e[17]=e[2].get("epoch_storage_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[17]).then(function(a){return a=a,e[18]=a[0],a})},function(a){return e[19]=e[2].get("epoch_storage_public_key_sig"),d.nativeOperation(b("LSBase64Encode.nop"),e[19]).then(function(a){return a=a,e[20]=a[0],a})},function(a){return e[21]=e[2].get("epoch_auth_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[21]).then(function(a){return a=a,e[22]=a[0],a})},function(a){return e[23]=e[2].get("epoch_auth_public_key_sig"),d.nativeOperation(b("LSBase64Encode.nop"),e[23]).then(function(a){return a=a,e[24]=a[0],a})},function(a){return e[25]=e[2].get("ocmf_client_state"),d.nativeOperation(b("LSBase64Encode.nop"),e[25]).then(function(a){return a=a,e[26]=a[0],a})},function(a){return e[27]=e[2].get("mailbox_root_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[27]).then(function(a){return a=a,e[28]=a[0],a})},function(a){return e[29]=e[2].get("device_private_key"),e[30]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[31]=a[0],a})},function(a){return e[31]?e[44]=(e[30].push(d.i64.cast([0,0])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[32]=a[0],a})},function(a){return e[32]?e[44]=(e[30].push(d.i64.cast([0,2])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[33]=a[0],a})},function(a){return e[33]?e[44]=(e[30].push(d.i64.cast([0,3])),e[30]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[34]=a[0],a})},function(a){return e[34]?e[44]=(e[30].push(d.i64.cast([0,4])),e[30]):0,e[35]="",e[36]=d.i64.of_int32(e[30].length),d.i64.gt(e[36],d.i64.cast([0,0]))?d.loopAsync(e[36],function(a){return e[44]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[30],e[44]).then(function(a){return a=a,e[45]=a[0],e[46]=a[1],a})},function(a){return e[35]=[e[35],"_",d.i64.to_string(e[45])].join("")}])}):d.resolve()},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),["supported_versions_",e[35],"revision_version_",d.i64.to_string(d.i64.cast([0,1]))].join("")).then(function(a){return a=a,e[37]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[29],d.blob("Mg=="),e[37]).then(function(a){return a=a,e[38]=a[0],a})},function(a){return d.blobs.neq(e[38],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[38]).then(function(a){return a=a,e[44]=a[0],a})},function(a){return e[39]=e[44]}]):d.resolve(e[39]=void 0)},function(b){return e[40]=e[2].get("optimistic_backup_id"),e[41]=e[2].get("mailbox_partial_id"),e[42]=new d.Map(),e[42].set("supported_encryption_versions",e[30]),e[42].set("client_version",d.i64.cast([0,1])),e[42].set("version_sig",e[39]==null?"":e[39]),e[43]=new d.Map(),e[43].set("device_public_key",e[16]==null?"":e[16]),e[43].set("epoch_storage_public_key",e[18]==null?"":e[18]),e[43].set("epoch_storage_public_key_sig",e[20]==null?"":e[20]),e[43].set("epoch_auth_public_key",e[22]==null?"":e[22]),e[43].set("epoch_auth_public_key_sig",e[24]==null?"":e[24]),e[43].set("device_registration_id",a[0]),e[43].set("ocmf_client_state",e[26]==null?"":e[26]),e[43].set("mailbox_partial_id",e[41]),e[43].set("mailbox_root_key",e[28]==null?"":e[28]),e[43].set("encryption_version_data",e[42]),b=[e[43],e[40],!0,d.i64.cast([0,0])],e[4]=b[0],e[5]=b[1],e[6]=b[2],e[7]=b[3],b}]):d.resolve((e[3]!==void 0?(e[19]=e[3].get("error_code"),c=[void 0,d.i64.cast([-1,4294967295]),!1,e[19]],e[15]=c[0],e[16]=c[1],e[17]=c[2],e[18]=c[3],c):(c=[void 0,d.i64.cast([-1,4294967295]),!1,d.i64.cast([0,12])],e[15]=c[0],e[16]=c[1],e[17]=c[2],e[18]=c[3],c),c=[e[15],e[16],e[17],e[18]],e[4]=c[0],e[5]=c[1],e[6]=c[2],e[7]=c[3],c))},function(f){return e[6]?d.sequence([function(f){return e[4]!==void 0?d.sequence([function(a){return d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!0}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?(e[25]=new d.Map(),e[25].set("error_msg","Expected a nonempty query result"),e[25].set("code",d.i64.cast([0,3])),e[25].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),e[26]=d.createArray(),e[27]=(e[26].push(e[25]),e[26]),c=[void 0,e[26]],e[16]=c[0],e[17]=c[1],c):(b=a.item,e[25]=new d.Map(),e[25].set("backup_id",b.backupId),e[25].set("device_public_key_blob",b.devicePublicKeyBlob),e[25].set("device_private_key_blob",b.devicePrivateKeyBlob),e[25].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),e[25].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),e[25].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),e[25].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),e[25].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),e[25].set("ocmf_client_state_blob",b.ocmfClientStateBlob),e[25].set("orf_client_state_v2_blob",void 0),e[25].set("orf_v2_authority_level",void 0),e[25].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),e[25].set("device_id",b.deviceId),e[25].set("backup_tenancy",b.backupTenancy),e[25].set("encryption_version",b.encryptionVersion),e[25].set("revision_version",b.revisionVersion),e[25].set("initialize_restore_result",void 0),e[25].set("device_creation_timestamp_sec",void 0),e[25].set("authority_level",b.authorityLevel),c=[e[25],void 0],e[16]=c[0],e[17]=c[1],c)})},function(a){return e[19]=new d.Map(),e[19].set("value",e[16]),e[19].set("errors",e[17]),e[20]=e[19].get("value"),e[20]!==void 0?d.sequence([function(a){return e[25]=e[20].get("backup_id"),e[26]=e[20].get("device_public_key_blob"),e[27]=e[20].get("device_private_key_blob"),e[28]=e[20].get("epoch_storage_public_key_blob"),e[29]=e[20].get("epoch_storage_private_key_blob"),e[30]=e[20].get("epoch_auth_public_key_blob"),e[31]=e[20].get("epoch_auth_private_key_blob"),e[32]=e[20].get("mailbox_root_key_blob"),e[33]=e[20].get("ocmf_client_state_blob"),e[34]=e[20].get("orf_client_state_v2_blob"),e[35]=e[20].get("orf_v2_authority_level"),e[36]=e[20].get("oblivious_validation_token_blob"),e[37]=e[20].get("device_id"),e[38]=e[20].get("backup_tenancy"),e[39]=e[20].get("encryption_version"),e[40]=e[20].get("revision_version"),e[41]=e[20].get("initialize_restore_result"),e[42]=e[20].get("device_creation_timestamp_sec"),e[43]=e[20].get("authority_level"),d.i64.neq(e[37],void 0)?d.sequence([function(a){return e[47]=void 0,d.i64.neq(e[47],void 0)?d.resolve(e[48]=e[47]):d.sequence([function(a){return e[58]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[59]=a[0],a})},function(a){return e[59]?e[68]=(e[58].push(d.i64.cast([0,0])),e[58]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[60]=a[0],a})},function(a){return e[60]?e[68]=(e[58].push(d.i64.cast([0,2])),e[58]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[61]=a[0],a})},function(a){return e[61]?e[68]=(e[58].push(d.i64.cast([0,3])),e[58]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[62]=a[0],a})},function(a){return e[62]?e[68]=(e[58].push(d.i64.cast([0,4])),e[58]):0,e[63]=d.createArray(),e[64]=d.i64.of_int32(e[58].length),d.i64.gt(e[64],d.i64.cast([0,0]))?d.loopAsync(e[64],function(a){return e[68]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[58],e[68]).then(function(a){return a=a,e[69]=a[0],e[70]=a[1],a})},function(a){return e[71]=(e[63].push(e[69]),e[63])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[68]=d.createArray(),e[69]=d.i64.of_int32(e[63].length),d.i64.gt(e[69],d.i64.cast([0,0]))?d.loopAsync(e[69],function(a){return e[71]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[63],e[71]).then(function(a){return a=a,e[72]=a[0],e[73]=a[1],a})},function(a){return e[74]=(e[68].push(d.i64.to_string(e[72])),e[68])}])}):d.resolve()},function(a){return e[70]=e[68].join(","),e[65]=e[70]}])},function(a){return e[63].some(function(a){return d.i64.eq(e[39],a)})?e[66]=e[39]:e[66]=void 0,d.i64.neq(e[66],void 0)?e[67]=e[66]:e[67]=void 0,e[48]=e[67]}])},function(a){return d.i64.neq(e[48],void 0)?e[49]=e[48]:e[49]=d.i64.cast([0,0]),d.i64.neq(e[38],void 0)?e[50]=e[38]:e[50]=d.i64.cast([0,1]),e[51]=new d.Map(),e[51].set("device_id",e[37]),e[51].set("public_key",e[26]),e[52]=d.createArray(),e[58]=(e[52].push(e[51]),e[52]),d.storedProcedure(b("LSGenerateInitialEpochSetupPayload"),e[25],e[52]).then(function(a){return a=a,e[53]=a[0],e[54]=a[1],a})},function(a){return e[53]!==void 0?d.sequence([function(a){return e[58]=e[53].get("epoch_anon_id"),e[59]=e[53].get("epoch_root_key"),d.blobs.neq(e[59],void 0)?d.sequence([function(a){return e[76]=d.createArray(),e[82]=(e[76].push(d.i64.cast([0,18])),e[76]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,e[59],e[76]).then(function(a){return a=a,e[77]=a[0],a})},function(a){return e[77]!==void 0?d.sequence([function(a){return e[82]=d.i64.of_int32(e[77].length),d.i64.ge(e[82],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[77],d.i64.cast([0,0])).then(function(a){return a=a,e[84]=a[0],e[85]=a[1],a})},function(a){return e[83]=e[84]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[85]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[85]].join("")),e[84]=d.createArray(),void 0!==void 0?e[86]=(e[84].push(void 0),e[84]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[85],e[84],d.i64.cast([0,3]))},function(a){return e[83]=void 0}])},function(a){return e[78]=e[83]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[83]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[83]].join("")),e[82]=d.createArray(),void 0!==void 0?e[84]=(e[82].push(void 0),e[82]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[83],e[82],d.i64.cast([0,3]))},function(a){return e[78]=void 0}])},function(a){return d.blobs.neq(e[78],void 0)?e[79]=!0:e[79]=!1,e[79]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d.nativeOperation(b("LSBase64Encode.nop"),e[78]).then(function(a){return a=a,e[80]=a[0],a})},function(a){return e[80]!==void 0?e[81]=e[80]:e[81]="encodingfailed",e[60]=e[81]}]):d.resolve(e[60]="null")},function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[52],d.i64.cast([0,0])).then(function(a){return a=a,e[61]=a[0],e[62]=a[1],a})},function(a){return e[63]=e[61].get("public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[63]).then(function(a){return a=a,e[64]=a[0],a})},function(a){return e[65]=e[61].get("public_key"),e[66]=d.createArray(),e[76]=(e[66].push(d.i64.cast([0,32])),e[66]),d.nativeOperation(b("LSBase64Encode.nop"),e[58]).then(function(a){return a=a,e[67]=a[0],a})},function(a){return e[67]!==void 0?d.sequence([function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blobs.of_string(["epoch_devices","_",e[67]].join("")),void 0,e[59],e[66]).then(function(a){return a=a,e[76]=a[0],a})},function(a){return e[76]?e[77]=!1:e[77]=!0,e[77]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),e[80]="THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[80]].join("")),e[79]=d.createArray(),void 0!==void 0?e[82]=(e[79].push(void 0),e[79]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[80],e[79],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[81]=a[0],a})},function(a){return e[78]=e[81]}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[76],d.i64.cast([0,0])).then(function(a){return a=a,e[79]=a[0],e[80]=a[1],a})},function(a){return e[78]=e[79]}])},function(a){return e[68]=e[78]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),e[77]="THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[77]].join("")),e[76]=d.createArray(),void 0!==void 0?e[79]=(e[76].push(void 0),e[76]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[77],e[76],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[78]=a[0],a})},function(a){return e[68]=e[78]}])},function(a){return d.nativeOperation(b("LSHmac_v2.nop"),e[68],e[65]).then(function(a){return a=a,e[69]=a[0],a})},function(a){return c("gkx")("14857")||!1?d.sequence([function(a){return d.nativeOperation(b("LSCreateMinosEpochParams.nop"),e[59],e[58],void 0,void 0,void 0).then(function(a){return a=a,e[76]=a[0],e[77]=a[1],e[78]=a[2],e[79]=a[3],e[80]=a[4],e[81]=a[5],a})},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[76]).then(function(a){return a=a,e[82]=a[0],a})},function(a){return e[82]!==void 0?e[83]=e[82]:e[83]="",d.nativeOperation(b("LSBase64Encode.nop"),e[78]).then(function(a){return a=a,e[84]=a[0],a})},function(a){return e[84]!==void 0?e[85]=e[84]:e[85]="",d.nativeOperation(b("LSBase64Encode.nop"),e[77]).then(function(a){return a=a,e[86]=a[0],a})},function(a){return e[86]!==void 0?e[87]=e[86]:e[87]="",d.nativeOperation(b("LSBase64Encode.nop"),e[79]).then(function(a){return a=a,e[88]=a[0],a})},function(a){return e[88]!==void 0?e[89]=e[88]:e[89]="",d.blobs.neq(void 0,void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),void 0).then(function(a){return a=a,e[96]=a[0],a})},function(a){return e[96]!==void 0?e[97]=e[96]:e[97]="",e[90]=e[97]}]):d.resolve(e[90]=void 0)},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[80]).then(function(a){return a=a,e[91]=a[0],a})},function(a){return e[91]!==void 0?e[92]=e[91]:e[92]="",d.blobs.neq(e[81],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[81]).then(function(a){return a=a,e[96]=a[0],a})},function(a){return e[96]!==void 0?e[97]=e[96]:e[97]="",e[93]=e[97]}]):d.resolve(e[93]=void 0)},function(a){return e[94]=new d.Map(),e[94].set("mailbox_encryption_public_key",e[83]),e[94].set("mailbox_auth_public_key",e[85]),e[94].set("mailbox_signing_public_key",e[87]),e[94].set("epoch_head",e[89]),e[94].set("previous_epoch_head",e[90]),e[94].set("self_signature",e[92]),e[94].set("prev_signature",e[93]),e[94]!==void 0?d.resolve(e[95]=e[94]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBEpochUtils] Missing Native Op for MEBMinosCreateMailboxEncryptionKeyPair"),e[97]="Missing Native Op for MEBMinosCreateMailboxEncryptionKeyPair",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochUtils] ","",e[97]].join("")),e[96]=d.createArray(),void 0!==void 0?e[98]=(e[96].push(void 0),e[96]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochUtils",e[97],e[96],d.i64.cast([0,3]))},function(a){return e[95]=void 0}])},function(a){return e[70]=e[95]}]):d.resolve(e[70]=void 0)},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[58]).then(function(a){return a=a,e[71]=a[0],a})},function(a){return e[72]=e[53].get("optimistic_epoch_id"),d.blobs.neq(e[69],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[69]).then(function(a){return a=a,e[76]=a[0],a})},function(a){return e[73]=e[76]}]):d.resolve(e[73]=void 0)},function(a){return e[74]=new d.Map(),e[74].set("device_pub",e[64]==null?"":e[64]),e[74].set("hmac",e[73]==null?"":e[73]),e[74].set("encrypted_epoch_key",void 0),e[74].set("epoch_root_key_fingerprint",e[60]),e[75]=new d.Map(),e[75].set("epoch_data",""),e[75].set("epoch_anon_id",e[71]==null?"":e[71]),e[75].set("minos_epoch_creation_params",e[70]),e[75].set("optimistic_epoch_id",e[72]),e[75].set("membership",e[74]),a=[e[75],!0,d.i64.cast([0,0])],e[55]=a[0],e[56]=a[1],e[57]=a[2],a}]):d.resolve((e[54]!==void 0?(e[61]=e[54].get("error_code"),a=[void 0,!1,e[61]],e[58]=a[0],e[59]=a[1],e[60]=a[2],a):(a=[void 0,!1,d.i64.cast([0,14])],e[58]=a[0],e[59]=a[1],e[60]=a[2],a),a=[e[58],e[59],e[60]],e[55]=a[0],e[56]=a[1],e[57]=a[2],a))},function(a){return a=[e[55],e[56],e[57]],e[44]=a[0],e[45]=a[1],e[46]=a[2],a}]):d.resolve((a=[void 0,!1,d.i64.cast([0,9])],e[44]=a[0],e[45]=a[1],e[46]=a[2],a))},function(a){return a=[e[44],e[45],e[46]],e[21]=a[0],e[22]=a[1],e[23]=a[2],a}]):d.resolve((e[25]=e[19].get("errors"),e[26]=e[19].get("errors"),a=[void 0,!1,d.i64.cast([0,9])],e[21]=a[0],e[22]=a[1],e[23]=a[2],a))},function(c){return e[22]?d.sequence([function(c){return e[21]!==void 0?d.sequence([function(a){return d.storedProcedure(b("LSGenerateInitialVirtualDeviceSetupPayload"),e[5]).then(function(a){return a=a,e[26]=a[0],e[27]=a[1],a})},function(a){return e[26]!==void 0?d.sequence([function(a){return e[32]=e[26].get("virtual_device_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[32]).then(function(a){return a=a,e[33]=a[0],a})},function(a){return e[34]=e[26].get("virtual_device_id"),d.nativeOperation(b("LSBase64Encode.nop"),e[34]).then(function(a){return a=a,e[35]=a[0],a})},function(a){return e[36]=e[26].get("virtual_device_epoch_storage_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[36]).then(function(a){return a=a,e[37]=a[0],a})},function(a){return e[38]=e[26].get("virtual_device_epoch_storage_public_key_sig"),d.nativeOperation(b("LSBase64Encode.nop"),e[38]).then(function(a){return a=a,e[39]=a[0],a})},function(a){return e[40]=e[26].get("device_epoch_hmac"),d.nativeOperation(b("LSBase64Encode.nop"),e[40]).then(function(a){return a=a,e[41]=a[0],a})},function(a){return e[42]=e[26].get("epoch_root_key_fingerprint"),d.blobs.neq(e[42],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[42]).then(function(a){return a=a,e[54]=a[0],a})},function(a){return e[43]=e[54]}]):d.resolve(e[43]=void 0)},function(a){return e[44]=e[26].get("ocmf_rotation_token"),d.nativeOperation(b("LSBase64Encode.nop"),e[44]).then(function(a){return a=a,e[45]=a[0],a})},function(a){return e[46]=e[26].get("encrypted_secret_values_payload"),e[47]=e[26].get("virtual_device_type"),e[48]=e[26].get("action_type"),e[49]=e[26].get("cloud_service_account"),e[50]=e[26].get("hsm_pin_normalization_status"),e[51]=e[26].get("security_question_type"),e[52]=e[26].get("trusted_contact_id"),e[53]=new d.Map(),e[53].set("virtual_device_public_key",e[33]==null?"":e[33]),e[53].set("virtual_device_id",e[35]==null?"":e[35]),e[53].set("virtual_device_epoch_storage_public_key",e[37]==null?"":e[37]),e[53].set("virtual_device_epoch_storage_public_key_sig",e[39]==null?"":e[39]),e[53].set("encrypted_secret_values",e[46]),e[53].set("device_epoch_hmac",e[41]==null?"":e[41]),e[53].set("epoch_root_key_fingerprint",e[43]),e[53].set("ocmf_rotation_token",e[45]==null?"":e[45]),e[53].set("virtual_device_type",e[47]),e[53].set("action_type",e[48]),e[53].set("cloud_service_account",e[49]),e[53].set("hsm_pin_normalization_status",e[50]),e[53].set("security_question_type",e[51]),e[53].set("trusted_contact_id",e[52]),a=[e[53],!0,d.i64.cast([0,0])],e[28]=a[0],e[29]=a[1],e[30]=a[2],a}]):d.resolve((e[27]!==void 0?(e[35]=e[27].get("error_code"),a=[void 0,!1,e[35]],e[32]=a[0],e[33]=a[1],e[34]=a[2],a):(a=[void 0,!1,d.i64.cast([0,16])],e[32]=a[0],e[33]=a[1],e[34]=a[2],a),a=[e[32],e[33],e[34]],e[28]=a[0],e[29]=a[1],e[30]=a[2],a))},function(c){return e[29]?d.sequence([function(c){return e[28]!==void 0?d.sequence([function(c){return e[33]=new d.Map(),e[33].set("optimistic_backup_id",e[5]),e[33].set("device_payload",e[4]),e[33].set("epoch_payload",e[21]),e[33].set("virtual_device_payload",e[28]),e[38]=d.i64.cast([0,1e3]),e[34]=e[38],e[35]=new d.Map(),e[35].set("success",e[33]),e[35].set("request_id",a[1]),e[36]=d.toJSON(e[35]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50033]),e[36],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,e[34]).then(function(a){return a=a,e[37]=a[0],a})},function(a){return e[32]=d.i64.cast([0,0])}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] Null virtual device payload"),e[34]="Null virtual device payload",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] ","",e[34]].join("")),e[33]=d.createArray(),void 0!==void 0?e[39]=(e[33].push(void 0),e[33]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsInitializeBackupV2StoredProcedure",e[34],e[33],d.i64.cast([0,3]))},function(c){return e[35]=new d.Map(),e[35].set("error_code",e[30]),e[35].set("error_message","Null virtual device payload"),e[35].set("stored_procedure","initializeBackupV2"),e[36]=new d.Map(),e[36].set("failure",e[35]),e[36].set("request_id",a[1]),e[37]=d.toJSON(e[36]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50033]),e[37],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[38]=a[0],a})},function(a){return e[32]=d.i64.cast([0,1])}])},function(a){return e[31]=e[32]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] Could not create virtual device payload"),e[33]="Could not create virtual device payload",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] ","",e[33]].join("")),e[32]=d.createArray(),void 0!==void 0?e[38]=(e[32].push(void 0),e[32]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsInitializeBackupV2StoredProcedure",e[33],e[32],d.i64.cast([0,3]))},function(c){return e[34]=new d.Map(),e[34].set("error_code",e[30]),e[34].set("error_message","Could not create virtual device payload"),e[34].set("stored_procedure","initializeBackupV2"),e[35]=new d.Map(),e[35].set("failure",e[34]),e[35].set("request_id",a[1]),e[36]=d.toJSON(e[35]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50033]),e[36],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[37]=a[0],a})},function(a){return e[31]=d.i64.cast([0,1])}])},function(a){return e[25]=e[31]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] Null epoch payload"),e[27]="Null epoch payload",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] ","",e[27]].join("")),e[26]=d.createArray(),void 0!==void 0?e[32]=(e[26].push(void 0),e[26]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsInitializeBackupV2StoredProcedure",e[27],e[26],d.i64.cast([0,3]))},function(c){return e[28]=new d.Map(),e[28].set("error_code",e[23]),e[28].set("error_message","Null epoch payload"),e[28].set("stored_procedure","initializeBackupV2"),e[29]=new d.Map(),e[29].set("failure",e[28]),e[29].set("request_id",a[1]),e[30]=d.toJSON(e[29]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50033]),e[30],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[31]=a[0],a})},function(a){return e[25]=d.i64.cast([0,1])}])},function(a){return e[24]=e[25]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] Could not create epoch payload"),e[26]="Could not create epoch payload",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] ","",e[26]].join("")),e[25]=d.createArray(),void 0!==void 0?e[31]=(e[25].push(void 0),e[25]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsInitializeBackupV2StoredProcedure",e[26],e[25],d.i64.cast([0,3]))},function(c){return e[27]=new d.Map(),e[27].set("error_code",e[23]),e[27].set("error_message","Could not create epoch payload"),e[27].set("stored_procedure","initializeBackupV2"),e[28]=new d.Map(),e[28].set("failure",e[27]),e[28].set("request_id",a[1]),e[29]=d.toJSON(e[28]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50033]),e[29],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[30]=a[0],a})},function(a){return e[24]=d.i64.cast([0,1])}])},function(a){return e[15]=e[24]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] Null device payload"),e[17]="Null device payload",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] ","",e[17]].join("")),e[16]=d.createArray(),void 0!==void 0?e[22]=(e[16].push(void 0),e[16]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsInitializeBackupV2StoredProcedure",e[17],e[16],d.i64.cast([0,3]))},function(c){return e[18]=new d.Map(),e[18].set("error_code",e[7]),e[18].set("error_message","Null device payload"),e[18].set("stored_procedure","initializeBackupV2"),e[19]=new d.Map(),e[19].set("failure",e[18]),e[19].set("request_id",a[1]),e[20]=d.toJSON(e[19]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50033]),e[20],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[21]=a[0],a})},function(a){return e[15]=d.i64.cast([0,1])}])},function(a){return e[8]=e[15]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] Could not create device payload"),e[16]="Could not create device payload",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsInitializeBackupV2StoredProcedure] ","",e[16]].join("")),e[15]=d.createArray(),void 0!==void 0?e[21]=(e[15].push(void 0),e[15]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsInitializeBackupV2StoredProcedure",e[16],e[15],d.i64.cast([0,3]))},function(c){return e[17]=new d.Map(),e[17].set("error_code",e[7]),e[17].set("error_message","Could not create device payload"),e[17].set("stored_procedure","initializeBackupV2"),e[18]=new d.Map(),e[18].set("failure",e[17]),e[18].set("request_id",a[1]),e[19]=d.toJSON(e[18]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50033]),e[19],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[20]=a[0],a})},function(a){return e[8]=d.i64.cast([0,1])}])},function(a){return e[9]=d.i64.of_float(Date.now()),e[10]=d.i64.random(),e[12]="Finishing execution. Execution time: ",e[13]=d.i64.to_string(d.i64.sub(e[9],e[0])),e[14]=" ms",e[11]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][initializeBackupV2] ",e[11],e[12],e[11],e[13],e[11],e[14]].join("")),d.i64.eq(d.i64.mod_(e[10],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[15]=",",e[16]=d.createArray(),void 0!==void 0?e[17]=(e[16].push(void 0),e[16]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"initializeBackupV2",[e[12],e[15],e[13],e[15],e[14]].join(""),e[16],d.i64.cast([0,4]))):d.resolve()},function(a){return f[0]=e[8]}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsInitializeBackupV2StoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];d=a;g["default"]=d}),98);
__d("LSInitializeBackupV2StoredProcedure",["LSInitializeBackupV2","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInitializeBackupV2"),e.deviceRegistrationId,e.requestId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEncryptedBackupsInitializeBackup",["LSFactory","LSInitializeBackupV2StoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){return a.runInTransaction(function(a){return c("LSInitializeBackupV2StoredProcedure")(c("LSFactory")(a),{deviceRegistrationId:b,requestId:(a=d)!=null?a:""})},"readwrite",void 0,void 0,f.id+":25")}g.initializeBackupStoredProcedure=a}),98);
__d("EBInitializeBackup",["EBAPIQPLPoints","EBMainThreadEBDBApiDeferred","EBSMAPI","I64","LSAuthorityLevel","LSDatabaseSingleton","LSEncryptedBackupsOpStatus","LSIntEnum","MAWTraceUtils","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsInitializeBackup","QPLUserFlow","Random","ReQL","WAResultOrError","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a){var b,e=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f=(b=a.traceId)!=null?b:d("MAWTraceUtils").createTraceId(),g=(b=a.instanceKey)!=null?b:d("Random").uint32(),k=c("qpl")._(521478750,"2850");c("QPLUserFlow").start(k,{annotations:{int:{instanceKey:g}},instanceKey:g,timeoutInMs:c("justknobx")._("4211")});d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,k,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_START,void 0,g);d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,k,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_SPROC_START,void 0,g);return new Promise(async function(a,b){b=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();b===""&&a(d("WAResultOrError").makeError("device_registration_id_null"));b=await d("MWEncryptedBackupsInitializeBackup").initializeBackupStoredProcedure(e,b,f);b=b[0];(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsOpStatus").FAILURE))&&(d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,k,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_SPROC_FAIL,void 0,g),a(d("WAResultOrError").makeError("sproc_failure")));d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,k,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_SPROC_END,void 0,g);var h=e.tables.secure_encrypted_backups_client_state.subscribe(async function(b,f){if(f.operation==="delete")return;b=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.secure_encrypted_backups_client_state));if(b!=null){f=b[0];b=f.authorityLevel;f=f.backupId;if((i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){(b=d("EBAPIQPLPoints")).ebAPIAddQPLPoint(!1,k,b.EBBackupInitQPLPoints.INITIALIZE_BACKUP_END,void 0,g);h();b.ebAPIAddQPLPoint(!1,k,b.EBBackupInitQPLPoints.FETCH_BACKUP_IDS_START,void 0,g);c("EBSMAPI").fetchBackupIds(e,{isInWorker:!1}).finally(function(){d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,k,d("EBAPIQPLPoints").EBBackupInitQPLPoints.FETCH_BACKUP_IDS_END,void 0,g),d("EBAPIQPLPoints").ebAPIEndSuccess(!1,k,g),void d("EBMainThreadEBDBApiDeferred").addNewDevice()});a(d("WAResultOrError").makeResult(f))}d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,k,d("EBAPIQPLPoints").EBBackupInitQPLPoints.OPTIMISTIC_CLIENT_STATE,void 0,g);return}d("EBAPIQPLPoints").ebAPIEndFailure(!1,k,"empty_client_state",g);h();return a(d("WAResultOrError").makeError("empty_client_state"))})})}g.initializeBackup=a}),98);
__d("EBMessageRangeQueryForThreadsWithPersistence",["EBAPIQPLPoints","EBAPIWorkerCheck","EBMessageRangeQueryForThreads","I64","LSIntEnum","QPLUserFlow","WAHashStringToNumber","WAJids","WAResultOrError","promiseDone","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSEBUnifiedRestoreUtils").__setRef("EBMessageRangeQueryForThreadsWithPersistence");async function a(a){var b,e=a.instanceKey,f=a.restoreType,g=a.source,k=a.storage;a=a.threads;b=d("WAHashStringToNumber").hashStringToNumber((b=e)!=null?b:c("uuidv4")());var l=c("qpl")._(521473850,"2910");if(d("EBAPIWorkerCheck").runningInWorker()){c("QPLUserFlow").endFailure(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.UNSUPPORTED_CONTEXT,{instanceKey:b});return d("WAResultOrError").makeError("unsupported-context")}l=await d("EBMessageRangeQueryForThreads").messageRangeQueryForThreads({instanceKey:e,restoreType:f,source:g,storage:k,threads:a});(b=l.value)==null?void 0:b.forEach(function(a){if(a.value==null)return;var b=a.value.args,e=b.chatJid;b=b.from;var f=b[0],k=d("WAJids").threadIdForChatJid(e);b=a.value;var l=b.echo,m=b.messageRangeInfo,n=b.protobuf;c("promiseDone")(j.load().then(function(a){return a.echoProtobufConsolidatedRestoreHelper(k,n,m.has_more_before,(h||(h=d("I64"))).of_string(m.next_message_timestamp_ms_before),m.has_more_after,h.of_string(m.next_message_timestamp_ms_after),!1,void 0,""+f,void 0,l,(i||(i=d("LSIntEnum"))).ofNumber(g),e)}))});return l}g.messageRangeQueryForThreadsWithPersistence=a}),98);
__d("EBSetRestoreStatusForInitialRestore",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","ReQL","WAJids","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,b){var e=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.encrypted_backups_client_restore_status).map(function(a){a=a.threadId;return a}));return b.runInTransaction(async function(b){var f=[],g=[];e.forEach(function(a){f.push(b.encrypted_backups_client_restore_status.delete(a))});await Promise.all(f);a.forEach(function(a){g.push(b.encrypted_backups_client_restore_status.put({lastUpdated:(j||(j=d("I64"))).of_float((h||(h=c("performanceAbsoluteNow")))()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS),threadId:d("WAJids").threadIdForChatJid(a)}))});await Promise.all(g)},"readwrite",void 0,void 0,f.id+":37")}async function b(a){var b=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups_client_restore_status).map(function(a){a=a.threadId;return a}));return a.runInTransaction(async function(a){var c=[];b.forEach(function(b){c.push(a.encrypted_backups_client_restore_status.delete(b))});await Promise.all(c)},"readwrite",void 0,void 0,f.id+":75")}g.setRestoreStatusForInitialRestore=a;g.resetClientRestoreStatus=b}),98);
__d("LSCreateDataTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(153).add({traceId:a[0],initTimestampMs:c[0],traceType:a[4],shouldFlush:!1,contextOne:a[1],contextTwo:a[2],contextThree:a[3]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSDataTraceCreateDataTraceStoredProcedure";a.__tables__=["data_trace_meta"];e.exports=a}),null);
__d("LSCreateDataTraceID.nop",["LSRequestId","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,d){return(h||(h=b("Promise"))).resolve(c("LSResult")(c("LSRequestId").generate()))};a.__nop_name__="LSCreateDataTraceID";g["default"]=a}),98);
__d("LSInitializeRestore",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSCreateDataTrace","LSCreateDataTraceID.nop","LSGetLatestThreadIds.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueMessageRangeQueryTask","LSIssueNewTask","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsInitializeRestoreStoredProcedure] Beginning execution."),d[1]=c.i64.cast([0,1e3]),c.nativeOperation(b("LSGetLatestThreadIds.nop"),"AdvancedCrypto",d[1],!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(a){return c.forEach(c.db.table(231).fetch(),function(a){return a["delete"]()})},function(e){return d[3]?d[2]!==void 0?(d[10]=c.i64.of_int32(d[2].length),c.i64.gt(d[10],c.i64.cast([0,0]))?(d[11]=c.i64.cast([0,0]),d[12]=c.i64.of_int32(d[2].length),c.i64.gt(d[12],c.i64.cast([0,0]))?c.loopAsync(d[12],function(e){return d[13]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[2],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(e){return d[19]=c.i64.add(d[11],c.i64.cast([0,1])),a[0]!==void 0?c.resolve(d[16]=a[0]):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[20]=f[0],d[21]=f[1],d[22]=f[2],d[23]=f[3],d[24]=f[4],d[25]=f[5],d[26]=f[6],d[27]=f[7],d[28]=f[8],d[29]=f[9],d[30]=f[10],d[31]=f[11],d[32]=f[12],d[33]=f[13],d[34]=f[14],d[35]=f[15],d[36]=f[16],d[37]=f[17],f):(e=a.item,c.sequence([function(a){return d[46]=e.backupTenancy,d[45]=e.encryptionVersion,d[41]=void 0,c.i64.neq(d[41],void 0)?c.resolve(d[42]=d[41]):c.sequence([function(a){return d[47]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[48]?d[57]=(d[47].push(c.i64.cast([0,0])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]?d[57]=(d[47].push(c.i64.cast([0,2])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[50]?d[57]=(d[47].push(c.i64.cast([0,3])),d[47]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[51]?d[57]=(d[47].push(c.i64.cast([0,4])),d[47]):0,d[52]=c.createArray(),d[53]=c.i64.of_int32(d[47].length),c.i64.gt(d[53],c.i64.cast([0,0]))?c.loopAsync(d[53],function(a){return d[57]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[47],d[57]).then(function(a){return a=a,d[58]=a[0],d[59]=a[1],a})},function(a){return d[60]=(d[52].push(d[58]),d[52])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[57]=c.createArray(),d[58]=c.i64.of_int32(d[52].length),c.i64.gt(d[58],c.i64.cast([0,0]))?c.loopAsync(d[58],function(a){return d[60]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[52],d[60]).then(function(a){return a=a,d[61]=a[0],d[62]=a[1],a})},function(a){return d[63]=(d[57].push(c.i64.to_string(d[61])),d[57])}])}):c.resolve()},function(a){return d[59]=d[57].join(","),d[54]=d[59]}])},function(a){return d[52].some(function(a){return c.i64.eq(d[45],a)})?d[55]=d[45]:d[55]=void 0,c.i64.neq(d[55],void 0)?d[56]=d[55]:d[56]=void 0,d[42]=d[56]}])},function(a){return c.i64.neq(d[42],void 0)?d[43]=d[42]:d[43]=c.i64.cast([0,0]),c.i64.neq(d[46],void 0)?d[44]=d[46]:d[44]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[43],d[44],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[20]=a[0],d[21]=a[1],d[22]=a[2],d[23]=a[3],d[24]=a[4],d[25]=a[5],d[26]=a[6],d[27]=a[7],d[28]=a[8],d[29]=a[9],d[30]=a[10],d[31]=a[11],d[32]=a[12],d[33]=a[13],d[34]=a[14],d[35]=a[15],d[36]=a[16],d[37]=a[17],a}]))})},function(a){return c.i64.eq(d[35],c.i64.cast([0,80]))&&c.i64.eq(d[27],c.i64.cast([0,2]))?d[39]=c.i64.or_(c.i64.cast([0,73]),c.i64.cast([0,128])):d[39]=c.i64.cast([0,73]),c.sequence([function(a){return c.nativeOperation(b("LSCreateDataTraceID.nop")).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.sequence([function(a){return d[45]="EncryptedBackups MCD Trace ID",d[46]=c.i64.to_string(d[39]),d[44]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils] ",d[44],d[45],d[44],d[46]].join("")),c.resolve()},function(a){return c.storedProcedure(b("LSCreateDataTrace"),d[41],void 0,void 0,"restore_messages",d[39])}])},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]?d[43]=!0:d[43]=!1,d[43]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[45]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[45]].join("")),d[44]=c.createArray(),void 0!==void 0?d[46]=(d[44].push(void 0),d[44]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[45],d[44],c.i64.cast([0,3]))):c.resolve()},function(a){return d[40]=d[41]}])},function(a){return d[16]=d[40]}])},function(a){return c.sequence([function(a){return d[16]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[16],c.i64.cast([0,2506]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[23]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[23]].join("")),d[22]=c.createArray(),void 0!==void 0?d[24]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[23],d[22],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[17]=c.i64.of_float(Date.now()),c.db.table(231).add({threadId:d[14],lastUpdated:d[17],restoreStatus:c.i64.cast([0,1])})},function(a){return c.sequence([function(a){return d[16]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[16],c.i64.cast([0,3602]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!0:d[21]=!1,d[21]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[23]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[23]].join("")),d[22]=c.createArray(),void 0!==void 0?d[24]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[23],d[22],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.i64.gt(d[19],c.i64.cast([0,20]))?d[18]="encrypted_backups_restore":d[18]=["encrypted_backups_restore",":",d[14]].join(""),c.storedProcedure(b("LSIssueMessageRangeQueryTask"),d[14],c.i64.cast([0,20]),void 0,!1,d[16],c.i64.cast([0,0]),c.i64.cast([-1,4294967295]),!1)},function(a){return d[11]=d[19]}])}):c.resolve()):(d[11]=new c.Map(),d[11].set("error_code",c.i64.cast([0,113])),d[11].set("error_message",void 0==null?"":void 0),d[11].set("stored_procedure","initializeRestore"),d[12]=new c.Map(),d[12].set("act_thread_id",""),d[12].set("source",c.i64.cast([-1,4294967295])),d[12].set("restore_operation_type",c.i64.cast([0,3])),d[12].set("request_id",void 0),d[12].set("device_id",void 0),d[13]=new c.Map(),d[13].set("restore_context",d[12]),d[13].set("failure",d[11]),d[14]=d[13].get("queue_name"),d[14]!==void 0?d[15]=d[14]:(d[17]=d[13].get("restore_context"),d[18]=d[17].get("act_thread_id"),d[15]=["encrypted_backups_restore",":",d[18]].join("")),d[16]=c.toJSON(d[13]),c.storedProcedure(b("LSIssueNewTask"),d[15],c.i64.cast([0,50030]),d[16],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))):(d[10]=new c.Map(),d[10].set("error_code",c.i64.cast([0,107])),d[10].set("error_message",void 0==null?"":void 0),d[10].set("stored_procedure","initializeRestore"),d[11]=new c.Map(),d[11].set("act_thread_id",""),d[11].set("source",c.i64.cast([-1,4294967295])),d[11].set("restore_operation_type",c.i64.cast([0,3])),d[11].set("request_id",void 0),d[11].set("device_id",void 0),d[12]=new c.Map(),d[12].set("restore_context",d[11]),d[12].set("failure",d[10]),d[13]=d[12].get("queue_name"),d[13]!==void 0?d[14]=d[13]:(d[16]=d[12].get("restore_context"),d[17]=d[16].get("act_thread_id"),d[14]=["encrypted_backups_restore",":",d[17]].join("")),d[15]=c.toJSON(d[12]),c.storedProcedure(b("LSIssueNewTask"),d[14],c.i64.cast([0,50030]),d[15],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[10]=new c.Map(),d[10].set("error_code",c.i64.cast([0,107])),d[10].set("error_message",void 0==null?"":void 0),d[10].set("stored_procedure","initializeRestore"),d[11]=new c.Map(),d[11].set("act_thread_id",""),d[11].set("source",c.i64.cast([-1,4294967295])),d[11].set("restore_operation_type",c.i64.cast([0,3])),d[11].set("request_id",void 0),d[11].set("device_id",void 0),d[12]=new c.Map(),d[12].set("restore_context",d[11]),d[12].set("failure",d[10]),d[13]=d[12].get("queue_name"),d[13]!==void 0?d[14]=d[13]:(d[16]=d[12].get("restore_context"),d[17]=d[16].get("act_thread_id"),d[14]=["encrypted_backups_restore",":",d[17]].join("")),d[15]=c.toJSON(d[12]),c.storedProcedure(b("LSIssueNewTask"),d[14],c.i64.cast([0,50030]),d[15],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[4],d[0])),d[9]=" ms",d[6]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsInitializeRestoreStoredProcedure] ",d[6],d[7],d[6],d[8],d[6],d[9]].join("")),c.i64.eq(c.i64.mod_(d[5],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsInitializeRestoreStoredProcedure",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=c.i64.cast([0,0])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsInitializeRestoreStoredProcedure";a.__tables__=["encrypted_backups_client_restore_status","secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSInitializeRestoreStoredProcedure",["LSInitializeRestore","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSInitializeRestore"),e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEncryptedBackupsInitializeRestore",["EBGetLatestChatJids","EBMessageRangeQueryForThreadsWithPersistence","EBSetRestoreStatusForInitialRestore","ExecutionEnvironment","I64","LSEncryptedBackupsOpStatus","LSFactory","LSInitializeRestoreStoredProcedure","LSIntEnum","LSMEBTaskCreationSource","LSRequestId","MAWBridgeSendAndReceive","MAWEBRestoreTrackingUtils","MAWMpsGating","MpsOverBridge","MpsTypes","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=20;async function l(a,b){try{d("MAWEBRestoreTrackingUtils").markEBRestoreInitial({querySource:"GQL_MAIN_THREAD",traceId:b});var e=await d("EBGetLatestChatJids").getLatestChatJids(a);if(e.success===!1)return;var f=Date.now()+6e4,g=e.value.map(function(a){return{chatJid:a,direction:"before",from:[""+f,void 0]}});await d("EBSetRestoreStatusForInitialRestore").setRestoreStatusForInitialRestore(e.value,a);e=await d("EBMessageRangeQueryForThreadsWithPersistence").messageRangeQueryForThreadsWithPersistence({instanceKey:b,restoreType:"initial",source:c("LSMEBTaskCreationSource").EB_ADD_DEVICE,storage:a,threads:g});e.success===!1&&(d("MAWEBRestoreTrackingUtils").markEBRestoreFail(b,(j||(j=c("ExecutionEnvironment"))).isInWorker,"initialize_restore_failed: "+e.error),await d("EBSetRestoreStatusForInitialRestore").resetClientRestoreStatus(a));e.success===!0&&e.value.some(function(a){a=a.success;return a===!1})&&(await d("EBSetRestoreStatusForInitialRestore").resetClientRestoreStatus(a),d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(b,(j||(j=c("ExecutionEnvironment"))).isInWorker))}catch(e){d("MAWEBRestoreTrackingUtils").markEBRestoreFail(b,(j||(j=c("ExecutionEnvironment"))).isInWorker,"initialize_restore_failed: "+c("getErrorSafe")(e).message);await d("EBSetRestoreStatusForInitialRestore").resetClientRestoreStatus(a);throw e}}function m(a,b){d("MAWEBRestoreTrackingUtils").markEBRestoreInitial({querySource:"LS",traceId:b});return a.runInTransaction(function(a){return c("LSInitializeRestoreStoredProcedure")(c("LSFactory")(a),{traceId:b})},"readwrite",void 0,void 0,f.id+":126").then(function(a){a=a[0];(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsOpStatus").SUCCESS))||d("MAWEBRestoreTrackingUtils").markEBRestoreFail(b,(j||(j=c("ExecutionEnvironment"))).isInWorker,"initialize_restore_failed")}).catch(function(a){d("MAWEBRestoreTrackingUtils").markEBRestoreFail(b,(j||(j=c("ExecutionEnvironment"))).isInWorker,"initialize_restore_failed: "+a.message);throw a})}async function n(a,b){try{d("MAWEBRestoreTrackingUtils").markEBRestoreInitial({querySource:"GQL_MAIN_THREAD",traceId:b});var e=await d("EBGetLatestChatJids").getLatestChatJids(a,50);if(e.success===!1)return;await d("EBSetRestoreStatusForInitialRestore").setRestoreStatusForInitialRestore(e.value,a);d("MAWMpsGating").isFullMpsEnabled()?await Promise.all(e.value.map(function(a){return d("MpsOverBridge").mps().loadMessages({debug:{purpose:"InitializeRestore"},direction:"desc",from:[d("MpsTypes").toTimestamp(Number.MAX_SAFE_INTEGER),void 0],numMessages:k,threadId:d("MpsTypes").toThreadId(a)})})):d("MAWMpsGating").isMpsM3OrLater()&&await d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_by_chat_jids_into_maw",{actionType:"pre-load",config:e.value.map(function(a){return{chatJid:a,direction:"before",includeLowerBoundMsg:!0,lowerBoundSortOrderMs:Date.now(),numMsgs:k}})})}catch(a){d("MAWEBRestoreTrackingUtils").markEBRestoreFail(b,(j||(j=c("ExecutionEnvironment"))).isInWorker,"initialize_restore_failed: "+c("getErrorSafe")(a).message);throw a}finally{await d("EBSetRestoreStatusForInitialRestore").resetClientRestoreStatus(a)}}function a(a){var b=c("LSRequestId").generate();if(d("MAWMpsGating").isFullMpsEnabled()||c("gkx")("15071"))return n(a,b);else if(c("gkx")("12983"))return l(a,b);else return m(a,b)}g.initializeRestore=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseRequestError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysRequestErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysRequestErrors").parseRequestErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRequestErrors:b.value}))}g.parseRotateSignedResponseRequestError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseServerError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysServerErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysServerErrors").parseServerErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorServerErrors:b.value}))}g.parseRotateSignedResponseServerError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseSuccess",["WASmaxInPreKeysIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInPreKeysIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRotateSignedResponseSuccess=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseValidationError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;var e=d("WASmaxParseUtils").attrString(c.value,"text");if(!e.success)return e;var f=d("WASmaxParseUtils").attrIntRange(c.value,"code",400,499);if(!f.success)return f;c=d("WASmaxInPreKeysIdentityKeyMixin").parseIdentityKeyMixin(c.value);if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorText:e.value,errorCode:f.value,errorIdentityKeyMixin:c.value},a.value))}g.parseRotateSignedResponseValidationError=a}),98);
__d("WASmaxOutPreKeysRotateSignedRequest",["WASmaxJsx","WASmaxOutPreKeysClientRequestMixin","WASmaxOutPreKeysSignedPreKeyMixin"],(function(a,b,c,d,e,f,g){function a(a){a=a.signedPreKeyMixinArgs;a=d("WASmaxOutPreKeysClientRequestMixin").mergeClientRequestMixin(d("WASmaxJsx").smax("iq",{type:"set"},d("WASmaxOutPreKeysSignedPreKeyMixin").mergeSignedPreKeyMixin(d("WASmaxJsx").smax("rotate",null),a)));return a}g.makeRotateSignedRequest=a}),98);
__d("WASmaxPreKeysRotateSignedRPC",["WAComms","WASmaxInPreKeysRotateSignedResponseRequestError","WASmaxInPreKeysRotateSignedResponseServerError","WASmaxInPreKeysRotateSignedResponseSuccess","WASmaxInPreKeysRotateSignedResponseValidationError","WASmaxOutPreKeysRotateSignedRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutPreKeysRotateSignedRequest").makeRotateSignedRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInPreKeysRotateSignedResponseSuccess").parseRotateSignedResponseSuccess(b,a);if(c.success)return{name:"RotateSignedResponseSuccess",value:c.value};var e=d("WASmaxInPreKeysRotateSignedResponseValidationError").parseRotateSignedResponseValidationError(b,a);if(e.success)return{name:"RotateSignedResponseValidationError",value:e.value};var f=d("WASmaxInPreKeysRotateSignedResponseRequestError").parseRotateSignedResponseRequestError(b,a);if(f.success)return{name:"RotateSignedResponseRequestError",value:f.value};b=d("WASmaxInPreKeysRotateSignedResponseServerError").parseRotateSignedResponseServerError(b,a);if(b.success)return{name:"RotateSignedResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("RotateSigned",{Success:c,ValidationError:e,RequestError:f,ServerError:b}))}g.sendRotateSignedRPC=a}),98);
__d("WARotateSignedPreKeyProtocol",["WACryptoManager","WAErrorMessage","WAGlobals","WAHandleFailureUtils","WAMakeSignedPreKeyMixin","WAResultOrError","WASmaxPreKeysRotateSignedRPC","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["successfully rotated new skey"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ServerError: "," ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["RequestError: "," ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["ValidationError: "," ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["generated skey. Start rotating skey..."]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["start generating skey..."]);m=function(){return a};return a}var n=d("WATagsLogger").TAGS(["rotateSignedPreKeyProtocol"]);async function a(){n.LOG(m());try{var a=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WACryptoManager").generateSignedPreKey(a)},{operationType:"generate_signed_prekey",flush:!0,afterInit:!0});n.LOG(l());a=await d("WASmaxPreKeysRotateSignedRPC").sendRotateSignedRPC({signedPreKeyMixinArgs:d("WAMakeSignedPreKeyMixin").makeSignedPreKeyMixin(a)});switch(a.name){case"RotateSignedResponseValidationError":var b=a.value,c=b.errorCode,e=b.errorText;b=b.errorIdentityKeyMixin;n.ERROR(k(),c,e);return d("WAResultOrError").makeError({type:"validation-error",identity:b.elementValue});case"RotateSignedResponseRequestError":c=a.value.errorRequestErrors.value.code;e=a.value.errorRequestErrors.name;n.ERROR(j(),c,e);return d("WAResultOrError").makeError({type:"request-error"});case"RotateSignedResponseServerError":b=a.value.errorServerErrors.value.code;c=a.value.errorServerErrors.name;n.ERROR(i(),b,c);return d("WAResultOrError").makeError({type:"server-error"});default:a.name;n.LOG(h());return d("WAResultOrError").makeResult()}}catch(a){e=d("WAErrorMessage").maybeGetMessageFromError(a);if(e.includes("No lastSignedPrekeyId and registration")){await d("WAHandleFailureUtils").reregisterPhone();return d("WAResultOrError").makeError({type:"no-prekey-reregistered"})}throw a}}g.rotateSignedPreKeyProtocol=a}),98);
__d("WARotateSignedPreKey",["WAGenerateAndUploadPreKeys","WALoggerTag","WARotateSignedPreKeyProtocol","WATagsLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["rotateSignedPreKey failed."]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while generating and uploading prekeys: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Signed prekey failed server validation. need to upload all keys."]);j=function(){return a};return a}var k=d("WATagsLogger").TAGS([c("WALoggerTag").SignedPrekeyRotation,c("WALoggerTag").SignedPrekey]);async function a(a){a=await d("WARotateSignedPreKeyProtocol").rotateSignedPreKeyProtocol();if(a.success||a.error.type==="no-prekey-reregistered")return;if(a.error.type==="validation-error"){k.ERROR(j());d("WAGenerateAndUploadPreKeys").generateAndUploadPreKeys(null,{reason:"signed prekey failed server validation"}).catch(function(a){k.ERROR(i(),a)});return Promise.resolve()}k.ERROR(h());throw c("err")("rotateSignedPreKey RPC failed: "+a.error.type)}g.rotateSignedPreKey=a}),98);/*FB_PKG_DELIM*/
__d("BroadcastChat.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"5 5 25 25",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",d:"M18 28.07c6.393 0 11-4.467 11-10.57v-.002C29 11.396 24.393 7 18 7S7 11.396 7 17.498v.002c0 2.091.414 3.98 1.383 5.562.458.747.564 1.664.29 2.5l-.727 2.411c-.2.614.373 1.188.964.986l3.668-1.126a4.261 4.261 0 0 1 2.39-.09c.952.233 1.966.328 3.032.328zm0-8.27a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm4.31-5.888a.75.75 0 0 1 1.06.008l.176.179a5.293 5.293 0 0 1 0 7.402l-.175.178a.75.75 0 0 1-1.061.01l-.357-.351a.75.75 0 0 1-.008-1.061l.175-.178a3.293 3.293 0 0 0 0-4.598l-.175-.178a.75.75 0 0 1 .008-1.06l.357-.351zm-8.255 1.411a.75.75 0 0 0-.008-1.06l-.357-.351a.75.75 0 0 0-1.06.008l-.176.179a5.293 5.293 0 0 0 0 7.402l.175.178a.75.75 0 0 0 1.061.01l.357-.351a.75.75 0 0 0 .008-1.061l-.175-.178a3.293 3.293 0 0 1 0-4.598l.175-.178z",clipRule:"evenodd"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBGroupChatInviteState",[],(function(a,b,c,d,e,f){a=Object.freeze({ACCEPTED:1,ACTIVE:2,DECLINED_BY_RECEIVER:3,IGNORED_BY_RECEIVER:4,DELETED_BY_SENDER:5,DISCARDED:6});f["default"]=a}),66);
__d("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9578991145469240"}),null);
__d("GroupsCometGlobalChatCreationDialogQuery$Parameters",["GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometGlobalChatCreationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometGlobalChatCreationDialog.entrypoint",["GroupsCometGlobalChatCreationDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("GroupsCometGlobalChatCreationDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometGlobalChatCreationDialog.react").__setRef("GroupsCometGlobalChatCreationDialog.entrypoint")};g["default"]=a}),98);
__d("JSSet.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.values())}f.values=a}),66);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchInsertRankingContactsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInsertRankingContactsStoredProcedure",["LSInsertRankingContacts","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertRankingContacts"),e.limit);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSetCommunityChannelJoiningErrorCodeForTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxSetCommunityChannelJoiningErrorCodeForTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateCommunityChannelJoiningTaskID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(162).fetch([[[a[0]]],"byFbGroupId"],[[[a[0]]]]),function(c){return b.i64.eq(c.fbGroupId,a[0])||b.i64.eq(c.communityType,b.i64.cast([0,1]))&&b.i64.eq(c.folderId,a[0])}),function(b){var c=b.update;b.item;return c({joiningChannelTaskId:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateCommunityChannelJoiningTaskIDStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSJoinCommunityChannel",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize","LSOptimisticUpdateHasPendingJoinRequest","LSSetCommunityChannelJoiningErrorCodeForTask","LSUpdateCommunityChannelJoiningTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.parentThreadKey)})},function(a){return c.db.table(162).fetch([[[d[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([-1,4294967295]):(b=a.item,c.i64.eq(b.communityType,c.i64.cast([0,1]))?d[13]=b.folderId:d[13]=b.fbGroupId,d[2]=d[13])})},function(a){return c.storedProcedure(b("LSSetCommunityChannelJoiningErrorCodeForTask"),d[2],void 0)},function(d){return a[2]?c.storedProcedure(b("LSOptimisticUpdateHasPendingJoinRequest"),a[0],!0):c.resolve()},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=c.i64.cast([0,1]):(b=a.item,d[14]=b.syncGroup,c.i64.neq(d[14],void 0)?d[13]=d[14]:d[13]=c.i64.cast([0,1]),d[4]=d[13])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[6]=!1:(b=a.item,d[6]=b.errorShouldBeShown)})},function(a){return d[6]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[13]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[14]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[13],d[14],void 0,void 0)}]):c.resolve()},function(e){return d[8]=new c.Map(),d[8].set("thread_key",a[0]),d[8].set("community_id",d[2]),d[8].set("sync_group",d[4]),d[8].set("entry_point",a[1]),d[8].set("is_request_to_join",a[2]),d[8].set("request_source",void 0),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[13]=c.i64.of_float(Date.now()),d[9]=c.i64.add(d[13],c.i64.cast([0,0]))):d[9]=c.i64.cast([0,0]),d[10]=d[8].get("thread_key"),d[11]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[10]),c.i64.cast([0,337]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[9],c.i64.cast([0,0])).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.storedProcedure(b("LSUpdateCommunityChannelJoiningTaskID"),d[2],d[12])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxJoinCommunityChannelStoredProcedure";a.__tables__=["threads","community_folders","user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSJoinCommunityChannelStoredProcedure",["LSJoinCommunityChannel","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSJoinCommunityChannel"),e.threadKey,e.entryPoint,e.isRequestToJoin);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpdateCommunityChannelDirectInvite",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize","LSOptimisticUpdateHasPendingJoinRequest","LSUpdateCommunityChannelJoiningTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.i64.eq(a[1],c.i64.cast([0,1]))&&!1!==void 0&&!1?c.storedProcedure(b("LSOptimisticUpdateHasPendingJoinRequest"),a[0],!0):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[11]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[12]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[11],d[12],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("channel_id",a[0]),d[2].set("state",a[1]),d[2].set("is_request_to_join",!1!==void 0&&!1),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[11],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("channel_id"),d[5]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["community_channel_invitation","_",c.i64.to_string(d[4])].join(""),c.i64.cast([0,463]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[7]=c.i64.cast([-1,4294967295]):(b=a.item,d[7]=b.parentThreadKey)})},function(a){return c.db.table(162).fetch([[[d[7]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.fbGroupId)})},function(e){return c.i64.eq(a[1],c.i64.cast([0,1]))?c.storedProcedure(b("LSUpdateCommunityChannelJoiningTaskID"),d[9],d[6]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateCommunityChannelDirectInviteStoredProcedure";a.__tables__=["user_visible_network_connectivity_error","threads","community_folders"];e.exports=a}),null);
__d("LSUpdateCommunityChannelDirectInviteStoredProcedure",["LSSynchronousPromise","LSUpdateCommunityChannelDirectInvite","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateCommunityChannelDirectInvite"),e.channelId,e.state);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LsUniversalSearchDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL_BLENDED:0,SERVER_ENTITIES_NAMED_DSQ1:1,SERVER_ENTITIES_NAMED_DSQ2:2});c=a;f["default"]=c}),66);
__d("LsUniversalSearchThreadType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:0,TINCAN:1,OPEN_THREAD:2});c=a;f["default"]=c}),66);
__d("MWChatSearchTypeheadActionButtonViewItem.react",["CometTypeaheadViewItem.react","FDSSkittleIcon.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.entry,f=a.icon,g=a.onHighlightEntry,h=a.onPressEntry;a=a.title;var j;b[0]!==f?(j=i.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:f,size:36}),b[0]=f,b[1]=j):j=b[1];f=j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"xe8uvvx xexx8yu xsyo7zv x18d9i69 x16hj40l"},b[2]=j):j=b[2];var k;b[3]!==a?(k=i.jsx(c("MWXText.react"),{type:"body3",children:a}),b[3]=a,b[4]=k):k=b[4];b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h||b[9]!==k?(a=i.jsx("div",babelHelpers["extends"]({},j,{role:"listbox",children:i.jsx(c("CometTypeaheadViewItem.react"),{entry:e,isActive:!1,itemStartContent:f,onHighlightEntry:g,onPressEntry:h,role:"option",children:k})})),b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=k,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWCreateBroadcastChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10056616957724259"}),null);
__d("MWCreateBroadcastChannelDialogQuery$Parameters",["MWCreateBroadcastChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCreateBroadcastChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCreateBroadcastChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23896442089962141"}),null);
__d("MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters",["MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionCreateBroadcastChannelNuxQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWQuickPromotionCreateBroadcastChannelNux.entrypoint",["JSResourceForInteraction","MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{broadcastChannelQueryRef:{parameters:c("MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWQuickPromotionCreateBroadcastChannelNux.react").__setRef("MWQuickPromotionCreateBroadcastChannelNux.entrypoint")};b=a;g["default"]=b}),98);
__d("MWCreateBroadcastChannelDialog.entrypoint",["JSResourceForInteraction","MWCreateBroadcastChannelDialogQuery$Parameters","MWQuickPromotionCreateBroadcastChannelNux.entrypoint","NestedRelayEntryPointBuilderUtils"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{entryPoints:{nuxEntryPoint:d("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:c("MWQuickPromotionCreateBroadcastChannelNux.entrypoint"),entryPointParams:{}})},queries:{queryReference:{parameters:c("MWCreateBroadcastChannelDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWCreateBroadcastChannelDialog.react").__setRef("MWCreateBroadcastChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react",["fbt","BroadcastChannelQPL","BroadcastChat.svg.react","MWChatSearchTypeheadActionButtonViewItem.react","MWCreateBroadcastChannelDialog.entrypoint","MWLogBroadcastChannelFalcoEvent","emptyFunction","react","react-compiler-runtime","useBroadcastChannelImpressionLogger","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(9),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Create channel"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={},a[1]=e):e=a[1];e=c("useMWXEntryPointDialog")(c("MWCreateBroadcastChannelDialog.entrypoint"),e);var f=e[0];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e={clientExtras:{entry_point:"public_chats:omnipicker"},event:161,parentSurface:7,source:20,surface:4},a[2]=e):e=a[2];e=c("useBroadcastChannelImpressionLogger")(e);var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={key:"newBroadcastChannel",label:"New Broadcast Channel",type:"entry"},a[3]=g):g=a[3];a[4]!==f?(g=j.jsx(c("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:g,icon:c("BroadcastChat.svg.react"),onHighlightEntry:c("emptyFunction"),onPressEntry:function(){d("BroadcastChannelQPL").logCreateBroadcastChannelQPLStart("public_chats:omnipicker"),d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({clientExtras:{entry_point:"public_chats:omnipicker"},event:95,parentSurface:7,source:20,surface:4}),f({},k)},title:b}),a[4]=f,a[5]=g):g=a[5];a[6]!==e||a[7]!==g?(b=j.jsx("div",{ref:e,children:g}),a[6]=e,a[7]=g,a[8]=b):b=a[8];return b}function k(){}g["default"]=a}),226);
__d("MessengerGroup.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 26 19",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M13 10c-2.13 0-3.96-1.5-3.96-4.75C9.04 2.6 10.71.83 13 .83c2.3 0 3.96 1.77 3.96 4.42C16.96 8.51 15.13 10 13 10zm6.62 8.33c.57 0 .88-.5.88-1.1 0-3.08-3.47-5.56-7.5-5.56-4.03 0-7.5 2.48-7.5 5.55 0 .62.3 1.11.88 1.11h13.24zm2.55-7.5c-1.57 0-2.92-1.08-2.92-3.45 0-1.93 1.23-3.21 2.92-3.21s2.91 1.28 2.91 3.21c0 2.37-1.34 3.45-2.91 3.45zm.81 6.67a.83.83 0 0 1-.83-.72l-.01-.11a6.3 6.3 0 0 0-1.7-3.65c-.2-.22-.14-.57.14-.67a4.95 4.95 0 0 1 1.59-.27c1.66 0 3.33.84 3.33 2.5 0 2.92-2.08 2.92-2.08 2.92h-.44zM.92 7.38c0 2.37 1.34 3.45 2.91 3.45s2.92-1.08 2.92-3.45c0-1.93-1.23-3.21-2.92-3.21S.92 5.45.92 7.38zm2.1 10.12h-.44S.5 17.5.5 14.58c0-1.66 1.67-2.5 3.33-2.5.54 0 1.08.1 1.6.27.27.1.33.45.13.67a6.3 6.3 0 0 0-1.7 3.65l-.01.1a.83.83 0 0 1-.83.73z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useMWLoggerEntrypoint",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("23433"),d=null;a!==void 0&&(a==="Inbox"?d=b?"messengerdotcom":"fb_groups:comet_www_inbox":a==="ChatTab"?d="fb_groups:comet_www_chat":a==="FullscreenChat"&&(d="fb_groups:comet_www_fullscreen_chat"));return d}g["default"]=a}),98);
__d("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react",["fbt","$InternalEnum","GroupsCometChatsEngagementLogger","GroupsCometGlobalChatCreationDialog.entrypoint","LSThreadAttributionStore","MWChatSearchTypeheadActionButtonViewItem.react","MWLSThreadDisplayContext","MessengerGroup.svg.react","emptyFunction","react","react-compiler-runtime","useGroupsCometChatsEngagementImpressionLogger","useMWLoggerEntrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=b("$InternalEnum")({CHAT_HEAD:"bottom_chat_create",JEWEL:"top_chat_create"});function a(){var a=d("react-compiler-runtime").c(14),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("GroupsCometGlobalChatCreationDialog.entrypoint"),b);var e=b[0],f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=c("useMWLoggerEntrypoint")(f);b=d("LSThreadAttributionStore").getSourceForNewThread();var i=b==="chatheadsNewMessage"?k.CHAT_HEAD:b==="jewelNewMessage"?k.JEWEL:null;b=(b=g)!=null?b:"";if(a[1]!==b){var m;m={client_extras:{entry_point:b,origin:(m=i)!=null?m:""},event:"community_chat_button_impression",surface:"chat_creation_template_list"};a[1]=b;a[2]=m}else m=a[2];b=c("useGroupsCometChatsEngagementImpressionLogger")(m);a[3]===Symbol["for"]("react.memo_cache_sentinel")?(m={key:"newCommunityChat",label:"New Community Chat",type:"entry"},a[3]=m):m=a[3];var n;a[4]!==f||a[5]!==g||a[6]!==e?(n=function(){var a;e({entrypoint:g!=null?g:void 0,shouldCloseComposeTab:f==="ChatTab",shouldGoToMessenger:f==="Inbox"},l);d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{entry_point:(a=g)!=null?a:"",origin:(a=i)!=null?a:""},event:"create_cc_button_clicked",source:"create_cc_button",surface:"chat_creation_template_list"})},a[4]=f,a[5]=g,a[6]=e,a[7]=n):n=a[7];var o;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Create community chat"),a[8]=o):o=a[8];a[9]!==n?(m=j.jsx(c("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:m,icon:c("MessengerGroup.svg.react"),onHighlightEntry:c("emptyFunction"),onPressEntry:n,title:o}),a[9]=n,a[10]=m):m=a[10];a[11]!==b||a[12]!==m?(o=j.jsx("div",{ref:b,children:m}),a[11]=b,a[12]=m,a[13]=o):o=a[13];return o}function l(){}g["default"]=a}),226);
__d("MWCMLightSpeedChatTabActionViewItems.react",["BaseDivider.react","CurrentEnvironment","MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react","MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react","MWPActor.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={divider:{marginTop:"x1xmf6yo",marginEnd:"xktsk01",marginBottom:"x1e56ztr",marginStart:"x1d52u69",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(2),b=c("gkx")("24047")&&!c("CurrentEnvironment").messengerdotcom,e=c("gkx")("24048"),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("MWPActor.react").isPromode(),a[0]=f):f=a[0];f=f;var g=e||f;g=b||g;f=f||e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=g?i.jsxs(i.Fragment,{children:[b&&i.jsx(c("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react"),{}),f&&i.jsx(c("MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react"),{}),i.jsx(c("BaseDivider.react"),{xstyle:j.divider})]}):null,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("MWChatSearchFetchCCRecommendations",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","MNetContactItemType","MWChatTemporarySearchResult","ReQL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=3;async function a(a,b){return(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(15))?[]:m(await l(a,k))}async function l(a,b){a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.cm_search_nullstate_metadata).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(18))}));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)}function m(a){return a.map(function(a,b){var e=a.communityId,f=a.contextLine,g=a.score,k=a.scoreType,l=a.secondaryThreadPictureUrl,m=a.secondaryThreadPictureUrlFallback,n=a.threadKey,o=a.threadName,p=a.threadPictureUrl;a.threadPictureUrlFallback;var q=a.threadType;babelHelpers.objectWithoutPropertiesLoose(a,["communityId","contextLine","score","scoreType","secondaryThreadPictureUrl","secondaryThreadPictureUrlFallback","threadKey","threadName","threadPictureUrl","threadPictureUrlFallback","threadType"]);a={contactId:n,contactType:(j||(j=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION),score:g,scoreIndex:(i||(i=d("I64"))).of_int32(b),scoreType:k};return{communityId:e!=null?(i||(i=d("I64"))).to_string(e):"",displayName:o,id:i.to_string(n),imageUrl:(b=(g=p)!=null?g:l)!=null?b:"",isAiBot:i.equal(q,j.ofNumber(201)),isContact:d("LSMessagingThreadTypeUtil").isOneToOne(q),isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(q),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,rankingScore:a,resultType:d("MWChatTemporarySearchResult").getResultType(j.ofNumber(13)),searchSource:"server",secondaryImageUrl:(e=(k=l)!=null?k:m)!=null?e:"",section:h._(/*BTDS*/"Your channels").toString(),subtext:(o=f)!=null?o:"",threadKey:n,threadType:q}})}g.fetchCCs=a;g.mapToSearchResults=m}),226);
__d("MWChatSearchFetchGenAIBotRecommendations",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MNetContactItemType","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResultUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=3;async function a(a,b){return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(15))?[]:l(await k(a,j))}async function k(a,b){a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.ai_bot_search_metadata));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)}function l(a){return a.map(function(a,b){var e=a.botId,f=a.contactViewerRelationship,g=a.contextLine,j=a.displayName,k=a.displayPictureUrl;a=a.score;a={contactId:e,contactType:(i||(i=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").BOT),score:a,scoreIndex:(h||(h=d("I64"))).of_int32(b),scoreType:i.ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)};return{displayName:j,id:h.to_string(e),imageUrl:(b=k)!=null?b:"",isAiBot:!0,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(e),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,isViewerUnconnected:h.equal(f,i.ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)),rankingScore:a,resultType:c("MWChatSearchResultType").AI_BOT,searchSource:"server",secondaryImageUrl:"",section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForAIBot(),subtext:(j=g)!=null?j:"",threadKey:e,threadType:h.of_int32(201)}})}g.fetchGenAIBots=a;g.mapToSearchResults=l}),98);
__d("MWChatSearchFetchRecommendations",["LSInitSyncCompleteSubscription","LSIntEnum","MWChatSearchFetchCCRecommendations","MWChatSearchFetchContactRecommendations","MWChatSearchFetchGenAIBotRecommendations","MWChatSearchIssueLightspeedQuery","Promise","emptyFunction","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,e,f,g,j){var l=e.includes((i||(i=d("LSIntEnum"))).ofNumber(13));e=e.includes(i.ofNumber(16));c("promiseDone")((h||(h=b("Promise"))).all([d("MWChatSearchFetchContactRecommendations").fetchContacts(a,f,g),l?d("MWChatSearchFetchCCRecommendations").fetchCCs(a,g):[],e?d("MWChatSearchFetchGenAIBotRecommendations").fetchGenAIBots(a,g):[]]).then(function(a){var b=a[0],c=a[1];a=a[2];b=k(b,c,a);return j(b)}))}function a(a,b,e,f,g,h){c("promiseDone")(d("MWChatSearchIssueLightspeedQuery").makeSearchQuery(b,f,g));c("qex")._("4321")===!0?c("promiseDone")(d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(a,(i||(i=d("LSIntEnum"))).ofNumber(7)),function(){j(a,b,e,f,h)}):j(a,b,e,f,h);return c("emptyFunction")}function k(a,b,c){return[].concat(c,b,a)}g.requestRecommendations=a;g.blendSearchResults=k}),98);
__d("MWChatSearchInsertRankingContacts",["I64","LSFactory","LSInsertRankingContactsStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1},k=(h||(h=d("I64"))).of_string("100");function a(a){if(!i.contents&&(h||(h=d("I64"))).gt(k,(h||(h=d("I64"))).zero)){i.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContactsStoredProcedure")(c("LSFactory")(a),{limit:k})},"readwrite",void 0,void 0,f.id+":39"),function(){j.contents=!0});return}}function b(){return j.contents}g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWChatSearchResultTypeMapping",["MWChatSearchResultType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("MWChatSearchResultType").GROUP:return 3;case c("MWChatSearchResultType").MESSAGE:return 5;case c("MWChatSearchResultType").PAGE:return 4;case c("MWChatSearchResultType").USER:return 1;case c("MWChatSearchResultType").AI_BOT:return 16}}g.mapMWChatSearchResultTypeToLSSearchType=a}),98);
__d("MWChatSearchIssueMAWFTSQuery",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MNetRankType","MWChatSearchResultTypeMapping","MWChatTemporarySearchResult","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchStandardResultTypeMappings","MWSearchThreadUtils","ReQL","cr:20302"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,e,f){return d("MAWChatJid").toThreadKeyMaybe(a.tables,b).then(function(b){if(b!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).then(function(a){var g;return{displayName:(g=e)!=null?g:"",id:c,imageUrl:"",isAiBot:a!=null&&(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:a!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType):!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:a!=null&&d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:a!=null&&d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:a!=null&&d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:a!=null&&d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:a!=null&&d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:f,resultType:d("MWChatTemporarySearchResult").getResultType((i||(i=d("LSIntEnum"))).ofNumber(5)),searchResultType:14,searchSource:"secure",section:"",subtext:"",threadKey:b}})})}function l(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a)).then(function(a){if(a!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(b){return(h||(h=d("I64"))).equal(b.armadilloThreadId,a.jid)})).then(function(b){if(b!=null)return b.openThreadId;else return a.jid});else return Promise.resolve()})}function m(a){var b=a.score-1e-6;return{contactId:a.contactId,contactType:a.contactType,score:b,scoreIndex:a.scoreIndex,scoreType:a.scoreType}}function n(a,b){return l(a,b).then(function(e){var f=e!=null?e:a,g=e!=null;return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.ranking_scores).getKeyRange(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))).then(function(a){if(a!=null)if(g)return m(a);else return a})})}function o(a,b,c,e){var f;f=(f=b.threadDescription)!=null?f:"";(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))&&(f=d("MWLSThreadTitle").getThreadTitleWithSecondaryNames(b.threadDescription,c,e,b.threadType).toString());return f}async function p(a,b,c,e){b=await Promise.all([d("MAWChatJid").toThreadKeyMaybe(a.tables,b),d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}))]);var f=b[0];b=b[1];if(f==null)return;f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f));if(f==null||f.folderName!=="inbox")return;var g=await Promise.all([d("MWSearchThreadUtils").getThreadPics(f,b,a),d("MWSearchThreadUtils").getThreadParticipants(f,a),n(f.threadKey,a)]),j=g[0],k=g[1];g=g[2];var l=j[0];j=j[1];var m=d("LSMessagingThreadTypeUtil").isOneToOne(f.threadType),p=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?(i||(i=d("LSIntEnum"))).ofNumber(3):(i||(i=d("LSIntEnum"))).ofNumber(1),q=null;m===!0&&(q=await d("MWGetOtherContactOrSelf").getOtherContactOrSelf(f.threadKey,b,a));return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(f.threadName,b,k,f.threadType).toString(),id:(h||(h=d("I64"))).to_string(f.threadKey),imageUrl:l,isAiBot:h.equal(f.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:m,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,f),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,f),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,f),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,f),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,f),isVerified:q!=null?d("LSContactBitOffset").has(23,q):!1,matchedTerms:e,otherUserId:q?(h||(h=d("I64"))).to_string(q.id):void 0,rankingScore:g,resultType:d("MWChatTemporarySearchResult").getResultType(p),searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(f.threadType),searchSource:"secure",secondaryImageUrl:j,section:"",subtext:o(c,f,b,k),threadKey:f.threadKey,threadType:f.threadType}}async function q(a,b,c){var e,f=await d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}));b=await d("MAWChatJid").toThreadKeyMaybe(a.tables,b);if(b==null)return null;var g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b));if(g==null)return null;f=await d("MWSearchThreadUtils").getThreadPics(g,f,a);a=f[0];f=f[1];var j={contactId:(h||(h=d("I64"))).zero,contactType:h.zero,score:h.to_float(g.lastActivityTimestampMs),scoreIndex:h.zero,scoreType:h.zero};return{displayName:(e=g.threadName)!=null?e:"",id:h.to_string(b),imageUrl:a,isAiBot:h.equal(g.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,g),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,g),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,g),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,g),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,g),isVerified:!1,matchedTerms:c,rankingScore:j,resultType:d("MWChatTemporarySearchResult").getResultType(i.ofNumber(3)),searchResultType:3,searchSource:"secure",secondaryImageUrl:f,section:"",subtext:(e=g.threadDescription)!=null?e:"",threadKey:b}}async function r(a,b){var c=await (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton;a=await Promise.all(a.map(function(a){switch(a.recordType){case"msg":var d=a.msg,e=d==null?void 0:d.msgId;return d==null||e==null?null:k(c,a.chatJid,e,d.content,a.matchedTerms);case"groupInfo":return q(c,a.groupJid,a.matchedTerms);case"participant":return p(c,a.threadJid,b,a.matchedTerms)}}));return a.filter(Boolean)}function s(a,b,c){return a.filter(function(a){a=(i||(i=d("LSIntEnum"))).ofNumber(d("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(a.resultType));var e=b.includes(a);if(!e)return!1;e=(h||(h=d("I64"))).equal(a,i.ofNumber(3));return!e||c})}function a(a,c,e,f){b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"mawdb_query_start"});return d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:f.query,searchMode:d("MAWBridgeSearchMsg").NON_MESSAGE_CONTENT_SEARCH},{timeoutMs:1e4}).then(function(a){b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"mawdb_query_end"});return r(a,c)}).then(function(b){return s(b,a,e)})}g.filterSearchResults=s;g.fetchResults=a}),98);
__d("mwGroupEntriesForDisplay",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(a of a){var c,d;c=(c=a.rawData.section)!=null?c:"";d=(d=b.get(c))!=null?d:[];d.push(a);b.set(c,d)}return b}f.mwGroupEntriesForDisplay=a}),66);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["MWCMLightSpeedChatTabActionViewItems.react","MWXText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a){var b=d("react-compiler-runtime").c(19),e=a.activeEntryKey,f=a.children,g=a.entries,h=a.itemRole;a=a.title;var j="chatSearchListHeading-"+a.toString().replace(/\s/g,"-");if(g!=null&&g.length>0){var k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"xexx8yu xsyo7zv x18d9i69 x16hj40l"},b[0]=k):k=b[0];var l;b[1]!==a||b[2]!==j?(l=a?i.jsx("div",babelHelpers["extends"]({className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha"},{children:i.jsx(c("MWXText.react"),{id:j,isSemanticHeading:!0,type:"entityHeaderMeta1",children:a})})):null,b[1]=a,b[2]=j,b[3]=l):l=b[3];if(b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==h){b[9]!==e||b[10]!==f||b[11]!==h?(a=function(a,b){var c=e===a.key;return f({entry:a,index:b,isActive:c,itemRole:h})},b[9]=e,b[10]=f,b[11]=h,b[12]=a):a=b[12];a=g.map(a);b[4]=e;b[5]=f;b[6]=g;b[7]=h;b[8]=a}else a=b[8];b[13]!==a||b[14]!==j?(g=i.jsx("ul",{"aria-labelledby":j,children:a}),b[13]=a,b[14]=j,b[15]=g):g=b[15];b[16]!==l||b[17]!==g?(a=i.jsxs("li",babelHelpers["extends"]({},k,{children:[l,g]})),b[16]=l,b[17]=g,b[18]=a):a=b[18];return a}return null}function a(a){var b=a.showActionItems,e=a.ariaProps,f=a.children,g=a.entries,h=a.highlightedEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["showActionItems","ariaProps","children","entries","highlightedEntry"]);var l=h!=null?h.key:null;a=j(function(){return d("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(g)},[g]);var m=c("getItemRoleFromCompositeRole")(e.role);return i.jsxs("ul",babelHelpers["extends"]({className:"x1yrsyyn x4uap5 x10b6aqq xkhd6sd"},{"data-testid":void 0,role:"listbox",children:[b&&i.jsx(c("MWCMLightSpeedChatTabActionViewItems.react"),{}),Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return i.jsx(k,{activeEntryKey:l,children:f,entries:a,itemRole:m,title:b},b)})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPOfllineOpenMiniSearchSingleton",["MWPMiniSearch"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWPMiniSearch").createMiniSearchSingleton(function(){return{storeFields:["category"]}});b=a;g["default"]=b}),98);
__d("MWPSearchOfflineOpenConversations",["MWPOfllineOpenMiniSearchSingleton"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("MWPOfllineOpenMiniSearchSingleton").getInstance().search(a)}function b(a){c("MWPOfllineOpenMiniSearchSingleton").getInstance().add(a)}function d(a){c("MWPOfllineOpenMiniSearchSingleton").getInstance().remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(a,b,c,d,e,f){"use strict";a="Contact";b="ThreadName";c="ThreadParticipant";d={Contact:a,ThreadName:b,ThreadParticipant:c};f.MWPSearchType=d}),66);
__d("MWPSearchOfflineOpenConversationsUtils",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactBlockedByViewerStatus","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResult","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","MWSearchThreadUtils","ReQL","cr:20302","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return"p__"+(h||(h=d("I64"))).to_string(a)+"__"+h.to_string(b)}function e(a,e){b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"offline_search_start"});if(l.contents==null){b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({annotations:{string:{offline_search_end_reason:"initial_index_not_started"}},point:"offline_search_end"});return Promise.resolve([])}var f=l.contents,g=d("MWPSearchOfflineOpenConversations").search(a).filter(function(a){return m(a,e)!==!0});return c("gkx")("6792")===!0?j(f,g,a):d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(f,(i||(i=d("LSIntEnum"))).ofNumber(7)).then(function(){return j(f,g,a)})}async function j(a,c,e){c=await Promise.all(c.map(function(b){var c=b.category.type;if(c==null)return Promise.resolve();switch(c){case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:c=n(b.id);if(c!=null){c=c[0];return r(a,(h||(h=d("I64"))).to_string(c),b.terms)}else return Promise.resolve();case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return r(a,b.id,b.terms);case d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return o(a,b.id,b.terms,e)}}));c=k(c.filter(Boolean));b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"offline_search_end"});return c}function k(a){var b=a.filter(function(a){return a.resultType!==c("MWChatSearchResultType").GROUP}).sort(t);a=a.filter(function(a){return a.resultType===c("MWChatSearchResultType").GROUP}).sort(t);b=b.concat(a);return b}var l={contents:void 0};function m(a,b){if(b)return!1;b=a.category;return(b==null?void 0:b.type)==="Contact"?!1:!0}function n(a){a=a.split("__");if(a.length!==3)return;else return[(h||(h=d("I64"))).of_string(a[1]),h.of_string(a[2])]}async function o(a,b,e,f){var g;g=await Promise.all([(g=d("ReQL")).firstAsync(g.fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.ig_contact_info).getKeyRange(h.of_string(b))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.ranking_scores).getKeyRange(h.of_string(b),(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH)))]);a=g[0];b=g[1];g=g[2];if(a==null||p(a,f))return;return d("MWChatTemporarySearchResult").fromContact((g=g)!=null?g:void 0,void 0,a,(g=b)!=null?g:void 0,"offline",e,f)}function p(a,b){var e=d("LSContactBitOffset").hasWithDefault(66,a,!1);return a.isMemorialized===!0||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(h||(h=d("I64"))).one)||!(h||(h=d("I64"))).equal(a.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))||e&&q(a.name,b)}function q(a,b,c){c===void 0&&(c=.7);a=a.trim().toLowerCase();b=b.trim().toLowerCase();b=!a.startsWith(b)||b.length/a.length<c;return b}async function r(a,b,c){var e;e=await Promise.all([(e=d("ReQL")).firstExnAsync(e.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})),e.firstAsync(e.leftJoin(e.fromTableAscending(a.tables.threads).getKeyRange((h||(h=d("I64"))).of_string(b)).filter(function(a){return!s(a)}),d("ReQL").fromTableAscending(a.tables.ig_thread_info).getKeyRange(h.of_string(b))))]);b=e[0];e=e[1];if(e==null)return Promise.resolve();var f=e[0];e=e[1];a=await Promise.all([d("MWSearchThreadUtils").getThreadPics(f,b,a),d("MWSearchThreadUtils").getThreadParticipants(f,a)]);var g=a[0];a=a[1];var i={contactId:h.zero,contactType:h.zero,score:h.to_float(f.lastActivityTimestampMs),scoreIndex:h.zero,scoreType:h.zero};return d("MWChatTemporarySearchResult").fromThread(f,"offline",b,g[0],g[1],a,i,c,e)}function s(a){return a.folderName!=="inbox"||d("LSMessagingThreadTypeUtil").isChannelPreview(a.threadType)||d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&(h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))}function t(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;return b<a?-1:0}g.getGroupParticipantKey=a;g.search=e;g.searchHelper=j;g.db=l}),98);
__d("MWLSSyncRankings",["LSIntEnum","MWLSDatabaseLazySync","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1};function a(a){if(!i.contents){i.contents=!0;c("promiseDone")(d("MWLSDatabaseLazySync").sync(a,(h||(h=d("LSIntEnum"))).ofNumber(7)),function(){j.contents=!0});return}}function b(){return j.contents}g.sync=a;g.isDone=b}),98);
__d("MWPSearchIndexingSource",["I64","LSIntEnum","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.contacts))}function b(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2))}))}function c(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.participants).filter(function(b){return!(h||(h=d("I64"))).equal(b.contactId,a)}).map(function(a){a=[a,d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a.contactId),f.id+":49")];return a}))}g.fetchContacts=a;g.fetchGroupThreads=b;g.fetchGroupParticipants=c}),98);
__d("MWPSearchOpenIndexer",["I64","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversationsUtils","MWPSearchOfflineSearchTypes","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map(),k=new Map();function l(a){var b=a.id;a=a.name;b=(h||(h=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);i.set(b,a)}function m(a){var b=i.get(a);if(b!=null){i.delete(a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function n(a){var b=a.threadKey;a=a.threadName;if(a==null)return;b=(h||(h=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);j.set(b,a)}function o(a){var b=j.get(a);if(b!=null){j.delete(a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function p(a,b){if(b==null)return;var c=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;a.nickname!=null&&(b+=" "+a.nickname);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant},content:b.trim(),id:c};d("MWPSearchOfflineOpenConversations").add(a);k.set(c,a)}async function q(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.contactId));return p(b,a)}function r(a,b){a=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a,b);b=k.get(a);if(b!=null){k.delete(a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function a(a,b){switch(b.operation){case"add":return l(b.value);case"put":m((h||(h=d("I64"))).to_string(a));return l(b.value);case"delete":return m((h||(h=d("I64"))).to_string(a))}}function b(a,b){switch(b.operation){case"add":return n(b.value);case"put":o((h||(h=d("I64"))).to_string(a));return n(b.value);case"delete":return o((h||(h=d("I64"))).to_string(a))}}function c(a,b,c,d){switch(d.operation){case"add":return q(a,d.value);case"put":r(b,c);return q(a,d.value);case"delete":return Promise.resolve(r(b,c))}}function e(a,b,c,e){d("MWPSearchOfflineOpenConversationsUtils").db.contents=a,b.forEach(l),c.forEach(n),e.forEach(function(a){var b=a[0];a=a[1];return p(b,a)})}g.onContactChanged=a;g.onGroupThreadChanged=b;g.onGroupParticipantChanged=c;g.startInitialIndex=e}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTablesStoredProcedure","LSFactory","LSIntEnum","MWChatSearchInsertRankingContacts","MWLSSyncRankings","MWPSearchIndexingSource","MWPSearchOpenIndexer","Promise","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={contents:!1},m={contents:!1},n={contents:!1},o=c("gkx")("6648");function a(a){if(!n.contents){n.contents=!0;(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts").insertRankingContacts(a);d("MWLSSyncRankings").sync(a);var e=(k||(k=d("I64"))).of_string(c("CurrentUser").getID());l.contents||(l.contents=!0,c("promiseDone")((h||(h=b("Promise"))).all([d("MWPSearchIndexingSource").fetchContacts(a),o?d("MWPSearchIndexingSource").fetchGroupThreads(a):(h||(h=b("Promise"))).resolve([]),o?d("MWPSearchIndexingSource").fetchGroupParticipants(e,a):(h||(h=b("Promise"))).resolve([])]).then(function(b){var c=b[0],e=b[1];b=b[2];d("MWPSearchOpenIndexer").startInitialIndex(a,c,e,b)}),function(){m.contents=!0},function(a){c("FBLogger")("messenger_web_search").catching(a).mustfix("Error indexing contacts for search")}),d("ReQL").fromTableAscending(a.tables.contacts).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onContactChanged(a,b)}),o&&(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(k||(k=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2))}).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onGroupThreadChanged(a,b)}),d("ReQL").fromTableAscending(a.tables.participants,["contactId","threadKey","nickname"]).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).subscribe(function(b,e){var f=b[0];b=b[1];c("promiseDone")(d("MWPSearchOpenIndexer").onGroupParticipantChanged(a,f,b,e))})))});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a),{clearMessageResults:!1})},"readwrite",void 0,void 0,f.id+":123")}function p(){if(d("MWLSSyncRankings").isDone()&&d("MWChatSearchInsertRankingContacts").isDone())return m.contents;else return!1}g.makeAll=a;g.clearAll=e;g.isDone=p}),98);
__d("MWStaticSearchEntries",["fbt","MWChatSearchResultType"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._(/*BTDS*/"Search messages for {param}",[h._param("param",a)]).toString();return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,resultType:c("MWChatSearchResultType").MESSAGE,secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchHeaderEntry=a}),226);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{key:a.id,label:a.displayName,rawData:{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:a.defaultE2eeThreadOneToOne,defaultE2eeThreads:a.defaultE2eeThreads,displayName:a.displayName,hasCutoverThread:a.hasCutoverThread,id:a.id,igid:a.resultIgid,imageUrl:a.imageUrl,isAiBot:a.isAiBot,isContact:a.isContact,isDisappearingModeSettingOn:a.isDisappearingModeSettingOn,isE2EE:a.isE2EE,isEPD:a.isEPD,isGroupsXacEligible:Boolean(a.isGroupsXacEligible),isInstagramAccount:Boolean(a.isInstagramAccount),isInstamadilloCutover:a.isInstamadilloCutover,isInteropEligible:a.isInteropEligible!==!1,isRestrictedByViewer:a.isRestrictedByViewer,isTTLCClipEnabled:Boolean(a.isTTLCClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.isTTLCGenericXMAShareEnabled),isTTLCMediaShareEnabled:Boolean(a.isTTLCMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.isTTLCStoryShareEnabled),isViewerUnconnected:a.isViewerUnconnected,isWAEligible:a.isWAEligible,otherUserId:a.otherUserId,rankingScore:a.rankingScore,reachabilityStatus:a.reachabilityStatus,renderIndex:b,resultType:a.resultType,searchResultType:a.searchResultType,searchSource:a.searchSource,secondaryImageUrl:(b=a.secondaryImageUrl)!=null?b:"",section:a.section,serverSearchResult:a.serverSearchResult,subtext:a.subtext,subtextAdditional:a.subtextAdditional,supportsE2eeSpamdStorage:a.supportsE2eeSpamdStorage,threadType:a.threadType,verificationStatus:a.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:a.waAddressable,waEligibility:a.waEligibility},type:"entry"}}f["default"]=a}),66);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchSurfaces"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b===c("MWChatSearchSurfaces").instagramAll?a:a.filter(function(a){return!a.isInstagramAccount})}g["default"]=a}),98);
__d("mwChatSearchPayloadEnumerate",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries,c=babelHelpers.objectWithoutPropertiesLoose(a,["entries"]),d=(a=a.params)==null?void 0:a.query,e=b.reduce(function(a,b,c){b=b.rawData.section;if(b==null)return a;b===""&&a.set(b,0);var d=a.get(b);d=d==null?c:Math.min(d,c);a.set(b,d);return a},new Map());a=b.map(function(a,b){var c=a.key,f=a.label;a=a.rawData;var g=a.section;return{key:c,label:f,rawData:babelHelpers["extends"]({},a,{query:d,renderIndex:b,sectionRenderIndex:g==null?-1:e.get(g)}),type:"entry"}});return babelHelpers["extends"]({entries:a},c)}f["default"]=a}),66);
__d("sortMWChatSearchLocalResults",["MWChatSearchResultType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h={group:1,message:2,messages:3,page:4,user:0},i=c("gkx")("23913");function a(a,b){var d,e={};for(var f of a){var g;e[f.id]=(g=f.rankingScore)==null?void 0:g.score}g=a.reduce(function(b,a){var d=a.rankingScore,e=a.resultType;e=e===c("MWChatSearchResultType").USER&&(d==null||d.score==null||d.score===0);e?b[0].push(a):b[1].push(a);return b},[[],[]]);f=g[0];g=g[1];d=(d=c("qex")._("3207"))!=null?d:!1;g=d?g:a;a=g.sort(function(a,c){var d=h[a.resultType],f=h[c.resultType];if(d!==f)return d-f;if(i&&b.length>1){d=(f=(d=a.matchedTerms)==null?void 0:d.length)!=null?f:0;f=(f=(f=c.matchedTerms)==null?void 0:f.length)!=null?f:0;if(f!==d)return f-d}d=(f=e[a.id])!=null?f:0;f=(a=e[c.id])!=null?a:0;return f-d});return d?a.concat(f):a}g["default"]=a}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","I64","LSIntEnum","MNetRankType","MWChatSearchFetchRecommendations","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery","MWChatSearchSurfaces","MWLSSearchIssueSearchQuerySupportedTypes","MWPSearchOfflineOpenConversationsUtils","MWPSearchSystem","MWStaticSearchEntries","cr:20302","cr:3752","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","isArmadillo","isSearchQualityEnabled","justknobx","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalResults"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=10,k=10,l=c("isArmadillo")();a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:f;var g=a.source;g=g===void 0?c("MWChatSearchSurfaces").universal:g;var i=a.includeRecommendations;i=i===void 0?!0:i;var j=a.includeGroupSearch;j=j===void 0?!1:j;var k=a.includeMessageSearchEntry;k=k===void 0?!0:k;var l=a.nullstateRankType;l=l===void 0?c("isSearchQualityEnabled")()?(h||(h=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_BLENDED_NULLSTATE):(h||(h=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):l;a=a.includeAiBots;a=a===void 0?!0:a;this.$1=[];this.$5=function(){};this.$1=e;this.$2=g===c("MWChatSearchSurfaces").omnipickerArmadillo?d("MWLSSearchIssueSearchQuerySupportedTypes").armadilloSupportedTypes:f;this.$3=g;this.$4=b;this.$6=i;this.$7=j;this.$8=k;this.$9=l;this.$10=a;d("MWPSearchSystem").makeAll(b)}var e=a.prototype;e.resolveData=async function(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$8&&a.query.length>1?[d("MWStaticSearchEntries").createMessageSearchHeaderEntry(a.query)]:[],b);b=d("MWChatSearchFilteringUtils").dedupeByThreadKey(b);b=await d("MWChatSearchFilteringUtils").filterSearchResults(b,this.$4,!1,l,!this.$10);var e=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return c("mwChatSearchPayloadEnumerate")(e({entries:b,params:a}))};e.fetchNetwork=function(a){var e=this;b("cr:20302")==null?void 0:b("cr:20302").qplAddAnnotations({annotations:{bool:{include_group_search:this.$7},int:{source:(i||(i=d("I64"))).to_int32(this.$3)}}});this.$5();return c("relay-runtime/network/RelayObservable").create(function(f){if(a.query.length===0){e.$5=e.fetchNullstateResults(a,f);return}var g=[],h=[],i=!1;b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({annotations:{int:{query_length:a.query.length}},point:"local_query_start"});var j=Promise.allSettled(e.issueLocalSearchQuery(a)).then(async function(d){var j=d[0];d=d[1];j=j.status==="fulfilled"?j.value:[];d=d.status==="fulfilled"?d.value:[];b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({annotations:{int:{offline_search_results_count:d.length,secure_search_results_count:j.length}},point:"local_query_end"});g=e.transformLocalSearchResults(j,d);g=c("sortMWChatSearchLocalResults")(g,a.query);b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"resolve_data_start"});j=await e.resolveData(a,g.concat(h));b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"resolve_data_end"});i||f.next(j)}).catch(function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),k=d("MWChatSearchIssueLightspeedQuery").requestResults_T200619723;c("justknobx")._("2003")&&(k=d("MWChatSearchIssueLightspeedQuery").requestResults);b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"server_query_start"});var l=k(e.$4,e.$2,e.$3,e.$7,a,function(i){b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({annotations:{int:{server_search_results_count:i.length}},point:"server_query_end"});h=i;i=a.query.length>0&&d("MWPSearchSystem").isDone();var k=i?j:Promise.resolve();b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({annotations:{bool:{wait_for_local_search:i}},point:"wait_for_local_search_start"});c("promiseDone")(k.finally(async function(){b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"wait_for_local_search_end"});b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"resolve_data_start"});var c=await e.resolveData(a,g.concat(h));b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({annotations:{int:{total_results_count:c.entries.length}},point:"resolve_data_end"});f.next(c);b("cr:20302")==null?void 0:b("cr:20302").qplSuccess();f.complete()}))});e.$5=function(){l(),i=!0}})};e.issueLocalSearchQuery=function(a){return[b("cr:3752")!=null?b("cr:3752").fetchResults(this.$2,this.$3,this.$7,a):Promise.resolve([]),this.$3!==c("MWChatSearchSurfaces").broadcast?d("MWPSearchOfflineOpenConversationsUtils").search(a.query,this.$7):Promise.resolve([])]};e.transformLocalSearchResults=function(a,b){b=j<=0?b:b.slice(0,j);a=k<=0?a:a.slice(0,k);return b.concat(a)};e.fetchNullstateResults=function(a,e){var f=this;if(!this.$6){e.next({entries:[],params:a});e.complete();return function(){}}b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({annotations:{bool:{should_fetch_community_chats:this.$2.includes((h||(h=d("LSIntEnum"))).ofNumber(13)),should_fetch_genai_bots:this.$2.includes((h||(h=d("LSIntEnum"))).ofNumber(16))},int:{null_state_rank_type:(i||(i=d("I64"))).to_int32(this.$9)}},point:"null_state_query_start"});return d("MWChatSearchFetchRecommendations").requestRecommendations(this.$4,this.$2,this.$9,this.$3,a,async function(d){d=c("filterInstagramContactsMWChatSearchLocalEntries")(d,f.$3);b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"null_state_query_end"});b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({point:"resolve_data_start"});d=await f.resolveData(a,d);b("cr:20302")==null?void 0:b("cr:20302").qplAddPoint({annotations:{int:{null_state_results_count:d.entries.length}},point:"resolve_data_end"});e.next(d);b("cr:20302")==null?void 0:b("cr:20302").qplSuccess();e.complete()})};e.setExcludedIds=function(a){this.$1=a};return a}();g.default=a}),98);
__d("SearchTransportType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:1,TINCAN:2,OPEN_THREAD:3,IG_DJANGO:4,IG_ADVANCED_CRYPTO_TRANSPORT:5,IG_MESSENGER_INFRA:6});c=a;f["default"]=c}),66);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("844");b=d("FalcoLoggerInternal").create("universal_search_end",a);e=b;g["default"]=e}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("846");b=d("FalcoLoggerInternal").create("universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("UniversalSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_RECENTS:1,NULL_STATE_RECENTS_SEE_ALL:2,NULL_STATE_SUGGESTED:3,NULL_STATE_XAC_FOLLOWING:4,QUERY_SUGGESTED:5,QUERY_NON_FOLLOWING:6,QUERY_XAC_FOLLOWING:7,QUERY_XAC_NON_FOLLOWING:8,QUERY_BUSINESSES:9,QUERY_MESSAGES:10,OTHER:11,QUERY_NON_BUSINESSES:12,COMMUNITY_CHATS:13,MORE_COMMUNITY_CHATS:14,RELEVANT_SHARES:15,LATEST_SHARES:16,RECOMMENDED_COMMUNITIES:17,COMMUNITIES_AND_MORE:18,CHANNELS:19,NULL_STATE_NON_FOLLOWING:20,JOINED_CM_AND_CHANNEL:21,JOINED_CM_AND_CHANNEL_SEE_MORE:22,RECOMMENDED_CM_AND_CHANNEL:23,RECOMMENDED_CM_AND_CHANNEL_SEE_MORE:24,AI:25,AI_SEE_MORE:26,CHANNELS_SEE_MORE:27,UNJOINED_COMMUNITY_CHATS:28,MORE_UNJOINED_COMMUNITY_CHATS:29,NS_SUGGESTED_CHANNELS:30,NS_SUGGESTED_CHANNELS_SEE_MORE:31,NULL_STATE_MESSAGES:32,NULL_STATE_SUGGESTED_PROMPT:33,NULL_STATE_PYMK:34,QUERY_SUGGESTED_PROMPT:35,INVITE_TO_INSTAGRAM:36,INVITE_TO_INSTAGRAM_SEE_MORE:37,NULL_STATE_GROUP_CHATS:38,NULL_STATE_GROUP_CHATS_SEE_MORE:39,QUERY_NON_FOLLOWING_SEE_MORE:40,META_AI_SNIPPET:41,QUERY_BUSINESSES_SEE_MORE:42,QUERY_MESSAGES_SEE_MORE:43,PHOTOS_AND_VIDEOS:44,PHOTOS_AND_VIDEOS_SEE_MORE:45,LINKS:46,LINKS_SEE_MORE:47,FILES:48,FILES_SEE_MORE:49,PHONE_CONTACTS:50,PHONE_CONTACTS_SEE_MORE:51,NOT_IN_PHONE_CONTACTS:52});c=a;f["default"]=c}),66);
__d("MWSearchLogging",["$InternalEnum","I64","LSMessagingThreadTypeUtil","MWChatSearchResultType","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups"}),j=function(a){switch(a){case"server":return[1,2];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}};function k(a){return a===!0?1:3}function a(a){return a===!0?0:2}function l(a,b){var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;if(a==="")return 3;if(c!=="server"||d==="")return 5;a=i.cast(b);if(a==null)return 11;switch(a){case i.CM_THREADS:return 13;case i.CONTACTS_GROUPS:return 5;case i.NON_CONTACTS:return 6;case i.PAGES:return 9;default:return 11}}function m(a){return((a=a)!=null?a:-1).toString()}function e(a,b,e,f){var g=e.rawData,i=g.id,n=g.isE2EE,o=g.isEPD,p=g.renderIndex,q=g.searchResultType,r=g.searchSource,s=g.serverSearchResult,t=m(p),u=i,v=k(n);if(s!=null){u=(p=s.resultId)!=null?p:u;v=d("LSMessagingThreadTypeUtil").isArmadilloSecure(s==null?void 0:s.threadType)?1:3;t=(h||(h=d("I64"))).to_string(s.globalIndex)}c("UniversalSearchResultSelectedFalcoEvent").log(function(){var d;return{data_sources:j(r),is_epd:c("gkx")("23390")||o,search_result:{query_string:b,result_fbid:u,result_index:t,result_type:(d=q)!=null?d:7},session_id:a,transport_type:v,ui_section:l(b,g)}});if(!f.current){var w=7;c("gkx")("12505")&&e.rawData.resultType===c("MWChatSearchResultType").MESSAGE&&(w=23);c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:w,is_epd:c("gkx")("24110")||o,session_id:a,transport_type:v}});f.current=!0}}g.SectionAnalyticsNameType=i;g.getLoggingDataSources=j;g.getTransportType=k;g.getLsTransportType=a;g.mapSectionToSearchUISection=l;g.logResultSelected=e}),98);
__d("MWJewelSearchTypeaheadViewItemUtils",["fbt","ConstUriUtils","CurrentEnvironment","I64","LSMessagingThreadTypeUtil","MWChatSearchResultType","MWSearchLogging","QPLUserFlow","UniversalSearchResultSelectedFalcoEvent","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","gkx","isTlcSearchEnabled","justknobx","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=function(a){if(a==null)return null;a=a.loggingSessionId;return a};function k(a){a=(a=a)!=null?a:{};var b=a.threadType;a=a.type_;if(b==null||a==null)return!1;if(!d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(b))return!1;if((i||(i=d("I64"))).to_int32(a)!==14)return!1;return!c("gkx")("24052")?!1:!0}function a(a){if(c("CurrentEnvironment").messengerdotcom===!0)return!1;if(c("justknobx")._("1406"))return!1;a=a===c("MWChatSearchResultType").USER||a===c("MWChatSearchResultType").GROUP;return c("isTlcSearchEnabled")()===!0&&a}function b(a){var b;b=(b=a)!=null?b:{};var c=b.threadJoinLinkHash;b=b.threadType;if(b==null||c==null)return void 0;a=k(a)||d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(b);a=a?(b=d("ConstUriUtils").getUri(c))==null?void 0:b.getPath().split("/").reverse()[1]:void 0;return a}function e(a){return a==null?!1:d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a)}function f(a){return a==null?!1:d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a)}function l(){return h._(/*BTDS*/"Secret conversation")}function m(a,b){c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL({link_hash:a,thread_key:b}):c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:a,thread_key:b})}function n(a,b,e){if(a==null)return;var f=e.rawData,g=f.id,h=f.isE2EE,i=f.isEPD,j=f.renderIndex,k=f.searchResultType,l=f.searchSource;c("UniversalSearchResultSelectedFalcoEvent").log(function(){var e;return{data_sources:d("MWSearchLogging").getLoggingDataSources(l),is_epd:c("gkx")("23390")||i,search_result:{query_string:b,result_fbid:g,result_index:((e=j)!=null?e:-1).toString(),result_type:(e=k)!=null?e:7},session_id:a,transport_type:d("MWSearchLogging").getTransportType(h),ui_section:d("MWSearchLogging").mapSectionToSearchUISection(b,f)}})}function o(a,b,d,e){a===!0?c("QPLUserFlow").endSuccess(c("qpl")._(25312244,"1683")):c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683")),n(b,d,e)}g.getSessionId=j;g.isUnjoinedPublicChat=k;g.shouldUpdateThreadKey=a;g.genLinkHash=b;g.isUnjoinedBroadcastChannel=e;g.isBroadcastChannel=f;g.gete2eeAttributionSubtext=l;g.getChatNavigationUrl=m;g.logSearchResultClickHepler=n;g.logSearchResultClick=o}),226);
__d("UniversalSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("845");b=d("FalcoLoggerInternal").create("universal_search_impression",a);e=b;g["default"]=e}),98);
__d("useUniversalSearchImpressionFalcoEvent",["MWSearchLogging","UniversalSearchImpressionFalcoEvent","cr:20302","react","react-compiler-runtime","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var e=d("react-compiler-runtime").c(17),f=a.cmGroupId,g=a.entry,h=a.instanceId,i=a.queryString,j=g.rawData;a=j.id;var k=j.isE2EE,l=j.isEPD,m=j.renderIndex,n=j.searchResultType,o=j.searchSource;a=a;var p=a;a=(a=m)!=null?a:-1;var q;e[0]!==a?(q=a.toString(),e[0]=a,e[1]=q):q=e[1];var r=q;if(e[2]!==f||e[3]!==((a=g.rawData)==null?void 0:a.query)||e[4]!==h||e[5]!==k||e[6]!==l||e[7]!==i||e[8]!==j||e[9]!==m||e[10]!==p||e[11]!==r||e[12]!==n||e[13]!==o){q=function(){var a;if(h==null)return;c("UniversalSearchImpressionFalcoEvent").log(function(){var a;return{cm_group_id:f,data_sources:d("MWSearchLogging").getLoggingDataSources(o),impression_selected:!1,is_epd:l,search_result:{query_string:i,result_fbid:p,result_index:r,result_type:(a=n)!=null?a:7},session_id:h,transport_type:d("MWSearchLogging").getTransportType(k),ui_section:d("MWSearchLogging").mapSectionToSearchUISection(i,j)}});b("cr:20302")==null?void 0:b("cr:20302").renderSearchResult({queryString:(a=g.rawData)==null?void 0:a.query,renderIndex:(a=m)!=null?a:-1,sessionInstanceId:h,source:o})};e[2]=f;e[3]=(a=g.rawData)==null?void 0:a.query;e[4]=h;e[5]=k;e[6]=l;e[7]=i;e[8]=j;e[9]=m;e[10]=p;e[11]=r;e[12]=n;e[13]=o;e[14]=q}else q=e[14];a=q;e[15]!==a?(q={onImpressionStart:a},e[15]=a,e[16]=q):q=e[16];return c("usePartialViewImpression")(q)}g["default"]=a}),98);
__d("MWJewelSearchTypeaheadViewItem.react",["BaseMiddot.react","CometTypeaheadViewItem.react","FBLogger","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWThreadCutover","MWChatFacepile.react","MWChatProfile.react","MWChatSearchResultType","MWJewelSearchTypeaheadViewItemUtils","MWXIconMagnifyingGlass","MWXIconStrict.react","MWXPageVerificationIcon.react","MWXText.react","MWXTextPairing.react","cr:393","cr:4538","cr:4539","deferredLoadComponent","isStringNullOrEmpty","mwCMIsAnyCMThread","react","requireDeferred","useMWNavigation","useMergeRefs","useUniversalSearchImpressionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useEffect,m=e.useRef,n=e.useState,o=c("deferredLoadComponent")(c("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),p={contentRoot:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",":hover_backgroundColor":"x8du52y",$$css:!0}};function a(a){var e=a.entry,f=a.extraViewItemProps,g=a.onPressEntry,h=a.queryString,q=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","onPressEntry","queryString"]);a=e.rawData;var r=a.id,s=a.imageUrl,t=a.isE2EE,u=a.isInstagramAccount,v=a.isInteropEligible,w=a.otherUserId,x=a.resultType,y=a.secondaryImageUrl,z=a.section,A=a.serverSearchResult,B=a.subtext,C=a.subtextAdditional,D=a.threadType,E=a.verificationStatus,F=b("cr:4538")==null?void 0:b("cr:4538")(),G=b("cr:4539")==null?void 0:b("cr:4539")({onSuccess:function(a){return F==null?void 0:F(a)}}),H=d("MAWThreadCutover").useShouldHideE2eeAttribution((i||(i=d("I64"))).of_string_opt(r),D),I=c("useMWNavigation")(),J=D!=null&&c("mwCMIsAnyCMThread")(D),K=d("MWJewelSearchTypeaheadViewItemUtils").getSessionId(f);f=c("useUniversalSearchImpressionFalcoEvent")({entry:e,instanceId:K,isCommunityChat:J,queryString:h});var L=m(null);f=c("useMergeRefs")(L,f);var M=n(),N=M[0];M=M[1];w=w;t=t&&!H?d("MWJewelSearchTypeaheadViewItemUtils").gete2eeAttributionSubtext():B;l(function(){if(q.isActive){var a;(a=L.current)==null?void 0:a.scrollIntoView({block:"nearest"})}},[q.isActive]);H=x===c("MWChatSearchResultType").MESSAGE?k.jsx("div",babelHelpers["extends"]({className:"x1qhmfi1 x14yjl9h xudhj91 x18nykt9 xww2gxu x1y1aw1k x1sxyh0 xwib8y2 xurb0ha"},{children:k.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconMagnifyingGlass"),size:20})})):y!==""?(D!=null?d("LSMessagingThreadTypeUtil").isOneToOne(D):!1)?k.jsx(c("MWChatProfile.react"),{size:36,src:y}):k.jsx(c("MWChatFacepile.react"),{firstParticipantURI:s,secondParticipantURI:y,size:36}):k.jsx(c("MWChatProfile.react"),{size:36,src:s});var O=(B=N)!=null?B:r,P=d("MWJewelSearchTypeaheadViewItemUtils").genLinkHash(A);y=babelHelpers["extends"]({},e,{key:O,rawData:babelHelpers["extends"]({},a,{id:O},w==null&&r!==O?{otherUserId:r}:{})});s=E==="BLUE_VERIFIED"||E==="GRAY_VERIFIED";if(c("isStringNullOrEmpty")(e.label)){c("FBLogger")("search").warn("Empty search result label for entry: %s",e.rawData.id);return null}return k.jsx("div",{ref:f,children:k.jsxs(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},q,{entry:y,isDisabled:u===!0&&v===!1,itemStartContent:H,linkProps:{preventLocalNavigation:!0,url:d("MWJewelSearchTypeaheadViewItemUtils").getChatNavigationUrl(P,O)},onPressEntry:d("MWJewelSearchTypeaheadViewItemUtils").isUnjoinedPublicChat(A)?function(){var a;a=(a=A)!=null?a:{};a=a.threadJoinLinkHash;a!=null&&(G==null?void 0:G(a))}:d("MWJewelSearchTypeaheadViewItemUtils").isUnjoinedBroadcastChannel(D)?function(){I.openInbox({threadKey:(i||(i=d("I64"))).of_string(O),threadLinkHash:P,threadType:(j||(j=d("LSIntEnum"))).ofNumber(153)},"jewelSearch")}:function(a,b){g(a,b),d("MWJewelSearchTypeaheadViewItemUtils").logSearchResultClick(J,K,h,e)},testid:void 0,xstyle:p.contentRoot,children:[d("MWJewelSearchTypeaheadViewItemUtils").shouldUpdateThreadKey(x)?k.jsx(o,{id:r.toString(),updateThreadKey:M}):null,k.jsx(c("MWXTextPairing.react"),{body:k.jsxs(c("MWXText.react"),{numberOfLines:1,type:"body3",children:[e.label,E!=null&&s&&!d("MWJewelSearchTypeaheadViewItemUtils").isBroadcastChannel(D)?k.jsx("span",babelHelpers["extends"]({className:"xurb0ha"},{children:k.jsx(c("MWXPageVerificationIcon.react"),{size:"small",verificationBadge:E})})):null]}),level:3,meta:t&&t!==""?k.jsxs(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:[t,d("MWJewelSearchTypeaheadViewItemUtils").isBroadcastChannel(D)&&Boolean(C)&&k.jsxs(k.Fragment,{children:[E!=null&&s&&k.jsx("span",babelHelpers["extends"]({className:"x1e558r4 xxymvpz"},{children:k.jsx(c("MWXPageVerificationIcon.react"),{size:"small",verificationBadge:E})})),k.jsx(c("BaseMiddot.react"),{}),C]}),(z==null||z==="")&&Boolean(e.rawData.isInstagramAccount)?k.jsxs(k.Fragment,{children:[k.jsx(c("BaseMiddot.react"),{}),"Instagram"]}):null]}):null}),b("cr:393")!=null&&k.jsx(b("cr:393"),{rawData:y.rawData})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSPinnedThreadUtils",["I64","Int64Hooks","LSBitFlag","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function j(a){return a!=null&&d("LSBitFlag").has((i||(i=d("I64"))).lsl_((i||(i=d("I64"))).one,14),a)}function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){return j(a)},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useMemoInt64(c,e)}function b(){return k}function k(a){return!j(a.threadTags)}g.isPinnedThread=j;g.useIsPinnedThread=a;g.useFilterPinnedThreads=b}),98);
__d("MWPThreadListItemInviteAddOn.react",["fbt","MWPBumpEntityKey","MWXCircleButton.react","MWXIconCheckmark","MWXIconCross","MWXRow.react","MWXRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Accept invitation"),l=h._(/*BTDS*/"Decline invitation");function a(a){var b=d("react-compiler-runtime").c(7),e=a.onAccept,f=a.onDecline;b[0]!==e?(a=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCheckmark"),label:k,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.accept"),e(a)},size:32})}),b[0]=e,b[1]=a):a=b[1];var g;b[2]!==f?(g=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:l,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.decline"),f(a)},size:32})}),b[2]=f,b[3]=g):g=b[3];var h;b[4]!==a||b[5]!==g?(h=j.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[a,g]}),b[4]=a,b[5]=g,b[6]=h):h=b[6];return h}g["default"]=a}),226);
__d("MWXIconPauseChat",["MWXSvgIcon","SVGIcon","cr:12515","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12515")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadAddOnSecondary.react",["fbt","CometOverlappingFacepile_DEPRECATED.react","CurrentEnvironment","FDSBadge.react","I64","MWPActor.react","MWXIconBellCross","MWXIconPauseChat","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","isArmadillo","react","react-compiler-runtime","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k.memo;function m(a){var b=d("react-compiler-runtime").c(19),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),h;b[0]!==e.tables.threads||b[1]!==a?(h=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadKey","lastActivityTimestampMs"]).getKeyRange(a)},b[0]=e.tables.threads,b[1]=a,b[2]=h):h=b[2];var k;b[3]!==e||b[4]!==a?(k=[e,a],b[3]=e,b[4]=a,b[5]=k):k=b[5];var l=d("ReQLSuspense").useFirst(h,k,f.id+":54"),m=c("useMWIsReadReceiptsDisabledForThread")(a);b[6]!==g||b[7]!==e.tables.contacts||b[8]!==e.tables.participants||b[9]!==m||b[10]!==l?(h=function(){if(m||l==null)return d("ReQL").empty();else return d("ReQL").fromTableAscending(e.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(l.threadKey).bounds({gte:d("ReQL").key(l.lastActivityTimestampMs)}).filter(function(a){a=a.contactId;return!(j||(j=d("I64"))).equal(a,g)}).take(3).map(function(a){a=a.contactId;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.contacts,["name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(a),f.id+":84");return a!=null?{alt:a.name,source:{uri:c("getLSMediaContactProfilePictureUrl")(a)}}:null})},b[6]=g,b[7]=e.tables.contacts,b[8]=e.tables.participants,b[9]=m,b[10]=l,b[11]=h):h=b[11];b[12]!==g||b[13]!==e||b[14]!==m||b[15]!==l?(k=[e,g,l,m],b[12]=g,b[13]=e,b[14]=m,b[15]=l,b[16]=k):k=b[16];h=d("ReQLSuspense").useArray(h,k,f.id+":65");b[17]!==h?(k=h.filter(Boolean),b[17]=h,b[18]=k):k=b[18];return k}function a(a){var b=d("react-compiler-runtime").c(10),e=a.entryPoint,f=a.isMuted,g=a.isPaused,i=a.isPinnedThread,j=a.isUnread,k=a.isViewerSender,o=a.lastMessageDeliveryStatusIcon;a=a.thread;var p=c("useMWLSMarkThreadAsRead")(e);e=m(a.threadKey);if(b[0]!==f||b[1]!==g||b[2]!==i||b[3]!==j||b[4]!==k||b[5]!==o||b[6]!==p||b[7]!==e){a=[];g&&a.push(l.jsx(c("MWXIconStrict.react"),{color:"disabled",icon:c("MWXIconPauseChat"),size:16}));f&&a.push(l.jsx(c("MWXIconStrict.react"),{color:"disabled",icon:c("MWXIconBellCross"),size:16}));i&&a.push(l.jsx(c("MWXIconStrict.react"),{alt:h._(/*BTDS*/"Pinned thread"),color:"disabled",icon:c("MWXIconPushpin"),size:16}));j?a.push(l.jsx(c("MWXPressable.react"),{"aria-hidden":!0,expanding:!0,focusable:!1,onPress:function(a){return p()},testid:void 0,children:l.jsx(c("FDSBadge.react"),{color:"blue",isProfileBadge:!0,size:c("isArmadillo")()&&c("CurrentEnvironment").messengerdotcom?10:12})})):k&&(e.length===0?o&&a.push(o):a.push(l.jsx(c("CometOverlappingFacepile_DEPRECATED.react"),{count:e.length,isTextInline:!0,items:e,screenReaderLabel:e.length===1?h._(/*BTDS*/"Seen by {=personName}",[h._param("=personName",e[0].alt)]):h._(/*BTDS*/"_j{\"*\":\"Seen by {=numPeople} people\"}",[h._param("=numPeople",e.length,[0])]),size:16})));var q;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"x6s0dn4 x78zum5 xozqiw3"},b[9]=q):q=b[9];q=l.jsx("div",babelHelpers["extends"]({},q,{children:a.map(n)}));b[0]=f;b[1]=g;b[2]=i;b[3]=j;b[4]=k;b[5]=o;b[6]=p;b[7]=e;b[8]=q}else q=b[8];return q}function n(a,b){return l.jsxs(l.Fragment,{children:[b!==0?l.jsx("div",{className:"x1fsd2vl"}):null,a]},"item_"+b.toString(10))}n.displayName=n.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),226);
__d("useMWLogLongSuspense",["MWPBumpEntityKey","clearTimeout","react","react-compiler-runtime","setTimeout","useMergeRefs","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef;function a(a,b){var d=l(a,5,b),e=l(a,15,b),f=l(a,60,b);a=l(a,300,b);return c("useMergeRefs")(d,e,f,a)}var k=/\W/g;function l(a,b,e){var f=d("react-compiler-runtime").c(11),g;f[0]!==a?(g=a.replace(k,"_"),f[0]=a,f[1]=g):g=f[1];var h=g,l=j();f[2]!==e||f[3]!==h||f[4]!==b?(a=function(){l.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mwp","long_suspension."+h+".suspended_"+b+"_sec"),e==null?void 0:e(b)},b*1e3)},f[2]=e,f[3]=h,f[4]=b,f[5]=a):a=f[5];g=a;f[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){c("clearTimeout")(l.current)},f[6]=a):a=f[6];var m=a,n;f[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return m},n=[m],f[7]=a,f[8]=n):(a=f[7],n=f[8]);i(a,n);f[9]!==g?(a={onHidden:m,onVisible:g},f[9]=g,f[10]=a):a=f[10];return c("useVisibilityObserver")(a)}g["default"]=a}),98);
__d("MWThreadListGlimmer.react",["CometVisualCompletionAttributes","MWXGlimmer.react","gkx","react","react-compiler-runtime","react-strict-dom","useMWLogLongSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmerBody:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xktia5q",$$css:!0},glimmerHeadline:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1qx5ct2",marginBottom:"x1e56ztr",width:"x3hqpx7",$$css:!0},glimmerPhoto:{flexShrink:"x2lah0s",$$css:!0},glimmerPhoto48:{borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",height:"xsdox4t",marginEnd:"xmo9yow",width:"x1useyqa",$$css:!0},glimmerPhoto56:{borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",height:"xnnlda6",marginEnd:"xmo9yow",width:"x15yg21f",$$css:!0},glimmerRoot:{display:"x78zum5",paddingBottom:"x1a8lsjc",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},glimmerText:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}},k=c("gkx")("23219");function l(a){var b=d("react-compiler-runtime").c(7),e=a.ref,f=a.role;a=a.vcIgnore;var g;b[0]!==a?(g=a===!0?c("CometVisualCompletionAttributes").IGNORE:{},b[0]=a,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[k?j.glimmerPhoto48:j.glimmerPhoto56,j.glimmerPhoto]}),b[2]=a):a=b[2];var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsxs(d("react-strict-dom").html.div,{style:j.glimmerText,children:[i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.glimmerHeadline}),i.jsx(c("MWXGlimmer.react"),{index:2,xstyle:j.glimmerBody})]}),b[3]=h):h=b[3];b[4]!==f||b[5]!==g?(e=i.jsxs(d("react-strict-dom").html.div,babelHelpers["extends"]({ref:e,role:f,style:j.glimmerRoot},g,{children:[a,h]})),b[4]=f,b[5]=g,b[6]=e):e=b[6];return e}function a(a){var b=d("react-compiler-runtime").c(11),e=a.numberOfItems,f=a.parentComponentForDebug,g=a.role,h=a.vcIgnore;a=e===void 0?1:e;var j=c("useMWLogLongSuspense")(f+".MWThreadListGlimmer");if(b[0]!==a||b[1]!==j||b[2]!==g||b[3]!==h){b[5]!==j||b[6]!==g||b[7]!==h?(e=function(a,b){return i.jsx(l,{ref:b===0?j:void 0,role:g,vcIgnore:h},"mw_list_glimmer_"+b)},b[5]=j,b[6]=g,b[7]=h,b[8]=e):e=b[8];f=Array(a).fill(!0).map(e);b[0]=a;b[1]=j;b[2]=g;b[3]=h;b[4]=f}else f=b[4];b[9]!==f?(e=i.jsx(i.Fragment,{children:f}),b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("MWThreadListItemAddOnEnd.react",["fbt","FBGroupChatInviteState","I64","Int64Hooks","LSFactory","LSIntEnum","LSUpdateCommunityChannelDirectInviteStoredProcedure","MWCMGetValidId","MWJewelPopoverDialogContext.react","MWPActor.react","MWPIsThreadUnread","MWPThreadListItemInviteAddOn.react","MWThreadAddOnSecondary.react","ReQL","ReQLSuspense","ThreadStatus","cometPushToast","cr:21160","promiseDone","react","react-compiler-runtime","requireDeferred","useEmptyFunction","useMWChatCalculateIsMutedFromExpireTime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useContext,o=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("MWThreadListItemAddOnEnd.react"),p=(b=(b=b("cr:21160"))==null?void 0:b.useIsPinnedThread)!=null?b:c("useEmptyFunction");function q(a){var b=a.clientExtras,c=a.communityId,e=a.event,f=a.groupId,g=a.parentSurface,h=g===void 0?"channel_list":g,i=a.source,j=a.threadId;o.onReady(function(a){return a.log(function(){return{action:"tap",client_extras:b,community_id:c==null?null:(l||(l=d("I64"))).to_string(c),event:e,group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(f)?(l||(l=d("I64"))).to_string(f):null,parent_surface:h,source:i,surface:"chat_row",thread_id:(l||(l=d("I64"))).to_string(j)}})})}function a(a){var b,e=d("react-compiler-runtime").c(32),g=a.communityId,j=a.fbGroupId,o=a.isMaximized,r=a.messagingEntrypoint,s=a.mutedUntilMs,t=a.parentSurface,u=a.showGroupsJoinChatDialog,v=a.thread,w=(i||(i=c("useReStore")))();a=d("MWPActor.react").useActor();var x=v.snippetSenderContactId,y;e[0]!==a||e[1]!==x?(y=x!=null?(l||(l=d("I64"))).equal(x,a):!1,e[0]=a,e[1]=x,e[2]=y):y=e[2];a=y;x=(l||(l=d("I64"))).equal(v.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(0));y=n(c("MWJewelPopoverDialogContext.react"));var z=y.setIsOpenForDialog;y=v.hasPendingInvitation||!1;s=c("useMWChatCalculateIsMutedFromExpireTime")(s);b=(b=p(v.threadTags))!=null?b:!1;var A=d("MWPIsThreadUnread").useIsThreadUnread(v.threadKey),B;e[3]!==v.threadStatus?(B=v.threadStatus!=null&&((l||(l=d("I64"))).equal(v.threadStatus,(l||(l=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(l||(l=d("I64"))).equal(v.threadStatus,(l||(l=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),e[3]=v.threadStatus,e[4]=B):B=e[4];B=B;var C;e[5]!==g||e[6]!==w||e[7]!==j||e[8]!==t||e[9]!==v.needsAdminApprovalForNewParticipant||e[10]!==v.threadKey?(C=function(){var a;c("promiseDone")(w.runInTransaction(function(a){return c("LSUpdateCommunityChannelDirectInviteStoredProcedure")(c("LSFactory")(a),{channelId:v.threadKey,state:(k||(k=d("LSIntEnum"))).ofNumber(c("FBGroupChatInviteState").DECLINED_BY_RECEIVER)})},"readwrite",void 0,void 0,f.id+":158"));q({clientExtras:{member_join_request_enabled:((a=v.needsAdminApprovalForNewParticipant)!=null?a:!1)?"1":"0"},communityId:g,event:"invite_declined",groupId:j,parentSurface:t,source:"direct_invite_decline_button",threadId:v.threadKey});d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"You declined the invitation to join").toString())},e[5]=g,e[6]=w,e[7]=j,e[8]=t,e[9]=v.needsAdminApprovalForNewParticipant,e[10]=v.threadKey,e[11]=C):C=e[11];C=C;if(y){e[12]!==g||e[13]!==j||e[14]!==r||e[15]!==t||e[16]!==z||e[17]!==u||e[18]!==v.needsAdminApprovalForNewParticipant||e[19]!==v.threadKey?(y=function(a){var b;q({clientExtras:{member_join_request_enabled:((b=v.needsAdminApprovalForNewParticipant)!=null?b:!1)?"1":"0"},communityId:g,event:"invite_accepted",groupId:j,parentSurface:t,source:"direct_invite_join_button",threadId:v.threadKey});z(r==="jewel");return u(a)},e[12]=g,e[13]=j,e[14]=r,e[15]=t,e[16]=z,e[17]=u,e[18]=v.needsAdminApprovalForNewParticipant,e[19]=v.threadKey,e[20]=y):y=e[20];var D;e[21]!==C||e[22]!==y?(D=m.jsx(c("MWPThreadListItemInviteAddOn.react"),{onAccept:y,onDecline:C}),e[21]=C,e[22]=y,e[23]=D):D=e[23];return D}if(o||!x){e[24]!==s||e[25]!==B||e[26]!==b||e[27]!==A||e[28]!==a||e[29]!==r||e[30]!==v?(C=m.jsx(c("MWThreadAddOnSecondary.react"),{entryPoint:r,isMuted:s,isPaused:B,isPinnedThread:b,isUnread:A,isViewerSender:a,lastMessageDeliveryStatusIcon:null,thread:v}),e[24]=s,e[25]=B,e[26]=b,e[27]=A,e[28]=a,e[29]=r,e[30]=v,e[31]=C):C=e[31];return C}return null}var r=m.memo(a);function e(a){var b=d("react-compiler-runtime").c(25),e,g,h,j,k;b[0]!==a?(k=a.threadKey,e=a.communityId,g=a.fbGroupId,h=a.renderAddOnEnd,j=babelHelpers.objectWithoutPropertiesLoose(a,["threadKey","communityId","fbGroupId","renderAddOnEnd"]),b[0]=a,b[1]=e,b[2]=g,b[3]=h,b[4]=j,b[5]=k):(e=b[1],g=b[2],h=b[3],j=b[4],k=b[5]);var l;b[6]!==g?(a=function(){return g},l=[g],b[6]=g,b[7]=a,b[8]=l):(a=b[7],l=b[8]);a=d("Int64Hooks").useMemoInt64(a,l);var n;b[9]!==e?(l=function(){return e},n=[e],b[9]=e,b[10]=l,b[11]=n):(l=b[10],n=b[11]);l=d("Int64Hooks").useMemoInt64(l,n);var o=(i||(i=c("useReStore")))();b[12]!==o.tables.threads||b[13]!==k?(n=function(){return d("ReQL").fromTableAscending(o.tables.threads,["threadType","threadStatus","threadKey","snippetSenderContactId","parentThreadKey","hasPendingInvitation","takedownState","needsAdminApprovalForNewParticipant","threadTags"]).getKeyRange(k)},b[12]=o.tables.threads,b[13]=k,b[14]=n):n=b[14];var p;b[15]!==o||b[16]!==k?(p=[o,k],b[15]=o,b[16]=k,b[17]=p):p=b[17];n=d("ReQLSuspense").useFirst(n,p,f.id+":246");if(h!=null){b[18]!==h?(p=h(),b[18]=h,b[19]=p):p=b[19];return p}if(n==null)return null;b[20]!==l||b[21]!==a||b[22]!==j||b[23]!==n?(h=m.jsx(r,babelHelpers["extends"]({communityId:l,fbGroupId:a,thread:n},j)),b[20]=l,b[21]=a,b[22]=j,b[23]=n,b[24]=h):h=b[24];return h}g["default"]=e}),226);
__d("useMWAriaLabelForThread",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("react-compiler-runtime").c(13),e=a.threadKey,g=a.threadName,j=a.threadType,k=d("MWPActor.react").useActor(),l=(i||(i=c("useReStore")))();b[0]!==l.tables.contacts||b[1]!==l.tables.participants||b[2]!==e?(a=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(l.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(e),d("ReQL").fromTableAscending(l.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},b[0]=l.tables.contacts,b[1]=l.tables.participants,b[2]=e,b[3]=a):a=b[3];var m;b[4]!==l||b[5]!==e?(m=[l,e],b[4]=l,b[5]=e,b[6]=m):m=b[6];var n=d("ReQLSuspense").useArray(a,m,f.id+":37");b[7]!==k||b[8]!==n||b[9]!==g||b[10]!==j?(a=function(){var a=g;if(a!=null)return h._(/*BTDS*/"Conversation titled {name of conversation}",[h._param("name of conversation",a)]);a=(a=d("MWPGetThreadTitle").computeThreadTitle(void 0,j,n,k))!=null?a:"";return h._(/*BTDS*/"Conversation with {participant list}",[h._param("participant list",a)])},m=[g,j,n,k],b[7]=k,b[8]=n,b[9]=g,b[10]=j,b[11]=a,b[12]=m):(a=b[11],m=b[12]);return d("Int64Hooks").useMemoInt64(a,m)}g["default"]=a}),226);
__d("MessageRequestsBulkActionsThreadListItem",["ix","CometPressable.react","I64","JSSet.bs","MWPIsThreadUnread","MWXIcon.react","MessageRequestsBulkActionsContext.react","fbicon","react","react-compiler-runtime","useMWAriaLabelForThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;b.useCallback;var l=b.useContext,m=b.useEffect,n={pressableContent:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x1lliihq",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(33),e=a.thread;a=a.threadListCell;var f=l(c("MessageRequestsBulkActionsContext.react")),g=f.setBulkActionsUnreadSelectedThreads,i=f.setBulkActionsSelectedThreads,n=f.bulkActionsSelectedThreads;b[0]!==e.threadKey?(f=(j||(j=d("I64"))).to_string(e.threadKey),b[0]=e.threadKey,b[1]=f):f=b[1];var p=f;b[2]!==i||b[3]!==p?(f=function(){return i(function(a){a=new Set(d("JSSet.bs").values(a));if(a["delete"](p))return a;else return a.add(p)})},b[2]=i,b[3]=p,b[4]=f):f=b[4];f=f;var q;b[5]!==n||b[6]!==g||b[7]!==e||b[8]!==p?(q=function(){g(function(a){a=new Set(d("JSSet.bs").values(a));if(d("MWPIsThreadUnread").isThreadUnread(e)&&n.has(p))return a.add(p);else if(d("MWPIsThreadUnread").isThreadUnread(e)){a["delete"](p);return a}else return a})},b[5]=n,b[6]=g,b[7]=e,b[8]=p,b[9]=q):q=b[9];var r;b[10]!==n?(r=[n],b[10]=n,b[11]=r):r=b[11];m(q,r);b[12]!==n||b[13]!==p?(q=n.has(p),b[12]=n,b[13]=p,b[14]=q):q=b[14];r=q;q=c("useMWAriaLabelForThread")(e);var s,t;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 xexx8yu x1iji9kk x18d9i69 x1sln4lm"},t={className:"x1sxyh0"},b[15]=s,b[16]=t):(s=b[15],t=b[16]);var u=r?"highlight":"disabled",v;b[17]!==r?(v=r?d("fbicon")._(h("484757"),20):d("fbicon")._(h("659288"),20),b[17]=r,b[18]=v):v=b[18];b[19]!==u||b[20]!==v?(t=k.jsx("div",babelHelpers["extends"]({},t,{children:k.jsx(c("MWXIcon.react"),{color:u,hideHoverOverlay:!0,icon:v})})),b[19]=u,b[20]=v,b[21]=t):t=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x1iyjqo2 xeuugli x47corl"},b[22]=u):u=b[22];b[23]!==a?(v=k.jsx("div",babelHelpers["extends"]({},u,{children:a})),b[23]=a,b[24]=v):v=b[24];b[25]!==v||b[26]!==t?(u=k.jsxs("div",babelHelpers["extends"]({"aria-hidden":!0},s,{children:[t,v]})),b[25]=v,b[26]=t,b[27]=u):u=b[27];b[28]!==q||b[29]!==r||b[30]!==f||b[31]!==u?(a=k.jsx(c("CometPressable.react"),{"aria-checked":r,"aria-label":q,onPress:f,role:"checkbox",xstyle:o,children:u}),b[28]=q,b[29]=r,b[30]=f,b[31]=u,b[32]=a):a=b[32];return a}function o(){return[n.pressableContent]}g["default"]=a}),98);
__d("useGroupsCometJoinChatDialog",["GroupsCometJoinChatDialog.entrypoint","I64","Int64Hooks","MWXCardedDialogLoadingState.react","react","react-compiler-runtime","useMWCMShouldGoToFullScreenChatHook","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function k(){return j.jsx(c("MWXCardedDialogLoadingState.react"),{})}k.displayName=k.name+" [from "+f.id+"]";function a(a,b,e,f,g,h){var j=d("react-compiler-runtime").c(12),l,m;j[0]!==b||j[1]!==a.threadKey?(l=function(){var c;return{groupID:(i||(i=d("I64"))).to_string((c=b)!=null?c:(i||(i=d("I64"))).zero),threadID:i.to_string(a.threadKey)}},m=[b,a.threadKey],j[0]=b,j[1]=a.threadKey,j[2]=l,j[3]=m):(l=j[2],m=j[3]);l=d("Int64Hooks").useMemoInt64(l,m);m=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),l,void 0,k);var n=m[0],o=c("useMWCMShouldGoToFullScreenChatHook")(),p=a.hasPendingInvitation||!1;j[4]!==p||j[5]!==h||j[6]!==g||j[7]!==e||j[8]!==o||j[9]!==n||j[10]!==f?(l=function(){var a={invited:p,isSMC:h,onSuccess:g,parentSurface:e,shouldGoToMessenger:o,surface:f};n(a)},j[4]=p,j[5]=h,j[6]=g,j[7]=e,j[8]=o,j[9]=n,j[10]=f,j[11]=l):l=j[11];return l}g["default"]=a}),98);
__d("getValidMediaURL",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()/1e3)}function j(a){if((h||(h=d("I64"))).gt(a,(h||(h=d("I64"))).zero))return(h||(h=d("I64"))).lt(a,i());else return!1}function a(a,b,c){return a!=null?j(a)?c:b:c}g["default"]=a}),98);
__d("useMWCMJoinCMThread",["C4GFalcoLoggerDeferred","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSCommunityBitOffset","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMailboxType","LSThreadBitOffset","LSVec","LSVerifyThreadViewStoredProcedure","ReQL","ThreadStatus","emptyFunction","mwCMisStandAloneCommunity","promiseDone","react","react-compiler-runtime","useGroupsCometCMOffboardingEntryPointDialog","useIsChatPreviewsEnabled","useMWNavigation","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useState,m=function(a){return(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(18))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(21))};function a(a,b){var e=d("react-compiler-runtime").c(32),g=(h||(h=c("useReStore")))(),i;e[0]!==b?(i=b?d("LSCommunityBitOffset").has(1,b):!1,e[0]=b,e[1]=i):i=e[1];var n=i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=c("JSResourceForInteraction")("MWCMPausedChatMemberDialog.react").__setRef("useMWCMJoinCMThread"),e[2]=i):i=e[2];i=c("useMWXLazyDialog")(i);var o=i[0],p=c("useMWNavigation")();i=l(!1);var q=i[0],r=i[1];e[3]!==(b==null?void 0:b.fbGroupId)?(i=function(){var a;return{groupID:(j||(j=d("I64"))).to_string((a=b==null?void 0:b.fbGroupId)!=null?a:(j||(j=d("I64"))).zero)}},e[3]=b==null?void 0:b.fbGroupId,e[4]=i):i=e[4];var s=b==null?void 0:b.fbGroupId,t;e[5]!==s?(t=[s],e[5]=s,e[6]=t):t=e[6];s=c("useGroupsCometCMOffboardingEntryPointDialog")(d("Int64Hooks").useMemoInt64(i,t));var u=s[0],v=a.clientThreadKey,w=a.threadKey,x=a.threadType;e[7]!==v||e[8]!==p||e[9]!==q||e[10]!==w||e[11]!==x?(i=function(){if(!q)return;m(x)&&(p.openTabOrInbox({clientThreadKey:v,threadKey:w,threadType:x},"inboxThreadList"),r(!1))},t=[x,v,w,q,p],e[7]=v,e[8]=p,e[9]=q,e[10]=w,e[11]=x,e[12]=i,e[13]=t):(i=e[12],t=e[13]);d("Int64Hooks").useEffectInt64(i,t);e[14]!==g||e[15]!==(b==null?void 0:b.communityType)||e[16]!==(b==null?void 0:b.enableState)||e[17]!==(b==null?void 0:b.fbGroupId)||e[18]!==n||e[19]!==u||e[20]!==o||e[21]!==w?(s=function(a,e,h,i){c("promiseDone")(async function(l){var m=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(w));if(m==null)return;var p=function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadViewStoredProcedure")(c("LSFactory")(a),{contacts:c("LSVec").ofArray([]),mailboxType:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),threadKey:m.threadKey,threadType:m.threadType})},"readwrite",void 0,void 0,f.id+":148"))},q=m.hasPendingInvitation||!1,s=m.threadStatus!=null&&(j||(j=d("I64"))).equal(m.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED));l=(j||(j=d("I64"))).equal((l=b==null?void 0:b.enableState)!=null?l:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));s=!l&&s&&!d("LSThreadBitOffset").has(154,m)&&!q;if(s)return o({thread:m},c("emptyFunction"));if(!l&&d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(m,b==null?void 0:b.communityType)&&h){q=e?e.metaKey||e.ctrlKey||e.shiftKey:!1;p();return h(q)}if(c("mwCMisStandAloneCommunity")(b==null?void 0:b.communityType)){!d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(m,b==null?void 0:b.communityType)?(a(),r(!0)):c("promiseDone")(g.runInTransaction(function(a){r(!0);return c("LSJoinCommunityChannelStoredProcedure")(c("LSFactory")(a),{entryPoint:"",isRequestToJoin:!1,threadKey:m.threadKey})},"readwrite","ui",void 0,f.id+":213"));return}if(m.needsAdminApprovalForNewParticipant===!0&&n&&i){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",client_extras:{member_join_request_enabled:"1"},community_id:(j||(j=d("I64"))).to_string(m.parentThreadKey),event:"thread_join",parent_surface:"thread_list",source:m.hasPendingInvitation===!0?"direct_invite_join_button":"join_button",surface:"messenger_inbox",thread_id:j.to_string(m.threadKey)});return i()}if(!l)return a();if((b==null?void 0:b.fbGroupId)==null)return;return u({},c("emptyFunction"))}())},e[14]=g,e[15]=b==null?void 0:b.communityType,e[16]=b==null?void 0:b.enableState,e[17]=b==null?void 0:b.fbGroupId,e[18]=n,e[19]=u,e[20]=o,e[21]=w,e[22]=s):s=e[22];a=b==null?void 0:b.communityType;i=b==null?void 0:b.enableState;t=b==null?void 0:b.fbGroupId;var y;e[23]!==g||e[24]!==n||e[25]!==u||e[26]!==o||e[27]!==t||e[28]!==a||e[29]!==i||e[30]!==w?(y=[g,a,i,t,n,u,o,w],e[23]=g,e[24]=n,e[25]=u,e[26]=o,e[27]=t,e[28]=a,e[29]=i,e[30]=w,e[31]=y):y=e[31];return d("Int64Hooks").useCallbackInt64(s,y)}g.default=a}),98);
__d("useMWResponsiveLogExtraData",["gkx","react-compiler-runtime","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=c("gkx")("24056"),e=c("useMatchViewport")("min","width",900);b="mw_responsive_layout: "+b.toString()+", is900px: "+e.toString();a[0]!==b?(e={responsive:b},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useOnPressMWThreadListItem",["fbt","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","MAWGroupInvitesForThread","MWCMThreadTypes.react","MWPIsThreadUnread","MessengerThreadTakedownState","MessengerWebUXLogger","ReQL","ThreadStatus","emptyFunction","getValidMediaURL","promiseDone","react-compiler-runtime","useCommunityFolder","useGroupsCometCMDisabledChatEntryPointDialog","useMWCMJoinCMThread","useMWNavigation","useMWResponsiveLogExtraData","useMWXLazyDialog","useMWXPushErrorToast","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=d("react-compiler-runtime").c(9),e;b[0]===Symbol.for("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWCMPausedChannelMemberDialog.react").__setRef("useOnPressMWThreadListItem"),b[0]=e):e=b[0];e=c("useMWXLazyDialog")(e);var f=e[0],g=(k||(k=c("useReStore")))();b[1]!==g.tables.threads||b[2]!==f||b[3]!==a?(e=function(){return function(){c("promiseDone")(async function(b){b=(b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(a)))!=null?b:{};var e=b.threadName,h=b.threadPictureUrl,i=b.threadPictureUrlExpirationTimestampMs;b=b.threadPictureUrlFallback;if(i==null||h==null||b==null||e==null)return;i=c("getValidMediaURL")(i,h,b);f({threadImageUrl:i,threadTitle:e},c("emptyFunction"))}())}},b[1]=g.tables.threads,b[2]=f,b[3]=a,b[4]=e):e=b[4];var h;b[5]!==g||b[6]!==f||b[7]!==a?(h=[g,f,a],b[5]=g,b[6]=f,b[7]=a,b[8]=h):h=b[8];return d("Int64Hooks").useMemoInt64(e,h)}function a(a,b,e,f,g,m){var n=d("react-compiler-runtime").c(47),o=g===void 0?!0:g,p=(k||(k=c("useReStore")))(),q=c("useMWNavigation")();n[0]===Symbol.for("react.memo_cache_sentinel")?(g=c("JSResourceForInteraction")("MAWGroupInviteDialog.react").__setRef("useOnPressMWThreadListItem"),n[0]=g):g=n[0];g=c("useMWXLazyDialog")(g);var r=g[0],s=c("useCommunityFolder")(e),t=c("MessengerWebUXLogger").useInteractionLogger();n[1]!==e.takedownState?(g=e.takedownState!=null&&(i||(i=d("I64"))).equal(e.takedownState,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadTakedownState").GEO_BLOCKED)),n[1]=e.takedownState,n[2]=g):g=n[2];var u=g;n[3]!==e.threadKey?(g=(i||(i=d("I64"))).to_string(e.threadKey),n[3]=e.threadKey,n[4]=g):g=n[4];var v;n[5]!==u||n[6]!==g?(v={isGeoBlocked:u,threadID:g},n[5]=u,n[6]=g,n[7]=v):v=n[7];g=c("useGroupsCometCMDisabledChatEntryPointDialog")(v);var w=g[0];n[8]!==e.threadType?(v=d("LSMessagingThreadTypeUtil").isPublicCMThread(e.threadType),n[8]=e.threadType,n[9]=v):v=n[9];var x=v;g=l(e.threadKey);var y=g[0],z=c("useMWCMJoinCMThread")(e,s),A=c("useMWXPushErrorToast")(),B=c("useMWResponsiveLogExtraData")();n[10]!==p||n[11]!==B||n[12]!==a||n[13]!==u||n[14]!==o||n[15]!==x||n[16]!==z||n[17]!==t||n[18]!==b||n[19]!==m||n[20]!==(s==null?void 0:s.takedownState)||n[21]!==q||n[22]!==A||n[23]!==f||n[24]!==w||n[25]!==r||n[26]!==y||n[27]!==e.threadKey?(v=function(g,k,l,n){c("promiseDone")(async function(v){var C=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(p.tables.threads).getKeyRange(e.threadKey));if(C==null)return;var D=d("MAWGroupInvitesForThread").isGroupInviteThread(C),E=d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(C.threadType),F=d("MWCMThreadTypes.react").isUnjoinedCMThread(C.threadType),G=d("LSMessagingThreadTypeUtil").isCMSubthread(C.threadType),H=C.threadStatus!=null&&((i||(i=d("I64"))).equal(C.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(i||(i=d("I64"))).equal(C.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),I=(s==null?void 0:s.takedownState)!=null&&(i||(i=d("I64"))).equal(s==null?void 0:s.takedownState,(i||(i=d("I64"))).of_int32(1)),J=C.takedownState!=null&&(i||(i=d("I64"))).equal(C.takedownState,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN)),K=C.needsAdminApprovalForNewParticipant===!0;v=(i||(i=d("I64"))).equal((v=a)!=null?v:(j||(j=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(j||(j=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var L=C.folderName==="inbox"?(j||(j=d("LSIntEnum"))).ofNumber(12):C.folderName==="pending"?(j||(j=d("LSIntEnum"))).ofNumber(29):(j||(j=d("LSIntEnum"))).ofNumber(30),M=d("MWPIsThreadUnread").isThreadUnread(C),N=function(a){var c={clientThreadKey:C.clientThreadKey,isUnread:M,threadKey:C.threadKey,threadType:C.threadType};if(a)return q.openInbox(c,b,L);q.openTabOrInbox(c,b,n,L,{subEntrypoint:m});l&&l()},O=function(){f==null?void 0:f(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(p,function(a){return c("LSJoinCommunityChannelStoredProcedure")(c("LSFactory")(a),{entryPoint:"messengerdotcom",isRequestToJoin:K,threadKey:e.threadKey})},"joinCommunityChannel"),function(){N(!1),f==null?void 0:f(!1)},function(){A({title:h._(/*BTDS*/"Couldn't join chat. Please try again later.")})})},P=C.hasPendingInvitation||!1;v=!v&&H&&!d("LSThreadBitOffset").has(154,C)&&!P;t==null?void 0:t({eventName:"open_thread",extraData:B,threadKey:C.threadKey,threadType:C.threadType});o||(t==null?void 0:t({eventName:"open_thread_from_mini_list",extraData:B,threadKey:C.threadKey,threadType:C.threadType}));if(x&&(J||I||u))return w({threadID:(i||(i=d("I64"))).to_string(C.threadKey)});if(F)return z(k,g,N,O);if(E&&v)return y();D?r({thread:C},c("emptyFunction")):G||N(g.metaKey||g.ctrlKey||g.shiftKey)}())},n[10]=p,n[11]=B,n[12]=a,n[13]=u,n[14]=o,n[15]=x,n[16]=z,n[17]=t,n[18]=b,n[19]=m,n[20]=s==null?void 0:s.takedownState,n[21]=q,n[22]=A,n[23]=f,n[24]=w,n[25]=r,n[26]=y,n[27]=e.threadKey,n[28]=v):v=n[28];g=s==null?void 0:s.takedownState;var C;n[29]!==p||n[30]!==B||n[31]!==a||n[32]!==u||n[33]!==o||n[34]!==z||n[35]!==t||n[36]!==b||n[37]!==m||n[38]!==q||n[39]!==A||n[40]!==f||n[41]!==w||n[42]!==r||n[43]!==y||n[44]!==g||n[45]!==e.threadKey?(C=[p,e.threadKey,g,a,t,o,u,q,b,m,f,A,w,z,y,r,B],n[29]=p,n[30]=B,n[31]=a,n[32]=u,n[33]=o,n[34]=z,n[35]=t,n[36]=b,n[37]=m,n[38]=q,n[39]=A,n[40]=f,n[41]=w,n[42]=r,n[43]=y,n[44]=g,n[45]=e.threadKey,n[46]=C):C=n[46];return d("Int64Hooks").useCallbackInt64(v,C)}g.default=a}),226);
__d("usePreloadRoute",["JSScheduler","react","react-compiler-runtime","useCometRouterDispatcher","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a,b){var e=d("react-compiler-runtime").c(6),f=c("useMWNavigation")(),g=c("useCometRouterDispatcher")(),h,k;e[0]!==g||e[1]!==f||e[2]!==a||e[3]!==b?(h=function(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){g!=null&&g.prefetchRouteDefinition(f.getUrlFromThreadKey(a,b))})},k=[g,f,a,b],e[0]=g,e[1]=f,e[2]=a,e[3]=b,e[4]=h,e[5]=k):(h=e[4],k=e[5]);j(h,k)}g["default"]=a}),98);
__d("MWThreadListItem.react",["fbt","CometHeroHoldTrigger.react","CometPlaceholder.react","CometTextWithEntities.react","CurrentEnvironment","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadRangeFilter","LSThreadTitle.react","MWCMJewelContext","MWCMThreadTypes.react","MWChatTextTransform","MWLogInboxFiltersInteraction","MWLogInteraction","MWPIsThreadUnread","MWThreadListConsts","MWThreadListFocusableTable.react","MWThreadListItemAddOnEnd.react","MWThreadListLastMessage.react","MWThreadPicture.react","MWThreadSnippetForDisplay.react","MWVerticalRhythm","MWXGlimmer.react","MWXListCellPressable.react","MWXSpinner.react","MWXText.react","MessageRequestsBulkActionsContext.react","MessageRequestsBulkActionsThreadListItem","MessagingCommunityChatsPauseStatus","MessengerMuteUtils","MessengerWebEntryPointsUtil","MessengerWebUXLogger","MetaConfig","ReQL","ReQLSuspense","deferredLoadComponent","emptyFunction","gkx","interaction-tracing-metrics","justknobx","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwCMisStandAloneCommunity","mwIsThreadDisabled","react","react-compiler-runtime","react-strict-dom","requireDeferred","useCommunityFolder","useGroupsCometChatsEngagementImpressionLogger","useGroupsCometJoinChatDialog","useIsChatPreviewsEnabled","useMWNavigation","useMWPreloadThread","useMWThreadSnippetForDisplay","useMatchViewport","useMenuButtonVisibilityState","useMergeRefs","useOnPressMWThreadListItem","usePreloadRoute","useReStore","useSimpleImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;e=b.memo;b.useCallback;var n=b.useContext;b.useMemo;var o=b.useState,p=c("deferredLoadComponent")(c("requireDeferred")("MWThreadListItemMoreActions.react").__setRef("MWThreadListItem.react")),q={communityGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x170jfvy",width:"x3hqpx7",$$css:!0},listItemContainer:{overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},listItemContainerDisabled:{opacity:"xbyyjgo",$$css:!0},listItemContainerForMessengerDotCom:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,$$css:!0},listItemContainerHiddenContent:{display:"x1lliihq",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},threadBodyGlimmer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},threadSnippetGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xktia5q",$$css:!0},threadTitleGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1qx5ct2",marginBottom:"x1e56ztr",marginTop:"x1k70j0n",width:"x3hqpx7",$$css:!0}};function aa(a){var b=d("react-compiler-runtime").c(10),e=a.isUnread,g=a.threadKey,h=(i||(i=c("useReStore")))();b[0]!==h.tables.threads||b[1]!==g?(a=function(){return d("ReQL").fromTableAscending(h.tables.threads,["threadName","threadType","threadKey","takedownState","lastMessageCtaType","ongoingCallState","eventEndTimestampMs","eventStartTimestampMs","snippet","snippetText","threadStatus","lastActivityTimestampMs","hasPendingInvitation","disappearingSettingTtl","ongoingCallTimestampMs","nullstateDescriptionText1"]).getKeyRange(g)},b[0]=h.tables.threads,b[1]=g,b[2]=a):a=b[2];var j;b[3]!==h||b[4]!==g?(j=[h,g],b[3]=h,b[4]=g,b[5]=j):j=b[5];a=d("ReQLSuspense").useFirst(a,j,f.id+":150");if(a==null)return null;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=m.jsx(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:m.jsx(c("MWXGlimmer.react"),{index:2,xstyle:q.threadSnippetGlimmer})}),b[6]=j):j=b[6];b[7]!==e||b[8]!==a?(j=m.jsx(c("CometPlaceholder.react"),{fallback:j,name:"MWThreadListItem.DefaultSubtitle",children:m.jsx(r,{isUnread:e,thread:a})}),b[7]=e,b[8]=a,b[9]=j):j=b[9];return j}function r(a){var b,e=d("react-compiler-runtime").c(20),f=a.isUnread;a=a.thread;var g=c("useMWThreadSnippetForDisplay")(a),h=g.lastMessageCtaType,i=g.shouldHideTimestamp;g=g.snippet;var l;e[0]!==a.threadType?(l=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType),e[0]=a.threadType,e[1]=l):l=e[1];l=l;b=(b=c("gkx")("26362"))!=null?b:!1;var n;e[2]!==a.disappearingSettingTtl?(n=c("MetaConfig")._("112")&&a.disappearingSettingTtl!=null&&(j||(j=d("I64"))).gt(a.disappearingSettingTtl,(j||(j=d("I64"))).zero),e[2]=a.disappearingSettingTtl,e[3]=n):n=e[3];n=n;if(a.threadName==null&&c("mwCMIsAnyCMThread")(a.threadType)){var o;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=m.jsxs(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:[m.jsx(c("MWXGlimmer.react"),{index:2,xstyle:q.threadSnippetGlimmer}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.DefaultSubtitleWithThread",hold:!0})]}),e[4]=o):o=e[4];return o}if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&g==null)return null;o=!(j||(j=d("I64"))).equal(a.ongoingCallState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));var p;e[5]!==a.lastActivityTimestampMs?(p=(j||(j=d("I64"))).to_float(a.lastActivityTimestampMs),e[5]=a.lastActivityTimestampMs,e[6]=p):p=e[6];b=l&&(a==null?void 0:a.hasPendingInvitation)!==!0&&b;l=!l&&!i;e[7]!==g||e[8]!==a?(i=m.jsx(c("MWThreadSnippetForDisplay.react"),{snippetRaw:g,thread:a}),e[7]=g,e[8]=a,e[9]=i):i=e[9];e[10]!==n||e[11]!==f||e[12]!==h||e[13]!==o||e[14]!==p||e[15]!==b||e[16]!==l||e[17]!==i||e[18]!==a?(g=m.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:o,isUnread:f,lastMessageCtaType:h,lastMessageTimestamp:p,showDisappearingMessageVisualIndicator:n,showSnippetText:b,showTimestamp:l,snippet:i,thread:a}),e[10]=n,e[11]=f,e[12]=h,e[13]=o,e[14]=p,e[15]=b,e[16]=l,e[17]=i,e[18]=a,e[19]=g):g=e[19];return g}function ba(a){var b=d("react-compiler-runtime").c(8),e=a.threadKey,g=(i||(i=c("useReStore")))();b[0]!==g.tables.threads||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadName","threadType","threadKey"]).getKeyRange(e)},b[0]=g.tables.threads,b[1]=e,b[2]=a):a=b[2];var h;b[3]!==g||b[4]!==e?(h=[g,e],b[3]=g,b[4]=e,b[5]=h):h=b[5];a=d("ReQLSuspense").useFirst(a,h,f.id+":277");if(a==null)return null;b[6]!==a?(h=a.threadName==null&&c("mwCMIsAnyCMThread")(a.threadType)?m.jsxs(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:[m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:q.threadTitleGlimmer}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.DefaultThreadTitle",hold:!0})]}):m.jsx(c("LSThreadTitle.react"),{thread:a}),b[6]=a,b[7]=h):h=b[7];return h}function a(a){var b=d("react-compiler-runtime").c(140),e=a.hideMoreActions,f=a.lsEntryPoint,g=a.lsSubEntryPoint,i=a.messagingEntrypoint,l=a.onClose,r=a.onPress,s=a.onPressOverride,t=a.onThreadJoined,u=a.onThreadSelected,v=a.parentSurface,w=a.renderAddOnEnd,x=a.renderThreadPhoto,y=a.renderThreadSubtitle,z=a.renderThreadTitle,A=a.responsive,B=a.selected,C=a.thread;a=e===void 0?!1:e;var D=l===void 0?c("emptyFunction"):l;e=t===void 0?c("emptyFunction"):t;var E=u===void 0?c("emptyFunction"):u,F=v===void 0?"channel_list":v;l=n(c("MWCMJewelContext"));t=l.selectedFilterTab;b[0]!==C.threadType?(u={eventName:"threadlist_item_impression",threadType:C.threadType},b[0]=C.threadType,b[1]=u):u=b[1];v=c("MessengerWebUXLogger").useImpressionLoggerRef(u);bb0:{if(!c("mwCMIsThreadBumped")(C)){l=!1;break bb0}if(c("CurrentEnvironment").messengerdotcom){l=F==="channel_list";break bb0}if(f==="jewel"){b[2]!==t?(u=(j||(j=d("I64"))).equal(t,j.of_int32(c("LSThreadRangeFilter").NONE)),b[2]=t,b[3]=u):u=b[3];l=u;break bb0}l=f!=="inboxThreadList"}var G=l;b[4]!==G||b[5]!==x||b[6]!==C.threadKey?(t=function(){var a;return(a=x)!=null?a:function(){return m.jsx(c("MWThreadPicture.react"),{badgeSize:c("gkx")("23219")?10:14,photoSize:c("gkx")("23219")?48:56,threadKey:C.threadKey,withAltText:!1,withCommunityPicture:G})}},u=[G,x,C.threadKey],b[4]=G,b[5]=x,b[6]=C.threadKey,b[7]=t,b[8]=u):(t=b[7],u=b[8]);var H=d("Int64Hooks").useMemoInt64(t,u);b[9]!==z||b[10]!==C.threadKey?(l=function(){var a;return(a=z)!=null?a:function(){return m.jsx(ba,{threadKey:C.threadKey})}},t=[z,C.threadKey],b[9]=z,b[10]=C.threadKey,b[11]=l,b[12]=t):(l=b[11],t=b[12]);var I=d("Int64Hooks").useMemoInt64(l,t),J=c("useCommunityFolder")(C);u=J==null?void 0:J.takedownState;b[13]!==u||b[14]!==C.takedownState?(l=c("mwIsThreadDisabled")(C.takedownState,u),b[13]=u,b[14]=C.takedownState,b[15]=l):l=b[15];var K=l,L=d("MWPIsThreadUnread").useIsThreadUnread(C.threadKey)&&!K;b[16]!==L||b[17]!==y||b[18]!==C.threadKey?(t=function(){var a;return(a=y)!=null?a:function(){return m.jsx(aa,{isUnread:L,threadKey:C.threadKey})}},u=[L,y,C.threadKey],b[16]=L,b[17]=y,b[18]=C.threadKey,b[19]=t,b[20]=u):(t=b[19],u=b[20]);var M=d("Int64Hooks").useMemoInt64(t,u);b[21]!==(J==null?void 0:J.name)||b[22]!==C.threadType?(l=function(){if(!c("mwCMIsAnyCMThread")(C.threadType)||c("CurrentEnvironment").messengerdotcom)return null;return(J==null?void 0:J.name)==null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:q.communityGlimmer}),m.jsx(c("MWVerticalRhythm"),{height:8}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.Folder",hold:!0})]}):m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta3",children:J==null?void 0:J.name}),m.jsx(c("MWVerticalRhythm"),{height:8})]})},b[21]=J==null?void 0:J.name,b[22]=C.threadType,b[23]=l):l=b[23];t=J==null?void 0:J.name;b[24]!==t||b[25]!==C.threadType?(u=[t,C.threadType],b[24]=t,b[25]=C.threadType,b[26]=u):u=b[26];var N=d("Int64Hooks").useCallbackInt64(l,u);b[27]!==C.threadType?(t=function(){var a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(C.threadType),b=d("interaction-tracing-metrics").InteractionTracingMetricsCore.currentInteractionLogger(),c;c=Number(a);b.forEach(function(a){c=((a=a.annotations["int"])==null?void 0:a.hasSecureThread)||0||c});return b.addMetadata("hasSecureThread",c?1:0)},b[27]=C.threadType,b[28]=t):t=b[28];c("useSimpleImpression")(t);b[29]!==C.parentThreadKey?(l=(j||(j=d("I64"))).to_string(C.parentThreadKey),b[29]=C.parentThreadKey,b[30]=l):l=b[30];b[31]!==J?(u=J?(j||(j=d("I64"))).to_string(J.fbGroupId):void 0,b[31]=J,b[32]=u):u=b[32];t=f==="jewel"?"jewel_inbox":"chats_inbox";var O;b[33]!==C.threadKey?(O=(j||(j=d("I64"))).to_string(C.threadKey),b[33]=C.threadKey,b[34]=O):O=b[34];var P;b[35]!==l||b[36]!==u||b[37]!==t||b[38]!==O?(P={community_id:l,event:"bumped_chat_rendered",group_id:u,parent_surface:t,source:"unknown",surface:"messenger_inbox",thread_id:O},b[35]=l,b[36]=u,b[37]=t,b[38]=O,b[39]=P):P=b[39];l=c("useGroupsCometChatsEngagementImpressionLogger")(P);b[40]!==C.threadType?(u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(C.threadType),b[40]=C.threadType,b[41]=u):u=b[41];t=u;var Q=c("useMWNavigation")();O=c("gkx")("24056")?!1:A;var R=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay)||!O;P=d("MWCMThreadTypes.react").isUnjoinedCMThread(C.threadType);b[42]!==(J==null?void 0:J.communityType)||b[43]!==C?(u=C.hasPendingInvitation===!0&&d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(C,J==null?void 0:J.communityType),b[42]=J==null?void 0:J.communityType,b[43]=C,b[44]=u):u=b[44];var S=u;b[45]!==C?(A=d("MessengerMuteUtils").calcMuteUntilMs(C),b[45]=C,b[46]=A):A=b[46];O=A;var T=O,U=c("useMenuButtonVisibilityState")(!0);u=U[1];var ca=u.setListItemFocused,V=u.setListItemHovered;A=c("mwCMIsAnyCMThread")(C.threadType);b[47]!==C.parentThreadKey?(O=(j||(j=d("I64"))).equal(C.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(0)),b[47]=C.parentThreadKey,b[48]=O):O=b[48];var W=O,da=K?!1:W?R:!(P||a);b[49]!==V?(u=function(){return V(!1)},b[49]=V,b[50]=u):u=b[50];O=u;b[51]!==V?(P=function(){return V(!0)},b[51]=V,b[52]=P):P=b[52];a=P;u=c("useMWPreloadThread")(C,t);var ea=u.onHoverInPreloader,fa=u.onHoverOutPreloader,ga=u.onPressInPreloader;if(J!=null&&A){b[53]!==J.enableState||b[54]!==J.fbGroupId||b[55]!==J.folderId?(P=[J.fbGroupId,J.folderId,J.enableState],b[53]=J.enableState,b[54]=J.fbGroupId,b[55]=J.folderId,b[56]=P):P=b[56];u=P}else{b[57]===Symbol["for"]("react.memo_cache_sentinel")?(A=[void 0,void 0,void 0],b[57]=A):A=b[57];u=A}P=u;var X=P[0],ha=P[1];A=P[2];u=n(c("MessageRequestsBulkActionsContext.react"));P=u.isBulkActionsEditMode;c("usePreloadRoute")(C.threadKey,C.threadType);b[58]!==J?(u=(J==null?void 0:J.pauseStatus)!=null&&(j||(j=d("I64"))).equal(J.pauseStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION))&&c("gkx")("4215"),b[58]=J,b[59]=u):u=b[59];var ia=u;b[60]!==G||b[61]!==ia||b[62]!==K||b[63]!==f||b[64]!==C.threadType?(u=function(){return d("MessengerWebEntryPointsUtil").getEntryPointShouldOverrideThreadSnippetRemoval(f)?!1:ia||!K&&!G&&d("MWCMThreadTypes.react").isJoinedCMThread(C.threadType)},b[60]=G,b[61]=ia,b[62]=K,b[63]=f,b[64]=C.threadType,b[65]=u):u=b[65];var ja=u;u=o(!1);var Y=u[0];u=u[1];var Z=c("useOnPressMWThreadListItem")(A,f,C,u,R,g);A=J==null?void 0:J.communityType;b[66]!==A?(u=c("mwCMisStandAloneCommunity")(A),b[66]=A,b[67]=u):u=b[67];g=u;var $=c("useGroupsCometJoinChatDialog")(C,X,F,"messenger_inbox",e,g);b[68]!==ha||b[69]!==S||b[70]!==X||b[71]!==R||b[72]!==K||b[73]!==i||b[74]!==T||b[75]!==D||b[76]!==Z||b[77]!==F||b[78]!==w||b[79]!==$||b[80]!==C.threadKey?(A=function(){return K||S?void 0:m.jsx(c("MWThreadListItemAddOnEnd.react"),{communityId:ha,fbGroupId:X,isMaximized:R,messagingEntrypoint:i,mutedUntilMs:T,parentSurface:F,renderAddOnEnd:w,showGroupsJoinChatDialog:function(a){return Z(a,$,D)},threadKey:C.threadKey})},u=[ha,S,X,R,K,i,T,D,Z,F,w,$,C.threadKey],b[68]=ha,b[69]=S,b[70]=X,b[71]=R,b[72]=K,b[73]=i,b[74]=T,b[75]=D,b[76]=Z,b[77]=F,b[78]=w,b[79]=$,b[80]=C.threadKey,b[81]=A,b[82]=u):(A=b[81],u=b[82]);var ka=d("Int64Hooks").useMemoInt64(A,u);b[83]!==ka||b[84]!==W||b[85]!==Y||b[86]!==R||b[87]!==K||b[88]!==ja||b[89]!==L||b[90]!==Q||b[91]!==D||b[92]!==ea||b[93]!==fa||b[94]!==r||b[95]!==ga||b[96]!==Z||b[97]!==s||b[98]!==E||b[99]!==N||b[100]!==H||b[101]!==M||b[102]!==I||b[103]!==B||b[104]!==ca||b[105]!==$||b[106]!==C?(e=function(){var a=C.additionalThreadContext!=null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta4",children:m.jsx(c("CometTextWithEntities.react"),{text:C.additionalThreadContext,transforms:d("MWChatTextTransform").textTransforms})}),m.jsx(c("MWVerticalRhythm"),{height:8})]}):null,b=h._(/*BTDS*/"Joining chat..."),e=m.jsxs(m.Fragment,{children:[m.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.AddOnEndLoadingSpinner",hold:!0})]});return m.jsx(c("MWXListCellPressable.react"),{addOnEnd:Y?e:ka,addOnStart:H(),"aria-current":B?"page":!1,content:m.jsxs(d("react-strict-dom").html.div,{style:R||!W?void 0:q.listItemContainerHiddenContent,children:[a,N(),m.jsx(c("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:L?"headlineEmphasized4":"headline4",children:I()}),ja()?null:m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),Y?m.jsx(c("MWXText.react"),{type:"entityHeaderMeta3",children:b}):M()]})]}),disabled:Y,linkProps:K?void 0:{preventLocalNavigation:!0,url:Q.getUrlFromThreadKey(C.threadKey,C.threadType)},onFocusChange:ca,onHoverIn:ea,onHoverOut:fa,onPress:function(a){c("justknobx")._("4052")?(d("MWLogInteraction").logPopoverOpenComplete(),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationComplete()):(d("MWLogInteraction").logPopoverOpenCancel("thread_click"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationCancel("thread_click")),s!=null?s==null?void 0:s(a):(r==null?void 0:r(a,C),Z(a,$,D)),E()},onPressIn:ga,selected:B,size:"large"})},g=[C,Y,ka,H,B,R,W,N,L,I,ja,M,K,Q,ca,ea,fa,ga,s,E,r,Z,$,D],b[83]=ka,b[84]=W,b[85]=Y,b[86]=R,b[87]=K,b[88]=ja,b[89]=L,b[90]=Q,b[91]=D,b[92]=ea,b[93]=fa,b[94]=r,b[95]=ga,b[96]=Z,b[97]=s,b[98]=E,b[99]=N,b[100]=H,b[101]=M,b[102]=I,b[103]=B,b[104]=ca,b[105]=$,b[106]=C,b[107]=e,b[108]=g):(e=b[107],g=b[108]);A=d("Int64Hooks").useMemoInt64(e,g);b[109]!==X||b[110]!==U||b[111]!==i||b[112]!==D||b[113]!==B||b[114]!==da||b[115]!==C.threadKey||b[116]!==C.threadName||b[117]!==C.threadType?(u=function(){return da?m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListItem.MoreActions",children:m.jsx(p,{fbGroupId:X,menuButtonVisibilityState:U,messagingEntrypoint:i,onClose:D,selected:B,thread:{threadKey:C.threadKey,threadName:C.threadName,threadType:C.threadType}})}):null},e=[X,U,i,D,B,da,C.threadName,C.threadKey,C.threadType],b[109]=X,b[110]=U,b[111]=i,b[112]=D,b[113]=B,b[114]=da,b[115]=C.threadKey,b[116]=C.threadName,b[117]=C.threadType,b[118]=u,b[119]=e):(u=b[118],e=b[119]);g=d("Int64Hooks").useMemoInt64(u,e);u=c("useMergeRefs")(v,G?l:null);e=t?"mwthreadlist-item-secure":"mwthreadlist-item-open";v=K?q.listItemContainerDisabled:!1;b[120]!==v?(l=[q.listItemContainer,v,c("gkx")("23219")?q.listItemContainerForMessengerDotCom:!1],b[120]=v,b[121]=l):l=b[121];b[122]!==P||b[123]!==C||b[124]!==A?(t=P?m.jsx(c("MessageRequestsBulkActionsThreadListItem"),{thread:C,threadListCell:A}):A,b[122]=P,b[123]=C,b[124]=A,b[125]=t):t=b[125];b[126]!==t?(v=m.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:m.jsx(d("react-strict-dom").html.div,{role:"gridcell",children:t})}),b[126]=t,b[127]=v):v=b[127];b[128]!==g||b[129]!==v?(P=m.jsxs(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[v,g]}),b[128]=g,b[129]=v,b[130]=P):P=b[130];b[131]!==a||b[132]!==O||b[133]!==l||b[134]!==P?(A=m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,onMouseEnter:a,onMouseLeave:O,role:"row",style:l,children:P}),b[131]=a,b[132]=O,b[133]=l,b[134]=P,b[135]=A):A=b[135];b[136]!==u||b[137]!==e||b[138]!==A?(t=m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,ref:u,children:A}),b[136]=u,b[137]=e,b[138]=A,b[139]=t):t=b[139];return t}b=e(a);g["default"]=b}),226);
__d("useMWChatSearchClearSearchResults",["LSClearTablesStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(){c("promiseDone")(b.runInTransaction(j,"readwrite",void 0,void 0,f.id+":22"))},a[0]=b,a[1]=e):e=a[1];return e}function j(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("73");b=d("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("39");b=d("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("74");b=d("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("75");b=d("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("76");b=d("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("44");b=d("FalcoLoggerInternal").create("audio_clips_playback_pause",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("45");b=d("FalcoLoggerInternal").create("audio_clips_playback_resume",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("47");b=d("FalcoLoggerInternal").create("audio_clips_playback_start",a);e=b;g["default"]=e}),98);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("51");b=d("FalcoLoggerInternal").create("audio_clips_start_recording_click",a);e=b;g["default"]=e}),98);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("52");b=d("FalcoLoggerInternal").create("audio_clips_stop_recording_click",a);e=b;g["default"]=e}),98);
__d("MessageFeedbackType",[],(function(a,b,c,d,e,f){a=Object.freeze({POSITIVE:0,NEGATIVE:1});f["default"]=a}),66);
__d("LSSubmitMessageFeedback",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("feedback_type",a[0]),d[0].set("message_id",a[1]),d[0].set("page_id",a[2]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"submit_message_feedback",c.i64.cast([0,811]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSubmitMessageFeedbackStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSubmitMessageFeedbackStoredProcedure",["LSSubmitMessageFeedback","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSubmitMessageFeedback"),e.feedbackType,e.messageId,e.pageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("useSubmitBusinessMessageFeedbackAction",["LSFactory","LSIntEnum","LSSubmitMessageFeedbackStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a,b,e,g){var j=d("react-compiler-runtime").c(6),k=(h||(h=c("useReStore")))(),l;j[0]!==g||j[1]!==k||j[2]!==e||j[3]!==a||j[4]!==b?(l=function(){c("promiseDone")(k.runInTransaction(function(f){return c("LSSubmitMessageFeedbackStoredProcedure")(c("LSFactory")(f),{feedbackType:(i||(i=d("LSIntEnum"))).ofNumber(e),messageId:a,pageId:b})},"readwrite",void 0,void 0,f.id+":38"),g)},j[0]=g,j[1]=k,j[2]=e,j[3]=a,j[4]=b,j[5]=l):l=j[5];return l}g["default"]=a}),98);
__d("useBusinessMessageNegativeFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=c("useGenAiFeedbackSubmittedToast")(a);a=c("useSubmitBusinessMessageFeedbackAction")(a==null?void 0:a.messageId,a==null?void 0:a.senderId,c("MessageFeedbackType").NEGATIVE,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Bad response"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=[a,e],b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("BusinessMessageNegativeFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessageNegativeFeedback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.message;a=c("useBusinessMessageNegativeFeedback")(a);var e=a[0];a=a[1];var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:e,primaryText:a,testid:void 0}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("useBusinessMessagePositiveFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=c("useGenAiFeedbackSubmittedToast")(a);a=c("useSubmitBusinessMessageFeedbackAction")(a==null?void 0:a.messageId,a==null?void 0:a.senderId,c("MessageFeedbackType").POSITIVE,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Good response"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=[a,e],b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("BusinessMessagePositiveFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessagePositiveFeedback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.message;a=c("useBusinessMessagePositiveFeedback")(a);var e=a[0];a=a[1];var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:e,primaryText:a,testid:void 0}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CDSToast.react",["fbt","BaseToast.react","CDSIcon.react","CDSIconButton.react","CDSText.react","CDSThemeConfig","MetaBrandXFilled24.svg.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={header:{marginBottom:"x1e56ztr",$$css:!0},link:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",wordBreak:"xdnwjd9",$$css:!0}};b={margin20:{marginBottom:"xieb3on",$$css:!0},margin32:{marginBottom:"x1iymm2a",$$css:!0},margin48:{marginBottom:"x13ihpsm",$$css:!0},margin64:{marginBottom:"x16bybu0",$$css:!0}};var l={20:b.margin20,32:b.margin32,48:b.margin48,64:b.margin64};function a(a){var b=d("react-compiler-runtime").c(18),e=a.action,f=a.addOnStart,g=a.density,i=a.header,n=a.message,o=a.offsetFooter,p=a.onDismiss,q=a.ref,r=a.size,s=a.testid;a=a.withoutCloseButton;r=r===void 0?"full-width":r;a=a===void 0?!1:a;var t;b[0]!==e?(t=e!=null?{label:e.label,labelRenderer:m,onPress:e.onPress,testid:e.testid}:void 0,b[0]=e,b[1]=t):t=b[1];b[2]!==p||b[3]!==a?(e=!a&&j.jsx(c("CDSIconButton.react"),{"aria-label":h._(/*BTDS*/"Close"),onPress:p,children:j.jsx(c("CDSIcon.react"),{color:"toast-DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",icon:c("MetaBrandXFilled24.svg.react"),size:24})}),b[2]=p,b[3]=a,b[4]=e):e=b[4];b[5]!==i||b[6]!==n?(a=function(a){a=a.toastMessageId;return j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf"},{id:a,children:[i!=null&&j.jsx(c("CDSText.react"),{color:"toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",textStyle:"bodyEmphasized",xstyle:k.header,children:i}),j.jsx(c("CDSText.react"),{color:"toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",textStyle:"body",children:n})]}))},b[5]=i,b[6]=n,b[7]=a):a=b[7];o=o&&l[o];b[8]!==f||b[9]!==g||b[10]!==p||b[11]!==r||b[12]!==t||b[13]!==e||b[14]!==a||b[15]!==o||b[16]!==s?(q=j.jsx(c("BaseToast.react"),{action:t,addOnStart:f,closeButton:e,density:g,message:a,offsetStyles:o,onDismiss:p,size:r,testid:void 0,themeConfigOverride:c("CDSThemeConfig"),toastRef:q}),b[8]=f,b[9]=g,b[10]=p,b[11]=r,b[12]=t,b[13]=e,b[14]=a,b[15]=o,b[16]=s,b[17]=q):q=b[17];return q}function m(a){return j.jsx(c("CDSText.react"),{color:"toastTextLink",textStyle:"body",xstyle:k.link,children:a})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("ChangeVoteFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5497");b=d("FalcoLoggerInternal").create("change_vote",a);e=b;g["default"]=e}),98);
__d("CometFRXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10096808400365839"}),null);
__d("CometFRXQuery$Parameters",["CometFRXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometFRXQuery_facebookRelayOperation"),metadata:{},name:"CometFRXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometFRX.entrypoint",["CometFRXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.conformed_interface_override,e=a.entryPoint,f=a.id,g=a.location;a=a.responsible_id;return{queries:{frx:{parameters:c("CometFRXQuery$Parameters"),variables:{input:{conformed_interface_override:b,entry_point:e,id:f,location:g,responsible_id:a},scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometFRX.react").__setRef("CometFRX.entrypoint")};g["default"]=a}),98);
__d("cometMessengerFileUploadComposerPluginSupportedTypes",[],(function(a,b,c,d,e,f){"use strict";a=["photo","video","file"];b=a;f["default"]=b}),66);
__d("useCometMessengerFileUploadPaste",["react","react-compiler-runtime","useCometLexicalFileDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.editor,f=a.handlePastedFiles;a=a.isMimeTypeAcceptable;var g;b[0]!==f?(g=function(a){a.length>0&&f(a)},b[0]=f,b[1]=g):g=b[1];g=g;var h;b[2]!==e||b[3]!==a||b[4]!==g?(h={editor:e,isMimeTypeAcceptable:a,onSubmit:g},b[2]=e,b[3]=a,b[4]=g,b[5]=h):h=b[5];c("useCometLexicalFileDragAndDrop")(h)}g["default"]=a}),98);
__d("CometMessengerHandlePastedFileComposerPlugin",["cometIsMimeTypeForMedia","cometMessengerFileUploadComposerPluginSupportedTypes","react-compiler-runtime","useCometMessengerFileUploadPaste"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a.kind!=="file")return!1;for(var b of c("cometMessengerFileUploadComposerPluginSupportedTypes"))switch(b){case"photo":if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return!0;break;case"video":if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;break;case"file":if(d("cometIsMimeTypeForMedia").isMimeTypeForFile(a.type))return!0;break;default:b}return!1}function a(a){var b=d("react-compiler-runtime").c(3),e=a.editor;a=a.handlePastedFiles;var f;b[0]!==e||b[1]!==a?(f={editor:e,handlePastedFiles:a,isMimeTypeAcceptable:h},b[0]=e,b[1]=a,b[2]=f):f=b[2];c("useCometMessengerFileUploadPaste")(f);return null}g["default"]=a}),98);
__d("ExistingPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5498");b=d("FalcoLoggerInternal").create("existing_poll_submit_error",a);e=b;g["default"]=e}),98);
__d("ExistingPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5499");b=d("FalcoLoggerInternal").create("existing_poll_submit_success",a);e=b;g["default"]=e}),98);
__d("FRXEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVITY_LOG:"activity_log",AGORA_GROUPS:"agora_groups",AGORA_RECENT_NEWS:"agora_recent_news",BLOCK_BUTTON:"block_button",BLOCK_COMPOSER:"block_composer",BUSINESS_NOTIFICATION_MESSAGE_REPORT_BUTTON:"business_notification_message_report_button",CHEVRON_BUTTON:"chevron_button",CHEVRON_TAGS:"chevron_tags",COLLEGES_LIVE_CHAT_REPORT_TO_FB:"colleges_live_chat_report_to_fb",COMMENT:"comment",CONTENT_OVERLAY:"content_overlay",CROWDSOURCING_REPORT:"crowdsourcing_report",DELETE_CONTENT_REPORT:"delete_content_report",DELETE_CONVERSATION_REPORT:"delete_conversation_report",DEVELOPER_FEEDBACK_BUTTON:"developer_feedback_button",EVENTS_REPORTING:"events_reporting",FEEDBACK_BUTTON:"feedback_button",FOX_CHEVRON_TAGS:"fox_chevron_tags",GEMSTONE_MEDIA:"gemstone_media",GEMSTONE_MESSAGING:"gemstone_messaging",GEMSTONE_PROFILE:"gemstone_profile",GROUP_MALL_RELATED_GROUPS_CHAINING:"group_mall_related_groups_chaining",GROUP_MALL_RHC:"group_mall_rhc",GROUPS_ADMIN_FEEDBACK:"groups_admin_feedback",GROUPS_DISCOVER:"groups_discover_page",GROUPS_DISCOVER_HIDE_BUTTON:"groups_discover_hide_button",GROUPS_JOIN_QUESTION:"groups_join_question",GROUPS_LEAVE:"groups_leave",GROUPS_LEAVE_BROWSE:"groups_leave_browse",GROUPS_LEAVE_SPECIAL:"groups_leave_special",GROUPS_PARTICIPATION_QUESTION:"groups_participation_question",GROUPS_PENDING_QUEUE:"groups_pending_queue",GROUPS_POLL:"groups_poll",GROUPS_REPORT:"groups_report",GROUPS_REPORT_LONG_PRESS_TO_ADMIN:"groups_report_long_press_to_admin",GROUPS_REPORT_TO_ADMIN:"groups_report_to_admin",GROUPS_RULE:"groups_rule",GROUPS_TAB_CHAT_ROW:"groups_tab_chat_row",GROUPS_TAB_DISCOVER_FIRST:"groups_tab_discover_first",GROUPS_TRANSPARENCY:"groups_transparency",HATE_CTA:"hate_cta",HELP_NAV_BUTTON:"help_nav_button",HIDE_AD_BUTTON:"hide_ad_button",HIDE_AD_XOUT_BUTTON:"hide_ad_xout_button",IN_PROFILE_MEDIA_SELECTOR:"in_profile_media_selector",INSTANT_GAMES_BOT_FEEDBACK_LINK:"instant_games_bot_feedback_link",LEAVE_CONVERSATION_REPORT:"leave_conversation_report",LOCAL_COMMUNITY_DEMOTE_CONTENT:"local_community_demote_content",LOCAL_COMMUNITY_MOD_HUB_DEMOTE:"local_community_mod_hub_demote",LOCAL_COMMUNITY_POST_REPORT_TO_MOD:"local_community_post_report_to_mod",LOCAL_LIVE_CHAT_REPORT_TO_FB:"local_live_chat_report_to_fb",MARK_AS_SOLD_BUTTON:"mark_as_sold_button",MARK_AS_SUSPICIOUS_BUTTON:"mark_as_suspicious_button",MARKETPLACE_SUBCOMPONENT_REPORT_BUTTON:"marketplace_subcomponent_report_button",MESSAGE_MEDIA_BUBBLE_REPORT:"message_media_bubble_report",MOBILE_GYSJ:"mobile_gysj",NOTE_REPORT_BUTTON:"note_report_button",NOTIFICATIONS_JEWEL:"notifications_jewel",PAGE_UNFOLLOW:"page_unfollow",PAGE_UNFOLLOW_CHEVRON:"page_unfollow_chevron",PAGE_UNLIKE:"page_unlike",PAGE_VERIFICATION_BADGE_OPTION:"page_verification_badge_option",PAGE_VERIFICATION_PAGE_OPTION:"page_verification_page_option",POLITICAL_AD_VERIFIED_VOICE:"political_ad_verified_voice",PROACTIVE_WARNING_BANNER:"proactive_warning_banner",PROACTIVE_WARNING_COMPOSER_BLOCK:"proactive_warning_composer_block",PROACTIVE_WARNING_POPOVER:"proactive_warning_popover",PROACTIVE_WARNING_STRAP:"proactive_warning_strap",PROFILE_REPORT_BUTTON:"profile_report_button",PROFILE_REPORT_FLOW:"profile_report_flow",PROFILE_SUBMIT_FEEDBACK:"profile_submit_feedback",QUICK_REPORT_ACTION:"quick_report_action",RELATED_SEARCHES:"related_searches",REPORT_AD_BUTTON:"report_ad_button",REPORT_AD_XOUT_BUTTON:"report_ad_xout_button",REPORT_BUTTON:"report_button",REPORT_BUTTON_DETAILED_FRX:"report_button_detailed_frx",REPORT_FROM_PREVIEW:"report_from_preview",REPORT_JOB_BUTTON:"report_job_button",REPORT_LONG_PRESS:"report_long_press",ROOMS_POST_CALL_HIGH_RATING:"rooms_post_call_high_rating",ROOMS_POST_CALL_LOW_RATING:"rooms_post_call_low_rating",ROOMS_POST_CALL_LOW_RATING_DETAILED:"rooms_post_call_low_rating_detailed",SCHOOL_COMMUNITY_TAGS:"school_community_tags",SEARCH_META_AI_PROMPT_SUGGESTION:"search_meta_ai_prompt_suggestion",SEARCH_TYPEAHEAD:"search_typeahead",SNACKBAR:"snackbar",STORY_ATTACHMENT_SHARE:"story_attachment_share",STRUCTURED_REPORT_BUTTON:"structured_report_button",THREADLIST_MENU_REPORT:"threadlist_menu_report",TOMBSTONE:"tombstone",TOOLBAR_REPORT_ACTION:"toolbar_report_action",UNKNOWN:"unknown",UNOWNED_PAGE_ACTION_MENU_REPORT_PAGE:"unowned_page_action_menu_report_page",UPSELL_AFTER_BLOCK_BOTTOM_SHEET:"upsell_after_block_bottom_sheet",USER_CONTROL_MENU:"user_control_menu",WORKPLACE_REPORT_AND_HIDE_BUTTON:"workplace_report_and_hide_button",WORKPLACE_REPORT_BUTTON:"workplace_report_button",WORKROOM_MEETING_REPORT_BUTTON:"workroom_meeting_report_button",WORKROOM_REPORT_BUTTON:"workroom_report_button",WORKROOM_USER_REPORT_BUTTON:"workroom_user_report_button",X_OUT:"x_out"});f["default"]=a}),66);
__d("GroupPollEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({START_NEW_POLL:"start_new_poll",SUBMIT_NEW_POLL:"submit_new_poll",NEW_POLL_SUBMIT_ERROR:"new_poll_submit_error",NEW_POLL_SUBMIT_SUCCESS:"new_poll_submit_success",OPEN_EXISTING_POLL:"open_existing_poll",CHANGE_VOTE:"change_vote",SHOW_VOTERS:"show_voters",SUBMIT_EXISTING_POLL:"submit_existing_poll",EXISTING_POLL_SUBMIT_ERROR:"existing_poll_submit_error",EXISTING_POLL_SUBMIT_SUCCESS:"existing_poll_submit_success"});c=a;f["default"]=c}),66);
__d("LSDeleteMessageStoredProcedure",["LSDeleteMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDeleteMessage"),e.threadKey,e.messageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSetOrUnsetPinnedMessage",["LSIssueNewTask","LSShimThreadPinMessage.nop","LSShimThreadUnpinMessage.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.i64.eq(a[3],c.i64.cast([0,1]))||c.i64.eq(a[3],c.i64.cast([0,2]))?c.sequence([function(d){return c.nativeOperation(b("LSShimThreadPinMessage.nop"),a[0],a[2],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_pin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1010]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(d){return c.nativeOperation(b("LSShimThreadUnpinMessage.nop"),a[0],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_unpin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1011]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxOptimisticSetOrUnsetPinnedMessageStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure",["LSOptimisticSetOrUnsetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSetOrUnsetPinnedMessage"),e.offlineThreadingId,e.threadKey,e.timestampMs,e.state);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSetPinnedMessage",["LSIssueNewTaskWithExtraOperations","LSSetPinnedMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.i64.eq(a[3],c.i64.cast([0,2]))?c.storedProcedure(b("LSSetPinnedMessage"),a[0],a[1],a[2],c.i64.cast([0,1])):c.storedProcedure(b("LSSetPinnedMessage"),a[0],a[1],a[2],a[3])},function(e){return c.i64.eq(a[3],c.i64.cast([0,2]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[0].set("pinned_location",c.i64.cast([0,1])),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,430]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.i64.eq(a[3],c.i64.cast([0,1]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,430]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.i64.eq(a[3],c.i64.cast([0,0]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["unpin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,431]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve(0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticSetPinnedMessageStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSOptimisticSetPinnedMessageStoredProcedure",["LSOptimisticSetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSetPinnedMessage"),e.threadKey,e.messageId,e.pinnedTimestampMs,e.state);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPinnedMessageState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_PINNED:0,PINNED:1,PINNED_AND_FEATURED:2});f["default"]=a}),66);
__d("LSReportMessageInCommunityChannel",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[7]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[8]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[7],d[8],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("message_id",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[7],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("thread_key"),d[5]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[4]),c.i64.cast([0,374]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxReportMessageInCommunityChannelStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSReportMessageInCommunityChannelStoredProcedure",["LSReportMessageInCommunityChannel","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSReportMessageInCommunityChannel"),e.threadKey,e.messageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("153");b=d("FalcoLoggerInternal").create("ls_1lc_feature_open",a);e=b;g["default"]=e}),98);
__d("useTriggerEditAction",["MAWEditMessageContext.react","MWPActor.react","MWPReplyContext.react","react","react-compiler-runtime","useLogMAWEditMessage"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a,b,e){var f=d("react-compiler-runtime").c(11),g=c("useLogMAWEditMessage")(),h=i(d("MAWEditMessageContext.react").Context),j=h.setEditMessageData;h=i(d("MWPReplyContext.react").MWPReplyContext);var k=h.clearReply,l=h.reply,m=d("MWPActor.react").useActor();f[0]!==m||f[1]!==k||f[2]!==g||f[3]!==a.messageId||f[4]!==a.threadKey||f[5]!==a.timestampMs||f[6]!==e||f[7]!==l||f[8]!==j||f[9]!==b?(h=function(){l!=null&&k(a.threadKey,!0),j({messageId:a.messageId,threadKey:a.threadKey,threadType:b,timestampMs:a.timestampMs}),g(b,a.threadKey,a.messageId,m,"EDIT_MESSAGE_TAP"),e==null?void 0:e()},f[0]=m,f[1]=k,f[2]=g,f[3]=a.messageId,f[4]=a.threadKey,f[5]=a.timestampMs,f[6]=e,f[7]=l,f[8]=j,f[9]=b,f[10]=h):h=f[10];return h}g["default"]=a}),98);
__d("MAWEditMenuItem.react",["fbt","MWXMenuItem.react","react","react-compiler-runtime","useTriggerEditAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.disableReason,f=a.message,g=a.onEditClickCallback;a=a.threadType;var i=g===void 0?null:g,k=c("useTriggerEditAction")(f,a);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Edit"),b[0]=g):g=b[0];f=g;a=e!==void 0;b[1]!==i||b[2]!==k?(g=function(){k(),i&&i()},b[1]=i,b[2]=k,b[3]=g):g=b[3];b[4]!==e||b[5]!==a||b[6]!==g?(f=j.jsx(c("MWXMenuItem.react"),{"aria-label":f,disabled:a,onClick:g,primaryText:f,secondaryText:e,testid:void 0}),b[4]=e,b[5]=a,b[6]=g,b[7]=f):f=b[7];return f}g["default"]=a}),226);
__d("MAWMessageIntegrityChecker",["FBLogger","MAWMessagesCompare","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a.externalId===b.externalId)return 0;if(a.sortOrderMs>b.sortOrderMs)return 1;return a.sortOrderMs<b.sortOrderMs?-1:-1}function i(a,b){var c=b.reduce(function(a,b){b.externalId!=null&&a.set(b.externalId,b.sortOrderMs);return a},new Map());return a.map(function(a){var b;return babelHelpers.extends({},a,{sortOrderMs:(b=a.externalId!=null?c.get(a.externalId):null)!=null?b:a.sortOrderMs})}).sort(d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"))}function j(a,b,c){a=new Set(a.map(function(a){return a.externalId}).filter(Boolean));return b.toSorted(d("MAWMessagesCompare").makeCompareMessageMetadataForDescOrderFn(a)).slice(0,c)}function a(a,b,d,e,f){var g=new Set(a.map(function(a){return a.externalId})),l=new Set(b.map(function(a){return a.externalId})),m=k(g,l);l=k(l,g);g=i(a,b);a=j(g,b,d);b=0;var n=0,o=0,p=0,q=[],r=null;while(b<g.length&&n<a.length){var s=g[b],t=a[n];if(r!=null&&h(t,r)===0){n+=1;r=t;c("FBLogger")("messenger_web_missing_messages").mustfix("Detected duplicate messages in reference. Target source: %s, reference source: %s",e,f);continue}var u=h(s,t);u===0?(b+=1,n+=1,r=t,q.push([s,{result:"consistent"}])):u<0?(n+=1,r=t,o+=1,q.push([t,{result:"missing_in_target"}])):(b+=1,p+=1,q.push([s,{result:"missing_in_reference"}]))}while(b<g.length){u=g[b];b+=1;a.length<d?(p+=1,q.push([u,{result:"missing_in_reference"}])):q.push([u,{result:"skipped_in_target"}])}while(n<a.length){t=a[n];n+=1;g.length<d?(o+=1,q.push([t,{result:"missing_in_target"}])):q.push([t,{result:"skipped_in_reference"}])}if(o===0&&p===0)return{detailedResults:q,result:"consistent",setDifferenceInReference:l,setDifferenceInTarget:m};else if(o>0&&p===0)return{detailedResults:q,numOfMissingMessages:o,result:"missing_in_target",setDifferenceInReference:l,setDifferenceInTarget:m};else if(o===0&&p>0)return{detailedResults:q,numOfMissingMessages:p,result:"missing_in_reference",setDifferenceInReference:l,setDifferenceInTarget:m};else return{detailedResults:q,numOfMissingMessages:p+o,result:"missing_in_both",setDifferenceInReference:l,setDifferenceInTarget:m}}async function b(a,b,d){a=d.filter(function(a){a[0];a=a[1];return a.result==="missing_in_target"}).map(function(a){var b=a[0];a[1];return b.externalId});var e={admin:!1,editMsgHistory:!1,media:!1,polls:!1,reactions:!1,receiverFetch:!1,xma:!1},f=await b.fetchMessagesByExternalId(a,e),g=new Set(f.map(function(a){return a.externalId}));return Promise.all(d.map(async function(a){var b=a[0];a=a[1];if(!g.has(b.externalId))return[b,a];a=f.find(function(a){return a.externalId===b.externalId});if(!a){c("FBLogger")("messenger_web_missing_messages").mustfix("Failed to find msg with external id: %s in MAW",b.externalId);return[b,{result:"missing_in_target_invalid_sortOrder"}]}var d={sortOrderSkewMs:a.sortOrderMs-b.sortOrderMs,sortOrderSkewNumberOfMsg:0},e={result:"missing_in_target_invalid_sortOrder",sortOrderSkewMs:0};d.sortOrderSkewNumberOfMsg!=null&&(e=babelHelpers.extends({},e,{sortOrderSkewNumberOfMsg:d.sortOrderSkewNumberOfMsg}));return[babelHelpers.extends({},b,{msgType:a.msgType}),e]}))}async function e(a,b){var c=b.filter(function(a){a[0];a=a[1];return a.result==="missing_in_target"}).map(function(a){var b=a[0];a[1];return b.externalId});if(c.length===0)return b;c=c.map(function(b){return d("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(b)});var e=c.length===1;c=c.length>1?d("ReQL").union.apply(void 0,c):c[0];var f=await d("ReQL").toArrayAsync(c);return b.map(function(a){var b=a[0];a=a[1];var c=f.find(function(a){return a.offlineThreadingId===b.externalId});if(c!=null)return[b,{result:"missing_in_target_exists_in_lsdb",transportKey:c.transportKey,wouldHaveThrownS518614:e}];a.wouldHaveThrownS518614=e;return[b,a]})}function k(a,b){var c=0;for(a of a)b.has(a)||(c+=1);return c}g.checkIntegrityforMessageList=a;g.checkMsgsExistenceInMAWAndDecomposeTargetConsistencyResult=b;g.checkMsgsExistenceInLSDB=e}),98);
__d("MAWMessageIntegrityMissingInTargetCategory",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.hasEBFetchFailed,c=a.mawVsEB;a=a.uiVsEB;var d=i(a);a=c.detailedResults.filter(function(a){var b=a[0];a[1];return d.has(b.externalId)});return a.map(function(a){var c=a[0];a=a[1];a=h(c.externalId,a,b);return a==null?null:[c,a]}).filter(Boolean)}function h(a,b,d){switch(b.result){case"consistent":return"client_inconsistency";case"missing_in_target":return d?"eb_restore_timeout":"message_not_persisted_after_eb_restore";case"missing_in_target_invalid_sortOrder":return b.sortOrderSkewMs==null||b.sortOrderSkewMs===0?"message_out_of_order_same_timestamp":"message_out_of_order_different_timestamp";case"skipped_in_target":return"client_inconsistency_skipped";case"skipped_in_reference":return"unknown_skipped";case"missing_in_reference":case"missing_in_target_exists_in_lsdb":c("FBLogger")("messenger_web_missing_messages").mustfix("Unexpected consistency result %s for message with externalId %s when calculating missing in target category",b.result,a);return null;default:b.result;return null}}function i(a){return a.detailedResults.reduce(function(a,b){var c=b[0];b=b[1];b.result==="missing_in_target"&&a.add(c.externalId);return a},new Set())}g.calculateMissingInTargetCategory=a}),98);
__d("MAWMessageIntegrityCompareMessagesData",["I64","MAWMessageIntegrityChecker","MAWMessageIntegrityMissingInTargetCategory","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get detailed results for UI vs MAW comparison: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Missing message detected for ",", result: ",", num of messages missing: ",""]);j=function(){return a};return a}var k=d("WATagsLogger").TAGS(["MissingMessages"]);async function a(a,b,c,d,e,f){var g=e.S518614_messagesBacktest,h=g.backendMessages,i=g.ebMessages,j=g.mpsMessages;g=g.uiMessages;var k=e.S518614_pageSizeBacktest,m=e.messages,n=m.backendMessages,o=m.ebMessages,p=m.mpsMessages;m=m.uiMessages;e=e.pageSize;n=await l(a,b,c,d,f,n,o,p,m,e);o=n.mawVsEB;p=n.missingInTargetCategory;m=n.mpsVsEB;var q=n.mpsVsMaw,r=n.uiVsEB;n=n.uiVsMaw;a=await l(a,b,c,d,f,h,i,j,g,k);b=a.mawVsEB;c=a.mpsVsEB;d=a.mpsVsMaw;f=a.uiVsEB;h=a.uiVsMaw;i=a.wouldHaveThrownS518614;return{S518614_mawVsEB:b,S518614_mpsVsEB:c,S518614_mpsVsMaw:d,S518614_pageSize:k,S518614_uiVsEB:f,S518614_uiVsMaw:h,S518614_wouldHaveThrown:i,mawVsEB:o,missingInTargetCategory:p,mpsVsEB:m,mpsVsMaw:q,pageSize:e,uiVsEB:r,uiVsMaw:n}}async function l(a,b,c,e,f,g,l,n,o,p){var q=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(o,g,p,"ui","maw"),r=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(o,l,p,"ui","eb"),s=d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(g,l,p,"maw","eb");g=n?d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(n,g,p,"mps","maw"):null;n=n?d("MAWMessageIntegrityChecker").checkIntegrityforMessageList(n,l,p,"mps","eb"):null;r.result!=="consistent"&&k.WARN(j(),(h||(h=d("I64"))).to_float(e),r.result,r.numOfMissingMessages);(r.result==="missing_in_target"||r.result==="missing_in_both")&&(r.detailedResults=m(r.detailedResults,o));(s.result==="missing_in_target"||s.result==="missing_in_both")&&(s.detailedResults=await d("MAWMessageIntegrityChecker").checkMsgsExistenceInMAWAndDecomposeTargetConsistencyResult(c,b,s.detailedResults));var t=!1;if(q.result==="missing_in_target"||q.result==="missing_in_both")try{q.detailedResults=await d("MAWMessageIntegrityChecker").checkMsgsExistenceInLSDB(a,q.detailedResults),q.detailedResults.map(function(a){a[0];a=a[1];t||(t=a.wouldHaveThrownS518614===!0)})}catch(a){k.ERROR(i(),a)}l=d("MAWMessageIntegrityMissingInTargetCategory").calculateMissingInTargetCategory({hasEBFetchFailed:f,mawVsEB:s,uiVsEB:r});return{mawVsEB:s,missingInTargetCategory:l,mpsVsEB:n,mpsVsMaw:g,pageSize:p,uiVsEB:r,uiVsMaw:q,wouldHaveThrownS518614:t}}function m(a,b){var c=new Set(b.map(function(a){return a.externalId}));return a.map(function(a){var b=a[0];a=a[1];return a.result==="missing_in_target"&&c.has(b.externalId)?[b,babelHelpers.extends({},a,{existingInUISamePage:!0})]:[b,a]})}g.compareMessagesData=a}),98);
__d("MAWMpsMessageIntegrityFetch",["MAWBridgeSendAndReceive","MAWCurrentUser","MAWEBSwitch","MAWMessagesDirection","MpsOverBridge","MpsTypes","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f,g){c("MAWEBSwitch").isEnabled()===!0&&await Promise.race([d("WAPromiseDelays").delayMs(1e4),d("MAWBridgeSendAndReceive").sendAndReceive("backend","waitForEBLSEbEnabled")]);b=await d("MpsOverBridge").mps().loadMessages({config:{shouldFetchSupplementals:!1,shouldIgnoreLocalOnly:!0,strategy:"full-fetch"},debug:{purpose:"integrity-check"},direction:d("MAWMessagesDirection").translateMawDirectionToMwpDirection(b),from:[e,f!=null?d("MpsTypes").toMessageId(f):null],numMessages:g*2,threadId:d("MpsTypes").toThreadId(a)});return b.success===!1?null:b.value.messages.map(function(a){return{externalId:a.toplevelProtobuf.messageId,isOutgoing:a.toplevelProtobuf.senderId!==d("MAWCurrentUser").getID(),msgType:"",sortOrderMs:a.toplevelProtobuf.timestampMs}})}g.mpsMessageIntegrityFetch=a}),98);
__d("MAWMessageIntegrityFetchMessagesData",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWEBDeanonFetch","MAWMessagesCompare","MAWMpsGating","MAWMpsMessageIntegrityFetch","WAResultOrError","WAStanzaUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,c,e,f,g){var m=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","identifyXMAWithAssociatedTextByExternalId",{externalIds:g.map(function(a){return d("WAStanzaUtils").toStanzaId(a.offlineThreadingId)})});function n(a){return!m.includes(a.externalId)}var o=g.map(k);b=await Promise.all([l(g),i(a,b,c,f,e),j(c,f,e),d("MAWMpsGating").isMpsEnabled()?d("MAWMpsMessageIntegrityFetch").mpsMessageIntegrityFetch(c,"before",(f==null?void 0:f.primarySortKey)!=null?(h||(h=d("I64"))).to_float(f==null?void 0:f.primarySortKey):Date.now(),(a=f==null?void 0:f.offlineThreadingId)!=null?a:null,e):null]);c=b[0];f=b[1];a=b[2];b=b[3];var p=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","identifyCollapsedMessagesByExternalId",{externalIds:a.map(function(a){return d("WAStanzaUtils").toStanzaId(a.externalId)})});function q(a){return!p.includes(a.externalId)}var r=c.filter(n).filter(q),s=f.filter(n).filter(q),t=a.filter(n).filter(q),u=b==null?null:b.filter(n).filter(q);o=o.filter(n).filter(q);n=g.length-o.length;q=e-n;if(t.length===0)return d("WAResultOrError").makeError("EB result not available");g=d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc");o=[].concat(s).sort(g).slice(0,q);n=[].concat(t).sort(g).slice(0,q);s=r.sort(g).slice(0,q);t=u!=null?[].concat(u).sort(g).slice(0,q):null;r=e;u=[].concat(f).sort(g).slice(0,r);e=[].concat(a).sort(g).slice(0,r);f=[].concat(c).sort(g).slice(0,r);a=b!=null?[].concat(b).sort(g).slice(0,r):null;return d("WAResultOrError").makeResult({S518614_messagesBacktest:{backendMessages:u,ebMessages:e,mpsMessages:a,uiMessages:f},S518614_pageSizeBacktest:r,messages:{backendMessages:o,ebMessages:n,mpsMessages:t,uiMessages:s},pageSize:q})}async function i(a,b,c,d,e){b=await b.requestMessages(a,c,d!=null?d.primarySortKey:null,d==null?void 0:d.messageId,"before",e,{admin:!1,editMsgHistory:!1,media:!1,polls:!1,reactions:!1,receiverFetch:!1,xma:!1},"integrity");return b.msgs}async function j(a,b,c){var e=b==null?null:d("MAWDbMsg").toMsgId(b.messageId);e=await (e==null?Promise.resolve(null):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:e}));var f=(e=e==null?void 0:e.externalId)!=null?e:b==null?void 0:b.offlineThreadingId;e=(b==null?void 0:b.primarySortKey)==null?d("WATimeUtils").millisTime():(h||(h=d("I64"))).to_float(b==null?void 0:b.primarySortKey);b=await d("MAWEBDeanonFetch").fetchMessagesMetadataFromEBDeanon({chatJid:a,count:c*2,direction:"before",includeReferenceTimestamp:!0,referenceExternalId:f,referenceTimestampMs:e});if(b.success===!1)return[];a=b.value.sort(d("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"));c=a.findIndex(function(a){return a.externalId===f});return a.slice(c+1)}function k(a){return{externalId:a.offlineThreadingId,msgType:(h||(h=d("I64"))).to_string(a.displayedContentTypes),sortOrderMs:h.to_float(a.primarySortKey)}}function l(a){var b=function(a){var b=d("MAWDbMsg").toMsgId(a.messageId);return b==null?Promise.resolve(k(a)):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:b}).then(function(b){return babelHelpers.extends({},a,{offlineThreadingId:(b=b==null?void 0:b.externalId)!=null?b:a.offlineThreadingId})}).then(k)};return Promise.all(a.map(b))}g.fetchMessagesDataForComparison=a}),98);
__d("MAWSecureDataSource",[],(function(a,b,c,d,e,f){"use strict";a=10;f.DEFAULT_NUM_MESSAGES=a}),66);
__d("MAWSecureLocalDBDataSource",["I64","MAWBridgeSendAndReceive","MAWDataSourceLogger","MAWDbMsg","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWMiActOnActThreadReady","MAWPutMessagesToDB","MAWSecureDataSource","MAWSecureLocalDBFetch","MLV2DataSourceLogger","ReQL","WAStanzaUtils","WATagsLogger","err","isEbEnabledWithIGDEligibilityCheck","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Fetching "," messages by external id, which is not optimal.\n      Consider migrating 'loadMsgsByExternalId' backend request to a batch version "]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch messages: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["useFetchSecureMessages: threadJid: "," minMsgSortOrderTsResponse ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Fetch more: ",""]);l=function(){return a};return a}var m=c("requireDeferred")("MAWEBFetch").__setRef("MAWSecureLocalDBDataSource"),n=d("WATagsLogger").TAGS(["MAWSecureLocalDBDataSource"]);function o(a){return a.msgs.map(function(a){return{externalId:a.externalId,isOptimistic:a.ack<1,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}})}a=function(){function a(){}var b=a.prototype;b.$1=async function(a,b,e,g,i,j,o,p,q){if(i==="after")return;i;n.LOG(l(),b);d("MAWDataSourceLogger").logLoadMoreMsgsThreadWaiting(o,"before",b);i=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"MAWSecureLocalDBDataSource");i=i.chatJid;d("MAWDataSourceLogger").logLoadMoreMsgsThreadReadyFetchMsgs(o);d("MAWDataSourceLogger").logLoadMessagesFromLocalDBStart(o);var r=g.minMessageId,s=await d("MAWMessagesPaginationUtils").getExternalIdByMsgId(r);p=await c("MAWSecureLocalDBFetch")({actionType:p,chatJid:i,config:{admin:!0,editMsgHistory:!0,media:!0,polls:!0,reactions:!0,receiverFetch:!0,xma:!0},count:j,direction:"before",offsetMsg:{externalId:s,includeOriginalMsg:!1,messageId:r},timestampMs:e});if(p.success===!1){throw(s=p.payload)!=null?s:c("err")(p.error)}var t=p.value;d("MAWDataSourceLogger").logLoadMessagesFromLocalDBEnd(o);d("MAWDataSourceLogger").logInsertMessageResponseToLSDBStart(o);d("MAWMessagesPaginationUtils").populateExternalIdCache(t.msgs);var u=t.msgs.length>0?t.msgs[t.msgs.length-1].msgId:g.minMessageId;await a.runInTransaction(async function(b){var c;await d("MAWPutMessagesToDB").insertMessageResponseToDBInExistingTransaction(a,b,t,q,o);c=await (c=b.messages_ranges_v2__generated).get.apply(c,[g.threadKey,g.minTimestampMs,g.minMessageId]);if(c==null)return;var e=t.hasMoreBefore;t.hasMoreBefore===!1&&await d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(a)&&(e=!0);await b.messages_ranges_v2__generated.upsert([c.threadKey,c.minTimestampMs,c.minMessageId],{hasMoreAfter:!1,hasMoreBefore:e,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:c.maxMessageId,maxTimestampMs:c.maxTimestampMs,minMessageId:u,minTimestampMs:(h||(h=d("I64"))).zero,threadKey:g.threadKey})},"readwrite","ui",void 0,f.id+":146");d("MAWDataSourceLogger").logInsertMessageResponseToLSDBEnd(o);d("MAWDataSourceLogger").logLoadMoreMsgsFetched(o,t.hasMoreBefore);if(t.hasMoreBefore){d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(o);return}r=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{chatJid:i,mayBeAdminMsgId:d("MAWDbMsg").toMsgId(g.minMessageId)});d("WATagsLogger").TAGS(["labyrinth_web","useFetchSecureMessages"]).LOG(k(),i,r.minMsgTimestampMs);d("MAWDataSourceLogger").logLoadMoreMsgsRangeQuery(o,r.minMsgTimestampMs);e=await m.load();s=await e({chatJid:i,count:j,db:a,direction:"before",timestampMs:(h||(h=d("I64"))).of_float(r.minMsgTimestampMs)});s.success&&s.value.hasMoreBefore===!1&&await a.runInTransaction(async function(c){var e=g.minTimestampMs,f=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(b).bounds({lte:[e]}).filter(function(a){var b=a.maxTimestampMs;a=a.minTimestampMs;return(h||(h=d("I64"))).ge(e,a)&&(h||(h=d("I64"))).le(e,b)}));if(f==null)return;await c.messages_ranges_v2__generated.upsert([f.threadKey,f.minTimestampMs,f.minMessageId],babelHelpers.extends({},f,{hasMoreBefore:!1,isLoadingBefore:!1}))},"readwrite","ui",void 0,f.id+":231");d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(o)};b.requestMessages=async function(a,b,e,f,g,h,i,j){a=await d("MAWMessagesPaginationUtils").getExternalIdByMsgId(f);b=await c("MAWSecureLocalDBFetch")({actionType:j,chatJid:b,config:i,count:(j=h)!=null?j:d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES,direction:g,offsetMsg:f==null?null:{externalId:a,includeOriginalMsg:!1,messageId:f},timestampMs:e});if(b.success===!1){throw(i=b.payload)!=null?i:c("err")(b.error)}h=b.value;d("MAWMessagesPaginationUtils").populateExternalIdCache(h.msgs);j=h.msgs.map(function(a){return{externalId:a.externalId,isOptimistic:a.ack<1,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}});return{hasMoreAfter:h.hasMoreAfter,hasMoreBefore:h.hasMoreBefore,msgs:j}};b.fetchSecureMessagesProtocol=function(a,b,c,e,f,g,h,i,k){h===void 0&&(h=d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES);c=d("MAWDataSourceLogger").logLoadMoreMsgsStart(c);return this.$1(a,b,e,f,g,h,c,i,k).catch(function(a){var c;n.ERROR(j(),a);(c=d("MLV2DataSourceLogger").getMLV2LoggerForThread(b,d("MAWMessagesDirection").translateMawDirectionToMwpDirection(g)))==null?void 0:c.markQPLFailure(a)})};b.fetchMessagesByExternalId=function(a,b){a.length>2&&n.WARN(i(),a.length);a=a.map(function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:b,externalId:d("WAStanzaUtils").toStanzaId(a)})});return Promise.all(a).then(function(a){return a.map(function(a){return o(a)}).flat()})};return a}();g.default=a}),98);
__d("MAWMessageIntegrityFetchAndCompareData",["MAWMessageIntegrityCompareMessagesData","MAWMessageIntegrityFetchMessagesData","MAWMiActOnActThreadReady","MAWSecureLocalDBDataSource","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("MAWSecureLocalDBDataSource"))();async function a(a){var b=a.db,c=a.hasEbFetchFailed,e=a.lastItemFromPreviousPage,f=a.localMessages,g=a.pageSize;a=a.threadKey;var i=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(b.tables,a,"fetchAndCompareMessagesData");i=i.chatJid;g=await d("MAWMessageIntegrityFetchMessagesData").fetchMessagesDataForComparison(b,h,i,g,e,f);if(g.success===!1)return g;e=await d("MAWMessageIntegrityCompareMessagesData").compareMessagesData(b,h,i,a,g.value,c);return d("WAResultOrError").makeResult(e)}g.fetchAndCompareMessagesData=a}),98);
__d("MAWMessagesIntegrityEphemeralSettings",["I64","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,c){a=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"getIsEphemeralMessagesEnabledForPage");a=a.chatJid;a=await d("MAWGetEphemeralSettings").getEphemeralSetting(a,b);if(a==null||a.ephemeralLastUpdatedOrSetTimestamp===d("WATimeUtils").DEFAULT_UNIXTIME)return"disabled";return d("WATimeUtils").castUnixTimeToMillisTime(a.ephemeralLastUpdatedOrSetTimestamp)<(h||(h=d("I64"))).to_float(c)?a.ephemeralExpirationInSec>0?"enabled":"disabled":a.ephemeralExpirationInSec>0?"maybeDisabled":"maybeEnabled"}g.getEphemeralMessagesStatusForPage=a}),98);
__d("MAWMessageIntegrityCheck",["CometDebounce","DateConsts","EbFetchTimeoutMsForMLv2","I64","MAWMediaGalleryM2Utils","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","MAWMessageIntegrityFetchAndCompareData","MAWMessageIntegrityTruncateStatus","MAWMessagesIntegrityEphemeralSettings","MAWMpsGating","WATagsLogger","gkx","isEbEnabledWithIGDEligibilityCheck","logMessengerWebFalcoEvent","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check Truncate state - threadKey: ",", state: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check Flytrap result - threadKey: ",", missingInTargetCategory: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", MPS (target) vs EB (reference): ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", MPS (target) vs MAW (reference): ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", result against EB data: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", result against backend data: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: check was scheduled more than 2 minutes ago"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["run Message Integrity Check - threadKey: ",", lastItem: ",", pageSize: ",""]);q=function(){return a};return a}var r="11",s=1e3*60*2,t=d("WATagsLogger").TAGS(["MissingMessages"]),u=c("CometDebounce")(c("logMessengerWebFalcoEvent"));async function a(a,b,e,f,g,x,z,A,B,C){t.LOG(q(),(h||(h=d("I64"))).to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),g);if(Date.now()-B>s){t.LOG(p(),(h||(h=d("I64"))).to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey));return}B=c("gkx")("1626");var D=await d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(a),E=d("MAWMessageIntegrityEBFetchStatus").hasEBFailure(b),F=d("MAWMessageIntegrityTruncateStatus").getThreadThuncateState(b);g=await d("MAWMessageIntegrityFetchAndCompareData").fetchAndCompareMessagesData({db:a,hasEbFetchFailed:E,lastItemFromPreviousPage:x,localMessages:z,pageSize:g,threadKey:b});if(g.success===!1){t.LOG(o(),(h||(h=d("I64"))).to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),g.error);return}g=g.value;c("gkx")("4852")&&g.uiVsEB.detailedResults.some(function(a){a[0];a=a[1];return a==="missing_in_target"})&&C();C=d("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(b,z);d("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(C,g.missingInTargetCategory);t.LOG(n(),h.to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),JSON.stringify(g.uiVsMaw));t.LOG(m(),h.to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),JSON.stringify(g.uiVsEB));t.LOG(l(),h.to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),JSON.stringify(g.mpsVsMaw));t.LOG(k(),h.to_float(b),x==null?"null":(h||(h=d("I64"))).to_float(x.primarySortKey),JSON.stringify(g.mpsVsEB));t.LOG(j(),h.to_float(b),JSON.stringify(g.missingInTargetCategory));t.LOG(i(),h.to_float(b),JSON.stringify(F));C=w(g.mawVsEB);var G=w(g.uiVsEB),H=w(g.uiVsMaw),I=g.mpsVsMaw!=null?w(g.mpsVsMaw):{},J=g.mpsVsEB!=null?w(g.mpsVsEB):{},K=w(g.S518614_mawVsEB),L=w(g.S518614_uiVsEB),M=w(g.S518614_uiVsMaw),N=g.S518614_mpsVsMaw!=null?w(g.S518614_mpsVsMaw):{},O=g.S518614_mpsVsEB!=null?w(g.S518614_mpsVsEB):{};z=y(z);a=await d("MAWMessagesIntegrityEphemeralSettings").getEphemeralMessagesStatusForPage(a,b,z);u({threadKey:b,threadType:e},"message_integrity_check",f,{MAW_vs_EB_detailedResults:C.detailedResults,MAW_vs_EB_numOfMissingInReference:C.numOfMissingInReference,MAW_vs_EB_numOfMissingInTarget:C.numOfMissingInTarget,MAW_vs_EB_numOfMissingInTargetInvalidSortOrder:C.numOfMissingInTargetInvalidSortOrder,MAW_vs_EB_setNumOfMissingInReference:C.setDifferenceInReference,MAW_vs_EB_setNumOfMissingInTarget:C.setDifferenceInTarget,MPS_vs_EB_detailedResults:(b=J.detailedResults)!=null?b:"",MPS_vs_EB_numOfMissingInReference:(e=J.numOfMissingInReference)!=null?e:"",MPS_vs_EB_numOfMissingInTarget:(f=J.numOfMissingInTarget)!=null?f:"",MPS_vs_MAW_detailedResults:(C=I.detailedResults)!=null?C:"",MPS_vs_MAW_numOfMissingInReference:(b=I.numOfMissingInReference)!=null?b:"",MPS_vs_MAW_numOfMissingInTarget:(e=I.numOfMissingInTarget)!=null?e:"",S518614_MAW_vs_EB_detailedResults:(J=K.detailedResults)!=null?J:"",S518614_MPS_vs_EB_detailedResults:(f=O.detailedResults)!=null?f:"",S518614_MPS_vs_MAW_detailedResults:(C=N.detailedResults)!=null?C:"",S518614_pageSize:g.S518614_pageSize.toString(),S518614_UI_vs_EB_detailedResults:(b=L.detailedResults)!=null?b:"",S518614_UI_vs_MAW_detailedResults:(I=M.detailedResults)!=null?I:"",S518614_wouldHaveThrown:v(g.S518614_wouldHaveThrown),UI_vs_EB_detailedResults:G.detailedResults,UI_vs_EB_numOfMissingInReference:G.numOfMissingInReference,UI_vs_EB_numOfMissingInTarget:G.numOfMissingInTarget,UI_vs_EB_setNumOfMissingInReference:G.setDifferenceInReference,UI_vs_EB_setNumOfMissingInTarget:G.setDifferenceInTarget,UI_vs_MAW_detailedResults:H.detailedResults,UI_vs_MAW_numOfMissingInReference:H.numOfMissingInReference,UI_vs_MAW_numOfMissingInTarget:H.numOfMissingInTarget,UI_vs_MAW_setNumOfMissingInReference:H.setDifferenceInReference,UI_vs_MAW_setNumOfMissingInTarget:H.setDifferenceInTarget,ebTimeoutSec:(c("EbFetchTimeoutMsForMLv2")()/d("DateConsts").MS_PER_SEC).toString(),endRangeTimestampMs:h.to_string(z),ephemeralMessagesStatus:a+"",hasAdditionalData:v(B),hasEBFetchFailed:v(E),isDogfooding:v(c("gkx")("2972")),isEbEnabled:v(D),isEbGraphQL:D?"false":v(c("gkx")("7083")),isEBPagePopulationSkipHeuristicEnabled:v((e=c("qex")._("4482"))!=null?e:!1),isEBSkipHeuristicEnabled:v((K=c("qex")._("4483"))!=null?K:!1),isJidOptimisationInRestoreEnabled:v(c("gkx")("3137")),isMAWRangeFixEnabled:v(c("gkx")("1042")),isMediaGalleryRestoreEnabled:v(d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()),isMpsEnabled:v(d("MAWMpsGating").isMpsEnabled()),isRejectingEbPromiseUponFailureEnabled:v(c("gkx")("9376")),isUsingLsInitCache:v(c("qex")._("4511")),lastItemExternalId:(J=x==null?void 0:x.offlineThreadingId)!=null?J:"null",lastItemTimestamp:h.to_string((O=x==null?void 0:x.primarySortKey)!=null?O:(h||(h=d("I64"))).zero),missingInTargetCategory:JSON.stringify(g.missingInTargetCategory),pageIndex:A+"",pageSize:g.pageSize+"",truncateState:(f=JSON.stringify(F))!=null?f:"null",version:D?r:"0"})}function v(a){return a===!0?"true":"false"}function w(a){var b=0,c=0,d=0;a.detailedResults.forEach(function(a){a[0];a=a[1];switch(a.result){case"missing_in_target":case"missing_in_target_exists_in_lsdb":b+=1;break;case"missing_in_target_invalid_sortOrder":c+=1;b+=1;break;case"missing_in_reference":d+=1;break;case"consistent":case"skipped_in_target":case"skipped_in_reference":break;default:a.result}});return{detailedResults:x(a.detailedResults),numOfMissingInReference:d+"",numOfMissingInTarget:b+"",numOfMissingInTargetInvalidSortOrder:c+"",setDifferenceInReference:a.setDifferenceInReference+"",setDifferenceInTarget:a.setDifferenceInTarget+""}}function x(a){a=a.map(function(a){var b=a[0];a=a[1];var d=a.existingInUISamePage,e=a.result,f=a.sortOrderSkewMs;a=a.sortOrderSkewNumberOfMsg;return babelHelpers.extends({existingInUISamePage:d,externalId:b.externalId,isOutgoing:b.isOutgoing},c("gkx")("1626")?{msgType:b.msgType,sortOrderMs:b.sortOrderMs}:{},{result:e,sortOrderSkewMs:(d=f)!=null?d:0,sortOrderSkewNumberOfMsg:(b=a)!=null?b:0})});return JSON.stringify(a)}function y(a){return a.length===0?(h||(h=d("I64"))).min_int:a.map(function(a){return a.timestampMs}).sort((h||(h=d("I64"))).compare)[0]}b={runMessageIntegrityCheck:a};g.default=b}),98);
__d("MWCMCreateSubthreadMenuItem.react",["I64","Int64Hooks","LsFalcoEventEntryPoint","MWXMenuItem.react","SubthreadCreationStrings.react","react","react-compiler-runtime","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadMenuItem.react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.message;a=c("useMWCMCreateSubthread")(e);var f=a[0];a=a[1];var g=c("useOpenSubthreadView")(),h=e.subthreadKey,l,m;b[0]!==e.messageId||b[1]!==e.threadKey||b[2]!==f||b[3]!==g||b[4]!==h?(l=function(){k.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadMenuItem",type:h!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:e.messageId,recipient_id:void 0},thread:{group_size:(i||(i=d("I64"))).to_string(i.zero),id:i.to_string(e.threadKey),type:18}}})}),h!=null?g(h):f()},m=[e.messageId,e.threadKey,f,g,h],b[0]=e.messageId,b[1]=e.threadKey,b[2]=f,b[3]=g,b[4]=h,b[5]=l,b[6]=m):(l=b[5],m=b[6]);l=d("Int64Hooks").useCallbackInt64(l,m);m=h!=null?d("SubthreadCreationStrings.react").viewSubthreadLabel:d("SubthreadCreationStrings.react").createSubthreadLabel;var n=h!=null?d("SubthreadCreationStrings.react").viewSubthreadLabel:d("SubthreadCreationStrings.react").createSubthreadLabel,o;b[7]!==a||b[8]!==l||b[9]!==m||b[10]!==n?(o=j.jsx(c("MWXMenuItem.react"),{"aria-label":m,disabled:a,onClick:l,primaryText:n}),b[7]=a,b[8]=l,b[9]=m,b[10]=n,b[11]=o):o=b[11];return o}g["default"]=a}),98);
__d("MWChatAudioLog",["AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","I64","Ls1lcFeatureOpenFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){c("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:"true",position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function b(){c("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}}),c("Ls1lcFeatureOpenFalcoEvent").log(function(){return{extra:void 0,feature:13,feature_sessionid:void 0,screen_orientation:void 0,stage:7,thread:void 0}})}function e(){c("AudioClipsCancelledByUserFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function f(){c("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function i(a){c("AudioClipsPlaybackStartFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function j(a,b){c("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function k(a,b){c("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function l(){c("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function m(){c("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function n(){c("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}g.logClickStopRecording=a;g.logClickStartRecording=b;g.logDeleteRecording=e;g.logBrowserDenyAccess=f;g.logPlaybackStart=i;g.logPlaybackPause=j;g.logPlaybackResume=k;g.logDialogOk=l;g.logDialogNotNow=m;g.logMicAccessCheckFailed=n}),98);
__d("useMWChatPromptSuggestions",["fbt","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useMemo;var j=[h._(/*BTDS*/"How did you learn about this channel?"),h._(/*BTDS*/"What should I use this channel for?"),h._(/*BTDS*/"What song are you listening to?"),h._(/*BTDS*/"Make me laugh \ud83d\udc80"),h._(/*BTDS*/"Favourite thing at the moment \ud83d\udc98"),h._(/*BTDS*/"Favourite travel destination \u2708\ufe0f"),h._(/*BTDS*/"Your happy place \u2763\ufe0f"),h._(/*BTDS*/"Best part of 2024 so far?"),h._(/*BTDS*/"Something that you're proud of \ud83d\udc9f"),h._(/*BTDS*/"Ten years ago, I was..."),h._(/*BTDS*/"What are you grateful for today? \ud83e\udef6"),h._(/*BTDS*/"What would your dream job be if money didn't matter?"),h._(/*BTDS*/"What's inspiring you at the moment? \ud83c\udf1f"),h._(/*BTDS*/"What's something unique about yourself?"),h._(/*BTDS*/"A film that you enjoyed recently \ud83c\udfa5"),h._(/*BTDS*/"Health is wealth \ud83d\udcaa\ud83e\udd57"),h._(/*BTDS*/"The last concert that you went to \ud83d\udc69\u200d\ud83c\udfa4"),h._(/*BTDS*/"Today, I learnt..."),h._(/*BTDS*/"What are you doing tonight?")];function k(a){a=a.slice();for(var b=a.length-1;b>=0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c];a[c]=d}return a}function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k(j),a[0]=b):b=a[0];a=b;return a}g["default"]=a}),226);
__d("MWChatPromptFlyoutSuggestions.react",["FocusGroup.react","MWXPressable.react","MWXScrollableArea.react","MWXText.react","focusScopeQueries","react","react-compiler-runtime","useMWChatPromptSuggestions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={pressable:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,$$css:!0},scrollArea:{maxWidth:"x193iq5w",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(6),e=a.onPress;a=a.text;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 xx7qk4p xyi19xy x1ccrb07 xtf3nb5 x1pc53ja xwflfxt x78zum5 x2lah0s x1vqgdyp xl56j7k x1kbpmyu x1y1aw1k x1sxyh0 xwib8y2 xurb0ha x2b8uid"},b[0]=f):f=b[0];b[1]!==a?(f=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a})})),b[1]=a,b[2]=f):f=b[2];b[3]!==e||b[4]!==f?(a=i.jsx(c("MWXPressable.react"),{onPress:e,overlayRadius:"inherit",xstyle:j.pressable,children:f}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var l=b[0],m=b[1];function a(a){var b=d("react-compiler-runtime").c(11),e=a.onPressSuggestion;a=c("useMWChatPromptSuggestions")();var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("div",{className:"x2lah0s x1xc55vz"}),b[0]=f):f=b[0];if(b[1]!==e||b[2]!==a){var g;b[4]!==e?(g=function(a,b){return i.jsx(m,{children:i.jsx(k,{onPress:function(){return e(a)},text:a})},b)},b[4]=e,b[5]=g):g=b[5];g=a.map(g);b[1]=e;b[2]=a;b[3]=g}else g=b[3];b[6]!==g?(a=i.jsx(l,{orientation:"horizontal",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:g}),b[6]=g,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx("div",{className:"x2lah0s x1xc55vz"}),b[8]=g):g=b[8];b[9]!==a?(f=i.jsxs(c("MWXScrollableArea.react"),{horizontal:!0,vertical:!1,xstyle:j.scrollArea,children:[f,a,g]}),b[9]=a,b[10]=f):f=b[10];return f}g["default"]=a}),98);
__d("MWXDialog.react",["MWXColumn.react","MWXColumnItem.react","cr:3020","cr:6827","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(15),f,g,h;e[0]!==a?(g=a.children,h=a.hasTextOnlyContent,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasTextOnlyContent"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h):(f=e[1],g=e[2],h=e[3]);if(b("cr:3020")!=null){if(e[4]!==f){a=f;a.scrollAreaFocusProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["scrollAreaFocusProps"]);a=a;e[4]=f;e[5]=a}else a=e[5];var j;e[6]!==g?(j=i.jsx(c("MWXColumn.react"),{expanding:!0,paddingHorizontal:16,paddingVertical:16,children:i.jsx(c("MWXColumnItem.react"),{expanding:!0,children:g})}),e[6]=g,e[7]=j):j=e[7];var k;e[8]!==a||e[9]!==j?(k=i.jsx(b("cr:3020"),babelHelpers["extends"]({},a,{children:j})),e[8]=a,e[9]=j,e[10]=k):k=e[10];return k}if(b("cr:6827")!=null){e[11]!==f||e[12]!==g||e[13]!==h?(a=i.jsx(b("cr:6827"),babelHelpers["extends"]({hasTextOnlyContent:h},f,{children:g})),e[11]=f,e[12]=g,e[13]=h,e[14]=a):a=e[14];return a}return null}g["default"]=a}),98);
__d("MWXDialogFooter.react",["MWXSpinner.react","cr:6993","cr:9720","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(29),f,g,h,j,k;e[0]!==a?(g=a.callToActionGroupDirection,h=a.callToActionGroupWrap,j=a.primaryCallToAction,k=a.secondaryCallToAction,f=babelHelpers.objectWithoutPropertiesLoose(a,["callToActionGroupDirection","callToActionGroupWrap","primaryCallToAction","secondaryCallToAction"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=j,e[5]=k):(f=e[1],g=e[2],h=e[3],j=e[4],k=e[5]);if(b("cr:9720")!=null){a=(a=j)!=null?a:k;var l=j==null?null:k;if(a==null)return null;var m,n,o;e[6]!==a?(m=a.disabled,n=a.loading,o=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","loading"]),e[6]=a,e[7]=m,e[8]=n,e[9]=o):(m=e[7],n=e[8],o=e[9]);var p;e[10]!==n?(p=n===!0?i.jsx(c("MWXSpinner.react"),{color:"blue",size:24}):void 0,e[10]=n,e[11]=p):p=e[11];p=p;n=n===!0?!0:m;m=a.type==="destructive"?"fdsOverride_negative":a.type;e[12]!==p||e[13]!==o||e[14]!==n||e[15]!==m?(a=babelHelpers["extends"]({},o,{addOnPrimary:p,disabled:n,type:m}),e[12]=p,e[13]=o,e[14]=n,e[15]=m,e[16]=a):a=e[16];e[17]!==f||e[18]!==g||e[19]!==h||e[20]!==l||e[21]!==a?(p=i.jsx(b("cr:9720"),babelHelpers["extends"]({direction:g,primary:a,secondary:l,wrap:h},f)),e[17]=f,e[18]=g,e[19]=h,e[20]=l,e[21]=a,e[22]=p):p=e[22];return p}if(b("cr:6993")!=null){e[23]!==f||e[24]!==g||e[25]!==h||e[26]!==j||e[27]!==k?(o=i.jsx(b("cr:6993"),babelHelpers["extends"]({callToActionGroupDirection:g,callToActionGroupWrap:h,primaryCallToAction:j,secondaryCallToAction:k},f)),e[23]=f,e[24]=g,e[25]=h,e[26]=j,e[27]=k,e[28]=o):o=e[28];return o}return null}g["default"]=a}),98);
__d("MWXDialogHeader.react",["cr:73","cr:7626","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(15),e,f,g,h,j;c[0]!==a?(f=a.mdsTitleLayout,g=a.showTruncationTooltip,h=a.title,j=a.withoutDivider,e=babelHelpers.objectWithoutPropertiesLoose(a,["mdsTitleLayout","showTruncationTooltip","title","withoutDivider"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=j):(e=c[1],f=c[2],g=c[3],h=c[4],j=c[5]);a=g===void 0?!0:g;if(b("cr:7626")!=null){g=(g=h)!=null?g:void 0;var k;c[6]!==e||c[7]!==a||c[8]!==g||c[9]!==j?(k=i.jsx(b("cr:7626"),babelHelpers["extends"]({text:g},e,{showTruncationTooltip:a,withoutDivider:j})),c[6]=e,c[7]=a,c[8]=g,c[9]=j,c[10]=k):k=c[10];return k}if(b("cr:73")!=null){c[11]!==e||c[12]!==f||c[13]!==h?(a=i.jsx(b("cr:73"),babelHelpers["extends"]({title:h,titleLayout:f},e)),c[11]=e,c[12]=f,c[13]=h,c[14]=a):a=c[14];return a}return null}g["default"]=a}),98);
__d("MWChatPromptDialog.react",["fbt","FBLogger","FocusRegion.react","I64","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutSuggestions.react","MWPromptCreationUtils","MWXDialog.react","MWXDialogFooter.react","MWXDialogHeader.react","MWXText.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollCallPromptType","react","react-compiler-runtime","useMWXPushToast","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l;b=l||d("react");var m=i||(i=c("react"));b.useCallback;var n=b.useState;function a(a){var b=d("react-compiler-runtime").c(44),e=a.onClose,f=a.threadKey,g=(k||(k=c("useReStore")))(),i=c("useMWXPushToast")();a=n("");var l=a[0],p=a[1];a=n(!1);var q=a[0],r=a[1];b[0]!==e||b[1]!==f?(a=function(){e(),c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:303,source:156,surface:7,thread_id:(j||(j=d("I64"))).to_string(f)}})},b[0]=e,b[1]=f,b[2]=a):a=b[2];var s=a;b[3]!==g||b[4]!==s||b[5]!==l||b[6]!==i||b[7]!==f?(a=function(){(async function(){r(!0),await d("MWPromptCreationUtils").createAuthoritiativeRollCall(g,f,l,c("RollCallPromptType").TEXT),s()})().catch(function(a){r(!1),c("FBLogger")("messenger_web").catching(a).mustfix("Creating prompt"),i({body:h._(/*BTDS*/"Could not create prompt")})}),c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:304,source:17,surface:101,thread_id:(j||(j=d("I64"))).to_string(f)}})},b[3]=g,b[4]=s,b[5]=l,b[6]=i,b[7]=f,b[8]=a):a=b[8];a=a;var t;b[9]===Symbol.for("react.memo_cache_sentinel")?(t=function(a){p(a.toString())},b[9]=t):t=b[9];t=t;var u=o,v;b[10]!==f?(v={onImpressionStart:function(){c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:2,event_name:301,source:156,surface:7,thread_id:(j||(j=d("I64"))).to_string(f)}})}},b[10]=f,b[11]=v):v=b[11];v=c("useSinglePartialViewImpression")(v);var w;b[12]!==q||b[13]!==l?(w=q||l.trim()==="",b[12]=q,b[13]=l,b[14]=w):w=b[14];b[15]===Symbol.for("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Send"),b[15]=q):q=b[15];b[16]!==a||b[17]!==w?(q={disabled:w,label:q,onPress:a},b[16]=a,b[17]=w,b[18]=q):q=b[18];b[19]===Symbol.for("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cancel"),b[19]=a):a=b[19];b[20]!==s?(w={label:a,onPress:s},b[20]=s,b[21]=w):w=b[21];b[22]!==q||b[23]!==w?(a=m.jsx(c("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:q,secondaryCallToAction:w}),b[22]=q,b[23]=w,b[24]=a):a=b[24];b[25]===Symbol.for("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"New prompt"),b[25]=q):q=b[25];b[26]!==s?(w=m.jsx(c("MWXDialogHeader.react"),{onClose:s,title:q,withCloseButton:!0}),b[26]=s,b[27]=w):w=b[27];b[28]===Symbol.for("react.memo_cache_sentinel")?(q={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf"},b[28]=q):q=b[28];var x;b[29]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x1y1aw1k x1n2onr6"},b[29]=x):x=b[29];var y;b[30]===Symbol.for("react.memo_cache_sentinel")?(y=function(a){p(a.target.value)},b[30]=y):y=b[30];b[31]!==l?(x=m.jsx("div",babelHelpers.extends({},x,{children:m.jsx(c("MWChatPromptFlyoutFrontCard.react"),{maxLength:75,onChange:y,showFacepile:!1,value:l})})),b[31]=l,b[32]=x):x=b[32];b[33]===Symbol.for("react.memo_cache_sentinel")?(y=m.jsx(c("MWChatPromptFlyoutSuggestions.react"),{onPressSuggestion:t}),t={className:"xyamay9 x2b8uid"},b[33]=y,b[34]=t):(y=b[33],t=b[34]);b[35]===Symbol.for("react.memo_cache_sentinel")?(t=m.jsx("div",babelHelpers.extends({},t,{children:m.jsx(c("MWXText.react"),{type:"meta4",children:h._(/*BTDS*/"Members can respond with text for 24 hours.")})})),b[35]=t):t=b[35];b[36]!==v||b[37]!==x?(u=m.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:u,children:m.jsxs("div",babelHelpers.extends({},q,{ref:v,children:[x,y,t]}))}),b[36]=v,b[37]=x,b[38]=u):u=b[38];b[39]!==s||b[40]!==a||b[41]!==w||b[42]!==u?(q=m.jsx(c("MWXDialog.react"),{footer:a,header:w,onClose:s,size:"small",children:u}),b[39]=s,b[40]=a,b[41]=w,b[42]=u,b[43]=q):q=b[43];return q}function o(a){return a==="textarea"}g.default=a}),226);
__d("NewPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5500");b=d("FalcoLoggerInternal").create("new_poll_submit_error",a);e=b;g["default"]=e}),98);
__d("NewPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5501");b=d("FalcoLoggerInternal").create("new_poll_submit_success",a);e=b;g["default"]=e}),98);
__d("OpenExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5502");b=d("FalcoLoggerInternal").create("open_existing_poll",a);e=b;g["default"]=e}),98);
__d("ShowVotersFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5503");b=d("FalcoLoggerInternal").create("show_voters",a);e=b;g["default"]=e}),98);
__d("StartNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5504");b=d("FalcoLoggerInternal").create("start_new_poll",a);e=b;g["default"]=e}),98);
__d("SubmitExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5505");b=d("FalcoLoggerInternal").create("submit_existing_poll",a);e=b;g["default"]=e}),98);
__d("SubmitNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5506");b=d("FalcoLoggerInternal").create("submit_new_poll",a);e=b;g["default"]=e}),98);
__d("MWGroupPollLogger",["ChangeVoteFalcoEvent","ExistingPollSubmitErrorFalcoEvent","ExistingPollSubmitSuccessFalcoEvent","NewPollSubmitErrorFalcoEvent","NewPollSubmitSuccessFalcoEvent","OpenExistingPollFalcoEvent","ShowVotersFalcoEvent","StartNewPollFalcoEvent","SubmitExistingPollFalcoEvent","SubmitNewPollFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case"start_new_poll":c("StartNewPollFalcoEvent").log(function(){return b});break;case"submit_new_poll":c("SubmitNewPollFalcoEvent").log(function(){return b});break;case"open_existing_poll":c("OpenExistingPollFalcoEvent").log(function(){return b});break;case"submit_existing_poll":c("SubmitExistingPollFalcoEvent").log(function(){return b});break;case"change_vote":c("ChangeVoteFalcoEvent").log(function(){return b});break;case"show_voters":c("ShowVotersFalcoEvent").log(function(){return b});break;case"existing_poll_submit_error":c("ExistingPollSubmitErrorFalcoEvent").log(function(){return b});break;case"existing_poll_submit_success":c("ExistingPollSubmitSuccessFalcoEvent").log(function(){return b});break;case"new_poll_submit_error":c("NewPollSubmitErrorFalcoEvent").log(function(){return b});break;case"new_poll_submit_success":c("NewPollSubmitSuccessFalcoEvent").log(function(){return b});break}}g.log=a}),98);
__d("MWOpenMediaManagerUtils",["fbt","I64","LSFactory","LSGenerateTraceId","LSIntEnum","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","cr:6057","emptyFunction","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){b("cr:6057").preload();if(c("gkx")("3918"))return Promise.all(a.map(function(a){var b=a[0];a=a[1];if(b.type==="application/zip")return Promise.reject("invalid file type");b={file:b,offlineAttachmentId:a};return Promise.resolve(b)}));else return Promise.resolve(a.map(function(a){var b=a[0];a=a[1];return{file:b,offlineAttachmentId:a}}))}function e(a,b,e,g,j,l,m,n,o,p,q){j===void 0&&(j=c("emptyFunction"));l===void 0&&(l=c("emptyFunction"));m===void 0&&(m=c("emptyFunction"));var r=function(b,e){e=e.event;if(!e.lengthComputable)return;var g=e.loaded/e.total;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").updateMediaStaging(a,b,function(a){return babelHelpers.extends({},a,{progress:g})})},"readwrite",void 0,void 0,f.id+":95"))},s=function(j,n){if(n==null||n.length===0){var o="";if(!c("justknobx")._("899"))return;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").deleteMediaStaging(a,j).then(function(){return k(a,j)}).then(function(){var a=e.find(function(a){return a.offlineAttachmentId===j});a!=null&&a.file.type==="application/zip"?(g(h._(/*BTDS*/"_j[\"Invalid file format\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]"),h._(/*BTDS*/"The file that you have selected is not a valid format.")),o="null_fbid_invalid_file_format"):(g(h._(/*BTDS*/"Upload failed")),o="null_fbid_other")})},"readwrite",void 0,void 0,f.id+":118"),function(){return m(o,j)});return}c("promiseDone")(a.runInTransaction(function(a){var e=d("MWPOpenComposerUtils").updateMediaStaging(a,j,function(a){return babelHelpers.extends({},a,{fbid:(i||(i=d("I64"))).of_string(n),progress:1})}),f=a.media_send_jobs.get(j).then(function(e){if(e==null)return Promise.resolve();var f=c("LSFactory")(a),g=e.offlineThreadingId,h=e.offlineAttachmentId;return c("LSMarkSubJobCompletedV2StoredProcedure")(f,{fbid:(i||(i=d("I64"))).of_string(n),offlineAttachmentId:j}).then(function(){return d("MWPOpenComposerUtils").deleteMediaStaging(a,j)}).then(function(){return d("MWPOpenComposerUtils").updateAttachment(a,b,g,h,function(a){return babelHelpers.extends({},a,{attachmentFbid:n.toString()})})}).then(function(){return d("MWPOpenComposerUtils").resumeSendJob(f,g,c("LSGenerateTraceId")())})});return Promise.all([e,f])},"readwrite",void 0,void 0,f.id+":157"),function(){return l(j)})},t=function(b,e){c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").updateMediaStaging(a,b,function(a){return babelHelpers.extends({},a,{hasError:!0})}).then(function(){return k(a,b)})},"readwrite",void 0,void 0,f.id+":210"),function(){var a;m((a=e.response.getErrorDescriptionString())!=null?a:"unknown_upload_failure",b)})};if(c("gkx")("3918")&&e.length===0)return Promise.resolve();var u=e.map(function(a){return a.offlineAttachmentId}),v=e.map(function(a){return a.file});return d("MWPComposerMediaUploadUtil").startUpload(j,r,s,t,void 0,v,u,n,o,void 0,p,q)}async function k(a,b){b=await a.media_send_jobs.get(b);if(b==null)return;b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b.offlineThreadingId));if(b==null)return;b=babelHelpers.extends({},b,{sendStatusV2:(j||(j=d("LSIntEnum"))).ofNumber(4)});await a.messages.put(b)}g.preprocess=a;g.upload=e}),226);
__d("MWPinnedMessagesDialogNUXFactoryRequireNUX.react",["nux:345"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("nux:345")==null?void 0:b("nux:345")("WEB_MSGR_PINNED_MESSAGES_NUX")};c=a;g["default"]=c}),98);
__d("useMAWToggleSecurePinMessage",["I64","LSFactory","LSOptimisticSetOrUnsetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","react","useAsyncReStore","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b){var e=c("useAsyncReStore")(),g=c("useMWPIsMessagePinned")(a),h=a.offlineThreadingId,k=a.threadKey,l=d("ServerTime").getMillis(),m=c("MessengerWebUXLogger").useInteractionLogger();a=async function(){var a=await e,j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(k));await a.runInTransaction(function(a){var e=g?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,f=g?"unpin_message":"pin_message",n=g?"unpin":"pin";b==="message_dot_menu"?m==null?void 0:m({eventName:f,threadKey:k,threadType:j==null?void 0:j.threadType}):n==="unpin"&&b==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure")(c("LSFactory")(a),{offlineThreadingId:h,state:(i||(i=d("I64"))).of_int32(e),threadKey:k,timestampMs:i.of_int32(l)})},"readwrite",void 0,void 0,f.id+":51")};return j(a,[e,g,k,l,h,b,m])}g.default=a}),98);
__d("useMWPinnedMessageLimitReached",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=50;function a(a){var b=d("react-compiler-runtime").c(12),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.msg_pinned_messages_v2||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.msg_pinned_messages_v2).getKeyRange(a)},b[0]=e.tables.msg_pinned_messages_v2,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useArray(g,j,f.id+":27").length;b[6]!==e.tables.client_web_pinned_messages||b[7]!==a?(j=function(){return d("ReQL").fromTableAscending(e.tables.client_web_pinned_messages).getKeyRange(a)},b[6]=e.tables.client_web_pinned_messages,b[7]=a,b[8]=j):j=b[8];var k;b[9]!==e||b[10]!==a?(k=[e,a],b[9]=e,b[10]=a,b[11]=k):k=b[11];b=d("ReQLSuspense").useArray(j,k,f.id+":35").length;return g>=i||b>=i}g["default"]=a}),98);
__d("useMWTogglePinMessage",["I64","LSFactory","LSOptimisticSetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPActor.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","promiseDone","react","requireDeferred","useAsyncReStore","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=c("requireDeferred")("MWLogMessageAction").__setRef("useMWTogglePinMessage");function a(a,b){var e=c("useAsyncReStore")(),g=c("useMWPIsMessagePinned")(a),h=a.messageId,l=a.senderId,m=a.threadKey,n=d("ServerTime").getMillis(),o=d("MWPActor.react").useActor(),p=c("MessengerWebUXLogger").useInteractionLogger();a=async function(){var a=await e,j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(m));await a.runInTransaction(function(e){var f=g?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,q=g?"unpin_message":"pin_message",r=g?"unpin":"pin";b==="message_dot_menu"?(k.onReady(function(d){return c("promiseDone")(d.log(a,h,m,b,r,void 0,void 0,void 0,l,void 0,o))}),p==null?void 0:p({eventName:q,threadKey:m,threadType:j==null?void 0:j.threadType})):r==="unpin"&&b==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetPinnedMessageStoredProcedure")(c("LSFactory")(e),{messageId:h,pinnedTimestampMs:(i||(i=d("I64"))).of_int32(n),state:i.of_int32(f),threadKey:m})},"readwrite",void 0,void 0,f.id+":58")};return j(a,[o,e,g,m,n,b,h,l,p])}g.default=a}),98);
__d("MWPinMessageMenuItem.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MWPinnedMessagesDialogNUXFactoryRequireNUX.react","MWXMenuItem.react","promiseDone","react","useMAWToggleSecurePinMessage","useMWPIsMessagePinned","useMWPinnedMessageLimitReached","useMWTogglePinMessage","useMWXLazyDialog","useSharedNUX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWPinnedMessageLimitReachedDialog.react").__setRef("MWPinMessageMenuItem.react");function a(a){var b=a.message,e=a.onClick,f=a.onPinCompleted,g=h._(/*BTDS*/"Pin"),i=h._(/*BTDS*/"Unpin"),l=c("useMWPIsMessagePinned")(b),m=c("MWPinnedMessagesDialogNUXFactoryRequireNUX.react")();a=c("useMWXLazyDialog")(k);var n=a[0];a=d("MWLSThread").useThread(b.threadKey);a=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a==null?void 0:a.threadType);var o=c("useMWTogglePinMessage")(b,"message_dot_menu"),p=c("useMAWToggleSecurePinMessage")(b,"message_dot_menu"),q=a?p:o,r=c("useMWPinnedMessageLimitReached")(b.threadKey);a=c("useSharedNUX")("WEB_MSGR_PINNED_MESSAGES_NUX");var s=a[0];p=function(a){return m!=null?m({children:a,dialogProps:{onClose:function(){},pinMessageHandler:function(){return c("promiseDone")(q(),f)}}}):j.jsx(j.Fragment,{children:a(function(){return c("promiseDone")(q(),f)})})};o=function(a){return j.jsx(c("MWXMenuItem.react"),{"aria-haspopup":!l&&s?"dialog":void 0,onClick:function(d){if(r&&!l)return n({threadKey:b.threadKey},function(){});!l?a():c("promiseDone")(q());e&&e(l)},primaryText:l?i:g})};return p(o)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPinnedMessagesDialogNUXFactory.react",["JSResourceForInteraction","MWInboxPersistedUIState","declareNUXRequireable","react","useMWXLazyDialog","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useCallback,j=b.useMemo,k=c("JSResourceForInteraction")("MWPinnedMessagesDialogNUX.react").__setRef("MWPinnedMessagesDialogNUXFactory.react");function a(a){function b(b){var e=b.children,f=b.dialogProps;b=c("useSharedNUX")(a);var g=b[0],h=b[1];b=d("MWInboxPersistedUIState").usePersistedUIState(void 0,"__MWSimpleNux."+a+"__");b[0];var l=b[1],m=i(function(){l(void 0),h.onDismiss()},[h,l]),n=j(function(){return{onDismiss:m,pinMessageHandler:f.pinMessageHandler}},[f,m]);b=c("useMWXLazyDialog")(k);var o=b[0];b=function(){return o(n)};return g?e(b):e(f.pinMessageHandler)}b.displayName=b.name+" [from "+f.id+"]";return b}e=c("declareNUXRequireable")(a);g["default"]=e}),98);
__d("MWV2ChatHotlikeSoundsConfig",["bx"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("bx")).getURL(a("273031"));d=a.getURL(a("273032"));e=a.getURL(a("273039"));f=a.getURL(a("273040"));c=a.getURL(a("273033"));var h=a.getURL(a("273034")),i=a.getURL(a("273035")),j=a.getURL(a("273036")),k=a.getURL(a("273037"));a=a.getURL(a("273038"));g.hotlikeGrowMp3Url=b;g.hotlikeGrowOggUrl=d;g.hotlikePopMp3Url=e;g.hotlikePopOggUrl=f;g.hotlikeOutgoingLargeMp3Url=c;g.hotlikeOutgoingLargeOggUrl=h;g.hotlikeOutgoingMediumMp3Url=i;g.hotlikeOutgoingMediumOggUrl=j;g.hotlikeOutgoingSmallMp3Url=k;g.hotlikeOutgoingSmallOggUrl=a}),98);
__d("MWV2ChatHotlikeSounds",["LSHotEmojiSize","MWChatSettingsQuery","MWV2ChatHotlikeSoundsConfig","Sound"],(function(a,b,c,d,e,f,g){"use strict";var h=[(f=d("MWV2ChatHotlikeSoundsConfig")).hotlikeGrowMp3Url,f.hotlikeGrowOggUrl],i=[f.hotlikePopMp3Url,f.hotlikePopOggUrl],j=[f.hotlikeOutgoingSmallMp3Url,f.hotlikeOutgoingSmallOggUrl],k=[f.hotlikeOutgoingMediumMp3Url,f.hotlikeOutgoingMediumOggUrl],l=[f.hotlikeOutgoingLargeMp3Url,f.hotlikeOutgoingLargeOggUrl],m=!1;function a(){m=!1,o(h)}function n(){m=!0,d("Sound").stop(h)}function b(){n(),o(i)}function e(a){n(),a===c("LSHotEmojiSize").SMALL?o(j):a===c("LSHotEmojiSize").MEDIUM?o(k):a===c("LSHotEmojiSize").LARGE&&o(l)}function o(a){d("MWChatSettingsQuery").areChatTabsSoundsOn(function(b){var c=a===h&&m;!c&&b!=null&&b===!0&&d("Sound").play(a,void 0,!1)})}g.start=a;g.pop=b;g.snap=e}),98);
__d("MWV2ForwardMenuItem.react",["fbt","I64","LSMessagingThreadTypeUtil","MWPActor.react","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","justknobx","react","react-compiler-runtime","useMWV2MessageForwardAction","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useContext;function a(a){var b=d("react-compiler-runtime").c(14),e=a.message,f=a.threadType,g=c("MessengerWebUXLogger").useInteractionLogger();a=l(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var i=a.setLoggingData,m=d("MWPActor.react").useActor();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("justknobx")._("4219"),b[0]=a):a=b[0];a=a;var n;b[1]!==f?(n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(f),b[1]=f,b[2]=n):n=b[2];n=n;var o=c("useMWV2MessageForwardAction")(n,e,f);b[3]!==m||b[4]!==o||b[5]!==g||b[6]!==e||b[7]!==i||b[8]!==f?(n=function(){var a=e.threadKey,b=(j||(j=d("I64"))).equal(e.senderId,m);b={extraData:{actor_type:b?"sender":"receiver",component:"MWV2ForwardMenuItem"},flowInstanceId:c("uuidv4")(),threadKey:a,threadType:f};g==null?void 0:g(babelHelpers["extends"]({},b,{eventName:"open_forward_message_dialog"}));i(b);o()},b[3]=m,b[4]=o,b[5]=g,b[6]=e,b[7]=i,b[8]=f,b[9]=n):n=b[9];n=n;var p;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Forward"),b[10]=p):p=b[10];p=p;b[11]!==o||b[12]!==n?(a=a?k.jsx(c("MWXMenuItem.react"),{"aria-label":p,onClick:n,primaryText:p,testid:void 0}):k.jsx(c("MWXMenuItem.react"),{"aria-label":p,loggingEvent:"open_forward_message_dialog",onClick:o,primaryText:p,testid:void 0}),b[11]=o,b[12]=n,b[13]=a):a=b[13];return a}g["default"]=a}),226);
__d("useMWLSMessageReportingToken",["I64","Int64Hooks","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=d("react-compiler-runtime").c(4),e,f;c[0]!==a||c[1]!==b?(e=function(){return btoa("message_thread:"+(h||(h=d("I64"))).to_string(b)+":"+a)},f=[a,b],c[0]=a,c[1]=b,c[2]=e,c[3]=f):(e=c[2],f=c[3]);return d("Int64Hooks").useMemoInt64(e,f)}g["default"]=a}),98);
__d("MWV2GlobalReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e=a.icon,f=a.messageId,g=a.threadKey,i=a.threadType;b[0]!==i?(a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i),b[0]=i,b[1]=a):a=b[1];a=a;f=c("useMWLSMessageReportingToken")(f,g);g="report_long_press";var l;b[2]!==i?(l=k(i),b[2]=i,b[3]=l):l=b[3];l=l;var m;b[4]!==a||b[5]!==f?(m=a?window.btoa("message_thread:encrypted"):f,b[4]=a,b[5]=f,b[6]=m):m=b[6];b[7]!==l||b[8]!==m?(a={entryPoint:g,id:m,location:l},b[7]=l,b[8]=m,b[9]=a):a=b[9];var n=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Report"),b[10]=f):f=b[10];g=f;l=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),n);var o=l[0];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(m=c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("MWV2GlobalReportMessageMenuItem.react"),b[11]=m):m=b[11];a=c("useMWXLazyDialog")(m);var p=a[0];b[12]!==n||b[13]!==o||b[14]!==p||b[15]!==i?(f=function(){d("LSMessagingThreadTypeUtil").isArmadilloSecure(i)?p(n):o({})},b[12]=n,b[13]=o,b[14]=p,b[15]=i,b[16]=f):f=b[16];l=f;b[17]!==e||b[18]!==l?(m=j.jsx(c("MWXMenuItem.react"),{"aria-label":g,icon:e,loggingEvent:"report_thread",onClick:l,primaryText:g}),b[17]=e,b[18]=l,b[19]=m):m=b[19];return m}function k(a){var b=d("LSMessagingThreadTypeUtil").isOneToOne(a),c=d("LSMessagingThreadTypeUtil").isGroup(a);a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);if(b&&a)return"messenger_encrypted_direct_thread";else if(b&&!a)return"messenger_direct_thread_details";else if(c&&a)return"messenger_encrypted_group_thread";else if(c&&!a)return"messenger_group_thread_details";else return"unknown"}g["default"]=a}),226);
__d("MWV2MessageReactionMenuItem.react",["fbt","MWChatReactionsActionContainer.react","MWV2MessageRowActionsContext.react","MWXMenuItem.react","ODS","emptyFunction","react","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useEffect;function a(a){var b=a.closeActionsMenu,e=a.message,f=a.onReactionsSendLogger,g=a.reactionsPopoverResource;a=a.threadType;var i=h._(/*BTDS*/"React"),n=c("useMWV2ShouldDisableReactions.react")(a,e.threadKey),o=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),p=o.openReactionsMenu,q=l(function(){p.current=c("emptyFunction");return},[p]);m(function(){return q},[q]);o=c("useMWChatReactionsActionContainerProps.react")(e,b,a,f,c("emptyFunction"),g);return n?null:k.jsx(c("MWChatReactionsActionContainer.react"),babelHelpers["extends"]({},o,{children:function(a,b,e,f,g,h){e=function(){b(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};p.current=e;return k.jsx(c("MWXMenuItem.react"),{"aria-label":i,loggingEvent:"click_react_to_message",onClick:e,onHoverIn:f,onHoverOut:g,onPressIn:h,preventClosingMenuOnSelect:!0,primaryText:i,ref:a})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2RemoveMenuItem.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSDeleteMessageStoredProcedure","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWMessageDeliveryStatus","MWPActor.react","MWV2LogMessageClick","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","gkx","isDeliveryStatusErrorState","mwCMIsAnyCMThread","promiseDone","react","react-compiler-runtime","useGetMediaGroupInformation","useHandleRemoveLocalMessage","useIsSecureMessage","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useRef,p=c("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2RemoveMenuItem.react");function a(a){var b=d("react-compiler-runtime").c(59),e=a.canRemoveMessageGlobally,g=a.canRemoveMessageLocally,l=a.learnMoreOnMessageRemove,q=a.message,r=a.onRemoveMessageLogger,s=a.threadType;a=a.title;var t=(i||(i=c("useReStore")))(),u=q.messageId,v=q.threadKey,w;b[0]!==s?(w={fallbackThreadType:s},b[0]=s,b[1]=w):w=b[1];w=c("useIsSecureMessage")(t,q,w);w=c("useGetMediaGroupInformation")(q,w);var x;b[2]!==q.sendStatusV2||b[3]!==s?(x=c("mwCMIsAnyCMThread")(s)&&(j||(j=d("I64"))).equal(q.sendStatusV2,(k||(k=d("LSIntEnum"))).ofNumber(4)),b[2]=q.sendStatusV2,b[3]=s,b[4]=x):x=b[4];var y=x,z;b[5]!==t||b[6]!==u||b[7]!==v?(x=function(){c("promiseDone")(t.runInTransaction(function(a){return c("LSDeleteMessageStoredProcedure")(c("LSFactory")(a),{messageId:u,threadKey:v})},"readwrite",void 0,void 0,f.id+":80"))},z=[t,v,u],b[5]=t,b[6]=u,b[7]=v,b[8]=x,b[9]=z):(x=b[8],z=b[9]);var A=d("Int64Hooks").useCallbackInt64(x,z);x=o(null);z=d("MWPActor.react").useActor();var B;b[10]!==z||b[11]!==q.senderId?(B=(j||(j=d("I64"))).equal(q.senderId,z),b[10]=z,b[11]=q.senderId,b[12]=B):B=b[12];var C=B;z=C&&e;b[13]!==l||b[14]!==q||b[15]!==a?(B={learnMoreOnMessageRemove:l,message:q,title:a},b[13]=l,b[14]=q,b[15]=a,b[16]=B):B=b[16];var D=B;b[17]!==e||b[18]!==g||b[19]!==l||b[20]!==q||b[21]!==r||b[22]!==s||b[23]!==a?(B={canRemoveMessageGlobally:e,canRemoveMessageLocally:g,learnMoreOnMessageRemove:l,message:q,removeLogger:r,threadType:s,title:a},b[17]=e,b[18]=g,b[19]=l,b[20]=q,b[21]=r,b[22]=s,b[23]=a,b[24]=B):B=b[24];var E=B,F=c("MessengerWebUXLogger").useInteractionLogger();e=n(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var G=e.setLoggingData;b[25]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[25]=g):g=b[25];l=c("useMWXEntryPointDialog")(c("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),g);var H=l[0];a=c("useMWXLazyDialog")(p);var I=a[0],J=c("useHandleRemoveLocalMessage")(s,q,r);b[26]!==E||b[27]!==D||b[28]!==C||b[29]!==q.isUnsent||b[30]!==q.sendStatusV2||b[31]!==J||b[32]!==I||b[33]!==H||b[34]!==s?(B=function(a){if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(q.sendStatusV2))){J(a);return}d("MWCMThreadTypes.react").isJoinedCMThread(s)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(s)||C&&!c("gkx")("24140")&&!q.isUnsent||d("LSMessagingThreadTypeUtil").isCMSubthread(s)?H(D):I(E)},b[26]=E,b[27]=D,b[28]=C,b[29]=q.isUnsent,b[30]=q.sendStatusV2,b[31]=J,b[32]=I,b[33]=H,b[34]=s,b[35]=B):B=b[35];var K=B;b[36]!==t||b[37]!==A||b[38]!==y||b[39]!==C||b[40]!==F||b[41]!==q||b[42]!==K||b[43]!==G||b[44]!==v||b[45]!==s?(e=function(){var a={extraData:{actor_type:C?"sender":"receiver"},flowInstanceId:c("uuidv4")(),threadKey:v,threadType:s};F==null?void 0:F(babelHelpers["extends"]({},a,{eventName:"message_remove_attempt"}));G(a);d("MWV2LogMessageClick").log(t,q,45);return q.subscriptErrorMessage!=null&&y?A():K(a)},b[36]=t,b[37]=A,b[38]=y,b[39]=C,b[40]=F,b[41]=q,b[42]=K,b[43]=G,b[44]=v,b[45]=s,b[46]=e):e=b[46];g=e;b[47]!==z?(l=z?h._(/*BTDS*/"Unsend message"):h._(/*BTDS*/"Remove Message"),b[47]=z,b[48]=l):l=b[48];b[49]!==z?(a=z?h._(/*BTDS*/"Unsend"):h._(/*BTDS*/"Remove"),b[49]=z,b[50]=a):a=b[50];b[51]!==C||b[52]!==w?(r=w!=null&&((w==null?void 0:w.hasMissingMessages)||(w==null?void 0:w.hasMissingMedia))?C?h._(/*BTDS*/"Images that failed to load won't be unsent"):h._(/*BTDS*/"Images that failed to load won't be removed"):void 0,b[51]=C,b[52]=w,b[53]=r):r=b[53];b[54]!==g||b[55]!==l||b[56]!==a||b[57]!==r?(B=m.jsx(c("MWXMenuItem.react"),{"aria-label":l,onClick:g,primaryText:a,ref:x,secondaryText:r,testid:void 0}),b[54]=g,b[55]=l,b[56]=a,b[57]=r,b[58]=B):B=b[58];return B}g["default"]=a}),226);
__d("MWV2ReplyMenuItem.react",["fbt","MWPReplyContext.react","MWXMenuItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(8),e=a.message;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Reply"),b[0]=a):a=b[0];a=a;var f=k(d("MWPReplyContext.react").MWPReplyContext),g=f.setReply;b[1]!==e.messageId||b[2]!==e.offlineThreadingId||b[3]!==e.sendStatusV2||b[4]!==e.threadKey||b[5]!==e.timestampMs||b[6]!==g?(f=j.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:function(){return g({messageId:e.messageId,offlineThreadingId:e.offlineThreadingId,sendStatusV2:e.sendStatusV2,threadKey:e.threadKey,timestampMs:e.timestampMs},e.threadKey)},primaryText:a,testid:void 0}),b[1]=e.messageId,b[2]=e.offlineThreadingId,b[3]=e.sendStatusV2,b[4]=e.threadKey,b[5]=e.timestampMs,b[6]=g,b[7]=f):f=b[7];return f}g["default"]=a}),226);
__d("useReStoreIfAvailable",["useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=c("useReStore")))()}g["default"]=a}),98);
__d("useMWV2ReportMessage.react",["fbt","I64","LSFactory","LSIntEnum","LSInternetConnectionState","LSReportMessageInCommunityChannelStoredProcedure","ReQL","promiseDone","react","react-compiler-runtime","useMWXConfirmationDialog","useMWXPushToast","useReStoreIfAvailable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;(i||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(10),f=c("useReStoreIfAvailable")(),g=c("useMWXConfirmationDialog")(),i;e[0]!==a?(i=(j||(j=d("I64"))).isI64(a)?a:(j||(j=d("I64"))).of_string(a),e[0]=a,e[1]=i):i=e[1];var l=i,m=c("useMWXPushToast")();e[2]!==f||e[3]!==l||e[4]!==b||e[5]!==m?(a=function(){if(f==null)return;c("promiseDone")(async function(){await f.runInTransaction(function(a){return c("LSReportMessageInCommunityChannelStoredProcedure")(c("LSFactory")(a),{messageId:b,threadKey:l})},"readwrite");var a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.connectivity_status));a!=null&&(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))&&m({body:h._(/*BTDS*/"You've reported a message to the group admins.")})}())},e[2]=f,e[3]=l,e[4]=b,e[5]=m,e[6]=a):a=e[6];var n=a;e[7]!==n||e[8]!==g?(i=function(){return g({body:h._(/*BTDS*/"If you report this message, it will be sent to group admins for review."),confirm:h._(/*BTDS*/"Report"),title:h._(/*BTDS*/"Report message to group admins?")},n)},e[7]=n,e[8]=g,e[9]=i):i=e[9];a=i;return a}g.default=a}),226);
__d("MWV2ReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","MWXMenuItem.react","gkx","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWV2ReportMessage.react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isSubthread;a=a.message;e=e===void 0?!1:e;var f=c("useMWLSMessageReportingToken")(a.messageId,a.threadKey);e=e?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details";var g;b[0]!==f||b[1]!==e?(g={entryPoint:"groups_report_long_press_to_admin",id:f,location:e},b[0]=f,b[1]=e,b[2]=g):g=b[2];f=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),g);var i=f[0];e=c("useMWV2ReportMessage.react")(a.threadKey,a.messageId);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Report to Group Admins"),b[3]=g):g=b[3];f=g;a=c("gkx")("24042");b[4]!==e||b[5]!==i?(g=a?function(){return i({})}:e,b[4]=e,b[5]=i,b[6]=g):g=b[6];b[7]!==g?(a=j.jsx(c("MWXMenuItem.react"),{"aria-label":f,onClick:g,primaryText:f,testid:void 0}),b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),226);
__d("MWV2ReportMessageToFBMenuItem.react",["CometFRX.entrypoint","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.icon,f=a.isSubthread,g=a.menuItemLabel,h=a.messageId,j=a.onReportLogger;a=a.threadKey;f=f===void 0?!1:f;h=c("useMWLSMessageReportingToken")(h,a);a=f?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details";b[0]!==h||b[1]!==a?(f={entryPoint:"report_long_press",id:h,location:a},b[0]=h,b[1]=a,b[2]=f):f=b[2];h=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[3]=a):a=b[3];var k=a;f=h;a=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),f);var l=a[0];b[4]!==l?(h=function(){return l(k)},b[4]=l,b[5]=h):h=b[5];var m=h;b[6]!==j||b[7]!==m?(f=function(){j&&j(),m()},b[6]=j,b[7]=m,b[8]=f):f=b[8];b[9]!==e||b[10]!==g||b[11]!==f?(a=i.jsx(c("MWXMenuItem.react"),{"aria-label":g,icon:e,onClick:f,primaryText:g}),b[9]=e,b[10]=g,b[11]=f,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("getIsMessageTimeBelowEditThreshold",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_int32(15*60);function a(a,b){a=(h||(h=d("I64"))).div(a,h.of_int32(1e3));b=h.div(b,h.of_int32(1e3));a=h.sub(a,b);return h.lt(a,i)}g.MAX_EDIT_TIME_PERIOD_IN_SECONDS=i;g.getIsMessageTimeBelowEditThreshold=a}),98);
__d("useMWPCanUserEditMessage",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactTypeExact","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWMessageDeliveryStatus","MWPActor.react","ReQL","ReQLSuspense","URLMatcher","getIsMessageTimeBelowEditThreshold","gkx","isDeliveryStatusErrorState","isMWBumpMessage","isStringNullOrEmpty","mwCMIsAnyCMThread","mwCMIsCMSubthread","react-compiler-runtime","useMWGetOtherUserContact","useMWIsContactRestricted","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=5;function a(a,b,e){var g,m,n=d("react-compiler-runtime").c(42),o=d("MWPActor.react").useActor(),p=(j||(j=c("useReStore")))(),q;n[0]!==p.tables.attachments||n[1]!==a.messageId||n[2]!==a.threadKey?(q=function(){return d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(a.threadKey,a.messageId)},n[0]=p.tables.attachments,n[1]=a.messageId,n[2]=a.threadKey,n[3]=q):q=n[3];var r;n[4]!==p||n[5]!==a.messageId||n[6]!==a.threadKey?(r=[p,a.messageId,a.threadKey],n[4]=p,n[5]=a.messageId,n[6]=a.threadKey,n[7]=r):r=n[7];q=d("ReQLSuspense").useFirst(q,r,f.id+":68");n[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=["contactTypeExact"].concat(d("LSContactBitOffset").contactCapabilityFields),n[8]=r):r=n[8];r=c("useMWGetOtherUserContact")(a.threadKey,b.threadType,r);var s;n[9]!==r?(s=r!=null&&(h||(h=d("I64"))).equal(r.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_KID)),n[9]=r,n[10]=s):s=n[10];s=s;r=c("useMWIsContactRestricted")(r);e=d("MAWThreadCutover").useIsCutoverOpenThread(e);var t=c("useServerTime")();if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(a.sendStatusV2)))return!1;if(b==null)return!1;g=(h||(h=d("I64"))).to_int32((g=a.editCount)!=null?g:(h||(h=d("I64"))).zero)<k;var u;n[11]!==a.timestampMs||n[12]!==t?(u=d("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((h||(h=d("I64"))).of_float(t.getTime()),a.timestampMs),n[11]=a.timestampMs,n[12]=t,n[13]=u):u=n[13];t=u;n[14]!==o||n[15]!==a.senderId?(u=(h||(h=d("I64"))).equal(a.senderId,o),n[14]=o,n[15]=a.senderId,n[16]=u):u=n[16];o=u;u=(u=a.isForwarded)!=null?u:!1;var v=a.text!=null&&a.text!=="",w=a.text!=null&&c("URLMatcher").match(a.text)!=null;m=(m=a.hotEmojiSize)!=null?m:(h||(h=d("I64"))).zero;var x;n[17]!==m?(x=(h||(h=d("I64"))).equal(m,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE)),n[17]=m,n[18]=x):x=n[18];m=x;if(n[19]!==(q==null?void 0:q.hasXma)||n[20]!==a.mentionIds){x=((x=q==null?void 0:q.hasXma)!=null?x:!1)||!c("isStringNullOrEmpty")(a.mentionIds);n[19]=q==null?void 0:q.hasXma;n[20]=a.mentionIds;n[21]=x}else x=n[21];q=x;n[22]!==a.authorityLevel||n[23]!==a.isUnsent?(x=a.isUnsent===!1&&(h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),n[22]=a.authorityLevel,n[23]=a.isUnsent,n[24]=x):x=n[24];x=x;var y;n[25]!==a.replyType?(y=c("isMWBumpMessage")(a.replyType),n[25]=a.replyType,n[26]=y):y=n[26];y=y;var z;n[27]!==q||n[28]!==x||n[29]!==g||n[30]!==t||n[31]!==y||n[32]!==e||n[33]!==u||n[34]!==s||n[35]!==r||n[36]!==o||n[37]!==w||n[38]!==v||n[39]!==m||n[40]!==b?(z=g&&t&&o&&v&&!w&&m&&!u&&!e&&!q&&x&&!r&&!y&&!s&&l(b),n[27]=q,n[28]=x,n[29]=g,n[30]=t,n[31]=y,n[32]=e,n[33]=u,n[34]=s,n[35]=r,n[36]=o,n[37]=w,n[38]=v,n[39]=m,n[40]=b,n[41]=z):z=n[41];return z}function l(a){var b=a.threadType;if(d("LSMessagingThreadTypeUtil").isWorkThread(a.threadSubtype))return!1;if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(b))return!0;if(d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(b))return!0;if(c("mwCMIsAnyCMThread")(b)||c("mwCMIsCMSubthread")(b))return d("LSThreadBitOffset").has(194,a)&&c("gkx")("7675");return d("LSMessagingThreadTypeUtil").isOpenFnFThread(a)?!0:!1}g["default"]=a}),98);
__d("MWV2ContextualActionsMenu.react",["fbt","BusinessMessageNegativeFeedbackMenuItem.react","BusinessMessagePositiveFeedbackMenuItem.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWEditMenuItem.react","MWBroadcastChannelLoggingShapes","MWCMCreateSubthreadMenuItem.react","MWChatMessageBothOrientationFocusGroup.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWLogBroadcastChannelFalcoEvent","MWPThreadCapabilitiesContext","MWPinMessageMenuItem.react","MWV2ForwardMenuItem.react","MWV2GlobalReportMessageMenuItem.react","MWV2MessageReactionMenuItem.react","MWV2RemoveMenuItem.react","MWV2ReplyMenuItem.react","MWV2ReportMessageMenuItem.react","MWV2ReportMessageToFBMenuItem.react","MWXMenu.react","MWXPopover.react","MessagingAttachmentType","MessagingThreadSubtype","WebUXLoggingSurfaceContextProvider","cr:1111","cr:1200","cr:14125","cr:21359","cr:2243","cr:4140","cr:5790","cr:6644","cr:6934","focusScopeQueries","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPCanUserEditMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var e=d("react-compiler-runtime").c(112),f=a.attachment,g=a.canRemoveMessageGlobally,i=a.canRemoveMessageLocally,m=a.containerThreadKey,n=a.extraActions,o=a.isOutgoing,p=a.learnMoreOnMessageRemove,q=a.message,r=a.onClose,s=a.onRemoveMessageLogger,t=a.removeMessageDialogTitle,u=a.showBumpActionInContextualMenu,v=a.showBusinessMessageFeedbackOptionsInContextualMenu,w=a.showCreateSubthread,x=a.showFeedbackOptionsInContextualMenu,y=a.showForwardActionInContextualMenu,z=a.showPinMessageActionInContextualMenu,A=a.showReactionInContextualMenu,B=a.showReplyActionInContextualMenu,C=a.showReportCommunityMessageToAdmin,D=a.showReportCommunityMessageToFacebook,E=a.showReportMessageToFacebook,F=a.showUnsendInContextualMenu,G=a.thread;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("24098")&&a;var H;e[0]!==f?(H=f!=null?(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):!1,e[0]=f,e[1]=H):H=e[1];H=H;var I;e[2]!==f?(I=f!=null?(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):!1,e[2]=f,e[3]=I):I=e[3];I=I;a=a&&(H||I);var J=c("useMWEntrypoint")();H=G==null?void 0:G.threadType;I=G==null?void 0:G.threadSubtype;var K=c("useMWFalcoFeatureEventLogger")(q.threadKey,H),L;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(L=h._(/*BTDS*/"More actions"),e[4]=L):L=e[4];L=L;var M;e[5]!==I?(M=I!=null&&(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),e[5]=I,e[6]=M):M=e[6];I=M;M=c("useMWPCanUserEditMessage")(q,G,m);e[7]!==G.threadType?(m=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(G.threadType),e[7]=G.threadType,e[8]=m):m=e[8];var N=m;m=d("MWEncryptedBackupsSharedState").useEBSharedStateEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").VERIFY_KEYS_IN_CHAT_ENABLED);m=m[0];m=m==="true";var O;e[9]!==q||e[10]!==a||e[11]!==B?(O=B&&!a?l.jsx(c("MWV2ReplyMenuItem.react"),{message:q}):null,e[9]=q,e[10]=a,e[11]=B,e[12]=O):O=e[12];e[13]!==q||e[14]!==r||e[15]!==A||e[16]!==H?(a=A?l.jsx(c("MWV2MessageReactionMenuItem.react"),{closeActionsMenu:r,message:q,threadType:H}):null,e[13]=q,e[14]=r,e[15]=A,e[16]=H,e[17]=a):a=e[17];e[18]!==q||e[19]!==M||e[20]!==H?(B=M?l.jsx(c("MAWEditMenuItem.react"),{message:q,threadType:H}):null,e[18]=q,e[19]=M,e[20]=H,e[21]=B):B=e[21];e[22]!==g||e[23]!==i||e[24]!==p||e[25]!==q||e[26]!==s||e[27]!==t||e[28]!==F||e[29]!==H?(r=F?l.jsx(c("MWV2RemoveMenuItem.react"),{canRemoveMessageGlobally:g,canRemoveMessageLocally:i,learnMoreOnMessageRemove:p,message:q,onRemoveMessageLogger:s,threadType:H,title:t}):null,e[22]=g,e[23]=i,e[24]=p,e[25]=q,e[26]=s,e[27]=t,e[28]=F,e[29]=H,e[30]=r):r=e[30];e[31]!==q||e[32]!==y||e[33]!==H?(A=y?l.jsx(c("MWV2ForwardMenuItem.react"),{message:q,threadType:H}):null,e[31]=q,e[32]=y,e[33]=H,e[34]=A):A=e[34];e[35]!==q||e[36]!==u||e[37]!==G.threadKey?(M=u&&b("cr:14125")?l.jsx(b("cr:14125"),{message:q,threadKey:G.threadKey}):null,e[35]=q,e[36]=u,e[37]=G.threadKey,e[38]=M):M=e[38];e[39]!==q||e[40]!==w?(g=w?l.jsx(c("MWCMCreateSubthreadMenuItem.react"),{message:q}):null,e[39]=q,e[40]=w,e[41]=g):g=e[41];e[42]!==J||e[43]!==N||e[44]!==K||e[45]!==q||e[46]!==z||e[47]!==G.threadKey?(i=z?l.jsx(c("MWPinMessageMenuItem.react"),{message:q,onClick:function(a){if(N){a=a?d("MWBroadcastChannelLoggingShapes").UNPIN_MESSAGE:d("MWBroadcastChannelLoggingShapes").PIN_MESSAGE;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},a,{threadFbid:G.threadKey}))}},onPinCompleted:function(){K(J,"pin_message")}}):null,e[42]=J,e[43]=N,e[44]=K,e[45]=q,e[46]=z,e[47]=G.threadKey,e[48]=i):i=e[48];e[49]!==q||e[50]!==C?(p=C?l.jsx(c("MWV2ReportMessageMenuItem.react"),{message:q}):null,e[49]=q,e[50]=C,e[51]=p):p=e[51];e[52]!==q.messageId||e[53]!==q.threadKey||e[54]!==D||e[55]!==H?(s=D?l.jsx(c("MWV2ReportMessageToFBMenuItem.react"),{isSubthread:d("LSMessagingThreadTypeUtil").isCMSubthread(H),menuItemLabel:h._(/*BTDS*/"Report"),messageId:q.messageId,threadKey:q.threadKey}):null,e[52]=q.messageId,e[53]=q.threadKey,e[54]=D,e[55]=H,e[56]=s):s=e[56];e[57]!==q.messageId||e[58]!==q.threadKey||e[59]!==E||e[60]!==H?(t=E?l.jsx(c("MWV2GlobalReportMessageMenuItem.react"),{messageId:q.messageId,threadKey:q.threadKey,threadType:H}):null,e[57]=q.messageId,e[58]=q.threadKey,e[59]=E,e[60]=H,e[61]=t):t=e[61];e[62]!==m||e[63]!==q?(F=m&&b("cr:21359")!=null?l.jsx(b("cr:21359"),{_message:q}):null,e[62]=m,e[63]=q,e[64]=F):F=e[64];e[65]!==q?(y=b("cr:5790")?l.jsx(b("cr:5790"),{message:q}):null,e[65]=q,e[66]=y):y=e[66];e[67]!==N||e[68]!==o||e[69]!==q?(u=b("cr:6934")!=null&&N&&!o&&l.jsx(b("cr:6934"),{message:q}),e[67]=N,e[68]=o,e[69]=q,e[70]=u):u=e[70];e[71]!==o||e[72]!==I||e[73]!==q?(w=b("cr:2243")!=null&&!o&&I&&l.jsx(b("cr:2243"),{message:q}),e[71]=o,e[72]=I,e[73]=q,e[74]=w):w=e[74];e[75]!==q||e[76]!==x?(z=b("cr:1200")!=null&&x&&l.jsx(b("cr:1200"),{message:q}),e[75]=q,e[76]=x,e[77]=z):z=e[77];e[78]!==q||e[79]!==x?(C=b("cr:1111")!=null&&x&&l.jsx(b("cr:1111"),{message:q}),e[78]=q,e[79]=x,e[80]=C):C=e[80];e[81]!==q||e[82]!==v?(D=c("BusinessMessagePositiveFeedbackMenuItem.react")!=null&&v&&l.jsx(c("BusinessMessagePositiveFeedbackMenuItem.react"),{message:q}),e[81]=q,e[82]=v,e[83]=D):D=e[83];e[84]!==q||e[85]!==v?(E=c("BusinessMessageNegativeFeedbackMenuItem.react")!=null&&v&&l.jsx(c("BusinessMessageNegativeFeedbackMenuItem.react"),{message:q}),e[84]=q,e[85]=v,e[86]=E):E=e[86];e[87]!==f||e[88]!==q?(H=b("cr:4140")?l.jsxs(l.Fragment,{children:[b("cr:6644")&&l.jsx(b("cr:6644"),{}),l.jsx(b("cr:4140"),{attachment:f,message:q})]}):null,e[87]=f,e[88]=q,e[89]=H):H=e[89];e[90]!==n||e[91]!==A||e[92]!==M||e[93]!==g||e[94]!==i||e[95]!==p||e[96]!==s||e[97]!==t||e[98]!==F||e[99]!==y||e[100]!==u||e[101]!==w||e[102]!==z||e[103]!==C||e[104]!==D||e[105]!==E||e[106]!==H||e[107]!==O||e[108]!==a||e[109]!==B||e[110]!==r?(m=l.jsx(c("MWXPopover.react"),{role:"menu",withArrow:!0,children:l.jsx(d("MWChatMessageBothOrientationFocusGroup.react").keyCommands,{children:l.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("MWXMenu.react"),{"aria-label":L,size:"full",truncate:!0,children:l.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_view_message_options",children:[O,a,B,r,A,M,g,i,p,s,t,F,y,u,w,z,C,D,E,n,H]})})})})}),e[90]=n,e[91]=A,e[92]=M,e[93]=g,e[94]=i,e[95]=p,e[96]=s,e[97]=t,e[98]=F,e[99]=y,e[100]=u,e[101]=w,e[102]=z,e[103]=C,e[104]=D,e[105]=E,e[106]=H,e[107]=O,e[108]=a,e[109]=B,e[110]=r,e[111]=m):m=e[111];return m}g["default"]=a}),226);
__d("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder",selections:[{alias:"fbGroupId",args:null,kind:"ScalarField",name:"fb_group_id",storageKey:null}],type:"LS_CommunityFolder",abstractKey:null};e.exports=a}),null);
__d("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","LSRelayHooks","MWChatComposerMentionsViewItem.react","MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder.graphql","messengerMentionsLexicalCreateNodeStrategy","pageID","promiseDone","react","react-compiler-runtime","useCometTypeaheadViewListStrategy","useCommunityMembers","useMWCMMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect,l={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(8),f=a.communityFolder$key,g=a.editor;a=a.threadKey;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,f);f=i.fbGroupId;i=c("useMWCMMentionsDataSourceResolverConfig")(f,a);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(f={viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:l.view},e[1]=f):f=e[1];a=c("useCometTypeaheadViewListStrategy")(f);var m=d("useCommunityMembers").useClearMemberList(8);e[2]!==m?(f=function(){return function(){return c("promiseDone")(m(c("pageID")))}},e[2]=m,e[3]=f):f=e[3];k(f,void 0);e[4]!==i||e[5]!==g||e[6]!==a?(f=j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:i,editor:g,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:a}),e[4]=i,e[5]=g,e[6]=a,e[7]=f):f=e[7];return f}g["default"]=a}),98);
__d("MWXRelayComposerMentionsPlugin_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWXRelayComposerMentionsPlugin_thread",selections:[{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"hasMentionsCapability",args:[{kind:"Literal",name:"capability",value:"MENTIONS"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"MENTIONS")'},{alias:"isAiBotSummoningEnabled",args:[{kind:"Literal",name:"capability",value:"AI_BOT_SUMMONING"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"AI_BOT_SUMMONING")'},{args:null,kind:"FragmentSpread",name:"MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread",selections:[{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical__communityFolder"}],storageKey:null},{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"parentThreadKey",args:null,kind:"ScalarField",name:"parent_thread_key",storageKey:null},{alias:"isSecure",args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},{alias:"otherParticipants",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participants_MAY_CAUSE_OVERFETCHING",plural:!0,selections:[{alias:"contactId",args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:"isAdmin",args:null,kind:"ScalarField",name:"is_admin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"profilePictureFallbackUrl",args:null,kind:"ScalarField",name:"profile_picture_fallback_url",storageKey:null},{alias:"profilePictureUrl",args:null,kind:"ScalarField",name:"profile_picture_url",storageKey:null},{alias:"blockedByViewerStatus",args:null,kind:"ScalarField",name:"blocked_by_viewer_status",storageKey:null},{alias:"profilePictureUrlExpirationTimestampMs",args:null,kind:"ScalarField",name:"profile_picture_url_expiration_timestamp_ms",storageKey:null},{alias:"secondaryName",args:null,kind:"ScalarField",name:"secondary_name",storageKey:null},{alias:"workJobTitle",args:null,kind:"ScalarField",name:"work_job_title",storageKey:null},{alias:"workForeignEntityInfo",args:null,kind:"ScalarField",name:"work_foreign_entity_type",storageKey:null},{alias:"contactTypeExact",args:null,kind:"ScalarField",name:"contact_type_exact",storageKey:null}],storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","LSRelayHooks","MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","MWCMThreadTypes.react","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MWChatComposerTypeaheadUtil","MWLSContactTypeExactUtils","MWWorkForeignEntityTypeUtils","MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical.react","MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread.graphql","MessengerWebUXLogger","cr:4183","err","getLSMediaContactProfilePictureUrl","messengerMentionsLexicalCreateNodeStrategy","messengerSecureMentionsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometTypeaheadSectionedViewListStrategy","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));f=i;f.useCallback;f.useMemo;function a(a){return l}function l(a,b){}var m=(f=b("cr:4183"))!=null?f:a,n={view:{minWidth:"x1jzhcrs",$$css:!0}};function e(a){var e=d("react-compiler-runtime").c(30),f=a.editor,g=a.isAiBotMentionsEnabled;a=a.thread$key;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical_thread.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,a);a=i.folder;var l=i.isSecure,q=i.otherParticipants,r=i.parentThreadKey,s=i.threadKey;i=i.threadType;d("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(f,s,g);var t=d("LSMessagingThreadTypeUtil").isCMSubthread(i);t=t?r:s;r=m(t);var u;e[1]!==q?(u=new Map(q==null?void 0:q.filter(p).map(o)),e[1]=q,e[2]=u):u=e[2];e[3]!==t?(q=(j||(j=d("I64"))).to_string(t),e[3]=t,e[4]=q):q=e[4];var v;e[5]!==g||e[6]!==u||e[7]!==q||e[8]!==r?(v={isAiBotMentionsEnabled:g,participants:u,threadFBID:q,triggerParticipantsSearch:r},e[5]=g,e[6]=u,e[7]=q,e[8]=r,e[9]=v):v=e[9];g=v;u=g;q=c("useMWChatMentionsDataSourceResolverConfig")(u);e[10]===Symbol["for"]("react.memo_cache_sentinel")?(r={viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:n.view},e[10]=r):r=e[10];v=c("useCometTypeaheadSectionedViewListStrategy")(r);var w=c("MessengerWebUXLogger").useInteractionLogger();e[11]!==l||e[12]!==w?(g=function(a){if(l===!0&&w!=null){a=a.handle!=null?d("MWChatComposerTypeaheadUtil").commandToRangeType(a.handle):null;bb74:switch(a){case"t":w({eventName:"mentions_everyone_selected"});break bb74;case"p":w({eventName:"mentions_recipient_selected"});break bb74;default:}}return{shouldMentionSelectedEntry:!0}},e[11]=l,e[12]=w,e[13]=g):g=e[13];u=g;if(c("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical.react")!=null&&d("MWCMThreadTypes.react").isJoinedCMThread(i)&&a){e[14]!==f||e[15]!==a||e[16]!==t?(r=k.jsx(c("MWXRelayCMComposerMentionsPluginCreatorWithTypeaheadViewForLexical.react"),{communityFolder$key:a,editor:f,threadKey:t}),e[14]=f,e[15]=a,e[16]=t,e[17]=r):r=e[17];return r}if(c("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react")!=null&&d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(i)){e[18]!==t?(g=(j||(j=d("I64"))).to_string(t),e[18]=t,e[19]=g):g=e[19];e[20]!==f||e[21]!==g||e[22]!==s?(a=k.jsx(c("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:f,folderId:s,threadFBID:g}),e[20]=f,e[21]=g,e[22]=s,e[23]=a):a=e[23];return a}r=l?c("messengerSecureMentionsLexicalCreateNodeStrategy"):c("messengerMentionsLexicalCreateNodeStrategy");e[24]!==q||e[25]!==f||e[26]!==u||e[27]!==r||e[28]!==v?(i=k.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:r,dataSourceResolverConfig:q,editor:f,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),mentionsHandlerForSelectedEntry:u,position:"above",viewStrategyRenderer:v}),e[24]=q,e[25]=f,e[26]=u,e[27]=r,e[28]=v,e[29]=i):i=e[29];return i}function o(a){var b,e=a.contact;if(e==null)throw c("err")("Unreachable code: missing contact");return[(j||(j=d("I64"))).to_string(a.contactId),{actualName:e.name,blockedByViewerStatus:e.blockedByViewerStatus,contactId:j.to_string(a.contactId),isAdmin:(b=a.isAdmin)!=null?b:!1,isContact:!0,jobTitle:(b=(b=a.contact)==null?void 0:b.workJobTitle)!=null?b:void 0,name:e.name,nickname:(b=a.nickname)!=null?b:void 0,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")({profilePictureFallbackUrl:(a=e.profilePictureFallbackUrl)!=null?a:void 0,profilePictureUrl:e.profilePictureUrl,profilePictureUrlExpirationTimestampMs:(b=e.profilePictureUrlExpirationTimestampMs)!=null?b:void 0}),secondaryName:d("MWLSContactTypeExactUtils").isIgContact(e.contactTypeExact)?(a=e.secondaryName)!=null?a:void 0:void 0,workForeignEntityInfo:e.workForeignEntityInfo?d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(e.workForeignEntityInfo):"NOT_FOREIGN"}]}function p(a){return(a==null?void 0:a.contact)!=null}g["default"]=e}),98);
__d("MWXRelayComposerMentionsPlugin.react",["LSMessagingThreadTypeUtil","LSRelayHooks","MWXRelayComposerMentionsPlugin_thread.graphql","MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical.react","MessengerMSplitFlag","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(5),f=a.editor;a=a.thread$key;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("MWXRelayComposerMentionsPlugin_thread.graphql"),e[0]=g):g=e[0];g=d("LSRelayHooks").useFragment(g,a);a=g.hasMentionsCapability;var i=g.isAiBotSummoningEnabled,k=g.threadType;a=a&&d("LSMessagingThreadTypeUtil").isGroup(k);if(!a)return null;k=c("gkx")("23426")&&i&&!c("MessengerMSplitFlag").is_msplit_account;e[1]!==f||e[2]!==k||e[3]!==g?(a=j.jsx(c("MWXRelayComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:f,isAiBotMentionsEnabled:k,thread$key:g}),e[1]=f,e[2]=k,e[3]=g,e[4]=a):a=e[4];return a}g["default"]=a}),98);
__d("MessageThreadEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5034");b=d("FalcoLoggerInternal").create("message_thread_events",a);e=b;g["default"]=e}),98);
__d("MessengerGroupCreationEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6706");b=d("FalcoLoggerInternal").create("messenger_group_creation_events",a);e=b;g["default"]=e}),98);
__d("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5396");b=d("FalcoLoggerInternal").create("mwb_group_blockee_messages_tap_to_reveal_action",a);e=b;g["default"]=e}),98);
__d("MwbHighlyForwardedIndicatorImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1323");b=d("FalcoLoggerInternal").create("mwb_highly_forwarded_indicator_impression",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("BizInboxUnifiedThreadsQuery.graphql",["relay-runtime"],(function(aa,ba,ca,da,ea,fa){"use strict";aa=function(){var aa={defaultValue:null,kind:"LocalArgument",name:"before"},ba={defaultValue:[],kind:"LocalArgument",name:"businessAssets"},ca={defaultValue:!1,kind:"LocalArgument",name:"getShouldUnifyConfigQueries"},da={defaultValue:480,kind:"LocalArgument",name:"height"},ea={defaultValue:null,kind:"LocalArgument",name:"ig_params"},fa={defaultValue:!0,kind:"LocalArgument",name:"includeDeliveryReceipts"},ga={defaultValue:!1,kind:"LocalArgument",name:"includeSeqID"},ha={defaultValue:!1,kind:"LocalArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},ia={defaultValue:!1,kind:"LocalArgument",name:"isWorkUser"},ja={defaultValue:!1,kind:"LocalArgument",name:"is_work_teamwork_not_putting_muted_in_unreads"},ka={defaultValue:null,kind:"LocalArgument",name:"item_after"},la={defaultValue:null,kind:"LocalArgument",name:"item_limit"},ma={defaultValue:!1,kind:"LocalArgument",name:"loadThreadItems"},na={defaultValue:!0,kind:"LocalArgument",name:"loadThreads"},oa={defaultValue:!1,kind:"LocalArgument",name:"load_delivery_receipts"},pa={defaultValue:!0,kind:"LocalArgument",name:"load_items"},qa={defaultValue:!0,kind:"LocalArgument",name:"load_messages"},ra={defaultValue:!0,kind:"LocalArgument",name:"load_read_receipts"},sa={defaultValue:null,kind:"LocalArgument",name:"message_limit"},ta={defaultValue:null,kind:"LocalArgument",name:"msgr_params"},ua={defaultValue:null,kind:"LocalArgument",name:"msgr_pending_params"},va={defaultValue:null,kind:"LocalArgument",name:"page_id"},wa={defaultValue:null,kind:"LocalArgument",name:"selected_item_id"},xa={defaultValue:!1,kind:"LocalArgument",name:"should3DContextCardSections"},ya={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipMessage"},za={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipPageQuery"},Aa={defaultValue:!1,kind:"LocalArgument",name:"shouldUnifyContextCardQueries"},Ba={defaultValue:null,kind:"LocalArgument",name:"source"},Ca={defaultValue:!1,kind:"LocalArgument",name:"threadlistViewFieldsOnly"},Da={defaultValue:null,kind:"LocalArgument",name:"wa_params"},Ea={defaultValue:null,kind:"LocalArgument",name:"wa_pending_params"},Fa={defaultValue:480,kind:"LocalArgument",name:"width"},Ga={alias:"unused",args:[{kind:"Variable",name:"string",variableName:"source"}],kind:"ScalarField",name:"xfb_returns_zero_make_parameter_used",storageKey:null},Ha=[{kind:"Variable",name:"ig_params",variableName:"ig_params"},{kind:"Variable",name:"msgr_params",variableName:"msgr_params"},{kind:"Variable",name:"selected_item_id",variableName:"selected_item_id"},{kind:"Variable",name:"wa_params",variableName:"wa_params"}],Ia={alias:null,args:null,kind:"ScalarField",name:"sync_sequence_id",storageKey:null},Ja={condition:"includeSeqID",kind:"Condition",passingValue:!0,selections:[Ia]},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},La={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ka,{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},Ma=[{kind:"Literal",name:"last",value:1}],c={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},d=[a],Na={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},f=[e],Qa={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:f,storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},Sa={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},i=[g,h,Ra,Sa,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}];i={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null};var j={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},k=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],l={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},m=[l],Ta=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};k=[a,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:d,storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:240,width:240)"},n,o,p];var Ua={kind:"InlineFragment",selections:k,type:"Sticker",abstractKey:null},q=[l,o,p],Va={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:null},Wa={kind:"Literal",name:"sizing",value:"contain-fit"},Xa=[Wa],Ya={alias:null,args:Xa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(sizing:"contain-fit")'},r={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ua,Va,Ya,r,Za,s],storageKey:null},$a={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:f,storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},bb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},cb={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[u,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:f,storageKey:null}],storageKey:null},db={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},eb={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},fb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[h,n],storageKey:null},gb={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},hb={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},jb={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},kb={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},lb={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[a,jb,kb,v,lb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},mb={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},nb={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},ob={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},pb={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},qb={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},rb={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},sb={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},tb={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},ub={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},vb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"form_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_num_screens",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"form_first_screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[a,g,h,y,tb,z,ub,{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIBusinessPrivacyObject",kind:"LinkedField",name:"business_privacy",plural:!1,selections:[e,n],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_color_theme",storageKey:null}],type:"MessengerDirectSendCallToActionData",abstractKey:null};y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[a,h,g,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[g,y],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[e,j,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null};var A={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[vb,y],storageKey:null},wb={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},xb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[hb,ib,w,mb,nb,a,ob,pb,qb,rb,sb,x,A,wb,Sa],storageKey:null},yb={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},zb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:m,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:m,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},Ab={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},Bb={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},Cb={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},Db={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},Eb={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},C={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},D={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},E=[a,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},D,n],Fb={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:E,storageKey:null};E={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:E,storageKey:null};var Gb={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};u={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[B,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[u,Gb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null};var Hb={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},Ib={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},Jb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:f,storageKey:null},Kb={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:f,storageKey:null},a,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},tb,h],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},Jb],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null},F={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},Lb={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},G=[F,Lb,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],Mb={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:G,storageKey:null},H=[B,u,Hb,Ib,h,Kb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[C,Fb,E,Mb],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],Nb={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},Ob={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};G={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:G,storageKey:null},Ob],type:"P2PBubbleAmountComponent",abstractKey:null};var I=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},o,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},l,p],Pb={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:I,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null};I={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Ob,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:I,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:I,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},e],type:"P2PBubbleTextComponent",abstractKey:null};var Qb={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null};H={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:H,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Nb,G,Pb,I],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:H,storageKey:null},Ob,Qb,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:H,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};var Rb={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Sb={kind:"InlineFragment",selections:[Rb,n],type:"User",abstractKey:null},Tb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},Ub={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},Vb={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},Wb={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Xb={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},J={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null},Yb=[J],Zb={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:d,storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},$b=[K],ac={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:$b,storageKey:null},bc={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},cc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[Lb],storageKey:null},dc={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},ec=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[a,b,D,Sb],storageKey:null},Tb,Ub,C,Vb,Wb,Xb,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:Yb,storageKey:null},Zb],storageKey:null},ac,bc,L,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,M,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:Yb,storageKey:null},n],storageKey:null},a,N,cc,dc,H];K={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[K,Lb],storageKey:null};var fc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F],storageKey:null},O=[b,a,D,Sb],P={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:O,storageKey:null};O={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:O,storageKey:null};var gc={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},hc={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:d,storageKey:null},Q={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:ec,storageKey:null},ic={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},jc={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null};w=[hb,ib,w,mb,nb,a,ob,pb,qb,rb,sb,x,A];A={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:w,storageKey:null};var kc={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},lc={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},mc={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},nc={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null};w={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:w,storageKey:null};var oc=[a,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],pc={kind:"InlineFragment",selections:oc,type:"MessageImage",abstractKey:null};oc={kind:"InlineFragment",selections:oc,type:"Photo",abstractKey:null};var qc={kind:"Literal",name:"media_type",value:"image/gif"},rc={alias:null,args:[qc],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(media_type:"image/gif")'};qc={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},qc,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'};var sc={kind:"InlineFragment",selections:[rc,qc,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},Wa,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},tc={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[a,b,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:m,storageKey:null}],storageKey:null},uc={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},vc=[o,p,l],wc=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],xc={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:wc,storageKey:null};vc={kind:"InlineFragment",selections:[tc,uc,Ab,s,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},Wa,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},Pa,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},xc,r,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},Wa,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},Wa,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null};var yc={kind:"InlineFragment",selections:[p,o,a,s],type:"Video",abstractKey:null},S=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,M,kc,lb,lc,b,mc,nc,w,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,pc,oc,sc,vc,yc],storageKey:null}],storageKey:null}],zc={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},Ac={alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null},Bc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ComponentFlowLeadGenField",kind:"LinkedField",name:"field_data_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_type",storageKey:null},j,Ac],storageKey:null}],type:"PagesPlatformLeadGenInfo",abstractKey:null},Cc={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},Dc={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},Ec={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},Fc=[Dc,Ec],Gc={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},Cc,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:Fc,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[Dc,Ec,j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},Hc={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:d,storageKey:null},Ic={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},Jc={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},Kc={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},Lc=[s,n,J],Mc={kind:"InlineFragment",selections:Lc,type:"MessageVideo",abstractKey:null};Lc={kind:"InlineFragment",selections:Lc,type:"MessageImage",abstractKey:null};var Nc={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},Oc={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},Pc={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},Qc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,Pc,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},Sc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null},Tc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},Uc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},Vc={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Wc={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Xc={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Yc={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Zc=[a,b,D],$c={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Zc,storageKey:null},ad={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},bd={alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},cd=[ad,bd],dd={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:cd,storageKey:null},ed={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},fd={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},gd=[{kind:"Literal",name:"first",value:1}],hd={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"cover-fill-cropped")'},id={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},jd={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},kd={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},ld={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},md={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},nd={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},od={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},pd={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},qd={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:d,storageKey:null},rd={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,Rb,D],storageKey:null},sd={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},Gb,j],storageKey:null},td={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},ud={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},vd={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:d,storageKey:null},wd={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"consumer",plural:!1,selections:d,storageKey:null},xd={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"formatted_available_time_ranges",plural:!0,selections:cd,storageKey:null},yd={alias:null,args:null,kind:"ScalarField",name:"has_booking_request_created",storageKey:null},zd={alias:null,args:null,kind:"ScalarField",name:"cta_click_events",storageKey:null},Ad={alias:null,args:null,kind:"ScalarField",name:"cta_texts",storageKey:null},Bd={alias:null,args:null,concreteType:"ServicesWWWURL",kind:"LinkedField",name:"www_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_async",storageKey:null},l],storageKey:null},Cd={alias:null,args:null,kind:"ScalarField",name:"render_template",storageKey:null},Dd={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},Ed={alias:null,args:null,kind:"ScalarField",name:"visible_on_platforms",storageKey:null},Fd=[a,b],Gd=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:Fd,storageKey:null}],Hd={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},Id={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},Jd={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},Kd={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},Ld=[b],Md={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:f,storageKey:null},Nd={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},Od={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},Pd={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},Qd={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(width:300)"},Rd={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},Sd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},Td={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},Ud={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},Vd={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Wd={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},Xd={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},Yd={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},Zd={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},$d={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},ae={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},be={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},ce={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:d,storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},fe={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},ge={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},he={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:f,storageKey:null},ie={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:f,storageKey:null},T=[l,p,o],je={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},ve={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},we={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},xe={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[te,ue,U,ve,we],storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},Ae={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},Ce={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},Ee={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},Fe={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:m,storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},He={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},Ie={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:f,storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},Ke={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:f,storageKey:null};F=[F,Lb];Lb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:F,storageKey:null};var Le={alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:m,storageKey:"images(height:120,width:120)"},Me={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null};Ta={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[Jb,Ke,{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:120,width:120)"}],storageKey:null};var Ne=[we,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}],Oe={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:Ne,storageKey:null},Pe={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:Ne,storageKey:null};Ne={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:Ne,storageKey:null};var Qe={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},Re={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null};F={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:F,storageKey:null};var Se={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},Te={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[md],storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},We={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},Ye={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:f,storageKey:null},Ze={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:f,storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null};Xa={alias:null,args:Xa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"contain-fit")'};var af={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Xa],storageKey:null},bf={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},cf={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null};Wa={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:720},Wa,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null};var df={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:Fc,storageKey:null};Gb={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[Gb],storageKey:null};var ef={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},ff={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},gf={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},hf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},ff,gf],type:"MessengerEventReminder",abstractKey:null},jf={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},kf={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},lf={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},mf={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null};U=[U,ue,ve,Ec,Dc,we,te,mf];ve={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:U,storageKey:null};Ec={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:U,storageKey:null};Dc={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ud,Vd,Wd,Xd,kc,lc,Yd,Zd,A],storageKey:null}],storageKey:null};te={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null};var nf=[p,o,l],of={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:nf,storageKey:null},pf={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,te,of],storageKey:null};U={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:U,storageKey:null};var qf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,U],storageKey:null}],storageKey:null},rf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},sf={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},tf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null};te={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,te,of,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:f,storageKey:null}],storageKey:null};of={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,sf,U],storageKey:null}],storageKey:null};var uf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:T,storageKey:null},vf={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},wf={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Fd,storageKey:null};Ac={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[j,b,Ac],storageKey:null};var xf=[e,g];xf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_has_admin_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_sticker_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"templated_message_buttons",plural:!0,selections:xf,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_has_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_expiration_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_is_offer_code_personalized",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageCardShape",kind:"LinkedField",name:"templated_message_cards",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sample_handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"button",plural:!1,selections:xf,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null};var yf={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null},zf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:q,storageKey:null},Af={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Bf={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},Cf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[Af,{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},Bf],type:"IceBreakerMessageAttachment",abstractKey:null},Df={kind:"Literal",name:"height",value:280},Ef={kind:"Literal",name:"width",value:280},Ff=[Df,Ef],Gf={alias:"preview",args:Ff,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:280,width:280)"},Hf={kind:"Literal",name:"height",value:480},If={kind:"Literal",name:"width",value:480},Jf={alias:"large_preview",args:[Hf,If],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:480,width:480)"},Kf={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},Lf={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},Mf={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},Nf={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},Of={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},Pf={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},Qf={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:d,storageKey:null}],storageKey:null},Rf={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},Sf=[Rb],Tf={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},Uf={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},Vf={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},Wf={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},Xf={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Wf],storageKey:null}],storageKey:null},Yf={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},Zf={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},$f={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},ag={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},z,Wf],storageKey:null},bg={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},cg={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},dg={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},eg={kind:"Literal",name:"first",value:3},fg=[eg,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],gg={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},hg={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},ig={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},jg={kind:"InlineFragment",selections:Sf,type:"User",abstractKey:null},kg=[n],lg={kind:"InlineFragment",selections:kg,type:"Entity",abstractKey:"__isEntity"},mg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,jg,lg,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null}],storageKey:null},ng={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null},og={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Za,ng],storageKey:null},pg={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null};eg=[eg];var qg={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},rg=[{kind:"Literal",name:"if_style",value:"file_upload"}],sg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:Yb,storageKey:null},tg=[{kind:"Literal",name:"if_style",value:"photo"}],ug={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},vg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,jg,lg],storageKey:null},wg={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:Yb,storageKey:null},xg={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[wg],storageKey:null},yg={alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null},zg={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[yg],storageKey:null},Ag={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},Bg={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},Cg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:f,storageKey:null},Dg={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},Eg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:d,storageKey:null},Fg={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},Gg={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},Hg={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},Ig={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},Jg={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:m,storageKey:'logo(size:"D32")'},Kg={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},Lg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:m,storageKey:null},Mg={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},Ng={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},Og={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},Pg={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},Qg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},Bf,Pg,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},Rg={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},Sg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null};ec={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,zb,{kind:"InlineFragment",selections:[a,Ab,s,Bb,Cb,Db,Eb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Fb,E,H],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:ec,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[K,fc,P,O,gc,hc,a,dc,Q,ic,L,R,N,H,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[K,fc,P,O,gc,hc,a,dc,Q,ic,L,R,N,H],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},H,{kind:"InlineFragment",selections:[jc,A,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:S,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[jc,A,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:S,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},zc,Bc,Gc,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:d,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Hc,Ic,Jc,Kc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[Mc,Lc],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[a,Nc,c,Oc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Qc,Rc,Sc,Tc,Uc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[Vc,Wc,Xc,a,Pc,Yc,$c,dd,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,M,ed,fd,{alias:null,args:gd,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[hd],storageKey:"images(first:1)"},id],storageKey:null}],storageKey:null},jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,Tc,Uc,ud],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[a,vd,wd,xd,yd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[a,zd,Ad,Bd,Cd,Dd,Ed],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Gd,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Hd,Id,Jd,Kd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:Ld,storageKey:null},Md,Nd,Od,Pd,Qd,b,Rd],type:"Event",abstractKey:null},Sd,Td,{kind:"InlineFragment",selections:[a,b,Ud,Vd,Wd,Xd,kc,lc,Yd,Zd,w,A],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[a,Ud,$d,ae,nc,Vd,be,ce,de,ee,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[a,fe,ge,he,ie,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[je],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[a,ke,le,me,ne,oe,pe,qe,re,se,xe,md,ye,ze,Ae,Be,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:S,storageKey:null},Ce,De,Ee,Fe],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Ge,He,Ie,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Je,b,Ke,M,Lb,Le,Me],storageKey:null},Ta,Oe,Pe,Ne,Qe,Re,F,Se,Te,Ue,Ve,We,Xe],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:d,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[Ye,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:d,storageKey:null},Ze,$e,af,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Ze,af],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[bf,cf,Wa,df,b,Gb,a,ef],type:"Page",abstractKey:null},hf,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,jf,kf,lf,ve,Ec,Dc,pf,qf],storageKey:null},rf,sf,U,tf,Ce],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[a,jf,kf,lf,ve,Ec,Dc,te,of,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ne],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Ld,storageKey:null},Ce],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[a,uf,vf,b,wf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[a,Ac],type:"UserLeadGenInfo",abstractKey:null},xf,{kind:"InlineFragment",selections:[a,b,yf,l,Cb,Db],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[a,s,Bb,Cb,Db,Ab,o,zf,p],type:"WECMessageVideo",abstractKey:null},Cf,{kind:"InlineFragment",selections:[a,Cb,Gf,Jf],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[a,Kf,Lf,Mf,Nf,Of,Pf,Qf],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[a,Rf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:Sf,storageKey:null}],storageKey:null},Tf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[a,Tf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[a,Tf,Uf,Vf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Xf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Yf,Zf,$f,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B],storageKey:null},z,Wf],storageKey:null},ag,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[bg,cg,dg,{alias:null,args:fg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[gg],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},hg,ic,ig,mg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,jg,lg],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ab,n,$a,Qa,og,pg,{alias:null,args:eg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[qg,{alias:"files",args:rg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[pg,sg],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:tg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[sg],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[ug,vg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[og],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[a,b,D,xg,zg,Ag],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,b,Bg,Cg,Dg,xg,Eg,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[a,Fg,Gg,Hg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Ig,b,Jg,Kg],storageKey:null},Lg,Mg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Ob,ub,Ng,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:d,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Og],type:"ApplicationReferralXMA",abstractKey:null},Qg,{kind:"InlineFragment",selections:[a,Rg],type:"XFBP2MXMA",abstractKey:null},Sg],storageKey:null};P={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb,ec,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb,ec],storageKey:null}],storageKey:null};O={kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"};Q={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Pa,P,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[O,b],storageKey:null}],storageKey:null},P],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null};H={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:k,storageKey:null};A={kind:"Literal",name:"sizing",value:"cover-fill"};S={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};af={kind:"InlineFragment",selections:[tc,uc,Ab,{alias:"preview",args:[Df,A,Ef],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[Hf,A,If],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[a,p,o,S,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:nf,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},l],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},Pa,xc,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null};Dc={kind:"InlineFragment",selections:[tc,uc,Ab,rc,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},Pa,qc,xc],type:"MessageAnimatedImage",abstractKey:null};Sf={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null};sg={kind:"InlineFragment",selections:[tc,uc,Ab,s,r,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},Bb,Sf],type:"MessageAudio",abstractKey:null};og={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null};xg={kind:"InlineFragment",selections:[tc,uc,Ab,n,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},og,yf,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},Bb,Sf,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null}],type:"MessageFile",abstractKey:null};w=[B,af,Dc,sg,vc,xg];t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:w,storageKey:null};fb={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null};xb={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:d,storageKey:null};ec={kind:"InlineFragment",selections:[xb],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null};P={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null};Df={alias:"last_message",args:Ma,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:d,storageKey:null}],storageKey:null},Na,Oa,{kind:"InlineFragment",selections:[Q,H,t],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[fb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[ec],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},P,k],storageKey:null}],storageKey:"messages(last:1)"};Ef={alias:null,args:null,concreteType:"ThreadConnectivityData",kind:"LinkedField",name:"thread_connectivity_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectivity_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_sender_id",storageKey:null}],storageKey:null};Hf={alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"should_show_jobs_feature",storageKey:null};If={alias:null,args:null,kind:"ScalarField",name:"should_show_schdule_interview_dialog",storageKey:null};q={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Hf,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,If],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};S={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:Zc,storageKey:null};rc={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null};qc={condition:"is_work_teamwork_not_putting_muted_in_unreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_mentions_count",storageKey:null}]};tc={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null};uc={alias:null,args:[{kind:"Literal",name:"size",value:60}],concreteType:"Image",kind:"LinkedField",name:"square_image",plural:!1,selections:m,storageKey:"square_image(size:60)"};Sf={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null};Zc={alias:null,args:null,kind:"ScalarField",name:"mute_until",storageKey:null};var Tg={alias:null,args:null,kind:"ScalarField",name:"is_pin_protected",storageKey:null},Ug={alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null},Vg={alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},Wg={alias:null,args:null,kind:"ScalarField",name:"is_other_recipient_page",storageKey:null},Xg={alias:null,args:null,kind:"ScalarField",name:"thread_queue_enabled",storageKey:null},Yg={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},Zg={alias:null,args:null,kind:"ScalarField",name:"has_viewer_archived",storageKey:null},$g={alias:null,args:null,kind:"ScalarField",name:"is_page_follow_up",storageKey:null},ah={alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},bh={alias:null,args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},ch={alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},dh={alias:null,args:null,kind:"ScalarField",name:"composer_input_disabled",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"ephemeral_ttl_mode",storageKey:null},fh={alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},gh={alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null},hh={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},ih={alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[gh,hh],storageKey:null},jh={alias:null,args:null,kind:"ScalarField",name:"outgoing_bubble_color",storageKey:null},kh={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[fh,ih,jh],storageKey:null},lh={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},mh={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},nh={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},oh={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},ph={alias:null,args:null,kind:"ScalarField",name:"keyframe_asset_uri",storageKey:null},qh={alias:null,args:null,kind:"ScalarField",name:"reaction_name",storageKey:null},rh={alias:null,args:null,kind:"ScalarField",name:"reaction_emoji",storageKey:null},sh={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"static_asset",plural:!1,selections:m,storageKey:null},th={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,lh,mh,nh,oh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[ph,qh,rh,sh],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},uh={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:d,storageKey:null},vh={alias:"approval_mode",args:null,kind:"ScalarField",name:"group_approval_mode",storageKey:null},wh={alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},xh={alias:null,args:null,concreteType:"GroupApprovalQueueConnection",kind:"LinkedField",name:"group_approval_queue",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGroupRequesterInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"requester",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"inviter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_timestamp",storageKey:null}],storageKey:null}],storageKey:null},yh=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],zh={alias:null,args:null,concreteType:"ApprovalRequestsOfThreadConnection",kind:"LinkedField",name:"approval_requests",plural:!1,selections:yh,storageKey:null},Ah={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[zh],storageKey:null},Bh={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:d,storageKey:null},Ch={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},Dh={alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null};Fc={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:Fc,storageKey:null};var Eh={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_address",storageKey:null}],storageKey:null},Fh={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_status",storageKey:null},Gh={alias:null,args:null,kind:"ScalarField",name:"note",storageKey:null},Hh={alias:null,args:null,kind:"ScalarField",name:"repeat_mode",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},Ih={alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},Jh={alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},Kh={alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"related_event",plural:!1,selections:d,storageKey:null},Lh={alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null},Mh={alias:null,args:gd,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Bh,gf,Ch,Dh,Fc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Eh],storageKey:null},Fh,Gh,Hh,ff,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V],storageKey:null},Ih,Jh,Kh,Lh],storageKey:null}],storageKey:"event_reminders(first:1)"},Nh={alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:d,storageKey:null},Oh=[Na],Ph={alias:"last_read_receipt",args:Ma,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Oh,storageKey:null}],storageKey:"read_receipts(last:1)"},Qh={alias:"is_flagged",args:[{kind:"Literal",name:"page_message_tag",value:"FLAG"}],kind:"ScalarField",name:"has_tag",storageKey:'has_tag(page_message_tag:"FLAG")'},Rh={alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"data_silo",storageKey:null},Sh={alias:null,args:null,kind:"ScalarField",name:"label_source",storageKey:null},Th={alias:null,args:null,kind:"ScalarField",name:"is_ad_response_label",storageKey:null},Uh={alias:null,args:null,concreteType:"PageMessageThreadCustomThreadLabelsConnection",kind:"LinkedField",name:"custom_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Rh,W,Sh,Th],storageKey:null}],storageKey:null},Vh=[a,b,Ob],Wh={alias:null,args:null,concreteType:"PageMessageThreadCustomTagsConnection",kind:"LinkedField",name:"custom_thread_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"nodes",plural:!0,selections:Vh,storageKey:null}],storageKey:null},Xh={alias:null,args:null,kind:"ScalarField",name:"is_ai_label",storageKey:null},Yh={alias:null,args:null,concreteType:"PageMessageThreadCorpThreadLabelsConnection",kind:"LinkedField",name:"corp_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Rh,Sh,W,Xh,Th],storageKey:null}],storageKey:null},Zh={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Qh,vd,Uh,Wh,Yh],storageKey:null},$h={alias:null,args:null,kind:"ScalarField",name:"call_state",storageKey:null},ai={alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null},bi={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[$h,ai,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:d,storageKey:null}],storageKey:null};ue={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,concreteType:"ReverseGeocodeData",kind:"LinkedField",name:"reverse_geocode",plural:!1,selections:[ue,we],storageKey:null}],storageKey:null};var ci={alias:null,args:null,kind:"ScalarField",name:"inventory_count",storageKey:null},di={alias:null,args:null,kind:"ScalarField",name:"delivery_types",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"c2c_shipping_eligible",storageKey:null},fi={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},gi={alias:null,args:null,kind:"ScalarField",name:"is_shipping_offered",storageKey:null},hi={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},ii={alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_commerce_post_item",storageKey:null}],storageKey:null},ji={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},ki={alias:null,args:null,concreteType:"MarketplaceRatingState",kind:"LinkedField",name:"rating_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_rate",storageKey:null}],storageKey:null},li={alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},mi={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MarketplaceC2CShippingSeller",kind:"LinkedField",name:"marketplace_c2c_shipping_seller",plural:!1,selections:[li],storageKey:null}],type:"User",abstractKey:null},ni={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},oi={alias:null,args:null,concreteType:"MarketplaceThreadLabel",kind:"LinkedField",name:"seller_added_labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_string",storageKey:null},ni],storageKey:null},pi={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Oc,$e,Ze,ue,ci,di,ei,fi,gi,hi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:Yb,storageKey:null},ii,ji],storageKey:null},ki,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[a,mi],storageKey:null},oi],storageKey:null},qi={alias:"action_link",args:null,kind:"ScalarField",name:"url",storageKey:null},ri={alias:"room_type",args:null,kind:"ScalarField",name:"time_spent_room_type",storageKey:null},si={alias:null,args:null,kind:"ScalarField",name:"privacy_mode",storageKey:null},ti={alias:null,args:null,kind:"ScalarField",name:"approval_mode_toggleable",storageKey:null},ui={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:Fd,storageKey:null},vi=[qg],wi={alias:null,args:null,concreteType:"GroupSavesConnection",kind:"LinkedField",name:"group_saves",plural:!1,selections:vi,storageKey:null},xi={alias:null,args:[{kind:"Literal",name:"external_ref",value:"messenger"}],kind:"ScalarField",name:"verse_group_link",storageKey:'verse_group_link(external_ref:"messenger")'},yi={kind:"InlineFragment",selections:[b,bf],type:"Page",abstractKey:null};Eg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[qi,a,b,D,Eg,ri,si,ti,ui,wi,xi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[qi,a,b,D,ri,si,ti,Rd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[yi],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};var zi={alias:null,args:null,kind:"ScalarField",name:"reactions_mute_mode",storageKey:null},Ai={alias:null,args:null,kind:"ScalarField",name:"mentions_mute_mode",storageKey:null},Bi={alias:null,args:null,kind:"ScalarField",name:"customization_enabled",storageKey:null},Ci={alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},Di={alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},Ei={alias:null,args:null,kind:"ScalarField",name:"participant_add_mode_as_string",storageKey:null},Fi={alias:null,args:null,kind:"ScalarField",name:"is_canonical_neo_user",storageKey:null};gh={alias:null,args:null,concreteType:"MessageThreadParticipantEventStatusInfo",kind:"LinkedField",name:"participants_event_status",plural:!0,selections:[gh,{alias:null,args:null,kind:"ScalarField",name:"event_status",storageKey:null}],storageKey:null};var Gi={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},Hi={alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},Ii={alias:null,args:null,kind:"ScalarField",name:"is_priority",storageKey:null},Ji={alias:null,args:null,kind:"ScalarField",name:"biz_inbox_tags",storageKey:null},Ki={alias:null,args:null,kind:"ScalarField",name:"priority_score",storageKey:null},Li={alias:null,args:null,kind:"ScalarField",name:"trigger_id",storageKey:null},Mi=[{alias:null,args:null,kind:"ScalarField",name:"suggestion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestion_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triggered_timestamp",storageKey:null},Li],Ni={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"biz_inbox_suggested_reply",plural:!1,selections:Mi,storageKey:null},Oi={alias:null,args:null,kind:"ScalarField",name:"is_thread_currently_handled_by_ai_agent",storageKey:null},Pi=[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:20,width:20)"}],Qi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:Pi,storageKey:null},Ri={alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null};Yb={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Gi,Hi,Ii,Ji,Ki,Ni,Oi,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Qi],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:Yb,storageKey:null},z,Wf],storageKey:null},ag,e],storageKey:null},Ri],storageKey:null};var Si={alias:null,args:null,kind:"ScalarField",name:"admin_model_status_string",storageKey:null},Ti={alias:null,args:null,kind:"ScalarField",name:"groups_sync_status_string",storageKey:null};kg={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:kg,storageKey:null}],storageKey:null};var Ui={alias:null,args:null,kind:"ScalarField",name:"pinning_time",storageKey:null},Vi={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[a,j,g,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[Ng,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},Cc],storageKey:null},Wi={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},Xi={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},Yi={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[a,Xi],storageKey:null},Zi={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},$i={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},aj={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},bj={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},cj={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},dj={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},ej={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},fj={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},c],storageKey:null},gj={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},hj={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[gj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null}],storageKey:null},ij={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},jj={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,b,jg],storageKey:null}],storageKey:null},kj={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},lj={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},mj={kind:"InlineFragment",selections:d,type:"Profile",abstractKey:"__isProfile"},nj={kind:"InlineFragment",selections:d,type:"MessengerViewerGroupThread",abstractKey:null};Ka={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ka],storageKey:null}],type:"MessageThread",abstractKey:null};var oj={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},pj={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[z,Wf,g,Zf],storageKey:null};ni={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},b,ni,x,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};Q={kind:"InlineFragment",selections:[lj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Wf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,mj,nj,Ka],storageKey:null},oj],storageKey:null}],storageKey:null},pj,Q,H,t,ni],type:"UserMessage",abstractKey:null};t={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null};var qj={kind:"InlineFragment",selections:[t,c],type:"VoiceCallMessage",abstractKey:null};w=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:w,storageKey:null}];var rj={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[qg,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},sj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},c],type:"ThreadNameMessage",abstractKey:null};Ff={alias:"preview",args:Ff,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:280,width:280)"};var tj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Ff,Pa,xc],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null},uj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:d,storageKey:null},c],type:"ParticipantsAddedMessage",abstractKey:null},vj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:d,storageKey:null},c],type:"ParticipantLeftMessage",abstractKey:null},wj={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null};wj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[a,e,wj,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,e,wj,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:yh,storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null};yh={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null};mf={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[a,gf,ff,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},Dh,Ch,Jh,Ih,Bh,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:d,storageKey:null},Fc,{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[yh,mf,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},Lh],storageKey:null};var X=[mf],xj={kind:"InlineFragment",selections:X,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null},yj={kind:"InlineFragment",selections:X,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null},zj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null},Aj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null},Bj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null},Cj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null},Dj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null};X={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null};var Ej={alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null};mf={kind:"InlineFragment",selections:[Ej,{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},mf],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null};var Fj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null},Gj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null};hh={kind:"InlineFragment",selections:[hh,{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null};var Hj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null},Ij={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null},Jj={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},Kj={kind:"InlineFragment",selections:[Jj,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},ai],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null},Lj={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},Mj={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},Nj={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},Oj={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},Pj={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},Qj={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},Rj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},Sj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},Tj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},Uj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},Vj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},Wj={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},Xj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},Tj,Uj,Vj,Wj],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},Yj={alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},Zj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},Yj,h,M,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},Pg,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},$j={kind:"InlineFragment",selections:[Dd,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_redesign",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},ak={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},bk={kind:"InlineFragment",selections:[Dd,ak,Oj,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null};Cc={kind:"InlineFragment",selections:[Cc],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null};ak={kind:"InlineFragment",selections:[ak,Oj,V,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null};var ek={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},fk={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},gk={kind:"InlineFragment",selections:[fk],type:"MessengerAdContextAdminText",abstractKey:null},hk={kind:"InlineFragment",selections:[bj,Bf,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},ik={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},jk=[x],kk={kind:"InlineFragment",selections:jk,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},lk={kind:"InlineFragment",selections:jk,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null};jk={kind:"InlineFragment",selections:jk,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null};var mk={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},nk={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},ok={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},pk={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},qk={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},rk={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},sk={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null};Tj={kind:"InlineFragment",selections:[Tj,Uj,Vj,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},Wj],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null};Uj={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null};Vj={alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null};Wj=[x,Uj,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},Vj,{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}];var tk={kind:"InlineFragment",selections:Wj,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null};Wj={kind:"InlineFragment",selections:Wj,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null};var uk={alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},vk={kind:"InlineFragment",selections:[x,Uj,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},uk,{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null},wk={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null};fk={kind:"InlineFragment",selections:[fk,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null};var xk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},yk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},zk={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},Ak={kind:"InlineFragment",selections:[zk,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null};zk={kind:"InlineFragment",selections:[zk,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null};var Bk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},Ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},Dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null};wg={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,wj,xj,yj,zj,Aj,Bj,Cj,Dj,X,mf,Fj,Gj,hh,Hj,Ij,Kj,{kind:"InlineFragment",selections:[xb,Lj,Mj,Nj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[Oj,Pg,wg,Pj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Qj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Rj,Sj,Xj,Zj,$j,bk,ck,dk,Cc,ak,ek,gk,hk,ik,kk,lk,jk,{kind:"InlineFragment",selections:[mk,nk,ok,Jj,pk,qk,rk,sk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[qg,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Tj,tk,Wj,vk,wk,fk,xk,yk,Ak,zk,Bk,Ck,Dk],storageKey:null},fb,c],type:"GenericAdminTextMessage",abstractKey:null};w=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:$b,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:d,storageKey:null},c];$b={kind:"InlineFragment",selections:w,type:"P2PPaymentRequestMessage",abstractKey:null};w={kind:"InlineFragment",selections:w,type:"P2PPaymentMessage",abstractKey:null};hj=[Vi,B,V,Wi,Yi,Zi,Na,$i,aj,Bf,bj,Oa,cj,dj,P,ej,fj,hj,ij,jj,kj,k,Q,qj,rj,sj,tj,uj,vj,wg,$b,w,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[md,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Vi,B,V,Wi,Yi,Zi,Na,$i,aj,Bf,bj,Oa,cj,dj,P,ej,fj,hj,ij,jj,kj,k,Q,qj,rj,sj,tj,uj,vj,wg,$b,w],storageKey:null}],storageKey:null}];jj={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ui,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:hj,storageKey:null}]}],storageKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"is_default_child_group",storageKey:null};rj={alias:null,args:null,kind:"ScalarField",name:"emoji_codepoints",storageKey:null};tj={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,Bg,Q,D,wi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[rj],storageKey:null}],storageKey:null}],storageKey:null};wg={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:hj,storageKey:null}]};var Ek={alias:null,args:null,kind:"ScalarField",name:"joinable_link",storageKey:null},Fk={alias:null,args:null,kind:"ScalarField",name:"is_fuss_red_page",storageKey:null},Gk={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"program_group",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:24,width:24)"}],storageKey:null};Fd={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"mentorship_group",plural:!1,selections:Fd,storageKey:null};var Hk={alias:null,args:null,kind:"ScalarField",name:"banner_title",storageKey:null},Ik={alias:null,args:null,kind:"ScalarField",name:"banner_subtitle",storageKey:null},Jk={alias:null,args:gd,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Gk,Fd,{alias:null,args:gd,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Hk,Ik],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Kk={alias:null,args:null,kind:"ScalarField",name:"thread_unsendability_status",storageKey:null},Lk={alias:null,args:null,kind:"ScalarField",name:"thread_pin_timestamp",storageKey:null},Mk={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null};li={alias:null,args:null,concreteType:"ConversionDetectionData",kind:"LinkedField",name:"conversion_detection_data",plural:!1,selections:[li,{alias:null,args:null,kind:"ScalarField",name:"conversion_type",storageKey:null},Vj,{alias:null,args:null,kind:"ScalarField",name:"currency_amount",storageKey:null},{alias:"timestamp",args:null,kind:"ScalarField",name:"timestamp_graphql_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_reply",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_message",storageKey:null},Li,{alias:null,args:null,kind:"ScalarField",name:"shipping_provider",storageKey:null},jf,{alias:null,args:null,kind:"ScalarField",name:"ctx_ad_info",storageKey:null}],storageKey:null};Vj={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"suggested_reply_data",plural:!1,selections:Mi,storageKey:null};Li={alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null};Mi={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null};var Y={alias:"big_image_src",args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:60,width:60)"},Nk={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Ok={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},Pk={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},Qk={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null},Rk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},Sk={alias:null,args:null,kind:"ScalarField",name:"is_employee",storageKey:null},Tk={alias:null,args:null,kind:"ScalarField",name:"is_aloha_proxy_confirmed",storageKey:null},Uk={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},Vk={alias:null,args:null,kind:"ScalarField",name:"messenger_account_status_category",storageKey:null};Ld={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Ld,storageKey:null},yg],storageKey:null};var Wk={kind:"InlineFragment",selections:[Mi,n,Y,Rb,Ok,Pk,Qk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_managing_parent",storageKey:null}],type:"NeoApprovedUser",abstractKey:null},Xk={kind:"InlineFragment",selections:[n,Y,Nk,{alias:null,args:null,kind:"ScalarField",name:"accepts_messenger_user_feedback",storageKey:null},Pk,{alias:null,args:null,kind:"ScalarField",name:"is_messenger_platform_bot",storageKey:null},Qk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed_to_message_updates",storageKey:null},{alias:null,args:null,concreteType:"InstantGameChannelInfo",kind:"LinkedField",name:"instant_game_channel",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page",abstractKey:null},Yk=[n,Y,Qk],Zk={kind:"InlineFragment",selections:Yk,type:"SmsMessagingParticipant",abstractKey:null},$k={kind:"InlineFragment",selections:[Y,Qk],type:"InstagramMessagingUser",abstractKey:null},al=[Y],bl={kind:"InlineFragment",selections:al,type:"LiveChatOnlyPerson",abstractKey:null};Yk={kind:"InlineFragment",selections:Yk,type:"UnavailableMessagingActor",abstractKey:null};var cl={kind:"InlineFragment",selections:al,type:"UnifiedMessagingInstagramUser",abstractKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null},el=[n,Y,Nk],fl={kind:"InlineFragment",selections:el,type:"Group",abstractKey:null};el={kind:"InlineFragment",selections:el,type:"Event",abstractKey:null};j={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null},j,g],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"};var gl=[n,Y,Rb,Qk],hl={kind:"InlineFragment",selections:gl,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"};gl={kind:"InlineFragment",selections:gl,type:"XFBWorkroomsSystemUser",abstractKey:null};var il={kind:"InlineFragment",selections:al,type:"MessengerCallGuestUser",abstractKey:null},jl={kind:"InlineFragment",selections:al,type:"WorkVCEndpointUser",abstractKey:null},kl={kind:"InlineFragment",selections:al,type:"WECMailboxAccount",abstractKey:null};al={kind:"InlineFragment",selections:al,type:"WECCustomer",abstractKey:null};var ll={alias:null,args:null,kind:"ScalarField",name:"wec_group_creation_time",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"wec_group_invite_link",storageKey:null};Gd={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Gd,storageKey:null};Ld={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Li,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,B,b,{kind:"InlineFragment",selections:[Mi,n,Y,Rb,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Vk,Ld],type:"User",abstractKey:null},Wk,Xk,Zk,$k,bl,Yk,cl,{kind:"InlineFragment",selections:[n,Y,Nk,dl,Qk,Ld],type:"ReducedMessagingActor",abstractKey:null},fl,el,j,hl,gl,il,jl,kl,al,{kind:"InlineFragment",selections:[Y,ll,ml,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Gd,qg],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Gd],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};Gd={alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null};var nl={alias:"action",args:null,kind:"ScalarField",name:"action_timestamp_precise",storageKey:null},ol={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gd,nl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null};Oh=[{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Oh,storageKey:null}],storageKey:null}];var pl={condition:"includeDeliveryReceipts",kind:"Condition",passingValue:!0,selections:Oh},ql=[Ja,{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,La,b,Df,Ef,q,S,rc,qc,tc,uc,J,Sf,Zc,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,eh,kh,th,uh,vh,wh,xh,Ah,Mh,Nh,Ph,Zh,bi,pi,Eg,si,zi,Ai,Bi,Ci,Di,Ei,Fi,gh,Yb,Si,Ti,kg,jj,tj,wg,M,Ek,Fk,Jk,Kk,Lk,Mk,li,Vj,Ld,ol,pl],storageKey:null}],rl={alias:null,args:null,kind:"ScalarField",name:"instagram_user_id",storageKey:null},sl=[rl,D],tl={alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"thread_v2_id",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"instagram_message_thread_type",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},Al={alias:null,args:null,kind:"ScalarField",name:"last_activity_at",storageKey:null},Bl={alias:null,args:null,concreteType:"IGThreadLastSeenUser",kind:"LinkedField",name:"last_seen_at",plural:!0,selections:[Je,Ng,Uj],storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},Dl={alias:null,args:null,concreteType:"IGThreadDirectStoryData",kind:"LinkedField",name:"direct_story",plural:!1,selections:[tl,Cl],storageKey:null},El={alias:null,args:null,concreteType:"InstagramMessageThreadThreadLabelsConnection",kind:"LinkedField",name:"thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Rh,W,Sh],storageKey:null}],storageKey:null},Fl={alias:null,args:null,concreteType:"InstagramMessageThreadThreadCorpLabelsConnection",kind:"LinkedField",name:"thread_corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Rh,W],storageKey:null}],storageKey:null};Pi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"assigned_admin",plural:!1,selections:Pi,storageKey:null};var Gl={alias:null,args:null,kind:"ScalarField",name:"is_follow_up",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"business_thread_folder",storageKey:null},Jl={alias:null,args:null,concreteType:"IGThreadUserNodesData",kind:"LinkedField",name:"thread_users",plural:!1,selections:[{alias:null,args:null,concreteType:"IGThreadUserData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},rl,Nk,b,{alias:null,args:null,concreteType:"IGThreadUserProfilePic",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"is_partnership",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"time_stamp",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"ig_item_type",storageKey:null},Ol={alias:null,args:null,kind:"ScalarField",name:"client_context",storageKey:null},Pl={alias:null,args:null,concreteType:"IGThreadItemPlaceHolderSource",kind:"LinkedField",name:"ig_placeholder",plural:!1,selections:[h,Af],storageKey:null},Ql=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"width",variableName:"width"}],Rl={alias:null,args:Ql,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:m,storageKey:null},Sl={alias:null,args:Ql,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"video_source",plural:!1,selections:T,storageKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},Ul=[rl,Nk,b,D],Vl={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:Ul,storageKey:null},Wl={alias:null,args:null,concreteType:"IGMessageThreadItemRavenMedia",kind:"LinkedField",name:"raven_media",plural:!1,selections:[Cl,{alias:null,args:null,kind:"ScalarField",name:"seen_user_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_count",storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Rl,Sl,Tl],storageKey:null}],storageKey:null};Ul={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:Ul,storageKey:null};var Xl={alias:null,args:Ql,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:T,storageKey:null},Yl={kind:"InlineFragment",selections:f,type:"IGMessageThreadItemMediaShare",abstractKey:null},Zl={alias:null,args:null,kind:"ScalarField",name:"story_type",storageKey:null},$l={kind:"InlineFragment",selections:[Zl,e,g],type:"IGMessageThreadItemReelShare",abstractKey:null};Zl={kind:"InlineFragment",selections:[Zl,Af,h,e],type:"IGMessageThreadItemStoryShare",abstractKey:null};Af={kind:"InlineFragment",selections:[h,e],type:"IGMessageThreadItemFelixShare",abstractKey:null};var am={kind:"InlineFragment",selections:[h,tb,e,{alias:null,args:null,kind:"ScalarField",name:"current_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_price",storageKey:null},l],type:"IGMessageThreadItemProductShare",abstractKey:null},bm={alias:null,args:null,kind:"ScalarField",name:"likes_count",storageKey:null},cm={alias:null,args:null,kind:"ScalarField",name:"emojis",storageKey:null},dm={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"media",plural:!0,selections:T,storageKey:null};cd={alias:null,args:null,concreteType:"IGThreadItemActionLogSource",kind:"LinkedField",name:"action_log",plural:!1,selections:[M,{alias:null,args:null,concreteType:"IGThreadItemActionLogBoldSource",kind:"LinkedField",name:"bold",plural:!0,selections:cd,storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemActionLogTextAttributesSource",kind:"LinkedField",name:"text_attributes",plural:!0,selections:[ad,bd,Ob,{alias:null,args:null,kind:"ScalarField",name:"intent",storageKey:null}],storageKey:null}],storageKey:null};ad={alias:null,args:null,concreteType:"IGThreadItemLinkSource",kind:"LinkedField",name:"link_source",plural:!1,selections:[Ol,e,{alias:null,args:null,concreteType:"IGThreadItemLinkContextSource",kind:"LinkedField",name:"link_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_image_url",storageKey:null}],storageKey:null}],storageKey:null};bd={alias:null,args:null,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"animated_media",plural:!1,selections:nf,storageKey:null};nf={alias:null,args:null,concreteType:"IGThreadItemVoiceMediaSource",kind:"LinkedField",name:"voice_media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_src",storageKey:null},Eb],storageKey:null};var Z=[Cl,Xl],em={alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!1,selections:Z,storageKey:null},fm={alias:null,args:null,concreteType:"IGMessageThreadItemHScrollShareItem",kind:"LinkedField",name:"hscroll_share",plural:!0,selections:[h,tb,l,em],storageKey:null},gm={alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},hm={alias:null,args:null,kind:"ScalarField",name:"header_subtitle",storageKey:null},im={alias:null,args:null,kind:"ScalarField",name:"header_icon_url",storageKey:null},jm={alias:null,args:null,concreteType:"IGMessageThreadItemCollectionShare",kind:"LinkedField",name:"shops_collection_share",plural:!1,selections:[gm,hm,im,h,tb,nc,em],storageKey:null};tb={alias:null,args:null,concreteType:"IGMessageThreadItemAppointmentBooking",kind:"LinkedField",name:"appointment_booking",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"max_title_num_of_lines",storageKey:null},tb,{alias:null,args:null,kind:"ScalarField",name:"max_subtitle_num_of_lines",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"header_icon_url_info",plural:!1,selections:T,storageKey:null},em,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:T,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},nc,{alias:null,args:null,concreteType:"IGXMAMessageCTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[Ra,h],storageKey:null}],storageKey:null};em={alias:null,args:null,concreteType:"IGMessageThreadItemShopShare",kind:"LinkedField",name:"shop_share",plural:!1,selections:[gm,hm,im,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"medias",plural:!0,selections:Z,storageKey:null},nc],storageKey:null};T={alias:null,args:null,concreteType:"IGMessageThreadItemGenericXMA",kind:"LinkedField",name:"generic_xma",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_template_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_layout_type",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"sub_title",storageKey:null},{alias:null,args:null,concreteType:"GenericXMACTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[h,Ra],storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"preview_url_info",plural:!1,selections:Z,storageKey:null}],storageKey:null};gm={alias:null,args:null,kind:"ScalarField",name:"send_attribution",storageKey:null};hm={alias:null,args:null,concreteType:"IGMessageThreadItemRepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[e,V,Ng,Uj],storageKey:null};im={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null};Ra={alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null};Z={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[im,Ra],storageKey:null};Vl=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,Je,Yj,Ml,Nl,e,Ol,Pl,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Cl,Rl,Sl,Tl,Vl],storageKey:null},Wl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Cl,Xl,Sl,Tl,Vl],storageKey:null},Yl,$l,Zl,Af,am],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[bm,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:sl,storageKey:null},cm],storageKey:null},{alias:null,args:Ql,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[Ul,dm],storageKey:null},cd,ad,bd,nf,fm,jm,tb,em,T,gm,hm],storageKey:null},Z];Ul={alias:null,args:null,kind:"ScalarField",name:"selected_thread_type",storageKey:null};var km=[{kind:"Variable",name:"after",variableName:"item_after"},{kind:"Variable",name:"first",variableName:"item_limit"}],lm=[{kind:"Variable",name:"before_time_precise",variableName:"before"},{kind:"Variable",name:"last",variableName:"message_limit"}],mm={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};Oh={condition:"load_delivery_receipts",kind:"Condition",passingValue:!0,selections:Oh};var nm={kind:"Variable",name:"page_id",variableName:"page_id"},om=[nm],pm={alias:null,args:null,kind:"ScalarField",name:"business_id",storageKey:null},qm={kind:"RootArgument",name:"page_id"},rm={kind:"Variable",name:"business_assets",variableName:"businessAssets"};nm={condition:"getShouldUnifyConfigQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:[rm,nm],concreteType:"BizInboxFeatureConfigWrapper",kind:"LinkedField",name:"selected_thread_biz_inbox_feature_config",plural:!1,selections:[{alias:null,args:null,concreteType:"BizInboxGatingConfig",kind:"LinkedField",name:"gating_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_commerce_invoice_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_product_picker_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_availability_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_create_appointment_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_customer_feedback_button_on_move_to_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_form_builder_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_inthread_forms_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_marketing_messages_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marketing_messages_in_composer_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_gcash_id_share_and_copy_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_live_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_biz_ai_in_composer",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizInboxCommerceInvoiceButtonConfig",kind:"LinkedField",name:"commerce_invoice_button_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_confirm_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_payment_onboarding",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_request_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commerce_invoice_button_icon",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]};var sm=[tl];sm={alias:"xfb_unified_thread_list_pending",args:[{kind:"Variable",name:"msgr_params",variableName:"msgr_pending_params"},{kind:"Variable",name:"wa_params",variableName:"wa_pending_params"}],concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{condition:"isWorkUser",kind:"Condition",passingValue:!1,selections:[{alias:"wa_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:sm,storageKey:null},{alias:"msg_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:sm,storageKey:null}]}],storageKey:null};var tm={alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_add_activities",storageKey:null}],storageKey:null};rm=[rm];var $=[B,a],um={kind:"InlineFragment",selections:d,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},vm={kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},wm={kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},xm={kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null};Ua={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Ua,Va,Ya,r,Za,s,O,um,vm,wm,xm],storageKey:null};Va={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[B,h,n],storageKey:null};Ya={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[B,a,{kind:"InlineFragment",selections:[jb,kb,v,lb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null};r={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[B,vb,y],storageKey:null};jb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[hb,ib,Ya,mb,nb,a,ob,pb,qb,rb,sb,x,r,wb,Sa],storageKey:null};kb=[B,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},u,Hb,Ib,h,Kb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[B,C,Fb,E,Mb,a],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}];v={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:kb,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[B,Nb,G,Pb,I],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:kb,storageKey:null},Ob,Qb,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:kb,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};vb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[B,a,b,D,Sb],storageKey:null};y=[J,a];wb={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:y,storageKey:null},Zb,a],storageKey:null};Sa={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,M,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:y,storageKey:null},n,a],storageKey:null};u=[B,b,a,D,Sb];Hb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:u,storageKey:null};Kb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:u,storageKey:null};Mb={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[Fb,vb,Tb,Ub,C,Vb,Wb,Xb,wb,ac,bc,L,Sa,a,N,cc,dc,v],storageKey:null};Nb=[hb,ib,Ya,mb,nb,a,ob,pb,qb,rb,sb,x,r];G={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:Nb,storageKey:null};Pb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:Nb,storageKey:null};I=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,M,kc,lb,lc,b,mc,nc,Pb,G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,pc,oc,sc,vc,yc,O,um,vm,wm,xm],storageKey:null}],storageKey:null}];Qb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b],storageKey:null},a];kb={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,Xa,a],storageKey:null};Zb={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ud,Vd,Wd,Xd,kc,lc,Yd,Zd,G],storageKey:null}],storageKey:null};Sb=[b,a];u={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Za,ng,O,um,vm,wm,xm],storageKey:null};hb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,J,O,um,vm,wm,xm],storageKey:null};ib={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:y,storageKey:null};Ya={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[ib],storageKey:null};mb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:$,storageKey:null};nb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,zb,{kind:"InlineFragment",selections:[Ab,s,Bb,Cb,Db,Eb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Fb,E,v],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[Fb,vb,Tb,Ub,C,Vb,Wb,Xb,wb,ac,bc,L,Sa,N,cc,dc,v],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[K,fc,Hb,Kb,gc,hc,dc,Mb,ic,L,R,N,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[K,fc,Hb,Kb,gc,hc,a,dc,Mb,ic,L,R,N,v],storageKey:null},v],type:"PeerToPeerPaymentRequest",abstractKey:null},v,{kind:"InlineFragment",selections:[jc,G,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:I,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[jc,G,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:I,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},zc,Bc,Gc,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:$,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Hc,Ic,Jc,Kc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[B,Mc,Lc,O],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[Nc,c,Oc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[Qc,Rc,Sc,Tc,Uc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[Vc,Wc,Xc,Pc,Yc,$c,dd,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,M,ed,fd,{alias:null,args:gd,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[hd,a],storageKey:"images(first:1)"},id],storageKey:null}],storageKey:null},jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,Tc,Uc,ud],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[vd,wd,xd,yd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[zd,Ad,Bd,Cd,Dd,Ed],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Qb,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Hd,Id,Jd,Kd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,b,O],storageKey:null},Md,Nd,Od,Pd,Qd,b,Rd],type:"Event",abstractKey:null},Sd,Td,{kind:"InlineFragment",selections:[b,Ud,Vd,Wd,Xd,kc,lc,Yd,Zd,Pb,G],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[Ud,$d,ae,nc,Vd,be,ce,de,ee,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[fe,ge,he,ie,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[je,a],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[ke,le,me,ne,oe,pe,qe,re,se,xe,md,ye,ze,Ae,Be,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:I,storageKey:null},Ce,De,Ee,Fe],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Ge,He,Ie,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Je,b,Ke,M,Lb,Le,Me,a],storageKey:null},Ta,Oe,Pe,Ne,Qe,Re,F,Se,Te,Ue,Ve,We,Xe],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Ye,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:$,storageKey:null},Ze,$e,kb,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Ze,kb],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[bf,cf,Wa,df,b,Gb,ef],type:"Page",abstractKey:null},hf,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,jf,kf,lf,ve,Ec,Zb,pf,qf],storageKey:null},rf,sf,U,tf,Ce],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[jf,kf,lf,ve,Ec,Zb,te,of,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ne,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Sb,storageKey:null},Ce],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[uf,vf,b,wf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[Ac],type:"UserLeadGenInfo",abstractKey:null},xf,{kind:"InlineFragment",selections:[b,yf,l,Cb,Db],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[s,Bb,Cb,Db,Ab,o,zf,p],type:"WECMessageVideo",abstractKey:null},Cf,{kind:"InlineFragment",selections:[Cb,Gf,Jf],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[Kf,Lf,Mf,Nf,Of,Pf,Qf],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[Rf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[B,Rb,a],storageKey:null}],storageKey:null},Tf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[Tf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[Tf,Uf,Vf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Xf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[B,Yf,Zf,$f,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,O],storageKey:null},z,Wf],storageKey:null},ag,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[bg,cg,dg,{alias:null,args:fg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[gg,a],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},a],storageKey:null},hg,ic,ig,mg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,jg,lg,a],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ab,n,$a,Qa,u,pg,{alias:null,args:eg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[qg,{alias:"files",args:rg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[pg,hb],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:tg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[hb],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[ug,vg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[u],storageKey:null},a],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[b,D,Ya,zg,Ag],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b,Bg,Cg,Dg,Ya,mb,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:$,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[Fg,Gg,Hg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Ig,b,Jg,Kg,a],storageKey:null},Lg,Mg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Ob,ub,Ng,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b,a],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[Pb],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[Og],type:"ApplicationReferralXMA",abstractKey:null},Qg,{kind:"InlineFragment",selections:[Rg],type:"XFBP2MXMA",abstractKey:null},Sg],storageKey:null};ob={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb,nb,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb,nb],storageKey:null}],storageKey:null};pb={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Pa,ob,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,b,a,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},ob],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},a],storageKey:null};qb=[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},af,Dc,sg,vc,xg,O];rb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:qb,storageKey:null};sb={alias:"last_message",args:Ma,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[B,c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:$,storageKey:null},a],storageKey:null},Na,Oa,P,k,a,{kind:"InlineFragment",selections:[pb,H,rb],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[fb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,ec],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null}],storageKey:null}],storageKey:"messages(last:1)"};x={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Hf,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,If,a],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};r={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[fh,ih,jh,a],storageKey:null};Nb={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,lh,mh,nh,oh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[ph,qh,rh,sh,a],storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null};mc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:$,storageKey:null};pc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[B,zh,a],storageKey:null};oc={alias:null,args:gd,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Bh,gf,Ch,Dh,Fc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Eh,a],storageKey:null},Fh,Gh,Hh,ff,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V,a],storageKey:null},Ih,Jh,Kh,Lh],storageKey:null}],storageKey:"event_reminders(first:1)"};sc={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Qh,vd,Uh,Wh,Yh,a],storageKey:null};yc={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[$h,ai,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:$,storageKey:null}],storageKey:null};Xa={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Oc,$e,Ze,ue,ci,di,ei,fi,gi,hi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,J,a],storageKey:null},ii,ji],storageKey:null},ki,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[B,a,mi],storageKey:null},oi],storageKey:null};Za={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[qi,b,D,mb,ri,si,ti,ui,wi,xi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[qi,b,D,ri,si,ti,Rd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,yi,O],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};ng={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Gi,Hi,Ii,Ji,Ki,Ni,Oi,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Qi,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[B,J,O,{kind:"InlineFragment",selections:d,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null},z,Wf],storageKey:null},ag,e],storageKey:null},Ri],storageKey:null};um={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a],storageKey:null}],storageKey:null};vm={kind:"TypeDiscriminator",abstractKey:"__isMessage"};wm={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[gj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:$,storageKey:null}],storageKey:null};xm={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b,jg],storageKey:null},a],storageKey:null};y={kind:"InlineFragment",selections:[lj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Wf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,mj,nj,Ka,O],storageKey:null},oj],storageKey:null}],storageKey:null},pj,pb,H,rb,ni],type:"UserMessage",abstractKey:null};zb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:qb,storageKey:null}];Eb={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[qg,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:zb,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null};E={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Ff,Pa,xc,a],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null};Fb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,wj,xj,yj,zj,Aj,Bj,Cj,Dj,X,mf,Fj,Gj,hh,Hj,Ij,Kj,{kind:"InlineFragment",selections:[xb,Lj,Mj,Nj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[B,{kind:"InlineFragment",selections:[Oj,Pg,ib,Pj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Qj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Rj,Sj,Xj,Zj,$j,bk,ck,dk,Cc,ak,ek,gk,hk,ik,kk,lk,jk,{kind:"InlineFragment",selections:[mk,nk,ok,Jj,pk,qk,rk,sk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[qg,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:zb,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Tj,tk,Wj,vk,wk,fk,xk,yk,Ak,zk,Bk,Ck,Dk],storageKey:null},fb,c],type:"GenericAdminTextMessage",abstractKey:null};vb=[B,vm,Vi,V,Wi,Yi,Zi,Na,$i,aj,Bf,bj,Oa,cj,dj,P,ej,fj,wm,ij,xm,kj,k,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[md,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[B,vm,Vi,V,Wi,Yi,Zi,Na,$i,aj,Bf,bj,Oa,cj,dj,P,ej,fj,wm,ij,xm,kj,k,a,y,qj,Eb,sj,E,uj,vj,Fb,$b,w],storageKey:null}],storageKey:null},a,y,qj,Eb,sj,E,uj,vj,Fb,$b,w];Tb={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ui,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:vb,storageKey:null}]}],storageKey:null};Ub={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,Bg,Q,D,wi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[rj,a],storageKey:null}],storageKey:null}],storageKey:null};C={alias:null,args:gd,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Gk,Fd,{alias:null,args:gd,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Hk,Ik,a],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"};Vb={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Sb,storageKey:null},yg],storageKey:null};Wb={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Qb,storageKey:null};Xb={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Li,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessagingActor"},a,b,{kind:"InlineFragment",selections:[Mi,n,Y,Rb,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Vk,Vb],type:"User",abstractKey:null},Wk,Xk,Zk,$k,bl,Yk,cl,{kind:"InlineFragment",selections:[n,Y,Nk,dl,Qk,Vb],type:"ReducedMessagingActor",abstractKey:null},fl,el,j,hl,gl,il,jl,kl,al,{kind:"InlineFragment",selections:[Y,ll,ml,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Wb,qg],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Wb],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};wb={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gd,nl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null};ac={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:vb,storageKey:null}]};bc=[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,La,b,sb,Ef,x,S,rc,tc,uc,J,Sf,Zc,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,eh,r,Nb,mc,vh,wh,xh,pc,oc,Nh,Ph,sc,yc,Xa,Za,si,zi,Ai,Bi,Ci,Di,Ei,Fi,gh,ng,Si,Ti,um,Tb,Ub,M,Ek,Fk,C,Kk,Lk,Mk,li,Vj,Xb,wb,qc,ac,pl],storageKey:null},Ja];Sa=[rl,D,a];cc=[rl,Nk,b,D,a];K={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:cc,storageKey:null};fc={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:cc,storageKey:null};Hb=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,Je,Yj,Ml,Nl,e,Ol,Pl,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Cl,Rl,Sl,Tl,K],storageKey:null},Wl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[B,fc,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Cl,Xl,Sl,Tl,K],storageKey:null},Yl,$l,Zl,Af,am],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[bm,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:Sa,storageKey:null},cm],storageKey:null},{alias:null,args:Ql,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[fc,dm],storageKey:null},cd,ad,bd,nf,fm,jm,tb,em,T,gm,hm,a],storageKey:null},Z];Kb={alias:null,args:null,kind:"ScalarField",name:"page_contact_id",storageKey:null};gc={alias:null,args:null,kind:"ScalarField",name:"ig_thread_id",storageKey:null};hc={alias:null,args:null,kind:"ScalarField",name:"unit_type",storageKey:null};dc=[{kind:"Literal",name:"first",value:4},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}];Mb={alias:"fbid",args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null};L={alias:"dim",args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:wc,storageKey:null};R={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};N={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[Ra,im],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null};jc=[{kind:"Literal",name:"height",value:52},{kind:"Literal",name:"width",value:52}];zc=[{kind:"Literal",name:"first",value:20}];Bc={alias:null,args:null,kind:"ScalarField",name:"contact_count",storageKey:null};Gc={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]};Hc=[{kind:"Literal",name:"first",value:400}];Ic={alias:null,args:null,kind:"ScalarField",name:"is_custom_event_reportable",storageKey:null};Jc={alias:null,args:null,kind:"ScalarField",name:"is_synced_with_smb",storageKey:null};Kc={alias:null,args:null,kind:"ScalarField",name:"has_wa_contact",storageKey:null};Mc=[{kind:"Literal",name:"first",value:2}];Lc=[{alias:null,args:null,kind:"ScalarField",name:"nux_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_content_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_ui_type",storageKey:null}];Nc=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];Qc={alias:null,args:[{kind:"Literal",name:"tab",value:"data_sharing"}],kind:"ScalarField",name:"settings_uri_in_business_view",storageKey:'settings_uri_in_business_view(tab:"data_sharing")'};Rc={alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null};Sc=[{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"types",value:["BUSINESS_ORDER"]}];Vc={alias:null,args:null,kind:"ScalarField",name:"is_auto_detected",storageKey:null};Wc={alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_redesigned_nux",storageKey:null};Xc={alias:null,args:null,kind:"ScalarField",name:"is_classic_page",storageKey:null};Pc={alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Uj],storageKey:null};Yc={alias:null,args:null,kind:"ScalarField",name:"is_detected_outcomes_label",storageKey:null};$c={alias:null,args:Hc,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Rh,Bc,W,Sh,Th,Ic,Yc,Jc,Kc,B],storageKey:null},R],storageKey:null},Z],storageKey:"custom_labels(first:400)"};dd={alias:null,args:Hc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"};ed={alias:null,args:Hc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_corp_labels",kind:"LinkedHandle",name:"corp_labels"};fd={alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:d,storageKey:null};hd=[{kind:"Literal",name:"gk_name",value:"mcom_kbank_integration_rollout"}];id=[{alias:"passes",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];jd=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_order_integration_gk"}];kd=[{alias:"is_order_integration_enabled",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];ld=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_timeline_actions_gk"}];nd=[{alias:"showTimelineActions",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{fragment:{argumentDefinitions:[aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa],kind:"Fragment",metadata:null,name:"BizInboxUnifiedThreadsQuery",selections:[Ga,{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:ql,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:ql,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:sl,storageKey:null},Ia,tl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:gd,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Vl,storageKey:"thread_items(first:1)"}]}],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Vl,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,La,b,Df,Ef,q,S,rc,qc,tc,uc,J,Sf,Zc,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,eh,kh,th,uh,vh,wh,xh,Ah,Mh,Nh,Ph,Zh,bi,pi,Eg,si,zi,Ai,Bi,Ci,Di,Ei,Fi,gh,Yb,Si,Ti,kg,jj,tj,wg,M,Ek,Fk,Jk,Kk,Lk,Mk,li,Vj,Ld,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:lm,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[mm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:hj,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[ol]},Oh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardContainerDetailsFrag_selectedContact",selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[pm],storageKey:null},{args:null,kind:"FragmentSpread",name:"BizKitContextCardContainer_contact"}],storageKey:null},{alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCard_config"}],storageKey:null}],args:null,argumentDefinitions:[qm]}]}],storageKey:null},nm],storageKey:null},sm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardActivitySectionFrag_activitiesquery",selections:[{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivitySection_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityNuxForAutoDetected_contact"}],storageKey:null},tm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:om,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_page"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_page"}],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:rm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_mbsBusinessAssets"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_mbsBusinessAssets"}],storageKey:null}]}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"businessAssets"},{kind:"RootArgument",name:"ig_params"},{kind:"RootArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},{kind:"RootArgument",name:"msgr_params"},qm,{kind:"RootArgument",name:"selected_item_id"},{kind:"RootArgument",name:"wa_params"}]}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ia,fa,ga,ja,Ca,Ba,Fa,da,na,ma,wa,ea,ta,Da,ua,Ea,sa,aa,qa,ra,oa,la,ka,pa,va,ca,za,ya,xa,Aa,ha,ba],kind:"Operation",name:"BizInboxUnifiedThreadsQuery",selections:[Ga,{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:bc,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:bc,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:Sa,storageKey:null},Ia,tl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:gd,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Hb,storageKey:"thread_items(first:1)"}]},a],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Hb,storageKey:null}]},a],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,La,b,sb,Ef,x,S,rc,tc,uc,J,Sf,Zc,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,eh,r,Nb,mc,vh,wh,xh,pc,oc,Nh,Ph,sc,yc,Xa,Za,si,zi,Ai,Bi,Ci,Di,Ei,Fi,gh,ng,Si,Ti,um,Tb,Ub,M,Ek,Fk,C,Kk,Lk,Mk,li,Vj,Xb,qc,ac,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:lm,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[mm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:vb,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[wb]},Oh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[pm,g,{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_business_id",storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Kb,{alias:null,args:null,kind:"ScalarField",name:"is_guest_chat",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_contact_card_tos",storageKey:null},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"XFBBizCRMContactIGIDs",kind:"LinkedField",name:"ig_ids",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_id_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_eimu_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_user_id",storageKey:null},gc,{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[hc,e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Uj,{alias:null,args:null,concreteType:"BizCRMContactFBUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,n,O],storageKey:null},z,Wf],storageKey:null},e],storageKey:null},hc],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessengerThreadAttribute",kind:"LinkedField",name:"messenger_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"one_to_one_thread",plural:!1,selections:[{alias:"sharedMedia",args:dc,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageSharedMedia"},O,{kind:"InlineFragment",selections:[Mb,J,L],type:"MessageImage",abstractKey:null},{kind:"InlineFragment",selections:[Mb,J,L,s],type:"MessageVideo",abstractKey:null}],storageKey:null},R],storageKey:null},N],storageKey:'message_shared_media(first:4,message_shared_media_type:"PHOTO_AND_VIDEO")'},{alias:"sharedMedia",args:dc,filters:["message_shared_media_type"],handle:"connection",key:"BizKitContextCardSharedPhotos_sharedMedia",kind:"LinkedHandle",name:"message_shared_media"},a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[Ej,{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},v,{alias:null,args:null,concreteType:"PageContactProfileURI",kind:"LinkedField",name:"profile_uris",plural:!0,selections:m,storageKey:null},{alias:null,args:jc,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris_prefetch",plural:!0,selections:m,storageKey:"profile_photo_uris_prefetch(height:52,width:52)"},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:"profile_photo_uri_about_section",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:100,width:100)"},{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},Xi,{alias:"phone",args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null},{alias:"phoneNumber",args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},we,{alias:null,args:null,kind:"ScalarField",name:"zip_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,concreteType:"PageContactBirthday",kind:"LinkedField",name:"birthday",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_birthday",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggested_email_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_state",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_banned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_onsite_user",storageKey:null},Ii,{alias:null,args:zc,concreteType:"BizCRMContactSharedAttributesCorpLabelListConnection",kind:"LinkedField",name:"corp_label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesCorpLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Rh,Sh,Bc,W,Xh,Th,B],storageKey:null},R],storageKey:null},Z,Gc],storageKey:"corp_label_list(first:20)"},{alias:null,args:zc,filters:null,handle:"connection",key:"BizKitContextCard_corp_label_list",kind:"LinkedHandle",name:"corp_label_list"},{alias:null,args:zc,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsConnection",kind:"LinkedField",name:"suggested_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,a,b,Rh,{kind:"InlineFragment",selections:[yh,og,{alias:null,args:null,kind:"ScalarField",name:"upsell",storageKey:null}],type:"BusinessPresenceDerivedLabel",abstractKey:null}],storageKey:null},R],storageKey:null},Z,Gc],storageKey:"suggested_labels(first:20)"},{alias:null,args:zc,filters:null,handle:"connection",key:"BizKitContextCard_suggested_labels",kind:"LinkedHandle",name:"suggested_labels"}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactBusinessAttributes",kind:"LinkedField",name:"business_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactCommunicationPreference",kind:"LinkedField",name:"communication_preference",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_subscription_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttribute",kind:"LinkedField",name:"customer_labels",plural:!1,selections:[{alias:null,args:Hc,concreteType:"BizCRMContactMessageLabelAttributeLabelListConnection",kind:"LinkedField",name:"label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Rh,Bc,W,Sh,Th,Ic,Jc,Kc,B],storageKey:null},R],storageKey:null},Z,Gc],storageKey:"label_list(first:400)"},{alias:null,args:Hc,filters:null,handle:"connection",key:"Contact_customer_label_list",kind:"LinkedHandle",name:"label_list"},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsConnection",kind:"LinkedField",name:"customer_custom_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"node",plural:!1,selections:Vh,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttribute",kind:"LinkedField",name:"admin_notes",plural:!1,selections:[{alias:null,args:Mc,concreteType:"BizCRMContactAdminNotesAttributeNotesListConnection",kind:"LinkedField",name:"notes_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttributeNotesListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageAdminNote",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:f,storageKey:null},Ng,{alias:null,args:null,kind:"ScalarField",name:"note_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_source_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"underlying_admin_creator",plural:!1,selections:[B,b,a],storageKey:null},B],storageKey:null},R],storageKey:null},N,Gc],storageKey:"notes_list(first:2)"},{alias:null,args:Mc,filters:null,handle:"connection",key:"BizKitContextCard_notes_list",kind:"LinkedHandle",name:"notes_list"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactWAAttributes",kind:"LinkedField",name:"wa_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wa_customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_enable_ads_consent_in_ctwa",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_wa_automated_label_nux",storageKey:null},{alias:"adsDataSharingLabelsNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"LABEL_CREATION_WA"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"LABEL_CREATION_WA")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"ctm_custom_label_reporting_pages"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Nc,storageKey:'gk_check(gk_name:"ctm_custom_label_reporting_pages")'},Qc,a,{alias:null,args:null,kind:"ScalarField",name:"is_p2m_lite_payment_onboarded",storageKey:null}],storageKey:null},Rc,{alias:null,args:null,concreteType:"BizCRMContactBusinessActions",kind:"LinkedField",name:"business_actions",plural:!1,selections:[{alias:null,args:Sc,concreteType:"BizCRMContactBusinessActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactBusinessActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:null,args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"contact_action",plural:!1,selections:[B,Ng,Jb,g,Ke,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"descriptions",plural:!0,selections:f,storageKey:null},lb,{alias:null,args:null,kind:"ScalarField",name:"click_url",storageKey:null},Ib,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invoice_id",storageKey:null},uk,Vc],type:"BizCRMContactAdAction",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:d,storageKey:null}],type:"BizCRMContactFacebookActionWithStory",abstractKey:null},{kind:"InlineFragment",selections:[uk,W,Vc,{alias:null,args:null,kind:"ScalarField",name:"show_ad_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"data_silo_auto_detected_activity",storageKey:null}],type:"BizCRMContactCustomAction",abstractKey:null},{kind:"InlineFragment",selections:[W],type:"BizCRMContactBusinessOrderAction",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},R],storageKey:null},N],storageKey:'actions(first:5,types:["BUSINESS_ORDER"])'},{alias:null,args:Sc,filters:["types"],handle:"connection",key:"BizKitContextCardOrders__actions",kind:"LinkedHandle",name:"actions"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_consent_upsell_in_inbox_at_thread_entry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_event_sharing_consent_at_thread_entry",storageKey:null},{alias:null,args:null,concreteType:"XFBMBSAdsEventSharingSettings",kind:"LinkedField",name:"mbs_ads_event_sharing_settings",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_business_opt_in_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_consumer_opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY_ON_THREAD_ENTRY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY_ON_THREAD_ENTRY")'},Wc,{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Xc],storageKey:null}]},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Xc,a],storageKey:null}]}]},{condition:"shouldSkipMessage",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[v,{alias:null,args:jc,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:52,width:52)"}],storageKey:null},{alias:null,args:null,concreteType:"PageContactCTAType",kind:"LinkedField",name:"contact_ctas",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null}],storageKey:null}],storageKey:null},Pc,{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[gc,{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[e,hc],storageKey:null}],storageKey:null}]},{condition:"shouldSkipPageQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,$c,dd,{alias:null,args:Hc,concreteType:"PageCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Rh,Sh,Bc,W,Xh,Th,Yc,B],storageKey:null},R],storageKey:null},Z],storageKey:"corp_labels(first:400)"},ed,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},fd,{alias:"is_in_kbank_rollout",args:hd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:id,storageKey:'gk_check(gk_name:"mcom_kbank_integration_rollout")'},{alias:"show_payment_onboarding_context_card",args:[{kind:"Literal",name:"gk_name",value:"messenger_p2m_lite_merchant_onboarding"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Nc,storageKey:'gk_check(gk_name:"messenger_p2m_lite_merchant_onboarding")'}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[a,$c,dd,{alias:null,args:Hc,concreteType:"XFBMBSBusinessAssetsCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssetsCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Rh,Bc,W,Sh,Xh,Th,Yc,B],storageKey:null},R],storageKey:null},Z],storageKey:"corp_labels(first:400)"},ed,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page_if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},fd,{alias:"is_in_kbank_rollout",args:hd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:id,storageKey:'gk_check_page(gk_name:"mcom_kbank_integration_rollout")'}],storageKey:null}]}]}],storageKey:null},{alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sections",storageKey:null}]},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sections_renderers",plural:!0,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isXFBBizCRMContactSectionRenderer"},{alias:null,args:null,kind:"ScalarField",name:"section_enum",storageKey:null},a,{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardProfileSection3DWrapper_profile",fragmentPropName:"profile",kind:"ModuleImport"}],type:"XFBBizKitContextCardProfileSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutDetailSection3DWrapper_about",fragmentPropName:"about",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutDetailSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutSectionFacebook3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutSectionFacebookRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutSectionInstagram3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutSectionInstagramRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardNotesSection3DWrapper_notes",fragmentPropName:"notes",kind:"ModuleImport"}],type:"XFBBizKitContextCardNotesSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardMediaSection3DWrapper_media",fragmentPropName:"media",kind:"ModuleImport"}],type:"XFBBizKitContextCardMediaSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardOrdersSection3DWrapper_orders",fragmentPropName:"orders",kind:"ModuleImport"}],type:"XFBBizKitContextCardOrdersSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardMessageSection3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardMessageSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextLabels3DWrapper_contactLabels",fragmentPropName:"contactLabels",kind:"ModuleImport"}],type:"XFBBizKitContextCardLabelsSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardActivitySection3DWrapper_activities",fragmentPropName:"activities",kind:"ModuleImport"}],type:"XFBBizKitContextCardActivitySectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardPaymentSection3DWrapper_payment",fragmentPropName:"payment",kind:"ModuleImport"}],type:"XFBBizKitMessengerOrdersContextCardSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardReminderSection3DWrapper_reminder",fragmentPropName:"reminder",kind:"ModuleImport"}],type:"XFBBizKitContextCardReminderRenderer",abstractKey:null}],storageKey:null}]}],storageKey:null}]}],storageKey:null},nm],storageKey:null},sm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActions",kind:"LinkedField",name:"all_actions",plural:!1,selections:[{alias:null,args:Mc,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:"codeSplitWrapper",args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{args:null,documentName:"BizKitContextCardActivityListItem3DWrapper_BizCRMContactAction3DWrapper",fragmentName:"BizKitContextCardActivityListItem_node",fragmentPropName:"node",kind:"ModuleImport"}],storageKey:null}],storageKey:null},R],storageKey:null},N,Gc],storageKey:"actions(first:2)"},{alias:null,args:Mc,filters:null,handle:"connection",key:"BizKitContextCardActivityList_actions",kind:"LinkedHandle",name:"actions"},{alias:"interaction_count",args:null,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:vi,storageKey:null}],storageKey:null},a,Rc,Pc,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Kb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_nux",storageKey:null},Wc,{alias:"adsDataSharingActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"ACTIVITY")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Qc,a,{alias:"two_step_do_nux_tour_gk",args:[{kind:"Literal",name:"gk_name",value:"two_step_do_nux_tour"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Nc,storageKey:'gk_check(gk_name:"two_step_do_nux_tour")'}],storageKey:null},{alias:"adsDataSharingDetectedActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY")'}],storageKey:null},tm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:om,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:jd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:kd,storageKey:'gk_check(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"translationFix",args:[{kind:"Literal",name:"qe_universe",value:"tas_bizweb_translation_fix_universe"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:"is_enabled",args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"has_string_translation"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"has_string_translation")'}],storageKey:'qe_check(qe_universe:"tas_bizweb_translation_fix_universe")'},{alias:"timelineActionsCheck",args:ld,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:nd,storageKey:'gk_check(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:rm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:jd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:kd,storageKey:'gk_check_page(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"timelineActionsCheck",args:ld,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:nd,storageKey:'gk_check_page(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}]}]},params:{id:"9993770174072372",metadata:{},name:"BizInboxUnifiedThreadsQuery",operationKind:"query",text:null}}}();ba("relay-runtime").PreloadableQueryRegistry.set(aa.params.id,aa);ea.exports=aa}),null);/*FB_PKG_DELIM*/
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();f["default"]=a}),66);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});f["default"]=a}),66);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({LIVE_BEEPER:"live_beeper"});f["default"]=a}),66);
__d("CvcV3HttpEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856513");b=d("FalcoLoggerInternal").create("cvc_v3_http_event",a);e=b;g["default"]=e}),98);
__d("CVCv3SubscriptionHelper",["CvcV3HttpEventFalcoEvent","DateConsts","guid"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$1=a;this.$2=c("guid")();this.$3=((a=b)!=null?a:"null")+"::"+((b=d)!=null?b:"null");this.$4=null;this.$5=null}var b=a.prototype;b.isValidSubscription=function(){return!!this.$1};b.makeCVCv3StateUpdate=function(a,b,c,e){var f=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(f={m:e,pf:Math.floor((b-a)*d("DateConsts").MS_PER_SEC),s:c,sa:Math.floor(a*d("DateConsts").MS_PER_SEC)});e={pps:this.$4,ps:f,si:this.$2,so:this.$3,vi:this.$1};this.$4=f;return e};b.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return babelHelpers["extends"]({},a,e)};b.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};b.clearAnyPreviousContext=function(){this.$4=null};b.logHttpRequestSuccess=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_success",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpRequestFailure=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_failed",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logHttpRequestTimeout=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_timeout",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpResponseBad=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_response_bad",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logDebugInfo=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:a,countable_id:b.$1}})};return a}();g["default"]=a}),98);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("CometAudioManagerContexts").AudioApiContext);return a}g.useAudioApi=a}),98);
__d("CometFullScreen",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;return typeof c==="function"?c.call(a):(g||(g=b("Promise"))).reject()}function c(){var a=document.exitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitExitFullscreen;return typeof a==="function"?a.call(document):(g||(g=b("Promise"))).reject()}function d(){return(document.webkitFullscreenEnabled===!0||document.mozFullScreenEnabled===!0||document.msFullscreenEnabled===!0||document.fullscreenEnabled===!0)&&(typeof document.webkitExitFullscreen==="function"||typeof document.mozCancelFullScreen==="function"||typeof document.msExitFullscreen==="function"||typeof document.exitFullscreen==="function")}function h(){return document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||null}function e(){return h()!=null}function i(){return["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"]}function j(a){var b=window.document,c=!1,d=!0;i().forEach(function(e){b.addEventListener(e,a,{capture:c,passive:d})});return function(){i().forEach(function(d){b.removeEventListener(d,a,c)})}}f.requestFullScreen=a;f.exitFullScreen=c;f.isSupported=d;f.getFullScreenElement=h;f.isFullScreen=e;f.getFullScreenChangeEventNames=i;f.subscribeToFullScreenChangeEvent=j}),66);
__d("CometVideoPlayerLoggingConfigForFBWeb",["CometVideoPlayerLoggingConfigForDisabledLogging","FBVideoMetadataProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a==null?void 0:a.disableLogging)===!0?d("CometVideoPlayerLoggingConfigForDisabledLogging").createCometVideoPlayerLoggingConfigForDisabledLogging():{loggingToSNAPLCreateMetadataProvider:d("FBVideoMetadataProvider").createFBVideoMetadataProvider,loggingToSNAPLEnabled:(a==null?void 0:a.withFBWebSNAPLGK)===!0?c("gkx")("1460"):void 0}}g.createCometVideoPlayerLoggingConfigForFBWeb=a}),98);
__d("makeAudioSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","createVideoStateHook","makeAudioSymbol","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useId,m=b.useMemo,n=b.useRef,o=b.useState;e=d("createVideoStateHook").createVideoStateHook();var p=e.valueHook;function a(){var a=p({isVolumeInitialized:!1}),b=l(),e=(i||(i=d("VideoPlayerHooks"))).useInstanceKey(),f=m(function(){return c("makeAudioSymbol")(b,e)},[b,e]),g=d("CometAudioManagerHooks").useAudioApi(),h=n(g);k(function(){h.current=g},[g]);var q=i.useController(),r=200,s=i.useLastPlayReason(),t=i.useLastMuteReason(),u=i.useMuted();r=c("CometThrottle")(i.useVolume,r,{trailing:!0});var v=r(),w=c("usePrevious")(v),x=i.usePaused(),y=j(d("CometAudioManagerContexts").CometAudioLocalScopeContext),z=j(d("CometAudioManagerContexts").CometAudioGroupContext),A=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),B=i.useVolumeSetting(),C=m(function(){return(z==null?void 0:z.groupID)||d("CometAudioManagerContexts").makeAudioGroupID()},[z==null?void 0:z.groupID]);r=o(!0);var D=r[0];r=r[1];var E=m(function(){return{audioLocalScope:y,controller:q,groupID:C,instanceKey:e,lastMuteReason:t,lastPlayReason:s,muted:u,paused:x,previousVolume:w,symbol:f,videoPlayerPortalingPlaceInfo:A,volume:v}},[y,q,C,e,t,s,u,x,w,f,A,v]);k(function(){B!=null&&a.isVolumeInitialized!==!0&&(q.setVolume(B),a.isVolumeInitialized=!0)},[q,a,!0,B]);r=z||{allowSound:D,groupID:C,setAllowSound:r};var F=n(r);k(function(){g&&g.register(E,F.current);return function(){g&&g.unregister(f,C)}},[g,E,C,f]);k(function(){g&&g.update(E)},[g,E]);k(function(){!D&&h.current&&q.setMuted(!0,"audio_manager_initiated")},[D,h,q]);return null}g["default"]=a}),98);
__d("VideoPlayerAutoplayHooks",["VideoPlayerAutoplayContexts","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw c("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function b(){return i(d("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}g.useAutoplayApi=a;g.useVideoAutoplayLocalScope=b}),98);
__d("VideoPlayerDebugAutoplayAPI",["cr:1453865","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";d=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:c("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:c("emptyFunction"),useVideoPlayerDebugInfo:c("emptyFunction").thatReturns(null)};g["default"]=d}),98);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";f["default"]=a}),66);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(8),e=j(a),f;b[0]!==a?(f=function(){return new(c("AutoplayRulesEngine"))(a)},b[0]=a,b[1]=f):f=b[1];f=k(f);var g=f[0],h=f[1],l;b[2]!==a?(f=function(){e.current!==a&&h(function(){return new(c("AutoplayRulesEngine"))(a)})},l=[a],b[2]=a,b[3]=f,b[4]=l):(f=b[3],l=b[4]);i(f,l);b[5]!==g?(f=function(){e.current=g.getRules()},l=[g],b[5]=g,b[6]=f,b[7]=l):(f=b[6],l=b[7]);i(f,l);return g}g["default"]=a}),98);
__d("VideoPlayerViewabilityHooks",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;g.useVideoPlayerExtendedPassiveViewabilityInfo=(h||(h=d("VideoPlayerHooks"))).useVideoPlayerExtendedPassiveViewabilityInfo;g.useVideoPlayerPassiveViewabilityInfo=h.useVideoPlayerPassiveViewabilityInfo;g.useVideoPlayerViewabilityInfo=h.useVideoPlayerViewabilityInfo}),98);
__d("useEventCallbackOn",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,c){var e=d("react-compiler-runtime").c(5),f,g;e[0]!==c||e[1]!==b||e[2]!==a?(f=function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},g=[a,b,c],e[0]=c,e[1]=b,e[2]=a,e[3]=f,e[4]=g):(f=e[3],g=e[4]);i(f,g)}g["default"]=a}),98);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useCallback,j=f.useState;function b(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function k(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var l=b();function m(b){var c=a.document.hasFocus?a.document.hasFocus():!0,d=k();return d||(b?!1:!c)}function n(){return k()}function e(b){var d=(b==null?void 0:b.noPauseOnBlurOrFocus)===!0,e=j(function(){return m(d)}),f=e[0],g=e[1];e=j(function(){return n()});var h=e[0],k=e[1],o=!!b&&b.scrollTerminatesHiddenOrBlurred===!0;e=i(function(){g(m(d)),k(n())},[g,d]);b=e;var p=i(function(){var a=m(d);a&&o&&f&&g(!1)},[f,d,o]);d&&(b=c("emptyFunction"));c("useEventCallbackOn")(a.window,"blur",b);c("useEventCallbackOn")(a.window,"focus",b);c("useEventCallbackOn")(a.document,l,e);c("useEventCallbackOn")(a.window,"scroll",p);return{isDocumentHidden:h,isDocumentHiddenOrBlurred:f}}g["default"]=e}),98);
__d("useVideoPlayerBandwidthEstimate",["VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","react","react-compiler-runtime","useInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=5e3;function a(){var a=d("react-compiler-runtime").c(2),b=k,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=b(),a[0]=e):e=a[0];e=i(e);var f=e[0],g=e[1];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return g(b())},a[1]=e):e=a[1];c("useInterval")(e,j);return f}function k(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}g["default"]=a}),98);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","VideoPlayerHooks","VideoPlayerShakaGlobalConfig","VideoPlayerViewabilityHooks","react","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.startTransition,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState;function a(a){var b=(i||(i=d("VideoPlayerHooks"))).useAdClientToken(),e=i.useAutoplayGatingResult(),f=i.useBroadcastStatus(),g=i.useEnded(),h=i.useIsFrozenPassive(),p=i.useLastPauseReason(),q=i.useLastPlayReason(),r=i.useMuted(),s=i.usePaused(),t=k(c("HiddenSubtreePassiveContext")),u=!b;a=(a==null?void 0:a.noPauseOnBlurOrFocus)===!0||d("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);a=c("useIsBackgrounded")({noPauseOnBlurOrFocus:a,scrollTerminatesHiddenOrBlurred:u});var v=a.isDocumentHidden,w=a.isDocumentHiddenOrBlurred,x=c("useVideoPlayerBandwidthEstimate")(),y=d("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),z=d("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();u=o(t.getCurrentState().backgrounded);var A=u[0],B=u[1];a=o(t.getCurrentState().hidden);var C=a[0],D=a[1];l(function(){var a=function(){j(function(){var a=t.getCurrentState();D(a.hidden);B(a.backgrounded)})},b=t.subscribeToChanges(a);a();return function(){b.remove()}},[t,B,D]);u=o(function(){return h.getCurrentState()});var E=u[0],F=u[1];l(function(){var a=h.subscribeToChanges(function(a){F(a)}),b=h.getCurrentState();F(b);return function(){a.remove()}},[h,F]);var G=m(function(){return{adClientToken:b,autoplayGatingResult:e,bandwidthEstimate:x,broadcastStatus:f,controllerIsFrozen:E,currentSubtreeIsBackgrounded:A,currentSubtreeIsHidden:C,ended:g,hiddenSubtreePassive:t,isDocumentHidden:v,isDocumentHiddenOrBlurred:w,isFrozenPassive:h,lastPauseReason:p,lastPlayReason:q,muted:r,paused:s,videoPlayerExtendedPassiveViewabilityInfo:z,videoPlayerPassiveViewabilityInfo:y}},[b,e,x,f,E,A,C,g,t,v,w,h,p,q,r,s,z,y]);a=o(G);var H=a[0],I=a[1],J=n(H);l(function(){J.current=H},[H]);l(function(){var a=!1;for(var b in G)if(Object.prototype.hasOwnProperty.call(G,b)&&G[b]!==J.current[b]){a=!0;break}a&&I(G)},[G,I]);return H}g["default"]=a}),98);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","react","react-compiler-runtime","useAutoplayRulesEngine","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useId;b.useMemo;var m=b.useRef,n=b.useState;function a(){var a=d("react-compiler-runtime").c(72),b=l(),e=(i||(i=d("VideoPlayerHooks"))).useCanAutoplay(),f=i.useInstanceKey(),g;a[0]!==b||a[1]!==f?(g=c("makeSelectedAutoplayVideoSymbol")(b,f),a[0]=b,a[1]=f,a[2]=g):g=a[2];b=g;var h=b,o=m(h);a[3]!==h?(g=function(){o.current=h},b=[h],a[3]=h,a[4]=g,a[5]=b):(g=a[4],b=a[5]);k(g,b);var p=j(c("HiddenSubtreePassiveContext")),q=i.useController(),r=m(!1),s=d("useConcurrentAutoplayManagementAPI").useAutoplayControlID();a[6]!==s||a[7]!==q?(g=function(){d("CoreVideoPlayerAutoplayClientUtils").log(o.current,"[ASSUME CONTROL] "+s),q.registerControllingComponent(s)},b=[q,s],a[6]=s,a[7]=q,a[8]=g,a[9]=b):(g=a[8],b=a[9]);k(g,b);var t=i.useVideoPlayerPassiveViewabilityInfo();a[10]!==q?(g=q.getCurrentState(),a[10]=q,a[11]=g):g=a[11];b=g;g=b.paused;var u=m(g),v=d("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),w=m(v);a[12]!==v?(b=function(){w.current=v},g=[v],a[12]=v,a[13]=b,a[14]=g):(b=a[13],g=a[14]);k(b,g);a[15]!==q||a[16]!==t?(b=function(){var a=q.getCurrentState(),b=a.lastPlayReason;a=a.paused;var d=u.current;u.current=a;var e=t==null?void 0:t.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;w.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&b==="user_initiated"&&d&&(r.current=!0)}},a[15]=q,a[16]=t,a[17]=b):b=a[17];var x=b,y=m(x);a[18]!==x?(g=function(){y.current=x},b=[x],a[18]=x,a[19]=g,a[20]=b):(g=a[19],b=a[20]);k(g,b);a[21]!==q||a[22]!==x?(g=function(){var a=q.subscribe(function(){x()});return function(){a.remove()}},b=[q,x],a[21]=q,a[22]=x,a[23]=g,a[24]=b):(g=a[23],b=a[24]);k(g,b);a[25]!==v.noPauseOnBlurOrFocus?(g={noPauseOnBlurOrFocus:v.noPauseOnBlurOrFocus},a[25]=v.noPauseOnBlurOrFocus,a[26]=g):g=a[26];var z=c("useVideoAutoplayState")(g),A=c("useAutoplayRulesEngine")(v.autoplayLocalRules),B=e==="allow"?c("evaluateVideoAutoplayDefaultAllowRule"):c("evaluateVideoAutoplayDefaultIgnoreRule");a[27]!==B?(b=function(){return B},a[27]=B,a[28]=b):b=a[28];g=n(b);b=g[0];var C=g[1];g=n(null);var D=g[0],E=g[1];a[29]!==A||a[30]!==B||a[31]!==z?(g=function(){return A.evaluateAutoplay(z,B)},a[29]=A,a[30]=B,a[31]=z,a[32]=g):g=a[32];g=n(g);var F=g[0],G=g[1];g=n(null);var H=g[0],I=g[1],J=m(F),K=d("VideoPlayerAutoplayHooks").useAutoplayApi(),L=m(K),M;a[33]!==K?(g=function(){L.current=K},M=[K],a[33]=K,a[34]=g,a[35]=M):(g=a[34],M=a[35]);k(g,M);var N=e!=="dangerously_disable_autoplay_management";a[36]!==K||a[37]!==v||a[38]!==q||a[39]!==p||a[40]!==f||a[41]!==N||a[42]!==h?(g=function(){K.register(h,f,v,q,p,N);c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:J.current}});return function(){K.unregister(h),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:J.current}})}},M=[K,v,q,p,f,N,h],a[36]=K,a[37]=v,a[38]=q,a[39]=p,a[40]=f,a[41]=N,a[42]=h,a[43]=g,a[44]=M):(g=a[43],M=a[44]);k(g,M);a[45]!==K||a[46]!==s||a[47]!==A||a[48]!==q||a[49]!==B||a[50]!==p||a[51]!==D||a[52]!==H||a[53]!==h||a[54]!==z||a[55]!==t?(e=function(){var a=function(){var a=A.evaluateAutoplay(z,B);J.current=a;var b=A.getRules(),e=A.getIndexOfLastWinningRule(),f=e>=0?b[e]:B;b=t&&t.getCurrent();e=q.getCurrentState();e=e.paused;(H===null||H!==a)&&(G(a),I(a));if(a==="PAUSE"&&!e&&q.isControllingComponent(s)){e=!0;y.current();if(r.current){r.current=!1;var g=b==null?void 0:b.positionToViewport;g&&q.scrollIntoView(g.top<0);e=!1}if(e){g="[PAUSE] via short-circuit on "+f.name+".";d("CoreVideoPlayerAutoplayClientUtils").log(o.current,g);q.pause("autoplay_initiated");c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:a}})}}(D===null||D!==f)&&(C(function(){return f}),E(function(){return f}),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:a}}));d("CoreVideoPlayerAutoplayClientUtils").log(o.current,"[DECISION: "+a+"] from "+f.name);b&&K.update(h,a,b)},b=p.subscribeToChanges(function(a){p.getCurrentState().hidden||p.getCurrentState().backgrounded?q.isControllingComponent(s)||q.unregisterControllingComponent(s):q.registerControllingComponent(s)}),e=t?t.subscribe(function(){p.getCurrentState().hidden||p.getCurrentState().backgrounded?q.isControllingComponent(s)||q.unregisterControllingComponent(s):q.registerControllingComponent(s),a()}):null;a();return function(){b.remove(),e&&e.remove()}},g=[K,s,A,q,B,p,D,H,C,G,E,I,h,z,t],a[45]=K,a[46]=s,a[47]=A,a[48]=q,a[49]=B,a[50]=p,a[51]=D,a[52]=H,a[53]=h,a[54]=z,a[55]=t,a[56]=e,a[57]=g):(e=a[56],g=a[57]);k(e,g);a[58]!==s||a[59]!==F||a[60]!==q?(M=function(){var a=q.isControllingComponent(s),b=q.getCurrentState();b=b.paused;d("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(F,J.current,b,a)&&(d("CoreVideoPlayerAutoplayClientUtils").log(o.current,"[PAUSE] the video for "+F),q.pause("autoplay_initiated"),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:w.current.autoplayScopeID,event_creation_time:Date.now(),initiator:o.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:L.current.getAutoplayManagerDebugInfo(w.current).selectedAutoplayVideoSymbol,target:o.current,target_current_autoplay_decision:F}}))},e=[F,q,s],a[58]=s,a[59]=F,a[60]=q,a[61]=M,a[62]=e):(M=a[61],e=a[62]);k(M,e);a[63]!==s||a[64]!==q?(g=function(){return function(){d("CoreVideoPlayerAutoplayClientUtils").log(o.current,"[RELEASE CONTROL] "+s),q.unregisterControllingComponent(s)}},M=[q,s],a[63]=s,a[64]=q,a[65]=g,a[66]=M):(g=a[65],M=a[66]);k(g,M);a[67]!==b||a[68]!==F||a[69]!==v||a[70]!==h?(e={applicableRule:b,autoplayApiRef:L,autoplayDecision:F,autoplayLocalScope:v,symbol:h},a[67]=b,a[68]=F,a[69]=v,a[70]=h,a[71]=e):e=a[71];c("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition(e);return null}g["default"]=a}),98);
__d("VideoPlayerViewabilityProvider.react",["VideoPlayerViewabilityContexts","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),c=a.children,e=a.isDesktopPictureInPicture,f=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;var g;b[0]!==c||b[1]!==f?(g=i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:f,children:c}),b[0]=c,b[1]=f,b[2]=g):g=b[2];b[3]!==e||b[4]!==g?(c=i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext.Provider,{value:e,children:g}),b[3]=e,b[4]=g,b[5]=c):c=b[5];b[6]!==c||b[7]!==a?(f=i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:c}),b[6]=c,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("useBlockCappedListItemWhenPlayingVideo",["CappedListItemContext","err","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var e;b=d("react-compiler-runtime").c(4);var f=(e=i(c("CappedListItemContext")))==null?void 0:e.registerBlocker,g;b[0]!==a||b[1]!==f?(e=function(){if(!f)return;var b;b=null;var c;c=null;var d=function(){var d=a.getCurrentState().playing;if(d!==b){b=d;c&&(c(),c=null);if(d){var e;c=f({reason:"playing_video",source:e})}}};d();var e=a.subscribe(d);return function(){e.remove(),c&&(c(),c=null)}},g=[a,f],b[0]=a,b[1]=f,b[2]=e,b[3]=g):(e=b[2],g=b[3]);j(e,g)}g["default"]=a}),98);
__d("useDisableVirtualizationWhenPlayingVideo",["VirtualizationContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var e=d("react-compiler-runtime").c(5),f=i(c("VirtualizationContext")),g,h;e[0]!==f||e[1]!==a||e[2]!==b?(g=function(){if(f==null)return;var c=f.createFlag,d=f.createPin,e;e=null;var g;g=null;var h=function(){g==null&&(g=c("HAS_PLAYER","playerInstanceKey: "+b));var f=a.getCurrentState();f.playing||f.stalling?e||(e=d("player "+b+" is playing")):f.isFullscreen?e||(e=d("player "+b+" is fullscreen")):(e==null?void 0:e(),e=null)};h();var i=a.subscribe(h);return function(){i.remove(),g==null?void 0:g(),g=null,e==null?void 0:e(),e=null}},h=[a,b,f],e[0]=f,e[1]=a,e[2]=b,e[3]=g,e[4]=h):(g=e[3],h=e[4]);j(g,h)}g["default"]=a}),98);
__d("wrapWithContextProviders",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return function(c){return i.jsx(a.Provider,{value:b,children:c})}}g.wrapWithContextProviders=a;g.makeRenderProviderFn=b}),98);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cr:6094","react","react-compiler-runtime","setTimeout","stylex","useBlockCappedListItemWhenPlayingVideo","useDisableVirtualizationWhenPlayingVideo","wrapWithContextProviders"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;e.useCallback;var m=e.useEffect,n=e.useRef,o=e.useState,p={"default":{height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},hiddenCursor:{cursor:"xjfk50j",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(10),e=n(a),f,g;b[0]!==a?(f=function(){e.current=a},g=[a],b[0]=a,b[1]=f,b[2]=g):(f=b[1],g=b[2]);m(f,g);f=o(!1);g=f[0];var h=f[1];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a;a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();h(!1);var b=c("setTimeout")(function(){h(!0)},e.current);a=function(){c("clearTimeout")(b),a=null}}}},b[3]=f):f=b[3];f=o(f);f=f[0];var i=f.cleanup;f=f.pingNotIdle;var j,k;b[4]!==i?(j=function(){return i},k=[i],b[4]=i,b[5]=j,b[6]=k):(j=b[5],k=b[6]);m(j,k);b[7]!==g||b[8]!==f?(j={isIdle:g,pingNotIdle:f},b[7]=g,b[8]=f,b[9]=j):j=b[9];return j}function r(){var a=d("react-compiler-runtime").c(18),b=o(!1),c=b[0],e=b[1];b=q(3e3);var f=b.isIdle,g=b.pingNotIdle;a[0]!==g?(b=function(){e(!0),g()},a[0]=g,a[1]=b):b=a[1];b=b;var h;a[2]!==g?(h=function(){e(!1),g()},a[2]=g,a[3]=h):h=a[3];h=h;var i;a[4]!==g?(i=function(){e(!0),g()},a[4]=g,a[5]=i):i=a[5];i=i;var j;a[6]!==g?(j=function(){g()},a[6]=g,a[7]=j):j=a[7];j=j;var k;a[8]!==g?(k=function(){g()},a[8]=g,a[9]=k):k=a[9];k=k;var l;a[10]!==c||a[11]!==f||a[12]!==j||a[13]!==b||a[14]!==h||a[15]!==i||a[16]!==k?(l={isHovering:c,isIdle:f,onMouseDown:j,onMouseEnter:b,onMouseLeave:h,onMouseMove:i,onMouseUp:k},a[10]=c,a[11]=f,a[12]=j,a[13]=b,a[14]=h,a[15]=i,a[16]=k,a[17]=l):l=a[17];return l}function s(a){var b=d("react-compiler-runtime").c(16);a=a.children;var e=r(),f=e.isHovering,g=e.isIdle,i=e.onMouseDown,m=e.onMouseEnter,n=e.onMouseLeave,o=e.onMouseMove;e=e.onMouseUp;var q=(k||(k=d("VideoPlayerHooks"))).useIsFullscreen();q=q&&g&&p.hiddenCursor;var s;b[0]!==q?(s=(h||(h=c("stylex")))(p["default"],q),b[0]=q,b[1]=s):s=b[1];b[2]!==a||b[3]!==g?(q=l.jsx((j||(j=d("VideoPlayerContexts"))).VideoPlayerMouseIdleContext.Provider,{value:g,children:a}),b[2]=a,b[3]=g,b[4]=q):q=b[4];b[5]!==f||b[6]!==q?(a=l.jsx((j||(j=d("VideoPlayerContexts"))).VideoPlayerMouseHoverContext.Provider,{value:f,children:q}),b[5]=f,b[6]=q,b[7]=a):a=b[7];b[8]!==i||b[9]!==m||b[10]!==n||b[11]!==o||b[12]!==e||b[13]!==s||b[14]!==a?(g=l.jsx("div",babelHelpers["extends"]({className:s},c("CometVisualCompletionAttributes").IGNORE,{onMouseDown:i,onMouseEnter:m,onMouseLeave:n,onMouseMove:o,onMouseUp:e,children:a})),b[8]=i,b[9]=m,b[10]=n,b[11]=o,b[12]=e,b[13]=s,b[14]=a,b[15]=g):g=b[15];return g}function a(a){var e=d("react-compiler-runtime").c(76),f,g;e[0]!==a?(f=a.children,g=babelHelpers.objectWithoutPropertiesLoose(a,["children"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);a=g;var h=a.adClientToken,i=a.audioAvailabilityInfo,k=a.autoplayGatingResult,m=a.broadcastStatus,n=a.canAutoplay,o=a.controller,p=a.dimensions,q=a.initialTracePolicy,r=a.instanceKey,t=a.isDesktopPictureInPicture,u=a.isFullscreen,v=a.isNCSR,w=a.isPremiumMusicVideo,x=a.lastMuteReason,y=a.lastPauseReason,z=a.lastPlayReason,A=a.videoFBID,B=a.videoPixelsAspectRatio,C=a.videoPlayerPassiveViewabilityInfo,D=a.videoState;a=a.volumeSetting;var E=D.activeCaptions,F=D.activeEmsgBoxes,G=D.availableAudioTracks,H=D.availableVideoQualities,I=D.availableVideoTracks,J=D.bufferEnd,K=D.captionDisplayStyle,L=D.captionsLoaded,M=D.captionsVisible,N=D.currentAudioTrackID,O=D.currentVideoQuality,P=D.currentVideoTrackID,Q=D.duration,R=D.ended,S=D.error,T=D.inbandCaptionsAutogenerated,U=D.inPlayStalling,V=D.isAbrEnabled,W=D.isLiveRewindActive,X=D.isLiveRewindAvailable,Y=D.lastPlayedTimeMs,Z=D.latencyLevel,aa=D.loopCount,ba=D.loopCurrent,ca=D.muted,da=D.paused,ea=D.playerVersion,fa=D.playing,ga=D.seekableRanges,ha=D.seeking,ia=D.selectedVideoQuality,ja=D.stalling,ka=D.streamInterrupted,la=D.targetAudioTrack,ma=D.targetPlaybackRate,na=D.targetVideoQuality,oa=D.volume;D=D.watchTimeMs;var $;e[3]!==f?($=l.jsx(s,{children:f}),e[3]=f,e[4]=$):$=e[4];f=$;e[5]!==o||e[6]!==g||e[7]!==C?($={controller:o,coreVideoStates:g,videoPlayerPassiveViewabilityInfo:C},e[5]=o,e[6]=g,e[7]=C,e[8]=$):$=e[8];b("cr:6094")(r,$);if(e[9]!==E||e[10]!==F||e[11]!==h||e[12]!==i||e[13]!==k||e[14]!==G||e[15]!==H||e[16]!==I||e[17]!==m||e[18]!==J||e[19]!==n||e[20]!==K||e[21]!==L||e[22]!==M||e[23]!==o||e[24]!==N||e[25]!==O||e[26]!==P||e[27]!==p||e[28]!==Q||e[29]!==R||e[30]!==S||e[31]!==U||e[32]!==T||e[33]!==q||e[34]!==r||e[35]!==V||e[36]!==t||e[37]!==u||e[38]!==W||e[39]!==X||e[40]!==v||e[41]!==w||e[42]!==x||e[43]!==y||e[44]!==z||e[45]!==Y||e[46]!==Z||e[47]!==aa||e[48]!==ba||e[49]!==ca||e[50]!==da||e[51]!==ea||e[52]!==fa||e[53]!==ga||e[54]!==ha||e[55]!==ia||e[56]!==ja||e[57]!==ka||e[58]!==la||e[59]!==ma||e[60]!==na||e[61]!==A||e[62]!==B||e[63]!==C||e[64]!==oa||e[65]!==a||e[66]!==D||e[67]!==f){e[69]!==t||e[70]!==u||e[71]!==C?(g=function(a){return l.jsx(c("VideoPlayerViewabilityProvider.react"),{isDesktopPictureInPicture:t,isFullscreen:u,videoPlayerPassiveViewabilityInfo:C,children:a})},e[69]=t,e[70]=u,e[71]=C,e[72]=g):g=e[72];$=d("wrapWithContextProviders").wrapWithContextProviders(f,[d("wrapWithContextProviders").makeRenderProviderFn((j||(j=d("VideoPlayerContexts"))).VideoFBIDContext,A),d("wrapWithContextProviders").makeRenderProviderFn(j.StallingContext,ja),d("wrapWithContextProviders").makeRenderProviderFn(j.PlayingContext,fa),d("wrapWithContextProviders").makeRenderProviderFn(j.InPlayStallingContext,U),d("wrapWithContextProviders").makeRenderProviderFn(j.BufferEndContext,J),d("wrapWithContextProviders").makeRenderProviderFn(j.LastMuteReasonContext,x),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPlayReasonContext,z),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPauseReasonContext,y),d("wrapWithContextProviders").makeRenderProviderFn(j.PausedContext,da),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentAudioTrackIDContext,N),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentVideoTrackIDContext,P),d("wrapWithContextProviders").makeRenderProviderFn(j.CurrentVideoQualityContext,O),d("wrapWithContextProviders").makeRenderProviderFn(j.MutedContext,ca),d("wrapWithContextProviders").makeRenderProviderFn(j.TargetAudioTrackContext,la),d("wrapWithContextProviders").makeRenderProviderFn(j.VolumeContext,oa),d("wrapWithContextProviders").makeRenderProviderFn(j.SelectedVideoQualityContext,ia),d("wrapWithContextProviders").makeRenderProviderFn(j.SeekingContext,ha),d("wrapWithContextProviders").makeRenderProviderFn(j.DurationContext,Q),d("wrapWithContextProviders").makeRenderProviderFn(j.EndedContext,R),d("wrapWithContextProviders").makeRenderProviderFn(j.ErrorContext,S),d("wrapWithContextProviders").makeRenderProviderFn(j.DimensionsContext,p||null),d("wrapWithContextProviders").makeRenderProviderFn(j.InstanceKeyContext,r),d("wrapWithContextProviders").makeRenderProviderFn(j.ControllerContext,o),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableAudioTracksContext,G),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableVideoQualitiesContext,H),d("wrapWithContextProviders").makeRenderProviderFn(j.AvailableVideoTracksContext,I),d("wrapWithContextProviders").makeRenderProviderFn(j.PlayerVersionContext,ea),d("wrapWithContextProviders").makeRenderProviderFn(j.IsAbrEnabledContext,V),d("wrapWithContextProviders").makeRenderProviderFn(j.TargetVideoQualityContext,na),d("wrapWithContextProviders").makeRenderProviderFn(j.PlaybackRateContext,ma),d("wrapWithContextProviders").makeRenderProviderFn(j.CanAutoplayContext,n),d("wrapWithContextProviders").makeRenderProviderFn(j.VolumeSettingContext,a),d("wrapWithContextProviders").makeRenderProviderFn(j.AutoplayGatingResultContext,k),d("wrapWithContextProviders").makeRenderProviderFn(j.BroadcastStatusContext,m),d("wrapWithContextProviders").makeRenderProviderFn(j.LoopCountContext,aa),d("wrapWithContextProviders").makeRenderProviderFn(j.LoopCurrentContext,ba),d("wrapWithContextProviders").makeRenderProviderFn(j.AdClientTokenContext,h),d("wrapWithContextProviders").makeRenderProviderFn(j.ActiveCaptionsContext,E),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionsVisibleContext,M),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionDisplayStyleContext,K),d("wrapWithContextProviders").makeRenderProviderFn(j.CaptionsLoadedContext,L),d("wrapWithContextProviders").makeRenderProviderFn(j.InbandCaptionsAutogeneratedContext,T),d("wrapWithContextProviders").makeRenderProviderFn(j.StreamInterruptedContext,ka),d("wrapWithContextProviders").makeRenderProviderFn(j.WatchTimeContext,D),d("wrapWithContextProviders").makeRenderProviderFn(j.LastPlayedTimeContext,Y),d("wrapWithContextProviders").makeRenderProviderFn(j.SeekableRangesContext,ga),d("wrapWithContextProviders").makeRenderProviderFn(j.LatencyLevelContext,Z),d("wrapWithContextProviders").makeRenderProviderFn(j.IsLiveRewindActiveContext,W),d("wrapWithContextProviders").makeRenderProviderFn(j.IsLiveRewindAvailableContext,X),d("wrapWithContextProviders").makeRenderProviderFn(j.AudioAvailabilityInfoContext,i),d("wrapWithContextProviders").makeRenderProviderFn(j.IsNCSRContext,v),d("wrapWithContextProviders").makeRenderProviderFn(j.IsPremiumMusicVideoContext,w),d("wrapWithContextProviders").makeRenderProviderFn(j.InitialTracePolicyContext,q),d("wrapWithContextProviders").makeRenderProviderFn(j.ActiveEmsgBoxesContext,F),d("wrapWithContextProviders").makeRenderProviderFn(j.VideoPixelsAspectRatioContext,($=B)!=null?$:null),g]);e[9]=E;e[10]=F;e[11]=h;e[12]=i;e[13]=k;e[14]=G;e[15]=H;e[16]=I;e[17]=m;e[18]=J;e[19]=n;e[20]=K;e[21]=L;e[22]=M;e[23]=o;e[24]=N;e[25]=O;e[26]=P;e[27]=p;e[28]=Q;e[29]=R;e[30]=S;e[31]=U;e[32]=T;e[33]=q;e[34]=r;e[35]=V;e[36]=t;e[37]=u;e[38]=W;e[39]=X;e[40]=v;e[41]=w;e[42]=x;e[43]=y;e[44]=z;e[45]=Y;e[46]=Z;e[47]=aa;e[48]=ba;e[49]=ca;e[50]=da;e[51]=ea;e[52]=fa;e[53]=ga;e[54]=ha;e[55]=ia;e[56]=ja;e[57]=ka;e[58]=la;e[59]=ma;e[60]=na;e[61]=A;e[62]=B;e[63]=C;e[64]=oa;e[65]=a;e[66]=D;e[67]=f;e[68]=$}else $=e[68];g=$;c("useBlockCappedListItemWhenPlayingVideo")(o,r);c("useDisableVirtualizationWhenPlayingVideo")(o,r);e[73]!==g||e[74]!==r?(E=l.jsx("div",{"data-instancekey":r,"data-testid":void 0,children:g}),e[73]=g,e[74]=r,e[75]=E):E=e[75];return E}f=l.memo(a);g["default"]=f}),98);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.current!=null&&d("CometFullScreen").getFullScreenElement()===a.current}function a(a){var b=[];function e(){b.forEach(function(a){a()})}var f=null;return{getIsFullscreen:function(){return h(a)},requestSetIsFullscreen:function(b,e){var f=a.current;if(f==null)throw c("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");d("CometFullScreen").isSupported()?b!==h(a)&&(b===!0?d("CometFullScreen").requestFullScreen(f):b===!1&&d("CometFullScreen").exitFullScreen()):b&&e!=null&&typeof e.webkitEnterFullScreen==="function"?e.webkitEnterFullScreen():!b&&e!=null&&typeof e.webkitExitFullScreen==="function"&&e.webkitExitFullscreen()},subscribe:function(a){b.length===0&&f==null&&(f=d("CometFullScreen").subscribeToFullScreenChangeEvent(e));b.push(a);return{remove:function(){c("removeFromArray")(b,a),b.length===0&&f!=null&&(f(),f=null)}}}}}g.createFullscreenController=a}),98);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","gkx","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useState;function a(a,b){var e=d("react-compiler-runtime").c(5),f=c("usePrevious")(a),g,h;e[0]!==a||e[1]!==f||e[2]!==b?(g=function(){a!==f&&(f!==null&&f&&!a&&b(d("GlobalVideoPortsID").makeVideoID()))},h=[a,f,b],e[0]=a,e[1]=f,e[2]=b,e[3]=g,e[4]=h):(g=e[3],h=e[4]);i(g,h)}function b(a,b){var c=j(null),e=c[0];c=c[1];a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()),c(a))}var k=c("gkx")("24382")?b:a;function e(a){var b=d("react-compiler-runtime").c(11),c=a.portalingEnabled;a=a.portalingFromVideoID;var e=d("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),f=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),g=d("GlobalVideoPortsContexts").useGlobalVideoPortsState(),h=f!=null&&g!=null,n=(h||e!=null)&&(c||a!=null),o=j(m);o=o[0];var p=j(l),q=p[0];p=p[1];c=n&&c&&a!=null;a=c&&a!=null?a:q;k(c,p);b[0]!==h||b[1]!==n||b[2]!==e?(q=function(){n&&!h&&e&&e()},c=[h,n,e],b[0]=h,b[1]=n,b[2]=e,b[3]=q,b[4]=c):(q=b[3],c=b[4]);i(q,c);b[5]!==n||b[6]!==a||b[7]!==f||b[8]!==g||b[9]!==o?(p={canBecomePortableLater:n,currentVideoID:a,globalVideoPortsManager:f,globalVideoPortsState:g,thisPlaceID:o},b[5]=n,b[6]=a,b[7]=f,b[8]=g,b[9]=o,b[10]=p):p=b[10];return p}function l(){return d("GlobalVideoPortsID").makeVideoID()}function m(){return d("GlobalVideoPortsID").makePlaceID()}g.useRegenerateUniqueVideoID_exportedForTest=k;g.useVideoPlayerPortalingPlaceState=e}),98);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["BaseContextualLayerAnchorRootContext","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","getOwnObjectValues","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.coreVideoPlayerMetaData,e=a.currentPlaceID,f=a.currentVideoID,g=a.fullscreenController,h=a.globalVideoPortsManager,n=a.globalVideoPortsState_DEPRECATED,o=a.implementations,p=a.isFullscreen,q=a.portablePlaceMetaData,r=a.previousPlaceMetaData,s=a.renderComponents,t=a.renderPlaceholder,u=a.thisPlaceID,v=a.trackingDataEncrypted,w=a.trackingNodes,x=a.viewportMarginsForViewability;a=m(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var y=a[0],z=l(null);k(function(){h.addOrUpdatePlace({coreVideoPlayerMetaData:b,fullscreenController:g,implementations:o,injectCoreVideoStatesRef:z,isFullscreen:p,portablePlaceContainer:y,portablePlaceID:u,portablePlaceMetaData:q,portableVideoID:f,renderComponents:s,renderPlaceholder:t,trackingDataEncrypted:v,trackingNodes:w,viewportMarginsForViewability:x})},[].concat(c("getOwnObjectValues")(b),[f,g,p,h,y],c("getOwnObjectValues")(q||{}),[s,t,u,v,w,x]));k(function(){return function(){h.removePlace({portablePlaceID:u})}},[h,u]);a=j(c("BaseContextualLayerAnchorRootContext"));var A=l(null);return i.jsxs(c("BaseContextualLayerAnchorRootContext").Provider,{value:p?A:a,children:[i.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:y},u),i.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:n!=null?(a=(a=h.getCurrentPlaceStateForVideo(n,f))==null?void 0:a.portablePlaceID)!=null?a:null:e,currentVideoID:f,injectCoreVideoStatesRef:z,previousPlaceMetaData:n!=null?(e=(a=h.getPortableVideoState(n,f))==null?void 0:a.previousPlaceMetaData)!=null?e:null:r,renderComponents:s,thisPlaceID:u}),i.jsx("div",{ref:A})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerPortalingPlace.react",["BaseViewportMarginsContext","CometTrackingCodeContext","CometTrackingNodesContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","react","react-compiler-runtime","recoverableViolation","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useState,n={bottom:0,left:0,right:0,top:0};function o(a){var b=d("react-compiler-runtime").c(4),c=a.ref,e=a.children,f=a.debugRole;a=a.testid;b[0]!==e||b[1]!==f||b[2]!==a?(c=j.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:f,ref:c,testid:void 0,children:e}),b[0]=e,b[1]=f,b[2]=a,b[3]=c):c=b[3];return c}function a(a){var b=d("react-compiler-runtime").c(77),e,f,g,i,q,r,s;b[0]!==a?(f=a.implementations,g=a.portalingEnabled,i=a.portalingFromVideoID,q=a.portalingPlaceMetaData,r=a.renderComponents,s=a.renderPlaceholder,e=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=q,b[6]=r,b[7]=s):(e=b[1],f=b[2],g=b[3],i=b[4],q=b[5],r=b[6],s=b[7]);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=[],b[8]=a):a=b[8];l(p,a);b[9]!==i?(a=i!=null?d("GlobalVideoPortsID").ensureVideoID(i):null,b[9]=i,b[10]=a):a=b[10];a=a;i!=null&&a==null&&c("recoverableViolation")("The provided portalingFromVideoID ("+String(i)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");b[11]!==g||b[12]!==a?(i={portalingEnabled:g,portalingFromVideoID:a},b[11]=g,b[12]=a,b[13]=i):i=b[13];g=d("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState(i);a=g.canBecomePortableLater;i=g.currentVideoID;var t=g.globalVideoPortsManager,u=g.globalVideoPortsState;g=g.thisPlaceID;var v=k(c("BaseViewportMarginsContext")),w=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),x;b[14]!==w?(x=function(){return d("VideoPlayerFullscreenController").createFullscreenController(w)},b[14]=w,b[15]=x):x=b[15];var y=c("useStable")(x);b[16]!==y?(x=y.getIsFullscreen(),b[16]=y,b[17]=x):x=b[17];x=m(x);var z=x[0],A=x[1],B;b[18]!==y?(x=function(){var a=y.subscribe(function(){var a=y.getIsFullscreen();A(a)});A(y.getIsFullscreen());return function(){a.remove()}},B=[y,A],b[18]=y,b[19]=x,b[20]=B):(x=b[19],B=b[20]);l(x,B);x=k(c("CometTrackingNodesContext"));b[21]!==x?(B=x.join(""),b[21]=x,b[22]=B):B=b[22];x=B;B=k(c("CometTrackingCodeContext"));B=(B=B.encrypted_tracking[0])!=null?B:"";v=z?n:v;var C="comet-video-player-place"+(e.videoFBID!=null?"-vid-"+e.videoFBID:"");if(!a){b[23]!==e||b[24]!==v||b[25]!==y||b[26]!==f||b[27]!==z||b[28]!==r||b[29]!==B||b[30]!==x?(a=j.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},e,{fullscreenController:y,implementations:f,isFullscreen:z,renderWithCoreVideoStates:r,trackingDataEncrypted:B,trackingNodes:x,viewportMarginsForViewability:v})),b[23]=e,b[24]=v,b[25]=y,b[26]=f,b[27]=z,b[28]=r,b[29]=B,b[30]=x,b[31]=a):a=b[31];var D;b[32]!==i||b[33]!==a||b[34]!==g?(D=j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:g,currentVideoID:i,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:g,children:a}),b[32]=i,b[33]=a,b[34]=g,b[35]=D):D=b[35];b[36]!==D||b[37]!==C||b[38]!==w?(a=j.jsx(o,{debugRole:null,ref:w,testid:void 0,children:D}),b[36]=D,b[37]=C,b[38]=w,b[39]=a):a=b[39];return a}if(t&&u){if(b[40]!==i||b[41]!==t||b[42]!==u){D=(a=(D=t.getCurrentPlaceStateForVideo(u,i))==null?void 0:D.portablePlaceID)!=null?a:null;b[40]=i;b[41]=t;b[42]=u;b[43]=D}else D=b[43];if(b[44]!==i||b[45]!==t||b[46]!==u){a=(a=(a=t.getPortableVideoState(u,i))==null?void 0:a.previousPlaceMetaData)!=null?a:null;b[44]=i;b[45]=t;b[46]=u;b[47]=a}else a=b[47];b[48]!==e||b[49]!==i||b[50]!==v||b[51]!==y||b[52]!==t||b[53]!==f||b[54]!==z||b[55]!==q||b[56]!==r||b[57]!==s||b[58]!==a||b[59]!==D||b[60]!==g||b[61]!==B||b[62]!==x?(u=j.jsx(c("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:e,currentPlaceID:D,currentVideoID:i,fullscreenController:y,globalVideoPortsManager:t,globalVideoPortsState_DEPRECATED:null,implementations:f,isFullscreen:z,portablePlaceMetaData:q,previousPlaceMetaData:a,renderComponents:r,renderPlaceholder:s,thisPlaceID:g,trackingDataEncrypted:B,trackingNodes:x,viewportMarginsForViewability:v}),b[48]=e,b[49]=i,b[50]=v,b[51]=y,b[52]=t,b[53]=f,b[54]=z,b[55]=q,b[56]=r,b[57]=s,b[58]=a,b[59]=D,b[60]=g,b[61]=B,b[62]=x,b[63]=u):u=b[63];b[64]!==u||b[65]!==C||b[66]!==w?(v=j.jsx(o,{debugRole:null,ref:w,testid:void 0,children:u}),b[64]=u,b[65]=C,b[66]=w,b[67]=v):v=b[67];return v}else{f=(t=e.videoPixelsAspectRatio)!=null?t:null;b[68]!==i||b[69]!==s||b[70]!==f||b[71]!==g?(z=j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:i,previousPlaceMetaData:null,renderPlaceholder:s,thisPlaceID:g,videoPixelsAspectRatio:f}),b[68]=i,b[69]=s,b[70]=f,b[71]=g,b[72]=z):z=b[72];b[73]!==z||b[74]!==C||b[75]!==w?(q=j.jsx(o,{debugRole:null,ref:w,testid:void 0,children:z}),b[73]=z,b[74]=C,b[75]=w,b[76]=q):q=b[76];return q}}function p(){return q}function q(){}g["default"]=a}),98);
__d("VideoPlayerTracePolicyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={initialTracePolicy:null,routeTracePolicy:null};var j=b.createContext(c);function a(){return i(j)}g.VideoPlayerTracePolicyContext=j;g.useVideoPlayerTracePolicy=a}),98);
__d("VideoPlayerTracePolicyProvider.react",["VideoPlayerTracePolicyContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(12),c=a.children,e=a.initialTracePolicy,f=a.routeTracePolicy;a=k(e);var g=a[0],h=a[1];a=k(f);var l=a[0],m=a[1],n;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==l?(a=function(){g!==e&&h(e),l!==f&&m(f)},n=[e,f,g,l],b[0]=e,b[1]=f,b[2]=g,b[3]=l,b[4]=a,b[5]=n):(a=b[4],n=b[5]);j(a,n);b[6]!==g||b[7]!==l?(a={initialTracePolicy:g,routeTracePolicy:l},b[6]=g,b[7]=l,b[8]=a):a=b[8];b[9]!==c||b[10]!==a?(n=i.jsx(d("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:a,children:c}),b[9]=c,b[10]=a,b[11]=n):n=b[11];return n}g["default"]=a}),98);
__d("CoreVideoPlayerWithComponents.react",["VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(22),e,f,g,h,j,k,l;b[0]!==a?(e=a.children,g=a.implementations,h=a.portalingEnabled,j=a.portalingFromVideoID,k=a.portalingPlaceMetaData,l=a.portalingRenderPlaceholder,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7]);b[8]!==e?(a=function(a){return i.jsx(c("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:e}))},b[8]=e,b[9]=a):a=b[9];a=a;var m;b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==j||b[14]!==k||b[15]!==l||b[16]!==a?(m=i.jsx(c("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},f,{implementations:g,portalingEnabled:h,portalingFromVideoID:j,portalingPlaceMetaData:k,renderComponents:a,renderPlaceholder:l})),b[10]=f,b[11]=g,b[12]=h,b[13]=j,b[14]=k,b[15]=l,b[16]=a,b[17]=m):m=b[17];b[18]!==f.initialTracePolicy||b[19]!==f.routeTracePolicy||b[20]!==m?(g=i.jsx(c("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:f.initialTracePolicy,routeTracePolicy:f.routeTracePolicy,children:m}),b[18]=f.initialTracePolicy,b[19]=f.routeTracePolicy,b[20]=m,b[21]=g):g=b[21];return g}g["default"]=a}),98);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;return{autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1}}f.makeGraphQLVideoAutoplayGatingResult=a}),66);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.values(c("CVCv3DisabledPlayerOrigins")),i=Object.values(c("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){function a(a,b,d,e,f,g){var j=this;this.$1=new(c("CVCv3SubscriptionHelper"))(a,b,d);this.$5=f;this.$6=null;this.$9=null;this.$10=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=b!=null?h.includes(b):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$11=g,this.$4=e.subscribe(function(){if(j.$3==null){j.$1.logDebugInfo("empty_video_controller");return}var a=j.$3.getCurrentState();a.playing?j.$12(a):j.$13()}))}var b=a.prototype;b.$12=function(a){if(this.$3==null){this.$1.logDebugInfo("empty_video_controller");return}if(a.playing){if(this.$2==null){a=this.$3.getPlayheadPosition();a>=0&&(this.$2=a)}}else this.$2=null;this.$14(0)};b.stopUnifiedCVC=function(){this.$13()};b.destroy=function(){this.$13(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};b.$13=function(){c("clearTimeout")(this.$8),c("clearTimeout")(this.$7),this.$8=null,this.$7=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$9=null};b.$15=function(){c("clearTimeout")(this.$7),this.$7=null};b.$16=function(){this.$9=null,this.$15(),this.$14(0)};b.$14=function(a){var b=this;if(this.$3==null||this.$8!=null||this.$9!=null||this.$10)return;this.$8=c("setTimeout")(function(){b.$8=null;var a=b.$17();if(a==null){b.$1.logDebugInfo("empty_request");return}b.$9=a;var e=Date.now(),f=!1;c("promiseDone")(a,function(c){if(a!==b.$9)return;b.$9=null;if(c!=null){c=b.$1.processUnifiedResponse(c);b.$18(c,e)}else b.$1.logHttpResponseBad("null payload",Date.now()-e)},function(a){f=!0,b.$1.logHttpRequestFailure(a!=null?JSON.stringify(a):null,Date.now()-e)});b.$7=c("setTimeout")(function(){f||b.$1.logHttpRequestTimeout(Date.now()-e),b.$16()},j*d("DateConsts").MS_PER_SEC)},a)};b.$18=function(a,b){this.$15();b=Date.now()-b;a.d!=null?(this.$1.logHttpRequestSuccess(b),this.$11!=null&&this.$11(a.d)):this.$1.logHttpResponseBad("no data field",b);if(a.a!=null){b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$14(b*d("DateConsts").MS_PER_SEC);break;case"s":this.$10=!0;break}}};b.$17=function(){var a=this.$19();if(a==null)return null;a={d:JSON.stringify(a)};return c("cometAsyncFetch")(c("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};b.$19=function(){if(this.$3==null)return null;var a={};this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$20(d),d.muted,a);return b};b.$20=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};b.testing_setLastStartPosition=function(a){this.$2=a};b.testing_makeUnifiedStateUpdate=function(){return this.$19()};b.testing_handleUnifiedResponse=function(a){return this.$18(a,Date.now())};return a}();g["default"]=a}),98);
__d("VideoPlayerCaptionsDisplayConfigContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({liveCaptionsTextAlignment:null,textSizeMapping:null});g["default"]=b}),98);
__d("VideoPlayerCaptionsDisplay.react",["VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","react","react-compiler-runtime","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useContext,m={captionsCenterAlign:{justifyContent:"xl56j7k",textAlign:"x2b8uid",$$css:!0},captionsContainer:{bottom:"xfqi8uc",boxSizing:"x9f619",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",textAlign:"x2b8uid",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",width:"xh8yej3",$$css:!0},captionsLeftAlign:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},captionsRightAlign:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0}},n={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},o={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},p={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function q(a){switch(a){case"center":return m.captionsCenterAlign;case"left":return m.captionsLeftAlign;case"right":return m.captionsRightAlign;default:c("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}function r(a,b,c){var d={},e=a.captionsBackgroundColor,f=a.captionsBackgroundOpacity,g=a.captionsTextColor;a=a.captionsTextSize;if(e!==null){f=f!==null?o[f]:1;d.backgroundColor="rgba("+p[e]+","+f+")"}g!==null&&(d.color="rgba("+p[g]+")");a!==null&&(d.fontSize=b!=null?babelHelpers["extends"]({},n,b)[a]:n[a]);c&&(d.marginBottom=35);return d}function a(a){var b=d("react-compiler-runtime").c(12),e=a.activeCaptions,f=a.adjustments;a=a.captionDisplayStyle;var g=e==null?void 0:e.rows,i=l(c("VideoPlayerCaptionsDisplayConfigContext")),n=i.liveCaptionsTextAlignment;i=i.textSizeMapping;var o=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext);o=(o==null?void 0:o.getBottomRowAddOn())!=null;var p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p={},b[0]=p):p=b[0];p=p;if(a){var v;b[1]!==a||b[2]!==o||b[3]!==i?(v=r(a,i,o),b[1]=a,b[2]=o,b[3]=i,b[4]=v):v=b[4];p=v}a=(j||(j=d("VideoPlayerHooks"))).useIsLive();v=(i=e==null?void 0:(o=e.styles)==null?void 0:o.textAlignment)!=null?i:"center";if(g!=null&&g.length>0){if(b[5]!==f||b[6]!==p||b[7]!==v||b[8]!==a||b[9]!==n||b[10]!==g){e=g.map(u).filter(t);i=e.length>0?k.jsx("div",{className:(h||(h=c("stylex")))(m.captionsContainer,q(a?(o=n)!=null?o:v:v)),style:{paddingLeft:f.left,paddingRight:f.right,transform:"translateY("+-f.bottom+"px)"},children:k.jsx("div",{className:"x18l40ae x14ctfv x1lkfr7t xk50ysn x37zpob xdj266r xv81d3b xat24cr x5jn1jc xulzisn x1msn8f2 x1uwfbks x1qobr7z",style:p,children:e.map(s)})}):null;b[5]=f;b[6]=p;b[7]=v;b[8]=a;b[9]=n;b[10]=g;b[11]=i}else i=b[11];return i}return null}function s(a,b){return k.jsxs("span",{children:[a,k.jsx("br",{})]},b)}s.displayName=s.name+" [from "+f.id+"]";function t(a){return!!a}function u(a){return a.trim()}b=k.memo(a);e=b;g["default"]=e}),98);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(2),b=(i||(i=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservations(),c;a[0]!==b?(c={bottom:0,left:0,right:0,top:0},b.length>0&&b.forEach(function(a){c[a.location]=c[a.location]+a.size}),a[0]=b,a[1]=c):c=a[1];b=c;return b}g["default"]=a}),98);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","react-compiler-runtime","useVideoPlayerCaptionsDisplayAdjustments"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(){var a=d("react-compiler-runtime").c(4),b=(i||(i=d("VideoPlayerHooks"))).useActiveCaptions(),e=c("useVideoPlayerCaptionsDisplayAdjustments")(),f=i.useCaptionDisplayStyle(),g;a[0]!==b||a[1]!==e||a[2]!==f?(g=j.jsx(c("VideoPlayerCaptionsDisplay.react"),{activeCaptions:b,adjustments:e,captionDisplayStyle:f}),a[0]=b,a[1]=e,a[2]=f,a[3]=g):g=a[3];return g}g["default"]=a}),98);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useReducer,m=b.useState;function n(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){var b=d("react-compiler-runtime").c(11);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],b[0]=e):e=b[0];e=l(n,e);var f=e[0],g=e[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={release:function(a){g({reservation:a,type:"release"})},reserve:function(a){g({reservation:a,type:"reserve"});return a}},b[1]=e):e=b[1];e=m(e);e=e[0];var h=(i||(i=d("VideoPlayerHooks"))).useCaptionsVisible(),o;b[2]!==h?(o=h?k.jsx(c("VideoPlayerCaptions.react"),{}):null,b[2]=h,b[3]=o):o=b[3];b[4]!==a||b[5]!==f||b[6]!==o?(h=k.jsxs((j||(j=d("VideoPlayerContexts"))).VideoPlayerCaptionsReservationsContext.Provider,{value:f,children:[o,a]}),b[4]=a,b[5]=f,b[6]=o,b[7]=h):h=b[7];b[8]!==e||b[9]!==h?(a=k.jsx((j||(j=d("VideoPlayerContexts"))).VideoPlayerCaptionsReservationActionsContext.Provider,{value:e,children:h}),b[8]=e,b[9]=h,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("VideoPlayerCaptionsAreaDeferred.react",["deferredLoadComponent","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react").__setRef("VideoPlayerCaptionsAreaDeferred.react"));g["default"]=a}),98);
__d("VideoPlayerErrorBoundary.react",["FBLogger","getErrorSafe","oz-player/utils/OzErrorUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={error:null},b.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}b.getDerivedStateFromError=function(a){return{error:c("getErrorSafe")(a)}};var e=b.prototype;e.componentDidCatch=function(a,b){b=b.componentStack;var e=c("getErrorSafe")(a);e.componentStack=b;b=this.props;var f=b.description,g=b.onError;b=b.project;a=d("oz-player/utils/OzErrorUtils").isOzError(a)?a.getType():a!=null&&typeof a.name==="string"?a.name:e.name;e.name=a;a="VideoPlayerErrorBoundary caught an "+a;f!=null&&(a=a+" ("+f+")");f=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE","OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR"];var h=["Network failure:","Network failure.","HTTP error.","Bad URL timestamp","URL signature expired","No license for com.widevine.alpha","OZ_DRM_MANAGER: Endpoint returned error: DEVICE_CERTIFICATE_REVOKED"];f=f.every(function(a){return e.name!==a})&&h.every(function(a){return!e.message.startsWith(a)});h=c("FBLogger")(b==null?"comet_video_player":b).catching(e);["OZ_DRM_MANAGER","OZ_JAVASCRIPT_NATIVE","OZ_INITIALIZATION"].includes(e.name)&&(h=h.addToCategoryKey(e.message));f?h.fatal(a):h.warn(a);g!=null&&g(e)};e.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("VideoPlayerFallbackLearnMoreLink.react",["fbt","CometLink.react","FDSText.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1),b=c("gkx")("20836")?"/help/work/1876956335887765/i-cant-view-or-play-videos-on-workplace":"https://www.facebook.com/help/396404120401278/list";a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:j.jsx(c("CometLink.react"),{href:b,target:"_blank",children:h._(/*BTDS*/"Learn more")})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["FDSText.react","VideoPlayerFallbackLearnMoreLink.react","cr:1672302","cr:4149","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(21),f=a.background,g=a.debugError,h=a.message,j=a.showDebugWithoutError;a=a.showLearnMoreLink;j=j===void 0?!0:j;a=a===void 0?!0:a;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x6s0dn4 xatbrnm x9f619 x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 x889kno x1iji9kk x1a8lsjc x1sln4lm x1n2onr6 xh8yej3"},e[0]=k):k=e[0];var l;e[1]!==f?(l={0:{className:"x6s0dn4 x78zum5 xdt5ytf x3es6ox"},1:{className:"x6s0dn4 x78zum5 xdt5ytf x3es6ox x1vjfegm"}}[!!(f!=null)<<0],e[1]=f,e[2]=l):l=e[2];var m;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(m={className:"x6s0dn4 x78zum5 xdt5ytf x193iq5w"},e[3]=m):m=e[3];e[4]!==h?(m=i.jsx("div",babelHelpers["extends"]({},m,{children:i.jsx(c("FDSText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:h})})),e[4]=h,e[5]=m):m=e[5];e[6]!==a?(h=a&&i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf xw7yly9 x193iq5w"},{children:i.jsx(c("VideoPlayerFallbackLearnMoreLink.react"),{})})),e[6]=a,e[7]=h):h=e[7];e[8]!==g||e[9]!==j?(a=(g!=null||j)&&i.jsxs(i.Fragment,{children:[b("cr:4149")?i.jsx(b("cr:4149"),{error:g}):null,b("cr:1672302")?i.jsx(b("cr:1672302"),{error:g}):null]}),e[8]=g,e[9]=j,e[10]=a):a=e[10];e[11]!==l||e[12]!==m||e[13]!==h||e[14]!==a?(g=i.jsxs("div",babelHelpers["extends"]({},l,{children:[m,h,a]})),e[11]=l,e[12]=m,e[13]=h,e[14]=a,e[15]=g):g=e[15];e[16]!==f?(j=f!=null&&i.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy"},{children:f})),e[16]=f,e[17]=j):j=e[17];e[18]!==j||e[19]!==g?(l=i.jsxs("div",babelHelpers["extends"]({},k,{children:[g,j]})),e[18]=j,e[19]=g,e[20]=l):l=e[20];return l}g["default"]=a}),98);
__d("VideoPlayerFallbackCover.react",["fbt","VideoPlayerFallbackCoverImplWithoutRetry.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.background,f=a.debugError,g=a.message,i=a.showDebugWithoutError;a=a.showLearnMoreLink;if(b[0]!==g){var k;k=(k=g)!=null?k:h._(/*BTDS*/"Sorry, we're having trouble with playing this video.");b[0]=g;b[1]=k}else k=b[1];g=k;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==i||b[6]!==a?(k=j.jsx(c("VideoPlayerFallbackCoverImplWithoutRetry.react"),{background:e,debugError:f,message:g,showDebugWithoutError:i,showLearnMoreLink:a}),b[2]=e,b[3]=f,b[4]=g,b[5]=i,b[6]=a,b[7]=k):k=b[7];return k}g["default"]=a}),226);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e=a.onPress,f=a.onUserInteraction,g=a.shouldUnmute,j=a.showTooltip;a=a.useOutlineIcons;j=j===void 0?!0:j;a=a===void 0?!1:a;var m=(k||(k=d("VideoPlayerHooks"))).useController(),n=k.useIsFullscreen(),o=k.useLastMuteReason(),p;b[0]!==n?(p=n?h._(/*BTDS*/"Exit full-screen"):h._(/*BTDS*/"Enter full-screen"),b[0]=n,b[1]=p):p=b[1];p=p;var q;b[2]!==m||b[3]!==n||b[4]!==o||b[5]!==e||b[6]!==f||b[7]!==g?(q=function(){e&&e(),m.requestSetIsFullscreen(!n),g===!0&&o!=="user_initiated"&&m.setMuted(!1,"product_initiated"),f&&f({name:"video_fullscreen_button",type:"happened"})},b[2]=m,b[3]=n,b[4]=o,b[5]=e,b[6]=f,b[7]=g,b[8]=q):q=b[8];q=q;var r;b[9]!==a?(r=a?d("fbicon")._(i("528442"),20):d("fbicon")._(i("517758"),20),b[9]=a,b[10]=r):r=b[10];r=r;var s;b[11]!==a?(s=a?d("fbicon")._(i("595830"),20):d("fbicon")._(i("517763"),20),b[11]=a,b[12]=s):s=b[12];a=s;s=n?r:a;r=j?p:null;b[13]!==p||b[14]!==q||b[15]!==s||b[16]!==r?(a=l.jsx(c("VideoPlayerControlIcon.react"),{icon:s,label:p,onPress:q,tooltip:r}),b[13]=p,b[14]=q,b[15]=s,b[16]=r,b[17]=a):a=b[17];return a}g["default"]=a}),226);
__d("VideoPlayerIMFMetadataContext",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j={imfExpectedFromEmsg:!1,specInlineJson:null},k=b.createContext(j);k.displayName="VideoPlayerIMFMetadataContext";e=k.Provider;function a(){var a=i(k);if(a===j)throw c("unrecoverableViolation")("useVideoPlayerIMFMetadata is not called from a component nested under VideoPlayerRelay/VideoPlayerX.","comet_video_player");return a}g.VideoPlayerIMFMetadataContextProvider=e;g.useVideoPlayerIMFMetadataFromContext=a}),98);
__d("VideoPlayerProgressiveImplementationData",["err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return/\.mpd(\?|$)/.test(a)}function a(a){var b=a.hdSrc,d=a.hdSrcPreferred;a=a.sdSrc;if(b==null&&a==null){var e=c("err")("Both HD and SD browser-native URLs are not available");e.name="GotNoBrowserNativeURLs";return e}if(a==null){e=c("err")("Browser-native SD URL is not available");e.name="GotNoBrowserNativeSDURL";return e}e=h(a);var f=b!=null&&h(b);if(e||f){e=c("err")("HD or SD browser-native URL points to a DASH manifest");e.name="GotBrowserNativeURLsPointToDASH";return e}return{hdSrc:b,hdSrcPreferred:d,sdSrc:a}}g.makeProgressiveImplementationData=a}),98);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!==null&&a.indexOf(".m3u8")!==-1}function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;function d(){var a=b(),c="progressive_SD",d="progressive_HD";return a==null?null:h(a.hdSrc)||h(a.sdSrc)?null:a.hdSrc!=null&&a.playingSrc===a.hdSrc?d:a.sdSrc!=null&&a.playingSrc===a.sdSrc?c:null}return{getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAvailableAudioTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableAudioTracks)!=null?a:[]},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getAvailableVideoTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableVideoTracks)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingAudioRepresentationID:function(){if(c("gkx")("440"))return d();else return null},getCurrentPlayingAudioTrackID:function(){var a;return(a=(a=b())==null?void 0:a.playingAudioTrackID)!=null?a:null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentPlayingVideoRepresentationID:function(){if(c("gkx")("440"))return d();else return"oep_hd"},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getManifestIdentifier:function(){return null},getMpdValidationErrors:function(){return null},getPerfLoggerProvider:function(){return null},getRepresentationCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){var a=b();return a==null?"progressive":h(a.hdSrc)||h(a.sdSrc)?"hls":"progressive"},getTargetAudioTrack:function(){return null},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getUserSelectedVideoVariant:function(){return null},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isLiveRewindAvailable:function(){return!1},isMixedCodecManifest:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedVideoQuality:a,setUserSelectedVideoVariant:function(a){}}}g.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a}),98);
__d("VideoPlayerProgressiveImplementationEngineUtils",[],(function(a,b,c,d,e,f){"use strict";var g="hd",h="sd";function a(a){var b=[];a.sdSrc!=null&&b.push(h);a.hdSrc!=null&&b.push(g);var c=[],d=[],e=a.hdSrcPreferred&&a.hdSrc!=null?g:h;return babelHelpers["extends"]({},a,{availableAudioTracks:c,availableQualities:b,availableVideoTracks:d,playingAudioTrackID:null,playingQuality:null,playingSrc:null,selectedQuality:e,targetQuality:e,targetSrc:null})}function b(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function c(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=b;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=c}),66);
__d("videoUrlUtils",[],(function(a,b,c,d,e,f){"use strict";b=1<<31;var g=~b,h=b+1;function i(a){a=a|0;return Math.max(h,Math.min(a,g))}function j(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(i(a)*1e3):null}function k(){return i(Date.now()/1e3)}var l={OE:"oe"};function m(a){a=a instanceof URL?a.searchParams:new URL(a).searchParams;a=a.get(l.OE);a=a==null?void 0:j(a);return{expirationDate:a}}function a(a){a=m(a);a=a.expirationDate;return a!=null&&a<=new Date(k()*1e3)}f.DEFAULT_UNIXTIME=b;f.MAX_INT=g;f.parseCdnUrlParams=m;f.isCdnUrlExpired=a}),66);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","Promise","UserAgent","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","cr:1473550","cr:1680308","emptyFunction","err","getErrorNameFromMediaErrorCode","getErrorSafe","gkx","promiseDone","unrecoverableViolation","videoUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("emptyFunction");function j(a,b,c){var e=typeof a==="object"&&a!=null&&typeof a.name==="string"?a.name:null;return d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError(["PROGRESSIVE_JAVASCRIPT_NATIVE",e].filter(Boolean).join("/"),a,b,c)}function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,m=a.initialProps;a=a.setExposedStateInReact;var n={current:null},o={current:null},p={current:null},q={current:null},r=function(){var a=x(),e=o.current;if(a==null||e==null)return;a.addEventListener("error",function(){var e=a.error,f=e==null?void 0:e.code,g=c("getErrorNameFromMediaErrorCode")(f);f=e==null?void 0:e.message;var i=f==null||f===""?"Unknown media error":f,j=[],k=f!=null?d("VideoPlayerImplementationErrors").getMoreGranularErrorNameFromHTMLVideoElementErrorMessage(f):null,l=a.src;!e&&a.poster!=null&&a.poster!==""&&(i+="(possible_poster_load_failure)");if(l!==""){var m=null;(h||(h=b("Promise"))).resolve().then(function(){return window.fetch(l)}).then(function(a){var b,c=a.status;b=(b=a.headers.get("Content-Type"))!=null?b:"unknown";i=i+". Fetched video content with Status:"+c+" Content-Type:"+b;m="URL_RESPONSE_HTTP_"+c;if(c<200||c>=300)return a.text().then(function(a){j.push(a.length.toString()),i+=" Body:%s:"+a.substr(0,200)+(a.length>200?"...":"")},function(){})})["catch"](function(a){if(typeof a==="object"&&a!=null&&typeof a.name==="string"&&typeof a.message==="string"){var b;m=(b=m)!=null?b:"URL_RESPONSE_FETCH_FAILED/"+a.name;i=i+". Failed fetching video content with error: "+a.name+" "+a.message}else{m=(b=m)!=null?b:"URL_RESPONSE_FETCH_FAILED";i=i+". Failed fetching video content with unknown error"}})["finally"](function(){var a=c("err").apply(void 0,[i].concat(j));a.name=[g,k,m].filter(Boolean).join("/");z(a,"progressive_implementation_error_with_more_info")})}else{f=c("err").apply(void 0,[i].concat(j));f.name=[g,k,"VIDEO_ELEMENT_SRC_EMPTY"].filter(Boolean).join("/");z(f,"progressive_implementation_error_with_empty_src")}});try{var f=e.audioOnly,g=e.graphQLVideoDRMInfo,i=e.videoFBID;f===!0&&(a.style.display="none");f=g?(f=g.fairplayCert)!=null?f:null:null;if(b("cr:1680308")&&g&&f!=null&&i!=null){q.current=b("cr:1680308").newIfSupported(f,a,i,g.videoLicenseUriMap);if(q.current==null){f=c("err")("Fairplay not supported");z(f,"progressive_player_fairplay_handler_missing")}else q.current.addListener("error",function(a){a=c("err")(a.error);z(a,"progressive_player_fairplay_handler_error")})}var j=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);B.current=j;p.current=e;i=w();y({inbandCaptionsAutogeneratedFromManifest:u.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:u.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:i==null?void 0:i.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:u.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:i==null?void 0:i.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:i==null?void 0:i.sideLoadCaptionsUrlFromProps});A.dispatch({payload:{selectedVideoQuality:u.getUserSelectedVideoQuality(),streamingFormat:u.getStreamType()},type:"implementation_engine_initialized"});g=function(){j.setPlayheadPosition(m.startTimestamp)};c("UserAgent").isBrowser("IE11")?c("promiseDone")(j.getDOMLoadedMetadataPromise().then(g)):g()}catch(a){z(a,"progressive_player_create_exception")}},s=function(a,b){if(b==null)return!0;else if(a.videoFBID!==b.videoFBID){var c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",c);return!1}else if(a.hdSrc!==b.hdSrc||a.sdSrc!==b.sdSrc){c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",c);return!1}else return!1},t=function(a){var b;b={audioOnly:a.audioOnly,graphQLVideoDRMInfo:(b=a.graphQLVideoDRMInfo)!=null?b:null,hdSrc:a.hdSrc===""?null:(b=a.hdSrc)!=null?b:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(b=a.sdSrc)!=null?b:null,videoFBID:a.videoFBID};if(!s(b,n.current))return!1;if(b.hdSrc==null&&b.sdSrc==null)throw c("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");n.current=b;o.current=d("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(b);r();return!0},u=d("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){if(c("gkx")("440")){var a,b=p.current;if(!b)return null;a=(a=B.current)==null?void 0:a.getUnderlyingVideoElement().currentSrc;return babelHelpers["extends"]({},b,{playingSrc:a!=null&&a!==""?a:null})}else return p.current},setUserSelectedVideoQuality:function(a){var b=p.current;if(!b)throw c("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var e=B.current;if(!e)throw c("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");p.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(b,a);var f=p.current.targetSrc;if(f===null){c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",m.videoFBID==null?"":String(m.videoFBID)).warn("Received null targetSrc from setUserSelectedVideoQuality, selectedQuality: %s",String(a));return}k(f,m.expiredVideoUrlRefreshHandler).then(function(a){var b;if(((b=p.current)==null?void 0:b.targetSrc)!==f)return;l(e.getUnderlyingVideoElement(),{crossOrigin:m.crossOrigin_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOURE_DOING},a);a=(b=A.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?b:0;a>0&&e.setPlayheadPosition(a);A.getCurrentState().controlledState.playbackState==="playing"&&e.play();A.dispatch({payload:{},type:"representation_changed"})})["catch"](function(a){var b;if(((b=p.current)==null?void 0:b.targetSrc)!==f)return;b=c("getErrorSafe")(a);c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",m.videoFBID==null?"":String(m.videoFBID)).catching(b).warn("Failed refreshing video URL with original error: %s",String(b))})}}),v=function(){q.current&&(q.current.destroy(),q.current=null)};e=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.loggerToVPL;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:u,getVideoElementAPI:c,loggerToVPL:a}):null},createVideoPlayerError:function(a,b){return j(a,b,(a=p.current)==null?void 0:a.targetSrc)},debugLog:i,debugLogId:f,destroyEngineParts:function(){v()},engineExtrasAPI:u,engineMetadata:{isAbrEnabled:!1,playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:g,handleVideoElementChanged:function(a){a!=null&&r()},handleVideoInfoChange:t,initialProps:m,setExposedStateInReact:a});f=e.engine;var w=e.getCaptionsInfo,x=e.getVideoElement,y=e.handleCaptionsInfoChange,z=e.handleFatalImplementationError,A=e.machine,B=e.videoElementAPIRef;return f}function k(a,e){if(e&&d("videoUrlUtils").isCdnUrlExpired(a))return e(a).then(function(a){var d;return(d=a.refreshedUrl)!=null?d:(h||(h=b("Promise"))).reject(c("err")("Failed refreshing URL"+(a.reason!==null?" with reason: "+a.reason:"")))});else return(h||(h=b("Promise"))).resolve(a)}function l(a,b,c){b=b.crossOrigin;if(c==null||c==="")a.removeAttribute("src");else{var d=a.playbackRate;a.setAttribute("src",c);var e=null;if(b!=null){try{e=new URL(c).origin}catch(a){}if(e!=null&&location.origin!==e)switch(b){case"anonymous":case"use-credentials":a.setAttribute("crossOrigin",b);break;default:a.removeAttribute("crossOrigin");break}}a.playbackRate=d}}g.createVideoPlayerProgressiveImplementationEngine=a;g.internal_setHTMLVideoElementSrc=l}),98);
__d("VideoPlayerProgressiveImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine);a=a.reactVideoFrameAndComponents;return a}g["default"]=a}),98);
__d("useDebouncedValue",["clearTimeout","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var e=d("react-compiler-runtime").c(4),f=j(a),g=f[0],h=f[1],k;e[0]!==b||e[1]!==a?(f=function(){var d=c("setTimeout")(function(){return h(a)},b);return function(){return c("clearTimeout")(d)}},k=[a,b],e[0]=b,e[1]=a,e[2]=f,e[3]=k):(f=e[2],k=e[3]);i(f,k);return g}g["default"]=a}),98);
__d("VideoPlayerSpinner.react",["FDSLoadingAnimation.react","gkx","react","react-compiler-runtime","stylex","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=36,l={spinner:{height:"xc9qbxq",start:"xtzzx4i",opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",transitionDelay:"x5w5eug",transitionDuration:"x13dflua",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x14qfxbe",$$css:!0},spinnerHidden:{opacity:"xg01cxk",transitionDelay:"x2p8vrm",transitionDuration:"x13dflua",transitionProperty:"x1jl3cmp",transitionTimingFunction:"xl405pv",visibility:"xlshs6z",$$css:!0},spinnerSnappier:{transitionDelay:"x2p8vrm",$$css:!0},spinnerSnappierHidden:{transitionDelay:"x1ahifba",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7);a=a.isVisible;var e=c("useDebouncedValue")(a,a?200:500),f;b[0]!==a?(f=(h||(h=c("stylex"))).props(l.spinner,c("gkx")("24333")?[l.spinnerSnappier,!a&&l.spinnerHidden,!a&&l.spinnerSnappierHidden]:[!a&&l.spinnerHidden]),b[0]=a,b[1]=f):f=b[1];a=!e;b[2]!==a?(e=j.jsx(c("FDSLoadingAnimation.react"),{animationPaused:a,size:k}),b[2]=a,b[3]=e):e=b[3];b[4]!==f||b[5]!==e?(a=j.jsx("div",babelHelpers["extends"]({},f,{children:e})),b[4]=f,b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("VideoPlayerSurface.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");function a(a){a=a.children;return a!=null?a:null}c=b.memo(a);g["default"]=c}),98);
__d("WebSessionExtender",["WebSession","clearInterval","cr:13141","cr:913","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=2e4,i=new Set(),j=null;function a(a,e){e===void 0&&(e="extender"),i.add(a),j==null&&(d("WebSession").extend(Date.now()+h+2e3),b("cr:13141")==null?void 0:b("cr:13141").extend(),j=c("setInterval")(function(){d("WebSession").extend(Date.now()+h+2e3),b("cr:13141")==null?void 0:b("cr:13141").extend(),b("cr:913")&&new(b("cr:913"))().setClientTime(Date.now()).setWebsessionID(d("WebSession").getId()).setReason(e).log()},h))}function e(a){i["delete"](a);a=i.size;a===0&&j!=null&&(c("clearInterval")(j),j=null)}g.subscribe=a;g.unsubscribe=e}),98);
__d("VideoPlayerWebSessionExtender.react",["VideoPlayerHooks","WebSessionExtender","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useId;function a(){var a=d("react-compiler-runtime").c(4),b=(i||(i=d("VideoPlayerHooks"))).usePlaying(),c=k(),e,f;a[0]!==b||a[1]!==c?(e=function(){if(b){d("WebSessionExtender").subscribe(c,"video");return function(){d("WebSessionExtender").unsubscribe(c)}}},f=[b,c],a[0]=b,a[1]=c,a[2]=e,a[3]=f):(e=a[2],f=a[3]);j(e,f);return null}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=d("VideoPlayerHooks"))).useStalling(),c=h.useStreamInterrupted(),e=h.useIsLiveRewindActive();c=c&&!e;e=b;b=c?"live_video_interrupted_overlay":e?"spinner":"none";var f;a[0]!==c||a[1]!==b||a[2]!==e?(f={liveVideoInterruptedOverlayVisible:c,loadingIndicatorType:b,spinnerVisible:e},a[0]=c,a[1]=b,a[2]=e,a[3]=f):f=a[3];return f}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","deferredLoadComponent","once","react","react-compiler-runtime","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSpinner.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),k=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),l=c("once")(function(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,{})})});function a(){var a=d("react-compiler-runtime").c(6),b=c("useVideoPlayerDefaultLoadingIndicatorsLogic")(),e=b.loadingIndicatorType;b=b.spinnerVisible;var f;a[0]!==b?(f=i.jsx(j,{isVisible:b}),a[0]=b,a[1]=f):f=a[1];b=f;var g;bb0:switch(e){case"spinner":g=b;break bb0;case"live_video_interrupted_overlay":a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=l(),a[2]=f):f=a[2];g=f;break bb0;case"none":default:g=b}a[3]!==g||a[4]!==e?(f={loadingIndicatorElement:g,loadingIndicatorType:e},a[3]=g,a[4]=e,a[5]=f):f=a[5];return f}g["default"]=a}),98);
__d("useVideoPlayerUnifiedCVCProvider",["CvcV3HttpEventFalcoEvent","UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var k=b.setterHook;e=d("createVideoStateHook").createVideoStateHook(null);var l=e.setterHook;f=e.valueHook;function a(a){var b=d("react-compiler-runtime").c(12),e=a.disableSubscription,f=a.playerFormat,g=a.subOrigin,h=a.videoFBID,m=(i||(i=d("VideoPlayerHooks"))).useIsLive(),n=i.useIsFullscreen(),o=i.useIsDesktopPictureInPicture(),p=i.useController(),q=k(),r=l(),s;b[0]!==e||b[1]!==o||b[2]!==n||b[3]!==m||b[4]!==f||b[5]!==r||b[6]!==q||b[7]!==g||b[8]!==p||b[9]!==h?(a=function(){if(e===!0){c("CvcV3HttpEventFalcoEvent").log(function(){return{countable_id:h,name:"disable_subscription"}});return}var a=new(c("UnifiedVideoCVCSubscription"))(h,c("getPlayerFormatForLogData")({isDesktopPictureInPicture:o,isFullscreen:n},f),g,p,m,function(a){r(a)});q(a);return function(){a.destroy()}},s=[o,n,m,e,f,r,q,g,p,h],b[0]=e,b[1]=o,b[2]=n,b[3]=m,b[4]=f,b[5]=r,b[6]=q,b[7]=g,b[8]=p,b[9]=h,b[10]=a,b[11]=s):(a=b[10],s=b[11]);j(a,s)}b=f;g.useVideoPlayerUnifiedCVCProvider=a;g.useVideoPlayerUnifiedCVCData=b}),98);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAudioClient.react","CoreVideoPlayerAutoplayClient.react","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerIMFMetadataContext","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","cr:1954434","cr:99","gkx","react","react-compiler-runtime","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(21),f=a.children,g=a.disableCVCSubscription,h=a.disableLoadingIndicator,j=a.disableLogging,k=a.instreamVideoAdBreaksPlayer,l=a.playerFormat,m=a.subOrigin,n=a.videoFBID,o=a.videoPlayerIMFFromVideoMetadata;a=a.videoPlayerSpherical;h=h===void 0?!1:h;j=j===!0||g===!0;e[0]!==l||e[1]!==m||e[2]!==j||e[3]!==n?(g={disableSubscription:j,playerFormat:l,subOrigin:m,videoFBID:n},e[0]=l,e[1]=m,e[2]=j,e[3]=n,e[4]=g):g=e[4];d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider(g);l=c("useVideoPlayerDefaultLoadingIndicators")();j=l.loadingIndicatorElement;g=(n=o)!=null?n:null;l=h?null:j;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=c("gkx")("24328")?i.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,e[5]=o):o=e[5];e[6]!==f||e[7]!==k?(n=i.jsxs(c("VideoPlayerCaptionsAreaDeferred.react"),{children:[f,k]}),e[6]=f,e[7]=k,e[8]=n):n=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx(c("CoreVideoPlayerAutoplayClient.react"),{}),j=i.jsx(c("CoreVideoPlayerAudioClient.react"),{}),f=b("cr:1954434")?i.jsx(b("cr:1954434"),{}):null,e[9]=f,e[10]=h,e[11]=j):(f=e[9],h=e[10],j=e[11]);e[12]!==m?(k=b("cr:99")?i.jsx(b("cr:99"),{subOrigin:m}):null,e[12]=m,e[13]=k):k=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(m=i.jsx(c("VideoPlayerWebSessionExtender.react"),{}),e[14]=m):m=e[14];e[15]!==k||e[16]!==g||e[17]!==l||e[18]!==n||e[19]!==a?(o=i.jsxs(d("VideoPlayerIMFMetadataContext").VideoPlayerIMFMetadataContextProvider,{value:g,children:[a,l,o,n,h,j,f,k,m]}),e[15]=k,e[16]=g,e[17]=l,e[18]=n,e[19]=a,e[20]=o):o=e[20];return o}g["default"]=a}),98);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b===void 0&&(b=null);d===void 0&&(d=null);if(a==null){var e;d=((e=b)!=null?e:!1)?(e=d)!=null?e:0:0;d===-1?e=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?e=0:d===0&&b===!0?e=-1:e=d}else if(a===-1||a===Number.POSITIVE_INFINITY)e=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw c("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else e=a;return e}g["default"]=a}),98);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","react","react-compiler-runtime","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(36),e,f,g,h,j,k,l,m,n,o,p;b[0]!==a?(e=a.children,g=a.disableLoadingIndicator,h=a.implementations,j=a.instreamVideoAdBreaksPlayer,k=a.portalingEnabled,l=a.portalingFromVideoID,m=a.portalingPlaceMetaData,n=a.portalingRenderPlaceholder,o=a.videoPlayerIMFFromVideoMetadata,p=a.videoPlayerSpherical,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerIMFFromVideoMetadata","videoPlayerSpherical"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11]);a=c("usePlayerOriginRouteTracePolicy")();var q=c("useRouteProductAttribution")();q||(q=f.productAttribution);var r=f,s=r.loopCount,t=r.playerFormat,u=r.subOrigin;r=r.videoFBID;var v;b[12]!==s?(v=c("normalizeVideoPlayerLoopCount")(s),b[12]=s,b[13]=v):v=b[13];s=v;b[14]!==e||b[15]!==f.loggingConfig.disableCVCSubscription||b[16]!==f.loggingConfig.disableLogging||b[17]!==g||b[18]!==j||b[19]!==t||b[20]!==u||b[21]!==r||b[22]!==o||b[23]!==p?(v=i.jsx(c("VideoPlayerXImplSurface.react"),{children:e,disableCVCSubscription:f.loggingConfig.disableCVCSubscription,disableLoadingIndicator:g,disableLogging:f.loggingConfig.disableLogging,instreamVideoAdBreaksPlayer:j,playerFormat:t,subOrigin:u,videoFBID:r,videoPlayerIMFFromVideoMetadata:o,videoPlayerSpherical:p}),b[14]=e,b[15]=f.loggingConfig.disableCVCSubscription,b[16]=f.loggingConfig.disableLogging,b[17]=g,b[18]=j,b[19]=t,b[20]=u,b[21]=r,b[22]=o,b[23]=p,b[24]=v):v=b[24];b[25]!==f||b[26]!==h||b[27]!==s||b[28]!==k||b[29]!==l||b[30]!==m||b[31]!==n||b[32]!==q||b[33]!==a||b[34]!==v?(e=i.jsx(c("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},f,{implementations:h,loopCount:s,portalingEnabled:k,portalingFromVideoID:l,portalingPlaceMetaData:m,portalingRenderPlaceholder:n,productAttribution:q,routeTracePolicy:a,children:v})),b[25]=f,b[26]=h,b[27]=s,b[28]=k,b[29]=l,b[30]=m,b[31]=n,b[32]=q,b[33]=a,b[34]=v,b[35]=e):e=b[35];return e}g["default"]=a}),98);
__d("computeAspectRatio",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a!=null&&b!=null&&a!==0&&b!==0?a/b:null}f["default"]=a}),66);
__d("getVideoPlayerUserFacingErrorMessageFromError",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return c("gkx")("24345")&&a.message.toLowerCase().indexOf("audio_renderer_error")>=0}function j(a){return a.message.indexOf("DEVICE_CERTIFICATE_REVOKED")>=0}function k(a){return a.name.indexOf("VideoImplementationsDashManifestUnsupportedCodecs")>=0||a.name.indexOf("VideoImplementationsMediaSourceUnsupported")>=0}function l(a){return a.name==="OZ_NETWORK"&&a.message.includes("CDN URL expired")}function a(a){var b=null;i(a)?b=h._(/*BTDS*/"Audio renderer error: please restart your computer."):j(a)?b=h._(/*BTDS*/"This video is DRM-protected, but your device certificate appears to be revoked. Please make sure that your browser is up to date, and try again."):k(a)?b=h._(/*BTDS*/"This video cannot be played in the browser, operating system or hardware that you're using."):l(a)&&(b=h._(/*BTDS*/"This video content isn't available at the moment."));return b}g["default"]=a}),226);
__d("defaultErrorBoundaryFallback",["VideoPlayerFallbackCover.react","getVideoPlayerUserFacingErrorMessageFromError","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=c("getVideoPlayerUserFacingErrorMessageFromError")(a);return i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getVideoPlayerAutoplayProps",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b!=null?b:"respect_user_settings";var d=b==="dangerously_always_autoplay";c=c!=null?c:"unknown";var e=a.autoplaySetting||"default_autoplay",f=e==="off";d=d||b==="respect_user_settings"&&!f&&a.canAutoplay;f=b==="do_not_autoplay"?c:a.autoplayGatingResult;c=d?"allow":b==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:f,autoplaySetting:e,canAutoplay:c}}f["default"]=a}),66);
__d("oz-player/utils/OzCustomErrorCode",[],(function(a,b,c,d,e,f){"use strict";a={APPEND_BUFFER_UNKNOWN_ERROR:"21539",APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:"21541",APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542",SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR:"21543",SOURCE_BUFFER_MANAGER_CREATE_ERROR:"21544",SETUP_STREAMS_PROMISE_REJECTION:"21545",APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:"21546",APPEND_BUFFER_INVALID_STATE_ERROR:"21547",SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR:"21548",NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR:"21549",STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR:"21550",SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED:"21551",WEBVTT_CAPTION_PARSE_ERROR:"21552"};b=a;f["default"]=b}),66);
__d("useVideoPlayerClickToPauseInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=(j||(j=d("VideoPlayerHooks"))).usePlaying(),c=j.useController(),e=j.useIsLive(),f;a[0]!==c?(f=function(){c.pause("user_initiated")},a[0]=c,a[1]=f):f=a[1];f=f;b=b&&!e;a[2]!==b||a[3]!==f?(e=b?{ariaLabel:h._(/*BTDS*/"Pause video"),handler:f,overlayLabel:""}:null,a[2]=b,a[3]=f,a[4]=e):e=a[4];return e}g["default"]=a}),226);
__d("useVideoPlayerClickToPlayInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(9),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;var f=a.shouldUnmute;e=(j||(j=d("VideoPlayerHooks"))).usePaused();var g=j.useController(),i=j.useLastMuteReason();b[2]!==g||b[3]!==i||b[4]!==f?(a=function(){g.play("user_initiated"),f===!0&&i!=="user_initiated"&&g.setMuted(!1,"product_initiated")},b[2]=g,b[3]=i,b[4]=f,b[5]=a):a=b[5];a=a;a=c("useFeedClickEventHandler")(a);e=e;var k;b[6]!==e||b[7]!==a?(k=e?{ariaLabel:h._(/*BTDS*/"Play video"),handler:a,overlayLabel:""}:null,b[6]=e,b[7]=a,b[8]=k):k=b[8];return k}g["default"]=a}),226);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useState,l=5e3;function a(a){var b=d("react-compiler-runtime").c(9),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.forceVisible;a=a.forceVisibleOnMount;var f=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter(),g=f.ongoingInteractionsCount;f=f.onUserInteraction;var h=(i||(i=d("VideoPlayerHooks"))).useEnded(),m=i.useIsHovering(),n=i.usePaused(),o=i.useIsMouseIdle(),p=i.useVideoPlaybackEnded(),q=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",m&&!o,f);m=k(a===!0);var r=m[0],s=m[1];b[2]!==r||b[3]!==n?(o=function(){if(!n&&r){var a=c("setTimeout")(function(){s(!1)},l);return function(){c("clearTimeout")(a)}}},a=[r,n],b[2]=r,b[3]=n,b[4]=o,b[5]=a):(o=b[4],a=b[5]);j(o,a);e===!0||e===!1?m=e:q?m=!1:g>0||r?m=!0:n?m=h?p:!0:m=!1;b[6]!==m||b[7]!==f?(o={isControlsVisible:m,onUserInteraction:f},b[6]=m,b[7]=f,b[8]=o):o=b[8];return o}g["default"]=a}),98);
__d("validateTrackingCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&typeof a==="object"&&a.click_tracking_linkshim_cb!=null&&a.encrypted_click_tracking!=null&&a.encrypted_tracking!=null?a:null}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("699");b=d("FalcoLoggerInternal").create("armadillo_cutover_client",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function a(a,b){h.onReadyImmediately(function(c){c=c.saveAs;c(b,a)})}g.saveFile=a}),98);
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=void 0:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],void 0,b.i64.cast([0,4]),void 0,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.sequence([function(a){return c[9]=c[0].get("group_id"),b.filter(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,void 0)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),d=[c[17],void 0,b.i64.cast([0,4]),void 0,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4],d)):b.sequence([function(d){return c[17]=b.i64.of_float(Date.now()),c[18]=c[0].get("min_time_to_sync_timestamp_ms"),c[19]=c[0].get("last_sync_request_timestamp_ms"),c[20]=c[0].get("can_ignore_timestamp"),c[20]&&a[1]||b.i64.ge(c[17],c[18])?b.sequence([function(d){return a[1]?b.resolve(c[28]=b.i64.cast([0,0])):b.sequence([function(a){return c[29]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[30]=b.i64.cast([0,0]):(d=a.item,c[30]=d.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.lt(b.i64.cast([0,15]),c[30])?b.i64.cast([0,15]):c[30])),b.i64.cast([0,1])),b.i64.cast([0,500])),c[33]=b.i64.sub(b.i64.add(c[19]==null?b.i64.cast([0,0]):c[19],b.i64.lt(c[32],b.i64.cast([0,3e4]))?c[32]:b.i64.cast([0,3e4])),c[17]),c[28]=b.i64.gt(c[33],b.i64.cast([0,0]))?c[33]:b.i64.cast([0,0])}])},function(a){return c[21]=c[28]}]):b.resolve(c[21]=b.i64.sub(c[18],c[17]))},function(a){return c[22]=c[0].get("group_id"),b.i64.gt(c[21],b.i64.cast([0,0]))?b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastDelayedRequestTimestampMs:c[28]})})},function(a){return a=[c[22],c[21],b.i64.cast([0,3]),void 0,!1],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}]):b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[c[22]]]]),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[28]})})},function(a){return c[29]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[29]})})},function(a){return c[30]=c[0].get("group_id"),c[31]=b.i64.of_float(Date.now()),c[32]=b.i64.random(),c[45]=b.i64.and_(b.i64.or_(b.i64.lsl_(c[31],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[32],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.db.table(3).fetch([[["",c[30]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[30],taskQueueName:"",failureCount:b.i64.cast([0,0]),lastSentTimestampMs:b.i64.cast([0,0]),lastSyncRequestTimestampMs:b.i64.cast([0,0]),epochId:c[45]}):(a.item,b.forEach(b.db.table(3).fetch([[["",c[30]]]]),function(a){var b=a.update;a.item;return b({epochId:c[45]})}))})},function(a){return c[34]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[34]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[35]=b.i64.cast([0,0]):(d=a.item,c[35]=d.failureCount)})},function(a){return c[37]=c[0].get("send_sync_params"),c[38]=c[0].get("sync_params"),c[39]=c[0].get("current_cursor"),c[40]=new b.Map(),c[40].set("database",c[34]),c[40].set("version",b.i64.cast([-1,4294967295])),c[40].set("epoch_id",c[45]),c[40].set("last_applied_cursor",c[39]),c[40].set("sync_params",c[37]?c[38]:void 0),c[40].set("failure_count",b.i64.gt(c[35],b.i64.cast([0,0]))?c[35]:void 0),c[41]=c[0].get("current_cursor"),void 0===c[41]?c[42]=b.i64.cast([0,1]):c[42]=b.i64.cast([0,2]),c[43]=new b.Map(),c[43].set("type",c[42]),c[43].set("request_payload",c[40]),c[44]=c[0].get("sync_channel"),a=[c[30],void 0,b.i64.cast([0,1]),c[43],b.i64.eq(c[44],b.i64.cast([0,2]))],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}])},function(a){return a=[c[23],c[24],c[25],c[26],c[27]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure";a.__tables__=["sync_groups","network_requests"];e.exports=a}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.createArray(),c.forEach(c.db.table(1).fetch(),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSyncForSyncGroup"),e.syncGroupId,e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSync"),e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("bump_timestamp_ms",a[1]),d[0].set("thread_key",a[0]),d[0].set("bumped_by_local_device_send",a[2]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[0].set("wa_jid",void 0),d[0].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[0].set("message_product_type",void 0),d[0].set("is_message_deletion",!1),d[0].set("is_unbump",a[3]),d[1]=d[0].get("thread_key"),c.storedProcedure(b("LSCancelTaskByQueueName"),c.i64.to_string(d[1]),c.i64.cast([0,389]))},function(e){return d[2]=new c.Map(),d[2].set("bump_timestamp_ms",a[1]),d[2].set("thread_key",a[0]),d[2].set("bumped_by_local_device_send",a[2]),d[2].set("tam_thread_subtype",c.i64.cast([0,0])),d[2].set("wa_jid",void 0),d[2].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[2].set("message_product_type",void 0),d[2].set("is_message_deletion",!1),d[2].set("is_unbump",a[3]),d[3]=d[2].get("thread_key"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,389]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxBumpE2EEMetadataThreadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSBumpE2EEMetadataThreadStoredProcedure",["LSBumpE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBumpE2EEMetadataThread"),e.threadKey,e.serverAuthoritativeTimestampMs,e.bumpedByLocalDeviceSend,e.isUnbump);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSClearMessagePlaceholderRangeStoredProcedure",["LSClearMessagePlaceholderRange","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSClearMessagePlaceholderRange"),e.threadKey,e.messageId,e.maxTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=c("LSJSInMemoryStorage")(d("LSMetadata").schema);g["default"]=a}),98);
__d("LSInsertNewMessageRangeStoredProcedure",["LSInsertNewMessageRange","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertNewMessageRange"),e.threadKey,e.newMinTs,e.newMaxTs,e.newMinMid,e.newMaxMid,e.lowerOverlap,e.upperOverlap,e.hasMoreBefore,e.hasMoreAfter,e.requestedMessageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1],e)})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[36]=void 0,c.i64.neq(d[36],void 0)?c.resolve(d[37]=d[36]):c.sequence([function(a){return d[43]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[53]=(d[43].push(c.i64.cast([0,0])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[53]=(d[43].push(c.i64.cast([0,2])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[53]=(d[43].push(c.i64.cast([0,3])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[53]=(d[43].push(c.i64.cast([0,4])),d[43]):0,d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[53]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[53]).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[56]=(d[48].push(d[54]),d[48])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[56]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[56]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return d[59]=(d[53].push(c.i64.to_string(d[57])),d[53])}])}):c.resolve()},function(a){return d[55]=d[53].join(","),d[50]=d[55]}])},function(a){return d[48].some(function(a){return c.i64.eq(d[29],a)})?d[51]=d[29]:d[51]=void 0,c.i64.neq(d[51],void 0)?d[52]=d[51]:d[52]=void 0,d[37]=d[52]}])},function(e){return c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[39]=d[28]:d[39]=c.i64.cast([0,1]),d[40]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[40],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[40],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[41],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[0],sortKey:a[1],persistentId:"",isInstamadillo:!1,lsTraceId:a[3],error:a[4]})},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message backup task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued thread remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve())},function(a){return d[42]=new c.Map(),d[42].set("task_id",d[41]),a=[d[42],void 0],d[34]=a[0],d[35]=a[1],a}]):c.sequence([function(b){return d[36]=c.createArray(),d[39]=(d[36].push("Skipping thread remove since EB is disabled. act thread id = "),d[36]),d[39]=(d[36].push(a[0]),d[36]),d[37]=d[36].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[37]].join("")),c.resolve()},function(a){return d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[38].set("error_message",""),a=[void 0,d[38]],d[34]=a[0],d[35]=a[1],a}])},function(a){return a=[d[34],d[35]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping thread remove since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1],a}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueThreadRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueThreadRemove"),e.actThreadId,e.sortKey,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPlatformSyncSystemMaybeDeferred",["cr:2049","cr:6963"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:2049"))!=null?a:b("cr:6963");d=c;g["default"]=d}),98);
__d("LSPlatformClientInit",["LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDatabaseAfterInitSyncSingleton","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformRealtimeTransport","LSPlatformSyncSystemMaybeDeferred","LSPlatformTaskSystemTransport","MWPlatformTaskSystem","MessengerLogHistory","cr:3411","cr:7705","emptyFunction","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init");function j(a){var d=c("emptyFunction");b("cr:7705")!=null&&c("gkx")("23914")&&(d=b("cr:7705").listenForChangesToBackupState(a));return function(){d&&d()}}function k(a,b){var e=b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);i.debug("Platform client sync connection status: ",b);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":76"),function(){i.debug("Platform client sync connection status set successfully")},function(a){i.error("Platform client sync connection status set failed: "+(a==null?void 0:a.message));throw a})}async function a(a,e,f,g,h,l){var m;i.debug("Platform client sync starting...");(m=d("LSPlatformLsInitLog")).addPoint("onstart_callback");g();m.addPoint("onstart_callback_end");i.debug("Getting datascript evaluator...");m.addPoint("ds_eval_registration");g=await e.getEval();i.debug("Getting datascript evaluator success");var n;try{n=b("cr:3411")!=null?b("cr:3411").registerEval(g)()(a):g()(a)}catch(b){c("recoverableViolation")("fail to register datascriptEvaluator","ls_web_init",{error:b}),n=g()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");i.debug("Clearing epoch before resume sync...");l.didEvaluateInitSyncEagerly||(await d("LSClearEpochBeforeResumeSync").call(a),i.debug("Clearing epoch before resume sync success"),d("LSPlatformLsInitLog").addPoint("create_client_end"),e.sendHardcodedInitSync&&(i.debug("Starting hard-coded init sync..."),await d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(e,n,a,f),i.debug("Starting hard-coded init sync success")));d("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(a));i.debug("Starting realtime transport");m=await e.realtimeUnderylingTransport();var o=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(m,e.appId,f);i.debug("Starting task system");var p=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,o,n,e.schemaVersion));i.debug("Starting sync system");var q=null;c("promiseDone")(c("LSPlatformSyncSystemMaybeDeferred")(),function(b){q=b(a,o,n,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});i.debug("Starting backup state listeners");var r=j(a),s;i.debug("Watching for expired traces");c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){s=a}));i.debug("Subscribing to mqtt sync status change events");o.onConnectionStatusChange(function(b){k(a,b)});i.debug("Platform client sync starting sucess");d("LSPlatformLsInitLog").endSuccess();return{cleanup:function(){var b;i.debug("Platform client sync cleaning up");h(a);p==null?void 0:p.cleanup();(b=q)==null?void 0:b.cleanup();o.cleanup();r();s==null?void 0:s()},db:a}}g.init=a}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSCometSSRDatabase","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","cr:10018","emptyFunction","getErrorSafe","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("emptyFunction").thatReturns(Promise.resolve());function j(a,b,e){var f,g=async function(){var g=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");f=await d("LSPlatformClientInit").init(a,b,g,c("emptyFunction"),c("emptyFunction"),e)};return{cleanup:function(){var a;(a=f)==null?void 0:a.cleanup()},db:a,start:g}}async function k(a,e,f){if(b("cr:10018")==null)throw c("FBLogger")("messenger_web").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");e=await b("cr:10018").make(a,e,f);e.isTabWithoutClient()===!0&&(d("MAWMIC").addPoint("ls_init_end"),d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end),d("MAWMIC").addBoolAnnotation("LsInitSkipped",!0),d("LSPlatformLsInitLog").addPoint("no_ls_sync"),d("LSPlatformLsInitLog").endSuccess());return{cleanup:c("emptyFunction"),db:a,start:i}}async function a(a,e){d("LSPlatformLsInitLog").addPoint("make_client");if((h||(h=c("ExecutionEnvironment"))).canUseDOM||c("qex")._("3809")){d("LSPlatformLsInitLog").addPoint("create_client_get_db");var f=await a.getDb();d("LSPlatformLsInitLog").addPoint("create_client_start");if(d("LSDatabaseProviderType").isProviderPersisted(f)&&b("cr:10018")!==null)try{return k(f,a,e)}catch(a){d("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:c("getErrorSafe")(a).message}});d("LSPlatformLsInitLog").fail("client_for_pdb_error");throw a}return j(f,a,e)}return{cleanup:c("emptyFunction"),db:c("LSCometSSRDatabase"),start:i}}g.make=a}),98);
__d("LSPlatformDGWTransport",["DGWClient","DGWLoggingContext","DGWStream","DGWStreamGroupCallbacks","FBLogger","LSIntEnum","LSLogHistory","LSPlatformDGWHostnameOverride","LSPlatformRealtimeTransport","MWPBumpEntityKey","MessengerWebRegion","MqttConfig","Random","gkx","promiseDone","qex","setTimeout","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("3218"),j=c("gkx")("12101"),k=(b=c("qex")._("4523"))!=null?b:!1,l=0,m=!1,n={connectionStatusChangeHandler:null,current:null,publishBuffer:new Map(),reconnectHandler:null,status:"Disconnected",subscribers:new Map()},o=new Map(),p=null,q=!1,r=!1;function s(a){a=1*Math.pow(2,a);a=Math.max(a,1);a=Math.min(a,64);return Math.ceil(a*(1e3+d("Random").random()*200))}function t(a,b){var e;if(q){var f;(f=n.current)==null?void 0:f.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"SkipReconnectAttempt","deviceId:"+a);return}q=!0;f=s(l++);var g="deviceId:"+a+", reconnectMs:"+f+", attempt:"+l+", isClosedLocally:"+String(r);(e=n.current)==null?void 0:e.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ScheduleReconnect",g);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"scheduleReconnect");c("setTimeout")(function(){u(a,b),q=!1},f)}function u(a,b){var e=c("uuidv4")(),f={deviceId:a,keepAliveMs:15e3,loggingId:e,serviceId:"lightspeed",streamGroupAppHeaders:{},verboseLoggingEnabled:i};j&&(f.trafficTracing=e);d("MessengerWebRegion").regionNullable!=null&&(f.regionHint=d("MessengerWebRegion").regionNullable);e={onStreamGroupError:function(b){var c;n.status!=="Disconnected"&&(n.status="Disconnected",n.connectionStatusChangeHandler&&n.connectionStatusChangeHandler("Disconnected","Stream Group Error"));(c=n.current)==null?void 0:c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError",d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b));d("DGWStreamGroupCallbacks").isRetryableError(b)?(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isRetryableError"),t(a,"reconnect_on_streamgrouperror."+d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b))):d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isNotRetryableError")},onStreamGroupMustDrain:function(b){var c;d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamGroupMustDrain."+b);(c=n.current)==null?void 0:c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain",b,"deviceId:"+a);t(a,"reconnect_on_streamgroupmustdrain")},onStreamGroupTransportClose:function(){var b;n.status!=="Disconnected"&&(n.status="Disconnected",n.connectionStatusChangeHandler&&n.connectionStatusChangeHandler("Disconnected","Stream Group Close"));(b=n.current)==null?void 0:b.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose","","deviceId:"+a)}};o.clear();n.status="Connecting";e=c("DGWClient")().createStreamGroup(e,f);f="deviceId:"+a+", runtime_site_is_comet_fb_web:"+String(c("gkx")("2116"))+", endpoint:"+c("MqttConfig").endpoint+", reason:"+b;e.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"CreatingStreamGroupTransport",f);c("promiseDone")(e.initTransport(),function(c){d("LSLogHistory").log("StreamGroupTransport Connected","debug");n.status!=="Connected"&&(n.status="Connected",n.connectionStatusChangeHandler&&n.connectionStatusChangeHandler("Connected"));m&&(n.reconnectHandler&&n.reconnectHandler());m=!0;(c=n.current)==null?void 0:c.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen","deviceId:"+a+", reason:"+b);(c=n.current)==null?void 0:c.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"BufferFlushed",String(n.publishBuffer.size));l=0;n.publishBuffer.forEach(function(a,b,c){a.resolve(),n.publishBuffer.delete(b)})},function(b){var c;d("LSLogHistory").log("StreamGroupTransport onError","debug");n.publishBuffer.clear();n.status!=="Disconnected"&&(n.status="Disconnected",n.connectionStatusChangeHandler&&n.connectionStatusChangeHandler("Disconnected",b));(c=n.current)==null?void 0:c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError",String(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"WebSocketOnError");b!==d("DGWStream").StreamError.UNAUTHORIZED&&t(a,"reconnect_on_streamgrouptransportonerror."+String(b))});n.current=e;return n.current}async function v(a,b,e,f){e===void 0&&(e=!0);var g=n.current;if(g==null)throw c("FBLogger")("ls_web_init").mustfixThrow("LS Stream Group not initialized");var h=new TextDecoder(),j={};d("LSPlatformDGWHostnameOverride").useHostNameOverride&&d("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(j["javascript-sandbox"]=d("LSPlatformDGWHostnameOverride").hostNameOverride);try{var k=c("uuidv4")();g=await g.establishStream({groupedStreamHeaders:j,loggingId:k,verboseLoggingEnabled:i},{onClose:function(){d("LSLogHistory").log("Stream closed","debug")},onDataReceived:function(a){var b=h.decode(a);n.subscribers.forEach(function(a){a(b)})},onError:function(a){d("LSLogHistory").log("Stream onError. Disconnected","debug")},onServerHasFinishedSendingData:function(a){d("LSLogHistory").log("Stream finished sending data","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onServerHasFinishedSendingData"),a.close()},onStreamMustDrain:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamMustDrain"),d("LSLogHistory").log("Stream must drain","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onStreamMustDrain"),a.close()}},b,e,f);d("LSLogHistory").log("Stream Connected","debug");return g}catch(b){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamFailure."+a);d("LSLogHistory").log("Error Establishing Stream. Disconnected","debug");throw b}}var w="Disconnected";e=function(){return w};function a(a,b){p||(p=x(a,b,"init_single_transport_instance"));return p}function x(a,b,c){var e=new TextEncoder();u(b,c);return{cleanup:function(){var a;r=!0;(a=n.current)==null?void 0:a.close();n.reconnectHandler=null;n.connectionStatusChangeHandler=null;n.publishBuffer.clear();n.subscribers.clear()},logEvent:function(a){var b;(b=n.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a)},onConnectionStatusChange:function(a){n.connectionStatusChangeHandler=a;return function(){n.connectionStatusChangeHandler=null}},onReconnect:function(a){n.reconnectHandler=a;return function(){n.reconnectHandler=null}},publish:async function(a,b,c){var f=(h||(h=d("LSIntEnum"))).toNumber(b);try{d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream."+(h||(h=d("LSIntEnum"))).toNumber(b));n.status!=="Connected"&&await y().then(function(){}).catch(function(){var a;d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ConnectionTimeout."+f);(a=n.current)==null?void 0:a.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","ConnectionTimeout",String(f));return Promise.reject({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})});var g=1===(h||(h=d("LSIntEnum"))).unwrapIntEnum(b)||2===(h||(h=d("LSIntEnum"))).unwrapIntEnum(b);if(g&&o.has(c)){var i=o.get(c);await (i==null?void 0:i.send(e.encode(a)))}else{i=4!==(h||(h=d("LSIntEnum"))).unwrapIntEnum(b);var j={int:{databaseType:c,requestType:f}};a=await v(f,e.encode(a),i,j);g&&o.set(c,a)}}catch(a){if(a.message==="Max number of stream IDs reached"){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamIdLimitExceeded."+f);(i=n.current)==null?void 0:i.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream","StreamIdLimitExceeded",f.toString())}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamError."+f);(j=n.current)==null?void 0:j.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","Failed to publish payload",f.toString());g=k&&3===(h||(h=d("LSIntEnum"))).unwrapIntEnum(b);if(g)return Promise.resolve();else return Promise.reject(a)}},subscribe:function(a){n.subscribers.set(a,a);return function(){n.subscribers.delete(a)}}}}function y(){var a={reject:function(){},resolve:function(){}},b=d("Random").uint32(),c=new Promise(function(b,c){a.resolve=b,a.reject=c});n.publishBuffer.set(b,a);return c}g.getStatusForDebugging=e;g.LSPlatformDGWTransport=a}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","ReQL","gkx","promiseDone","qex","recoverableViolation","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,g,j,k){var l=d("MessengerLogHistory").getInstance("client_sync"),m=new(c("LSPlatformServerResponseHandler"))(e),n=d("LSDatabaseProviderType").isProviderPersisted(a),o=function(b){return a.runInTransaction(async function(a){var c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",b));c!=null&&await a.network_requests.put({epochId:void 0,failureCount:(h||(h=d("I64"))).add(c.failureCount,h.one),lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName})},"readwrite",void 0,void 0,f.id+":76")},p=new(c("LSPlatformRequestScheduler"))(),q=async function(f,l){l=d("LSShape").toRecord(l);var o=d("LSShape").toRecord(l.request_payload);l=l.type;var p=c("LSPlatformRequestId").generate(),q=d("LSJson").stringify(d("LSShape").ofRecord({database:o.database,epoch_id:o.epoch_id,failure_count:o.failure_count,last_applied_cursor:o.last_applied_cursor,sync_params:o.sync_params,version:(h||(h=d("I64"))).of_string(g)})),r=(h||(h=d("I64"))).equal(f.sync_group_id,(i||(i=d("LSIntEnum"))).ofNumber(1))&&c("gkx")("26386")===!0;if(!r&&f.skip_realtime_gateway){r=await d("LSPlatformGraphQLTransport").publish(j,p,l,q,k);var s=r[0],t=r[1],u=r[2];r=r[3];u={experiments:u,syncScript:t,target:r};return n?m.maybeEvalInOrderReceived(s,u):e(u)}else{t=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(f.sync_group_id));r=t!=null?t.syncChannel:d("LSMailboxInitialSyncCursor").syncChannel;t!=null&&(i||(i=d("LSIntEnum"))).toNumber(t.syncChannel)!==(h||(h=d("I64"))).to_int32(d("LSMailboxInitialSyncCursor").syncChannel)&&b.logEvent("Sync channel mismatch between "+(i||(i=d("LSIntEnum"))).toNumber(t.syncChannel)+" and "+(h||(h=d("I64"))).to_int32(d("LSMailboxInitialSyncCursor").syncChannel));s=c("qex")._("789");if(t!=null&&s!=null&&s!=="default"){u=(i||(i=d("LSIntEnum"))).unwrapIntEnum(l);if(1===u||2===u||5===u){f=s+"."+(i||(i=d("LSIntEnum"))).toNumber(r)+"."+i.toNumber(l)+"."+i.toNumber(t.groupId);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",f)}}u=(h||(h=d("I64"))).to_int32(o.database);return b.publish({databaseType:u,payload:q,queueName:void 0,requestId:p,syncChannel:r,type_:l}).then(function(){return Promise.resolve()})}},r=function b(e){var g=function(d){return a.runInTransaction(function(a){return c("LSBeginHandlingSyncForSyncGroupStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1,syncGroupId:d})},"readwrite",void 0,void 0,f.id+":216").then(function(a){return b(a[0])})},j=function(a,b){p.schedule(function(){c("promiseDone")(g(a))},(h||(h=d("I64"))).to_string(a),h.to_float(b))},k=d("LSShape").toRecord(e);e=k.work_item_type;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(5))){var m=c("qex")._("789");if(m!=null&&m!=="default"){var n=m+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",n)}var r=k.network_payload;if(r!=null)return q(k,r).catch(function(a){if(m!=null&&m!=="default"){var b=m+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception");a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.timeout"):a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.notconnected")}if(a.message===d("LSPlatformGraphQLTransport").ServerError)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout||a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),l.debug("Publish timed out");else{d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("Encountered an JS error while publishing a LS sync request");else{b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("Encountered an JS error while publishing a LS sync request %s",b)}}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(i||(i=d("LSIntEnum"))).toNumber(d("LSShape").toRecord(r).type)+"."+i.toNumber(k.sync_group_id));return o(k.sync_group_id).then(function(){return g(k.sync_group_id)})});else{c("recoverableViolation")("Expected networkpayload for sync request but didn't get any","ls_web_init");return Promise.resolve()}}if(!(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(3)))if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(4))||!(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(2)))return Promise.resolve();else{c("recoverableViolation")("Native handling for sync group not implemented yet","ls_web_init");return Promise.resolve()}n=k.next_sync_ms;if(n!=null){j(k.sync_group_id,n);return Promise.resolve()}else{c("recoverableViolation")("Expected delay for delayed sync request but didn't get any","ls_web_init");return Promise.resolve()}},s=function(a){return Promise.all(c("LSVec").toArray(a[0]).map(function(a){return r(a)}))},t=function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":397").then(s))},u=c("throttle")(t,500);t=function(){return d("ReQL").fromTableAscending(a.tables.sync_groups).subscribe(function(){return u()})};var v=function(){return b.subscribeToNonTaskResponses(function(a,b){var f=b.ex,g=b.payload;f={experiments:f,sp:b.sp,syncScript:g,target:b.target};c("promiseDone")(n?m.maybeEvalInOrderReceived(a,f):c("gkx")("10470")?m.maybeEvalInOrderReceived(a,f):e(f),function(){return u()},function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",n,a.message);else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",n,b)}})})},w=function(){return b.onReconnect(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect"),l.debug("Sync System reconnecting"),c("promiseDone")(a.runInTransaction(async function(b){var e;e=await (e=d("ReQL")).toArrayAsync(e.mergeJoin(e.fromTableAscending(a.tables.sync_groups),e.fromTableAscending(a.tables.network_requests).getKeyRange("")));await Promise.all(e.map(function(a){a=a[1];return b.network_requests.put({epochId:void 0,failureCount:a.failureCount,lastDelayedRequestTimestampMs:a.lastDelayedRequestTimestampMs,lastSentTimestampMs:a.lastSentTimestampMs,lastSyncRequestTimestampMs:a.lastSyncRequestTimestampMs,networkTaskIdentifier:a.networkTaskIdentifier,syncDatabaseId:a.syncDatabaseId,taskQueueName:a.taskQueueName})}));return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(b),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":492").then(s))})},x=t(),y=v(),z=w();u();return{cleanup:function(){x(),z(),y()}}}g.default=a}),98);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_self_remove",!1),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,394]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateE2EEMetadataParticipantsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateE2EEMetadataParticipantsStoredProcedure",["LSSynchronousPromise","LSUpdateE2EEMetadataParticipants","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateE2EEMetadataParticipants"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({threadKey:a[0],mediaGroup:a[1],minTimestampMs:a[2],maxTimestampMs:b.i64.cast([2328,1316134911]),hasMoreBefore:a[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1,lastLoadedMessageId:a[4]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertAttachmentRangeStoredProcedure";a.__tables__=["attachments_ranges_v2__generated"];e.exports=a}),null);
__d("LSUpsertAttachmentRangeStoredProcedure",["LSSynchronousPromise","LSUpsertAttachmentRange","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpsertAttachmentRange"),e.threadKey,e.mediaGroup,e.newMinTs,e.hasMoreBefore,e.newLastLoadedMessageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeAddMessageSearchResultHandler",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWFTSRawStringMatcher","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","cr:17064","cr:17065","emptyFunction","gkx","isMAWUniversalSearchWithEBEnabled","promiseDone","waitForMiActMappingForUniversalSearch"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),k=h.ofNumber(c("LSMessageSearchType").THREAD);function a(a,b,d){return d.length===0?Promise.resolve():Promise.all([m(a,b,d),n(a,b,d)]).then(c("emptyFunction"))}async function l(a,b){var c=await d("MAWFTSRawStringMatcher").load();return b.filter(function(b){b=(b=b.msg)==null?void 0:b.content;return b==null?!1:c(a,b)})}async function m(a,e,f){var g=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.message_search_queries).getKeyRange(j));if(g.length===0)return;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,f[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(e,h){return async function(){var c=g.filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,h)})[0];if(c==null)return;var j=c.query;if(j==null||j.length<2)return;var k=(i||(i=d("I64"))).to_int32(c.resultCount);j=await l(j,f);if(j.length===0)return;await b("cr:17064").addBridgeSearchMsgsToSearchResult(a,e,c.query,j,k+j.length,i.of_string(d("MAWCurrentUser").getID()))}().then(c("emptyFunction"))})}async function n(a,e,f){if(!c("isMAWUniversalSearchWithEBEnabled")())return;var g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.message_search_queries).getKeyRange(k).filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,i.one)}));if(g==null)return;var h=g.query;if(h==null||h.length<2)return;var j=await l(h,f);if(j.length===0)return;if(c("gkx")("11537"))c("promiseDone")(c("waitForMiActMappingForUniversalSearch")(a,f[0].chatJid),function(c){if(c!=null)return b("cr:17065")(a,void 0,c.serverThreadKey,h,j,g)});else{await c("waitForMiActMappingForUniversalSearch")(a,f[0].chatJid);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,f[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(c,d){return b("cr:17065")(a,c,d,h,j,g)})}}g.call=a}),98);
__d("MAWBridgeCallRestoreNativeOpHandler",["I64","Promise","WAJids","WALogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Unable to call restore native op - echo and protobuf messages are both null"]);j=function(){return a};return a}var k=c("requireDeferred")("LSProtobufRestoreHandler").__setRef("MAWBridgeCallRestoreNativeOpHandler"),l=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("MAWBridgeCallRestoreNativeOpHandler");function a(a,c){var e=c.chatJid,f=c.decryptedMessagesProtobufs,g=c.echoMessages,m=c.hasMoreAfter,n=c.hasMoreBefore,o=c.isPointQuery,p=c.nextMessageTimestampMsAfter,q=c.nextMessageTimestampMsBefore,r=c.referenceTimestamp,s=c.requestId,t=c.taskSource;if(f!=null)return k.load().then(function(a){return a.handleProtobufRestoreHelper(d("WAJids").threadIdForChatJid(e),{convertedProtobufs:f,type:"convertedProtobufs"},n,q,m,p,o,s,r,void 0,void 0,t,e)});else if(g!=null)return l.load().then(function(c){return c(a,0,(i||(i=d("I64"))).zero,g,n,q,m,p,o,d("WAJids").threadIdForChatJid(e),s,r,t,e).then(function(){return(h||(h=b("Promise"))).resolve()})});else d("WALogger").ERROR(j());return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeCentralizedThreadUpdateHandler",["I64","LSAuthorityLevel","LSBumpE2EEMetadataThreadStoredProcedure","LSDatabaseSingleton","LSFactory","LSIntEnum","MAWBridgeBuildThreadSnippet","MAWBridgeFireAndForget","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState","MAWODSProxy","MAWThreadBumpType","MAWThreadUpdateMiddlewareGatingUtil","MAWThreadUpdateType","MWFBLogger","ODS","ReQL","WAJids","WAOdsEnums","WATimeUtils","getMAWLastMessageCtaType","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Skipping receiver bump for own message on thread ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Starting Thread Update on "," via middleware. threadKey: ",", authorityLevel: ",", lastActivityTimestampMs: ",", bumpTimestampMs: ",", bumpedByLocalDeviceSend: ",", bumpType: ",", threadUpdateType: ",", isUnbump: ",", isThrottled: "," from ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Updated thread via middleware. threadKey: ",", bumpTimestampMs: ",",\n    original lastActivityTimestampMs: ","\n    , bumpedByLocalDeviceSend: ",", bumpType: ",", threadUpdateType: ",",  from ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Encountered lastActivityTs == 0 for thread jid : "," with authority level: ",", threadType : ",", threadStatus : ",", folderType : ",", numMsgs (limit 5): "," and msgContentTypes: [","]"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Missing thread for bumping jid: "," with thread state: ",""]);p=function(){return a};return a}var q=d("MWFBLogger").MWLogger.tags(["bridgeUIEvent","Occam","Middleware"]);async function a(a,b){var e=await d("MAWChatJid").toThreadMaybe(a,b.jid);if(e==null){var f=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b.jid),"MAWBridgeCentralizedThreadUpdateHandler");q.MUSTFIX(p(),b.jid,f.type);return}return(h||(h=d("I64"))).lt(e.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&!b.bumpedByLocalDeviceSend?C(e,b):r(a,e,b)}async function r(a,b,e){var f=b;b=f;b=b.threadKey;var g=e.author,i=e.bumpedByLocalDeviceSend,k=e.bumpTimestampMs,l=e.threadUpdateType;if(l===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.NO_SNIPPET_OR_ACTIVITY_TS_UPDATE)return;var m=f.lastActivityTimestampMs;y(e,f,"Local",e.isUnbump,e.threadBumpType);if((h||(h=d("I64"))).equal(m,(h||(h=d("I64"))).zero)){var n;E("zero_last_activity_timestamp");var p=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(f.threadKey).take(5)),r=p.length;p=p.map(function(a){return(h||(h=d("I64"))).to_string(a.displayedContentTypes)}).join(",");q.WARN(o(),e.jid,(h||(h=d("I64"))).to_string(f.authorityLevel),h.to_string(f.threadType),h.to_string((n=f.threadStatus)!=null?n:(h||(h=d("I64"))).neg_one),f.folderName,r,p)}n=z(e,m);r=n.isUnbump;p=n.threadBumpType;if(l===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.BUMP_THREAD||l===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD||r){E("bump_on_local");r&&(f=t(r,k,f),l!==d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD&&(f=v(k,f,r)));n=A(g,i,p,k,m,f.threadKey);if(n){l={bumpedByLocalDeviceSend:i,isUnbump:r,serverAuthoritativeTimestampMs:k,threadKey:b};(j||(j=d("ODS"))).bumpEntityKey(3185,"maw_tc_server_thread_bump",""+((g=e.centralizedThreadSnippetData.snippetType)!=null?g:"undefined"));y(e,f,"Server",r,p);await s(c("LSFactory")(a),l)}}var u=w(e.centralizedThreadSnippetData,f);return a.threads.put(u).then(function(){f!=null&&x(e,m,u)})}async function s(a,b){E("bump_on_server");return c("LSBumpE2EEMetadataThreadStoredProcedure")(a,b)}function t(a,b,c){return!u(a,b,c)?c:babelHelpers.extends({},c,{lastActivityTimestampMs:b})}function u(a,b,c){return a?(h||(h=d("I64"))).lt(b,c.lastActivityTimestampMs):(h||(h=d("I64"))).gt(b,c.lastActivityTimestampMs)}function v(a,b,c){return!c&&(h||(h=d("I64"))).lt(a,b.lastReadWatermarkTimestampMs)?b:babelHelpers.extends({},b,{lastReadWatermarkTimestampMs:a})}function w(a,b){var e=a.snippetSenderContactId!=null?(h||(h=d("I64"))).of_string(a.snippetSenderContactId):(h||(h=d("I64"))).zero,f=c("getMAWLastMessageCtaType")(a.snippetType);a=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(a,b.snippet);return babelHelpers.extends({},b,{lastMessageCtaType:f,snippet:a,snippetSenderContactId:e})}function x(a,b,c){q.DEBUG(n(),(h||(h=d("I64"))).to_string(c.threadKey),h.to_string(c.lastActivityTimestampMs),h.to_string(b),a.bumpedByLocalDeviceSend,a.threadBumpType,a.threadUpdateType,a.description)}function y(a,b,c,e,f){c=[c,(h||(h=d("I64"))).to_string(b.threadKey),h.to_string(b.authorityLevel),h.to_string(b.lastActivityTimestampMs),h.to_string(a.bumpTimestampMs),a.bumpedByLocalDeviceSend,f,a.threadUpdateType,e,a.isThrottled,a.description];q.DEBUG(m(),c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10])}function z(a,b){var e=c("justknobx")._("3068");if(e)return{isUnbump:a.isUnbump,threadBumpType:a.threadBumpType};e=(h||(h=d("I64"))).lt(a.bumpTimestampMs,b);if(a.isThrottled&&e){switch(a.tableName){case"messages":E("unbump_from_message_in_throttle");break;case"reactions":E("unbump_from_reaction_in_throttle");break;default:E("unbump_from_throttle")}e=a.tableName==="reactions";e&&d("MAWThreadUpdateMiddlewareGatingUtil").isPeristedUnbumpEnabled()&&d("MAWBridgeFireAndForget").fireAndForget("backend","unbumpThread",{incomingUnbumpFromTs:d("WATimeUtils").castToMillisTime((h||(h=d("I64"))).to_float(b)),threadJid:a.jid});return{isUnbump:!0,threadBumpType:d("MAWThreadBumpType").THREAD_BUMP_TYPE.LOCAL_ONLY}}return{isUnbump:a.isUnbump,threadBumpType:a.threadBumpType}}function A(a,b,c,e,f,g){if(c!==d("MAWThreadBumpType").THREAD_BUMP_TYPE.LOCAL_AND_SERVER)return!1;if(B(a,b)){q.DEBUG(l(),(h||(h=d("I64"))).to_string(g));return!1}E("check_if_bump_is_newer_than_current_activity");c=(h||(h=d("I64"))).gt(e,f);c||E("server_bump_prevented");return c}function B(a,b){return a!=null&&d("WAJids").isAuthorMe(a)&&b===!1}async function C(a,b){var e=await (k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton;E("wait_for_authoritative_thread_start");D(a.threadKey,e,function(a){E("wait_for_authoritative_thread_end");var g=(h||(h=d("I64"))).to_float(a.lastActivityTimestampMs);E("ts_of_authoritative_thread_after_wait_"+(g>0?"gt_0":"eq_0"));c("promiseDone")(e.runInTransaction(function(c){return r(c,a,b)},"readwrite",void 0,void 0,f.id+":477"))});return}function D(a,b,e){var f=d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(a).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if((h||(h=d("I64"))).lt(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;e(a);return f()})}function E(a){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:a})}g.call=a}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["LSThreadBitOffset","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeDeleteGroupInviteHandler",async function(b,e){var f=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.group_invites).getKeyRange(e));return Promise.all(f.map(function(a){return b.group_invites.delete(a.threadKey,a.inviterId,a.inviteeId)})).then(function(){if(!c("justknobx")._("1162"))return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)),function(b){if(b==null)return;var c=d("LSThreadBitOffset").clear([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4,b.capabilities5),e=c[0],f=c[1],g=c[2],h=c[3];c=c[4];return a.threads.put(babelHelpers.extends({},b,{capabilities:e,capabilities2:f,capabilities3:g,capabilities4:h,capabilities5:c,snippet:void 0}))})})})}g.call=a}),98);
__d("MAWBridgeDeleteMessageRangesV2Handler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeDeleteMessageRangesV2Handler",function(a,c){return a.messages_ranges_v2__generated["delete"](c,(h||(h=d("I64"))).of_float(b.minTimestampMs),b.minMsgId)})}g.call=a}),98);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["EBIsEbEnabled","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){if(b.actionType===2){if(!await d("EBIsEbEnabled").isEbEnabledLS(a))return;await c("LSIssueThreadRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM_WEB)})}}g.call=a}),98);
__d("MAWBridgeFulfillRestorePromisePayloadHandler",["MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a.success?(d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(a.value.traceId),d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(a.value.traceId)):(d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(a.error.traceId,c("err")(a.error.message)),d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a.error.traceId));return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeGQLUploadUtils",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";async function a(b,d){var a=await c("JSResourceForInteraction")("MAWEncryptedBackupsMessageUploadMutation").__setRef("MAWBridgeGQLUploadUtils").load();return a.uploadMessageOverGQL(b,d)}g.uploadMessageOverGQL=a}),98);
__d("MAWBridgeGroupInfoUpdatedHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MWFBLogger","ODS","ReQL","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['MAWDB groupInfo is missing "name" field for threadKey: ',""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Missing thread for updating group with threadKey: ",""]);k=function(){return a};return a}var l=d("MWFBLogger").MWLogger.tags(["bridgeUIEvent","Occam","Middleware"]);function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeGroupInfoUpdatedHandler",async function(a,e){var f;f=(f=b.threadName)!=null?f:void 0;a=a.threads;var g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(e));if(g==null){(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_group_info_update","missing_thread");l.WARN(k(),(i||(i=d("I64"))).to_string(e));return}else f==null&&c("justknobx")._("4129")&&(f=g.threadName,l.WARN(j(),(i||(i=d("I64"))).to_string(e)));e=b.memberAddMode!=="all_member_add";await a.put(babelHelpers.extends({},g,{needsAdminApprovalForNewParticipant:e,threadName:f}))})}g.call=a}),98);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeGroupInviteUpdateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.inviterId);return(h||(h=b("Promise"))).all([d("MAWUpdateLSThreadCapabilities").setGroupInviteTxn(a,f,g)]).then(c("emptyFunction"))})}g.call=a}),98);
__d("MAWBridgeHandleCOPDigest",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeMediaExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeMediaExpiredHandler.bs",function(a,c){return a.attachments["delete"](c,b.msgId,String(b.plaintextHash))})}g.call=a}),98);
__d("MAWBridgeMsgUpdatedHandler",["FBLogger","MAWAdminMsgCTA","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsgReplySnippet","MAWUpdateMsg","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeMsgUpdatedHandler",async function(a,e){var f,g=await (f=d("ReQL")).firstAsync(f.fromTableAscending(a.messages.index("messageId")).getKeyRange(b.msgId));f=await f.firstAsync(f.fromTableAscending(a.attachments).getKeyRange(e,b.msgId));if(g==null){c("FBLogger")("messenger_web").info("existing message is null for type %s, and attachment is null: %s",b.type_,f==null);return}f=await d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,e,b);e=await d("MAWMsgReplySnippet").getReplySnippet(b);return d("MAWUpdateMsg").call(a,b,g,f,e)})}g.call=a}),98);
__d("MAWBridgeMsgsLoadedHandler",["I64","LSClearMessagePlaceholderRangeStoredProcedure","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeMsgsLoadedHandler",function(a,e){return c("LSClearMessagePlaceholderRangeStoredProcedure")(c("LSFactory")(a),{maxTimestampMs:d("MAWTimeUtils").MAX_TIMESTAMP_MS,messageId:"",threadKey:e}).then(function(){if(c("gkx")("23927")){var f,g,i,j,k,l,m,n;f=(f=(f=b.rangeExtensionType)==null?void 0:f.hasMoreBefore)!=null?f:!1;g=(g=(g=b.rangeExtensionType)==null?void 0:g.hasMoreAfter)!=null?g:!1;i=f&&((i=b.rangeExtensionType)==null?void 0:i.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;j=g&&((j=b.rangeExtensionType)==null?void 0:j.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;k=(k=(k=b.rangeExtensionType)==null?void 0:k.minMsgId)!=null?k:"";l=(l=(l=b.rangeExtensionType)==null?void 0:l.maxMsgId)!=null?l:"";m=((m=b.rangeExtensionType)==null?void 0:m.rangeKind)==="before"?i:d("MAWTimeUtils").MIN_TIMESTAMP_MS;n=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="after"?j:d("MAWTimeUtils").MAX_TIMESTAMP_MS;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:g,hasMoreBefore:f,lowerOverlap:m,newMaxMid:l,newMaxTs:j,newMinMid:k,newMinTs:i,threadKey:e,upperOverlap:n})}else{f=((g=b.rangeExtensionType)==null?void 0:g.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;l=((m=b.rangeExtensionType)==null?void 0:m.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;i=(k=(j=b.rangeExtensionType)==null?void 0:j.minMsgId)!=null?k:"";m=(g=(n=b.rangeExtensionType)==null?void 0:n.maxMsgId)!=null?g:"";k=((j=b.rangeExtensionType)==null?void 0:j.rangeKind)==="extensionBefore"?f:d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="extensionAfter"?l:d("MAWTimeUtils").MAX_TIMESTAMP_MS;j=(n=(j=b.rangeExtensionType)==null?void 0:j.hasMoreBefore)!=null?n:!1;n=(n=(n=b.rangeExtensionType)==null?void 0:n.hasMoreAfter)!=null?n:!1;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:n,hasMoreBefore:j,lowerOverlap:k,newMaxMid:m,newMaxTs:l,newMinMid:i,newMinTs:f,threadKey:e,upperOverlap:g})}})})}g.call=a}),98);
__d("MAWBridgeNewMediaRangeHandler",["I64","LSFactory","LSIntEnum","LSUpsertAttachmentRangeStoredProcedure","MAWMediaGalleryEBTaggingUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","cr:20238","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeNewMediaRangeHandler",function(a,f){var g=(h||(h=d("I64"))).of_float(e.earliestLoadedMediaTs),j=e.mediaGalleryGroup,k=b("cr:20238")!=null?b("cr:20238").getMediaRestoreEBRange().getRange(f):null;k=Boolean(k==null?void 0:k.hasMoreBefore)&&d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryGroupSupportedForTaggedRestore(j);k=e.hasMoreBefore||k;return c("LSUpsertAttachmentRangeStoredProcedure")(c("LSFactory")(a),{hasMoreBefore:k,mediaGroup:(i||(i=d("LSIntEnum"))).ofNumber(j),newLastLoadedMessageId:e.lastLoadedMessageId,newMinTs:g,threadKey:f})})}function a(a,b){return j(a,b).then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler",["FBLogger","I64","LSAuthorityLevel","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","MAWCreateOptimisticThread","MAWFolderUtils","MAWJids","MAWThreadMappingState","MAWThreadUpdateMiddlewareGatingUtil","MAWThreadUtils","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="[Occamadillo][CreateE2EEMetadataThreadHandler]";async function a(a,b){d("WALogger").LOG([j+" Handler called from "+b.creationSource+" for "+("jid: "+b.jid)]);if(!d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_disabled")){d("WALogger").LOG([j+" Early return due to failed eligibility check"]);return Promise.resolve()}var e=b.bumpTimestampMs,f=b.creationSource,g=b.folderId,i=b.jid;b=b.threadKeys;var l=await k(a,b);if(!n(f,l,b)){d("WALogger").LOG([j+" Early return due to no SPROC call required: jid: "+i+", "+("threadKey: "+((l==null?void 0:l.threadKey)?(h||(h=d("I64"))).to_string(l==null?void 0:l.threadKey):"null"))]);return Promise.resolve()}f=o(f);g=d("MAWFolderUtils").systemFolderToLSCoreClientFolder(g);l=await m(a,l,b,i);b=d("MAWThreadUtils").getLSThreadTypeFromJid(i);p({bumpTimestampMs:e,createdByLocalDevice:f,folderType:g,jid:i,offlineThreadKeyDetails:l,threadType:b});return c("LSCreateE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpTimestampMs:e,createdByLocalDevice:f,folderType:g,offlineThreadKey:l.offlineThreadKey,threadType:b,waJid:d("MAWJids").convertChatJidToIntJid(i)})}async function k(a,b){a=await Promise.all([await l(a,b.authoritative),await l(a,b.optimistic)]);b=a[0];a=a[1];return(b=b)!=null?b:a}async function l(a,b){if(b==null)return Promise.resolve();a=await a.threads.get((h||(h=d("I64"))).of_string(b));return a}async function m(a,b,e,f){if(b!=null)return{offlineThreadKey:b.threadKey,source:"Pre-existing LSDB Thread"};b=null;var g=null;e.authoritative!=null?(b=(h||(h=d("I64"))).of_string(e.authoritative),g="MAW: authoritative"):e.optimistic!=null?(b=(h||(h=d("I64"))).of_string(e.optimistic),g="MAW: optimistic"):(b=await d("MAWCreateOptimisticThread").createOfflineThreadingId(a),g="New Offline Threading ID");await Promise.all([d("MAWCreateOptimisticThread").createOptimisticThreadWithThreadKey(a,b),d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:d("MAWJids").convertChatJidToIntJid(f),threadKey:b})]);c("FBLogger")("messenger_web").info(j.concat(" Created new optimistic thread in LSDB with threadKey: ",(h||(h=d("I64"))).to_string(b),", threadKey source: ",g,", for jid: ",f));return{offlineThreadKey:b,source:g}}function n(a,b,e){var f=b!=null?(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.authorityLevel):null;c("FBLogger")("messenger_web").info(j.concat(" Validating authoritativeThreadKey optimisation. authorityLevel: %",", has authoritativeThreadKey: %",", creationSource: %",", optimistic thread key: %",", authoritative thread key: %"),f!=null?f.toString():"null",e.authoritative!=null?"true":"false",a,e.optimistic,e.authoritative);switch(a){case"incoming_message":return b==null;case"outgoing_message":switch(f){case null:case void 0:case c("LSAuthorityLevel").CLIENT_PARTIAL:case c("LSAuthorityLevel").OPTIMISTIC:case c("LSAuthorityLevel").SERVER_PARTIAL:return!0;case c("LSAuthorityLevel").AUTHORITATIVE:case c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT:case c("LSAuthorityLevel").CLIENT_AUTHORITATIVE_DELETE:return!1;default:f;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown authority level")}default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown creation source")}}function o(a){switch(a){case"incoming_message":return!1;case"outgoing_message":return!0;default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown creation source")}}function p(a){var b=a.bumpTimestampMs,e=a.createdByLocalDevice,f=a.folderType,g=a.jid,k=a.offlineThreadKeyDetails;a=a.threadType;c("FBLogger")("messenger_web").info(j.concat(" Calling LSCreateE2EEMetadataThreadStoredProcedure with params: ","bumpTimestampMs: ",(h||(h=d("I64"))).to_float(b).toString(),", createdByLocalDevice: ",e.toString(),", folderType: ",(i||(i=d("LSIntEnum"))).toNumber(f).toString(),", offlineThreadKey: ",h.to_string(k.offlineThreadKey),", offlineThreadKeySource: ",k.source,", threadType: ",i.toNumber(a).toString(),", waJid: ",g))}g.call=a}),98);
__d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2",["FBLogger","I64","LSAuthorityLevel","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","MAWCreateOptimisticThread","MAWFolderUtils","MAWJids","MAWThreadMappingState","MAWThreadUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="[Occamadillo][CreateE2EEMetadataThreadHandlerV2]";async function a(a,b){var e=b.bumpTimestampMs,f=b.creationSource,g=b.folderId,i=b.jid;b=b.optimisticThreadKey;m(f,i);b=b!=null?await a.threads.get((h||(h=d("I64"))).of_string(b)):null;if(b!=null&&k(b)){n(i,(h||(h=d("I64"))).to_string(b.threadKey));return}e={bumpTimestampMs:e,createdByLocalDevice:f==="outgoing_message",folderType:d("MAWFolderUtils").systemFolderToLSCoreClientFolder(g),offlineThreadKey:await l(b,i,a),threadType:d("MAWThreadUtils").getLSThreadTypeFromJid(i),waJid:d("MAWJids").convertChatJidToIntJid(i)};p(e);return c("LSCreateE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),e)}function k(a){a=(i||(i=d("LSIntEnum"))).unwrapIntEnum(a.authorityLevel);switch(a){case c("LSAuthorityLevel").CLIENT_PARTIAL:case c("LSAuthorityLevel").OPTIMISTIC:case c("LSAuthorityLevel").SERVER_PARTIAL:return!1;case c("LSAuthorityLevel").AUTHORITATIVE:case c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT:case c("LSAuthorityLevel").CLIENT_AUTHORITATIVE_DELETE:return!0;default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown authority level")}}async function l(a,b,c){if(a!=null)return Promise.resolve(a.threadKey);a=await d("MAWCreateOptimisticThread").createOfflineThreadingId(c);o(b,a);await Promise.all([d("MAWCreateOptimisticThread").createOptimisticThreadWithThreadKey(c,a),d("MAWThreadMappingState").markActThreadMappingAsCompleted(c,{intJid:d("MAWJids").convertChatJidToIntJid(b),threadKey:a})]);return a}function m(a,b){c("FBLogger")("messenger_web").info(j+" handler called from %s for jid %s",a,b)}function n(a,b){c("FBLogger")("messenger_web").info(j+" handler returned early for jid %s because thread %s was already authoritative",a,b)}function o(a,b){c("FBLogger")("messenger_web").info(j+" no thread exists for jid %s, creating optimistic thread with key %s",a,(h||(h=d("I64"))).to_string(b))}function p(a){c("FBLogger")("messenger_web").info(j+" Calling LSCreateE2EEMetadataThreadStoredProcedure with params: bumpTimestampMs: %s, createdByLocalDevice: %s, folderType: %s, offlineThreadKey: %s, offlineThreadKeySource: %s, threadType: %s, waJid: %s",(h||(h=d("I64"))).to_string(a.bumpTimestampMs),a.createdByLocalDevice,h.to_string(a.folderType),h.to_string(a.offlineThreadKey),h.to_string(a.threadType),h.to_string(a.waJid))}g.call=a}),98);
__d("MAWBridgeParticipantRemovedHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeParticipantRemovedHandler",function(a,c){return a.participants["delete"](c,(h||(h=d("I64"))).of_string(b.userId))})}g.call=a}),98);
__d("MAWBridgeParticipantUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWBridgeParticipantsUpdatedHandler","MAWCurrentUser","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","MAWUpdateLSThreadCapabilities","TemporaryLoggingUtilsForS406998Only","gkx","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("MAWCurrentUser").getID(),l=(i||(i=d("I64"))).of_string(k);async function m(a,b,e){var f=(i||(i=d("I64"))).of_string(b.fbid),g=d("MAWTimeUtils").toTimestamp(b.readWatermarkTs),m=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs),n=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs),o=b.isSuperAdmin?h._(/*BTDS*/"Group creator").toString():void 0,p=await a.participants.get(e,f);p!=null?await a.participants.put(d("TemporaryLoggingUtilsForS406998Only").logIfInvalidParticipantAndReturnForS406998Only({authorityLevel:p.authorityLevel,contactId:f,deliveredWatermarkTimestampMs:m,groupParticipantJoinState:b.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:p.isSuperAdmin,nickname:p.nickname,normalizedSearchTerms:p.normalizedSearchTerms,participantCapabilities:p.participantCapabilities,readActionTimestampMs:n,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e},"MAWBridgeParticipantUpdatedHandler.put")):await a.participants.add(d("TemporaryLoggingUtilsForS406998Only").logIfInvalidParticipantAndReturnForS406998Only({authorityLevel:(i||(i=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:m,groupParticipantJoinState:b.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:b.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:i.zero,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e},"MAWBridgeParticipantUpdatedHandler.add"));await d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,e);n=b.isAdmin;(i||(i=d("I64"))).equal(l,f)&&(n?await d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,e):await d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,e));p==null&&await c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:k===b.fbid,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}function a(a,b){if(c("gkx")("13628"))return d("MAWBridgeParticipantsUpdatedHandler").call(a,{participants:[b]});if(b.fbid.startsWith("shadow_")){c("vulture")("Hxg8SseiWP5IZUyhTKsM26kY__w=");return Promise.resolve()}return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeParticipantUpdatedHandler",function(a,c){return m(a,b,c)})}g.callWithoutWaitingForAnything=m;g.call=a}),226);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsg","MAWRavenUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeRavenActionMsgForUIHandler",async function(a,c){a=a.attachments;c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c,b.ravenMsgId));if(c==null)return Promise.resolve();if(c.ephemeralMediaState==null)return Promise.resolve();var e=(h||(h=d("I64"))).to_int32(c.ephemeralMediaState);if(c.ephemeralMediaViewMode==null)return Promise.resolve();var f=h.to_int32(c.ephemeralMediaViewMode);e=d("MAWMsg").MAWRavenMsgEphemeralMediaState.cast(e);f=d("MAWMsg").MAWRavenMsgEphemeralType.cast(f);if(e==null||f==null)return Promise.resolve();e=d("MAWRavenUtils").getNextRavenMessageEphemeralState(e,f);if(e==null)return Promise.resolve();c.ephemeralMediaState;f=babelHelpers.objectWithoutPropertiesLoose(c,["ephemeralMediaState"]);c=babelHelpers.extends({ephemeralMediaState:h.of_int32(e)},f,{transportKey:"WhatsApp"});e=[f.threadKey,f.messageId,f.attachmentFbid];return a.upsert(e,c)})}g.call=a}),98);
__d("MAWBridgeReceivedReceiptHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL","TemporaryLoggingUtilsForS406998Only"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a,b,c){var e=(h||(h=d("I64"))).of_string(b.fbid),f=d("MAWTimeUtils").toTimestamp(b.lastReadWatermarkTs),g=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs);b=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs);c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(c,e));c!=null&&await a.participants.put(d("TemporaryLoggingUtilsForS406998Only").logIfInvalidParticipantAndReturnForS406998Only({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:(h||(h=d("I64"))).equal(g,(h||(h=d("I64"))).zero)?c.deliveredWatermarkTimestampMs:g,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)?c.readActionTimestampMs:b,readWatermarkTimestampMs:(h||(h=d("I64"))).equal(f,(h||(h=d("I64"))).zero)?c.readWatermarkTimestampMs:f,subscribeSource:c.subscribeSource,threadKey:c.threadKey,threadRoles:(h||(h=d("I64"))).zero},"MAWBridgeReceivedReceiptHandler"))}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeReceivedReceiptHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeRefreshContactHandler",["LSFactory","LSRefetchContactRowIfExistsStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:b})}g.call=a}),98);
__d("MAWBridgeRemoveMessageSearchResultHandler",["ReQL","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return async function(){var c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.message_search_results).filter(function(a){return b.includes(a.messageOtid)}));await Promise.all(c.map(function(b){return a.message_search_results.delete(b.type_,b.query,b.threadKey,b.globalIndex)}))}().then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeTraceUtils",["I64","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&c===b&&(i||(i=d("I64"))).equal(a.traceType,e))return a.shouldFlush===!1;else return!1})).then(function(a){if(a.length!==0)return(h||(h=b("Promise"))).resolve(a[0].traceId);else return(h||(h=b("Promise"))).resolve()})}g.getTraceId=a}),98);
__d("MAWBridgeStartTraceHandler",["ArmadilloDataTraceCheckPoint","ArmadilloDataTraceType","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceTag","LSFactory","LSRequestId","MAWAckLevel","MAWBridgeTraceUtils","MAWMsg","MAWTimeUtils","Promise","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return a.data_trace_meta.add({contextOne:void 0,contextThree:b.externalId,contextTwo:void 0,foregroundTimestampMs:(i||(i=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:b.traceType}).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceCreated,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){var f;if(b.threadKey==null||!c("gkx")("23995"))return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one,tags:(f=b.threadKey)!=null?f:void 0})})}function a(a,e){var f=e.ack,g=e.traceType;return f===d("MAWAckLevel").ACK.clock?d("MAWBridgeTraceUtils").getTraceId(a,e.externalId,e.traceType).then(function(f){if(f!=null)return;var k=c("LSRequestId").generate();if((i||(i=d("I64"))).equal(g,d("ArmadilloDataTraceType").armadilloMessageSend))return j(a,e,k).then(function(){var b=e.threadType;if(b==="User")return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceGroupMessage,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){if(e.isFirstMsg)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloActMessageSend,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:"first_msg=1"})}).then(function(){var f=e.type_;f=f===d("MAWMsg").text?d("ArmadilloDataTraceCheckPoint").traceTextMessage:f===d("MAWMsg").ptt||f===d("MAWMsg").image||f===d("MAWMsg").video||f===d("MAWMsg").gif?d("ArmadilloDataTraceCheckPoint").traceMediaMessage:void 0;if(f==null)return(h||(h=b("Promise"))).resolve(f);c("promiseDone")(c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one}));return(h||(h=b("Promise"))).resolve(f)}).then(function(b){if(b==null)return;if(!(i||(i=d("I64"))).equal(b,d("ArmadilloDataTraceCheckPoint").traceMediaMessage))return;b=e.type_;b=b===d("MAWMsg").image?d("LSDataTraceTag").image:b===d("MAWMsg").ptt?d("LSDataTraceTag").audio:b===d("MAWMsg").video?d("LSDataTraceTag").video:b===d("MAWMsg").gif?d("LSDataTraceTag").animatedImage:d("LSDataTraceTag").none;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").richMediaMediaSendAttachmentType,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:String(b)})});else return j(a,e,k)}):(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeStartTraceWithTraceIdHandler",["MAWMainTraceUtils","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMainTraceUtils").startTraceWithTxn(a,d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),b.traceId,b.traceType,void 0,void 0,b.traceContext)}g.call=a}),98);
__d("MAWBridgeSyncContacts",["CurrentMessengerUser","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("CurrentMessengerUser").getID();function a(a,e){return e.reduce(function(b,e){var f=(i||(i=d("I64"))).of_string(e);return b.then(function(){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:k===e,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}).then(c("emptyFunction"))},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWBridgeThreadHiddenV2Handler",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b,"MAWBridgeThreadHiddenV2Handler",function(a,b){a=c("LSFactory")(a);return c("LSOptimisticRemoveThreadStoredProcedure")(a,{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:b})})}g.call=a}),98);
__d("MAWBridgeThreadTimestampsHandler",["CurrentMessengerUser","I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL","TemporaryLoggingUtilsForS406998Only"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a,b,c){var e=d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs),f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b));if(f==null||c.markUnread!==null&&c.markUnread===!1&&(h||(h=d("I64"))).ge(f.lastReadWatermarkTimestampMs,e))return;e=babelHelpers.extends({},f,{lastReadWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)});await a.threads.put(e);f=(h||(h=d("I64"))).of_string(d("CurrentMessengerUser").getID());e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(b,f));e!=null&&await a.participants.put(d("TemporaryLoggingUtilsForS406998Only").logIfInvalidParticipantAndReturnForS406998Only(babelHelpers.extends({},e,{readActionTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastActivityTimestampMs),readWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)}),"MAWBridgeThreadTimestampsHandler"))}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeThreadTimestampsHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeThreadUpdatedHandler",["MAWBridgeBuildThreadSnippet","MAWBridgeUIEventDataValidation","MAWFolderUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","getMAWLastMessageCtaType"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=b.folder!=null?d("MAWFolderUtils").getMessagingFolderTag(b.folder):a.folderName;return(b=b.cannotReplyReason)!=null?b:c==="inbox"?void 0:a.cannotReplyReason}async function i(a,b,e){e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e));if(e==null)return;var f=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(b,e.snippet),g=h(e,b),i=c("getMAWLastMessageCtaType")(b.snippetType);g=babelHelpers.extends({},e,{cannotReplyReason:g,folderName:e.folderName,lastMessageCtaType:i,parentThreadKey:e.parentThreadKey,snippet:f,snippetSenderContactId:b.snippetSenderContactId==null?e.snippetSenderContactId:d("MAWBridgeUIEventDataValidation").stringToI64Opt(b.snippetSenderContactId)});await a.threads.put(g)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c,"MAWBridgeThreadUpdatedHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeUIEventQueueQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("QPLUserFlow").start(c("qpl")._(1056849266,"1765"),{annotations:{string_array:{events:b}},instanceKey:a})}function b(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(1056849266,"1765"),b,{instanceKey:a})}function d(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849266,"1765"),{instanceKey:a})}function e(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056849266,"1765"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:b}},instanceKey:a})}g.start=a;g.addAnnotations=b;g.endSuccess=d;g.endFailure=e}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeUnbumpOnThreadLoadHandler",["FBLogger","I64","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState","MAWODSProxy","WAOdsEnums"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set();async function a(a,b){var e=b.jid,f=b.unbumpFromTs;b=b.unbumpToTs;var g=await d("MAWChatJid").toThreadMaybe(a,e);if(g==null){var j=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(e),"MAWBridgeCentralizedThreadUpdateHandler");c("FBLogger")("UnbumpOnRefresh").mustfix("[UnbumpOnRefresh] missing thread for unbumping jid: %s with thread state: %s",e,j.type);return}if(i.has(e)){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"unbump_already_processed"});return}i.add(e);if(!(h||(h=d("I64"))).equal(g.lastActivityTimestampMs,f))return;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"unbump_on_thread_load"});j=babelHelpers.extends({},g,{lastActivityTimestampMs:b});await a.threads.put(j)}g.call=a}),98);
__d("MAWBridgeUpdateContactAsConnectedHandler",["FBLogger","I64","LSAddMessengerContactStoredProcedure","LSContactViewerRelationship","LSFactory","LSIntEnum","LSOptimisticAcceptMessageRequestStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b){var e=b.contactUserId;b=b.threadJid;var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange((h||(h=d("I64"))).of_string(e)));if(f==null){c("FBLogger")("messenger_web").warn("Missing contact in MAWBridgeUpdateContactAsConnectedHandler");return}var g=babelHelpers.extends({},f,{contactViewerRelationship:(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)});return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b,"MAWBridgeUpdateContactAsConnectedHandler",async function(a,b){await Promise.allSettled([a.contacts.upsert([f.id],g),c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(a),{contactId:f.id}),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,b),c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(a),{threadKey:b})])})}g.call=a}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler",["LSFactory","LSUpdateE2EEMetadataParticipantsStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeThreadsLoadedHandler",function(a,b){return c("LSUpdateE2EEMetadataParticipantsStoredProcedure")(c("LSFactory")(a),{threadKey:b})})}g.call=a}),98);
__d("MAWBridgeUpdateMinMessageHandler",["FBLogger","I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","ReQLTable"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).of_float(b.minTimestampMs),f=b.minMessageId;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeUpdateMinMessageHandler",function(a,g){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(g)).then(function(h){if(h==null)return;var i=b.hasMoreBefore,j=i!=null?i:h.hasMoreBefore;return d("ReQLTable").update(a.messages_ranges_v2__generated,[g,h.minTimestampMs,h.minMessageId],function(a){if(a!=null)return{hasMoreAfter:a.hasMoreAfter,hasMoreBefore:j,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:f,minTimestampMs:e,threadKey:a.threadKey};throw c("FBLogger")("wmi_eb").mustfixThrow("Thread is missing in updating the min message in message range")})})})}g.call=a}),98);
__d("MAWBridgeUpdateThreadListItemHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWBridgeBuildThreadSnippet","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState","MWFBLogger","getMAWLastMessageCtaType"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MWFBLogger").MWLogger.tags(["bridgeUIEvent","Occam","Middleware"]);async function a(a,b){var c=b.activityUpdate,d=b.chatJid;b=b.snippetUpdate;c!=null&&await j(a,d,c);b!=null&&await m(a,d,b)}async function j(a,b,c){var e=await d("MAWChatJid").toThreadMaybe(a,b);if(e==null){await q(a,b);return}switch(c.source){case"outgoing_msg":case"incoming_msg":return k(a,e,c);case"deleted_msg":return l(a,e,c);case"inserted_admin_msg":return o(e,c,"No bump for admin message");case"eb_restore":return i.warn("Attempted bump from EB restore");default:c.source;throw i.mustfixThrow("Unknown source")}}async function k(a,b,d){if(n(b,d)){o(b,d,"Stale incoming bump");return}await c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpedByLocalDeviceSend:d.source==="outgoing_msg",isUnbump:!1,serverAuthoritativeTimestampMs:d.bumpTimestampMs,threadKey:b.threadKey});o(b,d,"Thread bumped")}async function l(a,b,c){await a.threads.put(babelHelpers.extends({},b,{lastActivityTimestampMs:(h||(h=d("I64"))).min(b.lastActivityTimestampMs,c.bumpTimestampMs),lastReadWatermarkTimestampMs:h.min(b.lastReadWatermarkTimestampMs,c.bumpTimestampMs)})),o(b,c,"Thread unbumped")}async function m(a,b,e){var f=await d("MAWChatJid").toThreadMaybe(a,b);if(f==null){await q(a,b);return}await a.threads.put(babelHelpers.extends({},f,{lastMessageCtaType:c("getMAWLastMessageCtaType")(e.snippetType),snippet:d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(e,f.snippet),snippetSenderContactId:e.snippetSenderContactId!=null?(h||(h=d("I64"))).of_string(e.snippetSenderContactId):(h||(h=d("I64"))).zero}));p(f.threadKey)}function n(a,b){return b.source==="incoming_msg"&&(h||(h=d("I64"))).le(b.bumpTimestampMs,a.lastActivityTimestampMs)}function o(a,b,c){b=[(h||(h=d("I64"))).to_string(a.threadKey),b.source,h.to_string(b.bumpTimestampMs),h.to_string(a.lastActivityTimestampMs),h.to_string(a.lastReadWatermarkTimestampMs)];i.debug.apply(i,[c+". threadKey: %s, source: %s, bumpTimestampMs: %s, originalLastActivityTimestampMs: %s, originalLastReadWatermarkTimestampMs: %s"].concat(b))}function p(a){i.debug("Updated thread snippet. threadKey: %s",(h||(h=d("I64"))).to_string(a))}async function q(a,b){a=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b),"MAWBridgeUpdateThreadListItemHandler");i.mustfix("Missing LSDBThread when updating threadlist item. jid: %s, thread state: %s",b,a.type)}g.call=a}),98);
__d("MAWBridgeXMAShareExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,c,d){var e=String(d.xmaId);return a.attachments.get(c,d.msgId,e).then(function(f){if(f==null)return(h||(h=b("Promise"))).resolve();f=[f.defaultCtaId,f.attachmentCta1Id,f.attachmentCta2Id,f.attachmentCta3Id].filter(Boolean);f=f.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(f).then(function(){return a.attachments["delete"](c,d.msgId,e)})})}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeXMAShareExpiredHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeXMAShareTombstonedHandler",["FBLogger","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=String(b.xmaId);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeXMAShareTombstonedHandler",function(a,f){return a.attachments.get(f,b.msgId,e).then(function(g){if(g==null)return Promise.resolve();g=[g.defaultCtaId,g.attachmentCta1Id,g.attachmentCta2Id,g.attachmentCta3Id].filter(Boolean);g=g.map(function(b){return a.attachment_ctas.delete(b)});return Promise.all(g).then(function(){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(f,b.msgId,e)).then(async function(b){if(b!=null){b=babelHelpers.extends({},b,{attachmentCta1Id:void 0,attachmentCta2Id:void 0,attachmentCta3Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,previewHeight:void 0,previewHeightLarge:void 0,previewWidth:void 0,previewWidthLarge:void 0,subtitleText:void 0,titleText:void 0});await a.attachments.put(b)}c("FBLogger")("messenger_web_sharing").blameToPreviousFrame().mustfix("Trying to tombstone a secure xma attachment but no existing attachment");return Promise.resolve()})})})})}g.call=a}),98);
__d("isInstamadilloDYI",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("665")===!0}g["default"]=a}),98);
__d("MAWBridgeUIEventHandler",["FBLogger","MAWAbPropsClient","MAWBridgeAddMessageSearchResultHandler","MAWBridgeCallRestoreNativeOpHandler","MAWBridgeCentralizedThreadUpdateHandler","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessageRangesV2Handler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeFulfillRestorePromisePayloadHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteLoadedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeHandleCOPDigest","MAWBridgeMediaExpiredHandler","MAWBridgeMsgUpdatedHandler","MAWBridgeMsgsLoadedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantRemovedHandler","MAWBridgeParticipantUpdatedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler","MAWBridgeReceivedChatStateHandler","MAWBridgeReceivedReceiptHandler","MAWBridgeRefreshContactHandler","MAWBridgeRemoveMessageSearchResultHandler","MAWBridgeSyncContacts","MAWBridgeThreadHiddenV2Handler","MAWBridgeThreadTimestampsHandler","MAWBridgeThreadUpdatedHandler","MAWBridgeUIEventQueueQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUnbumpOnThreadLoadHandler","MAWBridgeUpdateClientRestoreStatus","MAWBridgeUpdateContactAsConnectedHandler","MAWBridgeUpdateE2EEMetadataParticipantsHandler","MAWBridgeUpdateMinMessageHandler","MAWBridgeUpdateThreadListItemHandler","MAWBridgeXMAShareExpiredHandler","MAWBridgeXMAShareTombstonedHandler","MAWEphemeralMessageExpirationStorage","MAWLoggerUtils","WAResultOrError","WATagsLogger","WATimeUtils","cr:15985","cr:15986","cr:15987","cr:16021","cr:16022","cr:16023","cr:16024","cr:16025","cr:16026","cr:16027","cr:16028","emptyFunction","getErrorSafe","isArmadillo","isInstamadilloDYI","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Handle UI Events: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"]);j=function(){return a};return a}function k(a,e,f){switch(f.tag){case"NewMsg":return d("MAWBridgeNewMsgHandler").call(e,f.value);case"MsgsStartCountdown":return d("MAWBridgeMsgsStartCountdownHandler").call(e,f.value);case"MsgClearCountdown":return Promise.resolve(d("MAWEphemeralMessageExpirationStorage").clearMessageFromExpiration(f.value));case"DropAllSecureThreads":return d("MAWBridgeDropAllSecureThreadsHandler").call(e);case"VerifyThreadExists":var g=f.value;return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(e,g);case"CreateE2EEMetadataThread":return d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler").call(e,f.value);case"CreateE2EEMetadataThreadV2":return d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2").call(e,f.value);case"EditMsgHistoryAdded":return d("MAWBridgeEditMsgHistoryAddedHandler").call(a,e,f.value);case"MsgUpdated":return d("MAWBridgeMsgUpdatedHandler").call(e,f.value);case"NewMedia":return d("MAWBridgeNewMediaHandler").call(e,f.value);case"NewMediaRange":return d("MAWBridgeNewMediaRangeHandler").call(e,f.value);case"MediaExpired":return d("MAWBridgeMediaExpiredHandler").call(e,f.value);case"XMAShareExpired":return d("MAWBridgeXMAShareExpiredHandler").call(e,f.value);case"NewXMA":return d("MAWBridgeNewXMAHandler").call(e,f.value);case"XMAShareTombstoned":return d("MAWBridgeXMAShareTombstonedHandler").call(e,f.value);case"ParticipantUpdated":return d("MAWBridgeParticipantUpdatedHandler").call(e,f.value);case"ParticipantRemoved":return d("MAWBridgeParticipantRemovedHandler").call(e,f.value);case"UpdateE2EEMetadataParticipants":return d("MAWBridgeUpdateE2EEMetadataParticipantsHandler").call(e,f.value);case"ReceivedReceipt":return d("MAWBridgeReceivedReceiptHandler").call(e,f.value);case"ThreadUpdated":return d("MAWBridgeThreadUpdatedHandler").call(e,f.value);case"GroupInfoUpdated":return d("MAWBridgeGroupInfoUpdatedHandler").call(e,f.value);case"CentralizedThreadUpdate":return d("MAWBridgeCentralizedThreadUpdateHandler").call(e,f.value);case"UpdateThreadListItem":return d("MAWBridgeUpdateThreadListItemHandler").call(e,f.value);case"UnbumpOnThreadLoad":return d("MAWBridgeUnbumpOnThreadLoadHandler").call(e,f.value);case"ThreadTimestampsUpdated":return d("MAWBridgeThreadTimestampsHandler").call(e,f.value);case"MsgsLoaded":return d("MAWBridgeMsgsLoadedHandler").call(e,f.value);case"StartTrace":return b("cr:16023").call(e,f.value);case"UpdateTrace":return b("cr:16026").call(e,f.value);case"ThreadHiddenV2":return d("MAWBridgeThreadHiddenV2Handler").call(e,f.value);case"SyncContacts":return d("MAWBridgeSyncContacts").call(e,f.value);case"ReceivedChatState":return d("MAWBridgeReceivedChatStateHandler").call(e,f.value);case"ClockSkewUpdated":return Promise.resolve(d("WATimeUtils").setClockSkew(f.value));case"ABPropsUpdated":c("FBLogger")("messenger_web").warn("[messenger_e2ee_web] ABPropsUpdated has been deprecated. Please use the bridge with ABPropsUpdated");return Promise.resolve(d("MAWAbPropsClient").rewrite(f.value));case"COPDigestReceived":return d("MAWBridgeHandleCOPDigest").call(e,f.value);case"UpsertReaction":return d("MAWBridgeReactionUpsertHandler").call(e,f.value);case"DeleteReaction":return d("MAWBridgeDeleteReactionHandler").call(e,f.value);case"UploadMessage":return b("cr:16028").call(e,f.value);case"UploadMessageByBatch":return b("cr:16027").call(e,f.value);case"DeleteMessagesOfThread":return b("cr:16021").call(e,f.value);case"UploadAttachment":return b("cr:15987").call(e,f.value);case"ResignAttachmentCDNUrl":return b("cr:15986").call(e,f.value);case"DeleteMessages":return d("MAWBridgeDeleteMessagesHandler").call(e,f.value);case"RestoreMessageBatch":d("WATagsLogger").TAGS(["labyrinth_web","labyrinth_dyi"]).WARN(j());return Promise.resolve();case"OneToOneMessageRequestLoaded":return d("MAWBridgeOneToOneMessageRequestLoadedHandler").call(e,f.value);case"GroupInviteUpdate":return d("MAWBridgeGroupInviteUpdateHandler").call(e,f.value);case"UpdateDyiStatus":d("WATagsLogger").TAGS(["labyrinth_web","labyrinth_dyi"]).WARN(i());return Promise.resolve();case"DeleteGroupInvite":return d("MAWBridgeDeleteGroupInviteHandler").call(e,f.value);case"TraceRecordCheckpoint":return b("cr:16025").call(e,f.value);case"DeleteMessageRangesV2":return d("MAWBridgeDeleteMessageRangesV2Handler").call(e,f.value);case"UpdateMinMessage":return d("MAWBridgeUpdateMinMessageHandler").call(e,f.value);case"IssuePointQuery":return b("cr:16022").call(e,f.value);case"ParticipantsUpdated":return d("MAWBridgeParticipantsUpdatedHandler").call(e,f.value);case"StartTraceWithTraceId":return b("cr:16024").call(e,f.value);case"UpdateClientRestoreStatus":return d("MAWBridgeUpdateClientRestoreStatus").call(e,f.value);case"NewMsgs":return d("MAWBridgeNewMsgHandler").bulkCall(e,f.value.msgs);case"UnArchivedSelfDeviceChangeAlerts":return d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(e,f.value);case"EphemeralSettingsUpdatedForUI":return b("cr:15985").call(e,f.value);case"RavenActionUpdate":return d("MAWBridgeRavenActionMsgForUIHandler").call(e,f.value);case"GroupInviteLoaded":return d("MAWBridgeGroupInviteLoadedHandler").call(e,f.value);case"RemoveMessageSearchResult":return d("MAWBridgeRemoveMessageSearchResultHandler").call(e,f.value);case"AddMessageSearchResult":return d("MAWBridgeAddMessageSearchResultHandler").call(a,e,f.value);case"FulfillRestorePromise":return d("MAWBridgeFulfillRestorePromisePayloadHandler").call(f.value);case"UpdateContactAsConnected":return d("MAWBridgeUpdateContactAsConnectedHandler").call(e,f.value);case"RefreshContact":return d("MAWBridgeRefreshContactHandler").call(e,f.value);case"NewReceiverFetchInfo":return d("MAWBridgeNewReceiverFetchInfoHandler").call(e,f.value);case"RestoreNativeOp":return d("MAWBridgeCallRestoreNativeOpHandler").call(e,f.value);case"NewPoll":return d("MAWBridgeNewPollHandler").call(e,f.value);default:return Promise.resolve()}}function a(a,b){if(!c("isArmadillo")()&&!c("isInstamadilloDYI")()){c("FBLogger")("maw_bridge").mustfix("User is neither part of armadillo QE and dual send QE but somehow loaded this handler");return}if(!(b.length===1&&b[0].tag==="TraceRecordCheckpoint")){var e={};e=b.reduce(function(a,b){a[b.tag]=((b=a[b.tag])!=null?b:0)+1;return a},e);d("WATagsLogger").TAGS(["MAWBridgeUIEvent"]).LOG(h(),e)}c("promiseDone")(l(a,b),c("emptyFunction"),function(a){c("FBLogger")("messenger_web").catching(a).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI events: %s",b.map(function(a){return a.tag}).join(", "))})}async function l(a,b){var e=await a;a=d("MAWLoggerUtils").getInstanceKey();var g=b.map(function(a){return a.tag}),h="";d("MAWBridgeUIEventQueueQPLLogger").start(a,g);d("MAWBridgeUIEventQueueQPLLogger").addAnnotations(a,{int:{queue_size:b.length}});var i;try{i=await e.runInTransaction(async function(a){for(var f=0;f<b.length;f++){var g=b[f];try{await k(e,a,g)}catch(a){h=g.tag;return d("WAResultOrError").makeError(c("getErrorSafe")(a))}}return d("WAResultOrError").makeResult(!0)},"readwrite","background",{events:b,type:"maw_ui_bridge"},f.id+":317")}catch(a){i=d("WAResultOrError").makeError(c("getErrorSafe")(a))}!i.success?(d("MAWBridgeUIEventQueueQPLLogger").endFailure(a,h),c("FBLogger")("messenger_web").catching(i.error).mustfix("MAWBridgeUIEventHandler] Did not commit UI events to DB: %s",g.toString())):d("MAWBridgeUIEventQueueQPLLogger").endSuccess(a)}async function e(a,b,d){try{await k(a,b,d)}catch(b){a=c("getErrorSafe")(b);c("FBLogger")("messenger_web").catching(a).mustfix("[handleShimEvent] Failed to handle UI event: %s",d.tag);throw b}}g.handleEvents=a;g.handleShimEvent=e}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","FBLogger","QPLUserFlow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,e){d("EncryptedBackupdDYIFileSaver").saveFile(a,b),window.setTimeout(function(){c("promiseDone")(e())},1e3)}async function a(a){var b=a.qplEvent,e=a.qplInstanceKeyE2E;a=a.status;var f=c("FBLogger")("[labyrinth_web][dyi]");if(a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw f.mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var g=d("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,i=await d("EncryptedBackupsDYIFileUtils").getRootFolderHandle(),j=await d("EncryptedBackupsDYIFileUtils").readFile(i,g);await h(g,j,async function(){await i.removeEntry(g)});f.info("Saving file with filename ",g);b!=null&&e!=null&&c("QPLUserFlow").endSuccess(b,{instanceKey:e});f.info("DYI Complete")}catch(a){f.mustfix("Failed to download the DYI archive: %s",a);b!=null&&e!=null&&c("QPLUserFlow").endFailure(b,a.message,{instanceKey:e});return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed&&(b!=null&&e!=null&&c("QPLUserFlow").endFailure(b,"Unknown error",{instanceKey:e}));return a}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d("I64"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d("I64"))).neg_one});else return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d("I64"))).neg_one})})},(h||(h=b("Promise"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c("updateAndFlushLSDataTrace")(a,d)})},(h||(h=b("Promise"))).resolve())}function a(a,e){var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return k(a,e,d("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return k(a,e,d("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchGQLHandler",["FBLogger","MAWBridgeSafeActionsWorkerAndUI","MAWEBFrontendQPLLogger","WAResultOrError","cr:8110"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,e){d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(e.messages,"upload_tracking_bridge_batch_handler_gql");var f=await b("cr:8110").call(a,e.messages);if(f.success){a=e.messages.map(function(a){if(a.uploadTrackingInstanceKey!=null)return{instanceKey:a.traceId,success:!0};else return null}).filter(Boolean);d("MAWBridgeSafeActionsWorkerAndUI").fireAndForgetBackendWorkerAndUIShared("ackWithInstanceKeyBatched",{instancesWithOutcomes:a});c("FBLogger")("labyrinth_web").info("Successfully completed GQL upload batch of size %s",e.messages.length);return d("WAResultOrError").makeResult()}e.messages.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").failEBUploadTracking(a.uploadTrackingInstanceKey,"gql_upload_failed",{string:{error:f.error}})});return d("WAResultOrError").makeError(f.error)}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageHandler","MAWEBFrontendQPLLogger","QPLUserFlow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(a.uploadTrackingInstanceKey,b)})}async function a(a,b){h(b.messages,"upload_tracking_bridge_batch_handler");b.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});b.checkPoint.forEach(function(b){return c("promiseDone")(d("MAWBridgeTraceRecordCheckpointHandler").call(a,b))});for(b of b.messages)await d("MAWBridgeUploadMessageHandler").call(a,b);return Promise.resolve()}g.call=a}),98);
__d("WebStorageManagerEstimatesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2144");b=d("FalcoLoggerInternal").create("web_storage_manager_estimates",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("E2EEBackupCommon",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ALREADY_REGISTERED","BACKUP_KEY_PAIR_SERIALIZATION_ERROR","CLIENT_PARAMS_ERROR","NETWORK_PROVIDER_ERROR","NOT_REGISTERED","VESTA_CLIENT_ERROR","VESTA_SERVER_ERROR","ISLAND_PUB_RSA_KEY_INVALID","ISLAND_PUB_ED25519_KEY_INVALID","MISSING_PIN_INPUT","GENERAL_ERROR","INVALID_PASSWORD"]);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,c==null?void 0:c.message)||this;d.name="BackupError";d.errorType=b;d.detailedError=c;d.message=b+((c==null?void 0:c.message)!=null?": "+(c==null?void 0:c.message):"");return d}return b}(babelHelpers.wrapNativeSuper(Error));f.BackupErrorType=a;f.BackupError=c}),66);
__d("VestaClientBootstrap",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);function j(a,b){return a[b]}var k=i.length;function l(a){if(a<36)return;i[a]=k;k=a}function m(a){var b=j(i,a);l(a);return b}function n(a){k===i.length&&i.push(i.length+1);var b=k;k=j(i,b);i[b]=a;return b}function o(a){return a}var p=new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});p.decode();var q=null;function r(){var a=o(h.memory);(q===null||q.buffer!==a.buffer)&&(q=new Uint8Array(a.buffer));return q}function s(a,b){return p.decode(r().subarray(a,a+b))}function t(a,b){try{return a.apply(void 0,b)}catch(b){a=o(h.__wbindgen_exn_store);a(n(b))}}function u(a,b){return r().subarray(a/1,a/1+b)}async function v(a,b){if(typeof WebAssembly.instantiateStreaming==="function")return WebAssembly.instantiateStreaming(a,b);a=await a.arrayBuffer();return WebAssembly.instantiate(a,b)}async function w(b){var d=arguments,e={wbg:{__wbg_buffer_de1150f91b23aa89:function(a){return n(j(i,a).buffer)},__wbg_call_4573f605ca4b5f10:function(){return t(function(a,b){a=j(i,a).call(j(i,b));return n(a)},d)},__wbg_crypto_98fc271021c7d2ad:function(a){return n(j(i,a).crypto)},__wbg_getRandomValues_98117e9a7e993920:function(){return t(function(a,b){j(i,a).getRandomValues(j(i,b))},arguments)},__wbg_global_8c35aeee4ac77f2b:function(){return t(function(){var b=a.global;return n(b)},d)},__wbg_globalThis_56d9c9f814daeeee:function(){return t(function(){return n(window)},d)},__wbg_length_e09c0b925ab8de5d:function(a){return j(i,a).length},__wbg_modulerequire_3440a4bcf44437db:function(){return t(function(a,b){a=f.require(s(a,b));return n(a)},d)},__wbg_msCrypto_a2cdb043d2bfe57f:function(a){return n(j(i,a).msCrypto)},__wbg_new_97cf52648830a70d:function(a){return n(new Uint8Array(j(i,a)))},__wbg_newnoargs_fc5356289219b93b:function(a,b){a=new Function(s(a,b));return n(a)},__wbg_newwithlength_e833b89f9db02732:function(a){return n(new Uint8Array(a>>>0))},__wbg_node_4b517d861cbcb3bc:function(a){return n(j(i,a).node)},__wbg_process_2f24d6544ea7b200:function(a){return n(j(i,a).process)},__wbg_randomFillSync_64cc7d048f228ca8:function(){return t(function(a,b,c){j(i,a).randomFillSync(u(b,c))},d)},__wbg_self_ba1ddafe9ea7a3a2:function(){return t(function(){var a=self.self;return n(a)},d)},__wbg_set_a0172b213e2469e9:function(a,b,c){return j(i,a).set(j(i,b),c>>>0)},__wbg_subarray_9482ae5cd5cd99d3:function(a,b,c){return n(j(i,a).subarray(b>>>0,c>>>0))},__wbg_versions_6164651e75405d4a:function(a){return n(j(i,a).versions)},__wbg_window_be3cc430364fd32c:function(){return t(function(){var a=window.window;return n(a)},d)},__wbindgen_is_object:function(a){return typeof j(i,a)==="object"&&j(i,a)!==null},__wbindgen_is_string:function(a){return typeof j(i,a)==="string"},__wbindgen_is_undefined:function(a){return j(i,a)===void 0},__wbindgen_memory:function(){return n(h.memory)},__wbindgen_object_clone_ref:function(a){return n(j(i,a))},__wbindgen_object_drop_ref:m,__wbindgen_throw:function(a,b){throw c("FBLogger")("wasm_vesta_client").mustfixThrow(s(a,b))}}},g=await window.fetch(b),k=await v(await g,e),l=k.instance;h=l.exports;w.__wbindgen_wasm_module=f;return l}g.default=w}),98);
__d("VestaClient",["$InternalEnum","VestaClientBootstrap","bx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("mapVestaClientError").__setRef("VestaClient"),i=4096,j,k,l=function(a){return new Promise(function(b){h.onReady(function(c){b(c(a))})})};async function m(){var a=await c("VestaClientBootstrap")(c("bx").getURL(c("bx")("604")));j=a.exports;k=n(j.memory)}function n(a){return a}async function a(a,b){(j===void 0||k===void 0)&&await m();var c=0,d=new Uint8Array(k.buffer,c,a.byteLength);d.set(a);c+=d.byteLength;a=new Uint8Array(k.buffer,c,b.byteLength);a.set(b);c+=a.byteLength;b=new Uint8Array(k.buffer,c,i);var e=n(j.vesta_client_validate_hsm_key);e=e(d.byteOffset,d.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength);if(e!==0)throw await l(e);d=new DataView(k.buffer,c,i);a=r(d);return a[0][0]!==0}async function d(a){(j===void 0||k===void 0)&&await m();var b=0,c=new Uint8Array(k.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(k.buffer,b,i);var d=n(j.vesta_client_begin_register);d=d(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(d!==0)throw await l(d);c=new DataView(k.buffer,b,i);a=r(c);return{clientState:new Uint8Array(a[1]),r1Message:new Uint8Array(a[0])}}var o=b("$InternalEnum").Mirrored(["WaBackupKeyData","Raw"]);async function e(a,b,c,d,e,f,g,h,p,q){p===void 0&&(p=0);q===void 0&&(q=o.WaBackupKeyData);(j===void 0||k===void 0)&&await m();var s=0,t=new Uint8Array(k.buffer,s,a.byteLength);t.set(a);s+=a.byteLength;a=new Uint8Array(k.buffer,s,b.byteLength);a.set(b);s+=b.byteLength;b=new Uint8Array(k.buffer,s,c.byteLength);b.set(c);s+=c.byteLength;c=new Uint8Array(k.buffer,s,d.byteLength);c.set(d);s+=d.byteLength;d=new Uint8Array(k.buffer,s,e.byteLength);d.set(e);s+=e.byteLength;e=new Uint8Array(k.buffer,s,f.byteLength);e.set(f);s+=f.byteLength;f=new Uint8Array(k.buffer,s,g.byteLength);f.set(g);s+=g.byteLength;g=new Uint8Array(k.buffer,s,h.byteLength);g.set(h);s+=h.byteLength;h=new Uint8Array(k.buffer,s,i);if(q===o.Raw){q=n(j.vesta_client_finish_register);q=q(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,p,h.byteOffset,h.byteLength)}else{var u=n(j.vesta_client_finish_register_proto);q=u(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,p,h.byteOffset,h.byteLength)}if(q!==0)throw await l(q);u=new DataView(k.buffer,s,i);t=r(u);return{registerIdentifier:new Uint8Array(t[1]),registerPayload:new Uint8Array(t[0])}}async function f(a){(j===void 0||k===void 0)&&await m();var b=0,c=new Uint8Array(k.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(k.buffer,b,i);var d=n(j.vesta_client_begin_login);d=d(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(d!==0)throw await l(d);c=new DataView(k.buffer,b,i);a=r(c);return{clientState:new Uint8Array(a[1]),l1Message:new Uint8Array(a[0])}}async function p(a,b,c,d){(j===void 0||k===void 0)&&await m();var e=0,f=new Uint8Array(k.buffer,e,a.byteLength);f.set(a);e+=a.byteLength;a=new Uint8Array(k.buffer,e,b.byteLength);a.set(b);e+=b.byteLength;b=new Uint8Array(k.buffer,e,c.byteLength);b.set(c);e+=c.byteLength;c=new Uint8Array(k.buffer,e,d.byteLength);c.set(d);e+=d.byteLength;d=new Uint8Array(k.buffer,e,i);var g=n(j.vesta_client_finish_login);g=g(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength);if(g!==0)throw await l(g);f=new DataView(k.buffer,e,i);a=r(f);return{exportKey:new Uint8Array(a[2]),l3Message:new Uint8Array(a[0]),sessionKey:new Uint8Array(a[1])}}async function q(a,b,c,d){d===void 0&&(d=o.WaBackupKeyData);(j===void 0||k===void 0)&&await m();var e=0,f=new Uint8Array(k.buffer,e,a.byteLength);f.set(a);e+=a.byteLength;a=new Uint8Array(k.buffer,e,b.byteLength);a.set(b);e+=b.byteLength;b=new Uint8Array(k.buffer,e,c.byteLength);b.set(c);e+=c.byteLength;c=new Uint8Array(k.buffer,e,i);if(d===o.Raw){d=n(j.vesta_client_unpack_login_payload);d=d(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}else{var g=n(j.vesta_client_unpack_login_payload_proto);d=g(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}if(d!==0)throw await l(d);g=new DataView(k.buffer,e,i);f=r(g);return{userSecret:new Uint8Array(f[0])}}function r(a){var b=[],c=0,d=a.getUint8(c++);for(var e=0;e<d;e++){var f=a.getUint32(c);c+=4;b[e]=[];for(var g=0;g<f;g++)b[e].push(a.getUint8(c++))}return b}g.validateHsmKey=a;g.beginRegister=d;g.SerializationMode=o;g.finishRegister=e;g.beginLogin=f;g.finishLogin=p;g.unpackLoginPayload=q}),98);
__d("VestaClientError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("E2EEBackupSecretRestoreModule",["E2EEBackupCommon","QuickPerformanceLogger","VestaClient","VestaClientError","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(235874858,"168");async function a(a,b,e){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase}});try{var f=await a.initLogin({clientId:b.clientId,productUseCase:b.productUseCase},e),g=f.islandRsaPub,j=f.islandRsaPubSig,k=f.islandEd25519Pub,l=f.islandEd25519PubSig;f=f.isRegistered;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"init_login_network_call");if(!f){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"NOT_REGISTERED"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NOT_REGISTERED)}f=await Promise.all([d("VestaClient").validateHsmKey(g,j),d("VestaClient").validateHsmKey(k,l)]);g=f[0];j=f[1];if(!g){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_RSA_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_RSA_KEY_INVALID)}if(!j){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_ED25519_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_ED25519_KEY_INVALID)}h.markerPoint(i,"verify_island_rsa_key");h.markerPoint(i,"verify_island_ed25519_key");l=b.vestaAccountPin;if(l==null)throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.MISSING_PIN_INPUT);else{f=new TextEncoder();g=await d("VestaClient").beginLogin(f.encode(l));j=g.clientState;f=g.l1Message;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"begin_login_vesta_client");l=await a.beginLogin({clientId:b.clientId,productUseCase:b.productUseCase,opaqueL1:f},e);g=l.opaqueL2;f=l.opaqueL2Sig;h.markerPoint(i,"begin_login_network_call");l=await d("VestaClient").finishLogin(g,f,k,j);g=l.exportKey;f=l.l3Message;k=l.sessionKey;h.markerPoint(i,"finish_login_vesta_client");j=await a.finishLogin({clientId:b.clientId,productUseCase:b.productUseCase,opaqueL3:f},e);l=j.loginSuccess;a=j.loginPayload;h.markerPoint(i,"finish_login_network_call");if(!l){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}if(a!=null){b=await d("VestaClient").unpackLoginPayload(a,k,g);f=b.userSecret;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"unpack_login_payload");h.markerEnd(i,2);return f}h.markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}}catch(a){if(a instanceof d("E2EEBackupCommon").BackupError)throw a;else if(a instanceof c("VestaClientError")){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VestaClientException: "+a.name}});h.markerEnd(i,3);if(a.name==="InvalidUserPassword")throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD,a);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_CLIENT_ERROR,a)}else{(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:a.message}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NETWORK_PROVIDER_ERROR,a)}}}g.restoreBackupSecret=a}),98);
__d("E2EEBackupUtil",["tweetnacl-util"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("tweetnacl-util").encodeBase64(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");a=a.length%4;if(a>0){if(a===1)throw new Error("Invalid length, couldn't decode input string");b=b.padEnd(b.length+(4-a),"=")}return c("tweetnacl-util").decodeBase64(b)}g.encodeBase64Url=a;g.decodeBase64Url=b}),98);
__d("MWChatEBPinCodeVerifyIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.isMessenger;a=a?"disabled":"blue";var e;b[0]!==a?(e=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXSpinner.react"),{color:a,size:12})}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"meta3",children:h._(/*BTDS*/"Verifying your PIN")})}),b[2]=a):a=b[2];b[3]!==e?(a=j.jsxs(c("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[e,a]}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWChatEncrypedBackupsNumericCodeKeyTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["TOP_ROW","NUM_PAD"]);c=b("$InternalEnum").Mirrored(["NUM_PAD_WITHOUT_NUM_LOCK","NON_NUMERIC_CHAR"]);f.ValidNumberType=a;f.InvalidKeyType=c}),66);
__d("MWChatEncrypedBackupsNumericCodeValidation",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){var b=/^[0-9]*$/;return b.test(a)};a=function(a,b){return a.length>b?!1:g(a)};b=function(a,b){return a.length!==b?!1:g(a)};f.numericCodeIsValid=a;f.numericCodeIsCompleted=b}),66);
__d("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29657246047255053"}),null);
__d("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters",["MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsForgotPINDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatEncryptedBackupsForgotPINDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPINDialog.react").__setRef("MWChatEncryptedBackupsForgotPINDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPinStepDialogPage.react").__setRef("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeErrorWrapper.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inputWrapperErrorOnly:{paddingBottom:"x18d9i69",$$css:!0},outterWrapper:{minHeight:"x10sr9ya",$$css:!0},outterWrapperSmall:{minHeight:"x1h7t28c",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.error;a=a.inputSize;a=a===void 0?"large":a;var g=a==="large"?k.outterWrapper:k.outterWrapperSmall;a=a==="large"?20:0;var i;b[0]!==f?(i=(h||(h=c("stylex"))).props(f!=null&&[k.inputWrapperErrorOnly]),b[0]=f,b[1]=i):i=b[1];var l;b[2]!==e||b[3]!==i?(l=j.jsx("div",babelHelpers["extends"]({},i,{children:e})),b[2]=e,b[3]=i,b[4]=l):l=b[4];b[5]!==f?(e=f!=null?j.jsx("div",babelHelpers["extends"]({className:"x10b6aqq x1y1aw1k x2b8uid"},{children:j.jsx(c("MWXText.react"),{color:"negative",testid:void 0,type:"body4",children:f})})):null,b[5]=f,b[6]=e):e=b[6];b[7]!==a||b[8]!==l||b[9]!==e?(i=j.jsxs(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:a,paddingTop:0,children:[l,e]}),b[7]=a,b[8]=l,b[9]=e,b[10]=i):i=b[10];b[11]!==g||b[12]!==i?(f=j.jsx(c("MWXColumn.react"),{xstyle:g,children:i}),b[11]=g,b[12]=i,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputInner.react",["BaseTextInput.react","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","focusScopeQueries","gkx","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=c("gkx")("24058"),n=c("justknobx")._("4712"),o=function(a){return["0","1","2","3","4","5","6","7","8","9"].includes(a.key)},p=function(a){return a.location===3&&(a.keyCode>=33&&a.keyCode<=40||a.keyCode===45||a.keyCode===12)},q={input:{height:"x5yr21d",start:"x17qophe",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},testOpacity:{opacity:"x1ptxcow",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(40),e=a.extraProps;a=a.props;var f=e.setFocus;e=a["aria-label"];var g=a.disabled,h=a.focusRegionId,s=a.inputMode,t=a.onChange,u=a.onCompletionChange,v=a.onPressedInvalidKey,w=a.onPressedValidNumber,x=a.size,y=a.testid;a=a.value;var z=g===void 0?!1:g;g=l(a.length===x);var A=g[0],B=g[1],C=k(null),D=k(z);b[0]!==A||b[1]!==t||b[2]!==u||b[3]!==x?(g=function(a){var b=d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,x);t(a);u!=null&&b!==A&&(B(b),u(b))},b[0]=A,b[1]=t,b[2]=u,b[3]=x,b[4]=g):g=b[4];var E=g,F;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){var a=r,b=C.current;b==null?void 0:b.addEventListener("selectstart",a);return function(){b==null?void 0:b.removeEventListener("selectstart",a)}},F=[],b[5]=g,b[6]=F):(g=b[5],F=b[6]);j(g,F);b[7]!==z||b[8]!==f?(g=function(){z&&f(!1)},F=[z,f],b[7]=z,b[8]=f,b[9]=g,b[10]=F):(g=b[9],F=b[10]);j(g,F);b[11]!==z||b[12]!==h?(g=function(){D.current!==z&&(D.current=z,z||d("FocusRegion.react").focusRegionById(h,d("focusScopeQueries").tabbableScopeQuery))},F=[z,h],b[11]=z,b[12]=h,b[13]=F,b[14]=g):(F=b[13],g=b[14]);j(g,F);b[15]!==v||b[16]!==w?(g=function(a){o(a)?a.location===0?w==null?void 0:w(d("MWChatEncrypedBackupsNumericCodeKeyTypes").ValidNumberType.TOP_ROW):a.location===3&&(w==null?void 0:w(d("MWChatEncrypedBackupsNumericCodeKeyTypes").ValidNumberType.NUM_PAD)):p(a)&&(v==null?void 0:v(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK))},b[15]=v,b[16]=w,b[17]=g):g=b[17];var G=g;F=y!=null?y+"-mw-numeric-code-input-prevent-composer-focus-steal":"mw-numeric-code-input-prevent-composer-focus-steal";var H;b[18]!==f?(g=function(){f(!1)},H=function(){f(!0)},b[18]=f,b[19]=g,b[20]=H):(g=b[19],H=b[20]);var I;b[21]!==G?(I=function(a){var b=a.keyCode;(b===35||b===36||b===37||b===38||b===39||b===40)&&(a.preventDefault(),a.stopPropagation());n&&(G==null?void 0:G(a))},b[21]=G,b[22]=I):I=b[22];var J;b[23]!==v||b[24]!==x||b[25]!==E?(J=function(a){a=a.toString();d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,x)?E(a):n&&(v==null?void 0:v(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR))},b[23]=v,b[24]=x,b[25]=E,b[26]=J):J=b[26];var K;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(K=[q.input,m&&q.testOpacity],b[27]=K):K=b[27];b[28]!==e||b[29]!==z||b[30]!==s||b[31]!==x||b[32]!==F||b[33]!==g||b[34]!==H||b[35]!==I||b[36]!==J||b[37]!==y||b[38]!==a?(K=i.jsx(c("BaseTextInput.react"),{"aria-label":e,autoComplete:"one-time-code",disabled:z,id:F,inputMode:s,maxLength:x,onBlur:g,onFocus:H,onKeyDown:I,onValueChange:J,ref:C,testid:void 0,value:a,xstyle:K}),b[28]=e,b[29]=z,b[30]=s,b[31]=x,b[32]=F,b[33]=g,b[34]=H,b[35]=I,b[36]=J,b[37]=y,b[38]=a,b[39]=K):K=b[39];return K}function r(a){a.preventDefault()}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputRenderer.react",["MWXRow.react","MWXRowItem.react","MWXText.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m={focusRing:{boxShadow:"x18bame2",outline:"x1a2a7pz xvetz19",$$css:!0},input:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",boxSizing:"x9f619",display:"x78zum5",height:"xng8ra",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1o817pb",$$css:!0},inputBox:{marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",$$css:!0},inputColorPrimary:{backgroundColor:"xljulmy",$$css:!0},inputColorSecondary:{backgroundColor:"xwcfey6",$$css:!0},inputSmall:{height:"xaymia4",width:"x1bgwkul",$$css:!0},inputTiny:{height:"x1vqgdyp",width:"x10faclu",$$css:!0}},n="-",o="\u25cf";function p(a,b){if(b)return"disabled";return!c("gkx")("7485")?"primary":a===n?"secondary":"primary"}function a(a){var b=d("react-compiler-runtime").c(28),e=a.color,f=a.disabled,g=a.enableMasking,i=a.hasFocus,q=a.inputSize,r=a.size,s=a.testid,t=a.value,u=e===void 0?"primary":e,v=f===void 0?!1:f,w=g===void 0?!1:g,x=q===void 0?"large":q;a=s===void 0?"numeric-renderer":s;b[0]!==i||b[1]!==r||b[2]!==t?(e=function(a){return(t.length===a||t.length>a&&a===r-1)&&i},b[0]=i,b[1]=r,b[2]=t,b[3]=e):e=b[3];var y=e;b[4]!==r?(f=Array(r).fill(c("gkx")("7485")?n:""),b[4]=r,b[5]=f):f=b[5];g=l(f);q=g[0];var z=g[1];b[6]!==w||b[7]!==r||b[8]!==t?(s=function(){z(Array(r).fill().map(function(a,b){return t[b]!=null?w?o:t[b]:c("gkx")("7485")?n:""}))},e=[w,r,t],b[6]=w,b[7]=r,b[8]=t,b[9]=s,b[10]=e):(s=b[9],e=b[10]);k(s,e);if(b[11]!==u||b[12]!==v||b[13]!==w||b[14]!==x||b[15]!==y||b[16]!==a||b[17]!==q){b[19]!==u||b[20]!==v||b[21]!==w||b[22]!==x||b[23]!==y||b[24]!==a?(f=function(a,b){return j.jsx(c("MWXRowItem.react"),{xstyle:m.inputBox,children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.input,x==="small"&&m.inputSmall,x==="tiny"&&m.inputTiny,u==="primary"&&m.inputColorPrimary,u==="secondary"&&m.inputColorSecondary,y(b)&&m.focusRing),{"aria-hidden":a===n&&c("gkx")("7485"),"data-testid":void 0,children:w?j.jsx(c("MWXText.react"),{color:p(a,v),type:c("gkx")("7485")&&a===n?"entityHeaderHeadline1":"headlineEmphasized4",children:v?o:a}):j.jsx(c("MWXText.react"),{color:p(a,v),type:c("gkx")("7485")&&a===n?"entityHeaderHeadline1":"headlineEmphasized1",children:a})}))},b)},b[19]=u,b[20]=v,b[21]=w,b[22]=x,b[23]=y,b[24]=a,b[25]=f):f=b[25];g=q.map(f);b[11]=u;b[12]=v;b[13]=w;b[14]=x;b[15]=y;b[16]=a;b[17]=q;b[18]=g}else g=b[18];b[26]!==g?(s=j.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,role:"group",spacing:0,children:g}),b[26]=g,b[27]=s):s=b[27];return s}g.MWChatEncryptedBackupsNumericCodeInputRenderer=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInput.react",["MWChatEncryptedBackupsNumericCodeInputInner.react","MWChatEncryptedBackupsNumericCodeInputRenderer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=d("react-compiler-runtime").c(16),e=a.enableMasking,f=a.inputSize,g=a.size,h=a.testid,k=a.value,l=j(!1),m=l[0];l=l[1];var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1n2onr6"},b[0]=n):n=b[0];var o;b[1]!==e||b[2]!==m||b[3]!==a.color||b[4]!==a.disabled||b[5]!==f||b[6]!==g||b[7]!==h||b[8]!==k?(o=i.jsx(d("MWChatEncryptedBackupsNumericCodeInputRenderer.react").MWChatEncryptedBackupsNumericCodeInputRenderer,{color:a.color,disabled:a.disabled,enableMasking:e,hasFocus:m,inputSize:f,size:g,testid:void 0,value:k}),b[1]=e,b[2]=m,b[3]=a.color,b[4]=a.disabled,b[5]=f,b[6]=g,b[7]=h,b[8]=k,b[9]=o):o=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e={setFocus:l},b[10]=e):e=b[10];b[11]!==a?(m=i.jsx(c("MWChatEncryptedBackupsNumericCodeInputInner.react"),{extraProps:e,props:a}),b[11]=a,b[12]=m):m=b[12];b[13]!==o||b[14]!==m?(f=i.jsxs("div",babelHelpers["extends"]({},n,{children:[o,m]})),b[13]=o,b[14]=m,b[15]=f):f=b[15];return f}g["default"]=a}),98);
__d("MWChatEncryptedBackupsSetIsDialogPersistedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({setIsDialogPersisted:function(){}});g["default"]=b}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery.graphql",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:!1,kind:"LocalArgument",name:"labyrinthOnePointOneSecurityUX"}],c={alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"},{args:[{kind:"Variable",name:"labyrinthOnePointOneSecurityUX",variableName:"labyrinthOnePointOneSecurityUX"}],kind:"FragmentSpread",name:"MWChatEncryptedBackupsSettingsDialogStep_query"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c,e],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backup_encryption_management_delegator_id",storageKey:null}],type:"User",abstractKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[f,e,{alias:null,args:null,kind:"ScalarField",name:"last_sync_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_creation_time",storageKey:null},{condition:"labyrinthOnePointOneSecurityUX",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_sender_backup",storageKey:null}]},d,{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:b("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react",["CometScrollView.react","MWXColumnItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(17),f=a.bottomItem,g=a.children,h=a.ref,j=a.size;a=a.topItem;b=(b=a==null?void 0:a.align)!=null?b:"start";j=j==="small"?8:16;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x21xpn4"},e[0]=k):k=e[0];a=a==null?void 0:a.item;e[1]!==a?(k=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),e[1]=a,e[2]=k):k=e[2];e[3]!==b||e[4]!==j||e[5]!==k?(a=i.jsx(c("MWXColumnItem.react"),{align:b,paddingHorizontal:16,paddingTop:j,children:k}),e[3]=b,e[4]=j,e[5]=k,e[6]=a):a=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1iyjqo2"},e[7]=b):b=e[7];e[8]!==g?(j=i.jsx("div",babelHelpers["extends"]({},b,{ref:h,children:g})),e[8]=g,e[9]=j):j=e[9];e[10]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"xisnujt"},e[10]=k):k=e[10];e[11]!==f?(b=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:i.jsx("div",babelHelpers["extends"]({},k,{children:f}))}),e[11]=f,e[12]=b):b=e[12];e[13]!==b||e[14]!==a||e[15]!==j?(h=i.jsxs(c("CometScrollView.react"),{children:[a,j,b]}),e[13]=b,e[14]=a,e[15]=j,e[16]=h):h=e[16];return h}b=a;e=b;g["default"]=e}),98);
__d("MWEBConnections4AndroidIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(6),e=a.alt,f=a.ref,g=a.size;a=a.xstyle;g=g===void 0?"large":g;var i;b[0]!==g?(i=g==="large"?k?h("398892"):h("398891"):h("398080"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==e||b[3]!==g||b[4]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[2]=e,b[3]=g,b[4]=a,b[5]=i):i=b[5];return i}g["default"]=a}),98);
__d("MWEBFlowSourceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({source:null});g["default"]=b}),98);
__d("MWEBFlowSourceContextProvider.react",["MWEBFlowSourceContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.source;var f;b[0]!==a?(f={source:a},b[0]=a,b[1]=f):f=b[1];a=f;f=a;b[2]!==e||b[3]!==f?(a=i.jsx(c("MWEBFlowSourceContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWEBNoMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBNoMobileEOTRInformationalDialog.react").__setRef("MWEBNoMobileEOTRInformationalDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBOTCDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBOTCDialog.react").__setRef("MWEBOTCDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBPinCodeSize",[],(function(a,b,c,d,e,f){"use strict";a=6;f.EB_PIN_CODE_SIZE=a}),66);
__d("MWEBQPWithPinState.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INITIAL:0,RESTORE_IN_PROGRESS:1});c=a;f["default"]=c}),66);
__d("MWEBRestoreQPWithPin_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBRestoreQPWithPin_viewer",selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBUntrustedMobileEOTRInformationalDialog.react").__setRef("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint")};g["default"]=a}),98);
__d("MWEncryptedBackupsForgotPinStep",["fbt","MWChatEncryptedBackupsForgotPINDialog.entrypoint","MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint","MWEBNoMobileEOTRInformationalDialog.entrypoint","MWEBUntrustedMobileEOTRInformationalDialog.entrypoint","MWEBVirtualDevicesContext.react","MWJewelPopoverDialogContext.react","emptyFunction","qex","react","react-compiler-runtime","useMWXEntryPointDialog","usePushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));var j=i.useContext,k=h._(/*BTDS*/"Forgotten PIN?"),l=h._(/*BTDS*/"Need help?"),m="https://www.facebook.com/help/messenger-app/431055522328649?ref=learn_more";function a(a){var b,e=d("react-compiler-runtime").c(38),f=a.hasMobileDevices,g=a.offlineDevicesCount,h=a.onClose,i=a.onComplete,j=a.pushPage;a=(a=c("qex")._("3693"))!=null?a:!1;b=(b=c("qex")._("4656"))!=null?b:!1;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];n=c("usePushPage")(c("MWEBNoMobileEOTRInformationalDialog.entrypoint"),n);var o=n[0];n=n[1];if(e[1]!==n){n.onHighIntent;var p=babelHelpers.objectWithoutPropertiesLoose(n,["onHighIntent"]);p=p;e[1]=n;e[2]=p}else p=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(n={},e[3]=n):n=e[3];n=c("usePushPage")(c("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint"),n);var q=n[0];n=n[1];if(e[4]!==n){n.onHighIntent;var r=babelHelpers.objectWithoutPropertiesLoose(n,["onHighIntent"]);r=r;e[4]=n;e[5]=r}else r=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(n={},e[6]=n):n=e[6];n=c("usePushPage")(c("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint"),n);var s=n[0];n=n[1];if(e[7]!==n){n.onHighIntent;var t=babelHelpers.objectWithoutPropertiesLoose(n,["onHighIntent"]);t=t;e[7]=n;e[8]=t}else t=e[8];if(a&&!f){e[9]!==h||e[10]!==i||e[11]!==o?(n=function(){o({onClose:h,onComplete:i})},e[9]=h,e[10]=i,e[11]=o,e[12]=n):n=e[12];e[13]!==p.onHoverIn||e[14]!==p.onHoverOut||e[15]!==p.onPressIn||e[16]!==n?(a={children:k,onClick:n,onHoverEnd:p.onHoverOut,onHoverStart:p.onHoverIn,onPressStart:p.onPressIn},e[13]=p.onHoverIn,e[14]=p.onHoverOut,e[15]=p.onPressIn,e[16]=n,e[17]=a):a=e[17];return a}if(b&&f){e[18]!==h||e[19]!==s?(p=function(){s({onClose:h})},e[18]=h,e[19]=s,e[20]=p):p=e[20];e[21]!==p||e[22]!==t.onHoverIn||e[23]!==t.onHoverOut||e[24]!==t.onPressIn?(n={children:k,onClick:p,onHoverEnd:t.onHoverOut,onHoverStart:t.onHoverIn,onPressStart:t.onPressIn},e[21]=p,e[22]=t.onHoverIn,e[23]=t.onHoverOut,e[24]=t.onPressIn,e[25]=n):n=e[25];return n}var u=g>0;if(u){e[26]!==u||e[27]!==h||e[28]!==i||e[29]!==q||e[30]!==j?(a=function(){q({isRCDeviceEnabled:u,onClose:h,onComplete:i,pushPage:j},{})},e[26]=u,e[27]=h,e[28]=i,e[29]=q,e[30]=j,e[31]=a):a=e[31];e[32]!==r.onHoverIn||e[33]!==r.onHoverOut||e[34]!==r.onPressIn||e[35]!==a?(b={children:l,onClick:a,onHoverEnd:r.onHoverOut,onHoverStart:r.onHoverIn,onPressStart:r.onPressIn},e[32]=r.onHoverIn,e[33]=r.onHoverOut,e[34]=r.onPressIn,e[35]=a,e[36]=b):b=e[36];return b}else{e[37]===Symbol["for"]("react.memo_cache_sentinel")?(f={children:l,href:m,rel:"noreferrer",target:"_blank"},e[37]=f):f=e[37];return f}}function b(a){var b=d("react-compiler-runtime").c(14);a=a.onDismiss;var e=a===void 0?c("emptyFunction"):a;a=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();a=a.virtualDeviceInfo;a=a.offlineDevicesCount;var f=j(c("MWJewelPopoverDialogContext.react")),g=f.setIsOpenForDialog;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];f=c("useMWXEntryPointDialog")(c("MWChatEncryptedBackupsForgotPINDialog.entrypoint"),f);var h,i;b[1]!==f?(i=f[0],h=f.slice(1),b[1]=f,b[2]=h,b[3]=i):(h=b[2],i=b[3]);f=a>0;if(f){a=h;f=a[0];h=a[1];a=a[2];var k;b[4]!==e||b[5]!==g||b[6]!==i?(k=function(){g(!0),i({onDismiss:e})},b[4]=e,b[5]=g,b[6]=i,b[7]=k):k=b[7];var n;b[8]!==h||b[9]!==f||b[10]!==a||b[11]!==k?(n={children:l,onClick:k,onHoverEnd:h,onHoverStart:f,onPressStart:a},b[8]=h,b[9]=f,b[10]=a,b[11]=k,b[12]=n):n=b[12];return n}else{b[13]===Symbol["for"]("react.memo_cache_sentinel")?(h={children:l,href:m,rel:"noreferrer",target:"_blank"},b[13]=h):h=b[13];return h}}g.useForgotPinLinkPushPageProps=a;g.useForgotPinLinkShowDialogProps=b}),226);
__d("getMWEBRestoreQPCautionCircleProperties",["ix","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("23433");function a(){var a=i?h("414274"):h("1745665");return a}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAddDevice",["EBMainThreadEBDBApiDeferred","LSDataTraceCheckPoint","LSIntEnum","MAWTraceUtils","Promise","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");e.useCallback;var k=e.useRef,l=e.useState,m=c("requireDeferred")("MAWEncryptedBackupsClearRecoveryCode").__setRef("useMWChatEncryptedBackupsAddDevice"),n=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("useMWChatEncryptedBackupsAddDevice"),o=c("requireDeferred")("mwEBAddDevice").__setRef("useMWChatEncryptedBackupsAddDevice");function a(a){var e=d("react-compiler-runtime").c(12),f=a.environment,g=a.hsmFleetMigrationResetPIN,j=a.onComplete,s=a.onFailure,t=a.onInvalidRecoveryCode,u=a.onStart;a=l(!1);var v=a[0],w=a[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){w(!1)},e[0]=a):a=e[0];var x=a,y=c("useAsyncReStore")(),z=k("");e[1]!==y||e[2]!==f||e[3]!==g||e[4]!==j||e[5]!==s||e[6]!==t||e[7]!==u?(a=function(a,e,k){z.current=k||"",c("promiseDone")((h||(h=b("Promise"))).all([y,m.load(),o.load().then(r),n.load()]),function(h){var k=h[0],b=h[1],l=h[2];h=h[3];b=b.encryptedBackupsClearRecoveryCode;var m=h.encryptedBackupsFetchBackupIds;return c("promiseDone")(b(k),function(){var b={onFailure:function(a){x(),s(a),e!=null&&d("MAWTraceUtils").recordFailureAndFlushForTraceId(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_RESTORE_FAILURE),[],"Add Device Failure")},onInvalidRecoveryCode:function(){x(),t()},onStart:function(){w(!0),e!=null&&d("MAWTraceUtils").recordSuccessAndFlushForTraceId(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE),[]),u==null?void 0:u()},onSuccess:function(){c("promiseDone")(m(k)),x(),j(),g&&z.current!==""&&g(z.current)},recoveryCode:a,storage:k};return l(babelHelpers["extends"]({},b,{environment:f,traceId:d("MAWTraceUtils").stringToTraceId(e),trackAddingDevice:q,trackOverprompting:p}))})})},e[1]=y,e[2]=f,e[3]=g,e[4]=j,e[5]=s,e[6]=t,e[7]=u,e[8]=a):a=e[8];a=a;var A;e[9]!==v||e[10]!==a?(A=[a,v],e[9]=v,e[10]=a,e[11]=A):A=e[11];return A}function p(a){return d("EBMainThreadEBDBApiDeferred").trackOverprompting(a)}function q(){return d("EBMainThreadEBDBApiDeferred").addNewDevice()}function r(a){return a.EBAddDevice}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsNumericCode",["fbt","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","QPLUserFlow","focusScopeQueries","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));var j=i.useState,k={confirmPin:h._(/*BTDS*/"Confirm your PIN"),otc:h._(/*BTDS*/"One-time code"),pin:h._(/*BTDS*/"PIN")};function a(a){var b=a.checkPreviouslyInsertedCode,e=a.clearInputOnComplete,f=e===void 0?!1:e;e=a.enableMasking;var g=a.focusRegionId,h=a.inputSize,i=a.keyTypeQplEvent,l=a.onChange,m=a.onComplete;a=a.type;var n=j(!1),o=n[0],p=n[1];n=j(!0);var q=n[0],r=n[1];n=j("");var s=n[0],t=n[1];n=function(a){r(!a)};var u=async function(a){if(d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,h)){if(b!=null){var c=b.onCodeMismatch,e=b.previouslyInsertedCode;e=e===a;if(!e){c();return}}r(!0);p(!0);try{await m(a),f&&t("")}catch(a){t("")}finally{p(!1)}}};a=b!=null&&a==="pin"?"confirmPin":a;return[{"aria-label":k[a],disabled:o,enableMasking:e,focusRegionId:g,onChange:function(a){var b=function(){d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,h)&&(t(a),l==null?void 0:l(a),c("promiseDone")(u(a)))};b()},onCompletionChange:n,onPressedInvalidKey:function(a){i!=null&&(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR?c("QPLUserFlow").addAnnotations(i,{bool:{pin_input_pressed_non_numeric_char:!0}}):a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&c("QPLUserFlow").addAnnotations(i,{bool:{pin_input_pressed_num_pad_without_num_lock:!0}}))},onPressedValidNumber:function(a){i!=null&&(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").ValidNumberType.NUM_PAD?c("QPLUserFlow").addAnnotations(i,{bool:{pin_input_pressed_number_num_pad:!0}}):a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").ValidNumberType.TOP_ROW&&c("QPLUserFlow").addAnnotations(i,{bool:{pin_input_pressed_number_top_row:!0}}))},size:h,value:s},{clearNumericInput:function(){return t("")},disabled:q,focusOnInput:function(){d("FocusRegion.react").focusRegionById(g,d("focusScopeQueries").tabbableScopeQuery)},isLoading:o,onPress:function(){c("promiseDone")(u(s))}}]}g.useMWChatEncryptedBackupsNumericCode=a}),226);
__d("useMWEBFlowSourceContext",["FBLogger","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(){var a=d("react-compiler-runtime").c(2),b=i(c("MWEBFlowSourceContext")),e=b.source;a[0]!==e?(b=function(){if(e==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][web] source is null. Did you wrap your flow with MWEBFlowSourceContextProvider?");return c("MWChatEncryptedBackupsQPLSource.enum").UNKNOWN}return e},a[0]=e,a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsPinCodeRestore",["CometRelay","EBSMGatingUI","JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBODSEntityName.enum","MWEBPinCodeSize","MWEBUpsellDismissedEnum.facebook","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsAddDevice","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n=c("requireDeferred")("MWEBUseLocalStorage").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),o=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),p=c("requireDeferred")("mwEBGetPINSecretFromVesta").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),q=c("requireDeferred")("updateUpsellsStateInRelayStore").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),r=c("JSResourceForInteraction")("MWEncryptedBackupsHsmFleetMigrationGated").__setRef("useMWChatEncryptedBackupsPinCodeRestore");function a(a){var b=d("react-compiler-runtime").c(46),e=a.clientID,f=a.focusRegionId,g=a.onSubmitPin,i=a.onSubmitPinFailure,t=a.onVestaComplete,u=d("CometRelay").useRelayEnvironment();a=m(!1);var v=a[0],w=a[1];a=m(!1);var x=a[0],y=a[1];a=m(!1);var z=a[0],A=a[1],B=l(!1);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var C=a.startFlow,D=(h||(h=c("useReStore")))(),E=c("useMWEBFlowSourceContext")();a=m(!1);var F=a[0],G=a[1],H=j(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;b[0]!==D||b[1]!==u||b[2]!==C?(a=function(a){c("promiseDone")(r.load().then(function(b){b({db:D,environment:u,pinCode:a,startFlow:C})}))},b[0]=D,b[1]=u,b[2]=C,b[3]=a):a=b[3];a=a;var I;b[4]!==D||b[5]!==u||b[6]!==t?(I=function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");o.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:D,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});n.onReady(s);d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});t();G(!1);c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED})})},b[4]=D,b[5]=u,b[6]=t,b[7]=I):I=b[7];I=I;var J;b[8]!==u||b[9]!==i||b[10]!==H?(J=function(a){i==null?void 0:i(),B.current=!0,y(!0),G(!1),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null?void 0:H(!1)},b[8]=u,b[9]=i,b[10]=H,b[11]=J):J=b[11];J=J;var K;b[12]!==u||b[13]!==i||b[14]!==H?(K=function(){i==null?void 0:i(),B.current=!0,y(!0),G(!1),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"pin_code_restore_wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_restore_wrong_recovery_code"),c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null?void 0:H(!1)},b[12]=u,b[13]=i,b[14]=H,b[15]=K):K=b[15];K=K;var L;b[16]!==u||b[17]!==a||b[18]!==I||b[19]!==J||b[20]!==K?(L={environment:u,hsmFleetMigrationResetPIN:a,onComplete:I,onFailure:J,onInvalidRecoveryCode:K},b[16]=u,b[17]=a,b[18]=I,b[19]=J,b[20]=K,b[21]=L):L=b[21];a=c("useMWChatEncryptedBackupsAddDevice")(L);var M=a[0];b[22]===Symbol.for("react.memo_cache_sentinel")?(I=function(){y(!1),A(!1),w(!1)},b[22]=I):I=b[22];b[23]!==M||b[24]!==e||b[25]!==u||b[26]!==E||b[27]!==g||b[28]!==i||b[29]!==H||b[30]!==C?(J=async function(a){var b=await p.load();await b({addDevice:M,clientID:e,environment:u,getSourceFromContext:E,onSubmitPin:g,onSubmitPinFailure:i,onVestaSecretFetch:function(){H==null?void 0:H(!0)},pinCode:a,productUseCase:"MSGR_ENC_BACKUP",setIsInProgress:G,setIsPinCodeIncorrect:w,setIsVestaError:A,startFlow:C})},b[23]=M,b[24]=e,b[25]=u,b[26]=E,b[27]=g,b[28]=i,b[29]=H,b[30]=C,b[31]=J):J=b[31];b[32]!==f||b[33]!==J?(K={enableMasking:!0,focusRegionId:f,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,keyTypeQplEvent:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,onChange:I,onComplete:J,type:"pin"},b[32]=f,b[33]=J,b[34]=K):K=b[34];L=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(K);a=L[0];I=L[1];var N=I.clearNumericInput;f=I.disabled;J=I.focusOnInput;b[35]!==N?(K=function(){B.current&&(N(),B.current=!1)},L=[N],b[35]=N,b[36]=K,b[37]=L):(K=b[36],L=b[37]);k(K,L);K=(I=f)!=null?I:!1;b[38]!==J||b[39]!==a||b[40]!==F||b[41]!==x||b[42]!==v||b[43]!==z||b[44]!==K?(L={focusOnInput:J,inputProps:a,isDisabled:K,isInProgress:F,isLabyrinthError:x,isPinCodeIncorrect:v,isVestaError:z},b[38]=J,b[39]=a,b[40]=F,b[41]=x,b[42]=v,b[43]=z,b[44]=K,b[45]=L):L=b[45];return L}function s(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}g.useMWChatEncryptedBackupsPinCodeRestore=a}),98);
__d("MWEBRestoreQPWithPin.react",["fbt","CometRelay","EncryptedBackupsSupportedPlatformUtils","FBLogger","FocusRegion.react","JSResourceForInteraction","MWChatEBPinCodeVerifyIndicator.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContextProvider.react","MWEBOTCDialog.entrypoint","MWEBQPWithPinState.enum","MWEBRestoreQPWithPin_viewer.graphql","MWEncryptedBackupsForgotPinStep","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWLogInboxFiltersInteraction","MWLogInteraction","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconCross","MWXImage.react","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","cr:6334","cr:6335","focusScopeQueries","getMWEBRestoreQPCautionCircleProperties","gkx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useLabyrinthLogging","useMWChatEncryptedBackupsPinCodeRestore","useMWChatEncryptedBackupsVestaUserInfo","useMWEBFlowSourceContext","useMWXEntryPointDialog","useMWXLazyDialog","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useMemo,p=e.useRef,q=e.useState,r=c("JSResourceForInteraction")("MWChatEncryptedBackupsPinCodeBlockedDialog.react").__setRef("MWEBRestoreQPWithPin.react"),s="chat-encrypted-backups-jewel-qp-with-pin-input",t={icon:{paddingTop:"x889kno",$$css:!0}};function u(a){var e=a.clientID,f=a.doesUserHaveOtcEligibleDevices,g=a.fragmentKey,j=a.isInbox,u=a.setClosed,v=a.setDismissed,w=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEBRestoreQPWithPin_viewer.graphql"),g),x=d("CometRelay").useRelayEnvironment(),y=l(function(a){return d("CometRelay").commitLocalUpdate(x,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][jewel_softblock_state] A viewer record does not exist when propagating EB restore qp with pin state");return}b.setValue(a,"qp_with_pin_state")})},[x]);g=w==null?void 0:(a=w.messenger_default_encrypted_backup)==null?void 0:a.vesta_user_info;var z=c("useMWChatEncryptedBackupsVestaUserInfo")({vestaGetUserInfoResponse$key:g}),A=z.attemptsRemaining===0||z.loginTimeoutRemainingSecs!=null;a=q(!1);var B=a[0],C=a[1],D=p(!1);g=c("useMWXLazyDialog")(r);var E=g[0];n(function(){A&&B===!0&&D.current!==!0&&(D.current=!0,E({attemptsRemaining:z.attemptsRemaining,loginTimeoutRemainingSecs:z.loginTimeoutRemainingSecs,onDismiss:function(){}}))},[A,E,B,z.attemptsRemaining,z.loginTimeoutRemainingSecs]);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var F=a.startFlow,G=c("useAsyncReStore")(),H=c("useMWEBFlowSourceContext")(),I=o(function(){return H()},[H]),J=l(function(a){c("promiseDone")(G.then(function(b){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:b,onFetch:function(b){var e=b.ebsmWiped,g=b.firstUpsellTime,h=b.hasEbKeysLocally,i=b.hasEBSM,j=b.hasPDB,k=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;F({additionalAnnotations:{eb_session_identifier:g,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:j,has_user_restored_before:k,has_user_restored_before_temp:b,is_otc_eligible:f.toString(),is_pin_set:"true",restore_upsell_first_impression_time:g},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:I});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a)}})}))},[G,F,f,I]);g=l(function(){var a=j?"RESTORE_QP_WITH_PIN_INBOX_DISMISSED":"RESTORE_QP_WITH_PIN_JEWEL_DISMISSED";J(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_qp_with_pin",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});u();v()},[j,u,v,J]);a=m(c("MWJewelPopoverDialogContext.react"));var K=a.setIsOpenForDialog,L=b("cr:6334")==null?void 0:b("cr:6334")(),M=b("cr:6335")==null?void 0:b("cr:6335")();a=l(function(){u();if(L!=null)L(I);else if(M!=null){var a;M({hasSeenNotice:(a=w==null?void 0:(a=w.encrypted_backup)==null?void 0:a.has_seen_eb_auto_restore_notice)!=null?a:!1,source:I})}K(!0);y(c("MWEBQPWithPinState.enum").INITIAL)},[u,L,M,y,I,K,w==null?void 0:(a=w.encrypted_backup)==null?void 0:a.has_seen_eb_auto_restore_notice]);e=d("useMWChatEncryptedBackupsPinCodeRestore").useMWChatEncryptedBackupsPinCodeRestore({clientID:e,focusRegionId:s,onSubmitPin:function(){C(!0),d("MWLogInteraction").logPopoverOpenCancel("initiate_restore"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationCancel("initiate_restore"),y(c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS)},onSubmitPinFailure:function(){y(c("MWEBQPWithPinState.enum").INITIAL)},onVestaComplete:a});a=e.inputProps;var N=e.isInProgress,O=e.isLabyrinthError,P=e.isPinCodeIncorrect;e=e.isVestaError;N=(w==null?void 0:w.qp_with_pin_state)===c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS||N;var Q=c("useVisibilityObserver")({onVisible:function(){d("FocusRegion.react").focusRegionById(s,d("focusScopeQueries").tabbableScopeQuery);var a=j?"RESTORE_QP_WITH_PIN_INBOX_IMPRESSION":"RESTORE_QP_WITH_PIN_JEWEL_IMPRESSION";J(a)}}),R=c("useMWXEntryPointDialog")(c("MWEBOTCDialog.entrypoint"),{}),S=R[0],T=l(function(){S({source:j?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_CLOSE_DIALOG_CLICK")})},[j,S]),U=d("MWEncryptedBackupsForgotPinStep").useForgotPinLinkShowDialogProps({});R=P?h._(/*BTDS*/"Incorrect PIN. Try again."):O||e?h._(/*BTDS*/"There was an error while using the PIN code. Please try again"):void 0;if(A===!0){u();return null}P=c("gkx")("23219");return k.jsx("div",babelHelpers["extends"]({},{0:{className:"xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c xe4pinz x14vqqas xktsk01 xod5an3 x1d52u69 xz9dl7a xn6708d xsag5q8 x1ye3gou"},1:{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xe4pinz x14vqqas xktsk01 xod5an3 x1d52u69 xz9dl7a xn6708d xsag5q8 x1ye3gou x1jx94hy"}}[!!P<<0],{children:k.jsxs(c("MWXColumn.react"),{ref:Q,testid:void 0,children:[k.jsx(c("MWXColumnItem.react"),{children:k.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:12,children:[k.jsx(c("MWXRowItem.react"),{xstyle:t.icon,children:k.jsx(c("MWXImage.react"),{src:c("getMWEBRestoreQPCautionCircleProperties")()})}),k.jsx(c("MWXRowItem.react"),{expanding:!0,children:k.jsxs(c("MWXColumn.react"),{paddingTop:8,spacing:12,children:[k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"start",numberOfLines:2,type:"headlineEmphasized4",children:h._(/*BTDS*/"Chat history is missing")})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"start",color:P?"secondary":"primary",numberOfLines:2,type:"body4",children:h._(/*BTDS*/"Enter your PIN to restore chat history.")})})]})}),k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconCross"),label:h._(/*BTDS*/"Close"),onPress:g,size:P?24:32,testid:void 0})})]})}),k.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:R,inputSize:"small",children:k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:s,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},a,{color:P?"primary":"secondary",disabled:N,inputSize:"small",testid:void 0}))})})}),N&&k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",babelHelpers["extends"]({className:"xfitlp5 x9otpla"},{children:k.jsx(c("MWChatEBPinCodeVerifyIndicator.react"),{isMessenger:P})}))}),!N&&k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",babelHelpers["extends"]({},{0:{},2:{className:"xod5an3"},1:{className:"x12nagc x1iorvi4"},3:{className:"x12nagc x1iorvi4"}}[!!(R==null)<<1|!!(R!=null)<<0],{children:k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:f===!0?k.jsx(c("MWXLink.react"),{onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),K(!0),T()},children:h._(/*BTDS*/"Use a one-time code instead")}):k.jsx(c("MWXLink.react"),babelHelpers["extends"]({},U,{onClick:function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_FORGOT_PIN_CLICK"),U.onClick==null?void 0:U.onClick(a)}}))})}))})]})}))}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(10),e=a.clientID,f=a.currentSupportedPlatform,g=a.doesUserHaveOtcEligibleDevices,h=a.fragmentKey,i=a.setClosed;a=a.setDismissed;f=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;var j=f?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP_WITH_PIN:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP_WITH_PIN,l;b[0]!==e||b[1]!==g||b[2]!==h||b[3]!==f||b[4]!==i||b[5]!==a?(l=k.jsx(u,{clientID:e,doesUserHaveOtcEligibleDevices:g,fragmentKey:h,isInbox:f,setClosed:i,setDismissed:a}),b[0]=e,b[1]=g,b[2]=h,b[3]=f,b[4]=i,b[5]=a,b[6]=l):l=b[6];b[7]!==j||b[8]!==l?(e=k.jsx(c("MWEBFlowSourceContextProvider.react"),{source:j,children:l}),b[7]=j,b[8]=l,b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListPersistentBanner.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsThreadListPersistentBanner.react");function a(a){var b=d("react-compiler-runtime").c(23),e=a.onDismissUpsell;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),a);var f=a[0];a=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();var g=a!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;a=l(c("MWJewelPopoverDialogContext.react"));var j=a.setIsOpenForDialog,o=(i||(i=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var p=a.startFlow,q=m(!1),r=g?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_PERSISTENT_BANNER:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER;b[1]!==o||b[2]!==r||b[3]!==p?(a=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:o,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;p({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:r});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);q.current===!1&&(q.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},b[1]=o,b[2]=r,b[3]=p,b[4]=a):a=b[4];var s=a;b[5]!==g||b[6]!==s?(a={onVisible:function(){s(g?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION")}},b[5]=g,b[6]=s,b[7]=a):a=b[7];a=c("useVisibilityObserver")(a);var t;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1xmf6yo x1e56ztr x1d52u69 xktsk01 x6ikm8r x10wlt62 xyamay9 x1l90r2v x1swvt13 x1pi30zi x1qh3cfz"},b[8]=t):t=b[8];var u;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Missing chat history."),b[9]=u):u=b[9];var v;b[10]!==g||b[11]!==e||b[12]!==j||b[13]!==f||b[14]!==r||b[15]!==s?(v=function(){j(!0),s(g?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED"),f({onDismissUpsell:e,source:r})},b[10]=g,b[11]=e,b[12]=j,b[13]=f,b[14]=r,b[15]=s,b[16]=v):v=b[16];var w;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"Restore now"),b[17]=w):w=b[17];b[18]!==v?(u=k.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:k.jsxs(k.Fragment,{children:[u," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:v,target:"_blank",testid:void 0,children:w})})]})}),b[18]=v,b[19]=u):u=b[19];b[20]!==a||b[21]!==u?(w=k.jsx("div",babelHelpers["extends"]({},t,{ref:a,children:u})),b[20]=a,b[21]=u,b[22]=w):w=b[22];return w}g["default"]=a}),226);
__d("MWEBThreadListPersistentBannerWrapper.react",["MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListPersistentBanner.react","MWEncryptedBackupsThreadListQPWrapper.react","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.setHasDismissedBanner;a=a.trigger;var f=(h||(h=c("useReStore")))(),g;b[0]!==f||b[1]!==e?(g=j.jsx(c("MWEncryptedBackupsThreadListPersistentBanner.react"),{onDismissUpsell:function(){e(!0),d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:f,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}}),b[0]=f,b[1]=e,b[2]=g):g=b[2];var i;b[3]!==g||b[4]!==a?(i=j.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:g}),b[3]=g,b[4]=a,b[5]=i):i=b[5];return i}g["default"]=a}),98);
__d("MWEncryptedBackupsFetchBackupIds",["LSEncryptedBackupsBackupTenancy","LSFactory","LSFetchBackupIdsStoredProcedure","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){return c("LSFetchBackupIdsStoredProcedure")(c("LSFactory")(a),{backupTenancy:(h||(h=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION),isUiBlocking:!1})},"readwrite",void 0,void 0,f.id+":19")}g.encryptedBackupsFetchBackupIds=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_viewer"}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_viewer",selections:[{args:null,kind:"FragmentSpread",name:"MWEBRestoreQPWithPin_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsVerifyDeviceNux.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXQPCard.react","QPLUserFlow","getMWEBRestoreQPCautionCircleProperties","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsVerifyDeviceNux.react");function a(a){var b=d("react-compiler-runtime").c(26),e=a.children,f=a.currentSupportedPlatform,g=a.setClosed,j=a.setDismissed;a=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState();var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o={},b[0]=o):o=b[0];o=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),o);var p=o[0],q=(i||(i=c("useReStore")))(),r=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,s=r?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP;o=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var t=o.startFlow,u=m(!1);f=l(c("MWJewelPopoverDialogContext.react"));var v=f.setIsOpenForDialog;o=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();f=o.virtualDeviceInfo;var w=f.vestaClientID!=null;o=f.offlineDevicesCount>0;var x=f.doesUserHaveOtcEligibleDevices;f=!w&&x;var y=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:q,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;t({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,is_otc_eligible:x.toString(),is_pin_set:w.toString(),restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:s});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);u.current===!1&&(u.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},z=c("useVisibilityObserver")({onVisible:function(){var a=r?"VERIFY_DEVICE_INBOX_QP_THREAD_LIST_IMPRESSION":"VERIFY_DEVICE_QP_THREAD_LIST_IMPRESSION";y(a)}}),A=function(){var a=r?"USER_CLICKED_INBOX_THREAD_LIST_VERIFY_DEVICE":"USER_CLICKED_FB_THREAD_LIST_VERIFY_DEVICE";y(a);v(!0);g()},B=function(){var a=r?"USER_CLOSED_INBOX_THREAD_LIST_VERIFY_DEVICE_NUX":"USER_CLOSED_FB_THREAD_LIST_VERIFY_DEVICE_NUX";y(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_nux",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});C()},C=function(){j(),g()};if(!w&&!o&&!x)return e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Chat history is missing"),b[1]=o):o=b[1];e=o;b[2]!==x||b[3]!==a||b[4]!==w||b[5]!==f?(o=a&&x?h._(/*BTDS*/"Restore now"):w?h._(/*BTDS*/"Enter PIN"):f?h._(/*BTDS*/"Restore now"):h._(/*BTDS*/"Enter 40-character code"),b[2]=x,b[3]=a,b[4]=w,b[5]=f,b[6]=o):o=b[6];var D;b[7]!==C||b[8]!==A||b[9]!==s||b[10]!==p?(D=function(){A(),p({onDismissUpsell:C,source:s})},b[7]=C,b[8]=A,b[9]=s,b[10]=p,b[11]=D):D=b[11];var E;b[12]!==o||b[13]!==D?(E={label:o,onPress:D,testid:"mw-encrypted-backups-in-thread-verify-device-nux-verify-now-button"},b[12]=o,b[13]=D,b[14]=E):E=b[14];b[15]!==x||b[16]!==a||b[17]!==w||b[18]!==f?(o=a&&x?h._(/*BTDS*/"Send a one-time code to restore your chat history"):w?h._(/*BTDS*/"Enter your PIN to see messages that aren't loaded on this device."):f?h._(/*BTDS*/"Send a one-time code to restore your chat history"):h._(/*BTDS*/"Enter your 40-character code to see messages that aren't loaded on this device."),b[15]=x,b[16]=a,b[17]=w,b[18]=f,b[19]=o):o=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(D={props:{src:c("getMWEBRestoreQPCautionCircleProperties")()},type:"image"},b[20]=D):D=b[20];b[21]!==B||b[22]!==z||b[23]!==E||b[24]!==o?(a=k.jsx(c("MWXQPCard.react"),{addOnPrimary:E,body:o,headline:e,icon:D,onClose:B,ref:z}),b[21]=B,b[22]=z,b[23]=E,b[24]=o,b[25]=a):a=b[25];return a}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper.react",["CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBEntrypointsKillswitch.enum","MWEBRestoreQPWithPin.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListPersistentBanner.react","MWEncryptedBackupsThreadListQPWrapper.react","MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql","MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql","MWEncryptedBackupsVerifyDeviceNux.react","react","react-compiler-runtime","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(a){var e=d("react-compiler-runtime").c(32),f=a.backupState,g=a.children,i=a.currentSupportedPlatform,k=a.fragmentKey,m=a.setHasDismissedQp,n=a.setHasDismissedQpWithPin;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql"),k);var o=(j||(j=c("useReStore")))();k=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();k=k.virtualDeviceInfo;var p=i===d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,q=k.doesUserHaveOtcEligibleDevices,r=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),s;e[0]!==f||e[1]!==r?(s={backupState:f,isCooldownOrLockOutState:r},e[0]=f,e[1]=r,e[2]=s):s=e[2];f=c("useHasRestoreInterstitialSoftblockBeenDismissed")(s);if(!q&&r&&f)return null;else if(r&&f){e[3]!==m?(s=function(){m(!0)},e[3]=m,e[4]=s):s=e[4];e[5]!==o?(q=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})},e[5]=o,e[6]=q):q=e[6];e[7]!==g||e[8]!==i||e[9]!==s||e[10]!==q?(r=l.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:g,currentSupportedPlatform:i,setClosed:s,setDismissed:q}),e[7]=g,e[8]=i,e[9]=s,e[10]=q,e[11]=r):r=e[11];return r}else if(p&&k.vestaClientID!=null&&c("MWEBRestoreQPWithPin.react")){e[12]!==n?(f=function(){n(!0)},e[12]=n,e[13]=f):f=e[13];e[14]!==o?(s=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL})},e[14]=o,e[15]=s):s=e[15];e[16]!==i||e[17]!==a||e[18]!==f||e[19]!==s||e[20]!==k.doesUserHaveOtcEligibleDevices||e[21]!==k.vestaClientID?(q=l.jsx(c("MWEBRestoreQPWithPin.react"),{clientID:k.vestaClientID,currentSupportedPlatform:i,doesUserHaveOtcEligibleDevices:k.doesUserHaveOtcEligibleDevices,fragmentKey:a,setClosed:f,setDismissed:s}),e[16]=i,e[17]=a,e[18]=f,e[19]=s,e[20]=k.doesUserHaveOtcEligibleDevices,e[21]=k.vestaClientID,e[22]=q):q=e[22];return q}else{e[23]!==m?(r=function(){m(!0)},e[23]=m,e[24]=r):r=e[24];e[25]!==o?(p=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})},e[25]=o,e[26]=p):p=e[26];e[27]!==g||e[28]!==i||e[29]!==r||e[30]!==p?(a=l.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:g,currentSupportedPlatform:i,setClosed:r,setDismissed:p}),e[27]=g,e[28]=i,e[29]=r,e[30]=p,e[31]=a):a=e[31];return a}}function a(a){var e=d("react-compiler-runtime").c(12),f=a.children,g=a.currentSupportedPlatform,h=a.fragmentKey,k=a.hasDismissedQps,n=a.setHasDismissedBanner,o=a.setHasDismissedQp,p=a.setHasDismissedQpWithPin;a=a.trigger;h=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql"),h);var q=(j||(j=c("useReStore")))(),r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(r={entrypoint:c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST},e[0]=r):r=e[0];r=c("useMWEBBackupState")(r);var s;e[1]!==r||e[2]!==f||e[3]!==g||e[4]!==(h==null?void 0:h.viewer)||e[5]!==q||e[6]!==k||e[7]!==n||e[8]!==o||e[9]!==p||e[10]!==a?(s=k?l.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:l.jsx(c("MWEncryptedBackupsThreadListPersistentBanner.react"),{onDismissUpsell:function(){n(!0),d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:q,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}})}):l.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:l.jsx(m,{backupState:r,children:f,currentSupportedPlatform:g,fragmentKey:h==null?void 0:h.viewer,setHasDismissedQp:o,setHasDismissedQpWithPin:p})}),e[1]=r,e[2]=f,e[3]=g,e[4]=h==null?void 0:h.viewer,e[5]=q,e[6]=k,e[7]=n,e[8]=o,e[9]=p,e[10]=a,e[11]=s):s=e[11];return s}g["default"]=a}),98);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9747954008656745"}),null);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql",["VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"begin_login_request",variableName:"input"}],concreteType:"VestaBeginLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_begin_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2_sig",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderBeginLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9611648865601020"}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql",["VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"finish_login_request",variableName:"input"}],concreteType:"VestaFinishLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_login_payload",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderFinishLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9285801411531503"}),null);
__d("VestaServerGraphQLLoginProviderInitQuery.graphql",["VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:[{kind:"Variable",name:"vesta_init_request",variableName:"request"}],concreteType:"VestaInitIqResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_login_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderInitQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderInitQuery",selections:c},params:{id:b("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderInitQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProvider",["E2EEBackupUtil","RelayHooks","RelayModern","VestaServerGraphQLLoginProviderBeginLoginMutation.graphql","VestaServerGraphQLLoginProviderFinishLoginMutation.graphql","VestaServerGraphQLLoginProviderInitQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,c){c=c.environment;c=await d("RelayHooks").fetchQuery(c,h!==void 0?h:h=b("VestaServerGraphQLLoginProviderInitQuery.graphql"),{request:{fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}}).toPromise();a=c==null?void 0:c.fbid_based_auth_layer_vesta_login_init;c=a==null?void 0:a.base64url_encoded_island_rsa_pub;var e=a==null?void 0:a.base64url_encoded_island_rsa_pub_signature,f=a==null?void 0:a.base64url_encoded_opaque_pub,g=a==null?void 0:a.base64url_encoded_opaque_pub_signature,i=a==null?void 0:a.base64url_encoded_island_ed25519_pub,j=a==null?void 0:a.base64url_encoded_island_ed25519_pub_signature,k=a==null?void 0:a.is_registered;a=a==null?void 0:a.attempts_remaining;if(c!=null&&e!=null&&f!=null&&g!=null&&i!=null&&j!=null&&k!=null){var l;return{islandRsaPub:(l=d("E2EEBackupUtil")).decodeBase64Url(c),islandRsaPubSig:l.decodeBase64Url(e),opaquePub:l.decodeBase64Url(f),opaquePubSig:l.decodeBase64Url(g),islandEd25519Pub:l.decodeBase64Url(i),islandEd25519PubSig:l.decodeBase64Url(j),isRegistered:k,loginAttemptsRemaining:a}}throw new Error("GraphQL Response is Null")}function c(a,c){var e=c.environment,f=i!==void 0?i:i=b("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql"),g={input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l1:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL1)}};return new Promise(function(a,b){d("RelayModern").commitMutation(e,{mutation:f,variables:g,onCompleted:function(c){c=c.fbid_based_auth_layer_vesta_begin_login;var e=c==null?void 0:c.base64url_encoded_opaque_l2;c=c==null?void 0:c.base64url_encoded_opaque_l2_sig;if(e!=null&&c!=null){a({opaqueL2:d("E2EEBackupUtil").decodeBase64Url(e),opaqueL2Sig:d("E2EEBackupUtil").decodeBase64Url(c)});return}b(new Error("GraphQL Response is Null"))},onError:function(a){b(a)}})})}function e(a,c){var e=c.environment,f=c.updater;return new Promise(function(c,g){d("RelayModern").commitMutation(e,{mutation:j!==void 0?j:j=b("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql"),variables:{input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l3:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL3)}},onCompleted:function(a){a=a.fbid_based_auth_layer_vesta_finish_login;var b=a==null?void 0:a.base64url_encoded_login_payload,e=a==null?void 0:a.login_success;a=a==null?void 0:a.attempts_remaining;if(e!=null){c({loginSuccess:e,loginPayload:b==null?b:d("E2EEBackupUtil").decodeBase64Url(b),attemptsRemaining:a});return}g(new Error("GraphQL Response is Null"))},onError:function(a){g(a)},updater:f})})}g.initLogin=a;g.beginLogin=c;g.finishLogin=e}),98);
__d("mapVestaClientError",["VestaClientError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return new h();case 2:return new i();case 3:return new j();case 4:return new k();case 5:return new l();case 6:return new m();case 7:return new n();case 8:return new o();case 9:return new p();case 10:return new q();case 11:return new r();case 12:return new s();default:return new t()}}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Buffer supplied to WASM for response is too small");a=b.call(this,a)||this;a.name="InsufficientResultBuffer";return a}return a}(b=c("VestaClientError")),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Incorrect user password supplied during login");a=b.call(this,a)||this;a.name="InvalidUserPassword";return a}return a}(b),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Invalid input from server");a=b.call(this,a)||this;a.name="MalformedServerResponse";return a}return a}(b),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Invalid input from client");a=b.call(this,a)||this;a.name="MalformedClientInput";return a}return a}(b),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during encryption operation");a=b.call(this,a)||this;a.name="EncryptionFailure";return a}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during decryption operation");a=b.call(this,a)||this;a.name="DecryptionFailure";return a}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during serialization operation.");a=b.call(this,a)||this;a.name="SerializationFailure";return a}return a}(b),o=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error deserializing inputs, likely due to malformed input");a=b.call(this,a)||this;a.name="DeserializationFailure";return a}return a}(b),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Passed RSA public key is in an invalid format.");a=b.call(this,a)||this;a.name="RsaInvalidKey";return a}return a}(b),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unable to verify RSA signature");a=b.call(this,a)||this;a.name="RsaVerificationFailure";return a}return a}(b),r=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Passed Ed25519 public key is in an invalid format.");a=b.call(this,a)||this;a.name="Ed25519InvalidKey";return a}return a}(b),s=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unable to verify Ed25519 signature");a=b.call(this,a)||this;a.name="Ed25519VerificationFailure";return a}return a}(b),t=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}return a}(b);g["default"]=a}),98);
__d("mwEBAddDevice",["EBSMAPI","MAWCurrentUser","cr:21222"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.environment,f=a.onFailure,g=a.onInvalidRecoveryCode,h=a.onStart,i=a.onSuccess,j=a.recoveryCode,k=a.storage,l=a.traceId,m=a.trackAddingDevice;a=a.trackOverprompting;return c("EBSMAPI").addDeviceWithRecoveryCode({environment:e,isInWorker:!1,onFailure:f,onInvalidRecoveryCode:g,onStart:h,onSuccess:i,recoveryCode:j,storage:k,traceId:l,trackAddingDevice:m,trackOverprompting:a,userId:d("MAWCurrentUser").getID()}).then(function(){b("cr:21222")==null?void 0:b("cr:21222").fireAndForget("backend","addDeviceWithPinInWorker",{recoveryCode:j,userId:d("MAWCurrentUser").getID()})})}g.EBAddDevice=a}),98);
__d("vestaBackupSecretRestore",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("E2EEBackupSecretRestoreModule").__setRef("vestaBackupSecretRestore"),i=c("requireDeferred")("VestaServerGraphQLLoginProvider").__setRef("vestaBackupSecretRestore");async function a(a){var b=a.input;a=a.environment;var c=await Promise.all([i.load(),h.load()]),d=c[0],e=d.beginLogin,f=d.finishLogin;d=d.initLogin;c=c[1].restoreBackupSecret;return c({beginLogin:e,finishLogin:f,initLogin:d},b,{environment:a})}g.default=a}),98);
__d("mwEBGetPINSecretFromVesta",["CometRelay","E2EEBackupCommon","FBLogger","LSDataTraceCheckPoint","LSDataTraceType","LSIntEnum","MAWTraceUtils","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialogQuery.graphql","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","QPLUserFlow","promiseDone","vestaBackupSecretRestore"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.addDevice,e=a.clientID,f=a.environment,g=a.getSourceFromContext,i=a.onSubmitPin,j=a.onSubmitPinFailure,k=a.onVestaSecretFetch,l=a.pinCode,m=a.productUseCase,n=a.setIsInProgress,o=a.setIsPinCodeIncorrect,p=a.setIsVestaError;a=a.startFlow;var q=d("MAWTraceUtils").startNewTrace((h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_LOGIN),d("MAWTraceUtils").CONTEXT_VESTA_LOGIN);n(!0);i==null?void 0:i();i=g();c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"pin_code",source:i}});g=new TextDecoder();var r;a({additionalAnnotations:{device_type:"HSM"},event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH,source:i});try{c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_begin"),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_SUBMIT"),d("MAWTraceUtils").recordCheckpointForTrace(q,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").SAP_VESTA_CALLING_VESTA_LOGIN),[],!1),r=g.decode(await c("vestaBackupSecretRestore")({environment:f,input:{clientId:e,productUseCase:m,vestaAccountPin:l}})),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_success"),d("MAWTraceUtils").recordCheckpointForTrace(q,h.ofNumber(c("LSDataTraceCheckPoint").SAP_VESTA_LOGIN_COMPLETION),[],!1)}catch(b){j==null?void 0:j();c("promiseDone")(d("CometRelay").fetchQuery(f,c("MWChatEncryptedBackupsSettingsDialogQuery.graphql"),{}).toPromise());if(b.errorType===d("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD)n(!1),o(!0),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"incorrect_pin_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:c("MWEBODSEntityKey.enum").INCORRECT_PIN_CODE,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"incorrect_pin_code"),d("MAWTraceUtils").recordFailureAndFlushForTraceId(q,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_RESTORE_FAILURE),[],"Incorrect pin code");else{d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorMessage:b.message,errorType:b.errorType}},errorName:"vesta_login_failure",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_error");n(!1);p(!0);a="Error when restoring using PIN: "+b;c("FBLogger")("labyrinth_web").mustfix(a);d("MAWTraceUtils").recordFailureAndFlushForTraceId(q,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_RESTORE_FAILURE),[],b.toString())}throw b}r!=null&&(d("MAWTraceUtils").recordCheckpointForTrace(q,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_ADD_DEVICE),[],!1),k==null?void 0:k(),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"add_device_begin"),b(r,q,l))}g.default=a}),98);
__d("updateUpsellsStateInRelayStore",["CometRelay","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.updateValue;d("CometRelay").commitLocalUpdate(b,function(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][upsells] A viewer record does not exist when updating upsell state.");return}a.setValue(e,"is_eb_restore_upsells_dismissed")})}g["default"]=a}),98);
__d("useEncryptedBackupsQplImpressionRef",["QPLUserFlow","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=d("react-compiler-runtime").c(5),h;g[0]!==f||g[1]!==a||g[2]!==e||g[3]!==b?(h={onVisible:function(){c("QPLUserFlow").addPoint(a,b,{instanceKey:e}),f==null?void 0:f()}},g[0]=f,g[1]=a,g[2]=e,g[3]=b,g[4]=h):h=g[4];return c("useVisibilityObserver")(h)}g["default"]=a}),98);
__d("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9618790408209960"}),null);
__d("useMWEBSetHasSeenNoticeMutation.graphql",["useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SetHasSeenEbAutoRestoreNoticeResponsePayload",kind:"LinkedField",name:"set_has_seen_eb_auto_restore_notice",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBSetHasSeenNoticeMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBSetHasSeenNoticeMutation",selections:a},params:{id:b("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"),metadata:{},name:"useMWEBSetHasSeenNoticeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBSetHasSeenNotice",["CometRelay","react","react-compiler-runtime","useMWEBSetHasSeenNoticeMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useMWEBSetHasSeenNoticeMutation.graphql"),a[0]=c):c=a[0];c=d("CometRelay").useMutation(c);var e=c[0];a[1]!==e?(c=function(){e({variables:{}})},a[1]=e,a[2]=c):c=a[2];return c}g["default"]=a}),98);
__d("useMWEBAutoRestoreNoticeDialog",["JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","ReQL","ReQLSuspense","react","react-compiler-runtime","useLabyrinthLogging","useMWEBSetHasSeenNotice","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;var j=c("JSResourceForInteraction")("MWEBAutoRestoreNoticeDialog.react").__setRef("useMWEBAutoRestoreNoticeDialog");function a(){var a=d("react-compiler-runtime").c(9),b=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),e=b.startFlow;b=c("useMWXLazyDialog")(j);var g=b[0],i=(h||(h=c("useReStore")))();a[0]!==i.tables.auto_restore_opt_out?(b=function(){return d("ReQL").fromTableAscending(i.tables.auto_restore_opt_out)},a[0]=i.tables.auto_restore_opt_out,a[1]=b):b=a[1];var l;a[2]!==i?(l=[i],a[2]=i,a[3]=l):l=a[3];var m=d("ReQLSuspense").useArray(b,l,f.id+":45"),n=c("useMWEBSetHasSeenNotice")();a[4]!==m||a[5]!==n||a[6]!==g||a[7]!==e?(b=function(a){var b=a.hasSeenNotice;a=a.source;var f=m.filter(k).length>0;e({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,source:a});if(f){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_OUT");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent});return}c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_IN");d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);if(b){d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent});return}n();g({})},a[4]=m,a[5]=n,a[6]=g,a[7]=e,a[8]=b):b=a[8];return b}function k(a){return a.optOutKey===c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometPhotoGrid.react",["BaseAspectRatioContainer.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingEnd:"x10ogl3i",paddingBottom:"xg8j3zb",paddingStart:"x1k2j06m",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginEnd:"xj3m2qm",marginBottom:"x1huwwth",marginStart:"x1uirj4r",$$css:!0}};function k(a,b){return a<2&&b%3===2}function a(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.spacing;a=a.uniformGrid;var g=f===void 0?"narrow":f,h=a===void 0?!1:a;if(b[0]!==e||b[1]!==g||b[2]!==h){f=i.Children.toArray(e);var l=f.length;a=g==="narrow"&&j.wrapperNarrowSpacing;var m=g==="wide"&&j.wrapperWideSpacing,n;b[4]!==a||b[5]!==m?(n=[j.wrapper,a,m],b[4]=a,b[5]=m,b[6]=n):n=b[6];a=i.jsx(d("react-strict-dom").html.div,{style:n,children:i.Children.map(f,function(a,b){return i.jsx(d("react-strict-dom").html.div,{style:[j.item,g==="wide"&&j.itemWideSpacing,g==="narrow"&&j.itemNarrowSpacing,!h&&k(b,l)&&j.itemEnlarged],children:i.jsx(c("BaseAspectRatioContainer.react"),{aspectRatio:1,children:a})})})});b[0]=e;b[1]=g;b[2]=h;b[3]=a}else a=b[3];return a}g["default"]=a}),98);
__d("FBIconCautionCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m456.998 1077.072-.25 2.99a.75.75 0 0 1-1.495 0l-.25-2.99a.87.87 0 0 1-.003-.062c0-.497.374-1.01 1-1.01s1 .513 1 1.01a.87.87 0 0 1-.002.062M456 1083a1.001 1.001 0 0 1 0-2c.551 0 1 .449 1 1 0 .551-.449 1-1 1m0-9.5a6 6 0 1 0 .001 12 6 6 0 0 0 0-12"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBLikeSvgIcon.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=d("react-compiler-runtime").c(15),c=a.alt,e=a.className,f=a.color;a=a.size;a=a===void 0?20:a;var g=c!=null,h=j(),k=g?void 0:!0,l=g?h:void 0,m;b[0]!==c||b[1]!==g||b[2]!==h?(m=g&&i.jsx("title",{id:h,children:c}),b[0]=c,b[1]=g,b[2]=h,b[3]=m):m=b[3];b[4]!==f?(c=i.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:f}),g=i.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:f}),b[4]=f,b[5]=c,b[6]=g):(c=b[5],g=b[6]);b[7]!==e||b[8]!==a||b[9]!==k||b[10]!==l||b[11]!==m||b[12]!==c||b[13]!==g?(h=i.jsxs("svg",{"aria-hidden":k,"aria-labelledby":l,className:e,height:a,viewBox:"0 0 16 16",width:a,children:[m,c,g]}),b[7]=e,b[8]=a,b[9]=k,b[10]=l,b[11]=m,b[12]=c,b[13]=g,b[14]=h):h=b[14];return h}g["default"]=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30058190267127786"}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","CometUFI_dedicated_comment_routable_dialog_gk.relayprovider","FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdminActivityLogItemSeeDetailsDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:b("CometUFI_dedicated_comment_routable_dialog_gk.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider:b("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;var c=a.adminActivityID,e=a.groupID;a=a.isManagementActivityLogTargetProfilePlus;c={adminActivityID:c,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:e,isManagementActivityLogTargetProfilePlus:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:d("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};g["default"]=a}),98);
__d("LSMuteCallsFromThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("mailbox_type",a[1]),d[2].set("mute_calls_expire_time_ms",a[2]),d[2].set("request_id",a[3]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_key"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,229]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMuteCallsFromThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMuteCallsFromThreadStoredProcedure",["LSMuteCallsFromThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMuteCallsFromThread"),e.threadKey,e.mailboxType,e.muteCallsExpireTimeMs,e.requestId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticMuteThread",["LSIssueNewTaskWithExtraOperationsAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({muteExpireTimeMs:a[2]})})},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,144]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[0],threadKey:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticMuteThreadStoredProcedure";a.__tables__=["threads","threads_optimistic_context"];e.exports=a}),null);
__d("LSOptimisticMuteThreadStoredProcedure",["LSOptimisticMuteThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticMuteThread"),e.threadKey,e.mailboxType,e.muteExpireTimeMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRemoveParticipantFromThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(14).fetch([[[a[0],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[1])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxRemoveParticipantFromThreadStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSOptimisticRemoveParticipantsFromGroupThread",["LSArrayGetObjectAt","LSIssueNewError","LSIssueNewTaskWithExtraOperations","LSLocalize","LSRemoveParticipantFromThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=c.i64.of_int32(a[1].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.loopAsync(d[0],function(e){return d[1]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],d[1]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=c.i64.cast([0,1]):(b=a.item,d[13]=b.syncGroup,c.i64.neq(d[13],void 0)?d[12]=d[13]:d[12]=c.i64.cast([0,1]),d[4]=d[12])})},function(e){return c.storedProcedure(b("LSRemoveParticipantFromThread"),a[0],d[2])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[6]=c.i64.cast([0,1]):(b=a.item,d[13]=b.syncGroup,c.i64.neq(d[13],void 0)?d[12]=d[13]:d[12]=c.i64.cast([0,1]),d[6]=d[12])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[8]=!1:(b=a.item,d[8]=b.errorShouldBeShown)})},function(a){return d[8]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[12]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[13]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[12],d[13],void 0,void 0)}]):c.resolve()},function(e){return d[10]=new c.Map(),d[10].set("thread_id",a[0]),d[10].set("contact_id",d[2]),d[10].set("sync_group",d[6]),d[11]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"remove_participant_v2",c.i64.cast([0,140]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])}):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure";a.__tables__=["threads","user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure",["LSOptimisticRemoveParticipantsFromGroupThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticRemoveParticipantsFromGroupThread"),e.threadKey,e.contactIds);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticUnarchiveThread",["LSIssueNewError","LSIssueNewTask","LSLocalize","LSMoveThreadToInboxAndUpdateParent"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,c.sequence([function(d){return c.storedProcedure(b("LSMoveThreadToInboxAndUpdateParent"),a[0],c.i64.cast([0,0]))},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[6]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[7]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[6],d[7],void 0,void 0)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_id",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"unarchive_thread",c.i64.cast([0,242]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticUnarchiveThreadStoredProcedure";a.__tables__=["threads","user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSOptimisticUnarchiveThreadStoredProcedure",["LSOptimisticUnarchiveThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticUnarchiveThread"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LsThreadType",[],(function(a,b,c,d,e,f){a=Object.freeze({COMMUNITY_FOLDER:17,COMMUNITY_GROUP:18,COMMUNITY_GROUP_UNJOINED:19,COMMUNITY_CHANNEL_CATEGORY:20,COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD:21,COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD:22,COMMUNITY_BROADCAST_JOINED_THREAD:23,COMMUNITY_BROADCAST_UNJOINED_THREAD:24,COMMUNITY_GROUP_INVITED_UNJOINED:25,COMMUNITY_SUB_THREAD:26,COMMUNITY_ANNOUNCEMENT_JOINED_THREAD:27,COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD:28,DISCOVERABLE_PUBLIC_CHAT:150,DISCOVERABLE_PUBLIC_CHAT_UNJOINED:151,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:152,DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED:153,DISCOVERABLE_PUBLIC_CHAT_V2:154,DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED:155,ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,TINCAN_ONE_TO_ONE:7,TINCAN_GROUP_DISAPPEARING:8,CARRIER_MESSAGING_ONE_TO_ONE:10,CARRIER_MESSAGING_GROUP:11,TINCAN_ONE_TO_ONE_DISAPPEARING:13,PAGE_FOLLOW_UP:14,SECURE_MESSAGE_OVER_WA_ONE_TO_ONE:15,SECURE_MESSAGE_OVER_WA_GROUP:16,PINNED:101,LWG:102,XAC_GROUP:200,AI_BOT:201,GROUP_WITH_AI_BOT:202,BIZ_AI_AGENT:203,PHONE_NUMBER:204,UNKNOWN:0,SELF_THREAD:12,ARMADILLO_ONE_TO_ONE:-1,ARMADILLO_GROUP:-2});f["default"]=a}),66);
__d("MAWFTSRestoreSyncDeferred",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("MAWFTSRestoreSync").__setRef("MAWFTSRestoreSyncDeferred");async function a(){var a=await h.load();a=a.getFTSRestoreSync;return a()}g.getInstance=a}),98);
__d("MAWMessageIntegrityCheckFlytrapQueue",["FBLogger","I64","LSDatabaseSingleton","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","justknobx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWMessageIntegrityFetchAndCompareData").__setRef("MAWMessageIntegrityCheckFlytrapQueue"),k=c("justknobx")._("3629"),l=[],m=null;function a(a){var b=d("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(a.threadKey,a.uiMessages);if(b==null)return;l.push([b,a]);l.length>k&&l.shift()}function b(){if(m!=null)return m;m=new Promise(async function(a,b){try{var c=[].concat(l);c=await n(c.reverse());a(c)}catch(a){b(a)}finally{m=null}});return m}async function n(a){var b=await j.load(),e=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;a=await Promise.all(a.map(async function(a){var f=a[0];a=a[1];var g=a.lastItemFromPreviousPage,h=a.pageSize,j=a.threadKey;a=a.uiMessages;var k=d("MAWMessageIntegrityCheckFlytrapResultCache").getMessageIntegrityCheckResult(f);if(k!=null)return[j,k];var l=d("MAWMessageIntegrityEBFetchStatus").hasEBFailure(j);l=await b.fetchAndCompareMessagesData({db:e,hasEbFetchFailed:l,lastItemFromPreviousPage:g,localMessages:a,pageSize:h,threadKey:j});if(l.success===!1){c("FBLogger")("messenger_web_missing_messages").info("Message Integrity Check skipped for threadKey %s, reason %s",(i||(i=d("I64"))).to_float(j),l.error);return null}k=l.value.missingInTargetCategory;d("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(f,k);return[j,k]}));return o(a.filter(Boolean))}function o(a){return a.reduce(function(a,b){var c=b[0];b=b[1];if(b.length===0)return a;var e=(i||(i=d("I64"))).to_float(c);a.threadKeyToCategoryMapByExternalIds[e]==null&&(a.threadKeyToCategoryMapByExternalIds[e]={});b.forEach(function(b){var c=b[0];b=b[1];a.threadKeyToCategoryMapByExternalIds[e][c.externalId]=b});return a},{numPagesChecked:a.length,threadKeyToCategoryMapByExternalIds:{}})}g.enqueueFlytrapMessageIntegrityCheck=a;g.getFlytrapMissingMessageReport=b}),98);
__d("MWCMLinkShare.react",["fbt","C4gEngagementFalcoEvent","CommunityMessagingEnableState","I64","LSIntEnum","LSThreadBitOffset","MWCMThreadTypes.react","URI","XGroupsC4GThreadViewControllerRouteBuilder","react","react-compiler-runtime","useCommunityFolder","useCopyText","useMWXPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useMemo;function o(a){var b=a.children,e=a.folder;a=a.thread;var f=(l||(l=d("I64"))).to_string(e.fbGroupId),g=l.to_string(e.folderId),j=l.to_string(a.threadKey),k=c("useMWXPushToast")();e=n(function(){return new(i||(i=c("URI")))(c("XGroupsC4GThreadViewControllerRouteBuilder").buildURL({idorvanity:f,thread_id:j})).setDomain("www.facebook.com").toString()},[f,j]);a=c("useCopyText")({value:e});a[0];e=a[1];var m=a[2];a=function(){m(),c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",community_id:g,event:"thread_user_copy_invite_link",group_id:f,source:"copy_link",surface:"thread_settings",thread_id:j}}),k({body:h._(/*BTDS*/"Link copied")})};return b(e,a)}o.displayName=o.name+" [from "+f.id+"]";function p(a){return(l||(l=d("I64"))).equal((a=a)!=null?a:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED))}function a(a){var b=c("useCommunityFolder")(a);a=d("LSThreadBitOffset").has(108,a);bb0:{if(b!=null&&a){a=!p(b.enableState);break bb0}a=!1}return a}function b(a){var b=d("react-compiler-runtime").c(4),e=a.children;a=a.thread;var f=c("useCommunityFolder")(a),g=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType);g=d("LSThreadBitOffset").has(108,a)||g;if(f!=null&&g){b[0]!==e||b[1]!==f||b[2]!==a?(g=m.jsx(o,{folder:f,thread:a,children:e}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}return null}g.useShouldShowInviteLink=a;g.MWCMLinkShare=b}),226);
__d("MessengerSurfaceType",[],(function(a,b,c,d,e,f){"use strict";a="MESSENGER";b="WORK_QUIKCHAT";c="WORK_CHAT";d="WORKROOMS";e="WORKROOMS_IN_CALL";var g="WORK_MEETINGS_IN_CALL",h="OTHER";f.messenger=a;f.workQuickchat=b;f.workChat=c;f.workrooms=d;f.workroomsInCall=e;f.workMeetingsInCall=g;f.other=h}),66);
__d("MWCMLogMuteDuration.react",["C4gEngagementFalcoEvent","I64","MWCMGetValidId","MessengerSurfaceType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b;return{"1_hour":(b=a.oneHour)!=null?b:"0","15_min":(b=a.fifteenMin)!=null?b:"0","24_hour":(b=a.twentyFourHour)!=null?b:"0","8_hour":(b=a.eightHour)!=null?b:"0",until_i_turn_it_back_on:(b=a.always)!=null?b:"0"}}function j(a){switch(a){case 9e5:return i({fifteenMin:"1"});case 36e5:return i({oneHour:"1"});case 288e5:return i({eightHour:"1"});case 864e5:return i({twentyFourHour:"1"});case-1:return i({always:"1"});default:return i({})}}function a(a){var b=a.groupId,e=a.threadKey,f=a.communityId,g=a.eventType,i=a.surface,k=i===void 0?String(d("MessengerSurfaceType").messenger):i,l=a.source;i=a.duration;a=a.clientExtras;a=a===void 0?{}:a;var m=i===0||i==null?a:babelHelpers["extends"]({},a,j(i));return c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",client_extras:m,community_id:f==null?null:(h||(h=d("I64"))).to_string(f),event:g,group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(b)?(h||(h=d("I64"))).to_string(b):null,source:l,surface:k,thread_id:e==null?null:(h||(h=d("I64"))).to_string(e)}})}g.log=a}),98);
__d("MWCMShortLinkShare.react",["fbt","C4gEngagementFalcoEvent","I64","MWCMLinkShare.react","MetaConfig","ReQL","ReQLSuspense","react","react-compiler-runtime","useCommunityFolder","useCopyText","useMWXPushToast","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react");function m(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.communityId,g=a.groupId,i=a.threadKey;a=a.url;var j;b[0]!==a?(j={value:a},b[0]=a,b[1]=j):j=b[1];a=c("useCopyText")(j);j=a[1];var k=a[2],l=c("useMWXPushToast")();b[2]!==f||b[3]!==g||b[4]!==k||b[5]!==l||b[6]!==i?(a=function(){k(),c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",community_id:f,event:"thread_user_copy_invite_link",group_id:g,source:"copy_link",surface:"thread_settings",thread_id:i}}),l({body:h._(/*BTDS*/"Link copied")})},b[2]=f,b[3]=g,b[4]=k,b[5]=l,b[6]=i,b[7]=a):a=b[7];a=a;var m;b[8]!==e||b[9]!==a||b[10]!==j?(m=e(j,a),b[8]=e,b[9]=a,b[10]=j,b[11]=m):m=b[11];return m}function n(a){var b=d("react-compiler-runtime").c(9),c=a.children;a=a.folder;var e=a.inviteLink,f;b[0]!==a.fbGroupId?(f=(k||(k=d("I64"))).to_string(a.fbGroupId),b[0]=a.fbGroupId,b[1]=f):f=b[1];f=f;var g;b[2]!==a.folderId?(g=(k||(k=d("I64"))).to_string(a.folderId),b[2]=a.folderId,b[3]=g):g=b[3];a=g;if(e==null)return null;b[4]!==c||b[5]!==a||b[6]!==f||b[7]!==e?(g=l.jsx(m,{children:c,communityId:a,groupId:f,url:e}),b[4]=c,b[5]=a,b[6]=f,b[7]=e,b[8]=g):g=b[8];return g}function o(a){var b=d("react-compiler-runtime").c(3),e=c("useCommunityFolder")(a.thread),f;b[0]!==e||b[1]!==a?(f=e?l.jsx(p,babelHelpers["extends"]({},a,{folder:e})):null,b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function p(a){var b=d("react-compiler-runtime").c(13),e=a.folder,g=a.children,h=a.thread,j=(i||(i=c("useReStore")))();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.tables.threads,["threadInviteLink","threadInvitesEnabledV2"]).getKeyRange(h.threadKey)},[j,h.threadKey],f.id+":116"))!=null?a:{};var n=a.threadInviteLink;a=a.threadInvitesEnabledV2;var o;b[0]!==a?(o=a!=null&&(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).of_int32(1)),b[0]=a,b[1]=o):o=b[1];a=o;b[2]!==e.fbGroupId?(o=(k||(k=d("I64"))).to_string(e.fbGroupId),b[2]=e.fbGroupId,b[3]=o):o=b[3];o=o;var p;b[4]!==e.folderId?(p=(k||(k=d("I64"))).to_string(e.folderId),b[4]=e.folderId,b[5]=p):p=b[5];e=p;b[6]!==g||b[7]!==e||b[8]!==o||b[9]!==a||b[10]!==h||b[11]!==n?(p=a&&n!=null&&n!==""&&c("MetaConfig")._("63")?l.jsx(m,{children:g,communityId:e,groupId:o,url:n}):l.jsx(d("MWCMLinkShare.react").MWCMLinkShare,{children:g,thread:h}),b[6]=g,b[7]=e,b[8]=o,b[9]=a,b[10]=h,b[11]=n,b[12]=p):p=b[12];return p}function a(a){var b=d("react-compiler-runtime").c(7),c=a.children,e=a.folder;a=a.thread;if(a==null&&e!=null){var f;b[0]!==c||b[1]!==e?(f=l.jsx(n,{children:c,folder:e}),b[0]=c,b[1]=e,b[2]=f):f=b[2];return f}if(a!=null){b[3]!==c||b[4]!==e||b[5]!==a?(f=e!=null?l.jsx(p,{children:c,folder:e,thread:a}):l.jsx(o,{children:c,thread:a}),b[3]=c,b[4]=e,b[5]=a,b[6]=f):f=b[6];return f}return null}g["default"]=a}),226);
__d("MWChatBusinessQuickReply.react",["CometImage.react","MDSTextPairing.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={image:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6","float":"xrbpyxo",height:"x158ke7r",marginTop:"x16ldp7u",marginEnd:"x1t4t16n",marginBottom:"xz62fqu",marginStart:"xbmpl8g",width:"x1kl0l3y",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"xr9oo41",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.bodyLineLimit,f=a.imageUrl,g=a.onClick,i=a.quickReplyVertical;a=a.text;e=e===void 0?1:e;i=i===void 0?!1:i;var l;b[0]!==i?(l=(h||(h=c("stylex"))).props(i?k.vertical:!1),b[0]=i,b[1]=l):l=b[1];var m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(m={className:"x6s0dn4 x1eb86dx xfh8nwu xoqspk4 x12v9rci x138vmkv x143s1ad xp3zfi1 x137oirg xojro6o x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1emribx xjpr12u x1i64zmx x1mzt3pk x1a8lsjc xn6708d x1ye3gou x889kno x1yc453h x13faqbe"},b[2]=m):m=b[2];var n;b[3]!==f?(n=f!=null?j.jsx(c("CometImage.react"),{src:f,xstyle:k.image}):null,b[3]=f,b[4]=n):n=b[4];f=i?"end":"start";b[5]!==e||b[6]!==f||b[7]!==a?(i=j.jsx(c("MDSTextPairing.react"),{body:a,bodyLineLimit:e,level:3,textAlign:f}),b[5]=e,b[6]=f,b[7]=a,b[8]=i):i=b[8];b[9]!==g||b[10]!==n||b[11]!==i?(e=j.jsxs("button",babelHelpers["extends"]({},m,{onClick:g,children:[n,i]})),b[9]=g,b[10]=n,b[11]=i,b[12]=e):e=b[12];b[13]!==l||b[14]!==e?(f=j.jsx("div",babelHelpers["extends"]({},l,{children:e})),b[13]=l,b[14]=e,b[15]=f):f=b[15];return f}g["default"]=a}),98);
__d("MWChatBusinessQuickReplyText.react",["MWChatBusinessQuickReply.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.onSend,f=a.quickReply;a=a.quickReplyVertical;var g=a?3:1,h;b[0]!==e||b[1]!==f?(h=function(){return e(f)},b[0]=e,b[1]=f,b[2]=h):h=b[2];h=h;var j=f.image_url;j=(j=j)!=null?j:void 0;var k;b[3]!==g||b[4]!==h||b[5]!==f.title||b[6]!==a||b[7]!==j?(k=i.jsx(c("MWChatBusinessQuickReply.react"),{bodyLineLimit:g,imageUrl:j,onClick:h,quickReplyVertical:a,text:f.title}),b[3]=g,b[4]=h,b[5]=f.title,b[6]=a,b[7]=j,b[8]=k):k=b[8];return k}g["default"]=a}),98);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9543098642425282"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRelay").useRelayEnvironment(),e;a[0]!==b?(e=function(a){var e=d("CometRelay").fetchQuery(b,k,{}).toPromise().then(function(b){b=b==null?void 0:(b=b.viewer)==null?void 0:(b=b.user)==null?void 0:b.birthdate;if(b){var c=b==null?void 0:b.day,d=b==null?void 0:b.month;b=b==null?void 0:b.year;c!=null&&d!=null&&b!=null&&a(j(c,d,b,i))}});c("promiseDone")(e)},a[0]=b,a[1]=e):e=a[1];return e}var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.react",["MWChatBusinessQuickReply.react","MWChatUserBirthdayQuery","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.onSend,f=a.quickReply,g=a.quickReplyVertical;a=a.userID;c("vulture")("tJsMumlXI5fKIWKlz4OT3_uo6ec=");var h=d("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),l=k(),m=l[0],n=l[1];b[0]!==h?(l=function(){h(function(a){return n(a)})},b[0]=h,b[1]=l):l=b[1];var o;b[2]!==h||b[3]!==a?(o=[a,h,n],b[2]=h,b[3]=a,b[4]=o):o=b[4];j(l,o);if(m==null)return null;a=f.content_type;l=f.data;o=f.image_url;f=f.payload;var p;b[5]!==a||b[6]!==l||b[7]!==o||b[8]!==f||b[9]!==m?(p={content_type:a,data:l,image_url:o,payload:f,title:m},b[5]=a,b[6]=l,b[7]=o,b[8]=f,b[9]=m,b[10]=p):p=b[10];var q=p;b[11]!==q||b[12]!==e?(a=function(){return e(q)},b[11]=q,b[12]=e,b[13]=a):a=b[13];l=a;b[14]!==l||b[15]!==g||b[16]!==m?(o=i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:l,quickReplyVertical:g,text:m}),b[14]=l,b[15]=g,b[16]=m,b[17]=o):o=b[17];return o}g["default"]=a}),98);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9122413841198113"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRelay").useRelayEnvironment(),e;a[0]!==b?(e=function(a){var e=d("CometRelay").fetchQuery(b,j,{}).toPromise().then(function(b){b=b==null?void 0:b.viewer.all_emails;if(b&&b.length>0){var c=b.find(i);c!=null?a(c.display_email):a(b[0].display_email)}});c("promiseDone")(e)},a[0]=b,a[1]=e):e=a[1];return e}function i(a){return a.is_primary}var j=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.react",["MWChatBusinessQuickReply.react","MWChatUserEmailQuery","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(16),e=a.onSend,f=a.quickReply,g=a.quickReplyVertical;a=a.userID;var h=d("MWChatUserEmailQuery").useUserEmailDataQuery(),l=k(),m=l[0],n=l[1];b[0]!==h?(l=function(){h(n)},b[0]=h,b[1]=l):l=b[1];var o;b[2]!==h||b[3]!==a?(o=[a,h,n],b[2]=h,b[3]=a,b[4]=o):o=b[4];j(l,o);if(m==null)return null;b[5]!==e||b[6]!==f.content_type||b[7]!==f.data||b[8]!==f.image_url||b[9]!==f.payload||b[10]!==m?(a=function(){return e({content_type:f.content_type,data:f.data,image_url:f.image_url,payload:f.payload,title:m})},b[5]=e,b[6]=f.content_type,b[7]=f.data,b[8]=f.image_url,b[9]=f.payload,b[10]=m,b[11]=a):a=b[11];b[12]!==g||b[13]!==a||b[14]!==m?(l=i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:a,quickReplyVertical:g,text:m}),b[12]=g,b[13]=a,b[14]=m,b[15]=l):l=b[15];return l}g["default"]=a}),98);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9485519004888666"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRelay").useRelayEnvironment(),e;a[0]!==b?(e=function(a){var e=d("CometRelay").fetchQuery(b,j,{}).toPromise().then(function(b){b=b==null?void 0:b.viewer.user.all_phones;if(b&&b.length>0){var c=b.find(i);if(c!=null){a((c=c.phone_number)==null?void 0:c.universal_number)}else{a((c=b[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)},a[0]=b,a[1]=e):e=a[1];return e}function i(a){return a.is_preferred}var j=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.react",["MWChatBusinessQuickReply.react","MWChatUserPhoneNumberQuery","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.onSend,f=a.quickReply,g=a.quickReplyVertical;a=a.userID;var h=d("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),m=k(l),n=m[0],o=m[1];b[0]!==h?(m=function(){h(function(a){return o(function(){return a})})},b[0]=h,b[1]=m):m=b[1];var p;b[2]!==h||b[3]!==a?(p=[a,h,o],b[2]=h,b[3]=a,b[4]=p):p=b[4];j(m,p);if(n==null)return null;a=f.content_type;m=f.data;p=f.image_url;f=f.payload;var q;b[5]!==a||b[6]!==m||b[7]!==p||b[8]!==f||b[9]!==n?(q={content_type:a,data:m,image_url:p,payload:f,title:n},b[5]=a,b[6]=m,b[7]=p,b[8]=f,b[9]=n,b[10]=q):q=b[10];var r=q;b[11]!==r||b[12]!==e?(a=function(){return e(r)},b[11]=r,b[12]=e,b[13]=a):a=b[13];m=a;b[14]!==m||b[15]!==g||b[16]!==n?(p=i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:m,quickReplyVertical:g,text:n}),b[14]=m,b[15]=g,b[16]=n,b[17]=p):p=b[17];return p}function l(){}g["default"]=a}),98);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9975805915772985"}),null);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRelay").useRelayEnvironment(),e;a[0]!==b?(e=function(a){var e=d("CometRelay").fetchQuery(b,i,{}).toPromise().then(function(b){b=b==null?void 0:(b=b.viewer)==null?void 0:(b=b.actor)==null?void 0:(b=b.address)==null?void 0:b.region;b!=null&&b!==""&&a(b)});c("promiseDone")(e)},a[0]=b,a[1]=e):e=a[1];return e}function e(){var a=d("react-compiler-runtime").c(2),b=d("CometRelay").useRelayEnvironment(),e;a[0]!==b?(e=function(a){var e=d("CometRelay").fetchQuery(b,i,{}).toPromise().then(function(b){b=b==null?void 0:(b=b.viewer)==null?void 0:(b=b.actor)==null?void 0:b.address;b=b==null?void 0:b.postal_code;b!=null&&a(b)});c("promiseDone")(e)},a[0]=b,a[1]=e):e=a[1];return e}var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.react",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.onSend,f=a.quickReply,g=a.quickReplyVertical;a=a.userID;c("vulture")("XR6-ZbqO30xv0l_X_kfEtnNQhlM=");var h=d("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),l=k(),m=l[0],n=l[1];b[0]!==h?(l=function(){h(function(a){return n(a)})},b[0]=h,b[1]=l):l=b[1];var o;b[2]!==h||b[3]!==a?(o=[a,h,n],b[2]=h,b[3]=a,b[4]=o):o=b[4];j(l,o);if(m==null)return null;a=f.content_type;l=f.data;o=f.image_url;f=f.payload;var p;b[5]!==a||b[6]!==l||b[7]!==o||b[8]!==f||b[9]!==m?(p={content_type:a,data:l,image_url:o,payload:f,title:m},b[5]=a,b[6]=l,b[7]=o,b[8]=f,b[9]=m,b[10]=p):p=b[10];var q=p;b[11]!==q||b[12]!==e?(a=function(){return e(q)},b[11]=q,b[12]=e,b[13]=a):a=b[13];l=a;b[14]!==l||b[15]!==g||b[16]!==m?(o=i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:l,quickReplyVertical:g,text:m}),b[14]=l,b[15]=g,b[16]=m,b[17]=o):o=b[17];return o}g["default"]=a}),98);
__d("MWChatBusinessQuickReplyUserZipCode.react",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.onSend,f=a.quickReply,g=a.quickReplyVertical;a=a.userID;c("vulture")("xJwNdVx-jEQ2udC06J_yZ_OBaC4=");var h=d("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),l=k(),m=l[0],n=l[1];b[0]!==h?(l=function(){h(function(a){return n(a)})},b[0]=h,b[1]=l):l=b[1];var o;b[2]!==h||b[3]!==a?(o=[a,h,n],b[2]=h,b[3]=a,b[4]=o):o=b[4];j(l,o);if(m==null)return null;a=f.content_type;l=f.data;o=f.image_url;f=f.payload;var p;b[5]!==a||b[6]!==l||b[7]!==o||b[8]!==f||b[9]!==m?(p={content_type:a,data:l,image_url:o,payload:f,title:m},b[5]=a,b[6]=l,b[7]=o,b[8]=f,b[9]=m,b[10]=p):p=b[10];var q=p;b[11]!==q||b[12]!==e?(a=function(){return e(q)},b[11]=q,b[12]=e,b[13]=a):a=b[13];l=a;b[14]!==l||b[15]!==g||b[16]!==m?(o=i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:l,quickReplyVertical:g,text:m}),b[14]=l,b[15]=g,b[16]=m,b[17]=o):o=b[17];return o}g["default"]=a}),98);
__d("MWChatBusinessQuickReplyList.react",["Actor","CometScrollableArea.react","I64","LSIntEnum","LSQuickReplyType","MWChatBusinessQuickReplyText.react","MWChatBusinessQuickReplyUserBirthday.react","MWChatBusinessQuickReplyUserEmail.react","MWChatBusinessQuickReplyUserPhoneNumber.react","MWChatBusinessQuickReplyUserState.react","MWChatBusinessQuickReplyUserZipCode.react","MessengerWebEventsFalcoEvent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(22),e=a.arrayQR,f=a.id,g=a.onSend;a=a.quickReplyType;var h;b[0]!==a?(h=a===void 0?(i||(i=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").NONE):a,b[0]=a,b[1]=h):h=b[1];a=h;b[2]!==a?(h=(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").VERTICAL)),b[2]=a,b[3]=h):h=b[3];var m=h;a=d("Actor").useActor();var n=a[0];b[4]!==f?(h=function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"render_quick_replies",other_user_fbid:f}})},a=[f],b[4]=f,b[5]=h,b[6]=a):(h=b[5],a=b[6]);l(h,a);b[7]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x1n2onr6 xh8yej3 x1eb86dx"},b[7]=h):h=b[7];b[8]!==m?(a={0:{className:"x1eb86dx x78zum5 x1q0g3np xozqiw3 x1nn3v0j x1sxyh0 x1a8lsjc xurb0ha"},1:{className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj"}}[!!m<<0],b[8]=m,b[9]=a):a=b[9];if(b[10]!==n||b[11]!==e||b[12]!==g||b[13]!==m){var o;b[15]!==n||b[16]!==g||b[17]!==m?(o=function(a,b){switch(a.content_type){case"text":return k.jsx(c("MWChatBusinessQuickReplyText.react"),{onSend:g,quickReply:a,quickReplyVertical:m},String(b));case"user_birthday":return k.jsx(c("MWChatBusinessQuickReplyUserBirthday.react"),{onSend:g,quickReply:a,quickReplyVertical:m,userID:n},String(b));case"user_email":return k.jsx(c("MWChatBusinessQuickReplyUserEmail.react"),{onSend:g,quickReply:a,quickReplyVertical:m,userID:n},String(b));case"user_phone_number":return k.jsx(c("MWChatBusinessQuickReplyUserPhoneNumber.react"),{onSend:g,quickReply:a,quickReplyVertical:m,userID:n},String(b));case"user_state":return k.jsx(c("MWChatBusinessQuickReplyUserState.react"),{onSend:g,quickReply:a,quickReplyVertical:m,userID:n},String(b));case"user_zip_code":return k.jsx(c("MWChatBusinessQuickReplyUserZipCode.react"),{onSend:g,quickReply:a,quickReplyVertical:m,userID:n},String(b));default:return null}},b[15]=n,b[16]=g,b[17]=m,b[18]=o):o=b[18];o=e.map(o);b[10]=n;b[11]=e;b[12]=g;b[13]=m;b[14]=o}else o=b[14];b[19]!==a||b[20]!==o?(e=k.jsx("div",babelHelpers["extends"]({},h,{children:k.jsx(c("CometScrollableArea.react"),{horizontal:!0,children:k.jsx("div",babelHelpers["extends"]({},a,{children:o}))})})),b[19]=a,b[20]=o,b[21]=e):e=b[21];return e}g["default"]=a}),98);
__d("MWChatIsMessageRequest",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!=null)if(a==="pending")return!0;else if(a==="other")return!c("CurrentUser").isWorkUser();else return!1;else return!1}g.fn=a}),98);
__d("MWDidQueryPromptsNux",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(){g=!0}function b(){return g}f.markDidQueryPromptsNux=a;f.getDidQueryPromptsNux=b}),66);
__d("MWEBWebOnboardingPostDecisionDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBWebOnboardingPostDecisionDialog.react").__setRef("MWEBWebOnboardingPostDecisionDialog.entrypoint")};g["default"]=a}),98);
__d("MWLikeSvgIcon.react",["cr:1798"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1798")}),98);
__d("MWMediaManagerFileSizeLimit",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=25;function a(a){return a?c("gkx")("7430")?c("justknobx")._("3563"):h:h}g.getMWMaxAttachmentSizeInMB=a}),98);
__d("MWPQuickReplies.react",["AdsMessengerContext.react","FBLogger","I64","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWChatBusinessQuickReplyList.react","MWPActor.react","MessagePowerUp","Promise","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useLSMessagingSource","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useContext;function o(a){var b=d("react-compiler-runtime").c(21),e=a.lastMessageId,g=a.quickReplyType,h=a.threadKey,l=c("useLSMessagingSource")(),o=(i||(i=c("useReStore")))(),s=d("MWPActor.react").useActor(),t=n(d("AdsMessengerContext.react").AdsMessengerContext);b[0]!==e||b[1]!==o.tables.quick_reply_ctas||b[2]!==h?(a=function(){return d("ReQL").fromTableAscending(o.tables.quick_reply_ctas).getKeyRange(h,e).map(r).filter(q)},b[0]=e,b[1]=o.tables.quick_reply_ctas,b[2]=h,b[3]=a):a=b[3];var u;b[4]!==e||b[5]!==o||b[6]!==h?(u=[o,e,h],b[4]=e,b[5]=o,b[6]=h,b[7]=u):u=b[7];a=d("ReQLSuspense").useArray(a,u,f.id+":54");if(a.length>0){b[8]!==s?(u=(j||(j=d("I64"))).to_string(s),b[8]=s,b[9]=u):u=b[9];var v;b[10]!==s||b[11]!==t||b[12]!==l||b[13]!==o||b[14]!==h?(v=function(a){if(t.onSendQuickReply!=null)return c("promiseDone")(t.onSendQuickReply(a,!1));var b=d("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(h,l);c("promiseDone")(o.runInTransaction(function(e){var f;f=(f=a.payload)!=null?f:void 0;return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:f,power_up_style:(k||(k=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:k.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:k.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:b}),mailboxType:k.ofNumber(c("LSMailboxType").MESSENGER),senderId:s,text:a.title,threadKey:h,threadType:k.ofNumber(1)}).then(p)},"readwrite",void 0,void 0,f.id+":110"))},b[10]=s,b[11]=t,b[12]=l,b[13]=o,b[14]=h,b[15]=v):v=b[15];var w;b[16]!==a||b[17]!==g||b[18]!==u||b[19]!==v?(w=m.jsx(c("MWChatBusinessQuickReplyList.react"),{arrayQR:a,id:u,onSend:v,quickReplyType:g}),b[16]=a,b[17]=g,b[18]=u,b[19]=v,b[20]=w):w=b[20];return w}else return null}function p(a){return(h||(h=b("Promise"))).resolve(a)}function q(a){return a.content_type!==""}function r(a){var b=a.type_,d=b==="quick_reply_text"||b==="quick_reply_ad"?"text":b==="quick_reply_phone"?"user_phone_number":b==="quick_reply_email"?"user_email":"";d===""&&c("FBLogger")("messenger_web").mustfix("Unexpected quick-reply type: %s, title: %s",b,a.title);return{content_type:d,data:void 0,image_url:a.imageUrl,payload:a.platformToken,title:a.title}}function a(a){var b=d("react-compiler-runtime").c(8),e=a.threadKey,g=(i||(i=c("useReStore")))(),h;b[0]!==g||b[1]!==e?(a=function(){return d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(e).take(2)},h=[g,e],b[0]=g,b[1]=e,b[2]=a,b[3]=h):(a=b[2],h=b[3]);a=d("ReQLSuspense").useArray(a,h,f.id+":151");if(a.length===0)return null;h=a[0];h.isAdminMessage&&a.length===2&&(h=a[1]);b[4]!==h.messageId||b[5]!==h.quickReplyType||b[6]!==e?(a=m.jsx(o,{lastMessageId:h.messageId,quickReplyType:h.quickReplyType,threadKey:e}),b[4]=h.messageId,b[5]=h.quickReplyType,b[6]=e,b[7]=a):a=b[7];return a}e=d("withCometPlaceholder").withCometPlaceholder(a,null,"MWPQuickReplies");g["default"]=e}),98);
__d("MWResponsiveLayoutShowState",[],(function(a,b,c,d,e,f){"use strict";var g={1:["fill"],2:["fixed","fill"],3:["fill-limit","fill","fill-limit"]};function a(a,b){var c=b.maxCardsVisible-1;return a>c&&h(a,b)!=="hidden"}function h(a,b){var c=b.maxCardsVisible,d=b.primaryCardIndex;b=b.secondaryCardIndex;var e=c-1,f=Math.min(e,a);c=g[c][f];if(d>=e)return a<e||a===d?c:"hidden";d=(f=b)!=null?f:-1;return d>=e?a<e||a===d?c:"hidden":a<=e?c:"hidden"}f.isCardStackedAboveOthers=a;f.getCardShowState=h}),66);
__d("logCallAttemptViaLocalhost",["MessengerDesktopDeeplinkEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g["default"]=a}),98);
__d("MWStartRTCCallUtils",["$InternalEnum","I64","Int64Hooks","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatIsMessageRequest","MWPActor.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","gkx","isFeatureLimitEnabled","logCallAttemptViaLocalhost","promiseDone","react","react-compiler-runtime","useIsReadOnlyFeatureLimitedWithThreadType","useMWGetOtherUserContact","useReStore","useStable","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;(j||d("react")).useCallback;var n=b("$InternalEnum").Mirrored(["SECURE_VIDEO_UNSUPPORTED","SECURE_VOICE_UNSUPPORTED","VIDEO_SUPPORTED","VOICE_SUPPORTED","VIDEO_UNSUPPORTED","VOICE_UNSUPPORTED"]);function a(a){var e=d("react-compiler-runtime").c(3),f=c("useStable")(p),g;e[0]!==a||e[1]!==f?(g=function(e,g,h){var j="/call?threadid="+g+"&isvideocall="+(e?1:0)+"&funnel_id="+f;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:f});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(o).setErrorHandler(function(b){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(e,g,h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(e,g,h)}).send()]))},e[0]=a,e[1]=f,e[2]=g):g=e[2];return g}function o(){}function p(){return c("uuidv4")()}function e(a,e,f){var g=d("react-compiler-runtime").c(6),h=c("useStable")(r),j,l;g[0]!==e||g[1]!==f||g[2]!==h||g[3]!==a?(j=function(g){var j=(k||(k=d("I64"))).to_string(a),l=e==="video"?1:0;j="/call?threadid="+j+"&isvideocall="+l+"&funnel_id="+h;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:h});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(q).setErrorHandler(function(a){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(g)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(g)}).send()]))},l=[e,h,a,f],g[0]=e,g[1]=f,g[2]=h,g[3]=a,g[4]=j,g[5]=l):(j=g[4],l=g[5]);return d("Int64Hooks").useCallbackInt64(j,l)}function q(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_loaded_successfully")}function r(){return c("uuidv4")()}function s(a,b,e){var f=d("react-compiler-runtime").c(12);a=v(a);var g,h=!1;if(a.length!==1)g=!1;else{var i,j=a[0];b=d("LSMessagingThreadTypeUtil").isOneToOne(b)&&j!=null&&!(k||(k=d("I64"))).equal(j.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(b){f[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[!1,!1],f[0]=b):b=f[0];return b}g=j!=null?(k||(k=d("I64"))).equal(j.contactType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;b=j!=null?(b=d("LSContactBitOffset").has(0,j))!=null?b:!0:!0;i=j!=null?(i=d("LSContactBitOffset").has(1,j))!=null?i:!0:!0;h=e&&j!=null&&j.blockedSinceTimestampMs==null&&!g&&(!b||!i)}if(!g){e=!h;j=!h;f[1]!==e||f[2]!==j?(b=[e,j],f[1]=e,f[2]=j,f[3]=b):b=f[3];return b}if(c("gkx")("23431")){f[4]!==a?(i=a.every(u),f[4]=a,f[5]=i):i=f[5];f[6]!==a?(g=a.every(t),f[6]=a,f[7]=g):g=f[7];f[8]!==i||f[9]!==g?(h=[i,g],f[8]=i,f[9]=g,f[10]=h):h=f[10];return h}f[11]===Symbol["for"]("react.memo_cache_sentinel")?(e=[!1,!1],f[11]=e):e=f[11];return e}function t(a){return a==null?!0:d("LSContactBitOffset").has(16,a)}function u(a){return a==null?!0:d("LSContactBitOffset").has(17,a)}function v(a){var b=d("react-compiler-runtime").c(9),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i;b[0]!==g||b[1]!==e.tables.contacts||b[2]!==e.tables.participants||b[3]!==a?(i=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(a).take(2).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,g)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.contacts,["contactType","blockedSinceTimestampMs"].concat(d("LSContactBitOffset").contactCapabilityFields,["blockedByViewerStatus"])).getKeyRange(a.contactId),f.id+":297")})},b[0]=g,b[1]=e.tables.contacts,b[2]=e.tables.participants,b[3]=a,b[4]=i):i=b[4];var j;b[5]!==g||b[6]!==e||b[7]!==a?(j=[e,a,g],b[5]=g,b[6]=e,b[7]=a,b[8]=j):j=b[8];return d("ReQLSuspense").useArray(i,j,f.id+":286")}function w(a){var b=d("react-compiler-runtime").c(16),e=a.folderName,g=a.threadKey,i=a.threadType,j=(h||(h=c("useReStore")))(),m=d("MWPActor.react").useActor(),o;b[0]!==m||b[1]!==j.tables.participants||b[2]!==g?(o=function(){return d("ReQL").fromTableAscending(j.tables.participants,["threadKey","contactId"]).getKeyRange(g,m)},b[0]=m,b[1]=j.tables.participants,b[2]=g,b[3]=o):o=b[3];var p;b[4]!==m||b[5]!==j||b[6]!==g?(p=[j,g,m],b[4]=m,b[5]=j,b[6]=g,b[7]=p):p=b[7];o=d("ReQLSuspense").useFirst(o,p,f.id+":317")!=null;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p=["contactReachabilityStatusType"].concat(d("LSContactBitOffset").contactCapabilityFields),b[8]=p):p=b[8];p=c("useMWGetOtherUserContact")(g,i,p);var q=d("LSThreadBitOffset").has(25,a),r=d("LSThreadBitOffset").has(24,a),t;b[9]!==i?(t=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i),b[9]=i,b[10]=t):t=b[10];t=t;var u=c("useIsReadOnlyFeatureLimitedWithThreadType")(i)&&(!t||c("isFeatureLimitEnabled")());a=s(g,a.threadType,t);var v=a[0];a=a[1];if(t&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("23430"))){b[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=[n.SECURE_VOICE_UNSUPPORTED,n.SECURE_VIDEO_UNSUPPORTED],b[11]=t):t=b[11];return t}t=(p==null?void 0:p.contactReachabilityStatusType)!=null?(k||(k=d("I64"))).equal(p.contactReachabilityStatusType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE)):!0;var w=p!=null&&d("LSContactBitOffset").has(64,p);p=p==null&&(k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(15));o=((k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(2))||(k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(16)))&&o||(k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(15));i=d("MWChatIsMessageRequest").fn(e);e=!p&&!i&&!u&&o&&t&&!w;if(e){p=v&&q?n.VOICE_SUPPORTED:n.VOICE_UNSUPPORTED;i=a&&r?n.VIDEO_SUPPORTED:n.VIDEO_UNSUPPORTED;b[12]!==p||b[13]!==i?(u=[p,i],b[12]=p,b[13]=i,b[14]=u):u=b[14];return u}b[15]===Symbol["for"]("react.memo_cache_sentinel")?(o=[n.VOICE_UNSUPPORTED,n.VIDEO_UNSUPPORTED],b[15]=o):o=b[15];return o}g.CanCallResult=n;g.useStartDesktopCall=a;g.useStartMessengerDesktopCall=e;g.useCanCall=w}),98);
__d("MWXIconExclamationMarkCircle",["MWXSvgIcon","SVGIcon","cr:12407","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12407")),c("gkx")("23219"));g["default"]=a}),98);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.react","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||d("react"),m=j._(/*BTDS*/"Thumbs-up sign");function a(a){var b=a.className;a=a.color;b=b;a=a;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=c("CurrentUser").isWorkUser()?"#373e4c":c("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");return l.jsx("div",{className:c("joinClasses")(c("bs_belt_Option").getWithDefault(b,""),"_1i1j"),"data-testid":void 0,children:l.jsx(c("MWLikeSvgIcon.react"),{alt:m,color:d,size:"100%"})})}a.displayName=a.name+" [from "+f.id+"]";b="transparent";g.MessengerHotLikeSVGReact=a;g.cTRANSPARENT=b}),226);
__d("StickerConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120});f["default"]=a}),66);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeSVGReact.bs","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","joinClasses","lazyLoadComponent","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react"));var l="AI generated sticker",m=83;a=5e3;var n=10,o={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.__stopIntervalID=null,b.$1=!1,b.$2=k.createRef(),b.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},b.toggleAnimation=function(){b.isAnimating()?b.stopAnimation():b.startAnimation()},b.incrementFrameIndex=function(){b.shouldStopAnimating()?b.stopAnimation():b.setState({index:b.state.index+1})},b.onStickerClick=function(){if(!b.$3(b.props.packID))return;b.props.onStickerClick&&b.props.onStickerClick(b.props.packID,b.props.stickerID)},b.mouseLeft=function(){b.setState({isHovered:!1})},b.mouseEntered=function(){b.setState({isHovered:!0}),b.isAnimating()||b.startAnimation()},b.tabFocusSelected=function(){b.setState({isHovered:!0}),b.isAnimating()||b.startAnimation()},b.tabFocusUnselected=function(){b.setState({isHovered:!1})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===o.LOAD_AND_HOVER||this.props.animationTrigger===o.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,function(b,c){a.isScrolledIntoView(c.scrollTop,c.viewHeight,c.top)});this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-n<=b&&d+n>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===o.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:m;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===o.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===o.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a,b=this.props.accessibilityLabel===l;return i._(/*BTDS*/"{pack name} {sticker name}{sticker suffix}",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel),i._param("sticker suffix",b?"":" sticker")])};e.render=function(){var a,b;this.props.animationTrigger===o.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===o.HOVER||this.props.animationTrigger===o.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||!1)&&this.props.thread!=null?g=null:g=k.jsx(d("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:this.props.customColor}));return k.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g})};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(k.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:m,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),226);
__d("XThisControllerNoLongerExistsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dcb/tcnle/",{t:{type:"String"}})}),null);
__d("ThisControllerNoLongerExists",["XControllerURIBuilder","XThisControllerNoLongerExistsController","jsRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,"/dcb/tcnle/",{})||this;c.$XControllerURIBuilderNoOpDead$p_1=a;return c}var d=a.prototype;d.__validateRequiredParamsExistence=function(){};d.__assertParamExists=function(a){};d.__setParam=function(a,b,c){return this};d.__setParamInt=function(a,b){};d.getRequest_LEGACY_UNTYPED=function(a){return a.setURI(this.getURI())};d.getURI=function(){return c("XThisControllerNoLongerExistsController").getURIBuilder().setString("t",this.$XControllerURIBuilderNoOpDead$p_1).getURI()};d.getLookasideURI=function(){return this.getURI()};return a}(c("XControllerURIBuilder"));function a(a){return c("XThisControllerNoLongerExistsController").getURIBuilder().setString("t",a).getURI()}function b(a){return new h(a)}function d(a){var b=c("jsRouteBuilder")("/dcb/tcnle/",{}),d={t:a};return{buildUri:function(){return b.buildUri(d)},buildUriNullable:function(){return b.buildUriNullable(d)},buildURL:function(){return b.buildURL(d)},buildURLStringDEPRECATED:function(){return b.buildURLStringDEPRECATED(d)},getPath:function(){return b.getPath()}}}g.__DEADURI__=a;g.__DEADBUILDER__=b;g.__DEADROUTEBUILDER__=d}),98);
__d("getLSContactHref",["CurrentEnvironment","I64","LSContactBlockedByViewerStatus","LSContactTypeExact","LSIntEnum","MWLSContactTypeExactUtils","XCometVanityURLControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.blockedByViewerStatus,e=a.contactTypeExact,f=a.id;a=a.secondaryName;if((h||(h=d("I64"))).to_int32(b)===c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)return;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)))return;b=d("MWLSContactTypeExactUtils").isIgContact(e);return a!=null&&b?"https://www.instagram.com/"+a:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(h||(h=d("I64"))).to_string(f)}).toString()}g["default"]=a}),98);
__d("getRTCCallStateOfLSRTCCallState",["FBLogger","LSRtcCallState"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===2?!0:a===8}function a(a,b){switch(a){case c("LSRtcCallState").AUDIO_1TO1_CALL:return"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_1TO1_CALL:return"VIDEO_1TO1_CALL";case c("LSRtcCallState").NO_ONGOING_CALL:return"NO_ONGOING_CALL";case c("LSRtcCallState").AUDIO_GROUP_CALL:return h(b)?"AUDIO_GROUP_CALL":"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_GROUP_CALL:return h(b)?"VIDEO_GROUP_CALL":"VIDEO_1TO1_CALL";default:c("FBLogger")("messenger_web_calling").mustfix("Unknown RTCCallState: %sL and threadType %sL",a,b);return"NO_ONGOING_CALL"}}g["default"]=a}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSContactUtils","LSIntEnum","MAWContactRelationshipType","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","MessagingFolderTag","Promise","WAJobOrchestratorTypes","promiseDone","react-compiler-runtime","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){var f=d("react-compiler-runtime").c(10),g=(k||(k=c("useReStore")))(),l=c("useMWLSMarkThreadAsRead")(e,a.threadKey),m=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey);f[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=["capabilities","capabilities2","contactViewerRelationship","blockedByViewerStatus"],f[0]=e):e=f[0];var n=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,e),o;f[1]!==n||f[2]!==g||f[3]!==m||f[4]!==l||f[5]!==a.authorityLevel||f[6]!==a.folderName||f[7]!==a.threadKey?(e=function(){if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){l();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(g.tables,a.threadKey,"useMAWMarkThreadAsRead",function(e,f){return a.folderName===c("MessagingFolderTag").SPAM||a.folderName===c("MessagingFolderTag").PENDING?(h||(h=b("Promise"))).resolve():d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(f,n&&d("MAWContactRelationshipType").getContactRelationshipType(n),n?d("LSContactUtils").isContactBlocked(n):!1,n?d("LSContactUtils").isContactRestricted(n):!1,void 0,m,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},o=[a.folderName,a.authorityLevel,a.threadKey,l,g,n,m],f[1]=n,f[2]=g,f[3]=m,f[4]=l,f[5]=a.authorityLevel,f[6]=a.folderName,f[7]=a.threadKey,f[8]=e,f[9]=o):(e=f[8],o=f[9]);return d("Int64Hooks").useCallbackInt64(e,o)}g["default"]=a}),98);
__d("useMWChatUnmuteThread",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMuteCallsFromThreadStoredProcedure","LSOptimisticMuteThreadStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e=(i||(i=d("I64"))).zero,g;a[0]!==b?(g=function(a){(i||(i=d("I64"))).equal(a.muteExpireTimeMs,e)||c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticMuteThreadStoredProcedure")(c("LSFactory")(b),{mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),muteExpireTimeMs:(i||(i=d("I64"))).zero,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":36"));if(!(i||(i=d("I64"))).equal(a.muteCallsExpireTimeMs,e)){c("promiseDone")(b.runInTransaction(function(b){return c("LSMuteCallsFromThreadStoredProcedure")(c("LSFactory")(b),{mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),muteCallsExpireTimeMs:(i||(i=d("I64"))).zero,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":49"));return}},a[0]=b,a[1]=g):g=a[1];return g}g["default"]=a}),98);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","gkx","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(6),b=c("gkx")("9576"),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i;a[0]!==g||a[1]!==e.tables.messaging_privacy_settings?(i=function(){return d("ReQL").fromTableAscending(e.tables.messaging_privacy_settings).getKeyRange(g)},a[0]=g,a[1]=e.tables.messaging_privacy_settings,a[2]=i):i=a[2];var j;a[3]!==g||a[4]!==e?(j=[e,g],a[3]=g,a[4]=e,a[5]=j):j=a[5];a=d("ReQLSuspense").useFirst(i,j,f.id+":25");if(!b)return!1;return a==null?c("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(i=a==null?void 0:a.e2eeHdMediaEnabled)!=null?i:!1}g["default"]=a}),98);
__d("useMWLSGetOngoingCallState",["MWLSThread","MWThreadKey.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return d("MWLSThread").useThread(a,h)}function h(a){return a.ongoingCallState}g["default"]=a}),98);
__d("useMWLSUnarchiveThread",["LSFactory","LSOptimisticUnarchiveThreadStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticUnarchiveThreadStoredProcedure")(c("LSFactory")(b),{threadKey:a})},"readwrite",void 0,void 0,f.id+":25"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useRTWebOutgoingGroupCallDialog",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef,j=c("JSResourceForInteraction")("RTWebCometOutgoingGroupCallContentLS.react").__setRef("useRTWebOutgoingGroupCallDialog");function a(){var a=d("react-compiler-runtime").c(2),b=i(!1),e=c("useMWXLazyDialog")(j),f=e[0];a[0]!==f?(e=function(a){b.current||(b.current=!0,f(a,function(){b.current=!1}))},a[0]=f,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useRTWebOutgoingUnsupportedBrowserDialog",["JSResourceForInteraction","react","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=c("JSResourceForInteraction")("RTWebOutgoingUnsupportedBrowserDialogWrapper.react").__setRef("useRTWebOutgoingUnsupportedBrowserDialog");function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometLazyDialog")(i),e=b[0];a[0]!==e?(b=function(a){e(a)},a[0]=e,a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("useRTWebCometStartCallCallback",["Actor","I64","RTWebPreCallHooks","nullthrows","react","react-compiler-runtime","useGroupCallBlockedUserWarningInterstitial","useRTWebOutgoingGroupCallDialog","useRTWebOutgoingUnsupportedBrowserDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;f=d("RTWebPreCallHooks").createInviteAndStartCallCallbackHook(a,b,e);function a(){var a=d("react-compiler-runtime").c(3),b=d("Actor").useActor(),e=b[0],f=c("useRTWebOutgoingGroupCallDialog")();a[0]!==f||a[1]!==e?(b=function(a,b){var c=a.isE2eeMandated,d=a.thread;a=a.trigger;var g=d.id;d=d.type;f({isE2eeMandated:c,onCall:b,threadID:g,threadType:d,trigger:a,viewer:e})},a[0]=f,a[1]=e,a[2]=b):b=a[2];return b}function b(){var a=d("react-compiler-runtime").c(2),b=d("useGroupCallBlockedUserWarningInterstitial").useGroupCallBlockedUserWarningInterstitial(),e;a[0]!==b?(e=function(a,e){var f=a.isE2eeMandated;a=a.thread;var g=a.id;a=a.type;b({callType:"start",isE2eeMandated:f,onContinue:e,threadID:g,threadType:(i||(i=d("I64"))).of_int32(c("nullthrows")(a))})},a[0]=b,a[1]=e):e=a[1];return e}function e(){var a=d("react-compiler-runtime").c(3),b=d("Actor").useActor(),e=b[0],f=c("useRTWebOutgoingUnsupportedBrowserDialog")();a[0]!==e||a[1]!==f?(b=function(a){a=a.thread;var b=a.id;a=a.type;f({actorID:e,threadID:b,threadType:a})},a[0]=e,a[1]=f,a[2]=b):b=a[2];return b}g["default"]=f}),98);
__d("useMWV2StartGroupCall",["I64","Int64Hooks","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","ZenonProductConnectFunnel","getRTCCallStateOfLSRTCCallState","react-compiler-runtime","useMWXLazyDialog","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){var f=d("react-compiler-runtime").c(10),g=c("useRTWebCometStartCallCallback")(),j;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=c("JSResourceForInteraction")("MWChatRestrictedUserInGroupInterstitialDialog.react").__setRef("useMWV2StartGroupCall"),f[0]=j):j=f[0];j=c("useMWXLazyDialog")(j);var k=j[0];f[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=c("JSResourceForInteraction")("MWGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useMWV2StartGroupCall"),f[1]=j):j=f[1];j=c("useMWXLazyDialog")(j);var l=j[0],m;f[2]!==b||f[3]!==a||f[4]!==l||f[5]!==k||f[6]!==g||f[7]!==e?(j=function(f){var j,m=f.jid,n=f.ongoingCallServerInfoData,o=f.otherParticipantId,p=f.restrictedUsers,q=f.blockedUsers;f=f.partialThread;p=p===void 0?[]:p;q=q===void 0?[]:q;var r=f.ongoingCallState,s=f.threadKey;f=f.threadType;a();j=(j=d("LSMessagingThreadTypeUtil").isGroup(f))!=null?j:!1;var t=j&&p.length>0;j=j&&q.length>0;var u={existingCall:n!=null?{call_state:c("getRTCCallStateOfLSRTCCallState")((h||(h=d("LSIntEnum"))).unwrapIntEnum(r),(h||(h=d("LSIntEnum"))).unwrapIntEnum(f)),initiator_fbid:null,server_info_data:n}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isArmadilloSecure(f),mediaType:b,thread:{e2eeThreadID:m!=null?(i||(i=d("I64"))).to_string(m):void 0,id:(i||(i=d("I64"))).to_string(s),secureOneToOneThreadPeerId:o!=null&&(i||(i=d("I64"))).equal(f,(h||(h=d("LSIntEnum"))).ofNumber(15))?(i||(i=d("I64"))).to_string(o):void 0,type:(h||(h=d("LSIntEnum"))).unwrapIntEnum(f)},trigger:e};if(j)return l({blockedUsers:q,onContinue:function(){return g(u)},threadKey:s});if(t)return k({onContinue:function(){return g(u)},restrictedUsers:p});c("ZenonProductConnectFunnel").setUITriggered();return g(u)},m=[a,b,e,g,k,l],f[2]=b,f[3]=a,f[4]=l,f[5]=k,f[6]=g,f[7]=e,f[8]=j,f[9]=m):(j=f[8],m=f[9]);return d("Int64Hooks").useCallbackInt64(j,m)}g["default"]=a}),98);
__d("useMWReQLStartGroupCall",["Actor","I64","Int64Hooks","LSContactBitOffset","ReQL","promiseDone","react-compiler-runtime","useAsyncReStore","useBlockedUserInterstitial","useMWV2StartGroupCall"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=d("react-compiler-runtime").c(8),h=a.ongoingCallState,m=a.threadKey,n=a.threadType,o=c("useAsyncReStore")();a=d("Actor").useActor();var p=a[0],q=c("useMWV2StartGroupCall")(b,e,f);g[0]!==p||g[1]!==o||g[2]!==h||g[3]!==q||g[4]!==m||g[5]!==n?(a=function(){c("promiseDone")(o,async function(a){var b;b=await Promise.all([(b=d("ReQL")).firstAsync(b.fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(m).map(i)),b.firstAsync(k(a,m,p)),b.firstAsync(l(a,m)),b.toArrayAsync(j(a,m)),b.toArrayAsync(await d("useBlockedUserInterstitial").getBlockedUserQuery(a,m,n))]);a=b[0];var c=b[1],e=b[2],f=b[3];b=b[4];q({blockedUsers:b,jid:a,ongoingCallServerInfoData:e,otherParticipantId:c,partialThread:{ongoingCallState:h,threadKey:m,threadType:n},restrictedUsers:f})})},b=[o,m,n,q,h,p],g[0]=p,g[1]=o,g[2]=h,g[3]=q,g[4]=m,g[5]=n,g[6]=a,g[7]=b):(a=g[6],b=g[7]);return d("Int64Hooks").useCallbackInt64(a,b)}function i(a){return a.jid}var j=function(a,b){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b).take(20),d("ReQL").fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(66,a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a})},k=function(a,b,c){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,h.of_string(c))}).map(function(a){return a.contactId})},l=function(a,b){return d("ReQL").fromTableAscending(a.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})};g.default=a}),98);
__d("useMWResponsiveCloseOnHide",["MWResponsiveLayoutContext.react","MWResponsiveLayoutShowState","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a,b){var e=d("react-compiler-runtime").c(7),f=a,g=i(c("MWResponsiveLayoutContext.react")),h=d("MWResponsiveLayoutShowState").getCardShowState(f,g)==="hidden",k=c("usePrevious")(h),l;e[0]!==b||e[1]!==g||e[2]!==h||e[3]!==a||e[4]!==k?(f=function(){h&&Boolean(k)===!1&&(g.popCard(a),b())},l=[k,h,a,g,b],e[0]=b,e[1]=g,e[2]=h,e[3]=a,e[4]=k,e[5]=f,e[6]=l):(f=e[5],l=e[6]);return j(f,l)}g["default"]=a}),98);
__d("useMWV2ComposerOnFilesSelected",["react","react-compiler-runtime","useMWIsHDMediaEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=c("useMWIsHDMediaEnabled")(),f;b[0]!==e||b[1]!==a?(f=function(b){b=Array.from(b);if(b.length>0)return a(b,e)},b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MSGRVideoMetadataProvider",["CometProductAttribution","MediaPlaybackCompoundEventUtils","MediaPlaybackMetadataProvider","PlaybackSpeedExperiments","VideoPlayerConnectionQuality","getPlayerFormatForLogData","getVideoBrowserTabId"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){var b,e=a.logDataAdditions,f=a.loggingMetaData,g=a.state;a=f.productAttribution!=null?d("CometProductAttribution").minifyProductAttributionV2(f.productAttribution):void 0;var h=f.coreVideoPlayerMetaData.canAutoplay==="allow",i=JSON.stringify(f.coreVideoPlayerMetaData.autoplayGatingResult?[f.coreVideoPlayerMetaData.autoplayGatingResult]:[]),j=d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.availableQualities.length),k=g.controlledState.captionsVisible?"on":"off",l=d("MediaPlaybackCompoundEventUtils").getMediaPlaybackDataConnectionQuality(d("VideoPlayerConnectionQuality").evaluate(function(){return g.uncontrolledState.estimatedBandwidth}));b=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(b=g.controlledState.isDesktopPictureInPicture)!=null?b:!1,isFullscreen:g.uncontrolledState.isFullscreen},f.coreVideoPlayerMetaData.playerFormat);var m=!(g.controlledState.muted||g.controlledState.volume===0),n=g.controlledState.lastPlayReason!=null?d("MediaPlaybackCompoundEventUtils").getMediaPlaybackPlayReason(g.controlledState.lastPlayReason):null,o;if(d("PlaybackSpeedExperiments").enablePlaybackSpeedLogging()){var p=g.uncontrolledState.videoElementPlaybackRate;p!==null&&p!==0&&(o=p)}p={attribution_id_v2:a,audio_representation_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.audioRepresentationID),autoplay_eligible:h,autoplay_failure_reasons:i,autoplay_setting:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(f.coreVideoPlayerMetaData.autoplaySetting),available_qualities_count:j,caption_format:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.controlledState.captionFormat),caption_locale:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.controlledState.captionsLocale),caption_state:k,client_latency_setting:g.controlledState.latencyLevel,dash_manifest_identifier:g.uncontrolledState.manifestIdentifier,data_connection_quality:l,downstream_share_origin_uri:(p=f.downstreamShareSignalTracking)==null?void 0:p.downstream_share_session_origin_uri,downstream_share_start_time:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata((a=f.downstreamShareSignalTracking)==null?void 0:a.downstream_share_session_start_time),downstream_share_visit_uuid:(h=f.downstreamShareSignalTracking)==null?void 0:h.downstream_share_session_id,external_log_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(f.coreVideoPlayerMetaData.externalLogID),external_log_type:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(f.coreVideoPlayerMetaData.externalLogType),is_abr_enabled:g.isAbrEnabled,is_fbms:(i=g.uncontrolledState.isFBMS)!=null?i:void 0,is_live_video_rewound:g.controlledState.isLiveRewindActive,is_mixed_codec_manifest:(j=g.uncontrolledState.isMixedCodecManifest)!=null?j:void 0,is_predictive_playback:g.uncontrolledState.isPredictiveDash,mpd_validation_errors:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.mpdValidationErrors),playback_speed:o,player_format:b,player_sound_on:m,projection:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.videoProjection),streaming_format:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.controlledState.streamingFormat),video_bandwidth:(k=g.uncontrolledState.estimatedBandwidth)!=null?k:void 0,video_chaining_depth_level:e.video_chaining_depth_level,video_chaining_parent_video_id:e.video_chaining_parent_video_id,video_chaining_session_id:e.video_chaining_session_id,video_play_reason:n,video_projection:(l=g.uncontrolledState.videoProjection)!=null?l:void 0,video_representation_id:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(g.uncontrolledState.videoRepresentationID),view_height:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.round(f.dimensions.height)),view_width:d("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.round(f.dimensions.width))};return p};function a(){return{getErrorMetadata:d("MediaPlaybackMetadataProvider").getSNAPLErrorMetadataCommon,getRequiredMetadata:function(a){var b,e,f=a.loggingMetaData;a=a.state;b=(b=f.coreVideoPlayerMetaData.isLiveStreaming)!=null?b:void 0;var g=f.coreVideoPlayerMetaData.adClientToken==null?"organic":"paid",h=f.productAttribution!=null?d("MediaPlaybackCompoundEventUtils").minifyProductAttributionV2Root(f.productAttribution):null,i=a.controlledState.lastPlayReason!=null?d("MediaPlaybackCompoundEventUtils").getMediaPlaybackPlayReason(a.controlledState.lastPlayReason):null;e=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(e=a.controlledState.isDesktopPictureInPicture)!=null?e:!1,isFullscreen:a.uncontrolledState.isFullscreen},f.coreVideoPlayerMetaData.playerFormat);var j=f.productAttribution!=null?d("CometProductAttribution").minifyProductAttributionV2(f.productAttribution):void 0;j={browser_tab_id:c("getVideoBrowserTabId")(),current_watching_module:"",encrypted_logging_policy:"encrypted_only",is_live_streaming:b,media_id:"-1",nav_chain:j,persistent_id:(b=f.coreVideoPlayerMetaData.videoFBID)!=null?b:null,player_format:e,player_origin:f.coreVideoPlayerMetaData.playerOriginOverride,player_suborigin:f.coreVideoPlayerMetaData.subOrigin,player_version:a.playerVersion,sessionizer_nav_chain:h,tracking_data_encrypted:f.trackingDataEncrypted,tracking_type:g,video_play_reason:i};return j},getTagMetadata:function(a){var b=a.logDataAdditions,c=a.loggingMetaData;a=a.state;b=h({logDataAdditions:b,loggingMetaData:c,state:a});return b}}}g.creatMSGRVideoMetadataProvider=a}),98);
__d("CometVideoPlayerLoggingConfigForMWChat",["CometVideoPlayerLoggingConfigForDisabledLogging","MSGRVideoMetadataProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a==null?void 0:a.disableLogging)===!0?d("CometVideoPlayerLoggingConfigForDisabledLogging").createCometVideoPlayerLoggingConfigForDisabledLogging():{loggingToSNAPLCreateMetadataProvider:d("MSGRVideoMetadataProvider").creatMSGRVideoMetadataProvider,loggingToSNAPLEnabled:(a==null?void 0:a.withMWChatSNAPLGK)===!0?c("gkx")("12325"):void 0}}g.createCometVideoPlayerLoggingConfigForMWChat=a}),98);
__d("FBIconChevronLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M457.905 1075.53a.75.75 0 0 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 0 0 1.06-1.06l-3.97-3.97 3.97-3.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconChevronRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M454.095 1083.47a.75.75 0 1 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06l-4.5-4.5a.75.75 0 0 0-1.06 1.06l3.97 3.97-3.97 3.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconEyeCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M102 917.5a1.5 1.5 0 0 0-.294 2.97l1.291-2.583a1.489 1.489 0 0 0-.997-.387",transform:"translate(353.5 157) translate(.5 3.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M101.024 921.834a3 3 0 1 1 2.658-5.318l.547-1.093a5.992 5.992 0 0 0-2.218-.423c-3.344 0-5.33 2.694-5.859 3.519a.97.97 0 0 0 0 1.042c.434.68 1.893 2.657 4.38 3.258l.492-.985zm6.827-3.311c-.333-.524-1.247-1.797-2.723-2.66l-.694 1.388A2.98 2.98 0 0 1 105 919a2.998 2.998 0 0 1-2.94 2.997l-.49.981c.145.011.29.022.44.022 3.402 0 5.33-2.635 5.841-3.443a.973.973 0 0 0 0-1.034",transform:"translate(353.5 157) translate(.5 3.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m100.447 927.724 5-10a.5.5 0 0 0-.894-.448l-5 10a.5.5 0 0 0 .894.448z",transform:"translate(353.5 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconHdFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M104.632 933H104v3h.632c.41 0 .844-.576.844-1.403v-.194c0-.827-.434-1.403-.844-1.403",transform:"translate(354 145)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M107.023 934.598c0 1.627-1.063 2.902-2.391 2.902h-1.382a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 .75-.75h1.382c1.328 0 2.391 1.275 2.391 2.902v.196zm-5.523 2.152a.75.75 0 0 1-1.5 0v-1.25h-1.5v1.25a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 1.5 0V934h1.5v-1.75a.75.75 0 0 1 1.5 0v4.5zm6.44-3.895c-.068-.835-.145-1.332-.416-1.916a3.457 3.457 0 0 0-1.533-1.485.48.48 0 0 0-.047-.02l-.026-.008c-.475-.214-.917-.276-1.792-.345a28.09 28.09 0 0 0-4.254 0c-.768.06-1.277.115-1.883.381A3.46 3.46 0 0 0 96.45 931l-.013.033c-.236.498-.31.985-.377 1.825a25.389 25.389 0 0 0 0 3.287c.068.837.146 1.334.417 1.916.325.63.883 1.17 1.532 1.485a.377.377 0 0 0 .049.02l.024.009c.476.213.918.276 1.793.345a28.103 28.103 0 0 0 4.253 0c.768-.061 1.278-.116 1.884-.382a3.47 3.47 0 0 0 1.54-1.538l.013-.034c.235-.497.308-.983.376-1.824.072-.936.072-2.348 0-3.285v-.002z",transform:"translate(354 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconInfoCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M456 1077.5a1.001 1.001 0 0 1 0-2 1.001 1.001 0 0 1 0 2zm1 5.5a.75.75 0 0 1-1.5 0v-3h-.25a.75.75 0 0 1 0-1.5h1a.75.75 0 0 1 .75.75v3.75zm-1-9.5c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("InformTreatmentTitle",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MISINFORMATION:"misinformation",FALSE_NEWS:"false_news",MISLEADING_NEWS:"misleading_news",MISSING_CONTEXT:"missing_context",ALTERED_MEDIA:"altered_media",AI_GENERATED_CONTENT:"ai_generated_content"});c=a;f["default"]=c}),66);
__d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType",["WAArmadilloXMA.pb","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Not a valid ExtendedContentOverlayIconGlyph: ",""]);h=function(){return a};return a}function a(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:return"media_label";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return"post_label";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE:return null;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:default:d("WALogger").ERROR(h(),a);return"warning_screens"}}g.convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType=a}),98);
__d("MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9834610223284602"}),null);
__d("MWAnimatedImageControlsUtilCometSettingsQuery.graphql",["MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoSettings",kind:"LinkedField",name:"video_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_setting_www",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWAnimatedImageControlsUtilCometSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWAnimatedImageControlsUtilCometSettingsQuery",selections:a},params:{id:b("MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWAnimatedImageControlsUtilCometSettingsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9439828062807168"}),null);
__d("MWAnimatedImageControlsUtilMWSettingsQuery.graphql",["MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"msgr_gif_autoplay",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWAnimatedImageControlsUtilMWSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWAnimatedImageControlsUtilMWSettingsQuery",selections:a},params:{id:b("MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWAnimatedImageControlsUtilMWSettingsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWAnimatedImageControlsUtil",["$InternalEnum","CometRelay","MWAnimatedImageControlsUtilCometSettingsQuery.graphql","MWAnimatedImageControlsUtilMWSettingsQuery.graphql","MetaConfig","gkx","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useEffect,l=e.useState,m=b("$InternalEnum").Mirrored(["NOT_FETCHED_YET","OFF","ON"]);function a(){var a=d("react-compiler-runtime").c(3),b=d("CometRelay").useRelayEnvironment(),e=l(null),f=e[0],g=e[1],h=c("gkx")("20836"),i;a[0]!==b?(e=function(){h||c("promiseDone")(n(b).then(g))},i=[b,h],a[0]=b,a[1]=e,a[2]=i):(e=a[1],i=a[2]);k(e,i);if(h)return m.ON;switch(f){case null:return m.NOT_FETCHED_YET;case!0:return m.ON;case!1:return m.OFF;default:return m.NOT_FETCHED_YET}}async function n(a){var e=c("MetaConfig")._("37");if(e){e=await d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("MWAnimatedImageControlsUtilMWSettingsQuery.graphql"),{}).toPromise();return(e==null?void 0:(e=e.viewer)==null?void 0:e.msgr_gif_autoplay)==="ON"}else{e=await d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MWAnimatedImageControlsUtilCometSettingsQuery.graphql"),{}).toPromise();a=e==null?void 0:(a=e.viewer)==null?void 0:(e=a.video_settings)==null?void 0:e.autoplay_setting_www;if(a==="on")return!0;else return!1}}g.MWAutoplayAnimationsSetting=m;g.useGetMessengerAutoplaySetting=a}),98);
__d("useGetMediaGroupStyles",["MWLSThreadDisplayContext","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i=180,j=120;function a(a,b){var e=d("react-compiler-runtime").c(40),f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",g=null;if(b===2&&f){var h;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(h="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1isuwpm xq1dxzn",e[0]=h):h=e[0];g=h}else if(b===2&&!f){e[1]===Symbol["for"]("react.memo_cache_sentinel")?(h="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1en3kgc xafpxmx",e[1]=h):h=e[1];g=h}else if(b===3&&f){e[2]===Symbol["for"]("react.memo_cache_sentinel")?(h="x78zum5 xdt5ytf x6ikm8r x10wlt62 xu3xrit xq1dxzn",e[2]=h):h=e[2];g=h}else if(b===3&&!f){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(h="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1egiwwb xafpxmx",e[3]=h):h=e[3];g=h}else if(b===4&&f){e[4]===Symbol["for"]("react.memo_cache_sentinel")?(h={0:"x78zum5 xdt5ytf x6ikm8r x10wlt62 x89wwaf x1gslohp xh6lk7j",1:"x78zum5 xdt5ytf x6ikm8r x10wlt62 x89wwaf xh6lk7j xdj266r"}[!!(c("gkx")("1353")===!0)<<0],e[4]=h):h=e[4];g=h}else if(b===4&&!f){e[5]===Symbol["for"]("react.memo_cache_sentinel")?(h={0:"x78zum5 xdt5ytf x6ikm8r x10wlt62 x1gyaxfs x1gslohp xt4sqew",1:"x78zum5 xdt5ytf x6ikm8r x10wlt62 x1gyaxfs xt4sqew xdj266r"}[!!(c("gkx")("1353")===!0)<<0],e[5]=h):h=e[5];g=h}if(f){e[6]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x1exxf4d x1y71gwh x1nb4dca xu1343h xy80clv xm81vs4 x1tlxs6b x1g8br2z x1gn5b1j x230xth x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x78zum5 xl56j7k x6ikm8r x10wlt62 x10l6tqk x1wkxgih x1mu601j x2aouup xi3av73 x1i9suas xygnafs",e[6]=h):h=e[6];h=h}else{var k;e[7]===Symbol["for"]("react.memo_cache_sentinel")?(k="x6s0dn4 x1exxf4d x1y71gwh x1nb4dca xu1343h xy80clv xm81vs4 x1tlxs6b x1g8br2z x1gn5b1j x230xth x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x78zum5 x1b51vyi xl56j7k x19aweqf x1e4dklr x1shn012 xfb3i0g x6ikm8r x10wlt62 x10l6tqk xzjbwwf",e[7]=k):k=e[7];h=k}e[8]===Symbol["for"]("react.memo_cache_sentinel")?(k=[{bottom:0,left:17},{bottom:6,left:8,transform:"rotate(-4deg)"},{bottom:12,right:8,transform:"rotate(4deg)"},{bottom:18,left:8,transform:"rotate(-4deg)"}],e[8]=k):k=e[8];var l=a?null:0,m=a?0:null,n;e[9]!==l||e[10]!==m?(n={left:l,right:m,top:0},e[9]=l,e[10]=m,e[11]=n):n=e[11];l=a?0:null;m=a?null:0;var o=f?100:160,p;e[12]!==l||e[13]!==m||e[14]!==o?(p={left:l,right:m,top:o},e[12]=l,e[13]=m,e[14]=o,e[15]=p):p=e[15];l=a?null:0;m=a?0:null;e[16]!==m||e[17]!==l?(o={bottom:0,left:l,right:m},e[16]=m,e[17]=l,e[18]=o):o=e[18];e[19]!==o||e[20]!==n||e[21]!==p?(m=[n,p,o],e[19]=o,e[20]=n,e[21]=p,e[22]=m):m=e[22];l=a?0:null;o=a?null:0;e[23]!==l||e[24]!==o?(n={left:l,right:o,top:0},e[23]=l,e[24]=o,e[25]=n):n=e[25];p=a?null:0;l=a?0:null;e[26]!==p||e[27]!==l?(o={bottom:0,left:p,right:l},e[26]=p,e[27]=l,e[28]=o):o=e[28];e[29]!==n||e[30]!==o?(a=[n,o],e[29]=n,e[30]=o,e[31]=a):a=e[31];e[32]!==m||e[33]!==a?(p={fourImageTile:k,threeImageTile:m,twoImageTile:a},e[32]=m,e[33]=a,e[34]=p):p=e[34];l=p;n=l;o=b===2?n.twoImageTile:b===3?n.threeImageTile:n.fourImageTile;k=f?j:i;e[35]!==g||e[36]!==o||e[37]!==k||e[38]!==h?(m={containerStyles:g,coordinations:o,imageSize:k,wrapperStyles:h},e[35]=g,e[36]=o,e[37]=k,e[38]=h,e[39]=m):m=e[39];return m}function b(a,b,c){var e=d("react-compiler-runtime").c(4),f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",g=1,h=1;if(a!==!0||b===0||c===0){var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={resizeRatio:1,scaleRatio:1},e[0]=k):k=e[0];return k}a===!0&&b!=null&&c!=null&&(b>=c?g=Math.ceil((f?j:i)/c):g=Math.ceil((f?j:i)/b));a===!0&&g===1&&b!=null&&c!=null&&(h=b>c?b/c:c/b);e[1]!==g||e[2]!==h?(k={resizeRatio:g,scaleRatio:h},e[1]=g,e[2]=h,e[3]=k):k=e[3];return k}g.IMAGE_SIZE=i;g.IMAGE_SIZE_CHAT_TAB=j;g.useGetMediaGroupStyles=a;g.useGetMediaGroupTileImageRatios=b}),98);
__d("MWMessageListImageSizingUtils",["justknobx","useGetMediaGroupStyles"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(e===!0)return{maxHeight:b==="Inbox"?d("useGetMediaGroupStyles").IMAGE_SIZE:d("useGetMediaGroupStyles").IMAGE_SIZE_CHAT_TAB,maxWidth:b==="Inbox"?d("useGetMediaGroupStyles").IMAGE_SIZE:d("useGetMediaGroupStyles").IMAGE_SIZE_CHAT_TAB};return b!=="Inbox"&&b!=="ChatTab"||a?{maxHeight:200,maxWidth:480}:{maxHeight:b==="Inbox"?c("justknobx")._("2546"):c("justknobx")._("2547"),maxWidth:b==="Inbox"?c("justknobx")._("2548"):c("justknobx")._("2549")}}g.getMaxPreviewHeightAndWidth=a}),98);
__d("MWXIconEyeCross",["MWXSvgIcon","SVGIcon","cr:12408","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12408")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconInfoCircle",["MWXSvgIcon","SVGIcon","cr:12467","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12467")),c("gkx")("23219"));g["default"]=a}),98);
__d("MessengerWellbeingInformTreatmentFalcoEventLogger",["$InternalEnum","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MwbCmInformTreatmentEventFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger"),i=c("requireDeferred")("MwbInformTreatmentShownImpressionFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger");e=b("$InternalEnum")({AI_GENERATED_CONTENT:"ai_generated_content",MISINFORMATION:"misinformation"});function a(a){var b=babelHelpers["extends"]({},a);h.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}function d(a){var b=babelHelpers["extends"]({},a);i.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}g.MWInformTreatmentEventName=e;g.logForCM=a;g.logForPrivateChats=d}),98);
__d("useMWInformTreatmentFalcoEventLogger",["I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWLSThread","MessengerWellbeingInformTreatmentFalcoEventLogger","ReQL","ReQLSuspense","react-compiler-runtime","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(30),e=a.message,g=(j||(j=c("useReStore")))(),k=d("MWLSThread").useThreadExn(e.threadKey);a=c("useCommunityFolder")(k);var l=(a=a==null?void 0:a.fbGroupId)!=null?a:(h||(h=d("I64"))).zero;b[0]!==k.threadType?(a=d("LSMessagingThreadTypeUtil").isPublicCMThread(k.threadType),b[0]=k.threadType,b[1]=a):a=b[1];var m=a;b[2]!==k?(a=d("LSMessagingThreadTypeUtil").isOpenFnFThread(k),b[2]=k,b[3]=a):a=b[3];var n=a,o=!(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1)),p;b[4]!==g.tables.attachments||b[5]!==o||b[6]!==e.messageId||b[7]!==e.threadKey?(a=function(){return o?d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(e.threadKey,e.messageId):d("ReQL").empty()},p=[o,g.tables.attachments,e.threadKey,e.messageId],b[4]=g.tables.attachments,b[5]=o,b[6]=e.messageId,b[7]=e.threadKey,b[8]=a,b[9]=p):(a=b[8],p=b[9]);var q=d("ReQLSuspense").useFirst(a,p,f.id+":63");b[10]!==(q==null?void 0:q.attachmentFbid)||b[11]!==l||b[12]!==n||b[13]!==m||b[14]!==e.isForwarded||b[15]!==e.messageId||b[16]!==e.threadKey||b[17]!==k.threadSubtype||b[18]!==k.threadType?(a=function(a,b){if(m)d("MessengerWellbeingInformTreatmentFalcoEventLogger").logForCM({attachment_id:q==null?void 0:q.attachmentFbid,event_name:a,group_id:(h||(h=d("I64"))).to_string(l),inform_treatment:b!=null?{name:b.name,type:b.type}:void 0,is_forward:e.isForwarded,message_id:e.messageId,thread_id:h.to_string(e.threadKey),thread_subtype:k.threadSubtype!=null?(i||(i=d("LSIntEnum"))).unwrapIntEnum(k.threadSubtype):void 0});else if(n&&a==="impression"){d("MessengerWellbeingInformTreatmentFalcoEventLogger").logForPrivateChats({inform_treatment_name:b!=null?b==null?void 0:b.name:void 0,inform_treatment_type:(a=b==null?void 0:b.type)!=null?a:void 0,thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(k.threadType)})}},b[10]=q==null?void 0:q.attachmentFbid,b[11]=l,b[12]=n,b[13]=m,b[14]=e.isForwarded,b[15]=e.messageId,b[16]=e.threadKey,b[17]=k.threadSubtype,b[18]=k.threadType,b[19]=a):a=b[19];p=q==null?void 0:q.attachmentFbid;var r;b[20]!==l||b[21]!==n||b[22]!==m||b[23]!==e.isForwarded||b[24]!==e.messageId||b[25]!==e.threadKey||b[26]!==p||b[27]!==k.threadSubtype||b[28]!==k.threadType?(r=[p,l,n,m,e.isForwarded,e.messageId,e.threadKey,k.threadSubtype,k.threadType],b[20]=l,b[21]=n,b[22]=m,b[23]=e.isForwarded,b[24]=e.messageId,b[25]=e.threadKey,b[26]=p,b[27]=k.threadSubtype,b[28]=k.threadType,b[29]=r):r=b[29];return d("Int64Hooks").useCallbackInt64(a,r)}g["default"]=a}),98);
__d("MWInformedTreatment.react",["fbt","FDSBlurredBackgroundImage.react","LSMessagingThreadTypeUtil","MWXColumn.react","MWXColumnItem.react","MWXIconEyeCross","MWXIconInfoCircle","MWXIconStrict.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","qex","react","react-compiler-runtime","useMWInformTreatmentFalcoEventLogger","useMergeRefs","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={overlay:{paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm",width:"xh8yej3",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}},m={AI_GENERATED_CONTENT:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"AI info")},ALTERED_MEDIA:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Altered media")},ALTERED_PHOTO:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Altered photo")},CRUEL:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Cruel content")},FALSE_NEWS:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"False information")},MISLEADING_NEWS:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"Partly false")},MISSING_CONTEXT:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"Missing context")},SENSITIVE:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Sensitive content")},VIOLENCE:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Sensitive content")}},n=h._(/*BTDS*/"View post for more info");function a(a,b,e,f){if(f==null||a==null||b==null||e==null)return!1;b=a==="ai_generated_content";e=f!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(f);a=f!=null&&d("LSMessagingThreadTypeUtil").isPublicCMThread(f);if(b)return c("qex")._("1581")===!0;else return e||a}function o(a){switch(a){case"ai_generated_content":return"ai_generated_content";case"misinformation":return"misleading_news";case"misleading_news":return"missing_context";case"missing_context":return"altered_media";case"altered_media":return"altered_media";case"false_news":return"false_news";default:return null}}function b(a){var b=d("react-compiler-runtime").c(34),e=a.dimension,g=a.gatingTitle,h=a.gatingType,j=a.isXMA,r=a.mediaRenderQpl,s=a.messageId,t=a.previewUrl,u=a.xstyle,v=j===void 0?!1:j,w=t===void 0?"":t,x=(i||(i=c("useReStore")))();b[0]!==x.tables.messages||b[1]!==s?(a=function(){return d("ReQL").fromTableAscending(x.tables.messages.index("messageId")).getKeyRange(s)},b[0]=x.tables.messages,b[1]=s,b[2]=a):a=b[2];b[3]!==x||b[4]!==s?(j=[x,s],b[3]=x,b[4]=s,b[5]=j):j=b[5];t=d("ReQLSuspense").useFirstExn(a,j,f.id+":252");var y=c("gkx")("23219"),z=q;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){var b;a=z(a);return a==null||((b=m[a])==null?void 0:b.icon)==null?c("MWXIconEyeCross"):m[a].icon},b[6]=a):a=b[6];var A=a;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(a){var b;a=z(a);return a==null||((b=m[a])==null?void 0:b.text)==null?null:m[a].text},b[7]=j):j=b[7];var B=j;b[8]!==g||b[9]!==v?(a=function(a){switch(a){case"warning_screens":return k.jsx("div",babelHelpers["extends"]({className:"xtzzx4i x10l6tqk xwa60dl x11lhmoz xh8yej3"},{children:k.jsxs(c("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:A(g),size:32})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:y?"bodyLink3":"bodyLink4",children:B(g)})}),v?k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"white",type:y?"meta3":"meta4",children:n})}):null]})}));case"media_label":case"post_label":return k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x1gevrdp x1fk37vd xdy0ngz xqb0rpr x1tp0a3f x107yiy2 xv8uw2v x1tfwpuw x2g32xy x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xe80o0v x1ihrfj4 x78zum5 x10w6t97 x1k3u6ij xyqdw3p x1iji9kk xg8j3zb x16hj40l x10l6tqk xpse7mg x1tk7jg1 xuxw1ft x1vvkbs"},{children:[k.jsx(c("MWXIconStrict.react"),{color:"white",icon:A(g),size:24}),k.jsx(c("MWXText.react"),{align:"center",color:"white",type:y?"bodyLink3":"bodyLink4",children:B(g)})]}));default:return null}},b[8]=g,b[9]=v,b[10]=a):a=b[10];j=a;var C=p;b[11]!==e||b[12]!==r||b[13]!==w||b[14]!==u?(a=function(a){switch(a){case"media_label":case"post_label":return k.jsx("div",{style:e,children:k.jsx(c("MWXImage.react"),{alt:"",onError:function(){return r==null?void 0:r.endFail("load-image-error")},onLoad:function(){return r==null?void 0:r.endSuccess()},src:w,xstyle:l.post})});case"warning_screens":default:return k.jsxs("div",{style:e,children:[k.jsx(c("FDSBlurredBackgroundImage.react"),{alt:"",onError:function(){return r==null?void 0:r.endFail("load-image-error")},onLoad:function(){return r==null?void 0:r.endSuccess()},src:w,xstyle:[l.post,u,l.overlay]}),k.jsx("div",{className:"x18l40ae x1ey2m1c xtea3wc xds687c x17qophe x47corl x10l6tqk x13vifvy"})]})}},b[11]=e,b[12]=r,b[13]=w,b[14]=u,b[15]=a):a=b[15];a=a;var D;b[16]===Symbol["for"]("react.memo_cache_sentinel")?(D={eventName:"inform_treatment_chat_impression"},b[16]=D):D=b[16];D=c("MessengerWebUXLogger").useImpressionLoggerRef(D);var E;b[17]!==t?(E={message:t},b[17]=t,b[18]=E):E=b[18];var F=c("useMWInformTreatmentFalcoEventLogger")(E);b[19]!==g||b[20]!==h||b[21]!==F?(t={onImpressionStart:function(){var a=o(g),b=C(h.toLocaleLowerCase());a!=null&&b!=null&&F("impression",{name:a,type:b})}},b[19]=g,b[20]=h,b[21]=F,b[22]=t):t=b[22];E=c("useSinglePartialViewImpression")(t);t=c("useMergeRefs")(D,E);b[23]===Symbol["for"]("react.memo_cache_sentinel")?(D={className:"x78zum5 x5yr21d x1n2onr6 xh8yej3"},b[23]=D):D=b[23];b[24]!==h||b[25]!==a?(E=a(h.toLocaleLowerCase()),b[24]=h,b[25]=a,b[26]=E):E=b[26];b[27]!==h||b[28]!==j?(a=j(h.toLocaleLowerCase()),b[27]=h,b[28]=j,b[29]=a):a=b[29];b[30]!==t||b[31]!==E||b[32]!==a?(j=k.jsxs("div",babelHelpers["extends"]({},D,{ref:t,children:[E,a]})),b[30]=t,b[31]=E,b[32]=a,b[33]=j):j=b[33];return j}function p(a){switch(a){case"warning_screens":case"media_label":case"post_label":return a;default:return null}}function q(a){var b=Object.keys(m).find(function(b){return b===a.toUpperCase()});return b}g.checkIsInformedTreatmentVisible=a;g.getEventTitle=o;g.MWInformedTreatment=b}),226);
__d("MWXIconHd",["MWXSvgIcon","SVGIcon","cr:12459","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12459")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMessageBubbleCornerStyles.react",[],(function(a,b,c,d,e,f,g){"use strict";var h={flatBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},flatTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},rounded:{borderTopStartRadius:"xp5s12f",borderTopEndRadius:"x11ucwad",borderBottomEndRadius:"xgtuqic",borderBottomStartRadius:"x155c047",$$css:!0}},i={connectBottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectTop:{borderTopStartRadius:"x1lcm9me",$$css:!0}},j={connectBottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b,c,d,e;b=(b=a==null?void 0:a.align)!=null?b:"left";c=(c=a==null?void 0:a.connectBottom)!=null?c:!1;d=(d=a==null?void 0:a.connectTop)!=null?d:!1;e=(e=a==null?void 0:a.flatten)!=null?e:"none";a=(a=a==null?void 0:a.corners)!=null?a:"round";b=b==="right"?j:i;return[a==="round"&&h.rounded,d&&b.connectTop,c&&b.connectBottom,(e==="all"||e==="bottom")&&h.flatBottom,(e==="all"||e==="top")&&h.flatTop]}g.getMWXBubbleCornerStyles=a}),98);
__d("MWXAspectRatioContainer.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={childInner:{maxHeight:"xmz0i5r",maxWidth:"x193iq5w",$$css:!0},inner:function(a){return[{paddingBottom:a==null?null:"x18061mc",position:"x1n2onr6",width:"xh8yej3",$$css:!0},{"--paddingBottom":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},outer:function(a,b,c){return[{maxHeight:c==null?null:"x1kb659o",maxWidth:b==null?null:"x10cxd3o",width:a==null?null:"x1bl4301",$$css:!0},{"--maxHeight":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(c),"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(b),"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.height,g=a.maxHeight,i=a.maxWidth;a=a.width;f=a/f;i=i!=null&&g!=null?"min("+i+"px, "+g*f+"px)":g!=null?g*f+"px":i;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x78zum5 x193iq5w"},b[0]=l):l=b[0];if(b[1]!==g||b[2]!==i||b[3]!==a){var m;m=(h||(h=c("stylex"))).props(k.outer(a,(m=i)!=null?m:"initial",(m=g)!=null?m:"initial"));b[1]=g;b[2]=i;b[3]=a;b[4]=m}else m=b[4];b[5]!==f?(g=(h||(h=c("stylex"))).props(k.inner(100/f+"%")),b[5]=f,b[6]=g):g=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x5yr21d x17qophe x10l6tqk x13vifvy xh8yej3"},b[7]=i):i=b[7];b[8]!==e?(a=e==null?void 0:e(k.childInner),b[8]=e,b[9]=a):a=b[9];b[10]!==a?(f=j.jsx("div",babelHelpers["extends"]({},i,{children:a})),b[10]=a,b[11]=f):f=b[11];b[12]!==g||b[13]!==f?(e=j.jsx("div",babelHelpers["extends"]({},g,{children:f})),b[12]=g,b[13]=f,b[14]=e):e=b[14];b[15]!==m||b[16]!==e?(i=j.jsx("div",babelHelpers["extends"]({},l,{children:j.jsx("div",babelHelpers["extends"]({},m,{children:e}))})),b[15]=m,b[16]=e,b[17]=i):i=b[17];return i}g["default"]=a}),98);
__d("MWXMessageImage.react",["BaseImage.react","FDSBlurredBackgroundImage.react","MWXAspectRatioContainer.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:function(a){return[{maxWidth:a==null?null:"x10cxd3o",$$css:!0},{"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},image:{display:"x1lliihq",maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e,f,g,i,l,m,n,o,p;b[0]!==a?(e=a.children,f=a.height,i=a.maxHeight,l=a.maxWidth,m=a.renderImagePlaceholder,n=a.shouldBlur,o=a.width,p=a.xstyle,g=babelHelpers.objectWithoutPropertiesLoose(a,["children","height","maxHeight","maxWidth","renderImagePlaceholder","shouldBlur","width","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9]);if(b[10]!==f||b[11]!==g||b[12]!==i||b[13]!==l||b[14]!==m||b[15]!==n||b[16]!==o){a=o==null||f==null?j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.container(l)),{children:(a=m==null?void 0:m())!=null?a:j.jsx(c("BaseImage.react"),babelHelpers["extends"]({},g,{objectFit:"contain",style:{maxHeight:i+"px"},xstyle:k.image}))})):j.jsx(c("MWXAspectRatioContainer.react"),{height:f,maxHeight:i,maxWidth:l,width:o,children:function(a){var b;return(b=m==null?void 0:m())!=null?b:n!==!0?j.jsx(c("BaseImage.react"),babelHelpers["extends"]({height:f,width:o,xstyle:a},g)):j.jsx(c("FDSBlurredBackgroundImage.react"),babelHelpers["extends"]({xstyle:a},g))}});b[10]=f;b[11]=g;b[12]=i;b[13]=l;b[14]=m;b[15]=n;b[16]=o;b[17]=a}else a=b[17];i=a;b[18]!==p?(l=(h||(h=c("stylex"))).props(p),b[18]=p,b[19]=l):l=b[19];b[20]!==e||b[21]!==i||b[22]!==l?(a=j.jsxs("div",babelHelpers["extends"]({},l,{children:[i,e]})),b[20]=e,b[21]=i,b[22]=l,b[23]=a):a=b[23];return a}g["default"]=a}),98);
__d("MWPMessageListImage.react",["LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MWInformedTreatment.react","MWLSThread","MWXIconHd","MWXIconStrict.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","MWXPressable.react","MWXThreadThemeColor","ReQL","ReQLSuspense","gkx","react","react-compiler-runtime","stylex","useMWInformTreatmentFalcoEventLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useState,m={appAttr:{alignItems:"x6s0dn4",borderBottomWidth:"xso031l",borderTopColor:"x1pdss0j",borderEndColor:"xtcpoma",borderBottomColor:"x81c4ja",borderStartColor:"x8g6rb3",borderEndWidth:"xm81vs4",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",boxSizing:"x9f619",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingEnd:"xsyo7zv",paddingBottom:"xjkvuk6",paddingStart:"x16hj40l",$$css:!0},appIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xlup9mm",marginEnd:"x1w0mnb",objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},hdOverlay:function(a){return[{end:(a==="end"?"10px":void 0)==null?null:"x8bvjq0",position:"x10l6tqk",start:(a==="start"?"10px":void 0)==null?null:"x1ws1act",left:null,right:null,top:"xuivejd",$$css:!0},{"--end":(a==="end"?"10px":void 0)!=null?a==="end"?"10px":void 0:void 0,"--start":(a==="start"?"10px":void 0)!=null?a==="start"?"10px":void 0:void 0}]},hdOverlayContainer:function(a,b){return[{height:(a!=null?a+"px":"100%")==null?null:"x1f5funs",position:"x10l6tqk",start:"xtzzx4i",left:null,right:null,top:"xwa60dl",transform:"x11lhmoz",width:(b!=null?b+"px":"100%")==null?null:"x1bl4301",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a!=null?a+"px":"100%"),"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(b!=null?b+"px":"100%")}]},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexShrink:"xs83m0k",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(18),e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.outgoing;a=a.xstyle;i=i===!0?"right":"left";var j,l,n,o;if(b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==i||b[4]!==a){n=Symbol["for"]("react.early_return_sentinel");bb0:{var p=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:i,connectBottom:f,connectTop:g,flatten:"top"}),q=e;j=q.attributionAppName;if(j==null){n=null;break bb0}o=q.attributionAppIcon;l=(h||(h=c("stylex"))).props(m.appAttr,a,p)}b[0]=e;b[1]=f;b[2]=g;b[3]=i;b[4]=a;b[5]=j;b[6]=l;b[7]=n;b[8]=o}else j=b[5],l=b[6],n=b[7],o=b[8];if(n!==Symbol["for"]("react.early_return_sentinel"))return n;b[9]!==o?(q=o!=null?k.jsx(c("MWXImage.react"),{alt:"",src:o,xstyle:m.appIcon}):null,b[9]=o,b[10]=q):q=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"xzsf02u x1nxh6w3 x13faqbe"},b[11]=p):p=b[11];b[12]!==j?(e=k.jsx("span",babelHelpers["extends"]({},p,{children:j})),b[12]=j,b[13]=e):e=b[13];b[14]!==l||b[15]!==q||b[16]!==e?(f=k.jsxs("div",babelHelpers["extends"]({},l,{children:[q,e]})),b[14]=l,b[15]=q,b[16]=e,b[17]=f):f=b[17];return f}function o(a){var b=d("react-compiler-runtime").c(11),e=a.attachment,f=a.overlayAlign,g=a.overlayHeight;a=a.overlayWidth;f=f===void 0?"end":f;e=e;e=e.isHd===!0;if(!e)return null;b[0]!==g||b[1]!==a?(e=(h||(h=c("stylex"))).props(m.hdOverlayContainer(g,a)),b[0]=g,b[1]=a,b[2]=e):e=b[2];b[3]!==f?(g=(h||(h=c("stylex"))).props(m.hdOverlay(f)),b[3]=f,b[4]=g):g=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("rgba(255,255,255,0.7)"),icon:c("MWXIconHd"),size:18}),b[5]=a):a=b[5];b[6]!==g?(f=k.jsx("div",babelHelpers["extends"]({},g,{"data-testid":void 0,children:a})),b[6]=g,b[7]=f):f=b[7];b[8]!==e||b[9]!==f?(a=k.jsx("div",babelHelpers["extends"]({},e,{children:f})),b[8]=e,b[9]=f,b[10]=a):a=b[10];return a}function p(a){var b=d("react-compiler-runtime").c(26),e=a.attachment,g=a.height,h=a.setIsBlurredImageVisible;a=a.width;var j=(i||(i=c("useReStore")))(),l;b[0]!==e.messageId||b[1]!==j.tables.messages?(l=function(){return d("ReQL").fromTableAscending(j.tables.messages.index("messageId")).getKeyRange(e.messageId)},b[0]=e.messageId,b[1]=j.tables.messages,b[2]=l):l=b[2];var n;b[3]!==e.messageId||b[4]!==j?(n=[e.messageId,j],b[3]=e.messageId,b[4]=j,b[5]=n):n=b[5];l=d("ReQLSuspense").useFirstExn(l,n,f.id+":169");b[6]!==l?(n={message:l},b[6]=l,b[7]=n):n=b[7];var o=c("useMWInformTreatmentFalcoEventLogger")(n);n=(l=d("MWLSThread").useThread(e.threadKey,q))!=null?l:{isSecureThread:!1,threadType:null};l=n.isSecureThread;n=n.threadType;var p=e.gatingTitle,r=e.gatingType,s=e.previewUrl,t;b[8]!==r||b[9]!==l?(t=l?d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(r,10)):r,b[8]=r,b[9]=l,b[10]=t):t=b[10];r=t;l=d("MWInformedTreatment.react").checkIsInformedTreatmentVisible(p,r,s,n);if(r==null||p==null||!l)return null;t=r==="warning_screens";n=g+"px";l=a!=null?a+"px":"100%";b[11]!==n||b[12]!==l?(g={height:n,width:l},b[11]=n,b[12]=l,b[13]=g):g=b[13];b[14]!==e.messageId||b[15]!==p||b[16]!==r||b[17]!==s||b[18]!==g?(a=k.jsx(d("MWInformedTreatment.react").MWInformedTreatment,{dimension:g,gatingTitle:p,gatingType:r,mediaRenderQpl:null,messageId:e.messageId,previewUrl:s}),b[14]=e.messageId,b[15]=p,b[16]=r,b[17]=s,b[18]=g,b[19]=a):a=b[19];n=a;b[20]!==p||b[21]!==t||b[22]!==n||b[23]!==o||b[24]!==h?(l=t?k.jsx(c("MWXPressable.react"),{onPress:function(){var a=d("MWInformedTreatment.react").getEventTitle(p);h(!0);a!=null&&o("tap_to_reveal",{name:a,type:"warning_screens"})},overlayRadius:"normal",xstyle:m.pressable,children:n}):n,b[20]=p,b[21]=t,b[22]=n,b[23]=o,b[24]=h,b[25]=l):l=b[25];return l}function q(a){return{isSecureThread:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),threadType:a.threadType}}function a(a){var b=d("react-compiler-runtime").c(38),e,f,g,h,i,j,q,s,t;b[0]!==a?(e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.outgoing,j=a.overlayAlign,q=a.overlayHeight,s=a.overlayWidth,t=a.xstyle,h=babelHelpers.objectWithoutPropertiesLoose(a,["attachment","connectBottom","connectTop","outgoing","overlayAlign","overlayHeight","overlayWidth","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i,b[6]=j,b[7]=q,b[8]=s,b[9]=t):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],q=b[7],s=b[8],t=b[9]);a=e.attributionAppName!=null;var u=i===!0?"right":"left";a=a===!0?"bottom":"none";var v;b[10]!==f||b[11]!==g||b[12]!==u||b[13]!==a?(v=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:u,connectBottom:f,connectTop:g,flatten:a}),b[10]=f,b[11]=g,b[12]=u,b[13]=a,b[14]=v):v=b[14];u=v;a=l(!1);v=a[0];var w=a[1];a=(a=d("MWLSThread").useThread(e.threadKey,r))!=null?a:!1;var x=c("gkx")("179"),y=e.gatingTitle==="misinformation"||e.gatingTitle==="misleading_news"||e.gatingTitle==="missing_context"||e.gatingTitle==="missing_context"||e.gatingTitle==="altered_media"||e.gatingTitle==="false_news";y=y&&x;x=!v&&e.gatingTitle!=null&&e.gatingType!=null&&a&&!y;b[15]!==e||b[16]!==h?(v=function(){var a=h,b=a.height,c=a.maxHeight,d=a.maxWidth;a=a.width;return k.jsx(p,{attachment:e,height:b!=null?Math.min(b,c):c,setIsBlurredImageVisible:w,width:a!=null&&d!=null?Math.min(a,d):(b=a)!=null?b:d})},b[15]=e,b[16]=h,b[17]=v):v=b[17];a=v;y=x?a:void 0;b[18]!==u||b[19]!==t?(v=[m.root,t,u],b[18]=u,b[19]=t,b[20]=v):v=b[20];b[21]!==e||b[22]!==f||b[23]!==g||b[24]!==i||b[25]!==t?(x=k.jsx(n,{attachment:e,connectBottom:f,connectTop:g,outgoing:i,xstyle:t}),b[21]=e,b[22]=f,b[23]=g,b[24]=i,b[25]=t,b[26]=x):x=b[26];b[27]!==e||b[28]!==j||b[29]!==q||b[30]!==s?(a=c("gkx")("9576")&&k.jsx(o,{attachment:e,overlayAlign:j,overlayHeight:q,overlayWidth:s}),b[27]=e,b[28]=j,b[29]=q,b[30]=s,b[31]=a):a=b[31];b[32]!==h||b[33]!==y||b[34]!==v||b[35]!==x||b[36]!==a?(u=k.jsxs(c("MWXMessageImage.react"),babelHelpers["extends"]({renderImagePlaceholder:y,xstyle:v},h,{children:[x,a]})),b[32]=h,b[33]=y,b[34]=v,b[35]=x,b[36]=a,b[37]=u):u=b[37];return u}function r(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isPublicCMThread(a.threadType)}g.MWPMessageListImageAppAttribution=n;g.MWPMessageListImageHdWatermark=o;g.InformedTreatment=p;g.MWPMessageListImage=a}),98);
__d("MWV2AttachmentLoadingPlaceholder.react",["InteractionTracingMetrics","MWXAspectRatioContainer.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e=a.connectBottom,f=a.connectTop,g=a.descriptionForLogging,h=a.hasAppAttribution,l=a.hasCornerStyles,m=a.height,n=a.maxHeight,o=a.maxWidth,p=a.mediaRenderQpl,q=a.outgoing,r=a.width,s=a.xstyle,t=l===void 0?!0:l;a=n===void 0?200:n;l=o===void 0?480:o;b[0]!==g||b[1]!==m||b[2]!==p||b[3]!==r?(n=function(){var a={string:{call_site:g}};r!=null&&m!=null?p==null?void 0:p.addPoint("render-loading-placeholder",a):p==null?void 0:p.addPoint("render-loading-placeholder-null-dimensions",a);c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"render-attachment-loading-placeholder","AppTiming",void 0,{call_site:g})});return function(){p==null?void 0:p.addPoint("unmount-loading-placeholder",a),c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"unmount-attachment-loading-placeholder","AppTiming",void 0,{call_site:g})})}},o=[m,p,r,g],b[0]=g,b[1]=m,b[2]=p,b[3]=r,b[4]=n,b[5]=o):(n=b[4],o=b[5]);j(n,o);if(r==null)return null;if(m==null)return null;n=q===!0?"right":"left";o=h===!0?"bottom":"none";b[6]!==e||b[7]!==f||b[8]!==n||b[9]!==o?(q=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:n,connectBottom:e,connectTop:f,flatten:o}),b[6]=e,b[7]=f,b[8]=n,b[9]=o,b[10]=q):q=b[10];var u=q;b[11]!==u||b[12]!==t||b[13]!==s?(h=function(a){return i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[a,k.glimmer,t===!0&&u,s]})},b[11]=u,b[12]=t,b[13]=s,b[14]=h):h=b[14];b[15]!==m||b[16]!==a||b[17]!==l||b[18]!==h||b[19]!==r?(e=i.jsx("div",{"data-testid":void 0,children:i.jsx(c("MWXAspectRatioContainer.react"),{height:m,maxHeight:a,maxWidth:l,width:r,children:h})}),b[15]=m,b[16]=a,b[17]=l,b[18]=h,b[19]=r,b[20]=e):e=b[20];return e}g["default"]=a}),98);
__d("useMWMediaViewerOpenQPLLogger",["qpl","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=c("requireDeferred")("QPLUserFlow").__setRef("useMWMediaViewerOpenQPLLogger"),j=c("qpl")._(25298743,"1403"),k=6e3*10;function a(){var a=d("react-compiler-runtime").c(1),b=n,c=m,e=l;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={endCancel:e,endSuccess:c,startFlow:b},a[0]=e):e=a[0];return e}function l(a){i.onReadyImmediately(function(b){b.endCancel(j,{cancelReason:a})})}function m(a){i.onReadyImmediately(function(b){b.endSuccess(j,{annotations:a})})}function n(a){var b=a.attachmentType,c=a.entryPoint;a=a.isSecure;var d={attachmentType:b,entryPoint:c,isSecure:((b=a)!=null?b:!1).toString()};i.onReadyImmediately(function(a){a.start(j,{annotations:{string:babelHelpers["extends"]({},d)},cancelOnUnload:!0,timeoutInMs:k})})}g.useMWMediaViewerOpenQPLLogger=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","react-compiler-runtime","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=d("react-compiler-runtime").c(10),b=i(d("MWV2MessageRowIsRowFocusedContext.react").context),e=b.isDialogOpened,f=b.setIsDialogOpened,g=b.setFocused;b=c("useCometRouterState")();var h;if(b==null)h=0;else{b=b.pushViewStack;h=b==null?0:b.length}var m=c("usePrevious")(h);a[0]!==e||a[1]!==h||a[2]!==m||a[3]!==g||a[4]!==f?(b=function(){if(m!=null){e===!0&&m>0&&h===0&&(f(l),g(k));return}},a[0]=e,a[1]=h,a[2]=m,a[3]=g,a[4]=f,a[5]=b):b=a[5];var n;a[6]!==e||a[7]!==h||a[8]!==m?(n=[e,m,h],a[6]=e,a[7]=h,a[8]=m,a[9]=n):n=a[9];j(b,n);return f}function k(){return!0}function l(){return!1}g["default"]=a}),98);
__d("MWV2MediaViewerContainer.react",["fbt","XMessengerDotComCometRootControllerRouteBuilder","cr:7801","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(13),f=a.actions,g=a.children;a=a.shouldShowMessengerLogo;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o xh8yej3 x1uvtmcs"},e[0]=i):i=e[0];var k;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x16q8cke x10l6tqk x1tk7jg1"},e[1]=k):k=e[1];if(e[2]!==a){var l;l=((l=a)!=null?l:!1)?j.jsx("a",{"aria-label":h._(/*BTDS*/"Messenger"),href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:j.jsx(b("cr:7801"),{height:"40",width:"40"})}):null;e[2]=a;e[3]=l}else l=e[3];e[4]!==l?(a=j.jsx("div",babelHelpers["extends"]({},k,{children:l})),e[4]=l,e[5]=a):a=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x92rtbv x10l6tqk x1tk7jg1"},e[6]=k):k=e[6];e[7]!==f?(l=j.jsx("div",babelHelpers["extends"]({},k,{children:f})),e[7]=f,e[8]=l):l=e[8];e[9]!==g||e[10]!==a||e[11]!==l?(k=j.jsxs("div",babelHelpers["extends"]({},i,{"data-testid":void 0,children:[g,a,l]})),e[9]=g,e[10]=a,e[11]=l,e[12]=k):k=e[12];return k}g["default"]=a}),226);
__d("MWV2MediaViewerControlsFallback.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.onClose;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Close"),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:e,onPress:a,size:36,type:"dark-overlay"})})}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MWV2MediaViewerFallback.react",["MWV2MediaViewerContainer.react","MWV2MediaViewerControlsFallback.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.onClose;a=a.shouldShowMessengerLogo;var f;b[0]!==e?(f=i.jsx(c("MWV2MediaViewerControlsFallback.react"),{onClose:e}),b[0]=e,b[1]=f):f=b[1];b[2]!==a||b[3]!==f?(e=i.jsx(c("MWV2MediaViewerContainer.react"),{actions:f,shouldShowMessengerLogo:a,children:null}),b[2]=a,b[3]=f,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("useMWV2MediaViewerShowDialog",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(8),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWV2MediaViewer.react").__setRef("useMWV2MediaViewerShowDialog"),b[0]=e):e=b[0];e=c("useMWXLazyDialog")(e,k);var f=e[0],g=e[1],h;b[1]!==a||b[2]!==g?(e=function(){a||g()},h=[g,a],b[1]=a,b[2]=g,b[3]=e,b[4]=h):(e=b[3],h=b[4]);j(e,h);b[5]!==g||b[6]!==f?(e=[f,g],b[5]=g,b[6]=f,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_photo/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","justknobx","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){if(a==null)return null;var b=(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b&&c("justknobx")._("1284")===!1?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:h.to_string(a.threadKey)})},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);return d("Int64Hooks").useMemoInt64(e,f)}g["default"]=a}),98);
__d("MWAnimatedImageThumbnailWithPlayButton.react",["fbt","$InternalEnum","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentBlob.react","MAWImageUtils","MWAnimatedImageControlsUtil","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWPMessageListImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2LogMessageClick","MWVideoPlayerPlayButton.react","MWXAspectRatioContainer.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWMediaViewerOpenQPLLogger","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useEffect,o=e.useState,p={imageWithAppAttribution:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",bottom:"x1ey2m1c",position:"x1n2onr6",$$css:!0},wrapper:{display:"x1lliihq",$$css:!0},wrapperForAppAttribution:{marginBottom:"x1ibc7va",$$css:!0},wrapperReplyImage:{cursor:"x1ypdohk",$$css:!0}},q=b("$InternalEnum").Mirrored(["Composer","GIFPicker","MediaViewer","Thread"]);function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWAnimatedImageThumbnailWithPlayButton",children:l.jsx(r,babelHelpers.extends({},a))}),b[0]=a,b[1]=e):e=b[1];return e}function r(a){var b,e,f,g=a.altText,i=a.connectBottom,r=a.connectTop,s=a.dbAttachment,t=a.entryPoint,u=a.gifPreviewUrl,v=a.isReplyImage,w=v===void 0?!1:v,x=a.isSecure,y=a.mediaRenderQpl,z=a.message,A=a.onPlay;v=a.onPress;var B=a.outgoing,C=a.previewHeight,D=a.previewWidth,E=a.sourceURL;a=a.testid;var F=c("useAsyncReStore")(),G=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting();a=o(null);var H=a[0],I=a[1];a=c("useMWV2MediaViewerURL")(s);var J=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();J=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth((b=x)!=null?b:!0,(b=J)!=null?b:void 0,!1);var K=J.maxHeight,L=J.maxWidth,M=m(function(){y==null?void 0:y.endSuccess({bool:{thumbnail_generated_for_gif:!0}})},[y]),N=m(function(){y==null?void 0:y.endFail("gif-thumbnail-render-failed")},[y]),O=s!=null&&s.previewUrl==null&&x!==!1?d("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense(s,"gifToBlob",y):void 0,P=c("useMWV2FocusRowAfterClosingPushView")();b=c("useMWV2MediaViewerShowDialog")(!1);var Q=b[0];J=d("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger();var R=J.startFlow,S=t===q.Thread,T=t===q.Composer;b=t===q.MediaViewer;J=t===q.GIFPicker;n(function(){var a=null;async function b(){y==null?void 0:y.addPoint("gif-thumbnail-generation-started");var b=u;if(b==null)if(s==null&&E!=null)b=E;else try{(s==null?void 0:s.previewUrl)!=null?b=s==null?void 0:s.previewUrl:O!=null&&(b=O)}catch(a){return null}if(b==null)return null;b=await d("MAWImageUtils").generateGIFThumbnail(b,C,D);y==null?void 0:y.addPoint("gif-thumbnail-generation-completed");if(b!=null){y==null?void 0:y.addPoint("gif-thumbnail-generation-completed-successfully");b=new Blob([b.jpegThumbnail]);a=URL.createObjectURL(b);I(a)}}b().catch(function(){y==null?void 0:y.endFail("gif-thumbnail-generation-failed"),I(null)});return function(){a!=null&&URL.revokeObjectURL(a)}},[s,u,y,C,D,E,O]);t=x===!1&&S&&z!=null&&(j||(j=d("I64"))).gt(z.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:s==null?void 0:s.previewUrl},url:a}:void 0;a=function(){z!=null&&c("promiseDone")(F,function(a){d("MWV2LogMessageClick").log(a,z,28)});R({attachmentType:"IMAGE",entryPoint:"thread_view",isSecure:x});P(function(){return!0});if(s!=null&&x===!0)return Q({attachment:s},function(){})};var U=(s==null?void 0:s.attributionAppName)!=null,V=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:B===!0?"right":"left",connectBottom:i,connectTop:r});if(C==null||D==null)return null;e=(e=s==null?void 0:s.accessibilitySummaryText)!=null?e:g;var W=h._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[h._param("gif_alt_text",(f=s==null?void 0:s.accessibilitySummaryText)!=null?f:g)]);if(S){e=h._(/*BTDS*/"Open GIF {gif_alt_text}",[h._param("gif_alt_text",(f=s==null?void 0:s.accessibilitySummaryText)!=null?f:g)])}else if(J){e=h._(/*BTDS*/"Send GIF {gif_alt_text}",[h._param("gif_alt_text",(f=s==null?void 0:s.accessibilitySummaryText)!=null?f:g)])}else if(b){e=(f=(J=s==null?void 0:s.accessibilitySummaryText)!=null?J:g)!=null?f:h._(/*BTDS*/"GIF")}J=w||b;return l.jsx(c("MWXPressable.react"),{"aria-label":e,cursorDisabled:J,disabled:J,display:"block",linkProps:t,onPress:J?void 0:S?a:v,testid:void 0,xstyle:[p.wrapper,U&&p.wrapperForAppAttribution,w&&p.wrapperReplyImage],children:l.jsx(c("MWXAspectRatioContainer.react"),{height:C,maxHeight:S?K:C,maxWidth:S?L:D,width:D,children:function(a){var b;return l.jsxs(l.Fragment,{children:[H==null?l.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:i,connectTop:r,descriptionForLogging:"MAWSecureGIFAttachment.NoGIFThumbnail",hasAppAttribution:U,hasCornerStyles:S,height:C,maxHeight:S?K:C,maxWidth:S?L:D,mediaRenderQpl:y,outgoing:B,width:D,xstyle:[a,S&&V,U&&p.imageWithAppAttribution]}):l.jsx(c("MWXImage.react"),{alt:(b=s==null?void 0:s.accessibilitySummaryText)!=null?b:g,height:C,onError:N,onLoad:M,src:H,width:D,xstyle:[a,S&&V,U&&p.imageWithAppAttribution]}),s!=null&&U&&S&&l.jsx("div",{className:"x1f1lzrh x10l6tqk xh8yej3",children:l.jsx(d("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:s,connectBottom:i,connectTop:r,outgoing:B})}),G===d("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.OFF&&l.jsx(c("MWVideoPlayerPlayButton.react"),{alt:W,isVisible:!0,onClick:w?void 0:A,size:w||T?"SMALL":"LARGE"})]})}})})}r.displayName=r.name+" [from "+f.id+"]";g.AnimatedImageEntryPoint=q;g.MWAnimatedImageThumbnailWithPlayButton=a}),226);
__d("MWXIconChevronLeft",["MWXSvgIcon","SVGIcon","cr:12366","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12366")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconChevronRight",["MWXSvgIcon","SVGIcon","cr:12368","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12368")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatMediaViewerNavigationTapTarget.react",["CometTrackingNodeProvider.react","Locale","MWXIconChevronLeft","MWXIconChevronRight","MWXIconStrict.react","MWXPressable.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=d("Locale").isRTL(),l={buttonContainerBackground:{backgroundColor:"xiwuv7k",$$css:!0},buttonContainerHoverLeft:{opacity:"x1hc1fzr",transform:"xs51lif",$$css:!0},buttonContainerHoverRight:{opacity:"x1hc1fzr",transform:"xzycz3q",$$css:!0},navButton:{alignItems:"x6s0dn4",display:"x78zum5",opacity:"x197sbye",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"x9lcvmn",willChange:"x6my1t9",$$css:!0},tapTargetOverlay:{height:"x5yr21d",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.direction,f=a.invisible,g=a.label,i=a.onClick,m=a.testid;a=a.trackingNode;f=f===void 0?!1:f;var n=k?c("MWXIconChevronRight"):c("MWXIconChevronLeft"),o=k?c("MWXIconChevronLeft"):c("MWXIconChevronRight"),p;b[0]!==e?(p=function(a){a=a.hovered;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.navButton,l.buttonContainerBackground,a&&(e==="previous"?l.buttonContainerHoverLeft:l.buttonContainerHoverRight)),{children:j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1l31dnx x14yjl9h xudhj91 x18nykt9 xww2gxu x1qeybcx x78zum5 x1vqgdyp xl56j7k x100vrsf"},{children:j.jsx(c("MWXIconStrict.react"),{icon:e==="previous"?n:o,size:20})}))}))},b[0]=e,b[1]=p):p=b[1];var q;b[2]!==g||b[3]!==i||b[4]!==p||b[5]!==m?(q=j.jsx(c("MWXPressable.react"),{"aria-label":g,focusable:!1,onPress:i,testid:void 0,xstyle:l.tapTargetOverlay,children:p}),b[2]=g,b[3]=i,b[4]=p,b[5]=m,b[6]=q):q=b[6];g=q;b[7]!==f?(i={0:{className:"x6s0dn4 x78zum5 xl56j7k x1hc1fzr x1n2onr6 x1ebt8du x1jl3cmp x1dhq9h xfwg19i x1vjfegm x5yr21d"},1:{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6 x1jl3cmp xfwg19i x1vjfegm xg01cxk xhb22t3 xls3em1 xlshs6z x5yr21d"}}[!!f<<0],b[7]=f,b[8]=i):i=b[8];b[9]!==g||b[10]!==a?(p=a!=null?j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:a,children:g}):g,b[9]=g,b[10]=a,b[11]=p):p=b[11];b[12]!==i||b[13]!==p?(m=j.jsx("div",babelHelpers["extends"]({},i,{children:p})),b[12]=i,b[13]=p,b[14]=m):m=b[14];return m}g["default"]=a}),98);
__d("MWThumbnailDurationPill",["getFormattedTimestamp","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={durationDisplay:{alignItems:"x6s0dn4",fontSize:"x1ncwhqj",paddingTop:"x1nn3v0j",paddingEnd:"xsyo7zv",paddingBottom:"x1120s5i",paddingStart:"x16hj40l",position:"x10l6tqk",verticalAlign:"xxymvpz",$$css:!0},largeThumbnailSpacing:{bottom:"xqo3gd",end:"x1923su1",$$css:!0},newStyle:{backgroundColor:"x18l40ae",borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",color:"x14ctfv",$$css:!0},oldStyle:{backgroundColor:"xal61yo",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",bottom:"xrb244j",color:"x14ctfv",end:"x4r51d9",$$css:!0},smallThumbnailSpacing:{bottom:"xbfrwjf",end:"xlr8s2x",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7),e=a.spacing;a=a.videoDuration;var f;b[0]!==e?(f=(h||(h=c("stylex"))).props([k.durationDisplay].concat(c("gkx")("8622")?[k.newStyle,e==="TIGHT"?k.smallThumbnailSpacing:k.largeThumbnailSpacing]:[k.oldStyle])),b[0]=e,b[1]=f):f=b[1];b[2]!==a?(e=c("getFormattedTimestamp")(a),b[2]=a,b[3]=e):e=b[3];b[4]!==f||b[5]!==e?(a=j.jsx("div",babelHelpers["extends"]({},f,{children:e})),b[4]=f,b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("MWChatVideoPlayerControls.react",["MWThumbnailDurationPill","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","cr:10680","gkx","justknobx","react","react-compiler-runtime","useVideoPlayerDefaultControlsVisibility","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"x12y6twl x1g0ag68"},b[0]=c):c=b[0];b[1]!==a?(c=j.jsx("span",babelHelpers["extends"]({},c,{children:a})),b[1]=a,b[2]=c):c=b[2];return c}function a(a){var e=d("react-compiler-runtime").c(15),f=a.hideExpandButton;a=a.isMediaViewer;var g=c("useVideoPlayerDefaultControlsVisibility")(),h=g.isControlsVisible;g=g.onUserInteraction;var l=(i||(i=d("VideoPlayerHooks"))).usePaused(),m;e[0]!==l?(m={forceVisible:l},e[0]=l,e[1]=m):m=e[1];l=b("cr:10680")(m);m=l.bigPlayButtonElement;l=i.useIsFullscreen();var n=i.useDuration(),o=c("useVideoPlayerHasStartedPlayingAtLeastOnce")(),p=i.usePlaying(),q=i.useEnded();o=!o&&!p||q;e[2]!==n||e[3]!==f||e[4]!==l||e[5]!==a||e[6]!==g||e[7]!==o?(p=l?j.jsxs(j.Fragment,{children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[j.jsx(c("VideoPlayerPlaybackControl.react"),{}),j.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:g})}),j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[j.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g}),j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:g})]})]}):c("gkx")("8623")&&o?j.jsx(c("MWThumbnailDurationPill"),{spacing:"WIDE",videoDuration:n}):j.jsxs(j.Fragment,{children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[c("justknobx")._("2253")&&a===!0?j.jsx(c("VideoPlayerPlaybackTimer.react"),{}):null,j.jsx(k,{children:j.jsx(c("VideoPlayerPlaybackControl.react"),{})})]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:g})}),j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[f?null:j.jsx(k,{children:j.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g})}),j.jsx(k,{children:j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:g})})]})]}),e[2]=n,e[3]=f,e[4]=l,e[5]=a,e[6]=g,e[7]=o,e[8]=p):p=e[8];e[9]!==h||e[10]!==p?(q=j.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:h,children:p}),e[9]=h,e[10]=p,e[11]=q):q=e[11];n=q;e[12]!==m||e[13]!==n?(f=j.jsxs(j.Fragment,{children:[m,n]}),e[12]=m,e[13]=n,e[14]=f):f=e[14];return f}g["default"]=a}),98);
__d("MWSetupMediaRenderQpl.react",["FBLogger","VideoPlayerHooks","performanceAbsoluteNow","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(5),e=a.context,f=a.mediaRenderQpl,g=(j||(j=d("VideoPlayerHooks"))).useController(),i=l(),m;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){f==null?void 0:f.addPoint("setup-video-media-render-qpl",{string:{context:e}});var a=function(){var a=g.getCurrentState();if(a.error!=null){var b=a.error.errorName,d=a.error.errorType,j=a.error.errorMessageFormat+" - "+a.error.errorMessageParams.join(",");f==null?void 0:f.endFail("load-video-error",{string:{video_error_message:j,video_error_name:b,video_error_type:d}});c("FBLogger")("messenger_web_media","load-video-error").warn("%s Video Player Error: %s",e,j);(b=i.current)==null?void 0:b.remove()}d=a.domEventsLatestPerfMs.loadeddata!=null&&a.domEventsLatestPerfMs.loadeddata>0;d&&(f==null?void 0:f.addPoint("video-state-loaded-data"));j=a.domEventsLatestPerfMs.loadedmetadata!=null&&a.domEventsLatestPerfMs.loadedmetadata>0;j&&(f==null?void 0:f.addPoint("video-state-loaded-metadata"));d=(b=g.internal_getStateMachineState())==null?void 0:b.uncontrolledState;j=d==null?void 0:d.videoElementReadyState;j!=null&&j>0&&(f==null?void 0:f.addPoint("video-state-ready-state",{"int":{ready_state:j}}));b=a.domEventsLatestPerfMs.canplay!=null&&a.domEventsLatestPerfMs.canplay>0;if(b){var k=(h||(h=c("performanceAbsoluteNow")))();f==null?void 0:f.addPoint("video-state-can-play");c("setTimeout")(function(){var a;f==null?void 0:f.endSuccess(void 0,k);(a=i.current)==null?void 0:a.remove()},500)}};i.current=g.subscribe(function(){a()});a();return function(){var a;(a=i.current)==null?void 0:a.remove()}},m=[e,f,g],b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=m):(a=b[3],m=b[4]);k(a,m);return null}g["default"]=a}),98);
__d("MWVideoPlayerControllerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({ref:{current:null}});g["default"]=b}),98);
__d("MWChatVideoPlayer.react",["CometProductAttribution","CometVideoPlayerLoggingConfigForMWChat","GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","MWSetupMediaRenderQpl.react","MWVideoPlayerControllerContext.react","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","getVideoPlayerAutoplayProps","react","react-compiler-runtime","useVideoPlayerClickToPauseInteraction","useVideoPlayerClickToPlayInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect,m={link_context:null,navChainContent:null,rootName:"MWChatMediaRoot.react",tap_point:"unexpected",tracePolicy:"comet.sharedmediaviewer.media",trackingNodes:null},n=-1;function o(a){var b=d("react-compiler-runtime").c(10),e=a.controls,f=a.hideExpandButton,g=a.isMediaViewer;a=a.shouldForcePauseOnClick;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={shouldUnmute:!0},b[0]=h):h=b[0];h=c("useVideoPlayerClickToPlayInteraction")(h);var k=c("useVideoPlayerClickToPauseInteraction")(),l=(i||(i=d("VideoPlayerHooks"))).usePaused();l=l&&!a?h:k;b[1]!==l?(a=j.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:l}),b[1]=l,b[2]=a):a=b[2];b[3]!==e||b[4]!==f||b[5]!==g?(h=p(e,f,g),b[3]=e,b[4]=f,b[5]=g,b[6]=h):h=b[6];b[7]!==a||b[8]!==h?(k=j.jsxs(j.Fragment,{children:[a,h]}),b[7]=a,b[8]=h,b[9]=k):k=b[9];return k}var p=function(a,b,d){switch(a){case"mwchat":return j.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0,isMediaViewer:d===!0});case"default":return j.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}},q=function(a){return a!=null?function(b){return{objectFit:a}}:null};function r(a){a=a.children;var b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("MWVideoPlayerControllerContext.react"));l(function(){e.ref.current=b;return function(){e.ref.current=null}},[e,b]);return a}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(43),e=a.autoPlaySetting,f=a.controls,g=a.errorBoundaryFallback,h=a.fbid,i=a.hdSrc,k=a.hideExpandButton,p=a.initialForceHD,s=a.isMediaViewer,t=a.loopCount,u=a.mediaRenderQpl,v=a.originalHeight,w=a.originalWidth,x=a.pixelsFit,y=a.sdSrc,z=a.shouldForcePauseOnClick,A=a.startTimestamp;a=a.volumeSetting;var B=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting();p=(p=p)!=null?p:!1;var C;b[0]!==i||b[1]!==y||b[2]!==p?(C=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:i,hdSrcPreferred:p,sdSrc:y}),b[0]=i,b[1]=y,b[2]=p,b[3]=C):C=b[3];var D=C;b[4]!==D||b[5]!==u?(i=function(){u==null?void 0:u.addPoint("render-chat-video-player"),D instanceof Error&&(u==null?void 0:u.endFail("load-video-player-error",{string:{player_implementation_error_message:D.message,player_implementation_error_name:D.name}}))},y=[D,u],b[4]=D,b[5]=u,b[6]=i,b[7]=y):(i=b[6],y=b[7]);l(i,y);if(D instanceof Error){b[8]!==g?(p=g==null?void 0:g(),b[8]=g,b[9]=p):p=b[9];return p}b[10]!==D?(C=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:D,typename:"VideoPlayerProgressiveImplementation"}],b[10]=D,b[11]=C):C=b[11];i=C;p=(y=e)!=null?y:B;b[12]!==p?(C=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",p,!0),"respect_user_settings",null),b[12]=p,b[13]=C):C=b[13];e=C;b[14]!==v||b[15]!==w?(y=c("computeAspectRatio")(w,v),b[14]=v,b[15]=w,b[16]=y):y=b[16];B=y;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("CometVideoPlayerLoggingConfigForMWChat").createCometVideoPlayerLoggingConfigForMWChat({withMWChatSNAPLGK:!0}),b[17]=p):p=b[17];v=(C=t)!=null?C:n;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(w={v2:[d("CometProductAttribution").getProductAttributionEntryV2(m)]},b[18]=w):w=b[18];b[19]!==x?(y=q(x),b[19]=x,b[20]=y):y=b[20];b[21]!==u?(t=j.jsx(c("MWSetupMediaRenderQpl.react"),{context:"MWChat",mediaRenderQpl:u}),b[21]=u,b[22]=t):t=b[22];C=k===!0;x=s===!0;b[23]!==f||b[24]!==z||b[25]!==C||b[26]!==x?(k=j.jsx(r,{children:j.jsx(o,{controls:f,hideExpandButton:C,isMediaViewer:x,shouldForcePauseOnClick:z})}),b[23]=f,b[24]=z,b[25]=C,b[26]=x,b[27]=k):k=b[27];b[28]!==t||b[29]!==k?(s=j.jsxs(c("VideoPlayerSurface.react"),{children:[t,k]}),b[28]=t,b[29]=k,b[30]=s):s=b[30];b[31]!==g||b[32]!==h||b[33]!==i||b[34]!==A||b[35]!==v||b[36]!==y||b[37]!==s||b[38]!==p||b[39]!==B||b[40]!==e||b[41]!==a?(f=j.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},e,{errorBoundaryFallback:g,implementations:i,key:h,loggingConfig:p,loopCount:v,playerOriginOverride:"messaging",portalingEnabled:!1,productAttribution:w,renderVideoPixelsFit:y,startTimestamp:A,subOrigin:"messenger_thread",videoFBID:h,videoPixelsAspectRatio:B,volumeSetting:a}),s),b[31]=g,b[32]=h,b[33]=i,b[34]=A,b[35]=v,b[36]=y,b[37]=s,b[38]=p,b[39]=B,b[40]=e,b[41]=a,b[42]=f):f=b[42];return f}g["default"]=a}),98);
__d("useVideoPlayerHasStartedSeekingSinceLastPlay",["VideoPlayerHooks","createVideoStateHook","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var k=b.stateHook;function a(){var a=d("react-compiler-runtime").c(5),b=k(!1),c=b[0],e=b[1],f=(i||(i=d("VideoPlayerHooks"))).useSeeking(),g=i.usePlaying(),h;a[0]!==g||a[1]!==f||a[2]!==e?(b=function(){f&&!g&&e(!0),g&&e(!1)},h=[g,f,e],a[0]=g,a[1]=f,a[2]=e,a[3]=b,a[4]=h):(b=a[3],h=a[4]);j(b,h);return c}g["default"]=a}),98);
__d("useMWVideoPlayerBigPlayButtonOverlay.react",["MWVideoPlayerPlayButton.react","VideoPlayerHooks","react","react-compiler-runtime","useVideoPlayerHasStartedPlayingAtLeastOnce","useVideoPlayerHasStartedSeekingSinceLastPlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(14),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.buttonSize;var f=a.forceVisible,g=a.overrideInteraction,h=a.shouldUnmute;a=e===void 0?"large":e;e=(i||(i=d("VideoPlayerHooks"))).usePaused();var k=i.useEnded(),l=c("useVideoPlayerHasStartedPlayingAtLeastOnce")(),m=c("useVideoPlayerHasStartedSeekingSinceLastPlay")(),n=i.useLastMuteReason(),o=i.useController(),p;b[2]!==o||b[3]!==n||b[4]!==h?(p=function(){o.play("user_initiated"),h===!0&&n!=="user_initiated"&&o.setMuted(!1,"product_initiated")},b[2]=o,b[3]=n,b[4]=h,b[5]=p):p=b[5];p=p;g=g!=null?g.handler:p;p=f===!0||f===!1?f:!l&&e;f=a==="small"?"SMALL":"LARGE";l=k&&!m?"REPLAY":"PLAY";b[6]!==p||b[7]!==g||b[8]!==f||b[9]!==l?(e=j.jsx(c("MWVideoPlayerPlayButton.react"),{isVisible:p,onClick:g,size:f,type:l}),b[6]=p,b[7]=g,b[8]=f,b[9]=l,b[10]=e):e=b[10];a=e;b[11]!==a||b[12]!==p?(k={bigPlayButtonElement:a,bigPlayButtonIsVisible:p},b[11]=a,b[12]=p,b[13]=k):k=b[13];return k}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useCometFeedMediaFocusPointConsumptionEventLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ConsumptionFocusPointVpvFalcoEvent").__setRef("useCometFeedMediaFocusPointConsumptionEventLogger");function a(){return i}function i(a){var b=a.croppedHeight,c=a.croppedWidth,d=a.focusX,e=a.focusY,f=a.originalHeight,g=a.originalWidth,i=a.photoID;h.onReady(function(a){return a.log(function(){return{cropped_height:b==null?void 0:b.toString(),cropped_width:c==null?void 0:c.toString(),focus_point_x:d,focus_point_y:e,original_height:f==null?void 0:f.toString(),original_width:g==null?void 0:g.toString(),photo_id:i}})})}g["default"]=a}),98);
__d("CometFeedFocusMedia.react",["gkx","react","react-compiler-runtime","stylex","useCometFeedMediaFocusPointConsumptionEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect,l={media:{bottom:"x1ey2m1c",end:"xds687c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},root:{height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(54),f=a.children,g=a.mediaHeight,i=a.mediaWidth,m=a.viewportAspectRatio,n=a.xstyle,o=(b=a.focusX)!=null?b:.5,p=(b=a.focusY)!=null?b:.5;a=i/g;var q,r,s,t,u,v;e[0]!==o||e[1]!==p||e[2]!==a||e[3]!==g||e[4]!==i||e[5]!==m?(v=i,u=g,a<m?(b=p,q=m/a,s="calc(("+m+"/("+i+"/"+g+"))*100%)",t="100%",u=g*m/(i/g),r="top"):(b=o,s="100%",q=a/m,t="calc((("+i+"/"+g+")/"+m+")*100%)",v=i*(i/g)/m,r="left"),e[0]=o,e[1]=p,e[2]=a,e[3]=g,e[4]=i,e[5]=m,e[6]=u,e[7]=v,e[8]=b,e[9]=q,e[10]=s,e[11]=t,e[12]=r):(u=e[6],v=e[7],b=e[8],q=e[9],s=e[10],t=e[11],r=e[12]);a=Math.max(Math.min(.5-q*b,0),1-q);var w=o!==.5&&p!==.33,x=c("useCometFeedMediaFocusPointConsumptionEventLogger")();e[13]!==x||e[14]!==o||e[15]!==p||e[16]!==w||e[17]!==g||e[18]!==u||e[19]!==v||e[20]!==i?(b=function(){w&&c("gkx")("1670")&&x({croppedHeight:g,croppedWidth:i,focusX:o,focusY:p,originalHeight:u,originalWidth:v})},e[13]=x,e[14]=o,e[15]=p,e[16]=w,e[17]=g,e[18]=u,e[19]=v,e[20]=i,e[21]=b):b=e[21];e[22]!==x||e[23]!==o||e[24]!==p||e[25]!==w||e[26]!==g||e[27]!==u||e[28]!==v||e[29]!==i?(q=[x,o,p,w,g,u,v,i],e[22]=x,e[23]=o,e[24]=p,e[25]=w,e[26]=g,e[27]=u,e[28]=v,e[29]=i,e[30]=q):q=e[30];k(b,q);e[31]!==n?(b=(h||(h=c("stylex")))(l.root,n),e[31]=n,e[32]=b):b=e[32];q=100/m+"%";e[33]!==q?(n={paddingTop:q},e[33]=q,e[34]=n):n=e[34];e[35]===Symbol["for"]("react.memo_cache_sentinel")?(m="x10l6tqk x13vifvy",e[35]=m):m=e[35];q=a*100+"%";if(e[36]!==s||e[37]!==t||e[38]!==r||e[39]!==q){a=(a={height:s},a[r]=q,a.width=t,a);e[36]=s;e[37]=t;e[38]=r;e[39]=q;e[40]=a}else a=e[40];e[41]!==f?(s=typeof f==="function"&&f(l.media),e[41]=f,e[42]=s):s=e[42];e[43]!==a||e[44]!==s?(t=j.jsx("div",{className:m,style:a,children:s}),e[43]=a,e[44]=s,e[45]=t):t=e[45];e[46]!==o||e[47]!==p?(r=c("gkx")("7671")&&j.jsx("div",{className:"xhz9wc2 x170jfvy x10l6tqk x1fsd2vl",style:{left:o*100+"%",top:p*100+"%"}}),e[46]=o,e[47]=p,e[48]=r):r=e[48];e[49]!==r||e[50]!==b||e[51]!==n||e[52]!==t?(q=j.jsxs("div",{className:b,style:n,children:[t,r]}),e[49]=r,e[50]=b,e[51]=n,e[52]=t,e[53]=q):q=e[53];return q}g["default"]=a}),98);
__d("CometFeedMessageTextWithEntities_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedMessageTextWithEntities_textWithEntities",selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],type:"TextWithEntities",abstractKey:null};e.exports=a}),null);
__d("GroupsCometGroupRuleRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"GroupsCometGroupRuleRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("GroupsCometGroupRuleRenderer",["CometLink.react","GroupsCometGroupRuleLink.react","GroupsCometGroupRuleRenderer_entity.graphql","react","react-compiler-runtime","useRenderLinkedEntity"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");h!==void 0?h:h=b("GroupsCometGroupRuleRenderer_entity.graphql");function k(a){var b=d("react-compiler-runtime").c(8),e=a.entity,f=a.entityIsWeakReference;a=a.node;f=d("useRenderLinkedEntity").useRenderWeakReferenceEntity(f);var g=f==null?void 0:f.colorProp;f=f==null?void 0:f.icon;if(e.id!=null){var h;b[0]!==e.id||b[1]!==a?(h=j.jsx(c("GroupsCometGroupRuleLink.react"),{groupRuleID:e.id,children:a}),b[0]=e.id,b[1]=a,b[2]=h):h=b[2];return h}f=(h=f)!=null?h:null;b[3]!==g||b[4]!==e.url||b[5]!==a||b[6]!==f?(h=j.jsxs(c("CometLink.react"),babelHelpers["extends"]({href:e.url},g,{children:[f,a]})),b[3]=g,b[4]=e.url,b[5]=a,b[6]=f,b[7]=h):h=b[7];return h}a=function(a,b,c,d,e){return j.jsx(k,{entity:b,entityIsWeakReference:(c=e)!=null?c:null,node:a})};g["default"]=a}),98);
__d("CometFeedStoryFormattedBackgroundTextContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext(Object.freeze({}));function a(){return i(j)}g.CometFeedStoryFormattedBackgroundTextContext=j;g.useCometFeedStoryFormattedBackgroundTextContextContext=a}),98);
__d("FDSAppWhatsappFilled12Icon",["cr:14375"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14375")}),98);
__d("FDSAppWhatsappOutline20Icon",["cr:14112"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14112")}),98);
__d("FDSAppWhatsappOutline24Icon",["cr:14377"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14377")}),98);
__d("PageWhatsAppNumberCometRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"PageWhatsAppNumberCometRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deep_link_number",storageKey:null}],type:"PageWhatsAppNumber",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("PagesCometPageContext.react",["Actor","CometRouteParams","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=i.createContext({isAdminView:!1,isAdminViewAsPublic_DO_NOT_USE:!1,pageID:void 0});function a(a){var b=d("react-compiler-runtime").c(7),c=a.children;a=a.pageID;var e=d("Actor").useActor();e=e[0];var f=d("CometRouteParams").useRouteParams();f=f.view_public_for;e=e===a;f=f===a;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={isAdminView:e,isAdminViewAsPublic_DO_NOT_USE:f,pageID:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];e=g;f=e;b[4]!==c||b[5]!==f?(a=i.jsx(j.Provider,{value:f,children:c}),b[4]=c,b[5]=f,b[6]=a):a=b[6];return a}g.PagesCometPageContext=j;g.PagesCometPageContextProvider=a}),98);
__d("PageWhatsAppNumberCometRenderer",["CometFeedStoryContext","CometFeedStoryFormattedBackgroundTextContext.react","CometLink.react","ConstUriUtils","FDSAppWhatsappFilled12Icon","FDSAppWhatsappOutline20Icon","FDSAppWhatsappOutline24Icon","FDSIcon.react","FDSTextContext","PageWhatsAppNumberCometRenderer_entity.graphql","PagesCometPageContext.react","react","react-compiler-runtime","requireDeferred","useRenderLinkedEntity"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));a=i;var k=a.useContext,l=a.useEffect,m=c("requireDeferred")("WhatsappDeeplinkClickedFalcoEvent").__setRef("PageWhatsAppNumberCometRenderer"),n=c("requireDeferred")("WhatsappDeeplinkRenderedFalcoEvent").__setRef("PageWhatsAppNumberCometRenderer");h!==void 0?h:h=b("PageWhatsAppNumberCometRenderer_entity.graphql");var o={icon:{marginBottom:"xu06os2",$$css:!0}},p={icon:{marginBottom:"xahult9",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(27),e=a.entity,f=a.entityIsWeakReference;a=a.node;f=d("useRenderLinkedEntity").useRenderWeakReferenceEntity(f);f=f==null?void 0:f.colorProp;var g=d("FDSTextContext").useFDSTextContext(),h=d("CometFeedStoryContext").useCometFeedStoryContext(),i=g==null;g=(g==null?void 0:g.type)==="body1";var q=d("CometFeedStoryFormattedBackgroundTextContext.react").useCometFeedStoryFormattedBackgroundTextContextContext();h=(h=h==null?void 0:h.whatsapp_action_link)!=null?h:"";var t=d("ConstUriUtils").getUri(h),u=k(d("PagesCometPageContext.react").PagesCometPageContext).pageID,v,w;b[0]!==e.deep_link_number||b[1]!==u?(v=function(){n.onReady(function(a){a.log(function(){return{page_id:u,whatsapp_number:e.deep_link_number}})})},w=[e.deep_link_number,u],b[0]=e.deep_link_number,b[1]=u,b[2]=v,b[3]=w):(v=b[2],w=b[3]);l(v,w);b[4]!==e.deep_link_number||b[5]!==u?(v=function(){m.onReady(function(a){a.log(function(){return{page_id:u,whatsapp_number:e.deep_link_number}})})},b[4]=e.deep_link_number,b[5]=u,b[6]=v):v=b[6];w=v;if(h.length===0){b[7]!==a?(v=j.jsxs("span",{children:[" ",a," "]}),b[7]=a,b[8]=v):v=b[8];return v}h="ltr";v=q==null?void 0:q.textColor;b[9]!==v?(q=s(v),b[9]=v,b[10]=q):q=b[10];b[11]!==i||b[12]!==g?(v=r(i,g),b[11]=i,b[12]=g,b[13]=v):v=b[13];g=g||i?o.icon:p.icon;b[14]!==q||b[15]!==v||b[16]!==g?(i=j.jsx(c("FDSIcon.react"),{color:q,icon:v,xstyle:g}),b[14]=q,b[15]=v,b[16]=g,b[17]=i):i=b[17];q=c("CometLink.react");v=t==null?void 0:t.toString();b[18]!==q||b[19]!==f||b[20]!==a||b[21]!==w||b[22]!==v?(g=j.jsx(q,babelHelpers["extends"]({href:v},f,{onClick:w,children:a})),b[18]=q,b[19]=f,b[20]=a,b[21]=w,b[22]=v,b[23]=g):g=b[23];b[24]!==g||b[25]!==i?(t=j.jsxs("span",{dir:h,children:[i,g]}),b[24]=g,b[25]=i,b[26]=t):t=b[26];return t}var r=function(a,b){return a?c("FDSAppWhatsappOutline24Icon"):b?c("FDSAppWhatsappOutline20Icon"):c("FDSAppWhatsappFilled12Icon")},s=function(a){switch(a){case"rgba(255,255,255,1)":return"white";case"rgba(0,0,0,1)":return"black";default:return"blueLink"}};e=function(a,b,c,d,e){return j.jsx(q,{entity:b,entityIsWeakReference:(c=e)!=null?c:null,node:a})};g["default"]=e}),98);
__d("SearchCometBlueHashtagExperiment",[],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case"semibold_blue":return{color_DEPRECATED:"blueLink",weight_DEPRECATED:"semibold"};case"blue":return{color_DEPRECATED:"blueLink",weight_DEPRECATED:"normal"}}return null}function a(){return g("blue")}function b(){return g("blue")}c={entityMentionStyle:a(),hashtagStyle:b()};f["default"]=c}),66);
__d("CometFeedStoryMessageBodyRenderers",["CometBoldedEntityRenderer","CometFeedSeeMoreAnchorEntityRenderer","CometHovercardEntityRenderer","CometKGTickerNodeEntityRenderer","CometShortenedExternalUrlEntityRenderer","CometTextDelightCampaignEntityRenderer","CometTrackingNodeRenderer","GroupsCometGroupRuleRenderer","PageWhatsAppNumberCometRenderer","SearchCometBlueHashtagExperiment","cr:1077","cr:13723","cr:4641","cr:4814","cr:5863","cr:6625","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("20836");f={Event:[d=c("CometHovercardEntityRenderer"),e=c("CometBoldedEntityRenderer")],Group:[d,e],GroupRule:[c("GroupsCometGroupRuleRenderer")],Page:[d,e],User:[d,e]};e={Event:[d],Group:[d],GroupRule:[c("GroupsCometGroupRuleRenderer")],Page:[d],PageWhatsAppNumber:[c("PageWhatsAppNumberCometRenderer")],User:[d]};d=a?f:c("SearchCometBlueHashtagExperiment").entityMentionStyle!=null&&c("SearchCometBlueHashtagExperiment").entityMentionStyle.weight_DEPRECATED==="normal"?e:f;e=a?void 0:{KGTickerNode:[c("CometKGTickerNodeEntityRenderer")]};f=babelHelpers["extends"]({},d,e,{"*":[b("cr:13723"),c("CometTrackingNodeRenderer")],ExternalUrl:[c("CometShortenedExternalUrlEntityRenderer"),b("cr:1077")].filter(Boolean),Photo:[b("cr:4814")].filter(Boolean),SeeMoreTruncation:[c("CometFeedSeeMoreAnchorEntityRenderer")],TextDelightCampaign:[c("CometTextDelightCampaignEntityRenderer")],Video:[b("cr:5863")].filter(Boolean),XFBProdQuartzVizirSnapshot:[b("cr:4641")].filter(Boolean),XFBWorkCustomEmoji:[b("cr:6625")].filter(Boolean)});g["default"]=f}),98);
__d("CometFeedStoryMessageBodyTransforms",["CometEmojiTransform","CometEmoticonTransform","CometLineBreakTransform"],(function(a,b,c,d,e,f,g){"use strict";a=[c("CometEmoticonTransform")(),c("CometEmojiTransform")(),c("CometLineBreakTransform")];g["default"]=a}),98);
__d("FeedStoryMessageExpandedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("433");b=d("FalcoLoggerInternal").create("feed_story_message_expanded",a);e=b;g["default"]=e}),98);
__d("useCometFeedInlineExpandNavigationEventLogger",["CometTrackingNodesContext","encodeTrackingNode","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(3),b=i(c("CometTrackingNodesContext")),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("encodeTrackingNode")(44),a[0]=e):e=a[0];a[1]!==b?(e=[e].concat(b),a[1]=b,a[2]=e):e=a[2];b=e;return c("useCometFeedNoRoutingNavigationEventLogger")(b)}g["default"]=a}),98);
__d("CometFeedStandardAttachedStoryLevelContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(0);g["default"]=b}),98);
__d("useCometFeedStandardAttachedStoryNestingLevel",["CometFeedStandardAttachedStoryLevelContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometFeedStandardAttachedStoryLevelContext"))}g["default"]=a}),98);
__d("useCometFeedMaximumMessageLength",["useCometFeedStandardAttachedStoryNestingLevel"],(function(a,b,c,d,e,f,g){"use strict";var h=800,i=267;function a(){var a=c("useCometFeedStandardAttachedStoryNestingLevel")()>0;return a?i:h}g["default"]=a}),98);
__d("useCometSeeMoreKeyCommand",["cometGetKeyCommandConfig","react","react-compiler-runtime","useKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b){var e=d("react-compiler-runtime").c(5);bb0:{if(!a){e[0]!==b?(a=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","seeMore",b),e[0]=b,e[1]=a):a=e[1];e[2]!==a?(b=[a],e[2]=a,e[3]=b):b=e[3];a=b;break bb0}e[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],e[4]=b):b=e[4];a=b}e=a;c("useKeyCommands")(e,!0)}g["default"]=a}),98);
__d("CometFeedMessageTextWithEntities.react",["CometFeedMessageTextWithEntities_textWithEntities.graphql","CometFeedStoryMessageBodyRenderers","CometFeedStoryMessageBodyTransforms","CometFeedUnitQueryVariablesContext","CometHighlightTransform","CometRelay","CometSearchMatchedTermsContext","CometTextWithEntitiesRelay.react","CometTrackingCodeContext","DateConsts","FeedStoryMessageExpandedFalcoEvent","gkx","react","react-strict-dom","useCometFeedInlineExpandNavigationEventLogger","useCometFeedMaximumMessageLength","useCometSeeMoreKeyCommand","useMergeRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState,p=.229,q=20,r=0;function a(a){var e=a.maxLines,f=a.showAttachments,g=a.suffix,i=a.textWithEntities,s=a.truncationStyle;a=a.withoutLineBreaks;a=a===void 0?!1:a;var t=l(c("CometSearchMatchedTermsContext"));i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedMessageTextWithEntities_textWithEntities.graphql"),i);t=t!=null&&t.matches.length>0?[].concat(c("CometFeedStoryMessageBodyTransforms"),[c("CometHighlightTransform")({matches:t.matches})]):c("CometFeedStoryMessageBodyTransforms");var u=l(c("CometFeedUnitQueryVariablesContext")),v=c("useCometFeedMaximumMessageLength")(),w=o(150),x=w[0],y=w[1],z=n(null);w=(u==null?void 0:u.feedLocation)==="SERVICES_LOCAL_BUSINESS_DISCOVERY";u=s==="see-more"?q:r;u=e!=null?e*x-u:v;var A=c("useCometFeedInlineExpandNavigationEventLogger")();v=o(!1);var B=v[0],C=v[1],D=l(c("CometTrackingCodeContext"));v=k(function(){C(function(a){f&&f(!a);return!a}),B||(A(Date.now()/d("DateConsts").MS_PER_SEC,null,"inline_expand"),c("gkx")("8794")&&c("FeedStoryMessageExpandedFalcoEvent").log(function(){return{tracking:D.encrypted_tracking[0].toString()}}))},[B,A,f,D.encrypted_tracking]);c("useCometSeeMoreKeyCommand")(B,v);var E=c("gkx")("15025");m(function(){if(E&&z.current){var a;a=(a=(a=z.current)==null?void 0:a.clientWidth)!=null?a:656;y(Math.floor(a*p))}},[E]);var F=k(function(a,b){if(E){b=(a=b.clientWidth)!=null?a:656;y(Math.floor(b*p))}},[E]);F=c("useResizeObserver")(F);F=c("useMergeRefs")(z,F);return j.jsx(d("react-strict-dom").html.div,{ref:F,children:j.jsx(c("CometTextWithEntitiesRelay.react"),{expanded:B,maxLength:w?x:u,maxLines:(F=e)!=null?F:5,onToggleExpanded:v,preserveWhiteSpace:!0,renderers:c("CometFeedStoryMessageBodyRenderers"),suffix:g,textWithEntities:i,transforms:t,truncationStyle:s,withLineBreaks:!a,withParagraphs:!w})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryDefaultMessageRenderingStrategy_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryDefaultMessageRenderingStrategy_message",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedMessageTextWithEntities_textWithEntities"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_truncation_line_limit",storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"CometFeedStoryDefaultMessageRenderingStrategy",abstractKey:null};e.exports=a}),null);
__d("useCometFeedStoryRenderLocationIsPermalink",["CometFeedUnitQueryVariablesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("CometFeedUnitQueryVariablesContext"));return(a==null?void 0:a.feedLocation)==="PERMALINK"||(a==null?void 0:a.feedLocation)==="PAGE_TIMELINE_PERMALINK"||(a==null?void 0:a.feedLocation)==="GROUP_PERMALINK"||(a==null?void 0:a.feedLocation)==="WORKPLACE_LONG_READ_POST"||(a==null?void 0:a.feedLocation)==="WORKPLACE_REPOST"}g["default"]=a}),98);
__d("useGeminiSRTFeedStoryRenderLocationIsPageTimeline",["CometFeedUnitQueryVariablesContext","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("CometFeedUnitQueryVariablesContext"));return(a==null?void 0:a.feedLocation)==="PAGE_TIMELINE"&&c("gkx")("23044")}g["default"]=a}),98);
__d("CometFeedStoryDefaultMessageRenderingStrategy.react",["CometFeedARIAProperties.react","CometFeedGating","CometFeedMessageTextWithEntities.react","CometFeedStoryDefaultMessageRenderingStrategy_message.graphql","CometFeedUnitIsFocusedStoryViewContext","CometFeedUnitQueryVariablesContext","CometPressable.react","CometRelay","FDSTextPairing.react","react","react-compiler-runtime","stylex","unrecoverableViolation","useCometFeedStoryMatchDebugger","useCometFeedStoryRenderLocationIsPermalink","useGeminiSRTFeedStoryRenderLocationIsPageTimeline"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext,m={overlayHovered:{backgroundColor:"x1k74hu9",$$css:!0},root:{paddingBottom:"x1l90r2v",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"x1iorvi4",$$css:!0},rootModern:{paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0},textOnlyStory:{paddingBottom:"xjkvuk6",$$css:!0}},n=d("CometFeedGating").shouldEnableFeedUFIUIModernization(),o=d("CometFeedGating").shouldMakeFeedAdsBodyTextClickable(),p=h!==void 0?h:h=b("CometFeedStoryDefaultMessageRenderingStrategy_message.graphql");function a(a){var b,e,f,g,h=d("react-compiler-runtime").c(23),j=a.bodyLineLimit,q=a.isAttachmentsCollapsible,r=a.message,s=a.showAttachments;a=a.suffix;r=d("CometRelay").useFragment(p,r);c("useCometFeedStoryMatchDebugger")(r);b=r==null?void 0:(b=r.story)==null?void 0:b.message;var t=l(c("CometFeedARIAProperties.react")),u=l(c("CometFeedUnitQueryVariablesContext")),v=c("useCometFeedStoryRenderLocationIsPermalink")(),w=c("useGeminiSRTFeedStoryRenderLocationIsPageTimeline")(),x=l(c("CometFeedUnitIsFocusedStoryViewContext"));e=r==null?void 0:(e=r.story)==null?void 0:(e=e.sponsored_data)==null?void 0:e.ad_id;f=r==null?void 0:(f=r.story)==null?void 0:f.attachments[0];f=f==null?void 0:(f=f.action_links[0])==null?void 0:f.url;if(b==null)throw c("unrecoverableViolation")("storyMessage cannot be null in CometFeedStoryDefaultMessageRenderingStrategy","comet_feed");var y;h[0]!==t.contentTargetProps?(y=babelHelpers["extends"]({},t.contentTargetProps),h[0]=t.contentTargetProps,h[1]=y):y=h[1];y=y;g=((g=r.story)==null?void 0:g.is_text_only_story)===!0;u=(u==null?void 0:u.feedLocation)==="SERVICES_LOCAL_BUSINESS_DISCOVERY";w?w="none":u?w=g?"none":"ellipsis-only":v||x?w="none":w=!g&&Boolean(q)?"see-more-with-attachments":"see-more";x=(v=r.story)==null?void 0:v.message_truncation_line_limit;h[2]!==s||h[3]!==b||h[4]!==a||h[5]!==x||h[6]!==w?(q=k.jsx(c("CometFeedMessageTextWithEntities.react"),{maxLines:x,showAttachments:s,suffix:a,textWithEntities:b,truncationStyle:w}),h[2]=s,h[3]=b,h[4]=a,h[5]=x,h[6]=w,h[7]=q):q=h[7];v=(r=j)!=null?r:u?g?14:2:null;h[8]!==q||h[9]!==v?(s=k.jsx(c("FDSTextPairing.react"),{body:q,bodyColor:"primary",bodyLineLimit:v,level:3}),h[8]=q,h[9]=v,h[10]=s):s=h[10];b=s;if(o&&e!=null&&f!=null&&f!==""){h[11]!==f?(a={target:"_blank",url:f},h[11]=f,h[12]=a):a=h[12];h[13]!==b||h[14]!==a?(x=k.jsx(c("CometPressable.react"),{"aria-label":"Open promotion - click link",display:"block",linkProps:a,overlayHoveredStyle:m.overlayHovered,children:b}),h[13]=b,h[14]=a,h[15]=x):x=h[15];w=x}else w=b;j=g&&m.textOnlyStory;h[16]!==j?(r=(i||(i=c("stylex")))(m.root,j,n&&m.rootModern),h[16]=j,h[17]=r):r=h[17];h[18]!==t.contentTargetRef||h[19]!==y||h[20]!==r||h[21]!==w?(u=k.jsx("div",babelHelpers["extends"]({className:r,"data-ad-comet-preview":"message","data-ad-preview":"message","data-testid":void 0,ref:t.contentTargetRef,suppressHydrationWarning:!0},y,{children:w})),h[18]=t.contentTargetRef,h[19]=y,h[20]=r,h[21]=w,h[22]=u):u=h[22];return u}g["default"]=a}),98);
__d("CometFeedStoryDefaultMessageRenderingStrategy_message$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryDefaultMessageRenderingStrategy_message$normalization",selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_truncation_line_limit",storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("CometFeedStoryMediaLayoutAspectRatioConstraintContainer.react",["FDSAspectRatioContainer.react","react","react-compiler-runtime","react-strict-dom","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={widthCorrectionContainer:function(a,b){return[{alignSelf:"xamitd3",boxSizing:"x9f619",position:"x1n2onr6",width:b/a*100+"%"==null?null:"x1bl4301",$$css:!0},{"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(b/a*100+"%")}]}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,f=a.containerAspectRatio;a=a.rootAspectRatio;if(a<f)throw c("unrecoverableViolation")("The root aspect ratio cannot be less than the container's aspect ratio it's restricting","comet_feed");if(a>f){var g;b[0]!==f||b[1]!==a?(g=j.widthCorrectionContainer(a,f),b[0]=f,b[1]=a,b[2]=g):g=b[2];b[3]!==e||b[4]!==g?(f=i.jsx(d("react-strict-dom").html.div,{style:g,children:e}),b[3]=e,b[4]=g,b[5]=f):f=b[5];b[6]!==a||b[7]!==f?(g=i.jsx(c("FDSAspectRatioContainer.react"),{aspectRatio:a,children:f}),b[6]=a,b[7]=f,b[8]=g):g=b[8];return g}return e}g["default"]=a}),98);
__d("CometFeedStoryMediaLayoutConstants",[],(function(a,b,c,d,e,f){"use strict";a=1/1.5;b=750;c=-325;d=500;f.DEFAULT_MIN_ASPECT_RATIO=a;f.LOWER_BOUND_MIN_HEIGHT=b;f.MAX_HEIGHT_VIEWPORT_ADJUSTMENT=c;f.MIN_WIDTH_MAX=d}),66);
__d("CometFeedStoryMediaLayoutViewportConstraintContainer.react",["CometFeedStoryMediaLayoutConstants","RecoverableViolationWithComponentStack.react","gkx","react","react-compiler-runtime","useCometErrorProject"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("12092")?550:null;function a(a){var b,e=d("react-compiler-runtime").c(18),f=a.aspectRatio,g=a.children;a=a.mediaWidth;var h=c("useCometErrorProject")(),k;e[0]!==a?(k=Number.isNaN(a),e[0]=a,e[1]=k):k=e[1];k=k;var l;e[2]!==f?(l=Number.isNaN(f),e[2]=f,e[3]=l):l=e[3];l=l;b=(b=j)!=null?b:d("CometFeedStoryMediaLayoutConstants").LOWER_BOUND_MIN_HEIGHT;a=a<d("CometFeedStoryMediaLayoutConstants").MIN_WIDTH_MAX?a+"px":"100%";b=Math.min(b*f,d("CometFeedStoryMediaLayoutConstants").MIN_WIDTH_MAX)+"px";f="calc((100vh + "+d("CometFeedStoryMediaLayoutConstants").MAX_HEIGHT_VIEWPORT_ADJUSTMENT+"px) * "+f+")";var m;e[4]!==a||e[5]!==b||e[6]!==f?(m={maxWidth:a,minWidth:b,width:f},e[4]=a,e[5]=b,e[6]=f,e[7]=m):m=e[7];e[8]!==g||e[9]!==m?(a=i.jsx("div",{style:m,children:g}),e[8]=g,e[9]=m,e[10]=a):a=e[10];if(e[11]!==h||e[12]!==l||e[13]!==k){f=(k||l)&&i.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:"An invalid mediaWidth or aspectRatio in CometFeedStoryMediaLayoutViewportConstraintContainer",projectName:(b=h)!=null?b:"comet_feed"});e[11]=h;e[12]=l;e[13]=k;e[14]=f}else f=e[14];e[15]!==a||e[16]!==f?(g=i.jsxs(i.Fragment,{children:[a,f]}),e[15]=a,e[16]=f,e[17]=g):g=e[17];return g}g["default"]=a}),98);
__d("CometFeedStoryMenuXoutSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"site",value:"www"}];return{argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryMenuXoutSection_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:null,kind:"LinkedField",name:"easy_hide_nfx_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_start_curation_flow",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:a,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:a,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("CometLightweightNegativeFeedbackNuxContainer.react",["fbt","nux:190","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=(e=b("nux:190")==null?void 0:b("nux:190")("comet_lightweight_negative_feedback_nux"))!=null?e:c("useEmptyFunction");function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"Tap to hide this post and see fewer posts like it in the future."),b[0]=c):c=b[0];c=c;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(c={"aria-label":c,content:c},b[1]=c):c=b[1];c=k(c);var e;b[2]!==a||b[3]!==c?(e=a!=null?j.jsx("div",{ref:c,children:a}):null,b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g["default"]=a}),226);
__d("FBNucleusCrossFilled20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M15.543 3.043a1 1 0 1 1 1.414 1.414L11.414 10l5.543 5.542a1 1 0 0 1-1.414 1.415L10 11.414l-5.543 5.543a1 1 0 0 1-1.414-1.415L8.586 10 3.043 4.457a1 1 0 1 1 1.414-1.414L10 8.586l5.543-5.543z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometFeedStoryMenuXoutSection.react",["CometFeedStoryEncryptedTrackingContext","CometFeedStoryMenuXoutSection_story.graphql","CometLightweightNegativeFeedbackNuxContainer.react","CometRelay","CometTrackingNodeProvider.react","FBNucleusCrossFilled20.svg.react","FDSCircleButton.react","InstreamAdsHideAdBehaviorContext","JSResourceForInteraction","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useMemo,n=c("JSResourceForInteraction")("HideXoutAction").__setRef("CometFeedStoryMenuXoutSection.react");function a(a){a=a.story;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryMenuXoutSection_story.graphql"),a);var e=!0,f=null,g='{"placeholder":0}',i="placeholder",o="HIDE_XOUT";try{var p=a==null?void 0:a.easy_hide_nfx_action;p==null&&(e=!1);e&&(f=p);f==null&&(e=!1);if(((p=f)==null?void 0:p.context)==null)e=!1;else{g=(p=f)==null?void 0:p.context;o=(p=(p=f)==null?void 0:p.type)!=null?p:"HIDE_XOUT"}a.id==null?(i="placeholder",e=!1):i=a.id}catch(a){e=!1}var q=d("InstreamAdsHideAdBehaviorContext").useInstreamAdsHideAdBehavior(),r=l(c("CometFeedStoryEncryptedTrackingContext"));r==null&&(e=!1);var s=m(function(){if(r!=null){var a=JSON.parse(g);a.tracking=r;return JSON.stringify(a)}return g},[g,r]),t=d("CometRelay").useRelayEnvironment();a=k(function(){(q==null?void 0:q.onOpen)&&q.onOpen();var a={context:s,type:o};c("promiseDone")(n.load().then(function(b){b.hide(a,(b=f)==null?void 0:b.can_start_curation_flow,t,i)}))},[q,s,o,t,(p=f)==null?void 0:p.can_start_curation_flow,i]);p=((p=f)==null?void 0:p.redirect_style)==="FULL_PAGE"&&((p=f)==null?void 0:p.redirect_uri)!=null?(p=f)==null?void 0:p.redirect_uri:void 0;p=j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",dynamicHoverTiltAngle:15,dynamicHoverTranslationPercent:.15,icon:c("FBNucleusCrossFilled20.svg.react"),label:"hide post",linkProps:{url:p},onPress:a,showDynamicHover:!0,size:36,testid:void 0,type_DEPRECATED:"deemphasized"});a=e===!0?j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:29,children:p}):null;return j.jsx(c("CometLightweightNegativeFeedbackNuxContainer.react"),{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryMenuXoutSection_story$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"site",value:"www"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryMenuXoutSection_story$normalization",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:null,kind:"LinkedField",name:"easy_hide_nfx_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_start_curation_flow",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:a,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:a,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null},b],storageKey:null},b]}}();e.exports=a}),null);
__d("CommerceCometXFBProductLinkProductItemLink.react",["CometLink.react","CommercePdpProductTagClickFalcoEvent","ConstUriUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e,f,g,h,j;b[0]!==a?(g=a.ref,e=a.children,f=a.entity,h=a.referralComponent,j=babelHelpers.objectWithoutPropertiesLoose(a,["ref","children","entity","referralComponent"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);if(f.url==null||f.id==null)return null;var k;if(b[6]!==f.url){a=Symbol["for"]("react.early_return_sentinel");bb0:{var l=d("ConstUriUtils").getUri(f.url);if(l==null){a=null;break bb0}k=JSON.stringify(l.getQueryParam("marketing_content_id"))}b[6]=f.url;b[7]=k;b[8]=a}else k=b[7],a=b[8];if(a!==Symbol["for"]("react.early_return_sentinel"))return a;var m=k,n=f.__typename==="XFBProductLink"?f.id:null,o=f.__typename==="ProductItem"?f.id:null;b[9]!==m||b[10]!==o||b[11]!==n||b[12]!==h?(l=function(){c("CommercePdpProductTagClickFalcoEvent").log(function(){return{component:"CommerceXFBProductLinkCometProductItemLink",post_id:m,product_id:o,product_link_id:n,referral_component:h,tag_type:"mention"}})},b[9]=m,b[10]=o,b[11]=n,b[12]=h,b[13]=l):l=b[13];a=l;b[14]!==e||b[15]!==f.url||b[16]!==a||b[17]!==g||b[18]!==j?(l=i.jsx(c("CometLink.react"),babelHelpers["extends"]({href:f.url,onClick:a,ref:g},j,{children:e})),b[14]=e,b[15]=f.url,b[16]=a,b[17]=g,b[18]=j,b[19]=l):l=b[19];return l}g["default"]=a}),98);
__d("CometFeedStoryMessageBodyLinkedEntityRenderer",["Comet2K2ELink.react","CometDangerouslySuppressInteractiveElementsContext","CometLink.react","CometRelay","CommerceCometXFBProductLinkProductItemLink.react","ProfileCometProfileLink.react","SearchCometBlueHashtagExperiment","gkx","react","react-compiler-runtime","useRenderLinkedEntity","useShowHovercardsOnClick"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("20836");function k(a){var b,e=d("react-compiler-runtime").c(43),f=a.entity,g=a.entityIsWeakReference,h=a.node;a=a.originalText;var k;e[0]!==f.__typename||e[1]!==g?(k=function(){if(g===!0)return d("useRenderLinkedEntity").EntityRenderType.WEAK_REFERENCE;if(f.__typename==="ProductItem")return d("useRenderLinkedEntity").EntityRenderType.PRODUCT_ITEM;return f.__typename==="XFBProductLink"?d("useRenderLinkedEntity").EntityRenderType.PRODUCT_LINK:null},e[0]=f.__typename,e[1]=g,e[2]=k):k=e[2];k=k;var l;e[3]!==k?(l=k(),e[3]=k,e[4]=l):l=e[4];k=l;l=d("useRenderLinkedEntity").useRenderLinkedEntity(k,a);k=l==null?void 0:l.colorProp;a=l==null?void 0:l.icon;b=(b=l==null?void 0:l.prefix)!=null?b:null;l=l==null?void 0:l.weight_DEPRECATED;var m=c("useShowHovercardsOnClick")();if(f.url==null)return h;var n,o=!1;bb0:switch(f.__typename){case"Event":case"Group":case"Page":case"User":var p;n=(p=k)!=null?p:c("SearchCometBlueHashtagExperiment").entityMentionStyle;o=!0;break bb0;case"KGTickerNode":case"InstagramUserV2":n=(p=k)!=null?p:c("SearchCometBlueHashtagExperiment").entityMentionStyle;break bb0;case"XFBProductLink":case"ProductItem":p=k==null?void 0:k.color_DEPRECATED;var q;e[5]!==p||e[6]!==l?(q={color_DEPRECATED:p,weight_DEPRECATED:l},e[5]=p,e[6]=l,e[7]=q):q=e[7];n=q;break bb0;case"Hashtag":case"GroupHashtag":n=c("SearchCometBlueHashtagExperiment").hashtagStyle;break bb0;case"ExternalUrl":if(j){n=(p=k)!=null?p:c("SearchCometBlueHashtagExperiment").entityMentionStyle}break bb0;default:}if(f.__typename==="User"){q=(l=a)!=null?l:null;e[8]!==h||e[9]!==q?(k=i.jsxs(i.Fragment,{children:[q,h]}),e[8]=h,e[9]=q,e[10]=k):k=e[10];e[11]!==f||e[12]!==n||e[13]!==k?(p=i.jsx(c("ProfileCometProfileLink.react"),babelHelpers["extends"]({actor:f,navigationSource:"feed_story_message_body",ref:null},n,{children:k})),e[11]=f,e[12]=n,e[13]=k,e[14]=p):p=e[14];return p}if(f.__typename==="XFBProductLink"||f.__typename==="ProductItem"){q=(l=a)!=null?l:null;e[15]!==h||e[16]!==q?(k=i.jsxs(i.Fragment,{children:[q,h]}),e[15]=h,e[16]=q,e[17]=k):k=e[17];e[18]!==f||e[19]!==n||e[20]!==k?(p=i.jsx(c("CommerceCometXFBProductLinkProductItemLink.react"),babelHelpers["extends"]({entity:f,ref:null,referralComponent:"CometFeedStoryMessageBodyLinkedEntityRenderer"},n,{children:k})),e[18]=f,e[19]=n,e[20]=k,e[21]=p):p=e[21];return p}l=f.__typename==="ExternalUrl"?c("Comet2K2ELink.react"):c("CometLink.react");q=m&&o;p=(k=a)!=null?k:null;e[22]!==h||e[23]!==p?(m=i.jsxs(i.Fragment,{children:[p,h]}),e[22]=h,e[23]=p,e[24]=m):m=e[24];e[25]!==l||e[26]!==f.url||e[27]!==n||e[28]!==m?(o=i.jsx(l,babelHelpers["extends"]({href:f.url},n,{children:m})),e[25]=l,e[26]=f.url,e[27]=n,e[28]=m,e[29]=o):o=e[29];e[30]!==q||e[31]!==o?(a=i.jsx(c("CometDangerouslySuppressInteractiveElementsContext").Provider,{value:q,children:o}),e[30]=q,e[31]=o,e[32]=a):a=e[32];k=a;switch(f.__typename){case"GroupHashtag":e[33]!==h||e[34]!==n?(p=babelHelpers["extends"]({children:h},n),e[33]=h,e[34]=n,e[35]=p):p=e[35];e[36]!==f||e[37]!==k||e[38]!==p?(l=i.jsx(d("CometRelay").MatchContainer,{fallback:k,match:f,props:p}),e[36]=f,e[37]=k,e[38]=p,e[39]=l):l=e[39];return l;default:e[40]!==k||e[41]!==b?(m=i.jsxs(i.Fragment,{children:[b,k]}),e[40]=k,e[41]=b,e[42]=m):m=e[42];return m}}a=function(a,b,c,d,e){return i.jsx(k,{entity:b,entityIsWeakReference:e,node:a,originalText:d})};g["default"]=a}),98);
__d("CometFeedStoryMessageContainerRenderingStrategy_messageContainer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryMessageContainerRenderingStrategy_messageContainer",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"referenced_sticker",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"preset_id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1XdQZk"}],concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'message(supported:"1XdQZk")'}],storageKey:null}],storageKey:null}],type:"CometFeedStoryMessageContainerRenderingStrategy",abstractKey:null};e.exports=a}),null);
__d("useGetTextDirectionAttribute",["getTextDirectionAttribute","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=c("getTextDirectionAttribute")(a),b[0]=a,b[1]=e):e=b[1];a=e;return a}g["default"]=a}),98);
__d("CometFeedStoryMessageContainerRenderingStrategy.react",["CometFeedStoryMessageContainerRenderingStrategy_messageContainer.graphql","CometRelay","react","react-compiler-runtime","react-strict-dom","useCometFeedStoryMatchDebugger","useGetTextDirectionAttribute"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{textAlign:"x2b8uid",$$css:!0},fullWidthMessage:{height:"x5yr21d",paddingTop:"xyqdw3p",$$css:!0}},l=250,m=h!==void 0?h:h=b("CometFeedStoryMessageContainerRenderingStrategy_messageContainer.graphql");function a(a){var b,e,f,g,h=d("react-compiler-runtime").c(7),i=a.children;a=a.messageContainer;a=d("CometRelay").useFragment(m,a);c("useCometFeedStoryMatchDebugger")(a);b=(b=a.story)==null?void 0:b.message;var n=b==null?void 0:b.text;e=((e=a.story)==null?void 0:(e=e.text_format_metadata)==null?void 0:e.preset_id)!=null;f=c("useGetTextDirectionAttribute")((f=n)!=null?f:"");if(b==null)return i;b=(b=a.story)==null?void 0:(b=b.referenced_sticker)==null?void 0:b.id;g=((g=a.story)==null?void 0:(g=g.comet_sections)==null?void 0:(g=g.message)==null?void 0:g.__typename)!=null;var o=!1;b!=null&&!g&&(o=!0);a=(b=a.story)==null?void 0:(g=b.attachments[0])==null?void 0:g.style_list;b=a!=null?a.includes("fun_fact_prompt"):!1;b&&(n!=null&&n.length<l&&(o=!0));g=o&&k.centered;a=e&&k.fullWidthMessage;h[0]!==g||h[1]!==a?(b=[g,a],h[0]=g,h[1]=a,h[2]=b):b=h[2];h[3]!==i||h[4]!==f||h[5]!==b?(n=j.jsx(d("react-strict-dom").html.div,{dir:f,style:b,children:i}),h[3]=i,h[4]=f,h[5]=b,h[6]=n):n=h[6];return n}g["default"]=a}),98);
__d("CometFeedStoryMessageContainerRenderingStrategy_messageContainer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryMessageContainerRenderingStrategy_messageContainer$normalization",selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"referenced_sticker",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"preset_id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1XdQZk"}],concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[a],storageKey:'message(supported:"1XdQZk")'}],storageKey:null},b],storageKey:null}]}}();e.exports=a}),null);
__d("CometFeedStoryViewportMaxHeightMediaLayout.react",["CometFeedFocusMedia.react","CometFeedStoryMediaLayoutAspectRatioConstraintContainer.react","CometFeedStoryMediaLayoutConstants","CometFeedStoryMediaLayoutViewportConstraintContainer.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e=a.backgroundColor,f=a.children,g=a.mediaHeight,h=a.mediaWidth,j=a.focusX,k=a.focusY,l=a.minContainAspectRatio;a=a.minCropAspectRatio;l=l===void 0?0:l;a=a===void 0?d("CometFeedStoryMediaLayoutConstants").DEFAULT_MIN_ASPECT_RATIO:a;var m=g===0?0:h/g;a=m<a?a:m;m=a<l?l:a;bb0:{if(g>h){l=g/m;break bb0}l=h}l=l;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={0:"x6s0dn4 x1jx94hy x78zum5 xdt5ytf x6ikm8r x10wlt62 x1n2onr6 xh8yej3",1:"x6s0dn4 x78zum5 xdt5ytf x6ikm8r x10wlt62 x1n2onr6 xh8yej3 xszat0t"}[!!c("gkx")("21050")<<0],b[0]=n):n=b[0];var o;b[1]!==e?(o={backgroundColor:e},b[1]=e,b[2]=o):o=b[2];e=l*2;b[3]!==f||b[4]!==a||b[5]!==j||b[6]!==k||b[7]!==g||b[8]!==h?(l=i.jsx(c("CometFeedFocusMedia.react"),{focusX:j,focusY:k,mediaHeight:g,mediaWidth:h,viewportAspectRatio:a,children:f}),b[3]=f,b[4]=a,b[5]=j,b[6]=k,b[7]=g,b[8]=h,b[9]=l):l=b[9];b[10]!==a||b[11]!==m||b[12]!==l?(f=i.jsx(c("CometFeedStoryMediaLayoutAspectRatioConstraintContainer.react"),{containerAspectRatio:a,rootAspectRatio:m,children:l}),b[10]=a,b[11]=m,b[12]=l,b[13]=f):f=b[13];b[14]!==m||b[15]!==e||b[16]!==f?(j=i.jsx(c("CometFeedStoryMediaLayoutViewportConstraintContainer.react"),{aspectRatio:m,mediaWidth:e,children:f}),b[14]=m,b[15]=e,b[16]=f,b[17]=j):j=b[17];b[18]!==o||b[19]!==j?(k=i.jsx("div",{className:n,style:o,children:j}),b[18]=o,b[19]=j,b[20]=k):k=b[20];return k}g["default"]=a}),98);
__d("CometFeedStoryViewportMaxHeightPhotoAttachmentImplementation.react",["CometFeedStoryViewportMaxHeightMediaLayout.react","CometFeedUnitPostRenderingLoggersContext","CometImage.react","react","react-compiler-runtime","usePostRenderingLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k={imageCover:{objectFit:"xl1xv1r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e=a.accentColor,f=a.accessibilityCaption,g=a.focusX,h=a.focusY,l=a.height,m=a.minCropAspectRatio,n=a.uri,o=a.width;a=j(c("CometFeedUnitPostRenderingLoggersContext"));var p=a.ad_id,q=a.client_token,r=a.post_rendering_logger_from_context;b[0]!==p||b[1]!==q||b[2]!==l||b[3]!==n||b[4]!==o?(a=function(){return{ad_client_token:q,ad_id:p,attached_link:n,event_name:"ad_validate_image",event_sub_type:"image_load_success",viewport_height_px:l.toString(),viewport_width_px:o.toString()}},b[0]=p,b[1]=q,b[2]=l,b[3]=n,b[4]=o,b[5]=a):a=b[5];a=a;var s=c("usePostRenderingLogger")(a,r);b[6]!==f||b[7]!==l||b[8]!==s||b[9]!==r||b[10]!==n||b[11]!==o?(a=function(a){return i.jsx(c("CometImage.react"),{alt:f,height:l,onLoad:(r==null?void 0:r.includes("post_rendering_logger"))?s:void 0,src:n,width:o,xstyle:[a,k.imageCover]})},b[6]=f,b[7]=l,b[8]=s,b[9]=r,b[10]=n,b[11]=o,b[12]=a):a=b[12];var t;b[13]!==e||b[14]!==g||b[15]!==h||b[16]!==l||b[17]!==m||b[18]!==a||b[19]!==o?(t=i.jsx(c("CometFeedStoryViewportMaxHeightMediaLayout.react"),{backgroundColor:e,focusX:g,focusY:h,mediaHeight:l,mediaWidth:o,minCropAspectRatio:m,children:a}),b[13]=e,b[14]=g,b[15]=h,b[16]=l,b[17]=m,b[18]=a,b[19]=o,b[20]=t):t=b[20];return t}g["default"]=a}),98);
__d("CometFeedStoryPhotoAttachmentImplementation",["CometFeedStoryViewportMaxHeightPhotoAttachmentImplementation.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("CometFeedStoryViewportMaxHeightPhotoAttachmentImplementation.react")}),98);
__d("CometHomeRightSideXoutButton.react",["CometRelay","CometTrackingNodeProvider.react","FBNucleusCrossFilled20.svg.react","FDSCircleButton.react","JSResourceForInteraction","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=c("JSResourceForInteraction")("HideXoutAction").__setRef("CometHomeRightSideXoutButton.react");function a(a){var b=a.easyHideNfxActionContext,e=a.easyHideNfxActionType,f=a.encryptedTracking,g=a.id,h=a.updateAdUnitVisibility;a=!0;var m='{"placeholder":0}',n="placeholder",o="HIDE_XOUT";try{if(b==null)a=!1;else{m=b;o=(b=e)!=null?b:"HIDE_XOUT"}g==null?(n="placeholder",a=!1):n=g}catch(b){a=!1}f==null&&(a=!1);var p=d("CometRelay").useRelayEnvironment(),q=k(function(){if(f!=null){var a=JSON.parse(m);a.tracking=f;return JSON.stringify(a)}return m},[m,f]);e=j(function(){h(!1,!1);var a={context:q,type:o};c("promiseDone")(l.load().then(function(b){b.hide(a,!0,p,n)}))},[h,q,o,p,n]);return!a?null:i.jsx("div",{children:i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:29,children:i.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:c("FBNucleusCrossFilled20.svg.react"),label:"hide post",onPress:e,showDynamicHover:!0,size:40,type_DEPRECATED:"overlay"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CommerceAttachmentLoggingUtils",["CommerceTabFeedClickFalcoEvent","CommerceTabFeedImpressionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c="unknown";switch(a){case"homepage_stream":case"groups_tab":c="home_feed";break;case"group":c="group_feed";break}a="unknown";switch(b){case"NEWSFEED":a="newsfeed";break;case"GROUP":a="groups";break}return{analyticsExperience:"tab_feed",analyticsFeedType:a,analyticsPage:c}}function b(a,b){if(a)return"post";else if(b)return"shops_you_follow_stories";return"unknown"}function h(a){var b;return{analytics_component:(b=a==null?void 0:a.analyticsComponent)!=null?b:"unknown",analytics_feed_type:(b=a==null?void 0:a.analyticsFeedType)!=null?b:"unknown",analytics_module:(b=a==null?void 0:a.analyticsModule)!=null?b:"unknown",analytics_page:(b=a==null?void 0:a.analyticsPage)!=null?b:"unknown",legacy_referral_code:(b=a==null?void 0:a.referralCode)!=null?b:"",module_type:(b=a==null?void 0:a.moduleType)!=null?b:"",navigation_chain:a==null?void 0:a.navigationChain,product_id:(b=a==null?void 0:a.productItemID)!=null?b:"",referral_surface:(b=a==null?void 0:a.analyticsExperience)!=null?b:"unknown",shopping_session_id:""}}function d(a){c("CommerceTabFeedImpressionFalcoEvent").log(function(){return h(a)})}function e(a){c("CommerceTabFeedClickFalcoEvent").log(function(){return h(a)})}function f(a){c("CommerceTabFeedClickFalcoEvent").log(function(){return h(babelHelpers["extends"]({},a,{analyticsComponent:"message_seller_button"}))})}g.getTabFeedMetadata=a;g.getAttachmentModule=b;g.getBSGAttachmentBasePayload=h;g.logBSGAttachmentImpression=d;g.logBSGAttachmentProductClick=e;g.logBSGAttachmentMessageSellerButtonClick=f}),98);
__d("FDSAppWhatsappFilled12PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("497239"),12);b=a;g["default"]=b}),98);
__d("FDSAppWhatsappOutline20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("497241"),20);b=a;g["default"]=b}),98);
__d("FDSAppWhatsappOutline24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("497242"),24);b=a;g["default"]=b}),98);
__d("TrackingNodeTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,FEED_STORY_MESSAGE_FLYOUT:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,MULTI_ATTACHMENT_VIDEO:205,VIDEO_CALL_TO_ACTION_PAUSESCREEN_RESUME:206,VOICECHAT:207,PAGE_INVITE_FRIEND:208,SEE_MORE_REDIRECT:209,VIDEO_CALL_TO_ACTION_ATTACHMENT:210,PAGE_POST_SEE_FIRST:211,PAGE_POST_DEFAULT:212,TOPIC_FEED_CUSTOMIZATION_UNIT_SUBMIT:213,TOPIC_FEED_CUSTOMIZATION_UNIT_OPTION:214,LEAD_GEN_OPEN_POPOVER:215,LEAD_GEN_SUBMIT_CLICK:216,LEAD_GEN_PRIVACY_CLICK:217,LEAD_GEN_OFFSITE_CLICK:218,EVENT_YOU_MAY_LIKE_HSCROLL:219,LEAD_GEN_CONTEXT_CARD_CLOSE:220,LEAD_GEN_CONTEXT_CARD_CTA_CLICK:221,FEED_STORY_PLACE_ATTACHMENT:222,PAGE_CALL_TO_ACTION_UNIT:224,TRANSLATION:225,FEED_STORY_ATTACHMENT_MISINFO_WARNING:226,RELATED_LOCAL_NEWS_ATTACHMENT_LINK:227,RELATED_LOCAL_NEWS_ATTACHMENT_SHARE:228,STORY_TIMESTAMP:229,STORY_HEADER:230,SPONSORED_STORY:231,EVENT_CTA_BUTTON:232,RELATED_PAGE_POSTS_ATTACHMENT_CLICK:233,RELATED_PAGE_POSTS_ATTACHMENT_SHARE:234,RELATED_PAGE_POSTS_ATTACHMENT_XOUT:235,RELATED_PAGE_POSTS_UNIT_XOUT:236,CAROUSEL_CARD_STORY:237,OFFERS_DETAILS_POPOVER:238,SPOTLIGHT:239,INSTREAM_CALL_TO_ACTION_BUTTON:240,INSTREAM_CALL_TO_ACTION_ATTACHMENT:241,SEARCH_AD_ATTACHMENT_CLICK:242,SEARCH_AD_CTA_CLICK:243,SEARCH_AD_OFFSITE_CLICK:244,MULTI_SHARE_GRID_EXPERIMENT_CARD_1:245,MULTI_SHARE_GRID_EXPERIMENT_CARD_2:246,MULTI_SHARE_GRID_EXPERIMENT_CARD_3:247,MULTI_SHARE_GRID_EXPERIMENT_CARD_4:248,MULTI_SHARE_GRID_EXPERIMENT_SEE_MORE:249,HOVERCARD:250,INSTANT_GAME_PLAYER:251,POLITICAL_AD_STORY_HEADER_CLICK:252,PHOTO_VOICE:253,PHOTO_TAG:254,ANDROID_PLAYSTORE_WATCH_AND_INSTALL_BUTTON:255,VIDEO_POLLING_IN_CREATIVE_CTA_BUTTON:256,VIDEO_SETTINGS:257,PLAYABLE_CALL_TO_ACTION_BUTTON:258,ATTACHMENT_FOOTER:259,LEAD_GEN_THANK_YOU_PAGE:260,SHOW_MENTIONS_PLUGIN:261,AD_BREAK_FULL_VIDEO_INDICATOR:262,INSTREAM_AD_IMAGE:263,INSTREAM_AD_CONTEXT:264,ATTACHMENT_FOOTER_DISCLAIMER:265,INSTREAM_LONGER_AD_CLICK_WATCH_AND_MORE:266,INSTREAM_POST_ROLL_LONGER_AD_ENDING_SCREEN:267,ACTIVATE_OFFER_CTA_BUTTON:268,INSTREAM_COLLECTION_AD_FOOTER_TITLE:269,INSTREAM_COLLECTION_AD_CONTEXT_FOOTER_SUBIMAGE:270,INSTREAM_COLLECTION_AD_DEFERRED_FOOTER_SUBIMAGE:271,WATCH_AND_MORE:272,INSTREAM_CONTEXT_CARD_IMAGE:273,INSTREAM_CONTEXT_CARD_HEADLINE:274,INSTREAM_CONTEXT_CARD_DISPLAY_LINK:275,INSTREAM_CONTEXT_CARD_STORY_MESSAGE:276,INSTREAM_CONTEXT_CARD_MAI_RATING:277,INSTREAM_DEFERRED_CTA_IMAGE:278,INSTREAM_DEFERRED_CTA_HEADLINE:279,INSTREAM_DEFERRED_CTA_DISPLAY_LINK:280,INSTREAM_DEFERRED_CTA_STORY_MESSAGE:281,BIZ_DISCO_PERSISTENT_CTA:282,STORY:301,PERMALINK_STORY:302,ARTICLE_CONTEXT_TRIGGER:303,LINK:304,ATTACHMENT_FOLLOW:305,SNOWFLAKE_STORY:306,SNOWFLAKE_PHOTO:307,BIRTHDAY_REMINDER:308,FRIEND_REQUEST:309,PYMK_JEWEL:310,BROWSE_RESULT:311,PROFILE_LINK:312,USER_PROFILE_PIC:313,GROUP_MEMBER:314,GROUP_SUGGESTION:315,REACTION_BROWSER:316,GROUP_MEMBER_SUGGESTION:317,PROFILE_NAV_ITEM:318,NOTIFICATION_JEWEL:319,NOTIFICATION_ITEM:320,SNACKS:321,PROFILE_TILE:322,FRIEND_PROFILE_TILE:323,INTRO_PROFILE_TILE:324,SUGGEST_FRIENDS_DIALOG:325,APP_COLLECTION:326,ALL_FRIENDS_COLLECTION:327,MUTUAL_FRIENDS_COLLECTION:328,OUTGOING_FRIEND_REQUESTS:329,INSTANT_ARTICLE_RECIRCULATION_STORY:330,FRIEND_CENTER_PYMK:331,PARTICIPANTS_DIALOG:332,FEED_COMPOSER:333,CONFIRM_FRIEND_REQUEST:334,GENERIC_PROFILE_BROWSER:335,INSTANT_ARTICLE_NATIVE_STORY:336,INSTANT_EXPERIENCE_DOCUMENT:337,LIVE_VIDEO_CONTEXT:338,COMMENT_ACTION:339,ATTACHED_STORY:340,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_1:341,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_2:342,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_3:343,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_4:344,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_5:345,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_6:346,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_7:347,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_8:348,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_9:349,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_10:350,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_11:351,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_12:352,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_13:353,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_14:354,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_15:355,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_16:356,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_17:357,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_18:358,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_19:359,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_20:360,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_21:361,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_22:362,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_23:363,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_24:364,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_25:365,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_26:366,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_27:367,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_28:368,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_29:369,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_30:370,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_31:371,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_32:372,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_33:373,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_34:374,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_35:375,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_36:376,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_37:377,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_38:378,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_39:379,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_40:380,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_41:381,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_42:382,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_43:383,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_44:384,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_45:385,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_46:386,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_47:387,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_48:388,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_49:389,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_50:390,AGGREGATED_STORY:391,THREADED_POSITION:392,AR_ADS_OPEN_CAMERA:393,AR_ADS_TAP_TO_CAMERA:394,AR_ADS_CTA_SWIPE:395,WORK_GALAHAD_NAV_ITEM:400,WORK_GALAHAD_TAB_HOME:401,WORK_GALAHAD_TAB_NOTIFICATIONS:402,WORK_GALAHAD_TAB_CHATS:403,WORK_GALAHAD_TAB_PROFILE:404,WORK_GALAHAD_LIST_SHORTCUTS:405,WORK_GALAHAD_LIST_GROUPS:406,WORK_GALAHAD_LIST_PEOPLE:407,WORK_GALAHAD_TAB_ADMIN_PANEL:408,WORK_GALAHAD_TAB_RESELLER_CONSOLE:409,HSCROLL_LEFT_ARROW:410,HSCROLL_RIGHT_ARROW:411,GET_SHOWTIMES_CALL_TO_ACTION:412,INTERESTED_CALL_TO_ACTION:413,OTHER_CALL_TO_ACTION:414,WORK_GALAHAD_TAB_DIRECT:415,WORK_GALAHAD_LIST_BOTS:416,INTERACTIVE_POLL_OPTION:417,INTERACTIVE_POLL_BACKGROUND_CARD:418,HSCROLL_PREVIOUS_BUTTON:419,HSCROLL_NEXT_BUTTON:420,WORK_GALAHAD_TAB_MEETING:421,WORK_GALAHAD_LIST_SEE_FIRST_GROUPS:422,AR_ADS_CTA:423,PBIA_PROFILE:424,PRODUCT_TAG:425,WAM_ENTRY_POINT:426,WORK_GALAHAD_TAB_CALL:427,WORK_GALAHAD_TAB_FILES:428,VIEW_PRODUCTS:429,USER_TAG:430,VIDEO_VIEWER_LIST:431,PRODUCT_DETAIL_PAGE:432,SHOPPING_SHEET_BUTTON:433,WORK_TEAMWORK_TAB_SEARCH:434,WORK_TEAMWORK_TAB_EXPLORE:435,WORK_GALAHAD_TAB_TOOLS:436,WORK_GALAHAD_TAB_VC:437,INSTAGRAM_EXPLORE:438,REMINDER_AD_CTA_BUTTON:439,CTC_POST_CLICK_CTA:440,KNOWLEDGE_NOTE:441,CTA_MARGIN_AREA:442,WORKPLATFORM_TAB:443,FB_SHOPS_PRODUCT:444,FB_SHOPS_FOOTER:445,WORK_GARDEN_TAB_HOME:446,KNOWLEDGE_COLLECTION:447,COMMUNITY_VIEW_INLINE:448,MORE_VIDEOS_ON_WATCH:449,VIDEO_AD_VIEWER:450,BUSINESS_CONTACT_THIRD_PARTY:451,BUSINESS_CONTACT_PHONE:452,BUSINESS_CONTACT_MESSAGE:453,BUSINESS_CONTACT_WEBSITE:454,BUSINESS_CONTACT_WHATSAPP:455,MEDIA_TO_DESTINATION:456,BUSINESS_IMAGE:460,FACEBOOK_REELS_LIKE_BS_FLOATING_CTA:461,FACEBOOK_REELS_COMMENT_BS_FLOATING_CTA:462,FACEBOOK_REELS_PROFILE_FLOATING_CTA:463,FACEBOOK_GENERIC_FLOATING_CTA:464,FACEBOOK_GENERIC_FLOATING_CTA_COMMENT:527,FACEBOOK_GENERIC_FLOATING_CTA_PERMALINK:535,FACEBOOK_GENERIC_FLOATING_CTA_GROUP:550,WORK_GALAHAD_TAB_WATCH:465,IG_STORY_SHOWCASE_ADS_CLICK:466,FACEBOOK_REELS_POST_LOOP_CONTEXT_CARD_CLICK:467,FACEBOOK_REELS_POST_LOOP_DEFERRED_CARD_CLICK:468,COLLECTION_PRODUCT_TILE:469,WORKPLACE_EMBED_HEADER:470,WORKPLACE_EMBED_UFI:471,WORKPLACE_EMBED_COMMENT_CTA:472,INLINE_COMMENT:473,STICKER_ADS_CTA_BUTTON:474,STICKER_ADS_TOOLTIP:475,STICKER_ADS_PROFILE_NAME:476,FB_NOTE:477,WORKPLACE_KNOWLEDGE_LIBRARY:478,SHOP_TILE:479,WORK_GALAHAD_TAB_SHIFTS:480,FACEBOOK_REELS:482,FACEBOOK_REELS_BANNER_ADS_CLICK:483,WORKSTREAM:484,EXPLORE_GRID_ADS_CTA_BUTTON:485,EXPLORE_GRID_ADS_PROFILE_NAME:486,FACEBOOK_REELS_BANNER_ADS_CLICK_PROFILE:487,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT:488,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT_MESSAGE_CTA:489,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_SELL_PILL:490,COMMERCE_MARKETPLACE_SELLING_CREATE_LISTING:491,COMMERCE_MARKETPLACE_CREATE_LISTING_DROPDOWN:492,COMMERCE_MARKETPLACE_YOUR_COMMERCE_PROFILE:493,COMMERCE_MARKETPLACE_FEED_CARD:494,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_COMPOSER:496,COMMERCE_MARKETPLACE_EDIT_LISTING_DROPDOWN:497,COMMERCE_MARKETPLACE_YOUR_LISTING_EDIT_BUTTON:498,COMMERCE_MARKETPLACE_DELETE_LISTING_DROPDOWN:499,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB:501,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB_AVAILABLE_LISTING:502,COMMERCE_MARKETPLACE_YOUR_LISTING_DELETE_BUTTON:503,COMMERCE_MARKETPLACE_SELL_HUB:506,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_YOUR_LISTINGS_PLINK:507,COMMERCE_MARKETPLACE_YOU_SURFACE_SELLING_SECTION:511,COMMERCE_MARKETPLACE_SELLING_ACTIVITY_MODULE:512,COMMERCE_MARKETPLACE_SURFACE_HIGHLIGHTS_MODULE:513,COMMERCE_YOU_SURFACE_COMMERCE_PROFILE:514,COMMERCE_BUY_SELL_GROUPS_PDP_ACTION_BAR:515,COMMERCE_MARKETPLACE_LIST_IN_MORE_PLACES_CTA:516,COMMERCE_MARKETPLACE_UNIFIED_SEE_POSTS_ACTION_CTA:517,COMMERCE_MARKETPLACE_SELLER_LISTING_NOTICE:518,COMMERCE_MARKETPLACE_BUYER_SELLER_FLYWHEEL:519,COMMERCE_MARKETPLACE_MANAGE_YOUR_LISTINGS_FEED_UNIT:520,COMMERCE_MARKETPLACE_ACTIVE_LISTINGS_FEED_UNIT:521,COMMERCE_MARKETPLACE_BAN_WARNING_BOTTOMSHEET:522,COMMERCE_MARKETPLACE_COMMERCE_PROFILE_FEED_CARD:523,COMMERCE_SHOPS__NAVIGATION_BAR__CART_BUTTON:600,COMMERCE_SHOPS__NAVIGATION_BAR__STOREFRONT_ENTRY:601,FACEBOOK_REELS_ADS_END_SCENE:495,SAVES_LIST_CELL:500,CONTEXTUAL_TRAY:504,CONTEXTUAL_TRAY_CARD:505,WORK_GALAHAD_TAB_CONTENT_MANAGER:508,PLINK:509,KNOWLEDGE_BUNDLE:510,PAPER_DOCUMENT_CASE:524,ADS_PRODUCT_PAGE:525,ADS_TEXT_OVERLAY:526,FACEBOOK_REELS_H_SCROLL:528,CONTEXTUAL_FEED_PROFILE:529,CONTEXTUAL_FEED_SEARCH:530,SEARCH_GRID_ADS_CTA_BUTTON:531,SEARCH_GRID_ADS_PROFILE_NAME:532,WHATSAPP_CTA_BUTTON_IN_IAB:533,TOOLTIP_CTA:534,FACEBOOK_REELS_MULTI_CARD_END_CARD:536,FACEBOOK_REELS_ADS_SWIPE_LEFT:537,AD_EXTENSIONS_CARD:41,COLLECTION_HERO_MEDIA:549,COLLECTION_TILE:538,COLLECTION_HSCROLL_TILE:539,HIDE_AD:540,REPORT_AD:541,WAIST_AD:542,BOTTOM_SHEET:543,SHARE_BROWSER:544,WORK_MEETINGS_TAB_HOME:545,IAB_FOOTER:546,IAB_PRODUCT_TILE:547,ATTRIBUTION_ROW_PILL:548,WORK_GALAHAD_TAB_EVENTS:551,UFI_COPY_LINK:552,WATCH_AND_NAVIGATION:553,WATCH_AND_NAVIGATION_CTA:554,WATCH_AND_NAVIGATION_SE:555,WATCH_AND_NAVIGATION_PE:556,AD_ACTION_CHIP:557,MUTE:558,EXPAND_TO_FULLSCREEN:559,THREE_DOTS:560,COMMENT_TIMESTAMP:561,SPONSORED_LABEL:562,UNDO:563,FACEBOOK_REELS_ADS_TOOLTIP:564,FACEBOOK_REELS_ADS_CAPTION_BROWSE:565,FACEBOOK_REELS_ADS_LONG_PRESS:566,PROFILE_TAB_PRODUCT_TILE:567,FACEBOOK_REELS_ADS_CREATIVE:568,VIDEO_HIGHLIGHTS:569,VIDEO_ENDSCENE_CARD:570,SOCIAL_CONTEXT_SHEET:571,DYNAMIC_LANDING_PAGE:572,DYNAMIC_LANDING_PAGE_CTA:573,DYNAMIC_LANDING_PAGE_SE:574,DYNAMIC_LANDING_PAGE_PE:575,DYNAMIC_LANDING_PAGE_PE_SAVE_FOR_LATER:576,DYNAMIC_LANDING_PAGE_PE_CTA:577,DYNAMIC_LANDING_PAGE_PROFILE_PHOTO:578,DYNAMIC_LANDING_PAGE_PROFILE_NAME:579,BIZ_AI_AGENT_ACTION_CHIP:580,WATCH_AND_NAVIGATION_FOOTER:581,END_SCENE_CTA:582,END_SCENE_TOOLTIP_CTA:583,END_SCENE_PROFILE_PHOTO:584,FACEBOOK_REELS_ADS_POST_SCROLL:585,SKIP_BUTTON:586,PRODUCT_RECOMMENDER_PRODUCT_TILE:587,HALF_SHEET_EXPANSION:588,DESTINATION_AUTOMATION_IX_LANDING_PAGE:589,FEED_PHONE_NUMBER_PERMALINK:590,FINDS_PRODUCT_COMPARE_UNIT:591,PLAY_PAUSE_BUTTON:592,METADATA_BOTTOMSHEET_CTA_BUTTON:593,PROFILE_AND_BROWSE_PROFILE_CLICK:594,FB_REELS_SINGLE_IMAGE_MEDIA_TAP:595,FB_REELS_MID_SCENE_CTA:596,FB_REELS_MULTIADS_MEDIA:597,FB_REELS_ADS_PROFILE_BROWSE:598,COMMENT_KEYWORDS_IN_PRECLICK:599,COMMENT_KEYWORSD_IN_DYNAMIC_LANDING_PAGE:606,FB_FEED_HEADER_ENTITY_BASED_METADATA:602,WATCH_AND_INSTALL_APP_DETAILS_PAGE_CTA:603,FB_REELS_END_SCENE_CTA:604,SEE_LESS:605,NON_CTA_VIDEO_AD:607,MARKETPLACE_ADS_HEADER_MINI_PAGE:608,MARKETPLACE_ADS_HEADER_MINI_PAGE_PAGE_CLICK:609,MARKETPLACE_ADS_HEADER_MINI_PAGE_LINK_CLICK:610,COMMENT_PRODUCT_LINK:611,COMMENT_PRODUCT_LINK_PREVIEW:612,FACEBOOK_REELS_ADS_SCRUBBER_SWIPE_UP:613,FACEBOOK_REELS_ADS_PRODUCT_EXTENSIONS:614,PAGE_LIKE_AD_CTA:615,AD_UGC_FEED_EXTENSION_END_CARD:616,AD_UGC_FEED_EXTENSION_CARD:617,AD_UGC_POST_VIEWER_CTA:618,IG_X_AND_BROWSE:619,IG_X_AND_BROWSE_WITH_SCREENSHOT:620});f["default"]=a}),66);
__d("TrackingNodes",["DataAttributeUtils","TrackingNodeConstants","TrackingNodeTypes","decodeTrackingNode","encodeTrackingNode","react"],(function(a,b,c,d,e,f,g){var h;h||c("react");var i={types:c("TrackingNodeTypes"),BASE_CODE_START:d("TrackingNodeConstants").BASE_CODE_START,BASE_CODE_END:d("TrackingNodeConstants").BASE_CODE_END,BASE_CODE_SIZE:d("TrackingNodeConstants").BASE_CODE_SIZE,PREFIX_CODE_START:d("TrackingNodeConstants").PREFIX_CODE_START,PREFIX_CODE_END:d("TrackingNodeConstants").PREFIX_CODE_END,PREFIX_CODE_SIZE:d("TrackingNodeConstants").PREFIX_CODE_SIZE,ENCODE_NUMBER_MAX:d("TrackingNodeConstants").ENCODE_NUMBER_MAX,ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE:d("TrackingNodeConstants").ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE,ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE:d("TrackingNodeConstants").ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE,TN_URL_PARAM:d("TrackingNodeConstants").TN_URL_PARAM,encodeTN:c("encodeTrackingNode"),decodeTN:c("decodeTrackingNode"),parseTrackingNodeString:function(a){var b=[];while(a.length>0){var c=i.decodeTN(a);if(c.length==1)return[];b.push(c[1]);a=a.substring(c[0])}return b},getTrackingInfo:function(a,b){return'{"tn":"'+i.encodeTN(a,b).replace("\\","\\\\")+'"}'},addDataAttribute:function(a,b,d){if(b===void 0)return;["data-ft","data-gt"].forEach(function(e){var f;if(a.getAttribute)f=c("DataAttributeUtils").getDataAttribute(a,e)||"{}";else if(a.props)f=a.props[e]||"{}";else return;var g=i.encodeTN(b,d);try{f=JSON.parse(f);if(f.tn&&f.tn===g)return;f.tn=g;if(a.setAttribute)a.setAttribute(e,JSON.stringify(f));else if(a.props)a.props[e]=JSON.stringify(f);else return}catch(a){}})}};f.exports=i}),34);
__d("getAggregatedStoryTrackingNodeIndex",["TrackingNodes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("TrackingNodes").parseTrackingNodeString(a.join(""));var b=0;for(var d=0;d<a.length;d++)if(a[d][0]===340&&a[d].length>1){b=a[d][1];return b}return b}g["default"]=a}),98);
__d("useCometFeedPhotoBackgroundColorRelay_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedPhotoBackgroundColorRelay_photo",selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"color_choice_algorithm",value:"MOST_PROMINENT_COLOR"},{kind:"Literal",name:"is_computed_if_missing",value:!1}],kind:"ScalarField",name:"accent_color",storageKey:'accent_color(color_choice_algorithm:"MOST_PROMINENT_COLOR",is_computed_if_missing:false)'}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("useCometFeedPhotoBackgroundColorRelay",["CometRelay","useCometFeedPhotoBackgroundColorRelay_photo.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedPhotoBackgroundColorRelay_photo.graphql"),a);return(a==null?void 0:a.accent_color)!=null?"#"+a.accent_color.slice(2):null}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometContainerPressable.react",["CometContainerPressableContext","ReactHoverEvent.react","ReactPressEvent.react","react","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.useRef,m=b.useState;function a(a){var b=a.children,e=a.disabled;e=e===void 0?!1:e;var f=a.forwardedRef,g=a.preventDefault,i=g===void 0?!1:g;g=a.tagName;g=g===void 0?"div":g;var p=a.testOnly_pressed;p=p===void 0?!1:p;a=a.xstyle;var q=m(p),r=q[0];q=q[1];var s=m(!1),t=s[0];s=s[1];var u=m(function(){return new Map()}),v=u[0];u=m(null);var w=u[0],x=u[1];u=l(null);d("ReactHoverEvent.react").useHover(u,{disabled:e,onHoverChange:s});d("ReactPressEvent.react").usePress(u,{disabled:e,onPressChange:q});s=function(a){var b=n(v);i&&a.preventDefault();a.button===2?b.onContextMenu(a):b.onPress(a)};q=function(a){var b=n(v);b.onContextMenu(a)};var y=k(function(){return{onMount:function(a,b){v.set(b,a),a.url!=null&&x([a.url,a.target])},onUnmount:function(a){v["delete"](a),x(null)}}},[v]),z=j.jsx("div",babelHelpers["extends"]({"aria-hidden":"true"},{className:"x1ey2m1c x9f619 x1ypdohk xds687c x17qophe x10l6tqk x13vifvy"},{"data-pressable-container":!0,onClick:s,onContextMenu:q,ref:u}));if(w!=null){var A=w[0];w=w[1];z=j.jsx("a",babelHelpers["extends"]({"aria-hidden":"true","aria-label":"ignore this"},{className:"x1ey2m1c x9f619 x1ypdohk xds687c x17qophe x10l6tqk x13vifvy"},{href:A,onClick:s,onContextMenu:q,ref:u,tabIndex:-1,target:w}))}return j.jsxs(g,babelHelpers["extends"]({},(h||(h=c("stylex"))).props(o.container,typeof a==="function"?a({disabled:e,focused:!1,focusVisible:!1,hovered:t,pressed:p||r}):a),{ref:f,children:[j.jsx(c("CometContainerPressableContext").Provider,{value:y,children:typeof b==="function"?b({disabled:e,focused:!1,focusVisible:!1,hovered:t,pressed:p||r}):b}),z]}))}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=Array.from(a.keys())[0];a=b&&a.get(b);if(!a)throw c("unrecoverableViolation")(p,"comet_ui");return a}var o={container:{display:"x78zum5",position:"x1n2onr6",zIndex:"x1ja2u2z",":not([disabled]) .x1ja2u2z_zIndex":"x12lw8ci",":not([disabled]) .x1nhjfyr_zIndex":"xvntqv7",":not([disabled]) .xlt5f95_zIndex":"x1prgb3j",$$css:!0}},p="CometContainerPressable clicked when it doesn't exactly one target pressable within";g["default"]=a}),98);
__d("DspWebSharedGlobalVars.stylex",[],(function(a,b,c,d,e,f,g){a={shortInAnimationMs:"var(--x5wryqp)",shortOutAnimationMs:"var(--x1qmuso7)",buttonPrimaryBorderWidth:"var(--x4s76ci)",buttonSecondaryBorderWidth:"var(--x1heqtsn)",mediaInnerBorderBorderWidth:"var(--x19ghqu8)",buttonLarge:"var(--xwkxgng)",buttonMedium:"var(--x11bthor)",tooltipCornerRadius:"var(--x17daqx4)",buttonLargePaddingHorizontal:"var(--x7zolun)",buttonLargeInnerIconSpacing:"var(--xux2wl9)",buttonLargeIconPadding:"var(--xy3rk7y)",buttonMediumPaddingHorizontal:"var(--x1yvdy8c)",buttonMediumInnerIconSpacing:"var(--x3iu05p)",buttonMediumIconPadding:"var(--x1f3ocwb)",buttonLargeHeight:"var(--xfffg80)",buttonMediumHeight:"var(--x1qwpgpj)",buttonSmallHeight:"var(--x4h6wrt)",size0:"var(--x19gg0re)",size24:"var(--xo9t372)",size28:"var(--xuf7n1l)",size32:"var(--x42bp64)",size36:"var(--x7mvg7k)",size40:"var(--xz4ip00)",size48:"var(--xd5mdu4)",headline1DefaultFontSize:"var(--xgbxsf0)",headline1DefaultLetterSpacing:"var(--x1duqj6p)",headline1DefaultLineHeight:"var(--x1to4awy)",headline1DefaultFontWeight:"var(--x1ek9bu2)",headline1DefaultFontFamily:"var(--x1wkgth)",headline1DefaultFontStretch:"var(--x1b19346)",headline1DefaultFontWeightDense:"var(--x1rbbbuf)",headline1DefaultTextTransform:"var(--xngzvve)",headline1DefaultFontSizeDense:"var(--x5kown2)",headline1DefaultLineHeightDense:"var(--x1l1vad1)",headline1DefaultFallbackFontMac:"var(--xrdw5gy)",headline1DefaultFallbackFontDefault:"var(--xk4ezbb)",headline1DefaultFallbackFontWindows:"var(--xi36jji)",headline1DefaultDefaultOffsetTop:"var(--xk5kwrc)",headline1DefaultDefaultOffsetBottom:"var(--x1va934e)",headline1DefaultDefaultOffsetBottomMultiLine:"var(--x1mh8fmv)",headline1DefaultDefaultOffsetBaselineAdjustment:"var(--x14r0dja)",headline1DefaultWindowsOffsetTop:"var(--xiehi4i)",headline1DefaultWindowsOffsetBottom:"var(--xai4b37)",headline1DefaultWindowsOffsetBottomMultiLine:"var(--xzvx9gs)",headline1DefaultWindowsOffsetBaselineAdjustment:"var(--x3wnoyi)",headline1DefaultMacgeckoOffsetTop:"var(--x14bqu02)",headline1DefaultMacgeckoOffsetBottom:"var(--x1nxnrji)",headline1DefaultMacgeckoOffsetBottomMultiLine:"var(--x1lwjpo7)",headline1DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1du3s1v)",headline1DefaultMacwebkitOffsetTop:"var(--x14qbjx8)",headline1DefaultMacwebkitOffsetBottom:"var(--x176rlb2)",headline1DefaultMacwebkitOffsetBottomMultiLine:"var(--xw194ft)",headline1DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1qzkvc5)",headline2DefaultFontSize:"var(--x1ff4sj5)",headline2DefaultLetterSpacing:"var(--xgsjjed)",headline2DefaultLineHeight:"var(--x1fg3m9p)",headline2DefaultFontWeight:"var(--x65go19)",headline2DefaultFontFamily:"var(--x1rebq55)",headline2DefaultFontStretch:"var(--x1dj5cjf)",headline2DefaultFontWeightDense:"var(--xv7xuuf)",headline2DefaultTextTransform:"var(--x1phmcha)",headline2DefaultFontSizeDense:"var(--x16n6ngc)",headline2DefaultLineHeightDense:"var(--x1uhxrnm)",headline2DefaultFallbackFontMac:"var(--x7n39de)",headline2DefaultFallbackFontDefault:"var(--xtkti9m)",headline2DefaultFallbackFontWindows:"var(--x15zlp94)",headline2DefaultDefaultOffsetTop:"var(--x1kgz988)",headline2DefaultDefaultOffsetBottom:"var(--xqbf5bo)",headline2DefaultDefaultOffsetBottomMultiLine:"var(--x6olejg)",headline2DefaultDefaultOffsetBaselineAdjustment:"var(--x1ao71fq)",headline2DefaultWindowsOffsetTop:"var(--x1olc7ou)",headline2DefaultWindowsOffsetBottom:"var(--xi6dr5z)",headline2DefaultWindowsOffsetBottomMultiLine:"var(--x4625ft)",headline2DefaultWindowsOffsetBaselineAdjustment:"var(--x10wemj)",headline2DefaultMacgeckoOffsetTop:"var(--x1jm7rpo)",headline2DefaultMacgeckoOffsetBottom:"var(--xb2qxhy)",headline2DefaultMacgeckoOffsetBottomMultiLine:"var(--x1ht6me7)",headline2DefaultMacgeckoOffsetBaselineAdjustment:"var(--x18plh5e)",headline2DefaultMacwebkitOffsetTop:"var(--x1wiha0d)",headline2DefaultMacwebkitOffsetBottom:"var(--xaf4f44)",headline2DefaultMacwebkitOffsetBottomMultiLine:"var(--x1fuhn9l)",headline2DefaultMacwebkitOffsetBaselineAdjustment:"var(--xul70yu)",headline3DefaultFontSize:"var(--x1nj4djg)",headline3DefaultLetterSpacing:"var(--xb11xf7)",headline3DefaultLineHeight:"var(--xpvqddi)",headline3DefaultFontWeight:"var(--x1v78uq)",headline3DefaultFontFamily:"var(--x18lbm9n)",headline3DefaultFontStretch:"var(--x1gktyst)",headline3DefaultFontWeightDense:"var(--xr3sy1d)",headline3DefaultTextTransform:"var(--x1vcp870)",headline3DefaultFontSizeDense:"var(--xjiteet)",headline3DefaultLineHeightDense:"var(--xar7ave)",headline3DefaultFallbackFontMac:"var(--x1s0i8xf)",headline3DefaultFallbackFontDefault:"var(--xyilecf)",headline3DefaultFallbackFontWindows:"var(--x1aosd6x)",headline3DefaultDefaultOffsetTop:"var(--x1idx3ms)",headline3DefaultDefaultOffsetBottom:"var(--xtlb5bh)",headline3DefaultDefaultOffsetBottomMultiLine:"var(--xzu30qn)",headline3DefaultDefaultOffsetBaselineAdjustment:"var(--xbarazm)",headline3DefaultWindowsOffsetTop:"var(--xfurlct)",headline3DefaultWindowsOffsetBottom:"var(--x1dzldso)",headline3DefaultWindowsOffsetBottomMultiLine:"var(--xge51lk)",headline3DefaultWindowsOffsetBaselineAdjustment:"var(--x1vllz6d)",headline3DefaultMacgeckoOffsetTop:"var(--x1yjs33j)",headline3DefaultMacgeckoOffsetBottom:"var(--x1xgds20)",headline3DefaultMacgeckoOffsetBottomMultiLine:"var(--x1sxqd27)",headline3DefaultMacgeckoOffsetBaselineAdjustment:"var(--xedzi5j)",headline3DefaultMacwebkitOffsetTop:"var(--xeyfeb2)",headline3DefaultMacwebkitOffsetBottom:"var(--x1limvsa)",headline3DefaultMacwebkitOffsetBottomMultiLine:"var(--xcot8zb)",headline3DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1n2yjfk)",headline4DefaultFontSize:"var(--xnhb7l8)",headline4DefaultLetterSpacing:"var(--x1w81fcg)",headline4DefaultLineHeight:"var(--xs87g4z)",headline4DefaultFontWeight:"var(--xut5dv6)",headline4DefaultFontFamily:"var(--xqk3jq3)",headline4DefaultFontStretch:"var(--xcfg78e)",headline4DefaultFontWeightDense:"var(--xstht4g)",headline4DefaultTextTransform:"var(--x1ggvdti)",headline4DefaultFontSizeDense:"var(--x9qem0e)",headline4DefaultLineHeightDense:"var(--xhw9us8)",headline4DefaultFallbackFontMac:"var(--x1j1bm6q)",headline4DefaultFallbackFontDefault:"var(--xhmu4li)",headline4DefaultFallbackFontWindows:"var(--x1jdj45x)",headline4DefaultDefaultOffsetTop:"var(--xnxejet)",headline4DefaultDefaultOffsetBottom:"var(--x192k7mr)",headline4DefaultDefaultOffsetBottomMultiLine:"var(--xno71hh)",headline4DefaultDefaultOffsetBaselineAdjustment:"var(--x1k6u5in)",headline4DefaultWindowsOffsetTop:"var(--xrtj7ws)",headline4DefaultWindowsOffsetBottom:"var(--x1sxjyus)",headline4DefaultWindowsOffsetBottomMultiLine:"var(--x8e7l28)",headline4DefaultWindowsOffsetBaselineAdjustment:"var(--x1dvsyhx)",headline4DefaultMacgeckoOffsetTop:"var(--x1lwl8pm)",headline4DefaultMacgeckoOffsetBottom:"var(--xv8diqr)",headline4DefaultMacgeckoOffsetBottomMultiLine:"var(--xfwx6tr)",headline4DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1aan91e)",headline4DefaultMacwebkitOffsetTop:"var(--x17icssl)",headline4DefaultMacwebkitOffsetBottom:"var(--x9tknzh)",headline4DefaultMacwebkitOffsetBottomMultiLine:"var(--xrw36ni)",headline4DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1sh3dly)",title1DefaultFontSize:"var(--x13k2r5y)",title1DefaultLetterSpacing:"var(--xxgtfjr)",title1DefaultLineHeight:"var(--x97xskc)",title1DefaultFontWeight:"var(--xfpyx8u)",title1DefaultFontFamily:"var(--xy577th)",title1DefaultFontStretch:"var(--xkmmbi6)",title1DefaultFontWeightDense:"var(--x1o7ty5x)",title1DefaultTextTransform:"var(--x1ko5cgt)",title1DefaultFontSizeDense:"var(--x1kwlwbc)",title1DefaultLineHeightDense:"var(--xj3ni2r)",title1DefaultFallbackFontMac:"var(--x5iwwgb)",title1DefaultFallbackFontDefault:"var(--x9p38ed)",title1DefaultFallbackFontWindows:"var(--x1dm77ak)",title1DefaultDefaultOffsetTop:"var(--xe70st9)",title1DefaultDefaultOffsetBottom:"var(--xox7x8g)",title1DefaultDefaultOffsetBottomMultiLine:"var(--xwm2b95)",title1DefaultDefaultOffsetBaselineAdjustment:"var(--xs8vd86)",title1DefaultWindowsOffsetTop:"var(--x1eyiekv)",title1DefaultWindowsOffsetBottom:"var(--x8uidmn)",title1DefaultWindowsOffsetBottomMultiLine:"var(--x1e7s2h)",title1DefaultWindowsOffsetBaselineAdjustment:"var(--x15jt2h9)",title1DefaultMacgeckoOffsetTop:"var(--xp1uixt)",title1DefaultMacgeckoOffsetBottom:"var(--x2r3kej)",title1DefaultMacgeckoOffsetBottomMultiLine:"var(--xjd19jf)",title1DefaultMacgeckoOffsetBaselineAdjustment:"var(--xrv25rs)",title1DefaultMacwebkitOffsetTop:"var(--x1vyc76u)",title1DefaultMacwebkitOffsetBottom:"var(--xv5ynh6)",title1DefaultMacwebkitOffsetBottomMultiLine:"var(--xa6mgth)",title1DefaultMacwebkitOffsetBaselineAdjustment:"var(--xqauty2)",title1EmphasizedFontSize:"var(--x11nbj22)",title1EmphasizedLetterSpacing:"var(--xc0kufk)",title1EmphasizedLineHeight:"var(--xdfs3nv)",title1EmphasizedFontWeight:"var(--xsaguxp)",title1EmphasizedFontFamily:"var(--xu4ko2i)",title1EmphasizedFontStretch:"var(--xvy2khk)",title1EmphasizedFontWeightDense:"var(--x1448k8f)",title1EmphasizedTextTransform:"var(--x117wv2o)",title1EmphasizedFontSizeDense:"var(--x2tucj2)",title1EmphasizedLineHeightDense:"var(--x19k2nsz)",title1EmphasizedFallbackFontMac:"var(--xdpvucj)",title1EmphasizedFallbackFontDefault:"var(--xx8tai9)",title1EmphasizedFallbackFontWindows:"var(--x170ex9t)",title1EmphasizedDefaultOffsetTop:"var(--x533w11)",title1EmphasizedDefaultOffsetBottom:"var(--x1fa3skd)",title1EmphasizedDefaultOffsetBottomMultiLine:"var(--xg3vxw8)",title1EmphasizedDefaultOffsetBaselineAdjustment:"var(--xons6fk)",title1EmphasizedWindowsOffsetTop:"var(--x1nv7bk)",title1EmphasizedWindowsOffsetBottom:"var(--xict52l)",title1EmphasizedWindowsOffsetBottomMultiLine:"var(--x2kbf99)",title1EmphasizedWindowsOffsetBaselineAdjustment:"var(--x1kmrg3t)",title1EmphasizedMacgeckoOffsetTop:"var(--xub7b6i)",title1EmphasizedMacgeckoOffsetBottom:"var(--x16xrxzm)",title1EmphasizedMacgeckoOffsetBottomMultiLine:"var(--x1xuspag)",title1EmphasizedMacgeckoOffsetBaselineAdjustment:"var(--xzh4l8m)",title1EmphasizedMacwebkitOffsetTop:"var(--xr77chr)",title1EmphasizedMacwebkitOffsetBottom:"var(--x575hpc)",title1EmphasizedMacwebkitOffsetBottomMultiLine:"var(--x15l8525)",title1EmphasizedMacwebkitOffsetBaselineAdjustment:"var(--x1ta8be9)",title2DefaultFontSize:"var(--xkflgf4)",title2DefaultLetterSpacing:"var(--xfzjyph)",title2DefaultLineHeight:"var(--x2pu115)",title2DefaultFontWeight:"var(--x1hug46h)",title2DefaultFontFamily:"var(--x1mjxhqn)",title2DefaultFontStretch:"var(--x1nt05yj)",title2DefaultFontWeightDense:"var(--xri3wwu)",title2DefaultTextTransform:"var(--x1it2538)",title2DefaultFontSizeDense:"var(--xerjkty)",title2DefaultLineHeightDense:"var(--xedptxm)",title2DefaultFallbackFontMac:"var(--xt5m2en)",title2DefaultFallbackFontDefault:"var(--x15lwbti)",title2DefaultFallbackFontWindows:"var(--xxgqzms)",title2DefaultDefaultOffsetTop:"var(--x1fhe5ql)",title2DefaultDefaultOffsetBottom:"var(--x1vf19wh)",title2DefaultDefaultOffsetBottomMultiLine:"var(--x1stytok)",title2DefaultDefaultOffsetBaselineAdjustment:"var(--x1ou83tv)",title2DefaultWindowsOffsetTop:"var(--x13it649)",title2DefaultWindowsOffsetBottom:"var(--x1mj4usb)",title2DefaultWindowsOffsetBottomMultiLine:"var(--x8tbmoi)",title2DefaultWindowsOffsetBaselineAdjustment:"var(--xsgqz5i)",title2DefaultMacgeckoOffsetTop:"var(--x1baure0)",title2DefaultMacgeckoOffsetBottom:"var(--x14f6bpr)",title2DefaultMacgeckoOffsetBottomMultiLine:"var(--x1pp8kfq)",title2DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1at3f1x)",title2DefaultMacwebkitOffsetTop:"var(--x1or4hmn)",title2DefaultMacwebkitOffsetBottom:"var(--xn87ccn)",title2DefaultMacwebkitOffsetBottomMultiLine:"var(--x1mxnw20)",title2DefaultMacwebkitOffsetBaselineAdjustment:"var(--xyu9hbw)",title2EmphasizedFontSize:"var(--x1mfd8ao)",title2EmphasizedLetterSpacing:"var(--xqissqf)",title2EmphasizedLineHeight:"var(--x8dx4zq)",title2EmphasizedFontWeight:"var(--x162qwc7)",title2EmphasizedFontFamily:"var(--xo1ui8l)",title2EmphasizedFontStretch:"var(--xx4lkv7)",title2EmphasizedFontWeightDense:"var(--x1oyt9uq)",title2EmphasizedTextTransform:"var(--x9id208)",title2EmphasizedFontSizeDense:"var(--xlaael0)",title2EmphasizedLineHeightDense:"var(--x12oog2j)",title2EmphasizedFallbackFontMac:"var(--xzdetwc)",title2EmphasizedFallbackFontDefault:"var(--x1vj6oif)",title2EmphasizedFallbackFontWindows:"var(--xvd7295)",title2EmphasizedDefaultOffsetTop:"var(--x1tgbekm)",title2EmphasizedDefaultOffsetBottom:"var(--x1c1yw8s)",title2EmphasizedDefaultOffsetBottomMultiLine:"var(--x1oc9xic)",title2EmphasizedDefaultOffsetBaselineAdjustment:"var(--x18nht2h)",title2EmphasizedWindowsOffsetTop:"var(--xskd3uf)",title2EmphasizedWindowsOffsetBottom:"var(--x1ly8zus)",title2EmphasizedWindowsOffsetBottomMultiLine:"var(--x1dvhwf3)",title2EmphasizedWindowsOffsetBaselineAdjustment:"var(--x1riufax)",title2EmphasizedMacgeckoOffsetTop:"var(--xqgzi7l)",title2EmphasizedMacgeckoOffsetBottom:"var(--x14s40lm)",title2EmphasizedMacgeckoOffsetBottomMultiLine:"var(--x1mqxont)",title2EmphasizedMacgeckoOffsetBaselineAdjustment:"var(--xee1ulg)",title2EmphasizedMacwebkitOffsetTop:"var(--x1i6swc7)",title2EmphasizedMacwebkitOffsetBottom:"var(--xj7tq85)",title2EmphasizedMacwebkitOffsetBottomMultiLine:"var(--x2lj7h5)",title2EmphasizedMacwebkitOffsetBaselineAdjustment:"var(--x1y9p8w4)",body1DefaultFontSize:"var(--x12q61b4)",body1DefaultLetterSpacing:"var(--x1czraig)",body1DefaultLineHeight:"var(--x1s5xtyw)",body1DefaultFontWeight:"var(--x1x6mao9)",body1DefaultFontFamily:"var(--x3ghh2v)",body1DefaultFontStretch:"var(--x8l1um)",body1DefaultFontWeightDense:"var(--x1sxpprt)",body1DefaultTextTransform:"var(--xjdsfcn)",body1DefaultFontSizeDense:"var(--x1d7onq0)",body1DefaultLineHeightDense:"var(--x13tets0)",body1DefaultFallbackFontMac:"var(--x1ra0yvh)",body1DefaultFallbackFontDefault:"var(--xnzzj0s)",body1DefaultFallbackFontWindows:"var(--xfj931r)",body1DefaultDefaultOffsetTop:"var(--xkxwoo4)",body1DefaultDefaultOffsetBottom:"var(--x1eipkf3)",body1DefaultDefaultOffsetBottomMultiLine:"var(--x17mpfn9)",body1DefaultDefaultOffsetBaselineAdjustment:"var(--xtncwjf)",body1DefaultWindowsOffsetTop:"var(--x3kew4y)",body1DefaultWindowsOffsetBottom:"var(--xx9y0xd)",body1DefaultWindowsOffsetBottomMultiLine:"var(--x1ojnkqw)",body1DefaultWindowsOffsetBaselineAdjustment:"var(--x1d36sq9)",body1DefaultMacgeckoOffsetTop:"var(--x6nu8kr)",body1DefaultMacgeckoOffsetBottom:"var(--x1b4d9ym)",body1DefaultMacgeckoOffsetBottomMultiLine:"var(--x1u6rxw6)",body1DefaultMacgeckoOffsetBaselineAdjustment:"var(--x6q8n3d)",body1DefaultMacwebkitOffsetTop:"var(--x1jbi2vv)",body1DefaultMacwebkitOffsetBottom:"var(--xx1h1vo)",body1DefaultMacwebkitOffsetBottomMultiLine:"var(--x1wgp4hi)",body1DefaultMacwebkitOffsetBaselineAdjustment:"var(--xvqghgo)",body1EmphasizedFontSize:"var(--x18h72nt)",body1EmphasizedLetterSpacing:"var(--xq7ew6j)",body1EmphasizedLineHeight:"var(--x1oyu96n)",body1EmphasizedFontWeight:"var(--x9qoerx)",body1EmphasizedFontFamily:"var(--x1hnoha1)",body1EmphasizedFontStretch:"var(--x1gqqd21)",body1EmphasizedFontWeightDense:"var(--x1wi3d2b)",body1EmphasizedTextTransform:"var(--xzbf6at)",body1EmphasizedFontSizeDense:"var(--x1vcbe29)",body1EmphasizedLineHeightDense:"var(--xz4ka6m)",body1EmphasizedFallbackFontMac:"var(--x1mwlyjj)",body1EmphasizedFallbackFontDefault:"var(--xe1gujp)",body1EmphasizedFallbackFontWindows:"var(--xul65gn)",body1EmphasizedDefaultOffsetTop:"var(--x110yx8d)",body1EmphasizedDefaultOffsetBottom:"var(--x1wvr8q3)",body1EmphasizedDefaultOffsetBottomMultiLine:"var(--x1g2o1vv)",body1EmphasizedDefaultOffsetBaselineAdjustment:"var(--x15zu59h)",body1EmphasizedWindowsOffsetTop:"var(--x1i1nk2p)",body1EmphasizedWindowsOffsetBottom:"var(--xeckuej)",body1EmphasizedWindowsOffsetBottomMultiLine:"var(--xbi1ymu)",body1EmphasizedWindowsOffsetBaselineAdjustment:"var(--x13tijr3)",body1EmphasizedMacgeckoOffsetTop:"var(--x1rgbdvd)",body1EmphasizedMacgeckoOffsetBottom:"var(--xrca6re)",body1EmphasizedMacgeckoOffsetBottomMultiLine:"var(--xaw01y9)",body1EmphasizedMacgeckoOffsetBaselineAdjustment:"var(--xqsfmwl)",body1EmphasizedMacwebkitOffsetTop:"var(--xvz84sl)",body1EmphasizedMacwebkitOffsetBottom:"var(--xtu6l05)",body1EmphasizedMacwebkitOffsetBottomMultiLine:"var(--xrnoxvb)",body1EmphasizedMacwebkitOffsetBaselineAdjustment:"var(--xdmptu7)",body2DefaultFontSize:"var(--xhm9qzy)",body2DefaultLetterSpacing:"var(--x1a24oly)",body2DefaultLineHeight:"var(--xnu4cyd)",body2DefaultFontWeight:"var(--x11p52kn)",body2DefaultFontFamily:"var(--x13l5jmu)",body2DefaultFontStretch:"var(--x16pqxc4)",body2DefaultFontWeightDense:"var(--xaglr2g)",body2DefaultTextTransform:"var(--x1ccnlsv)",body2DefaultFontSizeDense:"var(--x8watv5)",body2DefaultLineHeightDense:"var(--x17gzu0e)",body2DefaultFallbackFontMac:"var(--x11ujngs)",body2DefaultFallbackFontDefault:"var(--x13r3tuy)",body2DefaultFallbackFontWindows:"var(--x19j18qg)",body2DefaultDefaultOffsetTop:"var(--xn007x4)",body2DefaultDefaultOffsetBottom:"var(--xbqmvkl)",body2DefaultDefaultOffsetBottomMultiLine:"var(--x1p5w6zs)",body2DefaultDefaultOffsetBaselineAdjustment:"var(--xnazks6)",body2DefaultWindowsOffsetTop:"var(--xky8g7s)",body2DefaultWindowsOffsetBottom:"var(--x6vl4v8)",body2DefaultWindowsOffsetBottomMultiLine:"var(--x18aa1ek)",body2DefaultWindowsOffsetBaselineAdjustment:"var(--xvhw8c4)",body2DefaultMacgeckoOffsetTop:"var(--x1nwb301)",body2DefaultMacgeckoOffsetBottom:"var(--x8jo845)",body2DefaultMacgeckoOffsetBottomMultiLine:"var(--x1y75x70)",body2DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1go72tn)",body2DefaultMacwebkitOffsetTop:"var(--xxsazs8)",body2DefaultMacwebkitOffsetBottom:"var(--x8pjwvp)",body2DefaultMacwebkitOffsetBottomMultiLine:"var(--x10agdqs)",body2DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1adg44m)",body2EmphasizedFontSize:"var(--x8iyxaa)",body2EmphasizedLetterSpacing:"var(--xvs5mtq)",body2EmphasizedLineHeight:"var(--x1c644ca)",body2EmphasizedFontWeight:"var(--xamtlkm)",body2EmphasizedFontFamily:"var(--x1er1n4n)",body2EmphasizedFontStretch:"var(--xwwt8d)",body2EmphasizedFontWeightDense:"var(--x1jnka1c)",body2EmphasizedTextTransform:"var(--x1gwe1kq)",body2EmphasizedFontSizeDense:"var(--xdcibyq)",body2EmphasizedLineHeightDense:"var(--x1tbfk2j)",body2EmphasizedFallbackFontMac:"var(--x1xbpwx7)",body2EmphasizedFallbackFontDefault:"var(--xt7ct25)",body2EmphasizedFallbackFontWindows:"var(--x1l51458)",body2EmphasizedDefaultOffsetTop:"var(--xswlgze)",body2EmphasizedDefaultOffsetBottom:"var(--x1o184zu)",body2EmphasizedDefaultOffsetBottomMultiLine:"var(--x1qdb9gh)",body2EmphasizedDefaultOffsetBaselineAdjustment:"var(--x1bozhe6)",body2EmphasizedWindowsOffsetTop:"var(--xi7tvyl)",body2EmphasizedWindowsOffsetBottom:"var(--xjamvoi)",body2EmphasizedWindowsOffsetBottomMultiLine:"var(--xwra88d)",body2EmphasizedWindowsOffsetBaselineAdjustment:"var(--x1q8520z)",body2EmphasizedMacgeckoOffsetTop:"var(--x1gnrkj1)",body2EmphasizedMacgeckoOffsetBottom:"var(--xnr297z)",body2EmphasizedMacgeckoOffsetBottomMultiLine:"var(--x81c6qx)",body2EmphasizedMacgeckoOffsetBaselineAdjustment:"var(--x1ftztpk)",body2EmphasizedMacwebkitOffsetTop:"var(--x18zlh4u)",body2EmphasizedMacwebkitOffsetBottom:"var(--x32rlsy)",body2EmphasizedMacwebkitOffsetBottomMultiLine:"var(--xd2k8fo)",body2EmphasizedMacwebkitOffsetBaselineAdjustment:"var(--x5bp6iq)",body3DefaultFontSize:"var(--xr1ru3s)",body3DefaultLetterSpacing:"var(--xwsengw)",body3DefaultLineHeight:"var(--xwendvj)",body3DefaultFontWeight:"var(--x1fs8m7s)",body3DefaultFontFamily:"var(--x10v0zfe)",body3DefaultFontStretch:"var(--x1rmfkaf)",body3DefaultFontWeightDense:"var(--xzpg1ao)",body3DefaultTextTransform:"var(--x143s68s)",body3DefaultFontSizeDense:"var(--xky4qh)",body3DefaultLineHeightDense:"var(--x1k25sli)",body3DefaultFallbackFontMac:"var(--x1uwnuwt)",body3DefaultFallbackFontDefault:"var(--x1w6ohg6)",body3DefaultFallbackFontWindows:"var(--xh7znfl)",body3DefaultDefaultOffsetTop:"var(--xi0uo1t)",body3DefaultDefaultOffsetBottom:"var(--x1exknz9)",body3DefaultDefaultOffsetBottomMultiLine:"var(--xh5zi39)",body3DefaultDefaultOffsetBaselineAdjustment:"var(--xvipn18)",body3DefaultWindowsOffsetTop:"var(--x9vbzmd)",body3DefaultWindowsOffsetBottom:"var(--xo95a11)",body3DefaultWindowsOffsetBottomMultiLine:"var(--x15lteq4)",body3DefaultWindowsOffsetBaselineAdjustment:"var(--xp2tq90)",body3DefaultMacgeckoOffsetTop:"var(--x8ekwek)",body3DefaultMacgeckoOffsetBottom:"var(--x1wbvo34)",body3DefaultMacgeckoOffsetBottomMultiLine:"var(--x1czypm0)",body3DefaultMacgeckoOffsetBaselineAdjustment:"var(--xtayoku)",body3DefaultMacwebkitOffsetTop:"var(--x19hqzv6)",body3DefaultMacwebkitOffsetBottom:"var(--x13mr45g)",body3DefaultMacwebkitOffsetBottomMultiLine:"var(--xow0nrc)",body3DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1b8dglc)",body3EmphasizedFontSize:"var(--x1mm3p0j)",body3EmphasizedLetterSpacing:"var(--xqyd7vr)",body3EmphasizedLineHeight:"var(--x1f6h4b5)",body3EmphasizedFontWeight:"var(--xq8wv9a)",body3EmphasizedFontFamily:"var(--x1yrg32k)",body3EmphasizedFontStretch:"var(--x1v4g71f)",body3EmphasizedFontWeightDense:"var(--x1xxwrjo)",body3EmphasizedTextTransform:"var(--x34agfb)",body3EmphasizedFontSizeDense:"var(--xzvmjiy)",body3EmphasizedLineHeightDense:"var(--x1i42peg)",body3EmphasizedFallbackFontMac:"var(--x16ztwey)",body3EmphasizedFallbackFontDefault:"var(--xtcq1h7)",body3EmphasizedFallbackFontWindows:"var(--x47nful)",body3EmphasizedDefaultOffsetTop:"var(--xciej9k)",body3EmphasizedDefaultOffsetBottom:"var(--x10ftfew)",body3EmphasizedDefaultOffsetBottomMultiLine:"var(--xbf6r50)",body3EmphasizedDefaultOffsetBaselineAdjustment:"var(--x1q80alf)",body3EmphasizedWindowsOffsetTop:"var(--xbq0p9u)",body3EmphasizedWindowsOffsetBottom:"var(--x1ga92ar)",body3EmphasizedWindowsOffsetBottomMultiLine:"var(--x1x3w2fz)",body3EmphasizedWindowsOffsetBaselineAdjustment:"var(--xk10xqa)",body3EmphasizedMacgeckoOffsetTop:"var(--x9pow3h)",body3EmphasizedMacgeckoOffsetBottom:"var(--xargl5y)",body3EmphasizedMacgeckoOffsetBottomMultiLine:"var(--x10ew4cu)",body3EmphasizedMacgeckoOffsetBaselineAdjustment:"var(--x1em5m98)",body3EmphasizedMacwebkitOffsetTop:"var(--x1do8iv4)",body3EmphasizedMacwebkitOffsetBottom:"var(--x1xua0ez)",body3EmphasizedMacwebkitOffsetBottomMultiLine:"var(--xhkiqw0)",body3EmphasizedMacwebkitOffsetBaselineAdjustment:"var(--xi3sk59)",body4DefaultFontSize:"var(--x1484oqv)",body4DefaultLetterSpacing:"var(--xxnwrgm)",body4DefaultLineHeight:"var(--x4si3xe)",body4DefaultFontWeight:"var(--xhaq3e8)",body4DefaultFontFamily:"var(--x1j0zbpk)",body4DefaultFontStretch:"var(--x1qmtxj9)",body4DefaultFontWeightDense:"var(--x1yllyfh)",body4DefaultTextTransform:"var(--x1ri8ta2)",body4DefaultFontSizeDense:"var(--xuvwa0l)",body4DefaultLineHeightDense:"var(--xjag4ih)",body4DefaultFallbackFontMac:"var(--x1cxskcq)",body4DefaultFallbackFontDefault:"var(--xjz0uwf)",body4DefaultFallbackFontWindows:"var(--xbvti93)",body4DefaultDefaultOffsetTop:"var(--x1qnyget)",body4DefaultDefaultOffsetBottom:"var(--x1w8tv4)",body4DefaultDefaultOffsetBottomMultiLine:"var(--x1s8nebg)",body4DefaultDefaultOffsetBaselineAdjustment:"var(--x1dnohla)",body4DefaultWindowsOffsetTop:"var(--xdmv40c)",body4DefaultWindowsOffsetBottom:"var(--xjr3o1y)",body4DefaultWindowsOffsetBottomMultiLine:"var(--x1elpb76)",body4DefaultWindowsOffsetBaselineAdjustment:"var(--x1e7489j)",body4DefaultMacgeckoOffsetTop:"var(--x56tcpb)",body4DefaultMacgeckoOffsetBottom:"var(--x1x83vrp)",body4DefaultMacgeckoOffsetBottomMultiLine:"var(--xk9xamu)",body4DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1x2px8i)",body4DefaultMacwebkitOffsetTop:"var(--x1w6bb2g)",body4DefaultMacwebkitOffsetBottom:"var(--xqovol7)",body4DefaultMacwebkitOffsetBottomMultiLine:"var(--xhvksau)",body4DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1iw4ags)",body4EmphasizedFontSize:"var(--x7bchu9)",body4EmphasizedLetterSpacing:"var(--x15xbjah)",body4EmphasizedLineHeight:"var(--x1b3mqx5)",body4EmphasizedFontWeight:"var(--xzw23k7)",body4EmphasizedFontFamily:"var(--xzptr56)",body4EmphasizedFontStretch:"var(--x8ssxp6)",body4EmphasizedFontWeightDense:"var(--xwjc6or)",body4EmphasizedTextTransform:"var(--x9q9os1)",body4EmphasizedFontSizeDense:"var(--x1nyiqte)",body4EmphasizedLineHeightDense:"var(--xykl2ct)",body4EmphasizedFallbackFontMac:"var(--xx5trkw)",body4EmphasizedFallbackFontDefault:"var(--xekbrfl)",body4EmphasizedFallbackFontWindows:"var(--x1rqz59r)",body4EmphasizedDefaultOffsetTop:"var(--x1n4io7i)",body4EmphasizedDefaultOffsetBottom:"var(--xprzw5v)",body4EmphasizedDefaultOffsetBottomMultiLine:"var(--x1d2zclf)",body4EmphasizedDefaultOffsetBaselineAdjustment:"var(--x1bca4ij)",body4EmphasizedWindowsOffsetTop:"var(--x1bxb5th)",body4EmphasizedWindowsOffsetBottom:"var(--x10251mp)",body4EmphasizedWindowsOffsetBottomMultiLine:"var(--x3hwh3p)",body4EmphasizedWindowsOffsetBaselineAdjustment:"var(--xgpsvg8)",body4EmphasizedMacgeckoOffsetTop:"var(--x7zrg5k)",body4EmphasizedMacgeckoOffsetBottom:"var(--x1nfmm99)",body4EmphasizedMacgeckoOffsetBottomMultiLine:"var(--x1ncidfc)",body4EmphasizedMacgeckoOffsetBaselineAdjustment:"var(--xq6tkxc)",body4EmphasizedMacwebkitOffsetTop:"var(--x4und0k)",body4EmphasizedMacwebkitOffsetBottom:"var(--xtxgc5n)",body4EmphasizedMacwebkitOffsetBottomMultiLine:"var(--x1yprerb)",body4EmphasizedMacwebkitOffsetBaselineAdjustment:"var(--xza45p8)",bodyLink1DefaultFontSize:"var(--x19msz0a)",bodyLink1DefaultLetterSpacing:"var(--x2racne)",bodyLink1DefaultLineHeight:"var(--xgg4j6r)",bodyLink1DefaultFontWeight:"var(--x6wadjw)",bodyLink1DefaultFontFamily:"var(--xp9g63y)",bodyLink1DefaultFontStretch:"var(--x1jw0aup)",bodyLink1DefaultFontWeightDense:"var(--xk6qs53)",bodyLink1DefaultTextTransform:"var(--x5318sp)",bodyLink1DefaultFontSizeDense:"var(--x9jkrjt)",bodyLink1DefaultLineHeightDense:"var(--x1xr3s37)",bodyLink1DefaultFallbackFontMac:"var(--xy209ud)",bodyLink1DefaultFallbackFontDefault:"var(--xsoseyl)",bodyLink1DefaultFallbackFontWindows:"var(--xocvtql)",bodyLink1DefaultDefaultOffsetTop:"var(--xtc9kj4)",bodyLink1DefaultDefaultOffsetBottom:"var(--x9fjnwr)",bodyLink1DefaultDefaultOffsetBottomMultiLine:"var(--x1x7lfcl)",bodyLink1DefaultDefaultOffsetBaselineAdjustment:"var(--x1ysgsf5)",bodyLink1DefaultWindowsOffsetTop:"var(--xomrcbs)",bodyLink1DefaultWindowsOffsetBottom:"var(--x1xmp726)",bodyLink1DefaultWindowsOffsetBottomMultiLine:"var(--x173ftej)",bodyLink1DefaultWindowsOffsetBaselineAdjustment:"var(--x1y40vd4)",bodyLink1DefaultMacgeckoOffsetTop:"var(--x1ubcmcx)",bodyLink1DefaultMacgeckoOffsetBottom:"var(--x25ujlk)",bodyLink1DefaultMacgeckoOffsetBottomMultiLine:"var(--xiaj1xu)",bodyLink1DefaultMacgeckoOffsetBaselineAdjustment:"var(--xxvujgc)",bodyLink1DefaultMacwebkitOffsetTop:"var(--x19uadqx)",bodyLink1DefaultMacwebkitOffsetBottom:"var(--xmum77k)",bodyLink1DefaultMacwebkitOffsetBottomMultiLine:"var(--x1ykr3zv)",bodyLink1DefaultMacwebkitOffsetBaselineAdjustment:"var(--xjnwqgz)",bodyLink2DefaultFontSize:"var(--x1pen2ak)",bodyLink2DefaultLetterSpacing:"var(--x1qfkbwa)",bodyLink2DefaultLineHeight:"var(--xkliolb)",bodyLink2DefaultFontWeight:"var(--x9ucqne)",bodyLink2DefaultFontFamily:"var(--x1wxq01c)",bodyLink2DefaultFontStretch:"var(--xc28vkh)",bodyLink2DefaultFontWeightDense:"var(--xjo4w83)",bodyLink2DefaultTextTransform:"var(--x1fcbh1i)",bodyLink2DefaultFontSizeDense:"var(--xathyop)",bodyLink2DefaultLineHeightDense:"var(--xagajt7)",bodyLink2DefaultFallbackFontMac:"var(--xxl2ler)",bodyLink2DefaultFallbackFontDefault:"var(--x61jxnq)",bodyLink2DefaultFallbackFontWindows:"var(--x1ttd5ug)",bodyLink2DefaultDefaultOffsetTop:"var(--x31q2cd)",bodyLink2DefaultDefaultOffsetBottom:"var(--x13lt0vj)",bodyLink2DefaultDefaultOffsetBottomMultiLine:"var(--xougdqu)",bodyLink2DefaultDefaultOffsetBaselineAdjustment:"var(--x7xbuff)",bodyLink2DefaultWindowsOffsetTop:"var(--x1uwh76v)",bodyLink2DefaultWindowsOffsetBottom:"var(--x8idzxg)",bodyLink2DefaultWindowsOffsetBottomMultiLine:"var(--xwlmzfs)",bodyLink2DefaultWindowsOffsetBaselineAdjustment:"var(--x1j70433)",bodyLink2DefaultMacgeckoOffsetTop:"var(--x1pkes48)",bodyLink2DefaultMacgeckoOffsetBottom:"var(--x14s41)",bodyLink2DefaultMacgeckoOffsetBottomMultiLine:"var(--xviogtu)",bodyLink2DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1hweptz)",bodyLink2DefaultMacwebkitOffsetTop:"var(--xmsh5gb)",bodyLink2DefaultMacwebkitOffsetBottom:"var(--x1vw8rtc)",bodyLink2DefaultMacwebkitOffsetBottomMultiLine:"var(--xq1fmga)",bodyLink2DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1rgkjax)",bodyLink3DefaultFontSize:"var(--xb1jko2)",bodyLink3DefaultLetterSpacing:"var(--xhw545o)",bodyLink3DefaultLineHeight:"var(--x12kgh21)",bodyLink3DefaultFontWeight:"var(--x66rfcq)",bodyLink3DefaultFontFamily:"var(--x6kyuv0)",bodyLink3DefaultFontStretch:"var(--x10z5s23)",bodyLink3DefaultFontWeightDense:"var(--x6mkkyy)",bodyLink3DefaultTextTransform:"var(--x117blzd)",bodyLink3DefaultFontSizeDense:"var(--xlmu7fb)",bodyLink3DefaultLineHeightDense:"var(--x4ni8o1)",bodyLink3DefaultFallbackFontMac:"var(--xr49ehs)",bodyLink3DefaultFallbackFontDefault:"var(--xsxln79)",bodyLink3DefaultFallbackFontWindows:"var(--x1y7bn5f)",bodyLink3DefaultDefaultOffsetTop:"var(--x1fkngun)",bodyLink3DefaultDefaultOffsetBottom:"var(--xmiarny)",bodyLink3DefaultDefaultOffsetBottomMultiLine:"var(--x19pr689)",bodyLink3DefaultDefaultOffsetBaselineAdjustment:"var(--x1yoj6kp)",bodyLink3DefaultWindowsOffsetTop:"var(--x18j5xyh)",bodyLink3DefaultWindowsOffsetBottom:"var(--xs1lznt)",bodyLink3DefaultWindowsOffsetBottomMultiLine:"var(--xdyeji5)",bodyLink3DefaultWindowsOffsetBaselineAdjustment:"var(--x1jdfoav)",bodyLink3DefaultMacgeckoOffsetTop:"var(--xiw2yq4)",bodyLink3DefaultMacgeckoOffsetBottom:"var(--x17opz86)",bodyLink3DefaultMacgeckoOffsetBottomMultiLine:"var(--x1ghmsz5)",bodyLink3DefaultMacgeckoOffsetBaselineAdjustment:"var(--x11s3sq9)",bodyLink3DefaultMacwebkitOffsetTop:"var(--x6difns)",bodyLink3DefaultMacwebkitOffsetBottom:"var(--xg7ytgo)",bodyLink3DefaultMacwebkitOffsetBottomMultiLine:"var(--x1uqmufe)",bodyLink3DefaultMacwebkitOffsetBaselineAdjustment:"var(--xwshb32)",bodyLink4DefaultFontSize:"var(--x1khjuf7)",bodyLink4DefaultLetterSpacing:"var(--x1hqhmg0)",bodyLink4DefaultLineHeight:"var(--xj0iplh)",bodyLink4DefaultFontWeight:"var(--xvigaio)",bodyLink4DefaultFontFamily:"var(--x1ogbxwz)",bodyLink4DefaultFontStretch:"var(--x3xyfx5)",bodyLink4DefaultFontWeightDense:"var(--x1dtjvvr)",bodyLink4DefaultTextTransform:"var(--xqy88s5)",bodyLink4DefaultFontSizeDense:"var(--x1rnilbw)",bodyLink4DefaultLineHeightDense:"var(--x14lmyyb)",bodyLink4DefaultFallbackFontMac:"var(--x18o48l4)",bodyLink4DefaultFallbackFontDefault:"var(--xaj3umr)",bodyLink4DefaultFallbackFontWindows:"var(--xsscqq0)",bodyLink4DefaultDefaultOffsetTop:"var(--x1y85061)",bodyLink4DefaultDefaultOffsetBottom:"var(--x1fp803r)",bodyLink4DefaultDefaultOffsetBottomMultiLine:"var(--xjmsh0)",bodyLink4DefaultDefaultOffsetBaselineAdjustment:"var(--xr4s54b)",bodyLink4DefaultWindowsOffsetTop:"var(--x1wn4euv)",bodyLink4DefaultWindowsOffsetBottom:"var(--xh1z0d5)",bodyLink4DefaultWindowsOffsetBottomMultiLine:"var(--x13yupgq)",bodyLink4DefaultWindowsOffsetBaselineAdjustment:"var(--x1dw1k7f)",bodyLink4DefaultMacgeckoOffsetTop:"var(--x1ryhq7h)",bodyLink4DefaultMacgeckoOffsetBottom:"var(--x1r9j3f0)",bodyLink4DefaultMacgeckoOffsetBottomMultiLine:"var(--xpmkls0)",bodyLink4DefaultMacgeckoOffsetBaselineAdjustment:"var(--xog78oh)",bodyLink4DefaultMacwebkitOffsetTop:"var(--x1lawzc3)",bodyLink4DefaultMacwebkitOffsetBottom:"var(--xh9l9g9)",bodyLink4DefaultMacwebkitOffsetBottomMultiLine:"var(--xh1xs0p)",bodyLink4DefaultMacwebkitOffsetBaselineAdjustment:"var(--x36g9ds)",button1DefaultFontSize:"var(--x1fj9w0t)",button1DefaultLetterSpacing:"var(--xiqne2p)",button1DefaultLineHeight:"var(--x1n3v4p0)",button1DefaultFontWeight:"var(--xdl3uhn)",button1DefaultFontFamily:"var(--x7aic6i)",button1DefaultFontStretch:"var(--x5rvu75)",button1DefaultFontWeightDense:"var(--x1uh0c67)",button1DefaultTextTransform:"var(--x1byyqdx)",button1DefaultFontSizeDense:"var(--x3j3a9f)",button1DefaultLineHeightDense:"var(--x10k74h5)",button1DefaultFallbackFontMac:"var(--x162inkm)",button1DefaultFallbackFontDefault:"var(--xbgzs31)",button1DefaultFallbackFontWindows:"var(--xuzmjn5)",button1DefaultDefaultOffsetTop:"var(--x1hpi3tf)",button1DefaultDefaultOffsetBottom:"var(--xgu2x42)",button1DefaultDefaultOffsetBottomMultiLine:"var(--xjvcvke)",button1DefaultDefaultOffsetBaselineAdjustment:"var(--xxn1dop)",button1DefaultWindowsOffsetTop:"var(--x8lq8b8)",button1DefaultWindowsOffsetBottom:"var(--x1hl8gml)",button1DefaultWindowsOffsetBottomMultiLine:"var(--xaac17j)",button1DefaultWindowsOffsetBaselineAdjustment:"var(--x1k9cpg9)",button1DefaultMacgeckoOffsetTop:"var(--xl2b13n)",button1DefaultMacgeckoOffsetBottom:"var(--x2j2gfg)",button1DefaultMacgeckoOffsetBottomMultiLine:"var(--x36x3sr)",button1DefaultMacgeckoOffsetBaselineAdjustment:"var(--x13ujgqb)",button1DefaultMacwebkitOffsetTop:"var(--x1tj8b1j)",button1DefaultMacwebkitOffsetBottom:"var(--x1ve49ez)",button1DefaultMacwebkitOffsetBottomMultiLine:"var(--xlumsmq)",button1DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1a0t850)",button2DefaultFontSize:"var(--xra2tmh)",button2DefaultLetterSpacing:"var(--xxyjkui)",button2DefaultLineHeight:"var(--x1lde780)",button2DefaultFontWeight:"var(--xnzxa3u)",button2DefaultFontFamily:"var(--xaloe2f)",button2DefaultFontStretch:"var(--xpyj4cs)",button2DefaultFontWeightDense:"var(--x7fte1l)",button2DefaultTextTransform:"var(--xewdu67)",button2DefaultFontSizeDense:"var(--x1f9llnd)",button2DefaultLineHeightDense:"var(--xnd7tci)",button2DefaultFallbackFontMac:"var(--x1jog1lq)",button2DefaultFallbackFontDefault:"var(--x130uygc)",button2DefaultFallbackFontWindows:"var(--x121x2n0)",button2DefaultDefaultOffsetTop:"var(--x161epcw)",button2DefaultDefaultOffsetBottom:"var(--xno2wk0)",button2DefaultDefaultOffsetBottomMultiLine:"var(--xnfv741)",button2DefaultDefaultOffsetBaselineAdjustment:"var(--x119fpul)",button2DefaultWindowsOffsetTop:"var(--xnodfvb)",button2DefaultWindowsOffsetBottom:"var(--x1kh1qnn)",button2DefaultWindowsOffsetBottomMultiLine:"var(--x1jety0p)",button2DefaultWindowsOffsetBaselineAdjustment:"var(--xfpdg4f)",button2DefaultMacgeckoOffsetTop:"var(--x1i5b2dr)",button2DefaultMacgeckoOffsetBottom:"var(--x1rz31nq)",button2DefaultMacgeckoOffsetBottomMultiLine:"var(--x1u6uxou)",button2DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1d0p41p)",button2DefaultMacwebkitOffsetTop:"var(--x3ufkju)",button2DefaultMacwebkitOffsetBottom:"var(--x13qgqtb)",button2DefaultMacwebkitOffsetBottomMultiLine:"var(--x14yprge)",button2DefaultMacwebkitOffsetBaselineAdjustment:"var(--xhyrjfp)",label1DefaultFontSize:"var(--xydakhk)",label1DefaultLetterSpacing:"var(--x1vmtqlo)",label1DefaultLineHeight:"var(--x8lkc6l)",label1DefaultFontWeight:"var(--x1sxsn7a)",label1DefaultFontFamily:"var(--x1ibsrpt)",label1DefaultFontStretch:"var(--xft0sg0)",label1DefaultFontWeightDense:"var(--x1xw0rk3)",label1DefaultTextTransform:"var(--xsxwzwb)",label1DefaultFontSizeDense:"var(--x1ngiu4s)",label1DefaultLineHeightDense:"var(--xftmar7)",label1DefaultFallbackFontMac:"var(--xwwz3vf)",label1DefaultFallbackFontDefault:"var(--x1oq879k)",label1DefaultFallbackFontWindows:"var(--x1jf57bl)",label1DefaultDefaultOffsetTop:"var(--x26fn0o)",label1DefaultDefaultOffsetBottom:"var(--x12443py)",label1DefaultDefaultOffsetBottomMultiLine:"var(--xes6co3)",label1DefaultDefaultOffsetBaselineAdjustment:"var(--x3j3nig)",label1DefaultWindowsOffsetTop:"var(--x11o3zy)",label1DefaultWindowsOffsetBottom:"var(--x1lq3gtn)",label1DefaultWindowsOffsetBottomMultiLine:"var(--x11p7162)",label1DefaultWindowsOffsetBaselineAdjustment:"var(--xf69g88)",label1DefaultMacgeckoOffsetTop:"var(--x194qbeb)",label1DefaultMacgeckoOffsetBottom:"var(--x1l5oe4r)",label1DefaultMacgeckoOffsetBottomMultiLine:"var(--xh4rgnz)",label1DefaultMacgeckoOffsetBaselineAdjustment:"var(--xm919oa)",label1DefaultMacwebkitOffsetTop:"var(--x4d2gj)",label1DefaultMacwebkitOffsetBottom:"var(--xy374i5)",label1DefaultMacwebkitOffsetBottomMultiLine:"var(--x3x7voi)",label1DefaultMacwebkitOffsetBaselineAdjustment:"var(--x2q6ra8)",label2DefaultFontSize:"var(--x1654hfm)",label2DefaultLetterSpacing:"var(--xi85ip4)",label2DefaultLineHeight:"var(--x1pwyogd)",label2DefaultFontWeight:"var(--xj3hr1f)",label2DefaultFontFamily:"var(--xrlmtbm)",label2DefaultFontStretch:"var(--x10wy1tj)",label2DefaultFontWeightDense:"var(--x24emab)",label2DefaultTextTransform:"var(--xram9ug)",label2DefaultFontSizeDense:"var(--xwkjt9a)",label2DefaultLineHeightDense:"var(--xtcmahl)",label2DefaultFallbackFontMac:"var(--xy8uzna)",label2DefaultFallbackFontDefault:"var(--x15lcf2u)",label2DefaultFallbackFontWindows:"var(--x1kcpoiv)",label2DefaultDefaultOffsetTop:"var(--xpmnmil)",label2DefaultDefaultOffsetBottom:"var(--x1bd5wlc)",label2DefaultDefaultOffsetBottomMultiLine:"var(--x1v1150x)",label2DefaultDefaultOffsetBaselineAdjustment:"var(--xt19kxi)",label2DefaultWindowsOffsetTop:"var(--xqfxec3)",label2DefaultWindowsOffsetBottom:"var(--x8hxdk9)",label2DefaultWindowsOffsetBottomMultiLine:"var(--xrc9cn0)",label2DefaultWindowsOffsetBaselineAdjustment:"var(--xx8qsk7)",label2DefaultMacgeckoOffsetTop:"var(--x1cqnplr)",label2DefaultMacgeckoOffsetBottom:"var(--xr7f3bb)",label2DefaultMacgeckoOffsetBottomMultiLine:"var(--x1cvkn9p)",label2DefaultMacgeckoOffsetBaselineAdjustment:"var(--xsgc348)",label2DefaultMacwebkitOffsetTop:"var(--x1cvt8dz)",label2DefaultMacwebkitOffsetBottom:"var(--xbi1q4h)",label2DefaultMacwebkitOffsetBottomMultiLine:"var(--x1vzisos)",label2DefaultMacwebkitOffsetBaselineAdjustment:"var(--x32hgdm)",caption1DefaultFontSize:"var(--x9695cf)",caption1DefaultLetterSpacing:"var(--x11otce1)",caption1DefaultLineHeight:"var(--x1211fgb)",caption1DefaultFontWeight:"var(--x1p598n2)",caption1DefaultFontFamily:"var(--x3x7vqq)",caption1DefaultFontStretch:"var(--x7h672y)",caption1DefaultFontWeightDense:"var(--x1rui8e3)",caption1DefaultTextTransform:"var(--x32uc7z)",caption1DefaultFontSizeDense:"var(--xum7q36)",caption1DefaultLineHeightDense:"var(--xvnkheb)",caption1DefaultFallbackFontMac:"var(--xybxab7)",caption1DefaultFallbackFontDefault:"var(--xm2jn79)",caption1DefaultFallbackFontWindows:"var(--xxbn6bl)",caption1DefaultDefaultOffsetTop:"var(--xu5uia9)",caption1DefaultDefaultOffsetBottom:"var(--xi5m5f5)",caption1DefaultDefaultOffsetBottomMultiLine:"var(--x7wo1dq)",caption1DefaultDefaultOffsetBaselineAdjustment:"var(--x4c8ij4)",caption1DefaultWindowsOffsetTop:"var(--xiewslt)",caption1DefaultWindowsOffsetBottom:"var(--x117gydm)",caption1DefaultWindowsOffsetBottomMultiLine:"var(--x1538inl)",caption1DefaultWindowsOffsetBaselineAdjustment:"var(--xp1endx)",caption1DefaultMacgeckoOffsetTop:"var(--x9cpa08)",caption1DefaultMacgeckoOffsetBottom:"var(--x1yy5r62)",caption1DefaultMacgeckoOffsetBottomMultiLine:"var(--xteklf7)",caption1DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1o60hd7)",caption1DefaultMacwebkitOffsetTop:"var(--x16kug0r)",caption1DefaultMacwebkitOffsetBottom:"var(--x106tzj6)",caption1DefaultMacwebkitOffsetBottomMultiLine:"var(--x1fxcd03)",caption1DefaultMacwebkitOffsetBaselineAdjustment:"var(--xb1grij)",caption1EmphasizedFontSize:"var(--x1pjrceu)",caption1EmphasizedLetterSpacing:"var(--x479410)",caption1EmphasizedLineHeight:"var(--x80eyxw)",caption1EmphasizedFontWeight:"var(--x121ktr9)",caption1EmphasizedFontFamily:"var(--xlxpd12)",caption1EmphasizedFontStretch:"var(--xoiih99)",caption1EmphasizedFontWeightDense:"var(--xm35t5h)",caption1EmphasizedTextTransform:"var(--x2no75d)",caption1EmphasizedFontSizeDense:"var(--xehneiy)",caption1EmphasizedLineHeightDense:"var(--x1otxvbk)",caption1EmphasizedFallbackFontMac:"var(--x8yvz03)",caption1EmphasizedFallbackFontDefault:"var(--x24q95h)",caption1EmphasizedFallbackFontWindows:"var(--x1fz1xqn)",caption1EmphasizedDefaultOffsetTop:"var(--x1sb9k97)",caption1EmphasizedDefaultOffsetBottom:"var(--x15rri8k)",caption1EmphasizedDefaultOffsetBottomMultiLine:"var(--xt362o8)",caption1EmphasizedDefaultOffsetBaselineAdjustment:"var(--xdi6hli)",caption1EmphasizedWindowsOffsetTop:"var(--x182ez8h)",caption1EmphasizedWindowsOffsetBottom:"var(--xfdj5q2)",caption1EmphasizedWindowsOffsetBottomMultiLine:"var(--xoeqqcl)",caption1EmphasizedWindowsOffsetBaselineAdjustment:"var(--x4hgyvv)",caption1EmphasizedMacgeckoOffsetTop:"var(--xdklue7)",caption1EmphasizedMacgeckoOffsetBottom:"var(--x6vepn6)",caption1EmphasizedMacgeckoOffsetBottomMultiLine:"var(--x1huyhov)",caption1EmphasizedMacgeckoOffsetBaselineAdjustment:"var(--x1yajiku)",caption1EmphasizedMacwebkitOffsetTop:"var(--x1i3rnz2)",caption1EmphasizedMacwebkitOffsetBottom:"var(--x4ib3yk)",caption1EmphasizedMacwebkitOffsetBottomMultiLine:"var(--x1pf5uke)",caption1EmphasizedMacwebkitOffsetBaselineAdjustment:"var(--xoge43j)",caption2DefaultFontSize:"var(--xf12veb)",caption2DefaultLetterSpacing:"var(--x1qhfzuu)",caption2DefaultLineHeight:"var(--x12pdvu3)",caption2DefaultFontWeight:"var(--xj2b5vn)",caption2DefaultFontFamily:"var(--x1572byx)",caption2DefaultFontStretch:"var(--xlcmcb5)",caption2DefaultFontWeightDense:"var(--x1kj5uie)",caption2DefaultTextTransform:"var(--x10dyydv)",caption2DefaultFontSizeDense:"var(--xlve5uf)",caption2DefaultLineHeightDense:"var(--x1qniqyi)",caption2DefaultFallbackFontMac:"var(--x9lo0mb)",caption2DefaultFallbackFontDefault:"var(--xksw5h7)",caption2DefaultFallbackFontWindows:"var(--xwaw8r8)",caption2DefaultDefaultOffsetTop:"var(--xz10qks)",caption2DefaultDefaultOffsetBottom:"var(--x2y0kgz)",caption2DefaultDefaultOffsetBottomMultiLine:"var(--xt6kmxp)",caption2DefaultDefaultOffsetBaselineAdjustment:"var(--xb28vxh)",caption2DefaultWindowsOffsetTop:"var(--xe97v07)",caption2DefaultWindowsOffsetBottom:"var(--x1vcyjkl)",caption2DefaultWindowsOffsetBottomMultiLine:"var(--x8qvwwh)",caption2DefaultWindowsOffsetBaselineAdjustment:"var(--xr5dv2i)",caption2DefaultMacgeckoOffsetTop:"var(--x14bi7z6)",caption2DefaultMacgeckoOffsetBottom:"var(--x1iutb6v)",caption2DefaultMacgeckoOffsetBottomMultiLine:"var(--xsbozer)",caption2DefaultMacgeckoOffsetBaselineAdjustment:"var(--x145phgi)",caption2DefaultMacwebkitOffsetTop:"var(--x1a0jcdm)",caption2DefaultMacwebkitOffsetBottom:"var(--xlji6tt)",caption2DefaultMacwebkitOffsetBottomMultiLine:"var(--x1wol7t9)",caption2DefaultMacwebkitOffsetBaselineAdjustment:"var(--x46outn)",caption3DefaultFontSize:"var(--xmys1oz)",caption3DefaultLetterSpacing:"var(--xpbcjqt)",caption3DefaultLineHeight:"var(--x186g4eq)",caption3DefaultFontWeight:"var(--x1t8d28s)",caption3DefaultFontFamily:"var(--xvhq5m3)",caption3DefaultFontStretch:"var(--x1qkbrvs)",caption3DefaultFontWeightDense:"var(--xoto7qg)",caption3DefaultTextTransform:"var(--x1965vh9)",caption3DefaultFontSizeDense:"var(--x8trd0s)",caption3DefaultLineHeightDense:"var(--x8mvqz)",caption3DefaultFallbackFontMac:"var(--x1g6wwep)",caption3DefaultFallbackFontDefault:"var(--x1ugqhsl)",caption3DefaultFallbackFontWindows:"var(--xrp0pga)",caption3DefaultDefaultOffsetTop:"var(--x3sol6n)",caption3DefaultDefaultOffsetBottom:"var(--x1udwt0p)",caption3DefaultDefaultOffsetBottomMultiLine:"var(--x1huec8c)",caption3DefaultDefaultOffsetBaselineAdjustment:"var(--xksiujm)",caption3DefaultWindowsOffsetTop:"var(--xyk183t)",caption3DefaultWindowsOffsetBottom:"var(--x11k0stt)",caption3DefaultWindowsOffsetBottomMultiLine:"var(--xdo3irv)",caption3DefaultWindowsOffsetBaselineAdjustment:"var(--x1x9d1gq)",caption3DefaultMacgeckoOffsetTop:"var(--x74uxmk)",caption3DefaultMacgeckoOffsetBottom:"var(--x1e38it4)",caption3DefaultMacgeckoOffsetBottomMultiLine:"var(--x140vf43)",caption3DefaultMacgeckoOffsetBaselineAdjustment:"var(--xjmrsu4)",caption3DefaultMacwebkitOffsetTop:"var(--x415vfk)",caption3DefaultMacwebkitOffsetBottom:"var(--xujtrp9)",caption3DefaultMacwebkitOffsetBottomMultiLine:"var(--x6za36d)",caption3DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1son7hb)",caption4DefaultFontSize:"var(--xwguj4j)",caption4DefaultLetterSpacing:"var(--x1lvzq8w)",caption4DefaultLineHeight:"var(--x11k1loh)",caption4DefaultFontWeight:"var(--x4kxcam)",caption4DefaultFontFamily:"var(--x8hzmlu)",caption4DefaultFontStretch:"var(--xuh5if2)",caption4DefaultFontWeightDense:"var(--xiep2pu)",caption4DefaultTextTransform:"var(--x1g90fqt)",caption4DefaultFontSizeDense:"var(--xb9npy)",caption4DefaultLineHeightDense:"var(--x3mo888)",caption4DefaultFallbackFontMac:"var(--x1qdf2pq)",caption4DefaultFallbackFontDefault:"var(--x1g4qq31)",caption4DefaultFallbackFontWindows:"var(--x18eapap)",caption4DefaultDefaultOffsetTop:"var(--x1jjujra)",caption4DefaultDefaultOffsetBottom:"var(--x1b1ms1z)",caption4DefaultDefaultOffsetBottomMultiLine:"var(--xzcidl7)",caption4DefaultDefaultOffsetBaselineAdjustment:"var(--x1vbaiwp)",caption4DefaultWindowsOffsetTop:"var(--x1qdhy74)",caption4DefaultWindowsOffsetBottom:"var(--x1gn8ajd)",caption4DefaultWindowsOffsetBottomMultiLine:"var(--x34pxhu)",caption4DefaultWindowsOffsetBaselineAdjustment:"var(--x1t2mehl)",caption4DefaultMacgeckoOffsetTop:"var(--x1jyogfk)",caption4DefaultMacgeckoOffsetBottom:"var(--xwnsi93)",caption4DefaultMacgeckoOffsetBottomMultiLine:"var(--x1cb7l9t)",caption4DefaultMacgeckoOffsetBaselineAdjustment:"var(--xlwtffm)",caption4DefaultMacwebkitOffsetTop:"var(--x1hnscan)",caption4DefaultMacwebkitOffsetBottom:"var(--x1p6wkyy)",caption4DefaultMacwebkitOffsetBottomMultiLine:"var(--xbdyy48)",caption4DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1wo46fi)",entityHeaderHeadline1DefaultFontSize:"var(--x562vke)",entityHeaderHeadline1DefaultLetterSpacing:"var(--x14ntmxi)",entityHeaderHeadline1DefaultLineHeight:"var(--xlymjwl)",entityHeaderHeadline1DefaultFontWeight:"var(--x1ns1hne)",entityHeaderHeadline1DefaultFontFamily:"var(--x4x4ic4)",entityHeaderHeadline1DefaultFontStretch:"var(--xawsubt)",entityHeaderHeadline1DefaultFontWeightDense:"var(--x1fud5f2)",entityHeaderHeadline1DefaultTextTransform:"var(--x1a6tm95)",entityHeaderHeadline1DefaultFontSizeDense:"var(--x1qdve4x)",entityHeaderHeadline1DefaultLineHeightDense:"var(--x1vfi75s)",entityHeaderHeadline1DefaultFallbackFontMac:"var(--xrteluo)",entityHeaderHeadline1DefaultFallbackFontDefault:"var(--xwq7tkg)",entityHeaderHeadline1DefaultFallbackFontWindows:"var(--xltyjl)",entityHeaderHeadline1DefaultDefaultOffsetTop:"var(--x1jy1c1c)",entityHeaderHeadline1DefaultDefaultOffsetBottom:"var(--x12i66yj)",entityHeaderHeadline1DefaultDefaultOffsetBottomMultiLine:"var(--xd0k4ey)",entityHeaderHeadline1DefaultDefaultOffsetBaselineAdjustment:"var(--x1fr0qlc)",entityHeaderHeadline1DefaultWindowsOffsetTop:"var(--x1fij96i)",entityHeaderHeadline1DefaultWindowsOffsetBottom:"var(--x14qokqw)",entityHeaderHeadline1DefaultWindowsOffsetBottomMultiLine:"var(--x1p2u5bd)",entityHeaderHeadline1DefaultWindowsOffsetBaselineAdjustment:"var(--x1yk77jx)",entityHeaderHeadline1DefaultMacgeckoOffsetTop:"var(--x844i5r)",entityHeaderHeadline1DefaultMacgeckoOffsetBottom:"var(--x1vipbx4)",entityHeaderHeadline1DefaultMacgeckoOffsetBottomMultiLine:"var(--xlc5ngc)",entityHeaderHeadline1DefaultMacgeckoOffsetBaselineAdjustment:"var(--xoyq0qf)",entityHeaderHeadline1DefaultMacwebkitOffsetTop:"var(--xro6ar3)",entityHeaderHeadline1DefaultMacwebkitOffsetBottom:"var(--x5wr6ke)",entityHeaderHeadline1DefaultMacwebkitOffsetBottomMultiLine:"var(--x1bai1r7)",entityHeaderHeadline1DefaultMacwebkitOffsetBaselineAdjustment:"var(--xoggf63)",entityHeaderHeadline2DefaultFontSize:"var(--x1g6r5b0)",entityHeaderHeadline2DefaultLetterSpacing:"var(--x1yex74s)",entityHeaderHeadline2DefaultLineHeight:"var(--x1nqfrbf)",entityHeaderHeadline2DefaultFontWeight:"var(--x6hyoyt)",entityHeaderHeadline2DefaultFontFamily:"var(--xbj59ie)",entityHeaderHeadline2DefaultFontStretch:"var(--x6zpteq)",entityHeaderHeadline2DefaultFontWeightDense:"var(--x1ly61ab)",entityHeaderHeadline2DefaultTextTransform:"var(--xec6xcd)",entityHeaderHeadline2DefaultFontSizeDense:"var(--x1swvqv9)",entityHeaderHeadline2DefaultLineHeightDense:"var(--x1us6h2s)",entityHeaderHeadline2DefaultFallbackFontMac:"var(--xqqn5kh)",entityHeaderHeadline2DefaultFallbackFontDefault:"var(--x10yplbo)",entityHeaderHeadline2DefaultFallbackFontWindows:"var(--x93kfj5)",entityHeaderHeadline2DefaultDefaultOffsetTop:"var(--xkq7gwl)",entityHeaderHeadline2DefaultDefaultOffsetBottom:"var(--xwstcob)",entityHeaderHeadline2DefaultDefaultOffsetBottomMultiLine:"var(--x13vyff7)",entityHeaderHeadline2DefaultDefaultOffsetBaselineAdjustment:"var(--x1pi689j)",entityHeaderHeadline2DefaultWindowsOffsetTop:"var(--x16xjy20)",entityHeaderHeadline2DefaultWindowsOffsetBottom:"var(--xl029z9)",entityHeaderHeadline2DefaultWindowsOffsetBottomMultiLine:"var(--xuiqyzz)",entityHeaderHeadline2DefaultWindowsOffsetBaselineAdjustment:"var(--x1f5vsap)",entityHeaderHeadline2DefaultMacgeckoOffsetTop:"var(--x17vnfe6)",entityHeaderHeadline2DefaultMacgeckoOffsetBottom:"var(--xgjb9u7)",entityHeaderHeadline2DefaultMacgeckoOffsetBottomMultiLine:"var(--x6mj85x)",entityHeaderHeadline2DefaultMacgeckoOffsetBaselineAdjustment:"var(--xru1tik)",entityHeaderHeadline2DefaultMacwebkitOffsetTop:"var(--xzgfs7o)",entityHeaderHeadline2DefaultMacwebkitOffsetBottom:"var(--xamylpb)",entityHeaderHeadline2DefaultMacwebkitOffsetBottomMultiLine:"var(--xhikiy)",entityHeaderHeadline2DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1q8iz3w)",entityHeaderMeta1DefaultFontSize:"var(--x1opztdk)",entityHeaderMeta1DefaultLetterSpacing:"var(--xxb4ih)",entityHeaderMeta1DefaultLineHeight:"var(--xon84gx)",entityHeaderMeta1DefaultFontWeight:"var(--x573hfg)",entityHeaderMeta1DefaultFontFamily:"var(--x1njttdf)",entityHeaderMeta1DefaultFontStretch:"var(--x1wcvlam)",entityHeaderMeta1DefaultFontWeightDense:"var(--xkeetul)",entityHeaderMeta1DefaultTextTransform:"var(--x1g42t6e)",entityHeaderMeta1DefaultFontSizeDense:"var(--xzmivme)",entityHeaderMeta1DefaultLineHeightDense:"var(--x2oe8bc)",entityHeaderMeta1DefaultFallbackFontMac:"var(--xxud6bn)",entityHeaderMeta1DefaultFallbackFontDefault:"var(--x82ztox)",entityHeaderMeta1DefaultFallbackFontWindows:"var(--x113mz3m)",entityHeaderMeta1DefaultDefaultOffsetTop:"var(--xnyvkgh)",entityHeaderMeta1DefaultDefaultOffsetBottom:"var(--x17midct)",entityHeaderMeta1DefaultDefaultOffsetBottomMultiLine:"var(--xil8yjb)",entityHeaderMeta1DefaultDefaultOffsetBaselineAdjustment:"var(--xrysafq)",entityHeaderMeta1DefaultWindowsOffsetTop:"var(--xbfqffi)",entityHeaderMeta1DefaultWindowsOffsetBottom:"var(--x1eedtr1)",entityHeaderMeta1DefaultWindowsOffsetBottomMultiLine:"var(--x8ywikw)",entityHeaderMeta1DefaultWindowsOffsetBaselineAdjustment:"var(--x4m2gy9)",entityHeaderMeta1DefaultMacgeckoOffsetTop:"var(--x1eiktyy)",entityHeaderMeta1DefaultMacgeckoOffsetBottom:"var(--xrk41vs)",entityHeaderMeta1DefaultMacgeckoOffsetBottomMultiLine:"var(--x53yn65)",entityHeaderMeta1DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1vwrybv)",entityHeaderMeta1DefaultMacwebkitOffsetTop:"var(--xsc0f5h)",entityHeaderMeta1DefaultMacwebkitOffsetBottom:"var(--x1xlc9hd)",entityHeaderMeta1DefaultMacwebkitOffsetBottomMultiLine:"var(--xlovacg)",entityHeaderMeta1DefaultMacwebkitOffsetBaselineAdjustment:"var(--xdbz28z)",entityHeaderMeta2DefaultFontSize:"var(--xsk3jfw)",entityHeaderMeta2DefaultLetterSpacing:"var(--x1tj6wtu)",entityHeaderMeta2DefaultLineHeight:"var(--xyxlbi5)",entityHeaderMeta2DefaultFontWeight:"var(--x1l96rin)",entityHeaderMeta2DefaultFontFamily:"var(--xz6ujff)",entityHeaderMeta2DefaultFontStretch:"var(--xldkaeu)",entityHeaderMeta2DefaultFontWeightDense:"var(--x101lihx)",entityHeaderMeta2DefaultTextTransform:"var(--x1hjh88p)",entityHeaderMeta2DefaultFontSizeDense:"var(--xkxhgaw)",entityHeaderMeta2DefaultLineHeightDense:"var(--xbb9z56)",entityHeaderMeta2DefaultFallbackFontMac:"var(--xwssdrg)",entityHeaderMeta2DefaultFallbackFontDefault:"var(--xazijgf)",entityHeaderMeta2DefaultFallbackFontWindows:"var(--x1j2mfry)",entityHeaderMeta2DefaultDefaultOffsetTop:"var(--x5xim3z)",entityHeaderMeta2DefaultDefaultOffsetBottom:"var(--xrifdjg)",entityHeaderMeta2DefaultDefaultOffsetBottomMultiLine:"var(--x1a5gb3v)",entityHeaderMeta2DefaultDefaultOffsetBaselineAdjustment:"var(--x1ldaztp)",entityHeaderMeta2DefaultWindowsOffsetTop:"var(--x1pqx3uu)",entityHeaderMeta2DefaultWindowsOffsetBottom:"var(--x19y5r0o)",entityHeaderMeta2DefaultWindowsOffsetBottomMultiLine:"var(--x1ghkizs)",entityHeaderMeta2DefaultWindowsOffsetBaselineAdjustment:"var(--x108ixv2)",entityHeaderMeta2DefaultMacgeckoOffsetTop:"var(--x1lz7y3m)",entityHeaderMeta2DefaultMacgeckoOffsetBottom:"var(--xfdb4gi)",entityHeaderMeta2DefaultMacgeckoOffsetBottomMultiLine:"var(--x12kr39k)",entityHeaderMeta2DefaultMacgeckoOffsetBaselineAdjustment:"var(--x2omo58)",entityHeaderMeta2DefaultMacwebkitOffsetTop:"var(--xtdhoq8)",entityHeaderMeta2DefaultMacwebkitOffsetBottom:"var(--x8aw7q7)",entityHeaderMeta2DefaultMacwebkitOffsetBottomMultiLine:"var(--xal80y0)",entityHeaderMeta2DefaultMacwebkitOffsetBaselineAdjustment:"var(--xjqhn61)",entityHeaderMeta3DefaultFontSize:"var(--x1u9w3fs)",entityHeaderMeta3DefaultLetterSpacing:"var(--x1xpl1a9)",entityHeaderMeta3DefaultLineHeight:"var(--xl75a9l)",entityHeaderMeta3DefaultFontWeight:"var(--xfgcxxl)",entityHeaderMeta3DefaultFontFamily:"var(--xxn888b)",entityHeaderMeta3DefaultFontStretch:"var(--x14ihi8j)",entityHeaderMeta3DefaultFontWeightDense:"var(--xy6y03z)",entityHeaderMeta3DefaultTextTransform:"var(--x1k1jvdr)",entityHeaderMeta3DefaultFontSizeDense:"var(--xdpbb61)",entityHeaderMeta3DefaultLineHeightDense:"var(--xm9tp9o)",entityHeaderMeta3DefaultFallbackFontMac:"var(--x19621bc)",entityHeaderMeta3DefaultFallbackFontDefault:"var(--x1vntvui)",entityHeaderMeta3DefaultFallbackFontWindows:"var(--xp6dtss)",entityHeaderMeta3DefaultDefaultOffsetTop:"var(--xpxzdx3)",entityHeaderMeta3DefaultDefaultOffsetBottom:"var(--xwe6069)",entityHeaderMeta3DefaultDefaultOffsetBottomMultiLine:"var(--x13av4em)",entityHeaderMeta3DefaultDefaultOffsetBaselineAdjustment:"var(--xxxwp2s)",entityHeaderMeta3DefaultWindowsOffsetTop:"var(--xu0pfvj)",entityHeaderMeta3DefaultWindowsOffsetBottom:"var(--x18hxv81)",entityHeaderMeta3DefaultWindowsOffsetBottomMultiLine:"var(--x148vt4a)",entityHeaderMeta3DefaultWindowsOffsetBaselineAdjustment:"var(--xyt4rp2)",entityHeaderMeta3DefaultMacgeckoOffsetTop:"var(--xq64s4p)",entityHeaderMeta3DefaultMacgeckoOffsetBottom:"var(--xuv0bqx)",entityHeaderMeta3DefaultMacgeckoOffsetBottomMultiLine:"var(--x1atrfoh)",entityHeaderMeta3DefaultMacgeckoOffsetBaselineAdjustment:"var(--x13nhdd3)",entityHeaderMeta3DefaultMacwebkitOffsetTop:"var(--xejdi0j)",entityHeaderMeta3DefaultMacwebkitOffsetBottom:"var(--xuw85tm)",entityHeaderMeta3DefaultMacwebkitOffsetBottomMultiLine:"var(--x1464jow)",entityHeaderMeta3DefaultMacwebkitOffsetBaselineAdjustment:"var(--x16ionsi)",headlineEmphasized1DefaultFontSize:"var(--xrcnwju)",headlineEmphasized1DefaultLetterSpacing:"var(--xeqhvir)",headlineEmphasized1DefaultLineHeight:"var(--x1sttxta)",headlineEmphasized1DefaultFontWeight:"var(--x19ec5t)",headlineEmphasized1DefaultFontFamily:"var(--x1ipqjg5)",headlineEmphasized1DefaultFontStretch:"var(--x4vw5o9)",headlineEmphasized1DefaultFontWeightDense:"var(--x8nxstx)",headlineEmphasized1DefaultTextTransform:"var(--x12fmvau)",headlineEmphasized1DefaultFontSizeDense:"var(--x9pfdtn)",headlineEmphasized1DefaultLineHeightDense:"var(--xliqn1t)",headlineEmphasized1DefaultFallbackFontMac:"var(--x1tn40x4)",headlineEmphasized1DefaultFallbackFontDefault:"var(--xy3sr8p)",headlineEmphasized1DefaultFallbackFontWindows:"var(--x9r5lrr)",headlineEmphasized1DefaultDefaultOffsetTop:"var(--x1tmycy4)",headlineEmphasized1DefaultDefaultOffsetBottom:"var(--x19ta4gj)",headlineEmphasized1DefaultDefaultOffsetBottomMultiLine:"var(--xkty5tv)",headlineEmphasized1DefaultDefaultOffsetBaselineAdjustment:"var(--x1ssxwfh)",headlineEmphasized1DefaultWindowsOffsetTop:"var(--xd4ewkf)",headlineEmphasized1DefaultWindowsOffsetBottom:"var(--xiab7yu)",headlineEmphasized1DefaultWindowsOffsetBottomMultiLine:"var(--xa7bicr)",headlineEmphasized1DefaultWindowsOffsetBaselineAdjustment:"var(--x1f4rmb4)",headlineEmphasized1DefaultMacgeckoOffsetTop:"var(--xf5unz4)",headlineEmphasized1DefaultMacgeckoOffsetBottom:"var(--x1car5so)",headlineEmphasized1DefaultMacgeckoOffsetBottomMultiLine:"var(--x1rbseiz)",headlineEmphasized1DefaultMacgeckoOffsetBaselineAdjustment:"var(--xm7gu2b)",headlineEmphasized1DefaultMacwebkitOffsetTop:"var(--x1223phr)",headlineEmphasized1DefaultMacwebkitOffsetBottom:"var(--x15gejpe)",headlineEmphasized1DefaultMacwebkitOffsetBottomMultiLine:"var(--x1b9r8kp)",headlineEmphasized1DefaultMacwebkitOffsetBaselineAdjustment:"var(--x44h3sp)",headlineEmphasized2DefaultFontSize:"var(--x1a9ozb7)",headlineEmphasized2DefaultLetterSpacing:"var(--xl5i3du)",headlineEmphasized2DefaultLineHeight:"var(--x1i5ivzu)",headlineEmphasized2DefaultFontWeight:"var(--x2y8ht2)",headlineEmphasized2DefaultFontFamily:"var(--x1ev5oeb)",headlineEmphasized2DefaultFontStretch:"var(--xtky6tl)",headlineEmphasized2DefaultFontWeightDense:"var(--x1rw79pu)",headlineEmphasized2DefaultTextTransform:"var(--xy7cnx6)",headlineEmphasized2DefaultFontSizeDense:"var(--xykn4bm)",headlineEmphasized2DefaultLineHeightDense:"var(--x16j14yu)",headlineEmphasized2DefaultFallbackFontMac:"var(--x1lq7mq7)",headlineEmphasized2DefaultFallbackFontDefault:"var(--xa1t1xu)",headlineEmphasized2DefaultFallbackFontWindows:"var(--xjayjzs)",headlineEmphasized2DefaultDefaultOffsetTop:"var(--x104x0ye)",headlineEmphasized2DefaultDefaultOffsetBottom:"var(--xeznojf)",headlineEmphasized2DefaultDefaultOffsetBottomMultiLine:"var(--xc34lvt)",headlineEmphasized2DefaultDefaultOffsetBaselineAdjustment:"var(--x2lfd8q)",headlineEmphasized2DefaultWindowsOffsetTop:"var(--x1unsy1a)",headlineEmphasized2DefaultWindowsOffsetBottom:"var(--x1e5ergx)",headlineEmphasized2DefaultWindowsOffsetBottomMultiLine:"var(--xz0clj9)",headlineEmphasized2DefaultWindowsOffsetBaselineAdjustment:"var(--x1w8egjv)",headlineEmphasized2DefaultMacgeckoOffsetTop:"var(--xxqv1uv)",headlineEmphasized2DefaultMacgeckoOffsetBottom:"var(--x4w8qr0)",headlineEmphasized2DefaultMacgeckoOffsetBottomMultiLine:"var(--xpsx227)",headlineEmphasized2DefaultMacgeckoOffsetBaselineAdjustment:"var(--xgahrtm)",headlineEmphasized2DefaultMacwebkitOffsetTop:"var(--x1qmtmxh)",headlineEmphasized2DefaultMacwebkitOffsetBottom:"var(--x9fdg3s)",headlineEmphasized2DefaultMacwebkitOffsetBottomMultiLine:"var(--x5xmk0n)",headlineEmphasized2DefaultMacwebkitOffsetBaselineAdjustment:"var(--xa8w304)",headlineEmphasized3DefaultFontSize:"var(--x4hnpxu)",headlineEmphasized3DefaultLetterSpacing:"var(--x5osz7f)",headlineEmphasized3DefaultLineHeight:"var(--xdqih8s)",headlineEmphasized3DefaultFontWeight:"var(--xcsvonq)",headlineEmphasized3DefaultFontFamily:"var(--x10qn02l)",headlineEmphasized3DefaultFontStretch:"var(--x1b4m1cp)",headlineEmphasized3DefaultFontWeightDense:"var(--x15lrnmm)",headlineEmphasized3DefaultTextTransform:"var(--x1cxzpaf)",headlineEmphasized3DefaultFontSizeDense:"var(--xmqcykb)",headlineEmphasized3DefaultLineHeightDense:"var(--x1cltvv8)",headlineEmphasized3DefaultFallbackFontMac:"var(--x2cykkv)",headlineEmphasized3DefaultFallbackFontDefault:"var(--x10a7qvo)",headlineEmphasized3DefaultFallbackFontWindows:"var(--x1egnz7f)",headlineEmphasized3DefaultDefaultOffsetTop:"var(--x16m7v2q)",headlineEmphasized3DefaultDefaultOffsetBottom:"var(--x1u6m80n)",headlineEmphasized3DefaultDefaultOffsetBottomMultiLine:"var(--x18bfpq7)",headlineEmphasized3DefaultDefaultOffsetBaselineAdjustment:"var(--xyzvix4)",headlineEmphasized3DefaultWindowsOffsetTop:"var(--xdxq9rq)",headlineEmphasized3DefaultWindowsOffsetBottom:"var(--x1uzw40)",headlineEmphasized3DefaultWindowsOffsetBottomMultiLine:"var(--xpyf4af)",headlineEmphasized3DefaultWindowsOffsetBaselineAdjustment:"var(--x1vyvfrd)",headlineEmphasized3DefaultMacgeckoOffsetTop:"var(--x1gquvzt)",headlineEmphasized3DefaultMacgeckoOffsetBottom:"var(--xyjof6g)",headlineEmphasized3DefaultMacgeckoOffsetBottomMultiLine:"var(--x1hd3q7i)",headlineEmphasized3DefaultMacgeckoOffsetBaselineAdjustment:"var(--x19qjqzh)",headlineEmphasized3DefaultMacwebkitOffsetTop:"var(--x1xsuj38)",headlineEmphasized3DefaultMacwebkitOffsetBottom:"var(--x1yomzb7)",headlineEmphasized3DefaultMacwebkitOffsetBottomMultiLine:"var(--x1u78zul)",headlineEmphasized3DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1986vq1)",headlineEmphasized4DefaultFontSize:"var(--xvo89t0)",headlineEmphasized4DefaultLetterSpacing:"var(--xlhrh3s)",headlineEmphasized4DefaultLineHeight:"var(--xs3qie1)",headlineEmphasized4DefaultFontWeight:"var(--x17hyov7)",headlineEmphasized4DefaultFontFamily:"var(--x3nt5yi)",headlineEmphasized4DefaultFontStretch:"var(--x11u2bv0)",headlineEmphasized4DefaultFontWeightDense:"var(--xchgx9)",headlineEmphasized4DefaultTextTransform:"var(--x1yvg85t)",headlineEmphasized4DefaultFontSizeDense:"var(--x1g4k50g)",headlineEmphasized4DefaultLineHeightDense:"var(--x1geor5j)",headlineEmphasized4DefaultFallbackFontMac:"var(--x1sc0yxx)",headlineEmphasized4DefaultFallbackFontDefault:"var(--x1y8knfl)",headlineEmphasized4DefaultFallbackFontWindows:"var(--x1l9fo55)",headlineEmphasized4DefaultDefaultOffsetTop:"var(--x1df8j6n)",headlineEmphasized4DefaultDefaultOffsetBottom:"var(--xbhz0gu)",headlineEmphasized4DefaultDefaultOffsetBottomMultiLine:"var(--x9c74f8)",headlineEmphasized4DefaultDefaultOffsetBaselineAdjustment:"var(--x1yu8qqq)",headlineEmphasized4DefaultWindowsOffsetTop:"var(--xqbqx50)",headlineEmphasized4DefaultWindowsOffsetBottom:"var(--x1ybau42)",headlineEmphasized4DefaultWindowsOffsetBottomMultiLine:"var(--xuqhngc)",headlineEmphasized4DefaultWindowsOffsetBaselineAdjustment:"var(--x1owjw4d)",headlineEmphasized4DefaultMacgeckoOffsetTop:"var(--xdmf6ii)",headlineEmphasized4DefaultMacgeckoOffsetBottom:"var(--x1ijusto)",headlineEmphasized4DefaultMacgeckoOffsetBottomMultiLine:"var(--xqnohao)",headlineEmphasized4DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1y2f6we)",headlineEmphasized4DefaultMacwebkitOffsetTop:"var(--x9oh9eg)",headlineEmphasized4DefaultMacwebkitOffsetBottom:"var(--x1kkq6xj)",headlineEmphasized4DefaultMacwebkitOffsetBottomMultiLine:"var(--xchsu4f)",headlineEmphasized4DefaultMacwebkitOffsetBaselineAdjustment:"var(--xouawjn)",headlineEmphasized5DefaultFontSize:"var(--xhjz105)",headlineEmphasized5DefaultLetterSpacing:"var(--x1d76q6u)",headlineEmphasized5DefaultLineHeight:"var(--x10qokvc)",headlineEmphasized5DefaultFontWeight:"var(--xkg52sa)",headlineEmphasized5DefaultFontFamily:"var(--x12we7gv)",headlineEmphasized5DefaultFontStretch:"var(--xbl0n4y)",headlineEmphasized5DefaultFontWeightDense:"var(--x1wmnrg0)",headlineEmphasized5DefaultTextTransform:"var(--x12hazeo)",headlineEmphasized5DefaultFontSizeDense:"var(--x1hloeg2)",headlineEmphasized5DefaultLineHeightDense:"var(--x1y5f9pf)",headlineEmphasized5DefaultFallbackFontMac:"var(--x1e39q0s)",headlineEmphasized5DefaultFallbackFontDefault:"var(--xiqh3fs)",headlineEmphasized5DefaultFallbackFontWindows:"var(--x15r12h6)",headlineEmphasized5DefaultDefaultOffsetTop:"var(--xn6xc30)",headlineEmphasized5DefaultDefaultOffsetBottom:"var(--x33e2qc)",headlineEmphasized5DefaultDefaultOffsetBottomMultiLine:"var(--xzaoxju)",headlineEmphasized5DefaultDefaultOffsetBaselineAdjustment:"var(--x13gmsqo)",headlineEmphasized5DefaultWindowsOffsetTop:"var(--x1t7huwx)",headlineEmphasized5DefaultWindowsOffsetBottom:"var(--x1luj43b)",headlineEmphasized5DefaultWindowsOffsetBottomMultiLine:"var(--x162vraq)",headlineEmphasized5DefaultWindowsOffsetBaselineAdjustment:"var(--x1j5qb3q)",headlineEmphasized5DefaultMacgeckoOffsetTop:"var(--x1i1scf6)",headlineEmphasized5DefaultMacgeckoOffsetBottom:"var(--x13ck6fq)",headlineEmphasized5DefaultMacgeckoOffsetBottomMultiLine:"var(--xffok5x)",headlineEmphasized5DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1biyz99)",headlineEmphasized5DefaultMacwebkitOffsetTop:"var(--x12mfawb)",headlineEmphasized5DefaultMacwebkitOffsetBottom:"var(--xvdpds6)",headlineEmphasized5DefaultMacwebkitOffsetBottomMultiLine:"var(--xiwqdq5)",headlineEmphasized5DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1xn63if)",meta1DefaultFontSize:"var(--x1fngy3z)",meta1DefaultLetterSpacing:"var(--x53wzyo)",meta1DefaultLineHeight:"var(--x1gofiew)",meta1DefaultFontWeight:"var(--xaftor3)",meta1DefaultFontFamily:"var(--xnk1txi)",meta1DefaultFontStretch:"var(--xrj1rqe)",meta1DefaultFontWeightDense:"var(--xdw199t)",meta1DefaultTextTransform:"var(--x1rop9ph)",meta1DefaultFontSizeDense:"var(--x5yi06h)",meta1DefaultLineHeightDense:"var(--x147mwbl)",meta1DefaultFallbackFontMac:"var(--x1xxzr14)",meta1DefaultFallbackFontDefault:"var(--x7rmuk9)",meta1DefaultFallbackFontWindows:"var(--xe0he2a)",meta1DefaultDefaultOffsetTop:"var(--x1ejjnbq)",meta1DefaultDefaultOffsetBottom:"var(--x125dsy5)",meta1DefaultDefaultOffsetBottomMultiLine:"var(--x12wiegm)",meta1DefaultDefaultOffsetBaselineAdjustment:"var(--xfyiln3)",meta1DefaultWindowsOffsetTop:"var(--xilhemm)",meta1DefaultWindowsOffsetBottom:"var(--x1ue31wu)",meta1DefaultWindowsOffsetBottomMultiLine:"var(--xh8ota4)",meta1DefaultWindowsOffsetBaselineAdjustment:"var(--x13zbmhi)",meta1DefaultMacgeckoOffsetTop:"var(--x1jygr35)",meta1DefaultMacgeckoOffsetBottom:"var(--x1ov6ipb)",meta1DefaultMacgeckoOffsetBottomMultiLine:"var(--x16dqcm)",meta1DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1rnj9yr)",meta1DefaultMacwebkitOffsetTop:"var(--x1higwa9)",meta1DefaultMacwebkitOffsetBottom:"var(--xtamlnj)",meta1DefaultMacwebkitOffsetBottomMultiLine:"var(--xjn8dfq)",meta1DefaultMacwebkitOffsetBaselineAdjustment:"var(--x2kn8s6)",meta2DefaultFontSize:"var(--xsrv52e)",meta2DefaultLetterSpacing:"var(--x117t5xe)",meta2DefaultLineHeight:"var(--x21z5kh)",meta2DefaultFontWeight:"var(--xopb6bs)",meta2DefaultFontFamily:"var(--x102f9br)",meta2DefaultFontStretch:"var(--xh0ay96)",meta2DefaultFontWeightDense:"var(--x12vnfst)",meta2DefaultTextTransform:"var(--xej8923)",meta2DefaultFontSizeDense:"var(--xlird6x)",meta2DefaultLineHeightDense:"var(--x1m8zxgb)",meta2DefaultFallbackFontMac:"var(--xtp44gi)",meta2DefaultFallbackFontDefault:"var(--x1srb639)",meta2DefaultFallbackFontWindows:"var(--x1eneg80)",meta2DefaultDefaultOffsetTop:"var(--x1m6wz75)",meta2DefaultDefaultOffsetBottom:"var(--xfcmd3r)",meta2DefaultDefaultOffsetBottomMultiLine:"var(--x1sky78h)",meta2DefaultDefaultOffsetBaselineAdjustment:"var(--xroz8fy)",meta2DefaultWindowsOffsetTop:"var(--xrgz37g)",meta2DefaultWindowsOffsetBottom:"var(--x1s2ceva)",meta2DefaultWindowsOffsetBottomMultiLine:"var(--x1q4yji6)",meta2DefaultWindowsOffsetBaselineAdjustment:"var(--x53mzsi)",meta2DefaultMacgeckoOffsetTop:"var(--xjmh6pu)",meta2DefaultMacgeckoOffsetBottom:"var(--x1eq7kva)",meta2DefaultMacgeckoOffsetBottomMultiLine:"var(--xb0e5e8)",meta2DefaultMacgeckoOffsetBaselineAdjustment:"var(--x1ly97zt)",meta2DefaultMacwebkitOffsetTop:"var(--x3lcpd8)",meta2DefaultMacwebkitOffsetBottom:"var(--x1sbalaz)",meta2DefaultMacwebkitOffsetBottomMultiLine:"var(--x18h7qzu)",meta2DefaultMacwebkitOffsetBaselineAdjustment:"var(--x1okqpqz)",meta3DefaultFontSize:"var(--x1e4zjoo)",meta3DefaultLetterSpacing:"var(--xdjnm3d)",meta3DefaultLineHeight:"var(--x1nrz33k)",meta3DefaultFontWeight:"var(--xxwfnrj)",meta3DefaultFontFamily:"var(--xeoes6w)",meta3DefaultFontStretch:"var(--xpldwqa)",meta3DefaultFontWeightDense:"var(--x7rvlmb)",meta3DefaultTextTransform:"var(--x1e0mpfx)",meta3DefaultFontSizeDense:"var(--x15srxtx)",meta3DefaultLineHeightDense:"var(--xphdxdp)",meta3DefaultFallbackFontMac:"var(--x21vuq5)",meta3DefaultFallbackFontDefault:"var(--x12iahl6)",meta3DefaultFallbackFontWindows:"var(--xlcoii3)",meta3DefaultDefaultOffsetTop:"var(--x1ot62ou)",meta3DefaultDefaultOffsetBottom:"var(--x11xja2z)",meta3DefaultDefaultOffsetBottomMultiLine:"var(--x9j31lx)",meta3DefaultDefaultOffsetBaselineAdjustment:"var(--xrzky0z)",meta3DefaultWindowsOffsetTop:"var(--x1q7rj78)",meta3DefaultWindowsOffsetBottom:"var(--x1jbpgcj)",meta3DefaultWindowsOffsetBottomMultiLine:"var(--x6x7lu)",meta3DefaultWindowsOffsetBaselineAdjustment:"var(--x1o9gm4h)",meta3DefaultMacgeckoOffsetTop:"var(--xeyupwv)",meta3DefaultMacgeckoOffsetBottom:"var(--x1py3qbb)",meta3DefaultMacgeckoOffsetBottomMultiLine:"var(--xwuy3rr)",meta3DefaultMacgeckoOffsetBaselineAdjustment:"var(--xsjk21m)",meta3DefaultMacwebkitOffsetTop:"var(--x1pno5fr)",meta3DefaultMacwebkitOffsetBottom:"var(--xguw5cy)",meta3DefaultMacwebkitOffsetBottomMultiLine:"var(--xgsmwj7)",meta3DefaultMacwebkitOffsetBaselineAdjustment:"var(--xs9o9la)",meta4DefaultFontSize:"var(--x1exhzsy)",meta4DefaultLetterSpacing:"var(--x1ghh7jg)",meta4DefaultLineHeight:"var(--x1bz9a3s)",meta4DefaultFontWeight:"var(--x1trlk5z)",meta4DefaultFontFamily:"var(--x1dvp97n)",meta4DefaultFontStretch:"var(--x1oq6h6a)",meta4DefaultFontWeightDense:"var(--x1u0phyw)",meta4DefaultTextTransform:"var(--x16ursoe)",meta4DefaultFontSizeDense:"var(--xrj002d)",meta4DefaultLineHeightDense:"var(--x1usxfp0)",meta4DefaultFallbackFontMac:"var(--xw07yd0)",meta4DefaultFallbackFontDefault:"var(--x10n7fmw)",meta4DefaultFallbackFontWindows:"var(--x13wx64g)",meta4DefaultDefaultOffsetTop:"var(--xo62llv)",meta4DefaultDefaultOffsetBottom:"var(--x1r557ik)",meta4DefaultDefaultOffsetBottomMultiLine:"var(--x1tzncoa)",meta4DefaultDefaultOffsetBaselineAdjustment:"var(--x1a6xbag)",meta4DefaultWindowsOffsetTop:"var(--x1vw4pd)",meta4DefaultWindowsOffsetBottom:"var(--xuq6qvu)",meta4DefaultWindowsOffsetBottomMultiLine:"var(--x1g0nlay)",meta4DefaultWindowsOffsetBaselineAdjustment:"var(--x1ouxnv2)",meta4DefaultMacgeckoOffsetTop:"var(--x1ihmaaz)",meta4DefaultMacgeckoOffsetBottom:"var(--xd5dqze)",meta4DefaultMacgeckoOffsetBottomMultiLine:"var(--x1dlsmbl)",meta4DefaultMacgeckoOffsetBaselineAdjustment:"var(--xsklfde)",meta4DefaultMacwebkitOffsetTop:"var(--x1lc7kpm)",meta4DefaultMacwebkitOffsetBottom:"var(--x1y7t1w2)",meta4DefaultMacwebkitOffsetBottomMultiLine:"var(--xmn1dft)",meta4DefaultMacwebkitOffsetBaselineAdjustment:"var(--xirq56i)",__themeName__:"xbi9o00"};b={buttonPrimaryBorderColor:"var(--x8pakf8)",buttonSecondaryBorderColor:"var(--x11jz1to)",mediaInnerBorderBorderColor:"var(--xsfy22o)",buttonBackgroundColorDisabled:"var(--xwvesdf)",buttonSecondaryBackgroundColor:"var(--x14jy57b)",buttonDestructiveBackground:"var(--x1xjt20f)",colorAccentPrimary:"var(--x1q33khj)",colorBackgroundCard:"var(--x1wjfhva)",colorBackgroundCardDeemphasized:"var(--x14m3912)",colorBackgroundWashDeemphasized:"var(--x1qnp667)",colorIconPrimary:"var(--x1ojuhre)",colorIconPrimaryDisabled:"var(--x19yyjk8)",colorIconSecondary:"var(--x13b0wua)",colorLink:"var(--xuafsgg)",colorPaletteBlack:"var(--x7oi2yx)",colorPaletteWhite:"var(--x1lsxukl)",colorTextPrimary:"var(--x1qjl60y)",colorTextSecondary:"var(--xphaj6b)",primaryTextOnMedia:"var(--xepdk9e)",accent:"var(--xr21y3p)",alwaysDarkOverlay:"var(--x1bbts0l)",buttonPrimaryBackground:"var(--xzfvszf)",buttonSecondaryBackground:"var(--xwlqvzg)",disabledButtonText:"var(--x1pgtk7p)",disabledText:"var(--xo745zx)",hoverOverlay:"var(--x1gr531t)",hscrollButtonBackground:"var(--x3w414t)",negative:"var(--x1ijorrw)",nonMediaPressed:"var(--xp9hchw)",placeholderText:"var(--xn0tfz8)",popoverBackground:"var(--xtiirlu)",positive:"var(--x590uvs)",primaryButtonText:"var(--xyjbdbx)",primaryDeemphasizedButtonBackground:"var(--x1vz9dov)",primaryDeemphasizedButtonText:"var(--x1we0gyq)",secondaryButtonBackgroundFloating:"var(--x1tdwz9y)",secondaryButtonText:"var(--x161mgqu)",secondaryTextOnMedia:"var(--x1e9hqnq)",tooltipBackground:"var(--x1rd8lt)",tooltipText:"var(--xvy4dms)",transparent:"var(--xqrg3i1)",surfaceBackground:"var(--xwh6bgr)",lastActiveStateText:"var(--x1dw3yzr)",lastActiveStateBackground:"var(--x1cimrvr)",buttonDisabledOpacity:"var(--x1l7pxtx)",shadowElevated:"var(--xvwd85c)",shadowNone:"var(--x67ewli)",shadowHscrollButton:"var(--xz3bmuy)",__themeName__:"x4666fc"};g.SharedGlobalConstantsVars=a;g.SharedGlobalColorsVars=b}),98);
__d("LSFriendshipStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CANNOT_REQUEST:0,ARE_FRIENDS:1,INCOMING_REQUEST:2,OUTGOING_REQUEST:3,CAN_REQUEST:4,UNKNOWN:5});f["default"]=a}),66);
__d("MAWOptimisticCreateOrDeleteReactionLSDB",["I64","LSAuthorityLevel","MAWTimeUtils","QPLUserFlow","ReQL","WATimeUtils","err","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(){return j(function(a,b,e,g,h,j){return h.runInTransaction(async function(f){try{var h=await f.reactions.get(a,b,j);await f.reactions.upsert([a,b,j],{actorId:j,authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),messageId:b,reaction:(f=e)!=null?f:"",threadKey:a,timestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),transportKey:"WhatsApp"});return h}catch(a){c("QPLUserFlow").addPoint(c("qpl")._(1056843664,"1465"),"fail_create_optimistic_reaction",{instanceKey:g});throw c("err")("Failed to send or unsend optimistic reaction: "+a+" ")}finally{c("QPLUserFlow").addPoint(c("qpl")._(1056843664,"1465"),"create_optimistic_reaction_end",{instanceKey:g})}},"readwrite",void 0,void 0,f.id+":51")},[])}function b(a,b,e,g,h){return a.runInTransaction(function(f){return h.then(function(h){if(h!=null)return f.reactions.upsert([h.threadKey,h.messageId,h.actorId],babelHelpers.extends({},h));else{h=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.reactions).getKeyRange(b,e,g).filter(function(a){return(i||(i=d("I64"))).equal(a.authorityLevel,i.of_int32(c("LSAuthorityLevel").OPTIMISTIC))}));return h.then(function(a){if(a==null)return;return f.reactions.delete(a.threadKey,a.messageId,a.actorId)})}})},"readwrite",void 0,void 0,f.id+":101")}g.useOptimisticReactionLSDB=a;g.markOptimisticReactionAsFailedLSDB=b}),98);
__d("MAWSendOrRemoveReaction.react",["FBLogger","Int64Hooks","MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWLoggerUtils","MAWMessageSendReporter","MAWMessageSendReporterV2","MAWMiActOnActThreadReady","MAWOptimisticCreateOrDeleteReactionLSDB","MWPActor.react","QPLUserFlow","WAResultOrError","err","promiseDone","qpl","react-compiler-runtime","sendToSentQPLLogger","useMWLSDefaultThreadSourceAndResetAttribution","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(9),f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=d("MAWLoggerUtils").getInstanceKey(),e[0]=f):f=e[0];var g=f,i=d("MWPActor.react").useActor(),j=(h||(h=c("useReStore")))(),k=d("MAWOptimisticCreateOrDeleteReactionLSDB").useOptimisticReactionLSDB(),l=c("useMWLSDefaultThreadSourceAndResetAttribution")(),m;e[1]!==i||e[2]!==k||e[3]!==j||e[4]!==l||e[5]!==b||e[6]!==a?(f=async function(e,f,h,m){var n=d("MAWDbMsg").toMsgId(e);if(b==null||n==null)return d("WAResultOrError").makeError({isRetriable:!1,type:"msg-id-null"});c("QPLUserFlow").start(c("qpl")._(1056843664,"1465"),{instanceKey:g});c("QPLUserFlow").addPoint(c("qpl")._(1056843664,"1465"),"create_optimistic_reaction_start",{instanceKey:g});var o=l(a),p=k(a,n,f,g,j,i);c("promiseDone")(p);e=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(j.tables,a,"MAWSendOrRemoveReaction.react");var q=e.chatJid;return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(n).then(async function(e){if(e==null)return d("WAResultOrError").makeError({isRetriable:!1,type:"protocol-msg-id-null"});e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendReactionMsg",{args:{groupingKey:"",reaction:f,reactToAuthor:b,reactToProtocolMsgId:e,source:o},chatJid:q,externalId:m,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:h}).catch(function(b){c("promiseDone")(d("MAWOptimisticCreateOrDeleteReactionLSDB").markOptimisticReactionAsFailedLSDB(j,a,n,i,p));throw b});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?e:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:q,externalId:m},e,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:h},j)}).then(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056843664,"1465"),{instanceKey:g});d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentSuccess(h);return(a==null?void 0:a.success)===!1?d("WAResultOrError").makeError(a.error):(a==null?void 0:a.value)!=null?a:d("WAResultOrError").makeResult({description:"removal pending rollout of Message Send Reporter V2",messageType:"fixMe"})}).catch(function(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to send or unsend optimistic reaction: %s.",a);c("QPLUserFlow").endFailure(c("qpl")._(1056843664,"1465"),"failure",{instanceKey:g});d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(h,"failed_to_send_remove_reaction",a);throw c("err")("Failed to send or unsend optimistic reaction: "+a+" ")})},m=[b,g,l,a,k,j,i],e[1]=i,e[2]=k,e[3]=j,e[4]=l,e[5]=b,e[6]=a,e[7]=f,e[8]=m):(f=e[7],m=e[8]);return d("Int64Hooks").useCallbackInt64(f,m)}g.useSendOrRemoveReaction=a}),98);
__d("MDSHeadlineWithAddOn.react",["BaseRow.react","BaseRowItem.react","Locale","MDSText.react","isIE11OrGreater","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOn:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginStart:"x1i64zmx",$$css:!0},nonBreakingSpace:{opacity:"xg01cxk",width:"xnalus7",$$css:!0},textFlexFixForIE:{flexBasis:"xdl72j9",$$css:!0}},k={ltr:{direction:"xzt5al7",$$css:!0},rtl:{direction:"xzyj77d",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;e=a.addOn;var g=a.children,h=a.color,l=a.headlineId,m=a.headlineRef,n=a.isSemanticHeading,o=a.numberOfLines;a=a.type;var p=a;a=a;var q;b[3]!==g||b[4]!==h||b[5]!==l||b[6]!==m||b[7]!==n||b[8]!==o||b[9]!==a?(q=i.jsx(c("BaseRowItem.react"),{expanding:!0,xstyle:c("isIE11OrGreater")&&j.textFlexFixForIE,children:i.jsx(c("MDSText.react"),{color:h,id:l,isSemanticHeading:n,numberOfLines:o,ref:m,type:a,children:g})}),b[3]=g,b[4]=h,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=a,b[10]=q):q=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("BaseRowItem.react"),{xstyle:j.nonBreakingSpace,children:"\xa0"}),b[11]=g):g=b[11];b[12]!==e?(h=i.jsx(c("BaseRowItem.react"),{verticalAlign:"top",xstyle:j.addOn,children:i.jsxs(c("BaseRow.react"),{verticalAlign:"center",children:[g,i.jsx(c("BaseRowItem.react"),{children:i.jsx(c("BaseRow.react"),{children:e})})]})}),b[12]=e,b[13]=h):h=b[13];b[14]!==q||b[15]!==h?(l=i.jsxs(c("BaseRow.react"),{verticalAlign:"center",xstyle:k[d("Locale").isRTL()?"rtl":"ltr"],children:[q,h]}),b[14]=q,b[15]=h,b[16]=l):l=b[16];b[17]!==f||b[18]!==p||b[19]!==l?(m=i.jsx(c("MDSText.react"),{isSemanticHeading:!1,ref:f,type:p,children:l}),b[17]=f,b[18]=p,b[19]=l,b[20]=m):m=b[20];return m}g["default"]=a}),98);
__d("getMDSTextHierarchyStyle",["memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoizeWithArgs")(function(a,b){switch(a){case 1:return{bodyType:"body1",headlineType:"headlineEmphasized1",metaType:"meta1"};case 2:return{bodyType:"body2",headlineType:"headlineEmphasized2",metaType:"meta2"};case 3:return{bodyType:"body3",headlineType:b===!0?"headline3":"headlineEmphasized3",metaType:"meta3"};default:case 4:return{bodyType:"body4",headlineType:b===!0?"headline4":"headlineEmphasized4",metaType:"meta4"};case"entityHeader1":return{bodyType:"body2",headlineType:"entityHeaderHeadline1",metaType:"entityHeaderMeta1"};case"entityHeader2":return{bodyType:"body2",headlineType:"entityHeaderHeadline2",metaType:"entityHeaderMeta2"}}},function(a,b){return String(a)+(b===!0?"":"e")});g["default"]=a}),98);
__d("MDSTextPairing.react",["Box.react","MDSHeadlineWithAddOn.react","MDSText.react","getMDSTextHierarchyStyle","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={item:{marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"xs83m0k",marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0}},k={1:{marginBottom:"x11tup63",marginTop:"x16z1lm9",$$css:!0},2:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},entityHeader1:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},entityHeader2:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0}},l={1:{marginBottom:"xwoyzhm",marginTop:"x1rhet7l",$$css:!0},2:{marginBottom:"xzueoph",marginTop:"x1k70j0n",$$css:!0},entityHeader1:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0},entityHeader2:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(44),e=a.body,f=a.bodyColor,g=a.bodyId,h=a.bodyLineLimit,m=a.bodyRef,n=a.headline,o=a.headlineAddOn,p=a.headlineColor,q=a.headlineId,r=a.headlineLineLimit,s=a.headlineRef,t=a.isPrimaryHeading,u=a.isSemanticHeading,v=a.level,w=a.meta,x=a.metaColor,y=a.metaId,z=a.metaLineLimit,A=a.metaLocation,B=a.metaRef,C=a.reduceEmphasis,D=a.testid;a=a.textAlign;f=f===void 0?"primary":f;p=p===void 0?"primary":p;x=x===void 0?"secondary":x;A=A===void 0?"below":A;C=C===void 0?!1:C;a=a===void 0?"start":a;var E;b[0]!==v||b[1]!==C?(E=c("getMDSTextHierarchyStyle")(v,C),b[0]=v,b[1]=C,b[2]=E):E=b[2];C=E;E=C.bodyType;var F=C.headlineType;C=C.metaType;var G=l[v],H;b[3]!==G?(H=[j.item,G],b[3]=G,b[4]=H):H=b[4];G=H;b[5]!==n||b[6]!==o||b[7]!==p||b[8]!==q||b[9]!==r||b[10]!==s||b[11]!==F||b[12]!==t||b[13]!==u||b[14]!==G||b[15]!==a?(H=n!=null&&i.jsx(c("Box.react"),{xstyle:G,children:o!=null?i.jsx(c("MDSHeadlineWithAddOn.react"),{addOn:o,color:p,headlineId:q,headlineRef:s,isPrimaryHeading:t,isSemanticHeading:u,numberOfLines:r,type:F,children:n}):i.jsx(c("MDSText.react"),{align:a,color:p,id:q,isPrimaryHeading:t,isSemanticHeading:u,numberOfLines:r,ref:s,type:F,children:n})}),b[5]=n,b[6]=o,b[7]=p,b[8]=q,b[9]=r,b[10]=s,b[11]=F,b[12]=t,b[13]=u,b[14]=G,b[15]=a,b[16]=H):H=b[16];n=H;b[17]!==G||b[18]!==w||b[19]!==x||b[20]!==y||b[21]!==z||b[22]!==B||b[23]!==C||b[24]!==a?(o=w!=null&&i.jsx(c("Box.react"),{xstyle:G,children:i.jsx(c("MDSText.react"),{align:a,color:x,id:y,isSemanticHeading:!1,numberOfLines:z,ref:B,type:C,children:w})}),b[17]=G,b[18]=w,b[19]=x,b[20]=y,b[21]=z,b[22]=B,b[23]=C,b[24]=a,b[25]=o):o=b[25];p=o;q=k[v];b[26]!==q?(r=[j.root,q],b[26]=q,b[27]=r):r=b[27];s=A==="above"&&p;b[28]!==e||b[29]!==f||b[30]!==g||b[31]!==h||b[32]!==m||b[33]!==E||b[34]!==G||b[35]!==a?(F=e!=null&&i.jsx(c("Box.react"),{xstyle:G,children:i.jsx(c("MDSText.react"),{align:a,color:f,id:g,isSemanticHeading:!1,numberOfLines:h,ref:m,type:E,children:e})}),b[28]=e,b[29]=f,b[30]=g,b[31]=h,b[32]=m,b[33]=E,b[34]=G,b[35]=a,b[36]=F):F=b[36];t=A==="below"&&p;b[37]!==n||b[38]!==r||b[39]!==s||b[40]!==F||b[41]!==t||b[42]!==D?(u=i.jsxs(c("Box.react"),{"data-testid":void 0,xstyle:r,children:[s,n,F,t]}),b[37]=n,b[38]=r,b[39]=s,b[40]=F,b[41]=t,b[42]=D,b[43]=u):u=b[43];return u}g["default"]=a}),98);
__d("MWGetInboxNavigateQPLEventTrace",["I64","InteractionTracing","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=c("qpl")._(29818882,"2410"),f=c("InteractionTracing").getPendingInteractions();for(f of f){var g;if(((g=f.getTrace())==null?void 0:g.qplEvent)===e){((g=f.getTrace())==null?void 0:(g=g.annotations.string)==null?void 0:g.thread_id)===(h||(h=d("I64"))).to_string(a)&&b(f)}}}g["default"]=a}),98);
__d("MWBlockedComposerLogging",["$InternalEnum","Int64Hooks","MWGetChatTabOpenQPLEventTrace","MWGetInboxNavigateQPLEventTrace","MWLSThreadDisplayContext","MessengerWebUXLogger","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({USER_BLOCKED_CANNOT_MESSAGE:"user_blocked_cannot_message",USER_BLOCKED_CANNOT_REPLY:"user_blocked_cannot_reply",USER_RESTRICTED:"user_restricted",GAMING_GAME_BOT:"gaming_game_bot",GAMING_GET_STARTED_CTA:"gaming_get_started_cta",FEATURE_LIMITED_TO_READONLY:"feature_limited_to_readonly",PAGE_THREAD_DISABLED:"page_thread_disabled",USER_BLOCKED:"user_blocked",USER_UNREACHABLE:"user_unreachable",ARMADILLO_THREAD_ALREADY_CUTOVER:"thread_already_cutover",ARMADILLO_GROUP_THREAD_CUTOVER:"cutover_group_thread",ARMADILLO_DEFAULT_E2EE_ONE_TO_ONE_BLOCK:"default_e2ee_one_to_one_block",ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:"receiver_non_addressable_on_wa",ARMADILLO_DUAL_THREAD_CUTOVER:"dual_thread_cutover",NOT_BLOCKED:"not_blocked",ON_DEMAND_CUTOVER:"on_demand_cutover",USER_UNREACHABLE_MESSAGE_REQUEST:"user_unreachable_message_request"});function i(a,b){var c=a.getTrace();c=[].concat((c=c==null?void 0:(c=c.annotations.string_array)==null?void 0:c.blockedReasons)!=null?c:[],[b]);a.addAnnotationStringArray("blockedReasons",c);a.addMarkerPoint("composer_blocked_start","AppTiming")}function a(a,b){var e=d("react-compiler-runtime").c(8),f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=c("MessengerWebUXLogger").useInteractionLogger(),l;e[0]!==g||e[1]!==b||e[2]!==a?(l=function(){if(a==null||b===h.NOT_BLOCKED)return;c("MWGetChatTabOpenQPLEventTrace")(a,function(a){i(a,b)});c("MWGetInboxNavigateQPLEventTrace")(a,function(a){i(a,b)});g==null?void 0:g({eventName:"composer_block",extraData:{blockedReason:b},threadKey:a});return function(){c("MWGetChatTabOpenQPLEventTrace")(a,k),c("MWGetInboxNavigateQPLEventTrace")(a,j)}},e[0]=g,e[1]=b,e[2]=a,e[3]=l):l=e[3];var m;e[4]!==f||e[5]!==b||e[6]!==a?(m=[f,b,a],e[4]=f,e[5]=b,e[6]=a,e[7]=m):m=e[7];d("Int64Hooks").useEffectInt64(l,m)}function j(a){a.addMarkerPoint("composer_blocked_end","AppTiming")}function k(a){a.addMarkerPoint("composer_blocked_end","AppTiming")}g.ComposerBlockingReason=h;g.useLogMWBlockedComposerReason=a}),98);
__d("MWMessageRequestSharedTexts.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._(/*BTDS*/"If you reply, {FBFullName} will also be able to call you and see info such as your Active Status and when you've read messages.",[h._param("FBFullName",a)])}function b(a){return h._(/*BTDS*/"If you reply, {FBFullName} will be able to message and call you.",[h._param("FBFullName",a)])}function c(a){return h._(/*BTDS*/"I Don't Want to Hear from {name}",[h._param("name",a)])}function d(a){return h._(/*BTDS*/"You can permanently delete the conversation or block {FBShortName} from sending you messages or calls. We won't tell them that you've taken these actions.",[h._param("FBShortName",a)])}function e(){return h._(/*BTDS*/"You can open a message request for more info on who sent it. They won't be notified that you opened it.")}function f(){return h._(/*BTDS*/"Requests")}g.getFBUserInfoTextMessage=a;g.getFBUserInfoTextMessageForMSplit=b;g.getDefaultInfoTextFooter=c;g.getDeclineUserDialogText=d;g.getMessageRequestHeaderInfoText=e;g.getMessageRequestHeaderTitleText=f}),226);
__d("MWXComposerBanner.react",["CometAccessibilityAnnouncement.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={banner:{paddingBottom:"xjkvuk6",$$css:!0},block:{paddingBottom:"x1l90r2v",$$css:!0},button:{maxWidth:"x1va8c73",$$css:!0},composerRow:{marginBottom:"xmgb6t1",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmerButton:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6",height:"xxk0z11",marginTop:"x1xmf6yo",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x8182xy",width:"xvy4d1p",$$css:!0},glimmerButtonEmoji:{marginTop:"x1xmf6yo",marginEnd:"xwrv7xz",marginBottom:"xjpr12u",marginStart:"x12mruv9",$$css:!0},glimmerComposer:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",height:"xc9qbxq",marginTop:"xr9ek0c",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x1mh8g0r",width:"xh8yej3",$$css:!0},loading:{borderTopWidth:"x972fbf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.assertive,f=a.bodyText,g=a.buttons,h=a.headerText,l=a.loading,m=a.ref,n=a.testid;a=a.variant;e=e===void 0?!1:e;l=l===void 0?!1:l;a=a===void 0?"block":a;var o=a==="banner"&&j.banner;a=a==="block"&&j.block;var p=l&&j.loading,q;b[0]!==o||b[1]!==a||b[2]!==p?(q=[j.container,o,a,p],b[0]=o,b[1]=a,b[2]=p,b[3]=q):q=b[3];b[4]!==l?(o=l===!0?i.jsx(c("MWXColumnItem.react"),{paddingVertical:0,children:i.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,children:[i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerButton})}),i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerButton})}),i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerButton})}),i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerButton})}),i.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:j.composerRow,children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerComposer})}),i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[j.glimmerButton,j.glimmerButtonEmoji]})})]})}):null,b[4]=l,b[5]=o):o=b[5];b[6]!==e||b[7]!==f||b[8]!==h?(a=h!=null||f!=null?i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("CometAccessibilityAnnouncement.react"),{assertive:e,isVisible:!0,children:i.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXTextPairing.react"),{headline:h,isSemanticHeading:!0,level:4,meta:f,textAlign:"center"})})})})}):null,b[6]=e,b[7]=f,b[8]=h,b[9]=a):a=b[9];b[10]!==g?(p=g?i.jsx(c("MWXRow.react"),{align:"center",spacing:8,children:Array.isArray(g)?g.map(k):i.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:j.button,children:g},"button")}):null,b[10]=g,b[11]=p):p=b[11];b[12]!==p||b[13]!==q||b[14]!==o||b[15]!==a||b[16]!==n?(l=i.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:m,spacing:20,testid:void 0,xstyle:q,children:[o,a,p]}),b[12]=p,b[13]=q,b[14]=o,b[15]=a,b[16]=n,b[17]=l):l=b[17];return l}function k(a,b){return i.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:j.button,children:i.jsx(c("MWXButton.react"),babelHelpers["extends"]({type:"secondary"},a))},b)}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FBIconMinusFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M452.25 1080.5h8a.75.75 0 1 0 0-1.5h-8a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSContactCapabilityBitOffset",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGE:0,REPLY_MESSAGE:1,JOIN_GROUP:2,BLOCK:3,SEE:4,SEE_FACEBOOK_PROFILE:5,PAYMENT:6,CAMERA:7,MEDIA_PICKER:8,STICKER:9,GIF:10,AUDIO_CLIPS:11,SHARED_MEDIA:12,REACTIONS:13,SEEN_HEADS:14,THREAD_DETAILS:15,RTC_VIDEO_CALL:16,RTC_VOICE_CALL:17,THREAD_FEEDBACK_AND_REPORT:18,GO_TO_SECRET_CONVERSATION:19,MAKE_ADMIN:20,REMOVE_FROM_GROUP:21,REMOVE_AS_ADMIN:22,VERIFIED:23,DISAPPEARING_MODE:24,SEE_MESSAGE:25,PSEUDO_BLOCK:26,PUSHABLE:27,MESSAGE_BLOCK_PLACED:28,FACEBOOK_BLOCK_PLACED:29,VIEWER_IS_UNCONNECTED:64,PAGE_PLATFORM_BOT:65,RESTRICT_PLACED:66,IS_XAC_ELIGIBLE:67,IS_GROUPS_XAC_ELIGIBLE:68,IS_GROUPS_XAC_CALLING_ELIGIBLE:69,IS_E2EE_ONLY:70,IS_ELIGIBLE_FOR_SAFETY_NOTICE:71,NOVI:72,IS_CONTACT_SHAREABLE:73,IS_HIDDEN:74,IS_THREAD_CUTOVER_USER:75,HAS_CUTOVER_THREAD:76,IS_COMMUNITY_BOT_PAGE:77,IS_NOT_SEARCHABLE:78,CAN_UPSELL_VOICEMAIL:79,DEFAULT_E2EE_THREADS:80,INCALL_CAPTIONS:81,IS_INTERNAL:82,DEFAULT_E2EE_THREAD_ONE_TO_ONE:83,IS_GROUP_UPDATES_BOT:84,LINK_TO_IG_PROFILE:85,IS_MARKETPLACE_NOT_CONSENTED:86,IS_GAMING_NOT_CONSENTED:87,DISABLE_MP_DMA_THREAD_COMPOSER:88,IS_GAMING_CONSENT_UNDECIDED:89,IS_GAMING_CONSENTED:90,IS_MSPLIT_NOT_CONSENTED:91,IS_MSPLIT_CONSENT_UNDECIDED:92,WORK_CHAT_GOVERNANCE_BLOCKED:93,HAS_P2P_DISAPPEARING_MESSAGES_THREAD:94,HAS_INSTAMADILLO_CUTOVER_THREAD:95,HAS_TTLC_CLIP_ENABLED:96,HAS_TTLC_GENERIC_XMA_SHARE_ENABLED:97,HAS_TTLC_MEDIA_SHARE_ENABLED:98,HAS_TTLC_STORY_SHARE_ENABLED:99,ELIGIBLE_FOR_META_VERIFIED_LABEL:100,HAS_JENGA_WORKCHAT_DEFLECTION_ENABLED:101,RESTRICT_CREATING_GROUP_THREAD:102,IS_USER_GENERATED_CHARACTER_BOT:103,IS_FRIENDING_RESTRICTED:104,SHARING_MESSAGES_TO_META_AI_ENABLED:105,IS_INELIGIBLE_FOR_DISPLAY_IN_BCF_NS:106,IS_RESTRICTED_USER_PROFILE_IN_COMMUNITY_MESSAGING:107,SUPPORTS_OPUS_VOICE_MESSAGE:108,IS_SUPPORT_AI_BOT:109});f["default"]=a}),66);
__d("LS_Contact",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.phoneNumber}function d(a){return a.value.normalizedNameForSearch}function e(a){return a.value.profilePictureFallbackUrl}function g(a){return a.value.profilePictureUrlExpirationTimestampMs}function h(a){return a.value.profilePictureLargeUrl}function i(a){return a.value.profilePictureLargeFallbackUrl}function j(a){return a.value.profilePictureLargeUrlExpirationTimestampMs}function k(a){return a.value.contactReachabilityStatusType}function l(a){return a.value.capabilities2}function m(a){return a.value.id}function n(a){return a.value.profilePictureUrl}function o(a){return a.value.name}function p(a){return a.value.normalizedSearchTerms}function q(a){return a.value.isMessengerUser}function r(a){return a.value.isMemorialized}function s(a){return a.value.isManagedByViewer}function t(a){return a.value.blockedByViewerStatus}function u(a){return a.value.optimisticBlockedByViewerStatus}function v(a){return a.value.optimisticBlockedByViewerStatusTimestampMs}function w(a){return a.value.pendingMnUserBlockAction}function x(a){return a.value.pendingMnUserBlockActionTimestampMs}function y(a){return a.value.pendingFbUserBlockAction}function z(a){return a.value.pendingFbUserBlockActionTimestampMs}function A(a){return a.value.rank}function B(a){return a.value.firstName}function C(a){return a.value.contactType}function D(a){return a.value.pendingMessengerRestrictAction}function E(a){return a.value.contactTypeExact}function F(a){return a.value.messengerCallLogThirdPartyId}function G(a){return a.value.profileRingColor}function H(a){return a.value.requiresMultiway}function I(a){return a.value.blockedSinceTimestampMs}function J(a){return a.value.fbUnblockedSinceTimestampMs}function K(a){return a.value.canViewerMessage}function L(a){return a.value.emailAddress}function M(a){return a.value.profileRingColorExpirationTimestampMs}function N(a){return a.value.workCompanyId}function O(a){return a.value.workCompanyName}function P(a){return a.value.workJobTitle}function Q(a){return a.value.profileRingState}function R(a){return a.value.deviceContactId}function S(a){return a.value.workForeignEntityType}function T(a){return a.value.capabilities}function U(a){return a.value.contactViewerRelationship}function V(a){return a.value.gender}function W(a){return a.value.secondaryName}function X(a){return a.value.username}function Y(a){return a.value.friendshipStatus}function Z(a){return a.value.restrictionType}function $(a){return a.value.waConnectStatus}function aa(a){return a.value.isEmployee}function ba(a){return a.value.pageType}function ca(a){return a.value.authorityLevel}f.__context=a;f.__lightspeed_table_row=b;f.phone_number=c;f.normalized_name_for_search=d;f.profile_picture_fallback_url=e;f.profile_picture_url_expiration_timestamp_ms=g;f.profile_picture_large_url=h;f.profile_picture_large_fallback_url=i;f.profile_picture_large_url_expiration_timestamp_ms=j;f.contact_reachability_status_type=k;f.capabilities_2=l;f.id_=m;f.profile_picture_url=n;f.name=o;f.normalized_search_terms=p;f.is_messenger_user=q;f.is_memorialized=r;f.is_managed_by_viewer=s;f.blocked_by_viewer_status=t;f.optimistic_blocked_by_viewer_status=u;f.optimistic_blocked_by_viewer_status_timestamp_ms=v;f.pending_mn_user_block_action=w;f.pending_mn_user_block_action_timestamp_ms=x;f.pending_fb_user_block_action=y;f.pending_fb_user_block_action_timestamp_ms=z;f.rank=A;f.first_name=B;f.contact_type=C;f.pending_messenger_restrict_action=D;f.contact_type_exact=E;f.messenger_call_log_third_party_id=F;f.profile_ring_color=G;f.requires_multiway=H;f.blocked_since_timestamp_ms=I;f.fb_unblocked_since_timestamp_ms=J;f.can_viewer_message=K;f.email_address=L;f.profile_ring_color_expiration_timestamp_ms=M;f.work_company_id=N;f.work_company_name=O;f.work_job_title=P;f.profile_ring_state=Q;f.device_contact_id=R;f.work_foreign_entity_type=S;f.capabilities=T;f.contact_viewer_relationship=U;f.gender=V;f.secondary_name=W;f.username=X;f.friendship_status=Y;f.restriction_type=Z;f.wa_connect_status=$;f.is_employee=aa;f.page_type=ba;f.authority_level=ca}),66);
__d("LSContactHasCapability__has_capability$normalization.graphql",["LS_Contact","LS_Contact"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSContactHasCapability__has_capability$normalization",selections:[{kind:"ClientExtension",selections:[{name:"capabilities",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").capabilities,rootFragment:null}},{name:"capabilities_2",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").capabilities_2,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSContactHasCapability__has_capability.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSContactHasCapability__has_capability",selections:[{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities_2",storageKey:null}],type:"LS_Contact",abstractKey:null};e.exports=a}),null);
__d("LSRelayConnections",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.end_cursor}function b(a){return a.has_next_page}function d(a){return a.has_previous_page}function e(a){return(a=a.is_loading_next)!=null?a:!1}function f(a){return(a=a.is_loading_previous)!=null?a:!1}function h(a){return a.start_cursor}function i(a){return JSON.stringify(a)}function j(a){return JSON.parse(a)}function k(a,b){if(a.length>b.first+1)throw c("FBLogger")("meteora").mustfixThrow("Got more edges (%s) than expected given the limit (%s).",a.length,b.first);var d=a[0],e=a.length>=b.first+1;b=e?b.first-1:a.length-1;a=a.length>0?a[b]:null;return{end_cursor:a!=null?i(a.value[0]):null,has_next_page:e,has_previous_page:!1,start_cursor:d!=null?i(d.value[0]):null}}function l(a){var b;if(((b=a.first)!=null?b:0)<=0)throw c("FBLogger")("meteora").mustfixThrow("Invalid `first` argument passed to connection: expected > 0 but got %s",String(a.first))}function m(a,b){a=a;b.after!=null&&(a=a.bounds({gt:j(b.after)}));b.before!=null&&(a=a.bounds({lt:j(b.before)}));a=a.take(b.first+1);return a}g.end_cursor=a;g.has_next_page=b;g.has_previous_page=d;g.is_loading_next=e;g.is_loading_previous=f;g.start_cursor=h;g.keyToCursor=i;g.cursorToKey=j;g.pageInfoFromEdges=k;g.validateArgsOrThrow=l;g.applyConnectionArgs=m}),98);
__d("LSRelayContextDB",["FBLogger","LSDatabaseSingleton","cr:8556","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){switch(a){case"PROD":return(h||(h=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();case"EXAMPLE":if(b("cr:8556")==null)throw c("err")("Loading test data on prod");return b("cr:8556").getExampleLSDatabasePromise();default:throw c("FBLogger")("lightspeed_resolvers").mustfixThrow("Unsupported dbType: %s",a)}}g.getLSDbStoragePromise=a}),98);
__d("LSRelayContext",["LSRelayContextDB","Promise","RelayAPIConfig","isPromise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=a.dbType;a=k(a);return a instanceof(i||(i=b("Promise")))?a.then(function(a){return{actorID:c("RelayAPIConfig").actorID,db:a}}):{actorID:c("RelayAPIConfig").actorID,db:a}}var j={};function k(a){if(j[a]==null){var b=d("LSRelayContextDB").getLSDbStoragePromise(a);j[a]=b;(h||(h=c("isPromise")))(b)&&c("promiseDone")(b,function(b){j[a]=b})}return j[a]}g.getContext=a}),98);
__d("LSRelayLiveResolvers",["LSRelayConnections","ReQLObservable","areEqual","emptyFunction","relay-runtime","transformObservableToLiveState"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return j(k(a,b),function(b){return b.map(function(b){b[0];b=b[1];return{context:a,value:b}})})}function b(a,b,c){d("LSRelayConnections").validateArgsOrThrow(c);return j(k(a,function(a){return d("LSRelayConnections").applyConnectionArgs(b(a),c)}),function(b){b=b.map(function(b){return{context:a,value:b}});return{context:a,value:{edges:b.slice(0,c.first),page_info:d("LSRelayConnections").pageInfoFromEdges(b,c)}}})}function e(a,b){return j(k(a,function(a){return b(a).take(1)}),function(b){return b.length>0?{context:a,value:b[0][1]}:null})}function f(a,b,c){return j(k(a,function(a){return b(a).take(1)}),function(b){return{context:a,value:c(b==null?void 0:(b=b[0])==null?void 0:b[1])}})}var i={read:function(){return null},subscribe:function(){return c("emptyFunction")}};function j(a,b){var c=a.read;a=a.subscribe;return{read:function(){var a=c();if(d("relay-runtime").isSuspenseSentinel(a))return d("relay-runtime").suspenseSentinel();else return b(a)},subscribe:a}}function k(a,b){return c("transformObservableToLiveState")(d("relay-runtime").Observable.create(function(e){var f,g=d("ReQLObservable").create(a.db,b).subscribe({complete:e.complete,error:e.error,next:function(a){if((h||(h=c("areEqual")))(a,f))return;f=a;e.next(a)}});return g}))}g.iterableToPluralFieldLiveResolver_MAY_CAUSE_OVERFETCHING=a;g.iterableToConnectionLiveResolver=b;g.iterableToFirstValueLiveResolver=e;g.iterableToMappedValueLiveResolver=f;g.nullValueLiveState=i;g.mapLiveState=j;g.makeLiveState=k}),98);
__d("LSRoot__thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a.context;return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey).take(1)})}g.thread=a}),98);
__d("LSRoot__viewer",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.context;return{context:a,value:{}}}f.viewer=a}),66);
__d("LSThreadCapabilityBitOffset",[],(function(a,b,c,d,e,f){a=Object.freeze({PAYMENT:0,CAMERA:1,MEDIA_PICKER:2,STICKER:3,GIF:4,GO_TO_SECRET_CONVERSATION:5,COLOR_CUSTOMIZATION:6,EMOJI_CUSTOMIZATION:7,THREAD_DETAILS_PROFILE_BUTTON:8,NICKNAMES:9,BLOCK:10,CALIBRA:12,MESSENGER_KIDS_MANAGE_KID_ACCOUNT:13,AUDIO_CLIPS:14,SHARED_MEDIA:15,BLOCK_GROUP_MEMBER:16,FEEDBACK_AND_REPORT:17,REACTIONS:18,MUTE_THREAD:19,SEEN_HEADS:20,MESSAGE_REQUEST_COMPOSER_BANNER:21,IN_THREAD_PROFILE_BUTTON:22,THREAD_DETAILS:23,RTC_VIDEO_CALL:24,RTC_VOICE_CALL:25,MEMBER_LIST:26,ADD_MEMBER:27,LEAVE_THREAD:28,BLOCKED_USER_INTERSTITIAL:29,OPTIMISTIC_THREAD_FEEDBACK_AND_REPORT:30,LOCATION_SHARING:31,IGNORE_MESSAGES:32,FOCUS_MODE:33,SEARCH_IN_CONVERSATION:34,CREATE_GROUP:35,POLL_CREATION:36,DISPLAY_ACTOR_TYPE_IN_THREAD_VIEW_HEADER:37,DISAPPEARING_MODE:38,FORCE_ONE_PHASE_SEND:39,SPLIT_MULTI_SEND_PHOTO:40,THREAD_DETAILS_IG_PROFILE_BUTTON:41,MESSAGE_REPLY:42,MENTIONS:43,GAMES_BOT_THREAD:44,DISABLE_LINKS:45,BLUR_MEDIA:46,DISABLE_CONTEXT_BANNER:47,TOP_LEVEL_SELF_REMEDIATION:48,DISABLE_USER_CONTROL:49,THREAD_DETAILS_SHOW_USER_NAME:50,DISABLE_MESSAGE_BUBBLE_SWIPE:51,IGNORED_THREAD:52,PAGE_BAN:53,CUSTOM_THREAD_NOTIFICATION_SOUNDS:54,ROOM_CREATION:55,FILE_PICKER:56,JOIN_ROOM:57,SELFIE_STICKER:58,POWER_UP:59,THREAD_NAME_CUSTOMIZATION:60,THREAD_PHOTO_CUSTOMIZATION:61,STRUCTURED_INPUT:62,SUPPRESS_NULLSTATE_HEADER:63,ARCHIVE_THREAD:64,UNARCHIVE_THREAD:65,MEMBER_REQUEST:66,BUSINESS_INBOX_BAN:67,CTM_AD_THREAD_WITH_AD_WARNING:68,BUSINESS_INBOX_SAVED_REPLIES:69,GARDEN_THREAD_SETTINGS:70,MARKETPLACE_SAVED_REPLIES:71,CARRIER_MESSAGING_ADD_MEMBER:72,PHONE_CALL:73,THREAD_DETAILS_DELETE_THREAD:74,EPHEMERAL_MESSAGE_TIMER:75,MESSAGE_EXPIRATION:76,MESSAGE_SOUND_SETTINGS:77,RINGTONE_SOUND_SETTINGS:78,HIDE_FROM_ACTIVE_NOW:79,MAGIC_WORDS:80,THREAD_DESCRIPTION_CUSTOMIZATION:81,BUSINESS_INBOX_CATALOG:82,ADMIN_RECALL_MESSAGE:83,SHARE_CONTACT:84,RESTRICT_CONTACT:85,SOUND_BITE:86,MOST_LIKELY_TO_POLL_CREATION:87,REPORT_CHAT_TO_ADMIN:88,CAN_MARK_READ_OR_UNREAD:89,BUSINESS_TOOLS:90,REMOVE_MEMBER:91,GROUP_GO_TO_SECRET_CONVERSATION:92,REPORT_MESSAGE_TO_ADMIN:93,MANAGE_MEMBER:94,SHARED_LINKS:95,SHARED_CONTENT:96,ADD_XAC_USERS:97,BUSINESS_ORDER_MANAGEMENT:98,RTC_MARKETPLACE_COMPOSER_BANNER:99,IS_SELLER_RTC_ELIGIBLE:100,IS_BUYER_RTC_ELIGIBLE:101,MESSAGE_LOCAL_DELETE:102,MESSAGE_FORWARD:103,IS_NFB_ELIGIBLE:104,MESSAGE_REQUEST_GROUP_INVITE:105,VIEW_PINNED_MESSAGES_V2:106,BUSINESS_APPOINTMENT_BOOKING:107,THREAD_DETAILS_SHOW_CHAT_INVITE_LINK:108,HOTLIKE_STICKER:109,IS_LEARNING_SPACE_CHAT:110,AUDIO_CAPTIONS:111,COMMAND_SILENT:112,MARKETPLACE_THREAD_COMMERCE_PROFILE_BUTTON:113,EPHEMERAL_MEDIA:114,COMMAND_EVERYONE:115,COMMAND_GIF:116,MARKETPLACE_THREAD_COMMERCE_PRODUCT_BUTTON:117,CAMERA_BACKUP:118,BLOCK_MARKETPLACE_USER:119,COMMUNITY_MESSAGING_CHANNEL_INVITE:120,COMMAND_TEXT_REPLACEMENT:121,MESSAGE_UNSEND:122,IMMERSIVE_MODES_SPACES:123,COMMUNITY_MESSAGING_LINK_SHARING_V2:124,COMMUNITY_MESSAGING_AUDIO_ROOMS:125,BUMP_MESSAGE_ACTION:126,CUTOVER_BLOCK_COMPOSER:128,FAVORITE_THREAD:129,BUMP_THREAD:131,IS_BUSINESS_APPOINTMENT_THREAD_INTENT_ENABLED:132,COMMUNITY_MESSAGING_ICEBREAKERS:133,COMMUNITY_MESSAGING_CHANNEL_EMOJI_CUSTOMIZATION:134,COMMUNITY_MESSAGING_CHANNEL_DESCRIPTION_CUSTOMIZATION:135,IS_MESSENGER_CHAT_ENTITY_THREAD:136,RESHARE_HUB:138,REACTIONS_V2:139,SEEN_COUNTS_V2:140,IS_LARGE_THREAD:141,PUBLIC_CHAT_BAN_USER:143,CONTENT_EXPLORER:144,PRO_MODE:145,CUSTOMER_APPOINTMENT_REQUEST:146,IS_MESSENGER_GUIDE_CHAT_ENTITY_THREAD:147,COMMUNITY_MESSAGING_THREAD_LEAVE_UPSELL:148,GENERATED_STICKERS:149,ROLLCALL:152,BUSINESS_CHAT_PRIVACY_DISCLOSURE:153,PAUSE_CHAT:154,GAMES_DISCOVERY:155,MULTI_REACT:156,STICKER_TRAY_SEARCH:157,POLL_V1_UI:158,POLL_V2_UI:159,DEIDENTIFIED_STICKER_SEARCH:160,PIN_CHANNEL_ON_PROFILE:161,ARMADILLO_TLC_CONTROL_OPEN_THREAD:162,SUGGESTED_TAB:163,GROUP_CHAT_UPGRADE_ELIGIBILITY:164,HAS_GROUP_UPDATES_BOT_ATTACHED:165,HAS_GROUP_UPDATES_SETTING_ENABLED:166,SUB_THREAD_CREATION_ENABLED:167,COMMUNITY_MESSAGING_FIRST_MESSAGE_UPSELL_WITH_ICE_BREAKERS:168,REACTIONS_V2_WRITE:169,POLL_VOTING:170,AUTO_ENDED_CHANNEL_COMPOSER:171,MODIFY_PINNED_MESSAGES_V2:172,CUSTOM_GHOST_TEXT:173,AVATAR_DETAILS:174,COLLAPSIBLE_XMAT:175,ADD_YOURS:176,PAUSE_CHAT_ON_BLUE:177,UPGRADED_COMMUNITY_JOINED:178,IS_UPGRADED_COMMUNITY_OWNER:179,AI_BOT_DATA_USAGE_IN_THREAD_DETAILS:180,AI_BOT_FEEDBACK_IN_THREAD_DETAILS:181,AI_BOT_TIPS_IN_THREAD_DETAILS:182,AI_BOT_SUMMONING:183,VIEW_REACTION_DETAILS:184,BUSINESS_PROFILE_BADGE:185,HINT_CARD_IN_CHANNEL_UPGRADED_FROM_GROUP_CHAT:186,AI_BOT_EMBODIMENT:187,BMOP_IN_THREAD_CATALOG_ENTRY_POINT:188,OPTIMISTIC_THREAD_APPOINTMENT_REQUEST:189,IS_GAME_RECOMMENDATIONS_CHAT_ENTITY_THREAD:190,IS_XAC_READ_ONLY:192,WILL_XAC_BE_READ_ONLY:193,IS_EDIT_MESSAGE_ENABLED:194,SUB_THREAD_LIST:195,TRANSLATE_MESSAGE:196,MANAGE_CHAT_THREAD_DETAILS:197,CUSTOMER_LEAD_FORM_APPOINTMENT_REQUEST:198,ADMOD_ONBOARDING_ACTIONS_V2:199,RTC_OPTIN_REQUEST:200,CUSTOMER_LEAD_FORM_GET_QUOTE:201,PAUSED_BY_SOFT_ACTION_COMPOSER_BLOCK:202,DISABLE_MARKETPLACE_DMA_THREAD_COMPOSER:203,CUSTOMIZE_WELCOME_PROMPT_THREAD_DETAILS:204,IS_COMMUNITY_MESSAGING_FIRST_THREAD_JOIN_PER_COMMUNITY_FOR_MEMBER_ONBOARDING:205,SUB_THREAD_OPTIMISTIC_CREATE_ENABLED:206,ONE_CLICK_MUTE_ENABLED:207,GEOCHATS_CAN_SET_LOCATION:208,GEOCHATS_CAN_VIEW_LOCATION:209,WORK_CHAT_GOVERNANCE_BLOCK:210,INSTAMADILLO_TRANSPORT_ENABLED:211,INSTAMADILLO_DISAPPEARING_MESSAGES_TOGGLE_ENABLED:212,IS_BSG_THREAD:213,IS_INSTAMADILLO_CUTOVER:214,WRITE_WITH_AI_ENABLED:215,SHOW_FOLLOW_PAGE_CTA:216,CAN_VIEWING_PAGE_BE_LIKED:217,DELETE_FROM_THREAD_LIST_VIEW:218,INVITE_MODEL_TEXT_ONLY:219,COMMAND_SUMMARY:220,COMMUNITY_AI:221,BUSINESS_INBOX_FILE_SHARING:222,MESSAGE_AS_PAGE:223,COMPOSER_INLINE_MEDIA:224,INSTAMADILLO_TTLC_TEXT:225,INSTAMADILLO_TTLC_CLIP:226,INSTAMADILLO_TTLC_REEL_SHARE:227,INSTAMADILLO_TTLC_MEDIA_SHARE:228,INSTAMADILLO_TTLC_STORY_SHARE:229,INSTAMADILLO_TTLC_LINK:230,INSTAMADILLO_TTLC_GENERIC_XMA:231,INSTAMADILLO_TTLC_IMAGE:232,INSTAMADILLO_TTLC_VIDEO:233,INSTAMADILLO_TTLC_AUDIO:234,INSTAMADILLO_TTLC_CALLING:235,INSTAMADILLO_TTLC_PROFILE:236,AI_BOT_MEMU_ONBOARDING_IN_THREAD_DETAILS:237,CHANNELS_VOICE_SWITCHING_ENABLED:238,AI_BOT_CREATOR_INFO:239,AI_BOT_HALLUCINATION_DISCLAIMER_IN_THREAD_DETAILS:240,BUSINESS_FORM_MANAGEMENT:241,AI_STUDIO_IN_THREAD:242,AI_UGC_BOT:243,AI_BOT_FBGROUP_INFO:244,MAGIC_MESSENGER:245,AI_BOT_MANAGE_AI_MEMORY_IN_THREAD_DETAILS:246,GROUP_CHAT_AI_IMAGE_ENABLED:247,GROUP_UGC_EDIT_ENABLED:248,RESUME_GROUP_CHAT_UPGRADED_TO_COMMUNITY:249,FRIENDING_ACTION:250,ELIGIBLE_FOR_GROUP_CHAT_UPGRADE_TO_COMMUNITY:251,AI_STUDIO_CAN_EDIT_UGC:252,PIN_OR_UNPIN_THREAD_FOR_COMMUNITY_USER:253,IS_USER_PAGE_ADMIN:254,IS_GC_DEFAULTED_TO_HIGHLIGHTS_SETTING:255,AIR131_SHARE_CHAT_MESSAGES_WITH_META_AI:256,RTC_BLOCK_ADDITIONAL_CALL_ENTRYPOINTS_ENABLED:257,AI_LOOKUP:258,MESSAGE_REQUEST_EYEBROW_TEXT:259,IS_SECRET_CONVERSATION_FOR_DEPRECATION:260,INSTAMADILLO_OPTIONAL_E2EE:261,IS_AI_INITIATED_MESSAGING_ENABLED:262,COMMUNITY_MESSAGING_EVENTS:263,IS_MESSENGER_NO_COMPOSER_THREAD:264,PAYMENT_QR_SCANNER_ENABLED:265,CAN_TOGGLE_AI_INITIATED_MESSAGES:266,LIMIT_SHARING:267,CONTEXTUAL_WWAI:268,PHONE_CONNECTION_REQUEST:269,SHARE_AI_ACTIVITY:270,MARKETPLACE_VIEWER_CLOSED_CHAT:271,MARKETPLACE_PARTICIPANT_CLOSED_CHAT:272,AI_TASK_THREAD_PJ_PASS:273,CAN_ADD_SPECTRA_USER_TO_GROUP_THREAD:274,RTC_BLOCK_INVITE_USER:275,ARMADILLO_OPEN_REMOVE_E2EE_ATTRIBUTION:276,PHONE_CONNECTION_REMOVE_E2EE_NOTICE:277,EDIT_USER_UPLOADED_IMAGE_WITH_AI:278,COMMAND_ADMINS:279,ADD_TO_STORY:280,AI_THEMES_CUSTOMIZATION:281});f["default"]=a}),66);
__d("LS_Participant",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.readWatermarkTimestampMs}function e(a){return a.value.deliveredWatermarkTimestampMs}function f(a){return a.value.nickname}function h(a){return a.value.authorityLevel}function i(a){return a.value.threadKey}function j(a){return a.value.contactId}function k(a){return a.value.readActionTimestampMs}function l(a){return a.value.isAdmin}function m(a){return a.value.subscribeSource}function n(a){return a.value.normalizedSearchTerms}function o(a){return a.value.participantCapabilities}function p(a){return a.value.groupParticipantJoinState}function q(a){return a.value.isModerator}function r(a){return a.value.isSuperAdmin}function s(a){return a.value.threadRoles}function t(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a.value.contactId)})}g.__context=a;g.__lightspeed_table_row=b;g.read_watermark_timestamp_ms=c;g.delivered_watermark_timestamp_ms=e;g.nickname=f;g.authority_level=h;g.thread_key=i;g.contact_id=j;g.read_action_timestamp_ms=k;g.is_admin=l;g.subscribe_source=m;g.normalized_search_terms=n;g.participant_capabilities=o;g.group_participant_join_state=p;g.is_moderator=q;g.is_super_admin=r;g.thread_roles=s;g.contact=t}),98);
__d("LS_Participant_Connection",["LSRelayConnections"],(function(a,b,c,d,e,f,g){function a(a){return a.value.edges}function b(a){return a.value.page_info}function c(a){return d("LSRelayConnections").keyToCursor(a.value[0])}function e(a){return{context:a.context,value:a.value[1]}}g.edges=a;g.page_info=b;g.cursor=c;g.node=e}),98);
__d("LS_Thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.lastActivityTimestampMs}function e(a){return a.value.lastReadWatermarkTimestampMs}function f(a){return a.value.snippet}function h(a){return a.value.threadName}function i(a){return a.value.threadPictureUrl}function j(a){return a.value.needsAdminApprovalForNewParticipant}function k(a){return a.value.authorityLevel}function l(a){return a.value.threadKey}function m(a){return a.value.mailboxType}function n(a){return a.value.threadType}function o(a){return a.value.folderName}function p(a){return a.value.threadPictureUrlFallback}function q(a){return a.value.threadPictureUrlExpirationTimestampMs}function r(a){return a.value.removeWatermarkTimestampMs}function s(a){return a.value.muteExpireTimeMs}function t(a){return a.value.muteMentionExpireTimeMs}function u(a){return a.value.muteCallsExpireTimeMs}function v(a){return a.value.groupNotificationSettings}function w(a){return a.value.isAdminSnippet}function x(a){return a.value.snippetSenderContactId}function y(a){return a.value.snippetText}function z(a){return a.value.snippetStringHash}function A(a){return a.value.snippetStringArgument1}function B(a){return a.value.snippetAttribution}function C(a){return a.value.snippetAttributionStringHash}function D(a){return a.value.disappearingSettingTtl}function E(a){return a.value.disappearingSettingUpdatedTs}function F(a){return a.value.disappearingSettingUpdatedBy}function G(a){return a.value.ongoingCallState}function H(a){return a.value.cannotReplyReason}function I(a){return a.value.customEmoji}function J(a){return a.value.customEmojiImageUrl}function K(a){return a.value.avatarStickerInstructionKeyId}function L(a){return a.value.avatarStickerId}function M(a){return a.value.avatarStickerThumbnailImageUrl}function N(a){return a.value.avatarStickerThumbnailImageMimeType}function O(a){return a.value.avatarStickerOriginalImageUrl}function P(a){return a.value.avatarStickerOriginalImageMimeType}function Q(a){return a.value.outgoingBubbleColor}function R(a){return a.value.themeFbid}function S(a){return a.value.parentThreadKey}function T(a){return a.value.nullstateDescriptionText1}function U(a){return a.value.nullstateDescriptionType1}function V(a){return a.value.nullstateDescriptionText2}function W(a){return a.value.nullstateDescriptionType2}function X(a){return a.value.nullstateDescriptionText3}function Y(a){return a.value.nullstateDescriptionType3}function Z(a){return a.value.snippetHasEmoji}function $(a){return a.value.hasPersistentMenu}function aa(a){return a.value.disableComposerInput}function ba(a){return a.value.cannotUnsendReason}function ca(a){return a.value.viewedPluginKey}function da(a){return a.value.viewedPluginContext}function ea(a){return a.value.clientThreadKey}function fa(a){return a.value.capabilities}function ga(a){return a.value.shouldRoundThreadPicture}function ha(a){return a.value.proactiveWarningDismissTime}function ia(a){return a.value.isCustomThreadPicture}function ja(a){return a.value.otidOfFirstMessage}function ka(a){return a.value.normalizedSearchTerms}function la(a){return a.value.additionalThreadContext}function ma(a){return a.value.disappearingThreadKey}function na(a){return a.value.isDisappearingMode}function oa(a){return a.value.disappearingModeInitiator}function pa(a){return a.value.unreadDisappearingMessageCount}function qa(a){return a.value.lastMessageCtaId}function ra(a){return a.value.lastMessageCtaType}function sa(a){return a.value.lastMessageCtaTimestampMs}function ta(a){return a.value.consistentThreadFbid}function ua(a){return a.value.threadDescription}function va(a){return a.value.unsendLimitMs}function wa(a){return a.value.capabilities2}function xa(a){return a.value.capabilities3}function ya(a){return a.value.syncGroup}function za(a){return a.value.threadInvitesEnabled}function Aa(a){return a.value.threadInviteLink}function Ba(a){return a.value.isAllUnreadMessageMissedCallXma}function Ca(a){return a.value.numUnreadSubthreads}function Da(a){return a.value.subthreadCount}function Ea(a){return a.value.lastNonMissedCallXmaMessageTimestampMs}function Fa(a){return a.value.isHidden}function Ga(a){return a.value.threadInvitesEnabledV2}function Ha(a){return a.value.joinRequestApprovalSetting}function Ia(a){return a.value.hasPendingJoinRequest}function Ja(a){return a.value.pendingJoinRequestsCount}function Ka(a){return a.value.hasPendingInvitation}function La(a){return a.value.eventStartTimestampMs}function Ma(a){return a.value.eventEndTimestampMs}function Na(a){return a.value.takedownState}function Oa(a){return a.value.memberCount}function Pa(a){return a.value.admodCount}function Qa(a){return a.value.secondaryParentThreadKey}function Ra(a){return a.value.igFolder}function Sa(a){return a.value.inviterId}function Ta(a){return a.value.threadTags}function Ua(a){return a.value.isReadReceiptsDisabled}function Va(a){return a.value.readReceiptsDisabledV2}function Wa(a){return a.value.threadStatus}function Xa(a){return a.value.ctmAdId}function Ya(a){return a.value.ctmAdgroupId}function Za(a){return a.value.ctmAdCampaignId}function $a(a){return a.value.ctmAdCampaignGroupId}function ab(a){return a.value.ctmAdAccountId}function bb(a){return a.value.threadSubtype}function cb(a){return a.value.pauseThreadTimestamp}function db(a){return a.value.metadata}function eb(a){return a.value.capabilities4}function fb(a){return a.value.typingIndicatorDisabled}function gb(a){return a.value.syncSource}function hb(a){return a.value.capabilities5}function ib(a){return a.value.ongoingCallTimestampMs}function jb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.value.threadKey)},b)}function kb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableDescending(b.tables.messages.index("messageDisplayOrder")).getKeyRange(a.value.threadKey)},b)}function lb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.thread_nullstate).getKeyRange(a.value.threadKey)})}function mb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.community_folders).getKeyRange(a.value.parentThreadKey)})}function nb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a.value.threadKey)},b)}function ob(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(a.value.threadKey)})}function pb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.thread_proactive_warning_settings).getKeyRange(a.value.threadKey)})}function qb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.in_thread_banner).getKeyRange(a.value.threadKey)},b)}function rb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.cutover_threads).getKeyRange(a.value.threadKey)})}function sb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.custom_thread_commands).getKeyRange(a.value.threadKey)},b)}function tb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.discoverable_chat_participants).getKeyRange(a.value.threadKey)},b)}function ub(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.persistent_menu_items).getKeyRange(a.value.threadKey)},b)}function vb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableDescending(b.tables.thread_limits).getKeyRange(a.value.threadKey)})}g.__context=a;g.__lightspeed_table_row=b;g.last_activity_timestamp_ms=c;g.last_read_watermark_timestamp_ms=e;g.snippet=f;g.thread_name=h;g.thread_picture_url=i;g.needs_admin_approval_for_new_participant=j;g.authority_level=k;g.thread_key=l;g.mailbox_type=m;g.thread_type=n;g.folder_name=o;g.thread_picture_url_fallback=p;g.thread_picture_url_expiration_timestamp_ms=q;g.remove_watermark_timestamp_ms=r;g.mute_expire_time_ms=s;g.mute_mention_expire_time_ms=t;g.mute_calls_expire_time_ms=u;g.group_notification_settings=v;g.is_admin_snippet=w;g.snippet_sender_contact_id=x;g.snippet_text=y;g.snippet_string_hash=z;g.snippet_string_argument1=A;g.snippet_attribution=B;g.snippet_attribution_string_hash=C;g.disappearing_setting_ttl=D;g.disappearing_setting_updated_ts=E;g.disappearing_setting_updated_by=F;g.ongoing_call_state=G;g.cannot_reply_reason=H;g.custom_emoji=I;g.custom_emoji_image_url=J;g.avatar_sticker_instruction_key_id=K;g.avatar_sticker_id=L;g.avatar_sticker_thumbnail_image_url=M;g.avatar_sticker_thumbnail_image_mime_type=N;g.avatar_sticker_original_image_url=O;g.avatar_sticker_original_image_mime_type=P;g.outgoing_bubble_color=Q;g.theme_fbid=R;g.parent_thread_key=S;g.nullstate_description_text1=T;g.nullstate_description_type1=U;g.nullstate_description_text2=V;g.nullstate_description_type2=W;g.nullstate_description_text3=X;g.nullstate_description_type3=Y;g.snippet_has_emoji=Z;g.has_persistent_menu=$;g.disable_composer_input=aa;g.cannot_unsend_reason=ba;g.viewed_plugin_key=ca;g.viewed_plugin_context=da;g.client_thread_key=ea;g.capabilities=fa;g.should_round_thread_picture=ga;g.proactive_warning_dismiss_time=ha;g.is_custom_thread_picture=ia;g.otid_of_first_message=ja;g.normalized_search_terms=ka;g.additional_thread_context=la;g.disappearing_thread_key=ma;g.is_disappearing_mode=na;g.disappearing_mode_initiator=oa;g.unread_disappearing_message_count=pa;g.last_message_cta_id=qa;g.last_message_cta_type=ra;g.last_message_cta_timestamp_ms=sa;g.consistent_thread_fbid=ta;g.thread_description=ua;g.unsend_limit_ms=va;g.capabilities_2=wa;g.capabilities_3=xa;g.sync_group=ya;g.thread_invites_enabled=za;g.thread_invite_link=Aa;g.is_all_unread_message_missed_call_xma=Ba;g.num_unread_subthreads=Ca;g.subthread_count=Da;g.last_non_missed_call_xma_message_timestamp_ms=Ea;g.is_hidden=Fa;g.thread_invites_enabled_v2=Ga;g.join_request_approval_setting=Ha;g.has_pending_join_request=Ia;g.pending_join_requests_count=Ja;g.has_pending_invitation=Ka;g.event_start_timestamp_ms=La;g.event_end_timestamp_ms=Ma;g.takedown_state=Na;g.member_count=Oa;g.admod_count=Pa;g.secondary_parent_thread_key=Qa;g.ig_folder=Ra;g.inviter_id=Sa;g.thread_tags=Ta;g.is_read_receipts_disabled=Ua;g.read_receipts_disabled_v2=Va;g.thread_status=Wa;g.ctm_ad_id=Xa;g.ctm_adgroup_id=Ya;g.ctm_ad_campaign_id=Za;g.ctm_ad_campaign_group_id=$a;g.ctm_ad_account_id=ab;g.thread_subtype=bb;g.pause_thread_timestamp=cb;g.metadata=db;g.capabilities_4=eb;g.typing_indicator_disabled=fb;g.sync_source=gb;g.capabilities_5=hb;g.ongoing_call_timestamp_ms=ib;g.participants=jb;g.messages=kb;g.nullstate=lb;g.community_folder=mb;g.mi_act_mapping=nb;g.rtc_ongoing_calls=ob;g.thread_proactive_warning_settings=pb;g.in_thread_banner=qb;g.cutover_thread=rb;g.custom_thread_commands=sb;g.discoverable_chat_participants=tb;g.persistent_menu_items=ub;g.thread_limit=vb}),98);
__d("LSThreadComputedThreadTitle__computed_thread_title$normalization.graphql",["LS_Thread","LS_Participant_Connection","LS_Participant_Connection","LS_Participant","LS_Participant","LS_Participant","LS_Contact","LS_Contact","LS_Contact","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"first",value:8}];return{kind:"SplitOperation",metadata:{},name:"LSThreadComputedThreadTitle__computed_thread_title$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"participants",args:a,kind:"RelayLiveResolver",storageKey:"participants(first:8)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").participants,rootFragment:null}},linkedField:{alias:null,args:a,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"edges",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").edges,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"node",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").node,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{name:"contact_id",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact_id,rootFragment:null}},{name:"nickname",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").nickname,rootFragment:null}},{kind:"ClientEdgeToClientObject",backingField:{name:"contact",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"first_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").first_name,rootFragment:null}},{name:"name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").name,rootFragment:null}},{name:"rank",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").rank,rootFragment:null}}],storageKey:null}}],storageKey:null}}],storageKey:null}}],storageKey:"participants(first:8)"}},{kind:"ClientExtension",selections:[{name:"__context",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").__context,rootFragment:null}},{name:"thread_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_name,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]}}();e.exports=a}),null);
__d("LSThreadComputedThreadTitle__computed_thread_title.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadComputedThreadTitle__computed_thread_title",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"__context",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:[{kind:"Literal",name:"first",value:8}],concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"rank",storageKey:null},action:"THROW"}],storageKey:null}],storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"}],storageKey:"participants(first:8)"},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadHasCapability__has_capability$normalization.graphql",["LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadHasCapability__has_capability$normalization",selections:[{kind:"ClientExtension",selections:[{name:"capabilities",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities,rootFragment:null}},{name:"capabilities_2",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_2,rootFragment:null}},{name:"capabilities_3",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_3,rootFragment:null}},{name:"capabilities_4",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_4,rootFragment:null}},{name:"capabilities_5",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_5,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSThreadHasCapability__has_capability.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSThreadHasCapability__has_capability",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities2",args:null,kind:"ScalarField",name:"capabilities_2",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities3",args:null,kind:"ScalarField",name:"capabilities_3",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities4",args:null,kind:"ScalarField",name:"capabilities_4",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities5",args:null,kind:"ScalarField",name:"capabilities_5",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LS_Thread__other_participant",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.context;a=a.value;var c=a.threadKey;a=a.threadType;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5)))return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(b,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c).take(2).filter(function(a){a=a.contactId;return(h||(h=d("I64"))).to_string(a)!==b.actorID})});return!d("LSMessagingThreadTypeUtil").isOneToOne(a)?d("LSRelayLiveResolvers").nullValueLiveState:d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(b,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c).take(2).filter(function(a){a=a.contactId;return(h||(h=d("I64"))).to_string(a)!==b.actorID})})}g.other_participant=a}),98);
__d("LSThreadIsPage__is_page$normalization.graphql",["LS_Thread__other_participant","LS_Participant","LS_Contact"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadIsPage__is_page$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"other_participant",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__other_participant").other_participant,rootFragment:null}},linkedField:{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"contact",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"contact_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").contact_type,rootFragment:null}}],storageKey:null}}],storageKey:null}}]};e.exports=a}),null);
__d("LSThreadIsPage__is_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadIsPage__is_page",selections:[{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:"contactType",args:null,kind:"ScalarField",name:"contact_type",storageKey:null}],storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadIsSecureThread__is_secure_thread$normalization.graphql",["LS_Thread"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadIsSecureThread__is_secure_thread$normalization",selections:[{kind:"ClientExtension",selections:[{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSThreadIsSecureThread__is_secure_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSThreadIsSecureThread__is_secure_thread",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadOtherParticipantOrSelf__other_participant_or_self$normalization.graphql",["LS_Thread","LS_Participant_Connection","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"first",value:2}];return{kind:"SplitOperation",metadata:{},name:"LSThreadOtherParticipantOrSelf__other_participant_or_self$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"participants",args:a,kind:"RelayLiveResolver",storageKey:"participants(first:2)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").participants,rootFragment:null}},linkedField:{alias:null,args:a,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"edges",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").edges,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}}],storageKey:"participants(first:2)"}},{kind:"ClientExtension",selections:[{name:"__context",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").__context,rootFragment:null}},{name:"thread_key",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_key,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]}}();e.exports=a}),null);
__d("LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadOtherParticipantOrSelf__other_participant_or_self",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"__context",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},action:"THROW"}],storageKey:"participants(first:2)"},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LS_CommunityFolder",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.folderId}function d(a){return a.value.fbGroupId}function e(a){return a.value.name}function g(a){return a.value.description}function h(a){return a.value.memberCount}function i(a){return a.value.pictureUrl}function j(a){return a.value.pictureUrlFallback}function k(a){return a.value.pictureUrlExpirationTimestampMs}function l(a){return a.value.joiningChannelTaskId}function m(a){return a.value.afterJoiningOpenChannelId}function n(a){return a.value.capabilities}function o(a){return a.value.capabilities2}function p(a){return a.value.capabilities3}function q(a){return a.value.notificationSetting}function r(a){return a.value.notificationMutedUntil}function s(a){return a.value.sendsBlockedUntil}function t(a){return a.value.isHidden}function u(a){return a.value.hasSeenDisablingAlert}function v(a){return a.value.inviteLink}function w(a){return a.value.communityType}function x(a){return a.value.directInviteLink}function y(a){return a.value.enableState}function z(a){return a.value.takedownState}function A(a){return a.value.fbGroupType}function B(a){return a.value.threadCount}function C(a){return a.value.disableTimestamp}function D(a){return a.value.readTimestampMs}function E(a){return a.value.inviteStatus}function F(a){return a.value.blockedFromCommunityMemberCount}function G(a){return a.value.categoryCount}function H(a){return a.value.snippetText}function I(a){return a.value.coverPicUrl}function J(a){return a.value.coverPicUrlFallback}function K(a){return a.value.coverPicUrlExpirationTimestampMs}function L(a){return a.value.invitedThreadId}function M(a){return a.value.fbGroupUserParticipationApprovalStatus}function N(a){return a.value.ccAdminAssistRegistrationStatus}function O(a){return a.value.pauseStatus}function P(a){return a.value.isMember}function Q(a){return a.value.latestThreadId}function R(a){return a.value.latestThreadActivityTimestampMs}f.__context=a;f.__lightspeed_table_row=b;f.folder_id=c;f.fb_group_id=d;f.name=e;f.description=g;f.member_count=h;f.picture_url=i;f.picture_url_fallback=j;f.picture_url_expiration_timestamp_ms=k;f.joining_channel_task_id=l;f.after_joining_open_channel_id=m;f.capabilities=n;f.capabilities_2=o;f.capabilities_3=p;f.notification_setting=q;f.notification_muted_until=r;f.sends_blocked_until=s;f.is_hidden=t;f.has_seen_disabling_alert=u;f.invite_link=v;f.community_type=w;f.direct_invite_link=x;f.enable_state=y;f.takedown_state=z;f.fb_group_type=A;f.thread_count=B;f.disable_timestamp=C;f.read_timestamp_ms=D;f.invite_status=E;f.blocked_from_community_member_count=F;f.category_count=G;f.snippet_text=H;f.cover_pic_url=I;f.cover_pic_url_fallback=J;f.cover_pic_url_expiration_timestamp_ms=K;f.invited_thread_id=L;f.fb_group_user_participation_approval_status=M;f.cc_admin_assist_registration_status=N;f.pause_status=O;f.is_member=P;f.latest_thread_id=Q;f.latest_thread_activity_timestamp_ms=R}),66);
__d("LS_Contact__has_capability",["LSContactBitOffset","LSContactCapabilityBitOffset","LSContactHasCapability__has_capability.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){e=e.capability;a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSContactHasCapability__has_capability.graphql"),a);var f=a.capabilities;a=a.capabilities_2;return e!=="%future added value"&&d("LSContactBitOffset").has(c("LSContactCapabilityBitOffset")[e],{capabilities:(e=f)!=null?e:void 0,capabilities2:(f=a)!=null?f:void 0})}g.has_capability=a}),98);
__d("LS_MiActMappingTable",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.serverThreadKey}function d(a){return a.value.clientThreadPk}function e(a){return a.value.jid}f.__context=a;f.__lightspeed_table_row=b;f.server_thread_key=c;f.client_thread_pk=d;f.jid=e}),66);
__d("LS_MiActMappingTable_Connection",["LSRelayConnections"],(function(a,b,c,d,e,f,g){function a(a){return a.value.edges}function b(a){return a.value.page_info}function c(a){return d("LSRelayConnections").keyToCursor(a.value[0])}function e(a){return{context:a.context,value:a.value[1]}}g.edges=a;g.page_info=b;g.cursor=c;g.node=e}),98);
__d("LS_Thread__computed_thread_title",["fbt","CurrentEnvironment","I64","LSMessagingThreadTypeUtil","LSThreadComputedThreadTitle__computed_thread_title.graphql","ReactiveExecutorResolverFragments","intlList","mwCMIsAnyCMThread","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(i!==void 0?i:i=b("LSThreadComputedThreadTitle__computed_thread_title.graphql"),a);var c=a.__context,e=a.participants,f=a.thread_name;a=a.thread_type;return f!=null?f:l(a,e.edges.map(function(a){return a.node}),c.actorID)}function k(a,b){return a.filter(function(a){return(j||(j=d("I64"))).to_string(a.contact_id)!==b}).map(function(a){return a.contact==null?null:{first_name:a.contact.first_name,name:a.contact.name,nickname:a.nickname,rank:a.contact.rank}}).filter(Boolean).sort(function(a,b){return b.rank-a.rank})}function l(a,b,e){if(c("mwCMIsAnyCMThread")(a)){c("recoverableViolation")("community message should not use computed thread title","messenger_comet");return n}if(b.length===0){c("recoverableViolation")("No participants in thread","lightspeed_resolvers");return d("LSMessagingThreadTypeUtil").isGroup(a)?n:m}if(b.length===1){return(a=(a=b[0].contact)==null?void 0:a.name)!=null?a:m}a=k(b,e);var f=a.length>2;b=a.map(function(a){return o(a,f)});a.length>7&&b.push(String(h._(/*BTDS*/"others")));return c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA).toString()}var m=(c("CurrentEnvironment").workplacedotcom?h._(/*BTDS*/"Workplace user"):c("CurrentEnvironment").instagramdotcom?h._(/*BTDS*/"Instagram user"):c("CurrentEnvironment").messengerdotcom?h._(/*BTDS*/"Messenger user"):h._(/*BTDS*/"Facebook user")).toString(),n=(c("CurrentEnvironment").workplacedotcom?h._(/*BTDS*/"Workplace group"):c("CurrentEnvironment").instagramdotcom?h._(/*BTDS*/"Instagram group"):c("CurrentEnvironment").messengerdotcom?h._(/*BTDS*/"Messenger group"):h._(/*BTDS*/"Facebook group")).toString();function o(a,b){var c=a.first_name,d=a.name;a=a.nickname;b===void 0&&(b=!1);if(a!=null)return a;if(c!=null&&b)return c;return d!=null?d:m}g.computed_thread_title=a}),226);
__d("LS_Thread__has_capability",["LSThreadBitOffset","LSThreadCapabilityBitOffset","LSThreadHasCapability__has_capability.graphql","MWPBumpEntityKey","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){e=e.capability;d("MWPBumpEntityKey").bumpEntityKey("mw_meteora_thread_capability_check","capability."+e);a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadHasCapability__has_capability.graphql"),a);var f=a.capabilities,g=a.capabilities2,i=a.capabilities3,j=a.capabilities4,k=a.capabilities5;a=a.threadType;f=e!=="%future added value"&&d("LSThreadBitOffset").has(c("LSThreadCapabilityBitOffset")[e],{capabilities:f,capabilities2:g,capabilities3:i,capabilities4:j,capabilities5:k,threadType:a});d("MWPBumpEntityKey").bumpEntityKey("mw_meteora_thread_capability_check","capability."+e+"."+(f?"pass":"fail"));return f}g.has_capability=a}),98);
__d("LS_Thread__is_cutover_thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.context;a=a.value;var c=a.threadKey;return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(b,function(a){return d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(c).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}g.is_cutover_thread=a}),98);
__d("LS_Thread__is_page",["I64","LSContactType","LSIntEnum","LSThreadIsPage__is_page.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadIsPage__is_page.graphql"),a);a=a.otherParticipant;a=a==null?void 0:(a=a.contact)==null?void 0:a.contactType;return a!=null&&(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))}g.computed_is_page=a}),98);
__d("LS_Thread__is_secure_thread",["LSMessagingThreadTypeUtil","LSThreadIsSecureThread__is_secure_thread.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadIsSecureThread__is_secure_thread.graphql"),a);a=a.thread_type;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}g.is_secure_thread=a}),98);
__d("LS_Thread__other_participant_or_self",["I64","LSMessagingThreadTypeUtil","LSRelayLiveResolvers","LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql","ReQL","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql"),a);var c=a.__context,e=a.participants.edges,f=a.threadKey;a=a.threadType;if(!d("LSMessagingThreadTypeUtil").isOneToOne(a))return d("LSRelayLiveResolvers").nullValueLiveState;var g=c.actorID;return e.length===1?d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(c,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(f)}):d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(c,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(f).filter(function(a){a=a.contactId;return(i||(i=d("I64"))).to_string(a)!==g})})}g.other_participant_or_self=a}),98);
__d("LS_Thread__other_participants_MAY_CAUSE_OVERFETCHING",["I64","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.context,c=a.value.threadKey;return d("LSRelayLiveResolvers").iterableToPluralFieldLiveResolver_MAY_CAUSE_OVERFETCHING(b,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c).filter(function(a){return a!=null&&(h||(h=d("I64"))).to_string(a.contactId)!==b.actorID})})}g.other_participants_MAY_CAUSE_OVERFETCHING=a}),98);
__d("LS_Viewer",["I64","LSFeatureLimitsType","LSIntEnum","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a.context.actorID}function b(a){a=a.context;var b=(h||(h=d("I64"))).of_float(Date.now()/1e3);return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return k(a)&&(h||(h=d("I64"))).gt(a.expirationTimestampSeconds,b)}).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}var j=[(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").READ_ONLY),i.ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),i.ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)],k=function(a){return j.some(function(b){return(h||(h=d("I64"))).equal(b,a.type_)})};function e(a){a=a.context;return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.user_visible_errors).filter(function(a){return a.presentationStyle==="banner"})})}g.actor_id=a;g.is_read_only_feature_limited=b;g.user_visible_error_banner=e}),98);
__d("MWV2HeaderSettingsButtonChevron.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.size;a=a.xstyle;e=e===void 0?"10px":e;var f;b[0]!==a?(f=(h||(h=c("stylex"))).props(a),b[0]=a,b[1]=f):f=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:"var(--mwp-header-button-color)",fillRule:"evenodd"}),b[2]=a):a=b[2];b[3]!==e||b[4]!==f?(a=j.jsx("svg",babelHelpers["extends"]({"aria-hidden":"true"},f,{height:e,viewBox:"0 0 18 10",width:e,children:a})),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("SubthreadMuteStrings.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"Mute");b=h._(/*BTDS*/"Unmute");g.muteLabel=a;g.unmuteLabel=b}),226);
__d("useUnmuteSubthread.react",["fbt","I64","MWCMLogMuteDuration.react","cometPushToast","formatDate","react","react-compiler-runtime","useMWChatUnmuteThread","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function k(a){var b=new Date();if(!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).neg_one))if(new Date((j||(j=d("I64"))).to_float(a)).getDay()===b.getDay())return h._(/*BTDS*/"This sidechat is muted until {time}",[h._param("time",c("formatDate")((j||(j=d("I64"))).to_float(a)/1e3,"g:ia"))]);else return h._(/*BTDS*/"This sidechat is muted until {time} tomorrow",[h._param("time",c("formatDate")((j||(j=d("I64"))).to_float(a)/1e3,"g:ia"))]);else return h._(/*BTDS*/"This sidechat is muted indefinitely")}function a(a,b){var e=d("react-compiler-runtime").c(5),f=c("useMWXConfirmationDialog")(),g=c("useMWChatUnmuteThread")(),i;e[0]!==f||e[1]!==a||e[2]!==b||e[3]!==g?(i=function(c){c!=null&&f({body:k(c.muteExpireTimeMs),title:h._(/*BTDS*/"Unmute this sidechat?")},function(){var e;g(c);d("MWCMLogMuteDuration.react").log({clientExtras:{is_subthread:"1"},eventType:"channel_level_unmute_all_notif",source:(e=a)!=null?e:"mute_bell_button",surface:(e=b)!=null?e:"subthread_list",threadKey:c.threadKey});d("cometPushToast").cometPushToast({message:h._(/*BTDS*/"{Name of chat} unmuted",[h._param("Name of chat",c.threadName)])})})},e[0]=f,e[1]=a,e[2]=b,e[3]=g,e[4]=i):i=e[4];return i}g["default"]=a}),226);
__d("MWCMSubthreadHeader.react",["fbt","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSAuthorityLevel","LSIntEnum","Locale","MWChatTextTransform","MWV2HeaderSettingsButtonChevron.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconArrowLeft","MWXIconArrowRight","MWXIconBell","MWXIconBellCross","MWXIconCross","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","MWXMessageTextWithEntities.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","MWXTooltip.react","SubthreadMuteStrings.react","baseTextTransformAllStrings","emptyFunction","gkx","react","useMWXLazyDialog","useUnmuteSubthread.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m=c("gkx")("23219"),n={chevronIcon:{marginStart:"x1i64zmx",marginTop:"x1xmf6yo",$$css:!0},iconRow:{paddingStart:"xkhd6sd",paddingEnd:"x4uap5",paddingLeft:null,paddingRight:null,$$css:!0},rowItem:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",$$css:!0},rowItemChatTab:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",maxWidth:"x1ncir08",$$css:!0}},o=h._(/*BTDS*/"Sidechat settings");function p(a){return a.length>30?a.slice(0,27)+"...":a}function q(){return function(a){return c("baseTextTransformAllStrings")(a,function(a,b){return r(a,b)})}}function r(a,b){return[p(a)]}function a(a){var b=a.closeSidePanelOnBack,e=a.hexTextColor,f=a.isChatTab,g=f===void 0?!1:f;f=a.isThreadMuted;var i=f===void 0?!1:f,p=a.onPressBack;f=a.subtitle;var r=a.textColor,s=a.thread;a=a.title;var t=c("useMWXLazyDialog")(c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMSubthreadHeader.react")),u=t[0];t=d("Int64Hooks").useCallbackInt64(function(){s!=null&&(j||(j=d("I64"))).equal(s.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("GroupsCometChatsEngagementLogger").log({action:"tap",event:"cancel_sidechat",source:"back_button",surface:"subthread_view",thread_id:(j||(j=d("I64"))).to_string(s==null?void 0:s.threadKey)}),p()},[p,s]);var v=c("useUnmuteSubthread.react")("mute_bell_button","subthread_view"),w=s!=null?(j||(j=d("I64"))).equal(s==null?void 0:s.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):!1,x=b===!0?c("MWXIconCross"):c("Locale").isRTL()?c("MWXIconArrowRight"):c("MWXIconArrowLeft");b=b===!0?h._(/*BTDS*/"Close"):h._(/*BTDS*/"Back");var y=h._(/*BTDS*/"Messages in conversation titled {thread title}",[h._param("thread title",a)]).toString(),z=l.jsx(c("MWXRowItem.react"),{"aria-label":y,expanding:!0,verticalAlign:"center",children:l.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",style:e==null?{}:{"--primary-text":e},children:[l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x193iq5w"},{children:l.jsx(c("MWXText.react"),{align:"center",color:r,isSemanticHeading:!0,numberOfLines:1,type:g?"headlineEmphasized4":m?"headlineEmphasized5":"headlineEmphasized3",children:l.jsx("span",babelHelpers["extends"]({},{0:{},1:{className:"xxymvpz"}}[!!g<<0],{children:typeof a==="string"?l.jsx(c("MWXMessageTextWithEntities.react"),{text:a,transforms:[].concat(d("MWChatTextTransform").textTransforms,[q()])}):a}))})})),f!=null?l.jsxs(l.Fragment,{children:[l.jsx(c("MWVerticalRhythm"),{height:6}),l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x193iq5w"},{children:l.jsx(c("MWXText.react"),{align:"center",color:r,numberOfLines:1,type:"meta3",children:f})}))]}):null]})});return l.jsxs(c("MWXRow.react"),{paddingHorizontal:g?0:12,paddingVertical:g?0:m?8:16,children:[l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:b,children:l.jsx(c("MWXCircleButton.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:x,label:b,onPress:t,size:36,type:"deemphasized"})})}),!g||s==null?z:null,s!=null&&l.jsx(c("MWXRowItem.react"),{xstyle:g?n.rowItemChatTab:n.rowItem,children:l.jsx(c("MWXLazyPopoverTrigger.react"),{align:g?"middle":"end",popoverProps:{isChatTab:g,onClose:c("emptyFunction"),onDelete:p,thread:s},popoverResource:c("JSResourceForInteraction")("MWCMSubthreadSettingsMenu.react").__setRef("MWCMSubthreadHeader.react"),position:"below",children:function(a,b,e,f,h,j,k){return g?l.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:o,children:l.jsxs(c("MWXPressable.react"),{disabled:w,onHoverIn:f,onHoverOut:h,onPress:function(){b()},onPressIn:j,overlayOffset:8,overlayRadius:"normal",ref:a,xstyle:n.settingsButton,children:[z,l.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{xstyle:n.chevronIcon})]})}):l.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[l.jsx(c("MWXRowItem.react"),{xstyle:n.iconRow,children:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:i?d("SubthreadMuteStrings.react").unmuteLabel:d("SubthreadMuteStrings.react").muteLabel,children:l.jsx(c("MWXCircleButton.react"),{color:w?"tertiary":d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:w,icon:i?c("MWXIconBellCross"):c("MWXIconBell"),label:i?d("SubthreadMuteStrings.react").unmuteLabel:d("SubthreadMuteStrings.react").muteLabel,onPress:function(){i?v(s):u({surface:"subthread_view",threadKey:s.threadKey})},size:36,type:"deemphasized"})})}),l.jsx(c("MWXRowItem.react"),{xstyle:n.iconRow,children:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:o,children:l.jsx(c("MWXCircleButton.react"),{color:w?"tertiary":d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:w,icon:c("MWXIconDots3Horizontal"),label:o,onHoverIn:f,onHoverOut:h,onPress:b,onPressIn:j,ref:a,size:36,type:"deemphasized"})})})]})}})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWCMSubthreadParentMessage.react",["LSIntEnum","MWMessageRow.react","MWPMessageAuthor.react","MWV2MessageActionsVisibility.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.domElementRef,g=a.subthread,j=(h||(h=c("useReStore")))();a=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();var l;b[0]!==j.tables.messages||b[1]!==g.threadKey?(l=function(){return d("ReQL").fromTableAscending(j.tables.messages.index("messageSubthreadKey")).getKeyRange(g.threadKey)},b[0]=j.tables.messages,b[1]=g.threadKey,b[2]=l):l=b[2];var m;b[3]!==j||b[4]!==g.threadKey?(m=[j,g.threadKey],b[3]=j,b[4]=g.threadKey,b[5]=m):m=b[5];l=d("ReQLSuspense").useFirst(l,m,f.id+":33");if(l==null)return null;m=l.senderId;var n=l.threadKey,o;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=(i||(i=d("LSIntEnum"))).ofNumber(18),b[6]=o):o=b[6];b[7]!==e||b[8]!==l||b[9]!==a?(o=k.jsx(d("MWMessageRow.react").MWMessageRow,{domElementRef:e,hasMessageEmphasisRing:!1,isModal:!1,isSecureMessage:!1,message:l,rowIndexFromBottom:0,stopHoveringRef:a,threadType:o}),b[7]=e,b[8]=l,b[9]=a,b[10]=o):o=b[10];b[11]!==l.senderId||b[12]!==l.threadKey||b[13]!==o?(e=k.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:m,threadKey:n,children:o}),b[11]=l.senderId,b[12]=l.threadKey,b[13]=o,b[14]=e):e=b[14];return e}g["default"]=a}),98);
__d("MWCMSubthreadThreadViewContexts.react",["MAWEditMessageContext.react","MWCMIsSubthreadContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWThreadKey.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.thread;var e;b[0]!==c?(e=i.jsx(d("MWCMIsSubthreadContext.react").MWCMIsSubthreadContextProvider,{isSubthread:!0,children:i.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:i.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:c})})}),b[0]=c,b[1]=e):e=b[1];b[2]!==e||b[3]!==a.threadKey?(c=i.jsx("div",{"data-testid":void 0,children:i.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:i.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,isSubthread:!0,children:e})})}),b[2]=e,b[3]=a.threadKey,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("MWChatTabHeaderRoot.react",["cr:21112","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:21112")}),98);
__d("MWCMSubthreadThreadViewChatTab.react",["CometErrorBoundary.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSIntEnum","LSReportThreadViewOpenStoredProcedure","LSResult","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","MWCMSubthreadHeader.react","MWCMSubthreadParentMessage.react","MWCMSubthreadThreadViewContexts.react","MWChatTabHeaderRoot.react","MWComposerGating.react","MWInboxThreadMessagesSpinner.react","MWLSThread","MWLSThreadDisplayContext","MWMessageList","MWPMessageListColumn.react","MWPThreadGradientBackground.react","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2OnAuthoritativeThreadInsert","MWV2TabContainer","MWXColumn.react","MWXColumnItem.react","emptyFunction","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));b=k;var m=b.useRef,n=b.useState,o={chatTabHeader:{maxHeight:"x1egxudb",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(42),e=a.onReturn,g=a.setActualThreadKey,k=a.tab,n=a.thread,p=(h||(h=c("useReStore")))(),r=d("MWLSThread").useThread(n.parentThreadKey),s=m(null);b[0]!==p||b[1]!==g||b[2]!==n.authorityLevel||b[3]!==n.threadKey?(a=[n.authorityLevel,n.threadKey,p,g],b[0]=p,b[1]=g,b[2]=n.authorityLevel,b[3]=n.threadKey,b[4]=a):a=b[4];a=d("Int64Hooks").useCallbackInt64(function(){var a;(a=u.current)==null?void 0:a.jumpToMostRecentMessage();(i||(i=d("I64"))).equal(n.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(n.threadKey),p,function(a){return g(a.threadKey)})},a);var t;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(t={getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:c("emptyFunction")},b[5]=t):t=b[5];var u=m(t),v;b[6]!==p||b[7]!==n.threadKey?(t=function(){c("promiseDone")(p.runInTransaction(function(a){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(a),{threadKey:n.threadKey})},"readwrite",void 0,void 0,f.id+":101"))},v=[p,n.threadKey],b[6]=p,b[7]=n.threadKey,b[8]=t,b[9]=v):(t=b[8],v=b[9]);d("Int64Hooks").useEffectInt64(t,v);b[10]!==e||b[11]!==(r==null?void 0:r.threadName)||b[12]!==n?(t=function(){return l.jsx(c("MWCMSubthreadHeader.react"),{closeSidePanelOnBack:!1,isChatTab:!0,onPressBack:function(){e()},subtitle:r==null?void 0:r.threadName,thread:n,title:n.threadName})},b[10]=e,b[11]=r==null?void 0:r.threadName,b[12]=n,b[13]=t):t=b[13];v=t;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(t={boxShadow:"none",margin:0},b[14]=t):t=b[14];var w=n.parentThreadKey,x;b[15]!==v||b[16]!==k||b[17]!==n.threadKey?(x=l.jsx(c("MWXColumn.react"),{expanding:!0,xstyle:o.chatTabHeader,children:l.jsx(c("MWXColumnItem.react"),{expanding:!0,children:l.jsx(c("MWChatTabHeaderRoot.react"),{renderThreadDetails:v,tab:k,threadKey:n.threadKey})})}),b[15]=v,b[16]=k,b[17]=n.threadKey,b[18]=x):x=b[18];v=!d("LSThreadBitOffset").has(56,n);var y;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(y={className:"x78zum5 xdt5ytf x1iyjqo2"},b[19]=y):y=b[19];var z;b[20]!==n?(z=function(){return l.jsxs(l.Fragment,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l.jsx(c("MWCMSubthreadParentMessage.react"),{domElementRef:s,subthread:n})]})},b[20]=n,b[21]=z):z=b[21];b[22]!==u||b[23]!==z||b[24]!==n?(y=l.jsx("div",babelHelpers["extends"]({},y,{children:l.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:l.jsx(c("MWMessageList"),{entryPoint:"popup_chat_box",ref:u,renderHeader:z,thread:n})})})),b[22]=u,b[23]=z,b[24]=n,b[25]=y):y=b[25];b[26]!==a||b[27]!==n?(z=l.jsx(c("CometErrorBoundary.react"),{fallback:q,children:l.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:a,isPreviewThread:!1,thread:n})}),b[26]=a,b[27]=n,b[28]=z):z=b[28];b[29]!==y||b[30]!==z||b[31]!==v||b[32]!==n?(a=l.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:v,thread:n,children:[y,z]}),b[29]=y,b[30]=z,b[31]=v,b[32]=n,b[33]=a):a=b[33];b[34]!==a||b[35]!==x||b[36]!==k||b[37]!==n.parentThreadKey?(y=l.jsxs(c("MWV2TabContainer"),{style:t,tab:k,threadKey:w,children:[x,a]}),b[34]=a,b[35]=x,b[36]=k,b[37]=n.parentThreadKey,b[38]=y):y=b[38];b[39]!==y||b[40]!==n?(z=l.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:l.jsx(c("MWCMSubthreadThreadViewContexts.react"),{thread:n,children:y})}),b[39]=y,b[40]=n,b[41]=z):z=b[41];return z}function q(){return l.jsx(c("MWV2ErrorComposer.react"),{})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(10),e=a.onReturn,g=a.tab,k=a.threadKey,m=(h||(h=c("useReStore")))();a=n(k);var o=a[0];a=a[1];var q=d("MWLSThread").useThread(o),r;b[0]!==m||b[1]!==q||b[2]!==k?(o=function(){(q==null||!(i||(i=d("I64"))).equal(q==null?void 0:q.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))&&c("promiseDone")(m.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:k})},"readwrite",void 0,void 0,f.id+":200"))},r=[m,q,k],b[0]=m,b[1]=q,b[2]=k,b[3]=o,b[4]=r):(o=b[3],r=b[4]);d("Int64Hooks").useEffectInt64(o,r);if(q==null){b[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),b[5]=o):o=b[5];return o}b[6]!==e||b[7]!==g||b[8]!==q?(r=l.jsx(p,{onReturn:e,setActualThreadKey:a,tab:g,thread:q}),b[6]=e,b[7]=g,b[8]=q,b[9]=r):r=b[9];return r}g["default"]=a}),98);
__d("MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29477693758510886"}),null);
__d("Query__lightspeed_data",["LSRelayContext","Promise","emptyFunction","promiseDone","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=new Map(),f=d("LSRelayContext").getContext(a);f instanceof(h||(h=b("Promise")))&&c("promiseDone")(f,function(a){f=a,e.forEach(function(a){return a()}),e.clear()});return{read:function(){return f instanceof(h||(h=b("Promise")))?d("relay-runtime").suspenseSentinel():{context:f,value:void 0}},subscribe:function(a){if(!(f instanceof(h||(h=b("Promise")))))return c("emptyFunction");var d={};e.set(d,a);return function(){e["delete"](d)}}}}g.lightspeed_data=a}),98);/*FB_PKG_DELIM*/
__d("LSThreadHeaderAriaDescription_thread$normalization.graphql",["LS_Thread","LS_Thread__computed_thread_title","LSThreadComputedThreadTitle__computed_thread_title$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadHeaderAriaDescription_thread$normalization",selections:[{kind:"ClientExtension",selections:[{name:"thread_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_name,rootFragment:null}},{name:"computed_thread_title",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__computed_thread_title").computed_thread_title,rootFragment:b("LSThreadComputedThreadTitle__computed_thread_title$normalization.graphql")}}]}]};e.exports=a}),null);
__d("LSThreadHeaderAriaDescription_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSThreadHeaderAriaDescription_thread",selections:[{alias:"threadName",args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:"title",args:null,kind:"ScalarField",name:"computed_thread_title",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadIsBlockedByViewer__is_blocked_by_viewer$normalization.graphql",["LS_Thread__other_participant","LS_Participant","LS_Contact","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadIsBlockedByViewer__is_blocked_by_viewer$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"other_participant",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__other_participant").other_participant,rootFragment:null}},linkedField:{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"contact",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"blocked_by_viewer_status",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").blocked_by_viewer_status,rootFragment:null}}],storageKey:null}}],storageKey:null}},{kind:"ClientExtension",selections:[{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSThreadIsBlockedByViewer__is_blocked_by_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadIsBlockedByViewer__is_blocked_by_viewer",selections:[{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:"blockedByViewerStatus",args:null,kind:"ScalarField",name:"blocked_by_viewer_status",storageKey:null}],storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LS_RtcOngoingCallsOnThreadsV2",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.threadKey}function d(a){return a.value.ongoingCallServerInfoData}function e(a){return a.value.willExpandToNewThread}function g(a){return a.value.ongoingCallTimestampMs}f.__context=a;f.__lightspeed_table_row=b;f.thread_key=c;f.ongoing_call_server_info_data=d;f.will_expand_to_new_thread=e;f.ongoing_call_timestamp_ms=g}),66);
__d("LS_Thread__blocked_participants",["I64","LSRelayLiveResolvers","MWGetBlockedUsersInThreadQuery","mwCMIsAnyCMThread"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=a.context;a=a.value;var f=e.actorID,g=a.threadKey,i=a.threadType;a=c("mwCMIsAnyCMThread")(i);return a?d("LSRelayLiveResolvers").nullValueLiveState:d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(e,function(a){return d("MWGetBlockedUsersInThreadQuery").MWGetBlockedUsersInThreadQuery(a,g,i,(h||(h=d("I64"))).of_string(f)).map(function(a){var b=a[0];a[1];return b})},b)}g.blocked_participants=a}),98);
__d("LS_Thread__header_aria_description",["fbt","LSThreadHeaderAriaDescription_thread.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(i!==void 0?i:i=b("LSThreadHeaderAriaDescription_thread.graphql"),a);var c=a.threadName;a=a.title;return c!=null?h._(/*BTDS*/"Conversation titled {name of conversation}",[h._param("name of conversation",c)]).toString():h._(/*BTDS*/"Conversation with {participant list}",[h._param("participant list",a)]).toString()}g.header_aria_description=a}),226);
__d("LS_Thread__is_blocked_by_viewer",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadIsBlockedByViewer__is_blocked_by_viewer.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadIsBlockedByViewer__is_blocked_by_viewer.graphql"),a);var e=a.otherParticipant;a=a.threadType;e=e==null?void 0:e.contact;var f=e==null?void 0:e.blockedByViewerStatus;return e==null||f==null||a==null?!1:d("LSMessagingThreadTypeUtil").isOneToOne(a)&&!(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}g.is_blocked_by_viewer=a}),98);
__d("LS_Thread__is_viewer_participant",["I64","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.context;a=a.value;var c=a.threadKey;return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(b,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c,(h||(h=d("I64"))).of_string(b.actorID)).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}g.is_viewer_participant=a}),98);
__d("LS_Thread__other_participants",["I64","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=a.context;a=a.value;var e=a.threadKey;return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(c,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e).filter(function(a){a=a.contactId;return(h||(h=d("I64"))).to_string(a)!==c.actorID})},b)}g.other_participants=a}),98);
__d("LS_Thread__restricted_participants",["LSContactBitOffset","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.context;a=a.value;var e=a.threadKey;return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(c,function(a){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(66,a))!=null?a:!1}).map(function(a){a=a[0];return a})},b)}g.restricted_participants=a}),98);
__d("MWPRelayPresenceBadge_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWPRelayPresenceBadge_thread",selections:[{args:null,kind:"FragmentSpread",name:"useMWRelayMQTTPresence_thread"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("useMWRelayMQTTPresence_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"useMWRelayMQTTPresence_thread",selections:[{alias:"otherParticipants",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participants_MAY_CAUSE_OVERFETCHING",plural:!0,selections:[{alias:"contactId",args:null,kind:"ScalarField",name:"contact_id",storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("usePresenceUnifiedIsThreadActiveForContactIds",["I64","PresenceCommonPresenceCommonTypes","react","react-compiler-runtime","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),c=d("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),e=d("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext(),f,g;b[0]!==a||b[1]!==e?(f=function(){e==null?void 0:e.addAdditionalContacts(a.map(k))},g=[a,e],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);j(f,g);if(b[4]!==a||b[5]!==c){b[7]!==c?(f=function(a){return((a=c.get((i||(i=d("I64"))).to_string(a)))==null?void 0:a.presenceStatus)===d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active},b[7]=c,b[8]=f):f=b[8];g=a.some(f);b[4]=a;b[5]=c;b[6]=g}else g=b[6];return g}function k(a){return(i||(i=d("I64"))).to_string(a)}g["default"]=a}),98);
__d("useMWRelayMQTTPresence",["LSRelayHooks","react-compiler-runtime","useMWRelayMQTTPresence_thread.graphql","usePresenceUnifiedIsThreadActiveForContactIds"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(3),f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("useMWRelayMQTTPresence_thread.graphql"),e[0]=f):f=e[0];f=d("LSRelayHooks").useFragment(f,a);a=f.otherParticipants;if(e[1]!==a){f=(f=a==null?void 0:a.filter(Boolean).map(i))!=null?f:[];e[1]=a;e[2]=f}else f=e[2];return c("usePresenceUnifiedIsThreadActiveForContactIds")(f)}function i(a){a=a.contactId;return a}g["default"]=a}),98);
__d("MWPRelayPresenceBadge.react",["LSRelayHooks","MWPPresenceBadge.react","MWPRelayPresenceBadge_thread.graphql","react","react-compiler-runtime","useMWRelayMQTTPresence"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(5),f=a.borderThemeColor,g=a.size;a=a.thread$key;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("MWPRelayPresenceBadge_thread.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,a);a=c("useMWRelayMQTTPresence")(i);e[1]!==f||e[2]!==a||e[3]!==g?(i=j.jsx(c("MWPPresenceBadge.react"),{borderThemeColor:f,isActiveStatePresence:a,size:g}),e[1]=f,e[2]=a,e[3]=g,e[4]=i):i=e[4];return i}g["default"]=a}),98);
__d("MWRelayChatRTCButtons_root.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWRelayChatRTCButtons_root",selections:[{args:null,kind:"FragmentSpread",name:"useLSRelayCanCall_root"}],type:"LSRoot",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatRTCButtons_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatRTCButtons_thread",selections:[{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:"ongoingCallState",args:null,kind:"ScalarField",name:"ongoing_call_state",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLSRelayStartGroupCall_thread"},{args:null,kind:"FragmentSpread",name:"useLSRelayCanCall_thread"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("useLSRelayCanCallOneToOne_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"useLSRelayCanCallOneToOne_thread",selections:[{alias:"isPage",args:null,kind:"ScalarField",name:"computed_is_page",storageKey:null},{alias:"isSecure",args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:"blockedSinceTimestampMs",args:null,kind:"ScalarField",name:"blocked_since_timestamp_ms",storageKey:null},{alias:"hasRTCVoiceCallCapability",args:[{kind:"Literal",name:"capability",value:"RTC_VOICE_CALL"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"RTC_VOICE_CALL")'},{alias:"hasRTCVideoCallCapability",args:[{kind:"Literal",name:"capability",value:"RTC_VIDEO_CALL"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"RTC_VIDEO_CALL")'},{alias:"hasMessageCapability",args:[{kind:"Literal",name:"capability",value:"MESSAGE"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"MESSAGE")'},{alias:"hasReplyMessageCapability",args:[{kind:"Literal",name:"capability",value:"REPLY_MESSAGE"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"REPLY_MESSAGE")'},{alias:"hasViewerIsUnconnectedCapability",args:[{kind:"Literal",name:"capability",value:"VIEWER_IS_UNCONNECTED"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"VIEWER_IS_UNCONNECTED")'},{alias:"contactReachabilityStatusType",args:null,kind:"ScalarField",name:"contact_reachability_status_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:"isBlockedByViewer",args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("useLSRelayCanCallOneToOne",["LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSRelayHooks","gkx","react-compiler-runtime","useLSRelayCanCallOneToOne_thread.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return a?(i||(i=d("LSIntEnum"))).toNumber(a):c("LSContactReachabilityStatusType").REACHABLE};function a(a){var e,f,g=d("react-compiler-runtime").c(12),i;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("useLSRelayCanCallOneToOne_thread.graphql"),g[0]=i):i=g[0];i=d("LSRelayHooks").useFragment(i,a);a=i.isBlockedByViewer;var k=i.isPage,l=i.isSecure,m=i.other_participant;i=i.threadType;e=j(m==null?void 0:(e=m.contact)==null?void 0:e.contactReachabilityStatusType);f=m==null?void 0:(f=m.contact)==null?void 0:f.hasViewerIsUnconnectedCapability;if(a===!0||e!==c("LSContactReachabilityStatusType").REACHABLE||f===!0){g[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=[!1,!1],g[1]=a):a=g[1];return a}if(d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(i)&&l===!0&&(m==null?void 0:m.contact)==null){g[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=[!1,!1],g[2]=e):e=g[2];return e}if(g[3]!==(m==null?void 0:m.contact)){a=(f=m==null?void 0:m.contact)!=null?f:{hasMessageCapability:!0,hasReplyMessageCapability:!0,hasRTCVideoCallCapability:!0,hasRTCVoiceCallCapability:!0};g[3]=m==null?void 0:m.contact;g[4]=a}else a=g[4];i=a;e=i.blockedSinceTimestampMs;f=i.hasMessageCapability;a=i.hasReplyMessageCapability;var n=i.hasRTCVideoCallCapability;i=i.hasRTCVoiceCallCapability;if(k!==!0){k=l===!0&&(m==null?void 0:m.contact)!=null&&e==null&&(f!==!0||a!==!0);l=!k;m=!k;g[5]!==l||g[6]!==m?(e=[l,m],g[5]=l,g[6]=m,g[7]=e):e=g[7];return e}if(c("gkx")("23431")){a=(f=i)!=null?f:!0;l=(k=n)!=null?k:!0;g[8]!==a||g[9]!==l?(m=[a,l],g[8]=a,g[9]=l,g[10]=m):m=g[10];return m}g[11]===Symbol["for"]("react.memo_cache_sentinel")?(e=[!1,!1],g[11]=e):e=g[11];return e}g["default"]=a}),98);
__d("useLSRelayCanCall_root.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"useLSRelayCanCall_root",selections:[{alias:null,args:null,concreteType:"LS_Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_read_only_feature_limited",storageKey:null}],storageKey:null}],type:"LSRoot",abstractKey:null};e.exports=a}),null);
__d("useLSRelayCanCall_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"useLSRelayCanCall_thread",selections:[{alias:"viewerPartOfGroup",args:null,kind:"ScalarField",name:"is_viewer_participant",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"folderName",args:null,kind:"ScalarField",name:"folder_name",storageKey:null},{alias:"hasRTCVoiceCallCapability",args:[{kind:"Literal",name:"capability",value:"RTC_VOICE_CALL"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"RTC_VOICE_CALL")'},{alias:"hasRTCVideoCallCapability",args:[{kind:"Literal",name:"capability",value:"RTC_VIDEO_CALL"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"RTC_VIDEO_CALL")'},{alias:"isSecure",args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLSRelayCanCallOneToOne_thread"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("useLSRelayCanCall",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSRelayHooks","MWChatIsMessageRequest","MWStartRTCCallUtils","ZenonRTWebBrowserFeatureSupport","gkx","isFeatureLimitEnabled","react-compiler-runtime","useLSRelayCanCallOneToOne","useLSRelayCanCall_root.graphql","useLSRelayCanCall_thread.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){var f=d("react-compiler-runtime").c(7),g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("useLSRelayCanCall_root.graphql"),f[0]=g):g=f[0];g=d("LSRelayHooks").useFragment(g,a);f[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=i!==void 0?i:i=b("useLSRelayCanCall_thread.graphql"),f[1]=a):a=f[1];a=d("LSRelayHooks").useFragment(a,e);e=a.folderName;var l=a.isSecure,m=a.threadType,n=a.viewerPartOfGroup,o=a.hasRTCVideoCallCapability,p=a.hasRTCVoiceCallCapability;g=((g=g.viewer)==null?void 0:g.is_read_only_feature_limited)===!0&&(l!==!0||c("isFeatureLimitEnabled")());a=c("useLSRelayCanCallOneToOne")(a);var q=a[0];a=a[1];if(l===!0&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("23430"))){f[2]===Symbol["for"]("react.memo_cache_sentinel")?(l=[d("MWStartRTCCallUtils").CanCallResult.SECURE_VOICE_UNSUPPORTED,d("MWStartRTCCallUtils").CanCallResult.SECURE_VIDEO_UNSUPPORTED],f[2]=l):l=f[2];return l}l=((j||(j=d("I64"))).equal(m,(k||(k=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(m,(k||(k=d("LSIntEnum"))).ofNumber(16)))&&n===!0||(j||(j=d("I64"))).equal(m,(k||(k=d("LSIntEnum"))).ofNumber(1))||(j||(j=d("I64"))).equal(m,(k||(k=d("LSIntEnum"))).ofNumber(15));e=d("MWChatIsMessageRequest").fn((n=e)!=null?n:void 0);n=!e&&!g&&l;d("LSMessagingThreadTypeUtil").isOneToOne(m)&&(p=p||q,o=o||a);if(n){e=q&&p===!0?d("MWStartRTCCallUtils").CanCallResult.VOICE_SUPPORTED:d("MWStartRTCCallUtils").CanCallResult.VOICE_UNSUPPORTED;g=a&&o===!0?d("MWStartRTCCallUtils").CanCallResult.VIDEO_SUPPORTED:d("MWStartRTCCallUtils").CanCallResult.VIDEO_UNSUPPORTED;f[3]!==e||f[4]!==g?(l=[e,g],f[3]=e,f[4]=g,f[5]=l):l=f[5];return l}f[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=[d("MWStartRTCCallUtils").CanCallResult.VOICE_UNSUPPORTED,d("MWStartRTCCallUtils").CanCallResult.VIDEO_UNSUPPORTED],f[6]=m):m=f[6];return m}g["default"]=a}),98);
__d("useLSRelayStartGroupCall_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"first",value:1}],b=[{kind:"Literal",name:"first",value:20}],c=[{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__lightspeed_table_row",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"useLSRelayStartGroupCall_thread",selections:[{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:"ongoingCallState",args:null,kind:"ScalarField",name:"ongoing_call_state",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:null,args:a,concreteType:"LS_MiActMappingTable_Connection",kind:"LinkedField",name:"mi_act_mapping",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_MiActMappingTable_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LS_MiActMappingTable",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jid",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"mi_act_mapping(first:1)"},{alias:null,args:a,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"other_participants(first:1)"},{alias:null,args:b,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"restricted_participants",plural:!1,selections:c,storageKey:"restricted_participants(first:20)"},{alias:null,args:null,concreteType:"LS_RtcOngoingCallsOnThreadsV2",kind:"LinkedField",name:"rtc_ongoing_calls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ongoing_call_server_info_data",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"blocked_participants",plural:!1,selections:c,storageKey:"blocked_participants(first:20)"}],type:"LS_Thread",abstractKey:null}}();e.exports=a}),null);
__d("useLSRelayStartGroupCall",["Int64Hooks","LSRelayHooks","react-compiler-runtime","useLSRelayStartGroupCall_thread.graphql","useMWV2StartGroupCall"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g){var k,l=d("react-compiler-runtime").c(16),m;l[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h!==void 0?h:h=b("useLSRelayStartGroupCall_thread.graphql"),l[0]=m):m=l[0];m=d("LSRelayHooks").useFragment(m,a);var n=m.ongoingCallState,o=m.threadKey,p=m.threadType,q=m==null?void 0:(a=m.mi_act_mapping)==null?void 0:(a=a.edges)==null?void 0:(a=a[0])==null?void 0:(a=a.node)==null?void 0:a.jid,r=m==null?void 0:(a=m.other_participants)==null?void 0:(a=a.edges)==null?void 0:(a=a[0])==null?void 0:(a=a.node)==null?void 0:(a=a.contact)==null?void 0:a.id_;a=m==null?void 0:(a=m.restricted_participants)==null?void 0:a.edges;var s=m==null?void 0:(k=m.rtc_ongoing_calls)==null?void 0:k.ongoing_call_server_info_data;l[1]!==a?(k=a==null?void 0:a.map(j).filter(Boolean),l[1]=a,l[2]=k):k=l[2];var t=k;k=m==null?void 0:(a=m.blocked_participants)==null?void 0:a.edges;l[3]!==k?(m=k==null?void 0:k.map(i).filter(Boolean),l[3]=k,l[4]=m):m=l[4];var u=m,v=c("useMWV2StartGroupCall")(e,f,g);l[5]!==u||l[6]!==q||l[7]!==s||l[8]!==n||l[9]!==r||l[10]!==t||l[11]!==v||l[12]!==o||l[13]!==p?(a=function(){v({blockedUsers:u,jid:q,ongoingCallServerInfoData:s,otherParticipantId:r,partialThread:{ongoingCallState:n,threadKey:o,threadType:p},restrictedUsers:t})},k=[v,u,q,s,r,t,n,o,p],l[5]=u,l[6]=q,l[7]=s,l[8]=n,l[9]=r,l[10]=t,l[11]=v,l[12]=o,l[13]=p,l[14]=a,l[15]=k):(a=l[14],k=l[15]);return d("Int64Hooks").useCallbackInt64(a,k)}function i(a){return a==null?void 0:(a=a.node)==null?void 0:(a=a.contact)==null?void 0:a.__lightspeed_table_row}function j(a){return a==null?void 0:(a=a.node)==null?void 0:(a=a.contact)==null?void 0:a.__lightspeed_table_row}g["default"]=a}),98);
__d("MWRelayChatRTCButtons.react",["LSRelayHooks","MWRelayChatRTCButtons_root.graphql","MWRelayChatRTCButtons_thread.graphql","MWV2ChatRTCButtons.react","emptyFunction","react","react-compiler-runtime","useLSRelayCanCall","useLSRelayStartGroupCall"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a){return a}function a(a){var e=d("react-compiler-runtime").c(11),f=a.audioCallingSurface,g=a.logAudio,j=a.logVideo,m=a.lsRoot$key,n=a.renderContainer,o=a.size,p=a.thread$key;a=a.videoCallingSurface;g=g===void 0?c("emptyFunction"):g;j=j===void 0?c("emptyFunction"):j;n=n===void 0?l:n;o=o===void 0?28:o;var q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=h!==void 0?h:h=b("MWRelayChatRTCButtons_root.graphql"),e[0]=q):q=e[0];q=d("LSRelayHooks").useFragment(q,m);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=i!==void 0?i:i=b("MWRelayChatRTCButtons_thread.graphql"),e[1]=m):m=e[1];m=d("LSRelayHooks").useFragment(m,p);p=m.ongoingCallState;var r=m.threadKey;q=c("useLSRelayCanCall")(q,m);var s=q[0];q=q[1];j=c("useLSRelayStartGroupCall")(m,j,"video",a);a=c("useLSRelayStartGroupCall")(m,g,"audio",f);e[2]!==s||e[3]!==q||e[4]!==p||e[5]!==n||e[6]!==o||e[7]!==a||e[8]!==j||e[9]!==r?(m=k.jsx(c("MWV2ChatRTCButtons.react"),{canAudioCall:s,canVideoCall:q,ongoingCallState:p,renderContainer:n,size:o,startWebAudioCall:a,startWebVideoCall:j,threadKey:r}),e[2]=s,e[3]=q,e[4]=p,e[5]=n,e[6]=o,e[7]=a,e[8]=j,e[9]=r,e[10]=m):m=e[10];return m}g["default"]=a}),98);
__d("MWRelayChatTabHeaderCommunityGroupNameImpl_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayChatTabHeaderCommunityGroupNameImpl_thread",selections:[{alias:"cannotReplyReason",args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderCommunityGroupName_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatTabHeaderCommunityGroupName_thread",selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderCommunityGroupNameImpl_thread"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderCommunityGroupName.react",["fbt","CometPlaceholder.react","LSRelayHooks","MWCMThreadTypes.react","MWRelayChatTabHeaderCommunityGroupNameImpl_thread.graphql","MWRelayChatTabHeaderCommunityGroupName_thread.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react");function m(a){var c=d("react-compiler-runtime").c(9);a=a.thread$key;var e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i!==void 0?i:i=b("MWRelayChatTabHeaderCommunityGroupNameImpl_thread.graphql"),c[0]=e):e=c[0];e=d("LSRelayHooks").useFragment(e,a);a=e.cannotReplyReason;var f=e.folder;e=e.threadType;f=f==null?void 0:f.name;a=a==="broadcast_chat_read_only";var g;c[1]!==a||c[2]!==e?(g=d("MWCMThreadTypes.react").isBroadcastThread(e)&&!a?h._(/*BTDS*/"Broadcast"):d("MWCMThreadTypes.react").isPrivateThread(e)?h._(/*BTDS*/"Invitation only"):null,c[1]=a,c[2]=e,c[3]=g):g=c[3];g=g;if(f==null)return null;var j;c[4]!==g||c[5]!==f||c[6]!==a||c[7]!==e?(j=d("MWCMThreadTypes.react").isBroadcastThread(e)&&!a?l.jsxs(l.Fragment,{children:[g," ",g!=null?"\u2022":null," ",f]}):l.jsxs(l.Fragment,{children:[f," ",g!=null?"\u2022":null," ",g]}),c[4]=g,c[5]=f,c[6]=a,c[7]=e,c[8]=j):j=c[8];return j}function a(a){var e=d("react-compiler-runtime").c(3);a=a.thread$key;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j!==void 0?j:j=b("MWRelayChatTabHeaderCommunityGroupName_thread.graphql"),e[0]=f):f=e[0];f=d("LSRelayHooks").useFragment(f,a);e[1]!==f?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRelayChatTabHeaderCommunityGroupName",children:l.jsx(m,{thread$key:f})}),e[1]=f,e[2]=a):a=e[2];return a}g["default"]=a}),226);
__d("MWRelayChatTabHeaderDetails_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayChatTabHeaderDetails_thread",selections:[{args:null,kind:"FragmentSpread",name:"MWRelayThreadTitle_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayThreadVerificationBadge_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderCommunityGroupName_thread"},{alias:"memberCount",args:null,kind:"ScalarField",name:"member_count",storageKey:null},{alias:"muteCallsExpireTimeMs",args:null,kind:"ScalarField",name:"mute_calls_expire_time_ms",storageKey:null},{alias:"muteExpireTimeMs",args:null,kind:"ScalarField",name:"mute_expire_time_ms",storageKey:null},{alias:"ongoingCallState",args:null,kind:"ScalarField",name:"ongoing_call_state",storageKey:null},{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:"contactTypeExact",args:null,kind:"ScalarField",name:"contact_type_exact",storageKey:null},{alias:"secondaryName",args:null,kind:"ScalarField",name:"secondary_name",storageKey:null}],storageKey:null}],storageKey:null},{alias:"ongoingCallTimestampMs",args:null,kind:"ScalarField",name:"ongoing_call_timestamp_ms",storageKey:null},{alias:"nullstateDescriptionText1",args:null,kind:"ScalarField",name:"nullstate_description_text1",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayThreadTitle_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayThreadTitle_thread",selections:[{alias:"title",args:null,kind:"ScalarField",name:"computed_thread_title",storageKey:null},{alias:"threadName",args:null,kind:"ScalarField",name:"thread_name",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayThreadTitle.react",["CometTextWithEntities.react","LSRelayHooks","MWChatTextTransform","MWRelayThreadTitle_thread.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.thread$key;a=a.transforms;a=a===void 0?d("MWChatTextTransform").textTransforms:a;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("MWRelayThreadTitle_thread.graphql"),e[0]=g):g=e[0];g=d("LSRelayHooks").useFragment(g,f);f=g.threadName;g=g.title;if(f!=null){var i;e[1]!==f||e[2]!==a?(i=j.jsx(c("CometTextWithEntities.react"),{text:f,transforms:a}),e[1]=f,e[2]=a,e[3]=i):i=e[3];return i}if(g!=null){e[4]!==g||e[5]!==a?(f=j.jsx(c("CometTextWithEntities.react"),{text:g,transforms:a}),e[4]=g,e[5]=a,e[6]=f):f=e[6];return f}return null}g["default"]=a}),98);
__d("MWRelayContactVerificationBadge_contact.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayContactVerificationBadge_contact",selections:[{alias:"isContactVerified",args:[{kind:"Literal",name:"capability",value:"VERIFIED"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"VERIFIED")'}],type:"LS_Contact",abstractKey:null};e.exports=a}),null);
__d("MWRelayContactVerificationBadge.react",["CometPageVerificationIcon.react","LSRelayHooks","MWRelayContactVerificationBadge_contact.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.contact$key,g=a.icon;a=a.size;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("MWRelayContactVerificationBadge_contact.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,f);f=i.isContactVerified;if(!f)return null;if(g!=null){e[1]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xurb0ha"},e[1]=i):i=e[1];e[2]!==g?(f=j.jsx("span",babelHelpers["extends"]({},i,{children:g})),e[2]=g,e[3]=f):f=e[3];return f}if(a!=null){e[4]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xurb0ha"},e[4]=i):i=e[4];e[5]!==a?(g=j.jsx("span",babelHelpers["extends"]({},i,{children:j.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})})),e[5]=a,e[6]=g):g=e[6];return g}return null}g["default"]=a}),98);
__d("MWRelayThreadVerificationBadge_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayThreadVerificationBadge_thread",selections:[{alias:"otherParticipantOrSelf",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant_or_self",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWRelayContactVerificationBadge_contact"}],storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayThreadVerificationBadge.react",["LSRelayHooks","MWRelayContactVerificationBadge.react","MWRelayThreadVerificationBadge_thread.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(5),f=a.icon,g=a.size;a=a.thread$key;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("MWRelayThreadVerificationBadge_thread.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,a);if(((a=i.otherParticipantOrSelf)==null?void 0:a.contact)==null)return null;f=(a=f)!=null?a:void 0;g=(a=g)!=null?a:void 0;e[1]!==i.otherParticipantOrSelf.contact||e[2]!==f||e[3]!==g?(a=j.jsx(c("MWRelayContactVerificationBadge.react"),{contact$key:i.otherParticipantOrSelf.contact,icon:f,size:g}),e[1]=i.otherParticipantOrSelf.contact,e[2]=f,e[3]=g,e[4]=a):a=e[4];return a}g["default"]=a}),98);
__d("MWRelayChatTabHeaderDetails.react",["fbt","BaseMiddot.react","CometPlaceholder.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSRelayHooks","LSRtcCallState","MWCMThreadTypes.react","MWChatHeaderDetailsSubtitleMutedIcon.react","MWGenAIUtils","MWInboxHeaderDetailsUnifiedPresenceStatusText.react","MWLSContactTypeExactUtils","MWRelayChatTabHeaderCommunityGroupName.react","MWRelayChatTabHeaderDetails_thread.graphql","MWRelayThreadTitle.react","MWRelayThreadVerificationBadge.react","MWSeparatorContainer.react","MWVerticalRhythm","MWXText.react","MessengerMuteUtils","cr:112","cr:4703","react","react-compiler-runtime","useMWChatCalculateIsMutedFromExpireTime","useMWIsStaleCall"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1dyh7pn"},b[0]=e):e=b[0];b[1]!==a?(e=m.jsx(c("MWXText.react"),{align:"center",numberOfLines:1,type:"meta3",children:m.jsx("div",babelHelpers["extends"]({},e,{children:a}))}),b[1]=a,b[2]=e):e=b[2];return e}function a(a){var e=d("react-compiler-runtime").c(53),f=a.thread$key;a=a.threadNameSize;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=i!==void 0?i:i=b("MWRelayChatTabHeaderDetails_thread.graphql"),e[0]=g):g=e[0];g=d("LSRelayHooks").useFragment(g,f);f=g.memberCount;var j=g.muteCallsExpireTimeMs,p=g.muteExpireTimeMs,q=g.nullstateDescriptionText1,r=g.ongoingCallState,s=g.ongoingCallTimestampMs,t=g.otherParticipant,u=g.threadKey,v=g.threadType;t=t==null?void 0:t.contact;var w;e[1]!==t?(w=t!=null&&d("MWLSContactTypeExactUtils").isIgContact(t.contactTypeExact)?t.secondaryName:null,e[1]=t,e[2]=w):w=e[2];t=w;e[3]!==v?(w=d("MWCMThreadTypes.react").isJoinedCMThread(v),e[3]=v,e[4]=w):w=e[4];w=w;var x;e[5]!==v?(x=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(v),e[5]=v,e[6]=x):x=e[6];x=x;var y;e[7]!==u?(y=d("MWGenAIUtils").isMetaAIThread(u),e[7]=u,e[8]=y):y=e[8];y=y;var z;e[9]!==j||e[10]!==p||e[11]!==v?(z=d("MessengerMuteUtils").calcMuteUntilMs({muteCallsExpireTimeMs:j,muteExpireTimeMs:p,threadType:v}),e[9]=j,e[10]=p,e[11]=v,e[12]=z):z=e[12];j=z;p=c("useMWChatCalculateIsMutedFromExpireTime")(j);z=!(k||(k=d("I64"))).equal(r,(l||(l=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));e[13]!==v?(j=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(v),e[13]=v,e[14]=j):j=e[14];r=j;e[15]!==v?(j=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(v),e[15]=v,e[16]=j):j=e[16];j=j;s=c("useMWIsStaleCall")(v,z,(s=s)!=null?s:(k||(k=d("I64"))).zero);var A;e[17]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"x1k2j06m x10ogl3i"},e[17]=A):A=e[17];e[18]===Symbol["for"]("react.memo_cache_sentinel")?(A=m.jsx("div",babelHelpers["extends"]({},A,{children:m.jsx(o,{children:m.jsx(c("BaseMiddot.react"),{})})})),e[18]=A):A=e[18];A=A;var B,C;e[19]===Symbol["for"]("react.memo_cache_sentinel")?(B={className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b"},C={className:"x6s0dn4 x78zum5 x193iq5w"},e[19]=B,e[20]=C):(B=e[19],C=e[20]);var D;e[21]===Symbol["for"]("react.memo_cache_sentinel")?(D={className:"xxymvpz x1dyh7pn"},e[21]=D):D=e[21];var E;e[22]!==g?(E=m.jsx(c("MWRelayThreadTitle.react"),{thread$key:g}),e[22]=g,e[23]=E):E=e[23];var F;e[24]!==g||e[25]!==j||e[26]!==w?(F=!j&&!w&&m.jsx(c("MWRelayThreadVerificationBadge.react"),{size:"small",thread$key:g}),e[24]=g,e[25]=j,e[26]=w,e[27]=F):F=e[27];e[28]!==F?(j=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRelayChatTabHeaderDetails.ThreadVerificationBadge",children:F}),e[28]=F,e[29]=j):j=e[29];e[30]!==E||e[31]!==j?(F=m.jsxs("span",babelHelpers["extends"]({},D,{children:[E,j]})),e[30]=E,e[31]=j,e[32]=F):F=e[32];e[33]!==F||e[34]!==a?(D=m.jsx("div",babelHelpers["extends"]({},C,{children:m.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:F})})),e[33]=F,e[34]=a,e[35]=D):D=e[35];e[36]!==g||e[37]!==t||e[38]!==r||e[39]!==w||e[40]!==y||e[41]!==p||e[42]!==z||e[43]!==x||e[44]!==s||e[45]!==f||e[46]!==q||e[47]!==u||e[48]!==v?(E=r&&b("cr:112")?m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),m.jsx(o,{children:m.jsx(b("cr:112"),{memberCount:f!=null?(k||(k=d("I64"))).to_int32(f):0})})]}):x?b("cr:4703")!=null&&f!=null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),m.jsx(o,{children:m.jsx(b("cr:4703"),{count:(k||(k=d("I64"))).to_int32(f)})})]}):null:w?m.jsxs(c("CometPlaceholder.react"),{fallback:m.jsx(c("MWVerticalRhythm"),{height:15}),name:"MWRelayChatTabHeaderDetails.CommunityGroupName",children:[m.jsx(c("MWVerticalRhythm"),{height:6}),m.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x193iq5w"},{"data-testid":void 0,children:m.jsx(o,{children:m.jsx(c("MWRelayChatTabHeaderCommunityGroupName.react"),{thread$key:g})})}))]}):y?m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),m.jsx(o,{children:q})]}):z&&!s?m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:6}),m.jsxs(c("MWSeparatorContainer.react"),{separator:A,xstyle:n.item,children:[t!=null?m.jsx(o,{children:t}):null,m.jsx(o,{children:h._(/*BTDS*/"Ongoing call")}),p?m.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{}):null]})]}):m.jsx(c("MWInboxHeaderDetailsUnifiedPresenceStatusText.react"),{igHandle:t,isMuted:p,threadKey:u,threadType:v}),e[36]=g,e[37]=t,e[38]=r,e[39]=w,e[40]=y,e[41]=p,e[42]=z,e[43]=x,e[44]=s,e[45]=f,e[46]=q,e[47]=u,e[48]=v,e[49]=E):E=e[49];e[50]!==D||e[51]!==E?(j=m.jsxs("div",babelHelpers["extends"]({},B,{children:[D,E]})),e[50]=D,e[51]=E,e[52]=j):j=e[52];return j}g["default"]=a}),226);
__d("MWRelayChatTabHeaderDetailsContainer_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWRelayChatTabSearchEnabledrelayprovider"}],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatTabHeaderDetailsContainer_thread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderPicture_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderDetails_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderDetailsPressable_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderSettingsButton_thread"},{condition:"__relay_internal__pv__MWRelayChatTabSearchEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatTabBackToSearchButton_thread"}]}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderDetailsPressableForBroadcastChannel_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayChatTabHeaderDetailsPressableForBroadcastChannel_thread",selections:[{alias:"headerDescribedBy",args:null,kind:"ScalarField",name:"header_aria_description",storageKey:null},{alias:"snippetSenderContactId",args:null,kind:"ScalarField",name:"snippet_sender_contact_id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_super_admin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"participants(first:2)"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderDetailsPressableForGroupChat_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayChatTabHeaderDetailsPressableForGroupChat_thread",selections:[{alias:"headerDescribedBy",args:null,kind:"ScalarField",name:"header_aria_description",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__lightspeed_table_row",storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderDetailsPressableForOneToOneChat_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayChatTabHeaderDetailsPressableForOneToOneChat_thread",selections:[{alias:"hasThreadDetailsProfileButtonCapability",args:[{kind:"Literal",name:"capability",value:"THREAD_DETAILS_PROFILE_BUTTON"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"THREAD_DETAILS_PROFILE_BUTTON")'},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"otherParticipantOrSelf",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant_or_self",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWRelayContactLink_contact"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderDetailsPressable_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatTabHeaderDetailsPressable_thread",selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderDetailsPressableForOneToOneChat_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderDetailsPressableForGroupChat_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderDetailsPressableForBroadcastChannel_thread"},{alias:"hasMemberListCapability",args:[{kind:"Literal",name:"capability",value:"MEMBER_LIST"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"MEMBER_LIST")'},{alias:"threadSubtype",args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayContactLink_contact.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayContactLink_contact",selections:[{alias:"blockedByViewerStatus",args:null,kind:"ScalarField",name:"blocked_by_viewer_status",storageKey:null},{alias:"contactTypeExact",args:null,kind:"ScalarField",name:"contact_type_exact",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id_",storageKey:null},{alias:"secondaryName",args:null,kind:"ScalarField",name:"secondary_name",storageKey:null}],type:"LS_Contact",abstractKey:null};e.exports=a}),null);
__d("MWRelayContactLink.react",["CurrentEnvironment","LSRelayHooks","MWLSContactTypeExactUtils","MWRelayContactLink_contact.graphql","MWXLink.react","MWXPressable.react","getLSContactHref","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={expanding:{display:"x78zum5",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(20),f=a.children,g=a.contact$key,i=a.isText,l=a.label;a=a.testid;i=i===void 0?!0:i;var m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h!==void 0?h:h=b("MWRelayContactLink_contact.graphql"),e[0]=m):m=e[0];m=d("LSRelayHooks").useFragment(m,g);g=m.blockedByViewerStatus;var n=m.contactTypeExact,o=m.id_;m=m.secondaryName;m=(m=m)!=null?m:void 0;var p;e[1]!==g||e[2]!==n||e[3]!==o||e[4]!==m?(p=c("getLSContactHref")({blockedByViewerStatus:g,contactTypeExact:n,id:o,secondaryName:m}),e[1]=g,e[2]=n,e[3]=o,e[4]=m,e[5]=p):p=e[5];g=p;o=d("MWLSContactTypeExactUtils").isIgContact(n);m=!c("CurrentEnvironment").facebookdotcom||o?"_blank":void 0;if(i){e[6]!==f||e[7]!==l||e[8]!==m||e[9]!==a||e[10]!==g?(p=j.jsx(c("MWXLink.react"),{href:g,label:l,target:m,testid:void 0,children:f}),e[6]=f,e[7]=l,e[8]=m,e[9]=a,e[10]=g,e[11]=p):p=e[11];return p}e[12]!==m||e[13]!==g?(n={target:m,url:g},e[12]=m,e[13]=g,e[14]=n):n=e[14];e[15]!==f||e[16]!==l||e[17]!==n||e[18]!==a?(o=j.jsx(c("MWXPressable.react"),{expanding:!0,label:l,linkProps:n,overlayRadius:"normal",testid:void 0,xstyle:k.expanding,children:f}),e[15]=f,e[16]=l,e[17]=n,e[18]=a,e[19]=o):o=e[19];return o}g["default"]=a}),98);
__d("MWRelayChatTabHeaderDetailsPressable.react",["fbt","CometPressable.react","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","LSRelayHooks","MWLSGroupMembershipDialog.entrypoint","MWRelayChatTabHeaderDetailsPressableForBroadcastChannel_thread.graphql","MWRelayChatTabHeaderDetailsPressableForGroupChat_thread.graphql","MWRelayChatTabHeaderDetailsPressableForOneToOneChat_thread.graphql","MWRelayChatTabHeaderDetailsPressable_thread.graphql","MWRelayContactLink.react","MWXTooltip.react","XCometVanityURLControllerRouteBuilder","react","react-compiler-runtime","useCometRouterDispatcher","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=m||(m=d("react")),p=m.useRef,q={title:{maxWidth:"x193iq5w",$$css:!0}};function r(a){var e=d("react-compiler-runtime").c(11),f=a.children;a=a.thread$key;var g=c("useCometRouterDispatcher")(),h;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=i!==void 0?i:i=b("MWRelayChatTabHeaderDetailsPressableForBroadcastChannel_thread.graphql"),e[0]=h):h=e[0];h=d("LSRelayHooks").useFragment(h,a);a=h.headerDescribedBy;var j=h.participants,k=h.snippetSenderContactId;h=p(null);var l;e[1]!==j.edges?(l=j.edges.find(s),e[1]=j.edges,e[2]=l):l=e[2];var m=l;if(e[3]!==(m==null?void 0:(j=m.node)==null?void 0:j.contact_id)||e[4]!==g||e[5]!==k){l=function(){var a;a=(a=k)!=null?a:m==null?void 0:(a=m.node)==null?void 0:a.contact_id;if(a==null)return;a=(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(n||(n=d("I64"))).to_string(a)}).toString();g==null?void 0:g.go(a,{})};e[3]=m==null?void 0:(j=m.node)==null?void 0:j.contact_id;e[4]=g;e[5]=k;e[6]=l}else l=e[6];e[7]!==f||e[8]!==a||e[9]!==l?(j=o.jsx(c("CometPressable.react"),{"aria-label":a,onPress:l,overlayDisabled:!0,ref:h,xstyle:q.title,children:f}),e[7]=f,e[8]=a,e[9]=l,e[10]=j):j=e[10];return j}function s(a){return a.node.is_super_admin===!0}function t(a){var e,f=d("react-compiler-runtime").c(15),g=a.children;a=a.thread$key;var i;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=j!==void 0?j:j=b("MWRelayChatTabHeaderDetailsPressableForGroupChat_thread.graphql"),f[0]=i):i=f[0];i=d("LSRelayHooks").useFragment(i,a);var k=i.folder;a=i.headerDescribedBy;i=p(null);if(f[1]!==(k==null?void 0:(e=k.__lightspeed_table_row)==null?void 0:e.fbGroupId)){var l;e=(n||(n=d("I64"))).to_string((e=k==null?void 0:(e=k.__lightspeed_table_row)==null?void 0:e.fbGroupId)!=null?e:(n||(n=d("I64"))).zero);f[1]=k==null?void 0:(l=k.__lightspeed_table_row)==null?void 0:l.fbGroupId;f[2]=e}else e=f[2];f[3]!==e?(l={groupID:e},f[3]=e,f[4]=l):l=f[4];e=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),l);var m=e[0];f[5]!==(k==null?void 0:k.__lightspeed_table_row)||f[6]!==m?(l=function(){var a;return m({folder:(a=k==null?void 0:k.__lightspeed_table_row)!=null?a:void 0})},f[5]=k==null?void 0:k.__lightspeed_table_row,f[6]=m,f[7]=l):l=f[7];f[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Members"),f[8]=e):e=f[8];f[9]!==g?(e=o.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:e,children:g}),f[9]=g,f[10]=e):e=f[10];f[11]!==a||f[12]!==l||f[13]!==e?(g=o.jsx(c("CometPressable.react"),{"aria-label":a,onPress:l,overlayDisabled:!0,ref:i,xstyle:q.title,children:e}),f[11]=a,f[12]=l,f[13]=e,f[14]=g):g=f[14];return g}function u(a){var e=d("react-compiler-runtime").c(8),f=a.children;a=a.thread$key;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k!==void 0?k:k=b("MWRelayChatTabHeaderDetailsPressableForOneToOneChat_thread.graphql"),e[0]=g):g=e[0];g=d("LSRelayHooks").useFragment(g,a);a=g==null?void 0:g.otherParticipantOrSelf;d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)&&a==null&&c("FBLogger")("meteora").warn("Missing other participant in one-to-one thread.");if((a==null?void 0:a.contact)==null||!(g==null?void 0:g.hasThreadDetailsProfileButtonCapability))return f;g=a.contact.name;var h;e[1]!==f||e[2]!==g?(h=o.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g,children:f}),e[1]=f,e[2]=g,e[3]=h):h=e[3];e[4]!==g||e[5]!==a.contact||e[6]!==h?(f=o.jsx(c("MWRelayContactLink.react"),{contact$key:a.contact,isText:!1,label:g,children:h}),e[4]=g,e[5]=a.contact,e[6]=h,e[7]=f):f=e[7];return f}function a(a){var c=d("react-compiler-runtime").c(10),e=a.children;a=a.thread$key;var f;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l!==void 0?l:l=b("MWRelayChatTabHeaderDetailsPressable_thread.graphql"),c[0]=f):f=c[0];f=d("LSRelayHooks").useFragment(f,a);a=f.hasMemberListCapability;var g=f.threadSubtype,h=f.threadType;if(d("LSMessagingThreadTypeUtil").isBusinessSupportThread((g=g)!=null?g:void 0))return e;if(d("LSMessagingThreadTypeUtil").isOneToOne(h)){c[1]!==e||c[2]!==f?(g=o.jsx(u,{thread$key:f,children:e}),c[1]=e,c[2]=f,c[3]=g):g=c[3];return g}if(d("LSMessagingThreadTypeUtil").isGroup(h)&&a){c[4]!==e||c[5]!==f?(g=o.jsx(t,{thread$key:f,children:e}),c[4]=e,c[5]=f,c[6]=g):g=c[6];return g}if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(h)){c[7]!==e||c[8]!==f?(a=o.jsx(r,{thread$key:f,children:e}),c[7]=e,c[8]=f,c[9]=a):a=c[9];return a}return e}g["default"]=a}),226);
__d("MWRelayChatTabHeaderCustomPicture_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatTabHeaderCustomPicture_thread",selections:[{args:null,kind:"FragmentSpread",name:"MWPRelayPresenceBadge_thread"},{kind:"RequiredField",field:{alias:"threadTitle",args:null,kind:"ScalarField",name:"computed_thread_title",storageKey:null},action:"LOG"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderCustomPicture.react",["CometPlaceholder.react","FDSFacepilePhoto.react","LSRelayHooks","MWPRelayPresenceBadge.react","MWRelayChatTabHeaderCustomPicture_thread.graphql","react","react-compiler-runtime","translatedServerString"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={borderThemeColor:{borderTopColor:"xwi95zy",borderEndColor:"x1s86mek",borderBottomColor:"xt1txi7",borderStartColor:"x1pskuwm",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(20),f=a.badgeSize,g=a.photoSize,i=a.thread$key,l=a.threadPictureUrl;a=a.withAltText;var m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h!==void 0?h:h=b("MWRelayChatTabHeaderCustomPicture_thread.graphql"),e[0]=m):m=e[0];m=d("LSRelayHooks").useFragment(m,i);if(e[1]!==m){i=(i=m)!=null?i:{};e[1]=m;e[2]=i}else i=e[2];i=i;i=i.threadTitle;var n;e[3]!==f||e[4]!==m?(n=m!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRelayChatTabHeaderCustomPicture",children:j.jsx(c("MWPRelayPresenceBadge.react"),{borderThemeColor:k.borderThemeColor,size:f,thread$key:m})}):null,e[3]=f,e[4]=m,e[5]=n):n=e[5];f=n;e[6]!==i||e[7]!==a?(m=a===!0&&i!=null?c("translatedServerString")(i):void 0,e[6]=i,e[7]=a,e[8]=m):m=e[8];e[9]!==i||e[10]!==a?(n=a===!0&&i!=null?c("translatedServerString")(i):void 0,e[9]=i,e[10]=a,e[11]=n):n=e[11];e[12]!==n||e[13]!==l?(i=[{alt:n,disabled:!1,source:l}],e[12]=n,e[13]=l,e[14]=i):i=e[14];e[15]!==f||e[16]!==g||e[17]!==m||e[18]!==i?(a=j.jsx(c("FDSFacepilePhoto.react"),{badge:f,label:m,size:g,sources:i,totalItems:1}),e[15]=f,e[16]=g,e[17]=m,e[18]=i,e[19]=a):a=e[19];return a}g["default"]=a}),98);
__d("MWRelayChatTabHeaderCustomPictureCommunity_communityFolder.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatTabHeaderCustomPictureCommunity_communityFolder",selections:[{alias:"pictureUrl",args:null,kind:"ScalarField",name:"picture_url",storageKey:null},{alias:"pictureUrlExpirationTimestampMs",args:null,kind:"ScalarField",name:"picture_url_expiration_timestamp_ms",storageKey:null},{alias:"pictureUrlFallback",args:null,kind:"ScalarField",name:"picture_url_fallback",storageKey:null}],type:"LS_CommunityFolder",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderCustomPictureCommunity.react",["LSRelayHooks","MWCMThreadPictureCustomThreadCommunity.react","MWRelayChatTabHeaderCustomPictureCommunity_communityFolder.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(9),f=a.communityFolder$key,g=a.photoSize;a=a.threadPictureUrl;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("MWRelayChatTabHeaderCustomPictureCommunity_communityFolder.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,f);f=i.pictureUrl;var k=i.pictureUrlExpirationTimestampMs;i=i.pictureUrlFallback;f=(f=f)!=null?f:void 0;k=(k=k)!=null?k:void 0;i=(i=i)!=null?i:void 0;var l;e[1]!==f||e[2]!==k||e[3]!==i?(l={pictureUrl:f,pictureUrlExpirationTimestampMs:k,pictureUrlFallback:i},e[1]=f,e[2]=k,e[3]=i,e[4]=l):l=e[4];e[5]!==g||e[6]!==l||e[7]!==a?(f=j.jsx(c("MWCMThreadPictureCustomThreadCommunity.react"),{community:l,photoSize:g,threadPictureUrl:a}),e[5]=g,e[6]=l,e[7]=a,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("MWRelayChatTabHeaderFacepile_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatTabHeaderFacepile_thread",selections:[{args:null,kind:"FragmentSpread",name:"MWPRelayPresenceBadge_thread"},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderFacepile.react",["CometPlaceholder.react","LSRelayHooks","MWFacepile.react","MWPRelayPresenceBadge.react","MWRelayChatTabHeaderFacepile_thread.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={borderThemeColor:{borderTopColor:"xwi95zy",borderEndColor:"x1s86mek",borderBottomColor:"xt1txi7",borderStartColor:"x1pskuwm",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(13),f=a.ariaHidden,g=a.badgeSize,i=a.label,l=a.onlyAuthoratitiveContacts,m=a.photoSize,n=a.thread$key;a=a.withAltText;l=l===void 0?!1:l;m=m===void 0?32:m;a=a===void 0?!0:a;var o;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=h!==void 0?h:h=b("MWRelayChatTabHeaderFacepile_thread.graphql"),e[0]=o):o=e[0];o=d("LSRelayHooks").useFragment(o,n);n=o.threadKey;var p=o.threadType,q;e[1]!==g||e[2]!==o?(q=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRelayChatTabHeaderFacepile",children:j.jsx(c("MWPRelayPresenceBadge.react"),{borderThemeColor:k.borderThemeColor,size:g,thread$key:o})}),e[1]=g,e[2]=o,e[3]=q):q=e[3];g=q;e[4]!==g||e[5]!==f||e[6]!==i||e[7]!==l||e[8]!==m||e[9]!==n||e[10]!==p||e[11]!==a?(o=j.jsx(c("MWFacepile.react"),{actualBadge:g,ariaHidden:f,label:i,onlyAuthoratitiveContacts:l,photoSize:m,threadKey:n,threadType:p,withAltText:a}),e[4]=g,e[5]=f,e[6]=i,e[7]=l,e[8]=m,e[9]=n,e[10]=p,e[11]=a,e[12]=o):o=e[12];return o}g["default"]=a}),98);
__d("MWRelayChatTabHeaderPicture_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayChatTabHeaderPicture_thread",selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderFacepile_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderCustomPicture_thread"},{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderCustomPictureCommunity_communityFolder"}],storageKey:null},{alias:"threadPictureUrl",args:null,kind:"ScalarField",name:"thread_picture_url",storageKey:null},{alias:"threadPictureUrlExpirationTimestampMs",args:null,kind:"ScalarField",name:"thread_picture_url_expiration_timestamp_ms",storageKey:null},{alias:"threadPictureUrlFallback",args:null,kind:"ScalarField",name:"thread_picture_url_fallback",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderPicture.react",["LSRelayHooks","MWRelayChatTabHeaderCustomPicture.react","MWRelayChatTabHeaderCustomPictureCommunity.react","MWRelayChatTabHeaderFacepile.react","MWRelayChatTabHeaderPicture_thread.graphql","getLSMediaThreadPictureUrl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(16),f=a.ariaHidden,g=a.badgeSize,i=a.photoSize;a=a.thread$key;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=h!==void 0?h:h=b("MWRelayChatTabHeaderPicture_thread.graphql"),e[0]=k):k=e[0];k=d("LSRelayHooks").useFragment(k,a);a=k.folder;var l=k.threadPictureUrl,m=k.threadPictureUrlExpirationTimestampMs,n=k.threadPictureUrlFallback;l=(l=l)!=null?l:void 0;m=(m=m)!=null?m:void 0;n=(n=n)!=null?n:void 0;var o;e[1]!==l||e[2]!==m||e[3]!==n?(o=c("getLSMediaThreadPictureUrl")({threadPictureUrl:l,threadPictureUrlExpirationTimestampMs:m,threadPictureUrlFallback:n}),e[1]=l,e[2]=m,e[3]=n,e[4]=o):o=e[4];l=o;if(l!=null){e[5]!==g||e[6]!==k||e[7]!==a||e[8]!==i||e[9]!==l?(m=a!=null?j.jsx(c("MWRelayChatTabHeaderCustomPictureCommunity.react"),{badgeSize:g,communityFolder$key:a,photoSize:i,threadPictureUrl:l}):j.jsx(c("MWRelayChatTabHeaderCustomPicture.react"),{badgeSize:g,photoSize:i,thread$key:k,threadPictureUrl:l}),e[5]=g,e[6]=k,e[7]=a,e[8]=i,e[9]=l,e[10]=m):m=e[10];return m}e[11]!==f||e[12]!==g||e[13]!==k||e[14]!==i?(n=j.jsx(c("MWRelayChatTabHeaderFacepile.react"),{ariaHidden:f,badgeSize:g,photoSize:i,thread$key:k}),e[11]=f,e[12]=g,e[13]=k,e[14]=i,e[15]=n):n=e[15];return n}g["default"]=a}),98);
__d("MWRelayChatTabHeaderSettingsButton_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayChatTabHeaderSettingsButton_thread",selections:[{alias:"isCutoverThread",args:null,kind:"ScalarField",name:"is_cutover_thread",storageKey:null},{alias:"threadSubtype",args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{alias:"fbGroupId",args:null,kind:"ScalarField",name:"fb_group_id",storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWV2HeaderGroupSettingsSectionQuery$Parameters",["MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation"),metadata:{},name:"MWV2HeaderGroupSettingsSectionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWV2HeaderSettingsMenu.entrypoint",["JSResourceForInteraction","MWV2HeaderGroupSettingsSectionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupID;return{queries:{headerSettingsMenuQueryRef:{parameters:c("MWV2HeaderGroupSettingsSectionQuery$Parameters"),variables:{groupID:(a=a)!=null?a:""}}}}},root:c("JSResourceForInteraction")("MWV2HeaderSettingsMenu.react").__setRef("MWV2HeaderSettingsMenu.entrypoint")};g["default"]=a}),98);
__d("MWV2HeaderSettingsPopoverTrigger.react",["I64","MWV2HeaderSettingsMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var e=d("react-compiler-runtime").c(17),f=a.children,g=a.folderFbGroupId,h=a.pushPage,k=a.tab;a=a.thread;var l=a.threadKey,m=a.threadType,n=c("MessengerWebUXLogger").useImpressionLogger();e[0]!==g?(a=g!=null?(i||(i=d("I64"))).to_string(g):void 0,e[0]=g,e[1]=a):a=e[1];g=a;e[2]!==g?(a={groupID:g},e[2]=g,e[3]=a):a=e[3];e[4]!==n||e[5]!==l||e[6]!==m?(g=function(a){b("cr:2580")&&a&&(b("cr:2580")({threadKey:l,threadType:m},"open_thread_settings_menu","popup_chat_box"),n==null?void 0:n({eventName:"thread_settings_menu_impression",threadKey:l,threadType:m}))},e[4]=n,e[5]=l,e[6]=m,e[7]=g):g=e[7];var o;e[8]!==h||e[9]!==k||e[10]!==l?(o={onClose:c("emptyFunction"),pushPage:h,tab:k,threadKey:l},e[8]=h,e[9]=k,e[10]=l,e[11]=o):o=e[11];e[12]!==f||e[13]!==a||e[14]!==g||e[15]!==o?(h=j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"chat_tab_header_settings_menu",children:j.jsx(c("MWXEntryPointPopoverTrigger.react"),{entryPointParams:a,onVisibilityChange:g,otherProps:o,popoverEntryPoint:c("MWV2HeaderSettingsMenu.entrypoint"),position:"start",preloadTrigger:"button",children:f})}),e[12]=f,e[13]=a,e[14]=g,e[15]=o,e[16]=h):h=e[16];return h}g["default"]=a}),98);
__d("useMWCMIssueCommunityMemberListFetch",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetchStoredProcedure","LSVec","pageID","promiseDone","react-compiler-runtime","useAsyncReStoreBulkFix"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){var e=d("react-compiler-runtime").c(5),g=d("useAsyncReStoreBulkFix").useReStoreHook(),j,k;e[0]!==g||e[1]!==a||e[2]!==b?(j=function(){d("useAsyncReStoreBulkFix").onDbReady(g,function(e){c("promiseDone")(e.runInTransaction(function(e){return c("LSIssueCommunityMemberListFetchStoredProcedure")(c("LSFactory")(e),{communityId:a,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(h||(h=d("I64"))).zero,nextPageCursor:"",requestId:c("pageID"),roles:c("LSVec").ofArray([(i||(i=d("LSIntEnum"))).ofNumber(0)]),source:i.ofNumber(7),threadKey:b,threadRoles:c("LSVec").ofArray([])})},"readwrite",void 0,void 0,f.id+":34"))})},k=[g,a,b],e[0]=g,e[1]=a,e[2]=b,e[3]=j,e[4]=k):(j=e[3],k=e[4]);return d("Int64Hooks").useCallbackInt64(j,k)}g["default"]=a}),98);
__d("useMWV2HeaderSettingsPopover",["LSFactory","LSFetchAdditionalThreadDataStoredProcedure","MWCMThreadTypes.react","ODS","getMWV2HeaderSettingsPopoverTooltip","promiseDone","react-compiler-runtime","useAsyncReStore","useMWCMIssueCommunityMemberListFetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(12),e=a.fbGroupId,g=a.threadKey;a=a.threadType;var i;b[0]!==a?(i=c("getMWV2HeaderSettingsPopoverTooltip")({threadType:a}),b[0]=a,b[1]=i):i=b[1];i=i;var j=c("useAsyncReStore")(),k=c("useMWCMIssueCommunityMemberListFetch")(e,g);b[2]!==a?(e=d("MWCMThreadTypes.react").isJoinedCMThread(a),b[2]=a,b[3]=e):e=b[3];var l=e;b[4]!==j||b[5]!==l||b[6]!==k||b[7]!==g?(a=function(a){a(),l&&(k(),c("promiseDone")(j,function(a){return a.runInTransaction(function(a){return c("LSFetchAdditionalThreadDataStoredProcedure")(c("LSFactory")(a),{threadKey:g})},"readwrite",void 0,void 0,f.id+":56")})),(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_header","settings")},b[4]=j,b[5]=l,b[6]=k,b[7]=g,b[8]=a):a=b[8];b[9]!==a||b[10]!==i?(e={showDialog:a,tooltip:i},b[9]=a,b[10]=i,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("MWV2HeaderSettingsButton.react",["MDSRow.react","MDSRowItem.react","MWV2HeaderSettingsButtonChevron.react","MWV2HeaderSettingsPopoverTrigger.react","MWXPressable.react","react","react-compiler-runtime","useMWV2HeaderSettingsPopover"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={icon:{marginStart:"x1i64zmx",$$css:!0},rowItem:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",minWidth:"xeuugli",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(18),f=a.children,g=a.folderFbGroupId,h=a.pushPage,k=a.tab;a=a.thread;var l=a.threadKey,m=a.threadType;b=(b=g)!=null?b:l;var n;e[0]!==b||e[1]!==l||e[2]!==m?(n={fbGroupId:b,threadKey:l,threadType:m},e[0]=b,e[1]=l,e[2]=m,e[3]=n):n=e[3];b=c("useMWV2HeaderSettingsPopover")(n);var o=b.showDialog,p=b.tooltip;e[4]!==l||e[5]!==m?(n={eventName:"open_setting_from_chat_tab",threadKey:l,threadType:m},e[4]=l,e[5]=m,e[6]=n):n=e[6];var q=n;e[7]!==f||e[8]!==q||e[9]!==o||e[10]!==p?(b=function(a,b,d,e,g,h,k){return i.jsx(c("MWXPressable.react"),{"aria-label":p,loggingEvent:q,onHoverIn:e,onHoverOut:g,onPress:function(){return o(b)},onPressIn:h,overlayRadius:"compact",ref:a,testid:void 0,xstyle:j.settingsButton,children:i.jsx(c("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:i.jsxs(c("MDSRowItem.react"),{expanding:!0,xstyle:j.rowItem,children:[f,i.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{xstyle:j.icon})]})})})},e[7]=f,e[8]=q,e[9]=o,e[10]=p,e[11]=b):b=e[11];e[12]!==g||e[13]!==h||e[14]!==b||e[15]!==k||e[16]!==a?(l=i.jsx(c("MWV2HeaderSettingsPopoverTrigger.react"),{folderFbGroupId:g,pushPage:h,tab:k,thread:a,children:b}),e[12]=g,e[13]=h,e[14]=b,e[15]=k,e[16]=a,e[17]=l):l=e[17];return l}g["default"]=a}),98);
__d("MWRelayChatTabHeaderSettingsButton.react",["LSMessagingThreadTypeUtil","LSRelayHooks","MWRelayChatTabHeaderSettingsButton_thread.graphql","MWV2HeaderSettingsButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(10),f=a.children,g=a.pushPage,i=a.tab;a=a.thread$key;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=h!==void 0?h:h=b("MWRelayChatTabHeaderSettingsButton_thread.graphql"),e[0]=k):k=e[0];k=d("LSRelayHooks").useFragment(k,a);a=k.folder;var l=k.isCutoverThread,m=k.threadKey,n=k.threadSubtype;k=k.threadType;if(l===!0||d("LSMessagingThreadTypeUtil").isBusinessSupportThread((l=n)!=null?l:void 0))return f;n=a==null?void 0:a.fbGroupId;e[1]!==m||e[2]!==k?(l={threadKey:m,threadType:k},e[1]=m,e[2]=k,e[3]=l):l=e[3];e[4]!==f||e[5]!==g||e[6]!==n||e[7]!==l||e[8]!==i?(a=j.jsx(c("MWV2HeaderSettingsButton.react"),{children:f,folderFbGroupId:n,pushPage:g,tab:i,thread:l}),e[4]=f,e[5]=g,e[6]=n,e[7]=l,e[8]=i,e[9]=a):a=e[9];return a}g["default"]=a}),98);
__d("MWRelayChatTabHeaderDetailsContainer.react",["CometPlaceholder.react","Int64Hooks","LSRelayHooks","MWRelayChatTabHeaderDetails.react","MWRelayChatTabHeaderDetailsContainer_thread.graphql","MWRelayChatTabHeaderDetailsPressable.react","MWRelayChatTabHeaderPicture.react","MWRelayChatTabHeaderSettingsButton.react","MWXRow.react","MWXRowItem.react","MWXTooltip.react","cr:21022","getMWV2HeaderSettingsPopoverTooltip","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i.memo;var k={detailsContainer:{marginStart:"xbmpl8g",marginEnd:"xykv574",marginLeft:null,marginRight:null,paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(29),f=a.badgeSize,g=a.photoSize,i=a.pushPage,l=a.tab,m=a.thread$key;a=a.threadNameSize;f=f===void 0?10:f;g=g===void 0?40:g;a=a===void 0?"headlineEmphasized3":a;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=h!==void 0?h:h=b("MWRelayChatTabHeaderDetailsContainer_thread.graphql"),e[0]=n):n=e[0];n=d("LSRelayHooks").useFragment(n,m);e[1]!==n.thread_type?(m=c("getMWV2HeaderSettingsPopoverTooltip")({threadType:n.thread_type}),e[1]=n.thread_type,e[2]=m):m=e[2];m=m;var o;e[3]!==f||e[4]!==g||e[5]!==n?(o=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWRelayChatTabHeaderPicture.react"),{badgeSize:f,photoSize:g,thread$key:n})}),e[3]=f,e[4]=g,e[5]=n,e[6]=o):o=e[6];f=o;e[7]!==n||e[8]!==a?(g=j.jsx(c("MWRelayChatTabHeaderDetails.react"),{thread$key:n,threadNameSize:a}),e[7]=n,e[8]=a,e[9]=g):g=e[9];e[10]!==g||e[11]!==m?(o=j.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:k.detailsContainer,children:j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:m,children:g})}),e[10]=g,e[11]=m,e[12]=o):o=e[12];a=o;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(g="x9f619 x193iq5w x1yrsyyn xsyo7zv x10b6aqq x16hj40l",e[13]=g):g=e[13];e[14]!==i||e[15]!==n?(m=b("cr:21022")!=null&&n!=null&&j.jsx(b("cr:21022"),{pushPage:i,thread$key:n}),e[14]=i,e[15]=n,e[16]=m):m=e[16];e[17]!==n||e[18]!==f?(o=j.jsx("div",{"data-testid":void 0,children:j.jsx(c("MWRelayChatTabHeaderDetailsPressable.react"),{thread$key:n,children:f})}),e[17]=n,e[18]=f,e[19]=o):o=e[19];e[20]!==i||e[21]!==l||e[22]!==n||e[23]!==a?(f=j.jsx(c("MWRelayChatTabHeaderSettingsButton.react"),{pushPage:i,tab:l,thread$key:n,children:a}),e[20]=i,e[21]=l,e[22]=n,e[23]=a,e[24]=f):f=e[24];e[25]!==m||e[26]!==o||e[27]!==f?(i=j.jsx("div",{className:g,children:j.jsx(c("MWXRow.react"),{align:"start",expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRelayChatTabHeaderDetailsContainer",children:j.jsxs(j.Fragment,{children:[m,o,f]})})})}),e[25]=m,e[26]=o,e[27]=f,e[28]=i):i=e[28];return i}f=e(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=f}),98);
__d("MWRelayChatTabHeaderRTCButtons_root.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWRelayChatTabHeaderRTCButtons_root",selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatRTCButtons_root"}],type:"LSRoot",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderRTCButtons_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatTabHeaderRTCButtons_thread",selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatRTCButtons_thread"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeaderRTCButtons.react",["LSRelayHooks","MWRelayChatRTCButtons.react","MWRelayChatTabHeaderRTCButtons_root.graphql","MWRelayChatTabHeaderRTCButtons_thread.graphql","ODS","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=j||(j=d("react"));j.useCallback;var m=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWRelayChatTabHeaderRTCButtons.react");function a(a){var e=d("react-compiler-runtime").c(5),f=a.lsRoot$key;a=a.thread$key;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("MWRelayChatTabHeaderRTCButtons_root.graphql"),e[0]=g):g=e[0];g=d("LSRelayHooks").useFragment(g,f);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=i!==void 0?i:i=b("MWRelayChatTabHeaderRTCButtons_thread.graphql"),e[1]=f):f=e[1];f=d("LSRelayHooks").useFragment(f,a);a=p;var j=n;e[2]!==f||e[3]!==g?(a=l.jsx(c("MWRelayChatRTCButtons.react"),{audioCallingSurface:"comet_chattab_audio_button",logAudio:a,logVideo:j,lsRoot$key:g,thread$key:f,videoCallingSurface:"comet_chattab_video_button"}),e[2]=f,e[3]=g,e[4]=a):a=e[4];return a}function n(){(k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_header","video"),m.onReady(o)}function o(a){return a.logClick({component:"video_button",surface:"chat_tab"})}function p(){(k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_header","audio"),m.onReady(q)}function q(a){return a.logClick({component:"audio_button",surface:"chat_tab"})}g["default"]=a}),98);
__d("MWRelayChatTabHeader_root.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWRelayChatTabHeader_root",selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderRTCButtons_root"}],type:"LSRoot",abstractKey:null};e.exports=a}),null);
__d("MWRelayChatTabHeader_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWRelayChatTabHeader_thread",selections:[{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:"threadSubtype",args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{alias:"parentThreadKey",args:null,kind:"ScalarField",name:"parent_thread_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"metadata",storageKey:null},{alias:"isMessageRequest",args:[{kind:"Literal",name:"capability",value:"MESSAGE_REQUEST_COMPOSER_BANNER"}],kind:"ScalarField",name:"has_capability",storageKey:'has_capability(capability:"MESSAGE_REQUEST_COMPOSER_BANNER")'},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderRTCButtons_thread"},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeaderDetailsContainer_thread"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWXIconMinus",["MWXSvgIcon","SVGIcon","cr:12498","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12498")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2HeaderMinimizeButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconMinus","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.onPress;var e=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Minimise chat"),b[0]=f):f=b[0];f=f;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),b[1]=g):g=b[1];b[2]!==a||b[3]!==e?(g=j.jsx(c("MWChatHeaderActionButton.react"),{color:g,icon:c("MWXIconMinus"),iconRatio:"large",label:f,loggingEvent:"minimize_chat_tab",onPress:a,ref:e,tooltipLabel:f}),b[2]=a,b[3]=e,b[4]=g):g=b[4];return g}g["default"]=a}),226);
__d("MWRelayChatTabHeader.react",["I64","LSMessagingThreadTypeUtil","LSRelayHooks","MAWThreadCutover","MWChatStateActions","MWChatStateV2.react","MWCreatorMessagingUtils","MWRelayChatTabHeaderDetailsContainer.react","MWRelayChatTabHeaderRTCButtons.react","MWRelayChatTabHeader_root.graphql","MWRelayChatTabHeader_thread.graphql","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2HeaderMinimizeButton.react","MWXTooltipGroup.react","QPLUserFlow","qpl","react","react-compiler-runtime","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=j||d("react");function a(a){var e=d("react-compiler-runtime").c(34),f=a.pushPage,g=a.renderThreadDetails,j=a.root$key,m=a.tab;a=a.thread$key;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=h!==void 0?h:h=b("MWRelayChatTabHeader_root.graphql"),e[0]=n):n=e[0];n=d("LSRelayHooks").useFragment(n,j);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=i!==void 0?i:i=b("MWRelayChatTabHeader_thread.graphql"),e[1]=j):j=e[1];var o=d("LSRelayHooks").useFragment(j,a),p=o.isMessageRequest,q=o.parentThreadKey;j=o.threadKey;a=o.threadSubtype;var r=d("MWChatStateV2.react").useDispatch(),s=c("useMWV2CloseTab")(j,m),t=d("MAWThreadCutover").useIsCutoverOpenThread(j),u;e[2]!==f||e[3]!==m||e[4]!==o?(u=l.jsx(c("MWRelayChatTabHeaderDetailsContainer.react"),{photoSize:32,pushPage:f,tab:m,thread$key:o,threadNameSize:"headlineEmphasized4"}),e[2]=f,e[3]=m,e[4]=o,e[5]=u):u=e[5];f=u;if(t||d("LSMessagingThreadTypeUtil").isBusinessSupportThread((u=a)!=null?u:void 0))t=f;else{e[6]!==f||e[7]!==g?(a=g!=null?g():f,e[6]=f,e[7]=g,e[8]=a):a=e[8];t=a}e[9]!==p||e[10]!==q||e[11]!==o?(u=function(){if(o!=null){var a;a=babelHelpers["extends"]({},o,{metadata:(a=o.metadata)!=null?a:void 0,parentThreadKey:q,threadSubtype:(a=o.threadSubtype)!=null?a:void 0});d("MWCreatorMessagingUtils").isAPPlusInitiatedThread(a)&&p&&c("QPLUserFlow").endCancel(c("qpl")._(421070823,"2981"),{annotations:{string:{action:"no_action"}},instanceKey:(k||(k=d("I64"))).to_int32(a.threadKey)})}},e[9]=p,e[10]=q,e[11]=o,e[12]=u):u=e[12];var v=u;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 xcud41i"},e[13]=f):f=e[13];e[14]!==n||e[15]!==o?(g=l.jsx(c("MWRelayChatTabHeaderRTCButtons.react"),{lsRoot$key:n,thread$key:o}),e[14]=n,e[15]=o,e[16]=g):g=e[16];e[17]!==r||e[18]!==v||e[19]!==m.tabId?(a=l.jsx(c("MWV2HeaderMinimizeButton.react"),{onPress:function(){r(d("MWChatStateActions").minimizeTab(Date.now(),m.tabId)),v()}}),e[17]=r,e[18]=v,e[19]=m.tabId,e[20]=a):a=e[20];e[21]!==s||e[22]!==v?(u=function(){s(),v()},e[21]=s,e[22]=v,e[23]=u):u=e[23];n="mwchattab-closebutton-"+(k||(k=d("I64"))).to_string(j);e[24]!==u||e[25]!==n?(j=l.jsx(c("MWV2HeaderCloseButton.react"),{onPress:u,testid:void 0}),e[24]=u,e[25]=n,e[26]=j):j=e[26];e[27]!==j||e[28]!==g||e[29]!==a?(u=l.jsx(c("MWXTooltipGroup.react"),{children:l.jsxs("div",babelHelpers["extends"]({},f,{children:[g,a,j]}))}),e[27]=j,e[28]=g,e[29]=a,e[30]=u):u=e[30];e[31]!==t||e[32]!==u?(n=l.jsx(c("MWV2HeaderContainer.react"),{endContent:u,startContent:t}),e[31]=t,e[32]=u,e[33]=n):n=e[33];return n}g["default"]=a}),98);
__d("MWRelayChatTabSearchEnabled.relayprovider",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(){return c("gkx")("14611")}};g["default"]=a}),98);
__d("MWRelayChatTabHeaderRootQuery.graphql",["LS_Thread__has_capability","LSThreadHasCapability__has_capability$normalization.graphql","LS_Thread","LS_Participant_Connection","LS_Participant_Connection","LS_Participant","LS_Contact","LS_Contact","LS_Thread__other_participant","LS_Contact__has_capability","LSContactHasCapability__has_capability$normalization.graphql","LS_Participant","LS_Thread__computed_thread_title","LSThreadComputedThreadTitle__computed_thread_title$normalization.graphql","LS_Thread","LS_Thread__other_participant_or_self","LSThreadOtherParticipantOrSelf__other_participant_or_self$normalization.graphql","LS_Contact","LS_Contact","Query__lightspeed_data","LSRoot__thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_MiActMappingTable_Connection","LS_MiActMappingTable_Connection","LS_MiActMappingTable","LS_Thread__other_participants","LS_Thread__restricted_participants","LS_Thread","LS_RtcOngoingCallsOnThreadsV2","LS_Thread__blocked_participants","LS_Thread__is_viewer_participant","LS_Thread","LS_Thread__is_secure_thread","LSThreadIsSecureThread__is_secure_thread$normalization.graphql","LS_Thread__is_page","LSThreadIsPage__is_page$normalization.graphql","LS_Contact","LS_Contact","LS_Thread__is_blocked_by_viewer","LSThreadIsBlockedByViewer__is_blocked_by_viewer$normalization.graphql","LS_Thread__other_participants_MAY_CAUSE_OVERFETCHING","LS_CommunityFolder","LS_CommunityFolder","LS_CommunityFolder","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_CommunityFolder","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Contact","LS_Contact","LS_Thread__header_aria_description","LSThreadHeaderAriaDescription_thread$normalization.graphql","LS_CommunityFolder","LS_Thread","LS_Thread","LS_Participant","LS_Thread__is_cutover_thread","LS_CommunityFolder","LSRoot__viewer","LS_Viewer","MWRelayChatTabSearchEnabled.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"threadKey"},c=[{kind:"Literal",name:"dbType",value:"PROD"}],d=[{kind:"Variable",name:"threadKey",variableName:"threadKey"}],e={resolverFunction:b("LS_Thread__has_capability").has_capability,rootFragment:b("LSThreadHasCapability__has_capability$normalization.graphql")},f={name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}},g=[{kind:"Literal",name:"first",value:1}],h={name:"edges",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").edges,rootFragment:null}},i={name:"node",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").node,rootFragment:null}},j={name:"contact",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact,rootFragment:null}},k={name:"id_",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").id_,rootFragment:null}},l=[{kind:"Literal",name:"first",value:20}],m=[{kind:"ClientEdgeToClientObject",backingField:h,linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"ClientEdgeToClientObject",backingField:i,linkedField:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:j,linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"__lightspeed_table_row",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").__lightspeed_table_row,rootFragment:null}}],storageKey:null}}],storageKey:null}}],storageKey:null}}],n=[{kind:"Literal",name:"capability",value:"RTC_VOICE_CALL"}],o=[{kind:"Literal",name:"capability",value:"RTC_VIDEO_CALL"}],p={name:"other_participant",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__other_participant").other_participant,rootFragment:null}},q={resolverFunction:b("LS_Contact__has_capability").has_capability,rootFragment:b("LSContactHasCapability__has_capability$normalization.graphql")},r={name:"contact_id",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact_id,rootFragment:null}},s={name:"computed_thread_title",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__computed_thread_title").computed_thread_title,rootFragment:b("LSThreadComputedThreadTitle__computed_thread_title$normalization.graphql")}},t={name:"community_folder",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").community_folder,rootFragment:null}},u={name:"other_participant_or_self",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__other_participant_or_self").other_participant_or_self,rootFragment:b("LSThreadOtherParticipantOrSelf__other_participant_or_self$normalization.graphql")}},v={name:"contact_type_exact",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").contact_type_exact,rootFragment:null}},w={name:"secondary_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").secondary_name,rootFragment:null}},x=[{kind:"Literal",name:"first",value:2}];return{fragment:{argumentDefinitions:[a],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayChatTabHeaderRootQuery",selections:[{alias:null,args:c,concreteType:"LSRoot",kind:"LinkedField",name:"lightspeed_data",plural:!1,selections:[{alias:null,args:d,concreteType:"LS_Thread",kind:"LinkedField",name:"thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeader_thread"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MWRelayChatTabHeader_root"}],storageKey:'lightspeed_data(dbType:"PROD")'}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWRelayChatTabSearchEnabledrelayprovider"}],kind:"Operation",name:"MWRelayChatTabHeaderRootQuery",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"lightspeed_data",args:c,kind:"RelayLiveResolver",storageKey:'lightspeed_data(dbType:"PROD")',isOutputType:!0,resolverInfo:{resolverFunction:b("Query__lightspeed_data").lightspeed_data,rootFragment:null}},linkedField:{alias:null,args:c,concreteType:"LSRoot",kind:"LinkedField",name:"lightspeed_data",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"thread",args:d,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LSRoot__thread").thread,rootFragment:null}},linkedField:{alias:null,args:d,concreteType:"LS_Thread",kind:"LinkedField",name:"thread",plural:!1,selections:[{name:"thread_key",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_key,rootFragment:null}},{name:"thread_subtype",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_subtype,rootFragment:null}},{name:"parent_thread_key",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").parent_thread_key,rootFragment:null}},{name:"metadata",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").metadata,rootFragment:null}},{name:"has_capability",args:[{kind:"Literal",name:"capability",value:"MESSAGE_REQUEST_COMPOSER_BANNER"}],kind:"RelayResolver",storageKey:'has_capability(capability:"MESSAGE_REQUEST_COMPOSER_BANNER")',isOutputType:!0,resolverInfo:e},{name:"ongoing_call_state",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").ongoing_call_state,rootFragment:null}},f,{kind:"ClientEdgeToClientObject",backingField:{name:"mi_act_mapping",args:g,kind:"RelayLiveResolver",storageKey:"mi_act_mapping(first:1)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").mi_act_mapping,rootFragment:null}},linkedField:{alias:null,args:g,concreteType:"LS_MiActMappingTable_Connection",kind:"LinkedField",name:"mi_act_mapping",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"edges",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_MiActMappingTable_Connection").edges,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_MiActMappingTable_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"node",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_MiActMappingTable_Connection").node,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_MiActMappingTable",kind:"LinkedField",name:"node",plural:!1,selections:[{name:"jid",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_MiActMappingTable").jid,rootFragment:null}}],storageKey:null}}],storageKey:null}}],storageKey:"mi_act_mapping(first:1)"}},{kind:"ClientEdgeToClientObject",backingField:{name:"other_participants",args:g,kind:"RelayLiveResolver",storageKey:"other_participants(first:1)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__other_participants").other_participants,rootFragment:null}},linkedField:{alias:null,args:g,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"other_participants",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:h,linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"ClientEdgeToClientObject",backingField:i,linkedField:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:j,linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[k],storageKey:null}}],storageKey:null}}],storageKey:null}}],storageKey:"other_participants(first:1)"}},{kind:"ClientEdgeToClientObject",backingField:{name:"restricted_participants",args:l,kind:"RelayLiveResolver",storageKey:"restricted_participants(first:20)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__restricted_participants").restricted_participants,rootFragment:null}},linkedField:{alias:null,args:l,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"restricted_participants",plural:!1,selections:m,storageKey:"restricted_participants(first:20)"}},{kind:"ClientEdgeToClientObject",backingField:{name:"rtc_ongoing_calls",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").rtc_ongoing_calls,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_RtcOngoingCallsOnThreadsV2",kind:"LinkedField",name:"rtc_ongoing_calls",plural:!1,selections:[{name:"ongoing_call_server_info_data",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_RtcOngoingCallsOnThreadsV2").ongoing_call_server_info_data,rootFragment:null}}],storageKey:null}},{kind:"ClientEdgeToClientObject",backingField:{name:"blocked_participants",args:l,kind:"RelayLiveResolver",storageKey:"blocked_participants(first:20)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__blocked_participants").blocked_participants,rootFragment:null}},linkedField:{alias:null,args:l,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"blocked_participants",plural:!1,selections:m,storageKey:"blocked_participants(first:20)"}},{name:"is_viewer_participant",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__is_viewer_participant").is_viewer_participant,rootFragment:null}},{name:"folder_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").folder_name,rootFragment:null}},{name:"has_capability",args:n,kind:"RelayResolver",storageKey:'has_capability(capability:"RTC_VOICE_CALL")',isOutputType:!0,resolverInfo:e},{name:"has_capability",args:o,kind:"RelayResolver",storageKey:'has_capability(capability:"RTC_VIDEO_CALL")',isOutputType:!0,resolverInfo:e},{name:"is_secure_thread",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__is_secure_thread").is_secure_thread,rootFragment:b("LSThreadIsSecureThread__is_secure_thread$normalization.graphql")}},{name:"computed_is_page",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__is_page").computed_is_page,rootFragment:b("LSThreadIsPage__is_page$normalization.graphql")}},{kind:"ClientEdgeToClientObject",backingField:p,linkedField:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:j,linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"blocked_since_timestamp_ms",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").blocked_since_timestamp_ms,rootFragment:null}},{name:"has_capability",args:n,kind:"RelayResolver",storageKey:'has_capability(capability:"RTC_VOICE_CALL")',isOutputType:!0,resolverInfo:q},{name:"has_capability",args:o,kind:"RelayResolver",storageKey:'has_capability(capability:"RTC_VIDEO_CALL")',isOutputType:!0,resolverInfo:q},{name:"has_capability",args:[{kind:"Literal",name:"capability",value:"MESSAGE"}],kind:"RelayResolver",storageKey:'has_capability(capability:"MESSAGE")',isOutputType:!0,resolverInfo:q},{name:"has_capability",args:[{kind:"Literal",name:"capability",value:"REPLY_MESSAGE"}],kind:"RelayResolver",storageKey:'has_capability(capability:"REPLY_MESSAGE")',isOutputType:!0,resolverInfo:q},{name:"has_capability",args:[{kind:"Literal",name:"capability",value:"VIEWER_IS_UNCONNECTED"}],kind:"RelayResolver",storageKey:'has_capability(capability:"VIEWER_IS_UNCONNECTED")',isOutputType:!0,resolverInfo:q},{name:"contact_reachability_status_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").contact_reachability_status_type,rootFragment:null}}],storageKey:null}}],storageKey:null}},{name:"is_blocked_by_viewer",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__is_blocked_by_viewer").is_blocked_by_viewer,rootFragment:b("LSThreadIsBlockedByViewer__is_blocked_by_viewer$normalization.graphql")}},f,{kind:"ClientEdgeToClientObject",backingField:{name:"other_participants_MAY_CAUSE_OVERFETCHING",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__other_participants_MAY_CAUSE_OVERFETCHING").other_participants_MAY_CAUSE_OVERFETCHING,rootFragment:null}},linkedField:{alias:"otherParticipants",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participants_MAY_CAUSE_OVERFETCHING",plural:!0,selections:[r],storageKey:null}},s,{kind:"ClientEdgeToClientObject",backingField:t,linkedField:{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{name:"picture_url",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_CommunityFolder").picture_url,rootFragment:null}},{name:"picture_url_expiration_timestamp_ms",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_CommunityFolder").picture_url_expiration_timestamp_ms,rootFragment:null}},{name:"picture_url_fallback",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_CommunityFolder").picture_url_fallback,rootFragment:null}}],storageKey:null}},{name:"thread_picture_url",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_picture_url,rootFragment:null}},{name:"thread_picture_url_expiration_timestamp_ms",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_picture_url_expiration_timestamp_ms,rootFragment:null}},{name:"thread_picture_url_fallback",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_picture_url_fallback,rootFragment:null}},s,{name:"thread_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_name,rootFragment:null}},{kind:"ClientEdgeToClientObject",backingField:u,linkedField:{alias:"otherParticipantOrSelf",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant_or_self",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:j,linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"has_capability",args:[{kind:"Literal",name:"capability",value:"VERIFIED"}],kind:"RelayResolver",storageKey:'has_capability(capability:"VERIFIED")',isOutputType:!0,resolverInfo:q}],storageKey:null}}],storageKey:null}},{name:"cannot_reply_reason",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").cannot_reply_reason,rootFragment:null}},{kind:"ClientEdgeToClientObject",backingField:t,linkedField:{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{name:"name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_CommunityFolder").name,rootFragment:null}}],storageKey:null}},{name:"member_count",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").member_count,rootFragment:null}},{name:"mute_calls_expire_time_ms",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").mute_calls_expire_time_ms,rootFragment:null}},{name:"mute_expire_time_ms",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").mute_expire_time_ms,rootFragment:null}},{kind:"ClientEdgeToClientObject",backingField:p,linkedField:{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:j,linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[v,w],storageKey:null}}],storageKey:null}},{name:"ongoing_call_timestamp_ms",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").ongoing_call_timestamp_ms,rootFragment:null}},{name:"nullstate_description_text1",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").nullstate_description_text1,rootFragment:null}},{name:"has_capability",args:[{kind:"Literal",name:"capability",value:"THREAD_DETAILS_PROFILE_BUTTON"}],kind:"RelayResolver",storageKey:'has_capability(capability:"THREAD_DETAILS_PROFILE_BUTTON")',isOutputType:!0,resolverInfo:e},{kind:"ClientEdgeToClientObject",backingField:u,linkedField:{alias:"otherParticipantOrSelf",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant_or_self",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:j,linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"blocked_by_viewer_status",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").blocked_by_viewer_status,rootFragment:null}},v,k,w,{name:"name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").name,rootFragment:null}}],storageKey:null}}],storageKey:null}},{name:"header_aria_description",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__header_aria_description").header_aria_description,rootFragment:b("LSThreadHeaderAriaDescription_thread$normalization.graphql")}},{kind:"ClientEdgeToClientObject",backingField:t,linkedField:{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{name:"__lightspeed_table_row",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_CommunityFolder").__lightspeed_table_row,rootFragment:null}}],storageKey:null}},{name:"snippet_sender_contact_id",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").snippet_sender_contact_id,rootFragment:null}},{kind:"ClientEdgeToClientObject",backingField:{name:"participants",args:x,kind:"RelayLiveResolver",storageKey:"participants(first:2)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").participants,rootFragment:null}},linkedField:{alias:null,args:x,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:h,linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"ClientEdgeToClientObject",backingField:i,linkedField:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{name:"is_super_admin",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").is_super_admin,rootFragment:null}},r],storageKey:null}}],storageKey:null}}],storageKey:"participants(first:2)"}},{name:"has_capability",args:[{kind:"Literal",name:"capability",value:"MEMBER_LIST"}],kind:"RelayResolver",storageKey:'has_capability(capability:"MEMBER_LIST")',isOutputType:!0,resolverInfo:e},{name:"is_cutover_thread",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__is_cutover_thread").is_cutover_thread,rootFragment:null}},{kind:"ClientEdgeToClientObject",backingField:t,linkedField:{alias:"folder",args:null,concreteType:"LS_CommunityFolder",kind:"LinkedField",name:"community_folder",plural:!1,selections:[{name:"fb_group_id",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_CommunityFolder").fb_group_id,rootFragment:null}}],storageKey:null}}],storageKey:null}},{kind:"ClientEdgeToClientObject",backingField:{name:"viewer",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LSRoot__viewer").viewer,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{name:"is_read_only_feature_limited",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Viewer").is_read_only_feature_limited,rootFragment:null}}],storageKey:null}}],storageKey:'lightspeed_data(dbType:"PROD")'}}]},params:{cacheID:"6a126ac9f5ebce1e8fd46d74fc9951b9",id:null,metadata:{},name:"MWRelayChatTabHeaderRootQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWRelayChatTabSearchEnabledrelayprovider:b("MWRelayChatTabSearchEnabled.relayprovider")}}}}();e.exports=a}),null);
__d("MWRelayChatTabHeaderRoot.react",["LSRelayHooks","MWRelayChatTabHeader.react","MWRelayChatTabHeaderRootQuery.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.pushPage,g=a.renderThreadDetails,i=a.tab;a=a.threadKey;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=h!==void 0?h:h=b("MWRelayChatTabHeaderRootQuery.graphql"),e[0]=k):k=e[0];var l;e[1]!==a?(l={threadKey:a},e[1]=a,e[2]=l):l=e[2];a=d("LSRelayHooks").useLazyLoadClientQuery(k,l);if((a==null?void 0:(k=a.lightspeed_data)==null?void 0:k.thread)==null)return null;e[3]!==a.lightspeed_data||e[4]!==f||e[5]!==g||e[6]!==i?(l=j.jsx(c("MWRelayChatTabHeader.react"),{pushPage:f,renderThreadDetails:g,root$key:a.lightspeed_data,tab:i,thread$key:a.lightspeed_data.thread}),e[3]=a.lightspeed_data,e[4]=f,e[5]=g,e[6]=i,e[7]=l):l=e[7];return l}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWInboxMessageSearchJumpToResultQPL",["FBLogger","I64","MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("3865"),j=c("justknobx")._("3867"),k=null;function l(){k=null}function m(a,b,c){k={key:d("MAWLoggerUtils").getInstanceKey(),messageId:b,messageOtid:c,threadKey:a};return k.key}function a(a,b){if(k==null||(b==null?void 0:b.messageId)!==k.messageId&&(b==null?void 0:b.offlineThreadingId)!==k.messageOtid)return;b=k.key;c("QPLUserFlow").addPoint(c("qpl")._(25306290,"2811"),a,{instanceKey:b})}function b(a,b){if(!j||k==null||!(h||(h=d("I64"))).equal(b.threadKey,k.threadKey))return;try{var e=k.key;a=a.msgs;a=a.some(function(a){var b;return a.msgId===((b=k)==null?void 0:b.messageId)||a.externalId===((b=k)==null?void 0:b.messageOtid)});c("QPLUserFlow").addPoint(c("qpl")._(25306290,"2811"),a?"jumped_message_fetched":"message_fetch_checkpoint",{data:{string:{rangeMaxTimestamp:b.maxTimestampMs!=null?(h||(h=d("I64"))).to_string(b.maxTimestampMs):"null",rangeMinTimestamp:b.minTimestampMs!=null?(h||(h=d("I64"))).to_string(b.minTimestampMs):"null"}},instanceKey:e})}catch(a){c("FBLogger")("messenger_web_search").mustfix("Failed to check if jumped message are fetched: %s",a)}}function e(a){if(k==null||(a==null?void 0:a.messageId)!==k.messageId&&(a==null?void 0:a.offlineThreadingId)!==k.messageOtid)return;a=k.key;c("QPLUserFlow").endSuccess(c("qpl")._(25306290,"2811"),{instanceKey:a});l()}function f(a){if(k==null)return;var b=k.key;c("QPLUserFlow").endCancel(c("qpl")._(25306290,"2811"),{annotations:{string:{cancelReason:a}},instanceKey:b});l()}function n(a,b,d){a=m(a,b.messageId,b.offlineThreadingId);c("QPLUserFlow").start(c("qpl")._(25306290,"2811"),babelHelpers["extends"]({annotations:{string:{messageId:b==null?void 0:b.messageId,messageOtid:b==null?void 0:b.offlineThreadingId}},instanceKey:a,timeoutInMs:i},d))}g.addPointIfJumpedToMessage=a;g.checkIfJumpedMessageAreFetched=b;g.endSuccessIfJumpedToMessage=e;g.endCancelIfAny=f;g.start=n}),98);
__d("MAWFetchMessagesForMLv2",["DateConsts","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWSecureLocalDBFetch","MWInboxMessageSearchJumpToResultQPL"],(function(a,b,c,d,e,f,g){"use strict";var h=10*d("DateConsts").MS_PER_SEC;async function a(a){var b=a.chatJid,e=a.direction,f=a.includeOriginalMsg,g=a.pageSize;a=a.range;var i=d("MAWMessagesDirection").getRangeMsgIdForDirection(e,a),j=await d("MAWMessagesPaginationUtils").getRangeExternalIdForDirection(e,a);b=await c("MAWSecureLocalDBFetch")({actionType:"user",chatJid:b,config:{admin:!0,editMsgHistory:!0,media:!0,polls:!0,reactions:!0,receiverFetch:!0,xma:!0},count:g,direction:d("MAWMessagesDirection").translateMwpDirectionToMawDirection(e),offsetMsg:{externalId:j,includeOriginalMsg:f,messageId:i},timestampMs:d("MAWMessagesDirection").getI64RangeTimestampForDirection(e,a)},{timeoutMs:h});b.success===!0&&(d("MAWMessagesPaginationUtils").populateExternalIdCache(b.value.msgs),d("MWInboxMessageSearchJumpToResultQPL").checkIfJumpedMessageAreFetched(b.value,a));return b}g.fetchMessagesFromMAW=a}),98);
__d("MAWFetchLocalMessagesAndMetadata",["MAWFetchMessagesForMLv2","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=a.chatJid,c=a.direction,e=a.pageSize,f=a.range;a=a.sortFn;b=await d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:b,direction:c,includeOriginalMsg:!0,pageSize:e+1,range:f});if(b.success===!1)return d("WAResultOrError").makeError(b.error);c=h(b.value.msgs).sort(a);return d("WAResultOrError").makeResult({localMsgsMetadata:c,mawFetchResult:b.value})}function h(a){return a.map(function(a){return{externalId:a.externalId,msgType:a.type_,sortOrderMs:a.sortOrderMs}})}g.default=a}),98);
__d("MAWFindMsgsWithMinAndMaxTimestamp",["MAWMessagesCompare","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.length===0)return[null,null];if(c("qex")._("18"))return h(a);a=a.toSorted(function(a,b){return((a=a.sortOrderMs)!=null?a:0)-((a=b.sortOrderMs)!=null?a:0)});return[a[0],a[a.length-1]]}function b(a){a=a.filter(function(a){return a.sortOrderMs!=null});if(a.length===0)return[null,null];if(c("qex")._("18"))return h(a);var b=null,d=null;for(a of a){var e;if(a.sortOrderMs==null)continue;(((e=b)==null?void 0:e.sortOrderMs)==null||b.sortOrderMs<a.sortOrderMs)&&(b=a);(((e=d)==null?void 0:e.sortOrderMs)==null||d.sortOrderMs>a.sortOrderMs)&&(d=a)}return[d,b]}function h(a){if(a.length===0)return[null,null];var b=d("MAWMessagesCompare").getSortComparisonFunctionForDirection("asc");a=a.filter(function(a){return a.sortOrderMs!=null}).sort(b);return[a[0],a[a.length-1]]}g.findEBMsgsWithMinAndMaxTimestamp=a;g.findMsgsWithMinAndMaxTimestamp=b}),98);
__d("MAWMessagesRangesUtils",["I64","MAWFindMsgsWithMinAndMaxTimestamp","MAWMessagesDirection","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(h||(h=d("I64"))).max_int,minMessageId:"",minTimestampMs:h.min_int,threadKey:a}}function b(){return{maxExternalId:null,minExternalId:null}}function e(a){var b,e=a.direction,f=a.hasMoreMsgsInDeanon,g=a.mawFetchResult,j=a.range;a=a.rangeExternalIds;var k=[].concat(g.msgs).sort(function(a,b){return a.sortOrderMs-b.sortOrderMs}),l=k.length>0?k[0]:void 0;k=k.length>0?k[k.length-1]:void 0;var m=c("gkx")("8338");g=d("MAWMessagesDirection").switchOnMWPMessagesDirection(e,{asc:babelHelpers["extends"]({},j,{hasMoreAfter:g.hasMoreAfter||m&&f,isLoadingAfter:!1,maxMessageId:(b=k==null?void 0:k.msgId)!=null?b:j.maxMessageId,maxTimestampMs:(h||(h=d("I64"))).max(j.maxTimestampMs,(k==null?void 0:k.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(k==null?void 0:k.sortOrderMs):j.maxTimestampMs)}),desc:babelHelpers["extends"]({},j,{hasMoreBefore:g.hasMoreBefore||m&&f,isLoadingBefore:!1,minMessageId:(b=l==null?void 0:l.msgId)!=null?b:j.minMessageId,minTimestampMs:h.min(j.minTimestampMs,(l==null?void 0:l.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(l==null?void 0:l.sortOrderMs):j.minTimestampMs)})});m=i(e,l,k,a);return[g,m]}function f(a,b,c,e){var f,g=d("MAWFindMsgsWithMinAndMaxTimestamp").findMsgsWithMinAndMaxTimestamp(c.msgs),j=g[0];g=g[1];c=babelHelpers["extends"]({},a,d("MAWMessagesDirection").switchOnMWPMessagesDirection(e,{asc:{hasMoreAfter:c.hasMoreAfter,isLoadingAfter:!1,maxMessageId:(f=g==null?void 0:g.msgId)!=null?f:a.maxMessageId,maxTimestampMs:(h||(h=d("I64"))).max(a.maxTimestampMs,(g==null?void 0:g.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(g==null?void 0:g.sortOrderMs):a.maxTimestampMs)},desc:{hasMoreBefore:c.hasMoreBefore,isLoadingBefore:!1,minMessageId:(f=j==null?void 0:j.msgId)!=null?f:a.minMessageId,minTimestampMs:h.min(a.minTimestampMs,(j==null?void 0:j.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(j==null?void 0:j.sortOrderMs):a.minTimestampMs)}}));f=i(e,j,g,b);return[c,f]}function i(a,b,c,e){return babelHelpers["extends"]({},d("MAWMessagesDirection").switchOnMWPMessagesDirection(a,{asc:{maxExternalId:(a=c==null?void 0:c.externalId)!=null?a:e.maxExternalId,minExternalId:e.minExternalId},desc:{maxExternalId:e.maxExternalId,minExternalId:(c=b==null?void 0:b.externalId)!=null?c:e.minExternalId}}))}g.getRangeForFailure=a;g.getRangeExternalIdsForFailure=b;g.getNewMAWRange=e;g.mergeMoreMessagesResponseIntoRange=f;g.getNewMsgsRangesExternalIds=i}),98);
__d("MLv2LoggingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"["+a.map(function(a){return"{"+a.externalId+", "+a.sortOrderMs+"}"}).join(", ")+"]"}f.getLogStrForMsgsMetadata=a}),66);
__d("EBDeanonRangeExtension",["FBLogger","I64","MAWFetchDeanonMetadataUsingCache","MAWFetchLocalMessagesAndMetadata","MAWMessagesCompare","MAWMessagesDirection","MAWMessagesRangesUtils","MAWMsgType","MLv2LoggingUtils","WATagsLogger","WATimeUtils","cr:17068","cr:19608","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] MAW fetch failed: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local external ids do not match de-anon. Local: [","], ToExistInLocal: [","]"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local data exists but in the wrong order."]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local data was sufficient, skipping EB restore, hasMoreMsgsInDeanon: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Not enough local metadata, hasMoreMsgsInDeanon: ",". Expected (","), got (",")."]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Deanon data is empty, check if de-anon API is enabled: bunnylol labyrinth <user_id>"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Comparing deanon (size ",") and local (size ",") metadata"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Filtered deanon data (to be compared with local) ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Skip filtering given that it is a first page"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Raw deanon data ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Encountered unavailable or ciphertext message, EB restore is required"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] MAW fetch failed: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Deanon fetch failed: ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Fetching deanon and local data for page size ",""]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Range is not valid for EB deanon ",""]);w=function(){return a};return a}var x=d("WATagsLogger").TAGS(["EBDeanonRangeExtension"]);function y(a){return a.filter(function(a){return a.type_===d("MAWMsgType").MSG_TYPE.UNAVAILABLE||a.type_===d("MAWMsgType").MSG_TYPE.CIPHERTEXT}).length>0}function z(a,b){b=d("MAWMessagesDirection").getI64RangeTimestampForDirection(a,b);return d("MAWMessagesDirection").switchOnMWPMessagesDirection(a,{asc:!(h||(h=d("I64"))).equal(b,h.max_int),desc:!h.equal(b,h.min_int)})}async function a(a){var e=a.chatJid,f=a.db,g=a.direction,h=a.logger,i=a.pageSize,j=a.range;a=a.rangeExternalIds;if(!z(g,j)){x.LOG(w(),e,j.threadKey);return Promise.resolve(null)}var k=d("MAWMessagesCompare").getSortComparisonFunctionForDirection(g);x.LOG(v(),e,i);h==null?void 0:h.markQPLPoint("maw_fetch_for_deanon_optimisation_start");var l=d("MAWMessagesDirection").isFirstPageRange(j,g),m=await D({chatJid:e,direction:g,isFirstPage:l,logger:h,pageSize:i,range:j,rangeExternalIds:a,sortFn:k}),n;if(m.type==="skip"){h==null?void 0:h.addQPLAnnotations({bool:{skip_eb_opt:!0}});return m.value}else h==null?void 0:h.addQPLAnnotations({bool:{skip_eb_opt:!1},string:{skip_eb_opt_reason:m.reason}}),n=m.unappliedSuccessfulResult;m=m.value;f=await Promise.all([d("MAWFetchDeanonMetadataUsingCache").MAWFetchDeanonMetadataUsingCache({chatJid:e,db:f,direction:g,isFirstPage:l,logger:h,pageSize:i,range:j,sortFn:k}),m?Promise.resolve(m):c("MAWFetchLocalMessagesAndMetadata")({chatJid:e,direction:g,pageSize:i,range:j,sortFn:k})]);m=f[0];f=f[1];if(m.success===!1){x.WARN(u(),e,m.error);c("FBLogger")("messenger_web").info("EBMessageRangeDataSource: Deanon messages metadata fetch failed, try to fetch messages from EB");return Promise.resolve(null)}l&&b("cr:19608")&&c("promiseDone")(b("cr:19608").setLastEndOfThreadRestore(e,d("WATimeUtils").unixTime()),void 0,function(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to read last first-page EB restore time")});if(f.success===!1){h==null?void 0:h.markQPLPoint("maw_fetch_for_deanon_optimisation_failed");x.WARN(t(),e,f.error);c("FBLogger")("messenger_web").warn("EBMessageRangeDataSource: MAW fetch fetch failed, try to fetch messages from EB");return Promise.resolve(null)}h==null?void 0:h.markQPLPoint("maw_fetch_for_deanon_optimisation_end");f=f.value;var o=f.localMsgsMetadata;f=f.mawFetchResult;if(y(f.msgs)){x.WARN(s(),e);return Promise.resolve(null)}x.LOG(r(),e,d("MLv2LoggingUtils").getLogStrForMsgsMetadata(m.value));l&&(x.LOG(q(),e),l=await B({deanonMsgsMetadata:m.value,direction:g,localMsgsMetadata:o,logger:h,mawFetchResult:f,pageSize:i,range:j,rangeExternalIds:a,sortFn:k}));f=A({mawFetchResult:f,sortedDeanonMsgsMetadata:m.value,sortedLocalMsgsMetadata:o});m=f.filteredDeanonMsgsMetadata;o=f.filteredLocalMsgsMetadata;f=f.filteredMawFetchResult;x.LOG(p(),e,d("MLv2LoggingUtils").getLogStrForMsgsMetadata(m));l=await B({deanonMsgsMetadata:m,direction:g,localMsgsMetadata:o,logger:h,mawFetchResult:f,pageSize:i,range:j,rangeExternalIds:a,sortFn:k});if(n)if(l.success){e=E(l.ranges,n);m=e.matchingExternalIds;g=e.matchingTimestamps;o=!(m&&g);h==null?void 0:h.addQPLAnnotations({bool:{heuristic_mismatch:o},string:o?{heuristic_mismatch_reason:"extIdRange: "+m.toString()+", tsRange: "+g.toString()}:{}})}else{h==null?void 0:h.addQPLAnnotations({bool:{heuristic_mismatch:!0},string:{heuristic_mismatch_reason:(f=l.reason)!=null?f:"unknown"}})}return l.success?l.ranges:null}function A(a){var b=a.mawFetchResult,c=a.sortedDeanonMsgsMetadata;a=a.sortedLocalMsgsMetadata;if(a.length===0)return{filteredDeanonMsgsMetadata:c,filteredLocalMsgsMetadata:a,filteredMawFetchResult:b};var d=a[0].externalId,e=a[0].sortOrderMs;a=a.slice(1);c=c.slice(c.findIndex(function(a){return a.externalId===d})+1);var f=b.msgs.filter(function(a){return!(a.externalId===d&&a.sortOrderMs===e)});return{filteredDeanonMsgsMetadata:c,filteredLocalMsgsMetadata:a,filteredMawFetchResult:babelHelpers.extends({},b,{msgs:f})}}async function B(a){var b=a.deanonMsgsMetadata,e=a.direction,f=a.localMsgsMetadata,g=a.logger,h=a.mawFetchResult,i=a.pageSize,j=a.range,k=a.rangeExternalIds;a=a.sortFn;g==null?void 0:g.markQPLPoint("maw_vs_eb_deanon_comparison_start");f=C(f,b,i,a);b=f.hasMoreMsgsInDeanon;i=f.isDataPresentLocally;a=f.rejectionReason;g==null?void 0:g.markQPLPoint("maw_vs_eb_deanon_comparison_end");g==null?void 0:g.addQPLAnnotations({bool:{is_data_restored_locally_when_extending_range:i}});c("FBLogger")("messenger_web").info("EBMessageRangeDataSource: Optimistic range extension using Deanon, isDataPresentLocally: %s",i.toString());return!i?Promise.resolve({reason:a,success:!1}):Promise.resolve({ranges:d("MAWMessagesRangesUtils").getNewMAWRange({direction:e,hasMoreMsgsInDeanon:b,mawFetchResult:h,range:j,rangeExternalIds:k}),success:!0})}function C(a,b,c,d){x.LOG(o(),b.length,a.length);if(b.length===0){x.WARN(n());return{hasMoreMsgsInDeanon:!1,isDataPresentLocally:!1,rejectionReason:"deanon_empty"}}var e=[].concat(b,a).reduce(function(a,b){a[b.externalId]=b;return a},{}),f=new Set([].concat(a.map(function(a){return a.externalId}),b.map(function(a){return a.externalId})));f=Array.from(f).map(function(a){return e[a]}).sort(d);d=f.slice(0,c);var g=new Set(f.slice(c).map(function(a){return a.externalId}));f=b.some(function(a){return g.has(a.externalId)});if(a.length<d.length){x.LOG(m(),f,d.length,a.length);return{hasMoreMsgsInDeanon:f,isDataPresentLocally:!1,rejectionReason:"local_too_small"}}c=d.every(function(b,c){return b.externalId===a[c].externalId});if(c){x.LOG(l(),f);return{hasMoreMsgsInDeanon:f,isDataPresentLocally:!0}}else{var h=new Set(a.map(function(a){return a.externalId}));if(d.every(function(a,b){return h.has(a.externalId)})){x.WARN(k());return{hasMoreMsgsInDeanon:f,isDataPresentLocally:!1,rejectionReason:"local_wrong_order"}}x.LOG(j(),a.map(function(a){return a.externalId}).join(", "),d.map(function(a){return a.externalId}).join(", "));return{hasMoreMsgsInDeanon:f,isDataPresentLocally:!1,rejectionReason:"local_wrong_ids"}}}async function D(a){var e,f,g,j,k,l=a.chatJid,m=a.direction,n=a.isFirstPage,o=a.logger,p=a.pageSize,q=a.range,r=a.rangeExternalIds;a=a.sortFn;e=(e=c("qex")._("4264"))!=null?e:!1;f=(f=c("qex")._("3886"))!=null?f:0;g=(g=c("qex")._("3540"))!=null?g:0;j=(j=c("qex")._("3991"))!=null?j:!1;k=(k=c("qex")._("4567"))!=null?k:!1;if(b("cr:17068")==null||!(n||e))return{reason:"disabled",type:"fetch"};e=await b("cr:17068").getDeviceAge();var s=e.device,t=e.oqMaybeOverflowedThisSession;e=e.oqPotentialOverflowTime;if(s==null)return{reason:"new_device",type:"fetch"};var u=s.deviceRegTime;s=s.lastActivityTime;if(t||e!=null&&e>u)return{reason:"giant_oq",type:"fetch"};t=d("WATimeUtils").unixTime();if(t-s>g)return{reason:"device_too_old",type:"fetch"};if(t-u<f)return{reason:"device_too_young",type:"fetch"};o==null?void 0:o.markQPLPoint("maw_fetch_for_deanon_skip_optimisation_start");e=await c("MAWFetchLocalMessagesAndMetadata")({chatJid:l,direction:m,pageSize:p,range:q,sortFn:a});if(e.success===!1){o==null?void 0:o.markQPLPoint("maw_fetch_for_deanon_skip_optimisation_failed");x.WARN(i(),l,e.error);c("FBLogger")("messenger_web").warn("EBMessageRangeDataSource: MAW fetch fetch failed, try to fetch messages from EB");return{reason:"maw_fetch_failed",type:"fetch"}}o==null?void 0:o.markQPLPoint("maw_fetch_for_deanon_skip_optimisation_end");var v=(h||(h=d("I64"))).of_float(u);s=e.value.localMsgsMetadata.filter(function(a){var b=a.isOptimistic;a=a.sortOrderMs;return b!==!0&&(h||(h=d("I64"))).ge((h||(h=d("I64"))).of_float(a/1e3),v)});g=!1;if(b("cr:19608")!=null&&n){a=(t=await b("cr:19608").getLastEndOfThreadRestore(l))!=null?t:0;a>u&&a-u>=f&&(g=!0)}o=n?p:p+1;if((s.length<o||!j)&&!g)return{reason:"heuristics_failed",type:"fetch",value:e};l=d("MAWMessagesRangesUtils").getNewMAWRange({direction:m,hasMoreMsgsInDeanon:!0,mawFetchResult:e.value.mawFetchResult,range:q,rangeExternalIds:r});return k?{reason:"success_but_skipping_application",type:"fetch",unappliedSuccessfulResult:l,value:e}:{type:"skip",value:l}}function E(a,b){a=a[0];b=b[0];var c=(h||(h=d("I64"))).equal(a.minTimestampMs,b.minTimestampMs)&&(h||(h=d("I64"))).equal(a.maxTimestampMs,b.maxTimestampMs);a=a.minMessageId===b.minMessageId&&a.maxMessageId===b.maxMessageId;return{matchingExternalIds:a,matchingTimestamps:c}}g.getRangeFromLocalDataIfConsistent=a;g.excludeOffsetMsg=A;g.isDeanonDataPresentLocally=C}),98);
__d("MAWFetchMessagesFromEBForMLv2",["EbFetchTimeoutMsForMLv2","FBLogger","I64","MAWEBFetch","MAWEBMsgsWithSameSortOrderFix","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWTraceUtils","MWEncryptedBackUpEBNotEnabledError","WAResultOrError","WATagsLogger","WATimeUtils","cr:19608","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["EBMessageRangeDataSource: Failed to fetch messages from EB. Message: "," TraceId: "," Request: ",""]);i=function(){return a};return a}var j="timeout";async function a(a){var e=a.chatJid,f=a.db,g=a.direction,l=a.logger,m=a.pageSize;a=a.range;l==null?void 0:l.markQPLPoint("wait_eb_fetch_start");var n=d("MAWMessagesDirection").getI64RangeTimestampForDirection(g,a),o=e+":"+(h||(h=d("I64"))).to_string(n)+":"+g+":"+m,p=await d("MAWMessagesPaginationUtils").getRangeExternalIdForDirection(g,a),q=d("MAWEBMsgsWithSameSortOrderFix").overFetchEBMsgsIfNeeded(m,p),r=d("MAWMessagesDirection").translateMwpDirectionToMawDirection(g),s=d("MAWMessagesDirection").isFirstPageRange(a,g),t=d("MAWTraceUtils").createTraceId();q=await Promise.race([c("MAWEBFetch")({chatJid:e,count:q,db:f,direction:r,timestampMs:n,traceId:t}),new Promise(function(a){return window.setTimeout(function(){return a(d("WAResultOrError").makeError(j))},c("EbFetchTimeoutMsForMLv2")())})]);if(q.success===!1){l==null?void 0:l.markQPLPoint("eb_fetch_response_fail");l==null?void 0:l.addQPLAnnotations({string:{eb_failure_reason:q.error,eb_restore_status:q.error}});q.error!==j&&q.error!==d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED&&d("WATagsLogger").TAGS(["maw_message_core","EBMessageRangeDataSource",t]).ERROR(i(),q.error,t,o);return q}s&&b("cr:19608")&&c("promiseDone")(b("cr:19608").setLastEndOfThreadRestore(e,d("WATimeUtils").unixTime()),void 0,function(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to read last first-page EB restore time")});l==null?void 0:l.addQPLAnnotations({string:{eb_restore_status:"success",eb_restore_type:(f=q.value)==null?void 0:f.restoreType}});n=d("MAWEBMsgsWithSameSortOrderFix").fixEBFetchResultPagination({direction:r,ebFetchResult:q.value,msgCount:m,referenceExternalId:p});t=k({direction:g,fetchResult:n,range:a});l==null?void 0:l.markQPLPoint("wait_eb_fetch_end");return d("WAResultOrError").makeResult({raw:n,recovered:t})}function k(a){var b=a.direction,e=a.fetchResult,f=a.range;a=b==="asc"?e.messages.filter(function(a){return a.sortOrderMs!=null&&(h||(h=d("I64"))).ge((h||(h=d("I64"))).of_float(a.sortOrderMs),f.maxTimestampMs)}):e.messages.filter(function(a){return a.sortOrderMs!=null&&(h||(h=d("I64"))).le((h||(h=d("I64"))).of_float(a.sortOrderMs),f.minTimestampMs)});var g=babelHelpers.extends({},e,{messages:a});a.length!==e.messages.length&&c("recoverableViolation")("EBMessageRangeDataSource: EB fetch API returned invalid messages outside requested timerange","messenger_web_product");a.length===0&&(b==="asc"&&e.hasMoreAfter&&(g.hasMoreAfter=!1,c("recoverableViolation")("EBMessageRangeDataSource: Unexpected null messages after","messenger_web_product")),b==="desc"&&e.hasMoreBefore&&(g.hasMoreBefore=!1,c("recoverableViolation")("EBMessageRangeDataSource: Unexpected null messages before","messenger_web_product")));return g}g.default=a}),98);
__d("MAWEBRestoreExtensionStep",["FBLogger","I64","MAWFetchMessagesForMLv2","MAWFetchMessagesFromEBForMLv2","MAWFindMsgsWithMinAndMaxTimestamp","MAWMessagesDirection","MAWMessagesRangesUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i=async function(a){var b=a.chatJid,e=a.count,f=a.db,g=a.direction,i=a.logger,j=a.oldRange,k=a.oldRangeExternalIds;a=a.prevResponse;a=c("nullthrows")(a);f=await c("MAWFetchMessagesFromEBForMLv2")({chatJid:b,db:f,direction:g,logger:i,pageSize:e,range:j});if(f.success===!1)return{extension:a,status:"complete"};i=await d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:b,direction:g,includeOriginalMsg:!1,pageSize:e,range:j});if(i.success===!1){c("FBLogger")("messenger_web").mustfix("Failed to fetch messages from MAW after successful EB restore");return{extension:a,status:"complete"}}b=i.value;var l=f.value.recovered;e=l.messages;a=e.map(function(a){return a.sortOrderMs}).filter(Boolean);i=[Math.min.apply(Math,a),Math.max.apply(Math,a)];f=i[0];a=i[1];i=d("MAWMessagesDirection").getI64RangeTimestampForDirection(g,j);f=g==="desc"?[(h||(h=d("I64"))).of_float(f),i]:[i,(h||(h=d("I64"))).of_float(a)];var m=f[0],n=f[1];i=b.msgs.filter(function(a){return(h||(h=d("I64"))).ge((h||(h=d("I64"))).of_float(a.sortOrderMs),m)&&(h||(h=d("I64"))).le((h||(h=d("I64"))).of_float(a.sortOrderMs),n)});a=babelHelpers.extends({},b,{hasMoreAfter:b.hasMoreAfter||l.hasMoreAfter,hasMoreBefore:b.hasMoreBefore||l.hasMoreBefore,msgs:i});f=i.length===0||l.isEndOfCurrentFormat;if(!f)return{extension:a,status:"complete"};var o,p;if(i.length===0){c("FBLogger")("messenger_web").mustfix("EBMessageRangeDataSource: No local messages found within EB response range for protobuf. Filtered EB payload size: %s, original EB payload size: %s, original EB hasMoreBefore: %s, original EB hasMoreAfter: %s",e.length,l.messages.length,l.hasMoreBefore,l.hasMoreAfter);b=d("MAWFindMsgsWithMinAndMaxTimestamp").findEBMsgsWithMinAndMaxTimestamp(e);o=b[0];p=b[1]}else{f=d("MAWFindMsgsWithMinAndMaxTimestamp").findMsgsWithMinAndMaxTimestamp(i);o=f[0];p=f[1]}e=babelHelpers.extends({},j,function(){switch(g){case"asc":var a,b;a=(a=(a=p)==null?void 0:a.msgId)!=null?a:j.maxMessageId;b=(h||(h=d("I64"))).max(j.maxTimestampMs,((b=p)==null?void 0:b.sortOrderMs)!=null?(h||(h=d("I64"))).of_float((b=p)==null?void 0:b.sortOrderMs):j.maxTimestampMs);if(l.hasMoreAfter===!0){var e=!1;(h||(h=d("I64"))).equal(j.maxTimestampMs,b)&&j.maxMessageId===a?(c("FBLogger")("messenger_web").mustfix("EBMessageRangeDataSource: stuck in the same max timestamp: %s",(h||(h=d("I64"))).to_string(b)),e=!0,b=h.add(b,h.of_int32(1))):l.isEndOfCurrentFormat===!0&&(e=!0);e&&(b=(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).max_int)?b:(h||(h=d("I64"))).add(b,(h||(h=d("I64"))).of_int32(1)))}return{hasMoreAfter:l.hasMoreAfter,isLoadingAfter:!1,maxMessageId:a,maxTimestampMs:b};case"desc":b=(a=(e=o)==null?void 0:e.msgId)!=null?a:j.minMessageId;e=(h||(h=d("I64"))).min(j.minTimestampMs,((e=o)==null?void 0:e.sortOrderMs)!=null?(h||(h=d("I64"))).of_float((a=o)==null?void 0:a.sortOrderMs):j.minTimestampMs);if(l.hasMoreBefore===!0){a=!1;(h||(h=d("I64"))).equal(j.minTimestampMs,e)&&j.minMessageId===b?(c("FBLogger")("messenger_web").mustfix("EBMessageRangeDataSource: stuck in the same min timestamp: %s",(h||(h=d("I64"))).to_string(e)),a=!0):l.isEndOfCurrentFormat===!0&&(a=!0);a&&(e=(h||(h=d("I64"))).equal(e,(h||(h=d("I64"))).min_int)?e:(h||(h=d("I64"))).sub(e,(h||(h=d("I64"))).of_int32(1)))}return{hasMoreBefore:l.hasMoreBefore,isLoadingBefore:!1,minMessageId:b,minTimestampMs:e}}}());b=d("MAWMessagesRangesUtils").getNewMsgsRangesExternalIds(g,o,p,k);return{extension:a,status:"complete_with_range_override",updatedRange:e,updatedRangeExternalIds:b}};function a(a){var b=a.onEBFailure,d=a.skipEb;return async function(a){if(d===!0)return{extension:c("nullthrows")(a.prevResponse),status:"complete"};a=await i(a);if(a.status==="eb_failed"){b();return{extension:a.extension,status:"complete"}}return a}}g.createEBRestoreExtensionStep=a}),98);
__d("MAWLocalAndDeanonExtensionStep",["EBDeanonRangeExtension","MAWFetchMessagesForMLv2","MAWMpsGating","MAWTimedBridge","WATagsLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWMessageRangeDataSource: Failed to fetch messages from worker due to ",". Error: ",""]);h=function(){return a};return a}a=function(a){return async function(b){var e=b.chatJid,f=b.count,g=b.db,i=b.direction;b.dispatch;var j=b.logger,k=b.oldRange;b=b.oldRangeExternalIds;g=await Promise.all([a&&!d("MAWMpsGating").isMpsM3Only()?d("EBDeanonRangeExtension").getRangeFromLocalDataIfConsistent({chatJid:e,db:g,direction:i,logger:j,pageSize:f,range:k,rangeExternalIds:b,shouldInsertToLSDB:!1}):null,d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:e,direction:i,includeOriginalMsg:!0,pageSize:f,range:k})]);b=g[0];e=g[1];if(e.success===!1){i=e.payload;f=i==null?"unknown":"["+i.name+"]: "+i.message;d("WATagsLogger").TAGS(["maw_message_core","MAWMessageRangeDataSource"]).ERROR(h(),e.error,f);if(e.payload instanceof d("MAWTimedBridge").MAWBridgeTimeoutError)return{status:"try_again"};throw(k=e.payload)!=null?k:c("err")("Failed to fetch messages from worker")}if(b!=null){a&&(j==null?void 0:j.addQPLAnnotations({string:{eb_restore_status:"skipped"}}));d("MAWMpsGating").isMpsM3Only()&&(j==null?void 0:j.addQPLAnnotations({string:{mps_status:"m3"}}));return{extension:e.value,status:"complete"}}return{extension:e.value,status:"continue"}}};b=a;g.default=b}),98);
__d("ReplayLastSubjectWithMapper",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({});a=function(){function a(a,b){var c=this;a===void 0&&(a=h);this.$1=!1;this.$5=new Set();this.$3=a;this.$6=b;this.$4=d("relay-runtime").Observable.create(function(a){if(c.$1){c.$2!=null?a.error(c.$2):a.complete();return}c.$5.add(a);c.$3!==h&&a.next(c.$6(c.$3));return function(){c.$5["delete"](a)}})}var b=a.prototype;b.next=function(a){if(this.$1)return;if(this.$3===a)return;this.$3=a;this.$5.forEach(function(b){return b.next(a)})};b.error=function(a){if(this.$1)return;this.$1=!0;this.$2=a;this.$5.forEach(function(b){return b.error(a)})};b.complete=function(){if(this.$1)return;this.$1=!0;this.$5.forEach(function(a){return a.complete()})};b.subscribe=function(a){return this.$4.subscribe(a)};return a}();g.ReplayLastSubjectWithMapper=a}),98);
__d("MAWMessageRangeDataExternalObservables",["ReplayLastSubjectWithMapper","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.getOrCreateExternalObservableForRange=function(a,b){var c=this.$1.find(function(b){var c=b[0];b[1];return a===c});if(c!=null)return c[1];c=new(d("ReplayLastSubjectWithMapper").ReplayLastSubjectWithMapper)({range:a.value,rangeExternalIds:b},function(a){var b=a.range;a=a.rangeExternalIds;return{range:b,rangeExternalIds:a}});this.$1.push([a,c]);return c};b.updateExternalObservableWithRange=function(a,b){var d=c("nullthrows")(this.$1.find(function(b){b[0];b=b[1];return b===a}));d[0]!==b&&(d[0]=b)};return a}();g.MAWMessageRangeDataExternalObservables=a}),98);
__d("MAWMpsM3RangeExtension",["MAWFetchMessagesForMLv2","MAWTimedBridge","WATagsLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWMpsM3RangeExtension: Failed to fetch messages from worker due to ",". Error: ",""]);h=function(){return a};return a}a=async function(a){var b=a.chatJid,e=a.count,f=a.direction,g=a.logger;a=a.oldRange;b=await d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:b,direction:f,includeOriginalMsg:!0,pageSize:e,range:a});if(b.success===!1){f=b.payload;e=f==null?"unknown":"["+f.name+"]: "+f.message;d("WATagsLogger").TAGS(["maw_message_core","MAWMessageRangeDataSource"]).ERROR(h(),b.error,e);if(b.payload instanceof d("MAWTimedBridge").MAWBridgeTimeoutError)return{status:"try_again"};throw(a=b.payload)!=null?a:c("err")("Failed to fetch messages from worker")}g==null?void 0:g.addQPLAnnotations({string:{mps_status:"m3"}});return{extension:b.value,status:"continue"}};g.mpsM3RangeExtension=a}),98);
__d("MAWWaitForACTThreadReadyForMLv2",["MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReady"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,c,e){var f=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,b,c);e==null?void 0:e.addQPLAnnotations({string:{mi_act_thread_state_type:f.type}});e=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a,b,c);return e}g.waitForACTThreadReadyForMLv2=a}),98);
__d("MLV2RangeExtensionLogger",["I64","MAWQPLLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){i==null&&(i=c("MAWQPLLogger")(c("qpl")._(1056843758,"1768")));return i}var k=new Map();function l(a,b){return(h||(h=d("I64"))).to_string(a)+b}function a(a,b,c,e){var f=l(a,b),g=k.get(f);g!=null&&g.markQPLCancel("restart_logger");var i=j().markQPLStart(),m=new Set();g={addQPLAnnotations:function(a){j().addQPLAnnotations(i,a)},annotateMessageRangesDataSource:function(a){m.add(a),j().addQPLAnnotations(i,{string_array:{message_ranges_source:Array.from(m.keys())}})},getInstanceKey:function(){return i},markQPLCancel:function(a){j().addQPLAnnotations(i,{string:{cancel_reason:a}}),j().markQPLCancel(i),k["delete"](f)},markQPLFailure:function(a){j().markQPLFailure(i,a),k["delete"](f)},markQPLFailureWithMsg:function(a){j().markQPLFailureWithMsg(i,a),k["delete"](f)},markQPLPoint:function(a){j().markQPLPoint(i,a)},markQPLSuccess:function(){j().markQPLSuccess(i),k["delete"](f)}};g.addQPLAnnotations({bool:{is_initial_range:(h||(h=d("I64"))).equal(c.minTimestampMs,(h||(h=d("I64"))).max_int)&&(h||(h=d("I64"))).equal(c.maxTimestampMs,(h||(h=d("I64"))).max_int)},"int":{page_size:e},string:{direction:b,start_range:JSON.stringify(babelHelpers["extends"]({},c,{maxTimestampMs:c.maxTimestampMs==null?null:(h||(h=d("I64"))).to_string(c.maxTimestampMs),minTimestampMs:c.minTimestampMs==null?null:(h||(h=d("I64"))).to_string(c.minTimestampMs)})),thread_id:(h||(h=d("I64"))).to_string(a)}});k.set(f,g);return g}function b(a,b){a=l(a,b);return k.get(a)}g.startRangeExtensionLoggerForThread=a;g.getRangeExtensionLoggerForThread=b}),98);
__d("MessageRangeSet",["I64","ReplayLastSubject","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.value=a;return c}var c=a.prototype;c.next=function(a){this.value=a,b.prototype.next.call(this,a)};return a}(d("ReplayLastSubject").ReplayLastSubject),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];e.forEach(function(a){c.subscribe({complete:function(){return a.complete()},error:function(b){return a.error(b)},next:function(b){return a.next(b)}})});c.next(a);return c}return a}(i);a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.$2=function(a){for(var b of this.$1){var c=b.value;if((h||(h=d("I64"))).le(c.minTimestampMs,a)&&((h||(h=d("I64"))).ge(c.maxTimestampMs,a)||!c.hasMoreAfter))return b}return null};b.getRangeForTimestamp=function(a){return this.$2(a)};b.upsertRange=function(a){var b=Array.from(this.$1.values()).filter(function(b){return l(b.value,a)});if(b.length===0){var c=new i(a);this.$1.add(c);return c}c=k.apply(void 0,b.map(function(a){return a.value}).concat([a]));if(b.length===1){var d=b[0];d.next(c);return d}for(d of b)this.$1["delete"](d);d=babelHelpers.construct(j,[c].concat(b));this.$1.add(d);return d};return a}();function k(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];if(b.length===0)throw c("err")("Cannot merge 0 ranges");var f=b[0].threadKey,g=b[0].minTimestampMs,i=b[0].hasMoreAfter,j=b[0].hasMoreBefore,k=b[0].maxMessageId,l=b[0].minMessageId,m=b[0].maxTimestampMs;for(var n=1;n<b.length;n++){var o=b[n];(h||(h=d("I64"))).le(o.minTimestampMs,g)&&((h||(h=d("I64"))).equal(o.minTimestampMs,g)?j=j&&o.hasMoreBefore:j=o.hasMoreBefore,g=o.minTimestampMs,l=o.minMessageId);(h||(h=d("I64"))).ge(o.maxTimestampMs,m)&&((h||(h=d("I64"))).equal(o.maxTimestampMs,m)?i=i&&o.hasMoreAfter:i=o.hasMoreAfter,m=o.maxTimestampMs,k=o.maxMessageId)}return{hasMoreAfter:i,hasMoreBefore:j,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:k,maxTimestampMs:m,minMessageId:l,minTimestampMs:g,threadKey:f}}function l(a,b){var c=(h||(h=d("I64"))).le(b.minTimestampMs,a.minTimestampMs),e=c?b:a;c=c?a:b;return m(e,c.minTimestampMs)?!0:!1}function m(a,b){return(h||(h=d("I64"))).ge(b,a.minTimestampMs)&&(h||(h=d("I64"))).le(b,a.maxTimestampMs)}g.MessageRangeSet=a;g.Subject=i}),98);
__d("MpsMessageToLoadResponse",["MpsMessageToBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],c=[],e=[],f=[],g=[],h=[];for(a of a){var i;i=(i=d("MpsMessageToBridge").mpsFullMessagetoBridge(a))!=null?i:{};var j=i.supplementals;i=i.topLevel;j==null?void 0:j.forEach(function(a){a.kind==="bridgeEditHistoryMsg"?b.push(a.value):a.kind==="bridgeReactionAction"?c.push(a.value):a.kind==="bridgeMsgsStartCountdown"?f.push.apply(f,a.value.msgs):a.kind==="bridgeMedia"?h.push(a.value):a.kind==="bridgeReceiverFetchInfo"&&g.push(a.value)});(i==null?void 0:i.kind)==="bridgeMsg"&&e.push(i.value)}return{editMsgHistory:b,expiringCountdown:f,medias:h,msgs:e,polls:[],reactions:c,receiverFetchInfoPayloads:g,xmas:[]}}g.messageToLoadMsgsResponse=a}),98);
__d("MpsLoadMessagesStep",["I64","MAWAckLevel","MAWLocalizationType","MAWMessagesDirection","MpsMessageToLoadResponse","MpsOverBridge","MpsToBridgeMessageId","MpsTypes","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){var e=a+"CUTOVER",f=d("MpsTypes").toMessageId(e),g=d("MpsTypes").toThreadId(e);a={ack:d("MAWAckLevel").ACK.received,adminContent:[],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE,adminVersion:1,chatJid:a,externalId:e,forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:d("MpsToBridgeMessageId").mpsToBridgeMsgId(g,f),sender:"",sortOrderMs:0,ts:d("WATimeUtils").castToUnixTime(0),type_:"Admin"};b.msgs=[a].concat(b.msgs);c.endCursor=[0,f]}async function a(a){var b=a.chatJid,e=a.count,f=a.direction,g=a.logger,j=a.oldRange;a=a.oldRangeExternalIds;g==null?void 0:g.addQPLAnnotations({bool:{use_mps:!0}});var k=[d("MpsTypes").toTimestamp((h||(h=d("I64"))).to_float(d("MAWMessagesDirection").getI64RangeTimestampForDirection(f,j))),d("MpsTypes").toMessageId(d("MAWMessagesDirection").getRangeMsgIdForDirection(f,j))];g==null?void 0:g.markQPLPoint("mps_load_messages_start");k=await d("MpsOverBridge").mps().loadMessages({debug:{purpose:"load-more"},direction:f,from:k,numMessages:e,threadId:d("MpsTypes").toThreadId(b)});if(k.success===!1){g==null?void 0:g.markQPLPoint("mps_load_messages_failure");throw c("err")("Failed to fetch messages from MPS")}else{e=d("MAWMessagesDirection").switchOnMWPMessagesDirection(f,{asc:k.value.cursorInfo.hasNext,desc:k.value.cursorInfo.hasPrevious});var l=d("MAWMessagesDirection").switchOnMWPMessagesDirection(f,{asc:k.value.cursorInfo.hasPrevious,desc:k.value.cursorInfo.hasNext}),m=babelHelpers.extends({},d("MpsMessageToLoadResponse").messageToLoadMsgsResponse(k.value.messages),{hasMoreAfter:e,hasMoreBefore:l});l===!1&&f==="desc"&&i(b,m,k.value.cursorInfo);b=j;var n=a;k=k.value.cursorInfo.endCursor;k!=null?(b=babelHelpers.extends({},j,d("MAWMessagesDirection").switchOnMWPMessagesDirection(f,{asc:{hasMoreAfter:e,isLoadingAfter:!1,maxMessageId:k[1],maxTimestampMs:(h||(h=d("I64"))).of_float(k[0])},desc:{hasMoreBefore:l,isLoadingBefore:!1,minMessageId:k[1],minTimestampMs:h.of_float(k[0])}})),n=d("MAWMessagesDirection").switchOnMWPMessagesDirection(f,{asc:{maxExternalId:k[1],minExternalId:a.minExternalId},desc:{maxExternalId:a.maxExternalId,minExternalId:k[1]}})):b=babelHelpers.extends({},j,d("MAWMessagesDirection").switchOnMWPMessagesDirection(f,{asc:{hasMoreAfter:e,isLoadingAfter:!1},desc:{hasMoreBefore:l,isLoadingBefore:!1}}));g==null?void 0:g.markQPLPoint("mps_load_messages_end");return{extension:m,status:"complete_with_range_override",updatedRange:b,updatedRangeExternalIds:n}}}g.addCutoverAdminMessage=i;g.MpsLoadMessagesStep=a}),98);
__d("switchMap",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("relay-runtime").Observable.create(function(c){var d,e=a.subscribe({complete:c.complete,error:c.error,next:function(a){var e;(e=d)==null?void 0:e.unsubscribe();d=b(a).subscribe(c)}});return function(){var a;(a=d)==null?void 0:a.unsubscribe();e.unsubscribe()}})}g["default"]=a}),98);
__d("MAWMessageRangeDataSourceV2",["FBLogger","I64","LSDatabaseSingleton","LSEncryptedBackupsBackupTenancy","LSIntEnum","MAWEBCombinedSwitch","MAWEBRestoreExtensionStep","MAWEncryptedBackupUtils","MAWLocalAndDeanonExtensionStep","MAWMessageIntegrityEBFetchStatus","MAWMessageIntegrityTruncateStatus","MAWMessageRangeDataExternalObservables","MAWMessagesPaginationUtils","MAWMessagesRangesUtils","MAWMpsGating","MAWMpsM3RangeExtension","MAWPutMessagesToDB","MAWSubscribeToLSTruncateMetadataThreads","MAWWaitForACTThreadReadyForMLv2","MLV2DataSourceLogger","MLV2RangeExtensionLogger","MessageRangeSet","MpsLoadMessagesStep","ReQL","ReQLObservable","err","gkx","nullthrows","qex","relay-runtime","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=5,l=function(){function a(a,b){var e=this;this.$2=new(d("MessageRangeSet").MessageRangeSet)();this.$3=k;this.$4=!0;this.$5=new(d("MAWMessageRangeDataExternalObservables").MAWMessageRangeDataExternalObservables)();this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){b==null?void 0:b.annotateMessageRangesDataSource("MAWMessageRangeDataSourceV2");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_start");c=e.$2.getRangeForTimestamp(a.timestampMs);if(c!=null){b==null?void 0:b.markQPLPoint("maw_preexisting_range");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_end");var f={maxExternalId:null,minExternalId:null};return e.$5.getOrCreateExternalObservableForRange(c,f)}c=(h||(h=d("I64"))).equal(a.timestampMs,h.max_int);f={hasMoreAfter:!c,hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(f=a.messageId)!=null?f:"",maxTimestampMs:a.timestampMs,minMessageId:(c=a.messageId)!=null?c:"",minTimestampMs:a.timestampMs,threadKey:e.$1};c=e.$2.upsertRange(f);d("MAWMessageIntegrityTruncateStatus").setThreadLastUpsertedRange(e.$1,f,{maxExternalId:a==null?void 0:a.externalId,minExternalId:a==null?void 0:a.externalId});b==null?void 0:b.markQPLPoint("maw_range_created");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_end");return e.$5.getOrCreateExternalObservableForRange(c,{maxExternalId:a==null?void 0:a.externalId,minExternalId:a==null?void 0:a.externalId})};this.$6=function(a){var b=d("MLV2DataSourceLogger").getMLV2LoggerForThread(e.$1,a),c=d("MLV2RangeExtensionLogger").getRangeExtensionLoggerForThread(e.$1,a);a={addQPLAnnotations:function(a){b==null?void 0:b.addQPLAnnotations(a),c==null?void 0:c.addQPLAnnotations(a)},annotateMessageRangesDataSource:function(a){b==null?void 0:b.annotateMessageRangesDataSource(a),c==null?void 0:c.annotateMessageRangesDataSource(a)},getInstanceKey:function(){var a;return(a=b==null?void 0:b.getInstanceKey())!=null?a:0},markQPLCancel:function(a){b==null?void 0:b.markQPLCancel(a),c==null?void 0:c.markQPLCancel(a)},markQPLFailure:function(a){b==null?void 0:b.markQPLFailure(a),c==null?void 0:c.markQPLFailure(a)},markQPLFailureWithMsg:function(a){b==null?void 0:b.markQPLFailureWithMsg(a),c==null?void 0:c.markQPLFailureWithMsg(a)},markQPLPoint:function(a,d){b==null?void 0:b.markQPLPoint(a,d),c==null?void 0:c.markQPLPoint(a,d)},markQPLSuccess:function(a){b==null?void 0:b.markQPLSuccess(a),c==null?void 0:c.markQPLSuccess()}};return a};this.extendRange=async function(a,b,c,f,g){var i=e.$6(c);i==null?void 0:i.annotateMessageRangesDataSource("MAWMessageRangeDataSourceV2");i==null?void 0:i.markQPLPoint("maw_v2_extend_range_start");var j=e.$2.getRangeForTimestamp(a.minTimestampMs);if(j==null){i==null?void 0:i.markQPLPoint("extend_range_invalid");return Promise.resolve()}var k=j.value;a=await d("MAWMessagesPaginationUtils").getMessagesRangesV2ExternalIdsIfChanged(a,k,b);if(c==="asc"&&(!k.hasMoreAfter||k.isLoadingAfter)){i==null?void 0:i.markQPLPoint("extend_range_skipped");return Promise.resolve()}if(c==="desc"&&(!k.hasMoreBefore||k.isLoadingBefore)){i==null?void 0:i.markQPLPoint("extend_range_skipped");return Promise.resolve()}b=e.$5.getOrCreateExternalObservableForRange(j,a);b.next({range:babelHelpers.extends({},k,{isLoadingAfter:k.isLoadingAfter||c==="asc",isLoadingBefore:k.isLoadingBefore||c==="desc"}),rangeExternalIds:a});var l={maxMessageId:j.value.maxMessageId,maxTimestampMs:j.value.maxTimestampMs,minMessageId:j.value.minMessageId,minTimestampMs:j.value.minTimestampMs};return e.$7(j.value,a,b,c,f,g).then(function(){var a=(h||(h=d("I64"))).equal(l.maxTimestampMs,j.value.maxTimestampMs)&&(h||(h=d("I64"))).equal(l.minTimestampMs,j.value.minTimestampMs)&&j.value.maxMessageId===l.maxMessageId&&j.value.minMessageId===l.minMessageId;i==null?void 0:i.addQPLAnnotations({bool:{extended_range_is_identical:a}})}).catch(function(a){i==null?void 0:i.markQPLPoint("extend_range_failed");i==null?void 0:i.addQPLAnnotations({string:{range_extension_error:a instanceof Error?a.message:"unknown_error"}});throw a})};this.$7=async function(a,b,c,f,g,h){var j=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,k=e.$6(f);k==null?void 0:k.markQPLPoint("maw_wait_act_thread_start");var l=await d("MAWWaitForACTThreadReadyForMLv2").waitForACTThreadReadyForMLv2(j.tables,e.$1,"MAWMessageRangeDataSourceV2",k);l=l.chatJid;k==null?void 0:k.markQPLPoint("maw_wait_act_thread_end");var m=e.$8(),n=null;for(m of m){var o=m.name,p=m.step;p=await e.$9(p,o,{chatJid:l,count:g,db:j,direction:f,dispatch:h,logger:k,oldRange:a,oldRangeExternalIds:b,prevResponse:n},c);if(p.shouldTerminate)return;n=p.extension}};this.$9=async function(a,b,f,g){var h=f.db,i=f.direction,j=f.dispatch,k=f.logger,l=f.oldRange,m=f.oldRangeExternalIds;k==null?void 0:k.markQPLPoint("maw_range_"+b+"_start");a=await a(f);k==null?void 0:k.markQPLPoint("maw_range_"+b+"_end");if(a.status==="try_again"){k==null?void 0:k.markQPLPoint("maw_range_"+b+"_retry");if(c("gkx")("7409")&&e.$3>0){k==null?void 0:k.markQPLPoint("maw_range_"+b+"_timed_out");e.$3-=1;g.next({range:babelHelpers.extends({},l,{isLoadingAfter:!1,isLoadingBefore:!1}),rangeExternalIds:m});return{shouldTerminate:!0}}throw c("err")("Timed out for step: "+b)}if(a.status==="complete"){k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_start");await d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(h,a.extension,j,k==null?void 0:k.getInstanceKey());k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_end");k==null?void 0:k.markQPLPoint("maw_upsert_range_start");e.$10(l,m,g,i,a.extension);k==null?void 0:k.markQPLPoint("maw_upsert_range_end");return{shouldTerminate:!0}}if(a.status==="complete_with_range_override"){k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_start");await d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(h,a.extension,j,k==null?void 0:k.getInstanceKey());k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_end");k==null?void 0:k.markQPLPoint("maw_upsert_range_start");e.$11(g,a.updatedRange,a.updatedRangeExternalIds);k==null?void 0:k.markQPLPoint("maw_upsert_range_end");return{shouldTerminate:!0}}return{extension:a.extension,shouldTerminate:!1}};this.$10=function(a,b,c,f,g){a=d("MAWMessagesRangesUtils").mergeMoreMessagesResponseIntoRange(a,b,g,f);b=a[0];g=a[1];e.$11(c,b,g)};this.$1=a;this.isEBEnabled=b}var b=a.prototype;b.$8=function(){var a,b=this,e={name:"fallback",step:function(a){a=a.prevResponse;return Promise.resolve({extension:c("nullthrows")(a),status:"complete"})}};if(d("MAWMpsGating").isFullMpsEnabled())return[{name:"mps_load_messages",step:d("MpsLoadMessagesStep").MpsLoadMessagesStep},e];if(d("MAWMpsGating").isMpsM3Only())return[{name:"mps_m3_fetch_data",step:d("MAWMpsM3RangeExtension").mpsM3RangeExtension},e];a=(a=c("qex")._("4515"))!=null?a:!1;return[{name:"deanon_and_local_fetch",step:c("MAWLocalAndDeanonExtensionStep")(this.$4&&this.isEBEnabled&&!a)},{name:"eb_restore",step:d("MAWEBRestoreExtensionStep").createEBRestoreExtensionStep({onEBFailure:function(){b.$4=!1,d("MAWMessageIntegrityEBFetchStatus").recordEBFailure(b.$1)},skipEb:a})},e]};b.$11=function(a,b,c){var e=this.$2.upsertRange(b);d("MAWMessageIntegrityTruncateStatus").setThreadLastUpsertedRange(this.$1,b,c);a.next({range:e.value,rangeExternalIds:c})};return a}();function m(a){return d("MAWMpsGating").isMpsM3OrLater()===!0?d("relay-runtime").Observable.create(function(a){var b=d("MAWEBCombinedSwitch").MAWEBCombinedSwitch.onSet(function(b){a.next(b)});a.next(d("MAWEBCombinedSwitch").MAWEBCombinedSwitch.isEnabled());return function(){b()}}):d("ReQLObservable").create(a,function(){return d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state).take(1).map(function(a){var b=d("MAWEncryptedBackupUtils").getBackupTenancyFromClientStateRow(a);b!=null&&a.backupTenancy==null&&c("FBLogger")("messenger_web").warn("Previously broken state of invalid backup tenancy is caught");return b!=null&&(h||(h=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))})}).map(function(a){return Boolean(a==null?void 0:(a=a[0])==null?void 0:a[1])})}var n=function(){function a(a){var b=this;this.$1=new Map();this.$3=null;this.getOrCreateMessageRangeCoveringCursor=function(a,d,e){var f=a.threadKey;return c("switchMap")(b.$2,function(c){return b.$4(f,c).getOrCreateMessageRangeCoveringCursor(a,d,e)})};this.extendRange=function(a,e,f,g,i){var j=a.threadKey,k=d("MLV2RangeExtensionLogger").startRangeExtensionLoggerForThread(j,f,a,g);if(!b.$1.has((h||(h=d("I64"))).to_string(j))){k.markQPLFailure(c("err")("thread range not found in cache"));return Promise.resolve()}return c("nullthrows")(b.$1.get((h||(h=d("I64"))).to_string(j))).extendRange(a,e,f,g,i).then(function(){k.markQPLSuccess()}).catch(function(a){k.markQPLFailure(a);throw a})};this.$2=m(a);this.$3=d("MAWSubscribeToLSTruncateMetadataThreads").subscribeToLSTruncateMetadataThreads(a,function(a,c){a=(h||(h=d("I64"))).to_string(c);b.$1.delete(a)&&d("MAWMessageIntegrityTruncateStatus").setThreadThuncated(c)})}var b=a.prototype;b.$4=function(a,b){var e=(h||(h=d("I64"))).to_string(a);if(!this.$1.has(e)){var f=new l(a,b);this.$1.set(e,f)}f=c("nullthrows")(this.$1.get(e));f.isEBEnabled!==b&&(f=new l(a,b),this.$1.set(e,f));return f};return a}(),o,p;function a(a){(o==null||p!==a)&&(p=a,o=new n(a));return o}g.default=a}),98);
__d("MWPFetchMessagesThreadLocks",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).to_string(b);return{lock:{after:function(){var b=f();b.after===!0&&c("FBLogger")("messenger_web").mustfix("Locking threadLockStatus twice");b.after=!0;a.set(e,b)},before:function(){var b=f();b.before===!0&&c("FBLogger")("messenger_web").mustfix("Locking threadLockStatus twice");b.before=!0;a.set(e,b)}},release:{after:function(){var b=f();b.after=!1;a.set(e,b)},before:function(){var b=f();b.before=!1;a.set(e,b)}},state:f()};function f(){var b=a.get(e);b==null&&(b={after:!1,before:!1},a.set(e,b));return b}}g.localThreadStatus=a}),98);
__d("MWPFetchMessagesPageV2",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","MWPFetchMessagesThreadLocks","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e,f,g,h,i,j,m){var n,o;n=await (n=a.tables.messages_ranges_v2__generated).get.apply(n,f);if(n==null)return;o=h&&await (o=a.tables.messages_ranges_v2__generated).get.apply(o,h);if(o==null&&h!=null)return;h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g);var p=i!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(i):!1;if(e==="before")if(n.hasMoreBefore)if(h)return k(a,b,e,n,j,g,m);else return l(a,f,n.threadKey,e);else if(o!=null)if(p)return k(a,b,e,o,j,g,m);else return l(a,[o.threadKey,o.minTimestampMs,o.minMessageId],o.threadKey,e);else return;else{e;if(n.hasMoreAfter)if(h)throw c("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");else return l(a,f,n.threadKey,e);else if(o!=null){p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(c("nullthrows")(i));if(p)throw c("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");else return l(a,[o.threadKey,o.minTimestampMs,o.minMessageId],o.threadKey,e)}else return}}var i=new Map(),j=new Map();async function k(a,b,c,e,f,g,h){var j=d("MWPFetchMessagesThreadLocks").localThreadStatus(i,e.threadKey);if(j.state[c])return;try{j.lock[c]();var k=await a.tables.messages.index("messageId").get(e.minMessageId);return await f.fetchSecureMessagesProtocol(a,e.threadKey,g,k==null?void 0:k.primarySortKey,e,c,b,"user",h)}finally{j.release[c]()}}async function l(a,b,e,g){e=d("MWPFetchMessagesThreadLocks").localThreadStatus(j,e);if(e.state[g])return;try{e.lock[g]();return await a.runInTransaction(async function(a){var e;e=await (e=a.messages_ranges_v2__generated).get.apply(e,b);if(!e)return;if(e.isLoadingBefore&&g==="before")return;if(e.isLoadingAfter&&g==="after")return;return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(g==="before"?c("LSMailboxMessagesRangeQueryDirection").BEFORE:c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:e.minTimestampMs,threadKey:e.threadKey})},"readwrite","ui",void 0,f.id+":209")}finally{e.release[g]()}}g.default=a}),98);
__d("MAWPreloadSecureMessages",["I64","LSAuthorityLevel","LSIntEnum","LSResult","MAWMessagesDirection","MWPFetchMessagesPageV2","MWV2OnAuthoritativeThreadInsert","ReQL","cr:13911","cr:13912"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("cr:13911")!=null?new(b("cr:13911"))():null,k=async function(a,e,f,g,k,l,m){var n=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(e));n=n!=null?[e,n==null?void 0:n.minTimestampMs,n==null?void 0:n.minMessageId]:null;g=g!=null?await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(g)):null;g=g!=null?[g==null?void 0:g.threadKey,g==null?void 0:g.minTimestampMs,g==null?void 0:g.minMessageId]:null;var o=(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(15))?(i||(i=d("LSIntEnum"))).ofNumber(1):(i||(i=d("LSIntEnum"))).ofNumber(2);if(b("cr:13912")!=null){var p;if(!(h||(h=d("I64"))).equal(m,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return Promise.resolve();var q=b("cr:13912")(a),r;m=await new Promise(function(a,b){r=q.getOrCreateMessageRangeCoveringCursor({externalId:null,messageId:null,threadKey:e,timestampMs:(h||(h=d("I64"))).max_int},void 0,k).subscribe({complete:a,error:b,next:function(b){a(b)}})});(p=r)==null?void 0:p.unsubscribe();if(m&&d("MAWMessagesDirection").isFirstPageRange(m.range,"desc"))return q.extendRange(m.range,{maxExternalId:null,minExternalId:null},"desc",l,k)}else if(j!=null)return n!=null?c("MWPFetchMessagesPageV2")(a,l,"before",n,f,g,o,j,k):Promise.resolve()},l=async function(a,b){b=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.threads).getKeyRange(b));if(b==null)return null;if((h||(h=d("I64"))).equal(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return b;var e=b.clientThreadKey;return e!=null?new Promise(function(b){d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(e),a,function(a){return b(a)})}):null};a=async function(a,b,c,d){b=await l(a,b);return b==null?Promise.resolve():k(a,b.threadKey,b.threadType,null,c,d,b.authorityLevel)};g.preloadSecureMessages=k;g.preloadSecureMessagesByThreadKey=a}),98);
__d("MAWPreloadSecureMessagesEager",["MAWPreloadSecureMessages","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=b("Promise"))).resolve(d("MAWPreloadSecureMessages").preloadSecureMessages)}g.load=a}),98);
__d("MAWPreloadSecureMessagesRangeDataSource",["MAWMessageRangeDataSourceV2"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MAWMessageRangeDataSourceV2")}),98);
__d("MWPContactContext.react",["react","react-compiler-runtime","shallowEqualI64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext;e.useMemo;var k=e.useRef,l=i.createContext({authorName:void 0,contact:void 0,nickname:void 0}),m=i.createContext({authorName:void 0,contact:void 0,nickname:void 0});function a(){return j(l)}function b(){return j(m)}function c(a){var b=d("react-compiler-runtime").c(14),c=a.children,e=a.contact;a=a.nickname;var f;if(a!=null)f=a;else if(e!=null){var g=e.firstName;f=g!=null?g:e.name}else f=void 0;g=f;f=g;b[0]!==f||b[1]!==e||b[2]!==a?(g={authorName:f,contact:e,nickname:a},b[0]=f,b[1]=e,b[2]=a,b[3]=g):g=b[3];g=g;g=g;e=n(e);var h;b[4]!==f||b[5]!==a||b[6]!==e?(h={authorName:f,contact:e,nickname:a},b[4]=f,b[5]=a,b[6]=e,b[7]=h):h=b[7];f=h;a=f;b[8]!==c||b[9]!==a?(e=i.jsx(m.Provider,{value:a,children:c}),b[8]=c,b[9]=a,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(h=i.jsx(l.Provider,{value:g,children:e}),b[11]=g,b[12]=e,b[13]=h):h=b[13];return h}function n(a){var b=k();a=a?{blockedByViewerStatus:a.blockedByViewerStatus,capabilities:a.capabilities,capabilities2:a.capabilities2,contactTypeExact:a.contactTypeExact,name:a.name,profilePictureFallbackUrl:a.profilePictureFallbackUrl,profilePictureUrl:a.profilePictureUrl,profilePictureUrlExpirationTimestampMs:a.profilePictureUrlExpirationTimestampMs,secondaryName:a.secondaryName}:void 0;d("shallowEqualI64").shallowEqualI64(b.current,a)||(b.current=a);return b.current}g.useMWPContactFullContext=a;g.useMWPContactStableContext=b;g.MWPContactContextProvider=c}),98);
__d("MWGroupBlockingProtectionUtils",["fbt","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWPContactContext.react","ReQL","ReQLSuspense","react-compiler-runtime","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=d("react-compiler-runtime").c(8),e=(k||(k=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a).map(m)},b[0]=e.tables.threads,b[1]=a,b[2]=g):g=b[2];var h;b[3]!==e||b[4]!==a?(h=[e,a],b[3]=e,b[4]=a,b[5]=h):h=b[5];g=d("ReQLSuspense").useFirst(g,h,f.id+":30");if(g==null)return!1;b[6]!==g?(h=(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(18)),b[6]=g,b[7]=h):h=b[7];return h}function m(a){return a.threadType}function a(a){a=l(a);var b=d("MWPContactContext.react").useMWPContactStableContext();b=b.contact;return a&&b?!(i||(i=d("I64"))).equal(b.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function b(a,b){var e=d("react-compiler-runtime").c(4),g=(k||(k=c("useReStore")))(),h,m;e[0]!==g||e[1]!==a?(h=function(){return a!=null?d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a):d("ReQL").empty()},m=[g,a],e[0]=g,e[1]=a,e[2]=h,e[3]=m):(h=e[2],m=e[3]);e=d("ReQLSuspense").useFirst(h,m,f.id+":69");h=l(b);return h&&e?!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function e(a,b){var e,g=d("react-compiler-runtime").c(8),l=(k||(k=c("useReStore")))(),m=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(l.tables.messages).getKeyRange(a)},[l,a],f.id+":92"))==null?void 0:e.senderId;g[0]!==l.tables.contacts||g[1]!==m?(e=function(){return m!=null?d("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(m):d("ReQL").empty()},g[0]=l.tables.contacts,g[1]=m,g[2]=e):e=g[2];var n;g[3]!==l||g[4]!==m?(n=[l,m],g[3]=l,g[4]=m,g[5]=n):n=g[5];e=d("ReQLSuspense").useFirst(e,n,f.id+":96");n=e==null?!1:!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(18));if(!(b&&n))return null;n=(b=e==null?void 0:e.firstName)!=null?b:e==null?void 0:e.name;if(n==null){c("recoverableViolation")("Empty first name for blocked contact","messenger_web_wellbeing");return null}g[6]!==n?(b=h._(/*BTDS*/"{blocked contact's name} sent a message.",[h._param("blocked contact's name",n)]).toString(),g[6]=n,g[7]=b):b=g[7];return b}g.useShouldEnableBlockingProtection=l;g.useMWGetSnippetForBlockingProtection=e;g.useMWIsContactBlocked=a;g.useMWIsMessageSentByBlockedContact=b}),226);
__d("getMWLSThreadEventTimeSnippetForDisplay",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){switch(a){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return""}}function k(a){a=a.split(":");var b=a.slice(0,2).join(":");a=a[2].slice(2,5);return b+a}function a(a,b){var c=Date.now();a=a!=null?(i||(i=d("I64"))).to_float(a):0;b=b!=null?(i||(i=d("I64"))).to_float(b):a*2;var e=new Date(a),f=a-6048e5,g=a-864e5,l=c<=f;g=c<=a&&c>=g;f=c<=a&&c>=f&&!g;a=c>=a&&c<=b;c=e.toDateString();b=k(e.toLocaleTimeString());c=c.split(" ");e=e.getDay();var m=new Date();m=m.getDate();if(l)return h._(/*BTDS*/"Event {day} {month} at {time}",[h._param("month",c[2]),h._param("day",c[1]),h._param("time",b)]).toString();if(f)return h._(/*BTDS*/"Event {day of week} at {time}",[h._param("day of week",j(e)),h._param("time",b)]).toString();if(g)return m!==e?h._(/*BTDS*/"Event tomorrow at {time}",[h._param("time",b)]).toString():h._(/*BTDS*/"Event today at {time}",[h._param("time",b)]).toString();return a?h._(/*BTDS*/"Event happening now").toString():h._(/*BTDS*/"Event has passed").toString()}g["default"]=a}),226);
__d("MWThreadSnippetForDisplay.react",["CometTextWithEntities.react","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatTextTransform","MWGroupBlockingProtectionUtils","ReStoreVaulting","ThreadStatus","cr:4217","getMWLSThreadEventTimeSnippetForDisplay","react","react-compiler-runtime","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){return null}var k=(b=b("cr:4217"))!=null?b:a;function e(a){var b=d("react-compiler-runtime").c(8),e=a.snippetRaw;a=a.thread;var f=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType),g=k(a),h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType);if(b[0]!==g||b[1]!==e){var l;l=e==null?null:(l=g)!=null?l:((l=d("ReStoreVaulting").maybeUnvault(e))!=null?l:e).replace(/\uDB80\uDC00/,"(Y)");b[0]=g;b[1]=e;b[2]=l}else l=b[2];g=l;e=d("MWGroupBlockingProtectionUtils").useMWGetSnippetForBlockingProtection(a.threadKey,a.threadType);h=(l=d("useStringWithSubstitutions").useStringWithSubstitutions(h?g:null,a.threadKey))!=null?l:g;if(h==null)return null;l=a.threadStatus!=null&&(i||(i=d("I64"))).equal(a.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").PAUSED));if(!f&&!l&&a.eventStartTimestampMs!=null){b[3]!==a.eventEndTimestampMs||b[4]!==a.eventStartTimestampMs?(g=c("getMWLSThreadEventTimeSnippetForDisplay")(a.eventStartTimestampMs,a.eventEndTimestampMs),b[3]=a.eventEndTimestampMs,b[4]=a.eventStartTimestampMs,b[5]=g):g=b[5];return g}if(e!=null)return e;b[6]!==h?(f=j.jsx(c("CometTextWithEntities.react"),{text:h,transforms:d("MWChatTextTransform").textTransforms}),b[6]=h,b[7]=f):f=b[7];return f}var l=j.memo(e);function f(a){var b=d("react-compiler-runtime").c(4),c=a.snippetRaw;a=a.thread;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=["threadKey","threadType","threadStatus","eventStartTimestampMs","eventEndTimestampMs"],b[0]=e):e=b[0];a=d("Int64Hooks").usePickInt64(a,e);b[1]!==c||b[2]!==a?(e=j.jsx(l,{snippetRaw:c,thread:a}),b[1]=c,b[2]=a,b[3]=e):e=b[3];return e}g["default"]=f}),98);
__d("useGetSnippetFromLS",["I64","LSAuthorityLevel","LSIntEnum","MAWStrings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(9),e=(j||(j=c("useReStore")))(),g;b[0]!==e.tables.messages||b[1]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrderAuthority")).bounds({gte:[a.threadKey,(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),(i||(i=d("I64"))).zero],lt:[a.threadKey,h.ofNumber(c("LSAuthorityLevel").OPTIMISTIC),i.max_int]})},b[0]=e.tables.messages,b[1]=a.threadKey,b[2]=g):g=b[2];var k;b[3]!==e||b[4]!==a.threadKey?(k=[e,a.threadKey],b[3]=e,b[4]=a.threadKey,b[5]=k):k=b[5];g=d("ReQLSuspense").useFirst(g,k,f.id+":30");b[6]!==g||b[7]!==a.snippet?(k=g!=null?{shouldHideTimestamp:!0,snippet:d("MAWStrings").MAW_OPTIMISTIC_SNIPPET().toString()}:{shouldHideTimestamp:!1,snippet:a.snippet},b[6]=g,b[7]=a.snippet,b[8]=k):k=b[8];return k}g["default"]=a}),98);
__d("usePrefetchCutoverDependencies",["Int64Hooks","MWEnsureCutoverOpenThreadExists","MWV2EnsureThatChatTabExists","Promise","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e=d("react-compiler-runtime").c(6),f=c.clientThreadKey,g=c.threadKey,j=c.threadType,k;e[0]!==f||e[1]!==a||e[2]!==g||e[3]!==j?(c=function(){return a.then(function(a){return(h||(h=b("Promise"))).all([d("MWEnsureCutoverOpenThreadExists").ensureCutoverOpenThreadExists(a,g),d("MWV2EnsureThatChatTabExists").ensureThatChatTabExists(a,g,j,f,"usePrefetchCutoverDependencies")]).then(i)})},k=[a,g,j,f],e[0]=f,e[1]=a,e[2]=g,e[3]=j,e[4]=c,e[5]=k):(c=e[4],k=e[5]);return d("Int64Hooks").useCallbackInt64(c,k)}function i(){}g["default"]=a}),98);
__d("useMWPreloadThread",["Int64Hooks","InteractionTracingMetrics","JSResourceForInteraction","JSScheduler","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","MAWStateContext.react","MWLSThreadDisplayContext","Promise","ReQL","cr:13910","gkx","justknobx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useCometPreloader","usePrefetchCutoverDependencies"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useContext,m=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWPreloadThread");function a(a,e){var f=d("react-compiler-runtime").c(19),g=l(d("MAWStateContext.react").MAWDispatchContext),j=c("useAsyncReStore")(),k=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),p=c("usePrefetchCutoverDependencies")(j,a),s;f[0]!==k?(s=k!=="Inbox"&&c("justknobx")._("761"),f[0]=k,f[1]=s):s=f[1];var t=s,u=a.threadKey;f[2]!==j||f[3]!==g||f[4]!==e||f[5]!==t||f[6]!==a.authorityLevel||f[7]!==a.clientThreadKey||f[8]!==a.threadType||f[9]!==u?(k=function(){t&&m.preload();if(e){c("InteractionTracingMetrics").currentInteractionLogger().forEach(q);var d=c("justknobx")._("2575"),f=c("gkx")("14315")?8:c("justknobx")._("2038"),i=t?f:d;c("promiseDone")((h||(h=b("Promise"))).all([j,b("cr:13910").load()]).then(function(b){var c=b[0];b=b[1];return b(c,u,a.threadType,a.clientThreadKey,g,i,a.authorityLevel)}).then(o))}},s=[j,e,t,a.clientThreadKey,g,a.threadType,u,a.authorityLevel],f[2]=j,f[3]=g,f[4]=e,f[5]=t,f[6]=a.authorityLevel,f[7]=a.clientThreadKey,f[8]=a.threadType,f[9]=u,f[10]=k,f[11]=s):(k=f[10],s=f[11]);k=d("Int64Hooks").useCallbackInt64(k,s);var v;f[12]!==j||f[13]!==e||f[14]!==p||f[15]!==t||f[16]!==u?(s=function(){var a;a=!1;return function(){if(a===!0)return;a=!0;t&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(n);e?c("promiseDone")(p()):c("promiseDone")(j.then(function(a){return r(a,u)}))}},v=[t,e,p,j,u],f[12]=j,f[13]=e,f[14]=p,f[15]=t,f[16]=u,f[17]=s,f[18]=v):(s=f[17],v=f[18]);f=d("Int64Hooks").useMemoInt64(s,v);return c("useCometPreloader")("button",f,k)}function n(){m.preload()}function o(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(p)}function p(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")}function q(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")}function r(a,b){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(b)).then(function(e){if(e!=null&&e.minMessageId===e.maxMessageId)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:e.minTimestampMs,threadKey:b})})},"readwrite",void 0,void 0,f.id+":160")}g["default"]=a}),98);
__d("useNewestMessageOrReactionTs",["I64","Int64Hooks","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(18),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.messages||b[1]!==a?(g=function(){return d("ReQL").fromTableDescending(e.tables.messages).getKeyRange(a)},b[0]=e.tables.messages,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];var k=d("ReQLSuspense").useFirst(g,j,f.id+":23");b[6]!==e.tables.reactions||b[7]!==a?(g=function(){return d("ReQL").fromTableDescending(e.tables.reactions).getKeyRange(a)},b[6]=e.tables.reactions,b[7]=a,b[8]=g):g=b[8];b[9]!==e||b[10]!==a?(j=[e,a],b[9]=e,b[10]=a,b[11]=j):j=b[11];var l=d("ReQLSuspense").useFirst(g,j,f.id+":29");b[12]!==(k==null?void 0:k.timestampMs)||b[13]!==(l==null?void 0:l.timestampMs)?(g=function(){var a;return(h||(h=d("I64"))).max((a=k==null?void 0:k.timestampMs)!=null?a:(h||(h=d("I64"))).zero,(a=l==null?void 0:l.timestampMs)!=null?a:(h||(h=d("I64"))).zero)},b[12]=k==null?void 0:k.timestampMs,b[13]=l==null?void 0:l.timestampMs,b[14]=g):g=b[14];j=k==null?void 0:k.timestampMs;var m=l==null?void 0:l.timestampMs,n;b[15]!==j||b[16]!==m?(n=[j,m],b[15]=j,b[16]=m,b[17]=n):n=b[17];return d("Int64Hooks").useMemoInt64(g,n)}g["default"]=a}),98);
__d("useMWThreadSnippetForDisplay",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWAdminMsg","MAWAdminMsgCTA","MAWLocalizationType","MAWODSProxy","MAWThreadCutover","WAOdsEnums","gkx","react","react-compiler-runtime","useGetSnippetFromLS","useNewestMessageOrReactionTs"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(15),e=k(a),f=e.isOpenThreadSnippet,g=e.lastMessageCtaType,h=e.shouldHideTimestamp,i=e.snippet;b[0]!==a.threadType?(e=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[0]=a.threadType,b[1]=e):e=b[1];var m=e;b[2]!==f||b[3]!==m||b[4]!==i?(e=function(){i===""&&m?(c("FBLogger")("messenger_web").mustfix("[MS5] Snippet is %s","empty"),d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"snippet_is_empty"})):i==null&&m?(c("FBLogger")("messenger_web").mustfix("[MS5] Snippet is %s","null"),d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"snippet_is_null"})):m&&(i===l||i===n)?q(i===n):f!=null&&f&&(d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"open_thread_snippet"}),c("FBLogger")("messenger_web").info("[MS5] Open thread snippet used for secure thread"),(i==null||i==="")&&c("FBLogger")("messenger_web").mustfix("[MS5] Open thread snippet cannot be empty or null"))},b[2]=f,b[3]=m,b[4]=i,b[5]=e):e=b[5];var o;b[6]!==f||b[7]!==m||b[8]!==i||b[9]!==a.threadKey?(o=[i,m,a.threadKey,f],b[6]=f,b[7]=m,b[8]=i,b[9]=a.threadKey,b[10]=o):o=b[10];j(e,o);b[11]!==g||b[12]!==h||b[13]!==i?(a={lastMessageCtaType:g,shouldHideTimestamp:h,snippet:i},b[11]=g,b[12]=h,b[13]=i,b[14]=a):a=b[14];return a}function k(a){var b=d("react-compiler-runtime").c(22),e=c("useGetSnippetFromLS")(a),f;b[0]!==a.threadType?(f=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[0]=a.threadType,b[1]=f):f=b[1];var g=f,h=d("MAWThreadCutover").useCutoverOpenThread(a.threadKey);f=h==null?void 0:h.threadKey;var k=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(f);f=(f=c("useNewestMessageOrReactionTs")(a.threadKey))!=null?f:(i||(i=d("I64"))).zero;f=f;if(c("gkx")("10552")){var l=g&&(a.snippet===""||a.snippet==null);f=l?(i||(i=d("I64"))).zero:a.lastActivityTimestampMs}b[2]!==k||b[3]!==g||b[4]!==h||b[5]!==a.lastActivityTimestampMs?(l=function(){g&&!k&&h!=null&&(i||(i=d("I64"))).gt(h.lastActivityTimestampMs,a.lastActivityTimestampMs)&&d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"thread_not_bumped_on_open_activity"})},b[2]=k,b[3]=g,b[4]=h,b[5]=a.lastActivityTimestampMs,b[6]=l):l=b[6];var m;b[7]!==k||b[8]!==g||b[9]!==h||b[10]!==a.lastActivityTimestampMs||b[11]!==a.threadKey?(m=[g,k,h,a.lastActivityTimestampMs,a.threadKey],b[7]=k,b[8]=g,b[9]=h,b[10]=a.lastActivityTimestampMs,b[11]=a.threadKey,b[12]=m):m=b[12];j(l,m);l=!1;if(g&&!k&&h!=null&&(i||(i=d("I64"))).gt(h.lastActivityTimestampMs,f)){m=h.snippet;f=h.lastMessageCtaType;var n;b[13]!==f||b[14]!==m?(n={isOpenThreadSnippet:!0,lastMessageCtaType:f,shouldHideTimestamp:!1,snippet:m},b[13]=f,b[14]=m,b[15]=n):n=b[15];return n}g&&(l=e.shouldHideTimestamp);m=g?e.snippet:a.snippet;f=a.lastMessageCtaType;if(g&&(m===""||m==null)){b[16]!==k?(n=p(k),b[16]=k,b[17]=n):n=b[17];return n}b[18]!==f||b[19]!==l||b[20]!==m?(e={lastMessageCtaType:f,shouldHideTimestamp:l,snippet:m},b[18]=f,b[19]=l,b[20]=m,b[21]=e):e=b[21];return e}var l=d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION),m=d("MAWAdminMsgCTA").getCtaTypeByAdminType(d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION),n=d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE),o=d("MAWAdminMsgCTA").getCtaTypeByAdminType(d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE);function p(a){var b;a?(a=n,b=o):(a=l,b=m);return{lastMessageCtaType:b,shouldHideTimestamp:!1,snippet:a}}function q(a){a?(d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"default_dual_thread_cutover_snippet"}),c("FBLogger")("messenger_web").info("Default dual thread cutover snippet used for secure thread")):d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"default_e2ee_thread_snippet"})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("ChatMuteStore",[],(function(a,b,c,d,e,f){"use strict";b={EightHours:288e5,FifteenMinutes:9e5,Indefinitely:-1,OneDay:864e5,OneHour:36e5};c={Both:"bothMuteScope",Call:"callMuteScope",Message:"messageMuteScope"};var g={Duration:"setMuteDuration",Scope:"setMuteScope"};d={type:c.Message};e={type:c.Call};var h={type:c.Both},i={duration:b.FifteenMinutes,scope:d};function a(a,b){return b.type===g.Scope?{duration:a.duration,scope:b.scope}:{duration:b.duration,scope:a.scope}}f.ChatMuteOptions=b;f.ChatMuteScopeTypes=c;f.SetMuteActionTypes=g;f.message=d;f.call=e;f.both=h;f.initialState=i;f.reducer=a}),66);
__d("CommunityMessagingEnableState",[],(function(a,b,c,d,e,f){a=Object.freeze({ENABLED:1,DISABLE_REQUESTED:2,DISABLING:3,DISABLED:4,DISABLE_FAILED:5});f["default"]=a}),66);
__d("FBIconArrowLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M100.655 923.405a.75.75 0 0 0-1.06-1.06l-3.125 3.125a.75.75 0 0 0 0 1.06l3.125 3.125a.75.75 0 0 0 1.06-1.06L98.061 926l2.594-2.595z",transform:"translate(355 153.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M105 925.25h-7.688a.75.75 0 1 0 0 1.5H105a.75.75 0 1 0 0-1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconArrowRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M101.345 928.595a.75.75 0 0 0 1.06 1.06l3.125-3.125a.75.75 0 0 0 0-1.06l-3.125-3.125a.75.75 0 0 0-1.06 1.06l2.594 2.595-2.594 2.595z",transform:"translate(355 153.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M97 926.75h7.688a.75.75 0 1 0 0-1.5H97a.75.75 0 1 0 0 1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconBellNullCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m459.33 1076.878 2.524-2.525a.5.5 0 0 0-.707-.707l-2.323 2.323a3.606 3.606 0 0 0-1.838-1.322c.006-.048.014-.096.014-.147a1 1 0 0 0-2 0c0 .05.008.099.015.148-1.432.435-2.509 1.801-2.646 3.526l-.04.906c0 .273-.243.607-.502.96-.372.508-.834 1.14-.827 1.963.003.385.175.887.589 1.201l-1.442 1.442a.5.5 0 1 0 .707.707l1.853-1.853h.024l6.605-6.606-.007-.016m.141 6.622c1.115 0 1.526-.895 1.53-1.495.007-.824-.455-1.457-.827-1.965-.258-.353-.502-.686-.503-.981l-.04-.903c-.003-.043-.01-.083-.015-.126l-5.47 5.47h5.325zm-1.92 1h-3.1a.203.203 0 0 0-.138.352c.435.4 1.031.648 1.688.648s1.253-.247 1.687-.648a.204.204 0 0 0-.137-.352"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconCheckmarkFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M451.78 1079.098a.75.75 0 0 0-1.06 1.06l3.08 3.082a.75.75 0 0 0 1.061 0l6.42-6.42a.75.75 0 0 0-1.061-1.06l-5.889 5.889-2.55-2.55z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconDots3HorizontalOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M458 408a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPauseCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M459 1081.875c0 .344-.28.625-.625.625h-.75a.626.626 0 0 1-.625-.625v-4.75c0-.344.28-.625.625-.625h.75c.344 0 .625.28.625.625v4.75zm-4 0c0 .344-.28.625-.625.625h-.75a.626.626 0 0 1-.625-.625v-4.75c0-.344.28-.625.625-.625h.75c.344 0 .625.28.625.625v4.75zm1-8.375c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPushpinFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m6.657 1-2.64 2.639A3.191 3.191 0 0 0 1 4.481L5.52 9a3.191 3.191 0 0 0 .84-3.018L9 3.344",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M3.854 3.096A3.687 3.687 0 0 0 .647 4.127a.5.5 0 0 0 0 .707l4.52 4.52a.5.5 0 0 0 .706 0 3.687 3.687 0 0 0 1.03-3.207l2.45-2.45-.706-.707-2.64 2.639a.5.5 0 0 0-.132.472c.182.748.04 1.53-.388 2.159L1.74 4.513a2.697 2.697 0 0 1 2.16-.388.5.5 0 0 0 .471-.132l2.64-2.64-.708-.707-2.45 2.45z",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m105.392 935.194-2.586-2.586a1.045 1.045 0 0 1 0-1.478l.555-.553a.26.26 0 0 1 .369 0l3.693 3.693a.26.26 0 0 1 0 .37l-.553.554a1.045 1.045 0 0 1-1.478 0",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m105.038 935.547-2.585-2.585a1.545 1.545 0 0 1 0-2.186l.553-.552a.76.76 0 0 1 1.077 0l3.693 3.692a.76.76 0 0 1 0 1.077l-.553.554a1.545 1.545 0 0 1-2.185 0zm-1.878-4.063a.545.545 0 0 0 0 .77l2.585 2.586a.545.545 0 0 0 .77 0l.386-.385-3.356-3.356-.385.385z",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M96.147 941.854a.5.5 0 0 1 0-.708l2.276-2.276a.25.25 0 0 1 .353 0l.354.353a.25.25 0 0 1 0 .354l-2.276 2.277a.5.5 0 0 1-.707 0",transform:"translate(354 143.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconStoriesArchiveFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103 920.75a.5.5 0 0 0-1 0v2.75a.5.5 0 0 0 .146.354l1.1 1.1a.5.5 0 1 0 .708-.708l-.954-.953v-2.543zm-1.823-3.103c-.146.033-.29.07-.432.114a.5.5 0 1 0 .29.957c.12-.036.24-.068.363-.096a.5.5 0 0 0-.221-.975zm7.015 7.755a5.999 5.999 0 0 0-2.965-7.248.5.5 0 1 0-.455.89 5 5 0 0 1 2.471 6.042.5.5 0 1 0 .949.316zm-10.075 2.195a5.983 5.983 0 0 0 4.383 1.903c1.687 0 3.263-.7 4.39-1.91a.5.5 0 0 0-.731-.682 4.983 4.983 0 0 1-3.66 1.592 4.984 4.984 0 0 1-3.651-1.586.5.5 0 0 0-.73.683zm-1.202-6.292a6.017 6.017 0 0 0-.122 4.051.5.5 0 1 0 .95-.308 5.018 5.018 0 0 1 .102-3.377.5.5 0 1 0-.93-.366zm1.657-2.34a5.8 5.8 0 0 0-.318.296.5.5 0 0 0 .711.703c.08-.08.167-.161.264-.245a.5.5 0 0 0-.657-.755z",transform:"translate(353.5 156)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M105.709 918.41a.5.5 0 1 0-.574-.82l-.922.646a.5.5 0 0 0-.123.696l.646.923a.5.5 0 0 0 .819-.574l-.359-.513.513-.358z",transform:"translate(353.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GroupFeatureType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ARTICLES","AUTO_INVITES","CHATS","CHILDHOOD_VACCINES","CLIMATE_PLEDGE","COMMUNITY_GIVING","COMMUNITY_MESSAGING","EVENTS","FANTASY_LEAGUE","FILES","FUNDRAISER_CHALLENGE","GAME_LINKS","GIF","GROUP_AFFILIATION","GUIDES","LIVE","LOOKING_FOR_PLAYERS","MARKETPLACE_JOBS","PLAYER_INFO","POLL","PRODUCT_TAGGING","QN_A","RAISE_MONEY","REEL","REPUTATION_SYSTEM","REQUEST_OR_OFFER_HELP","ROOMS","SELLING","SELL_SOMETHING","SETTING","SUPPORTER_STICKERS","TOPIC_CHANNELS","USER_SIGNAL","WELCOME_POST"]);c=a;f["default"]=c}),66);
__d("GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9637409876354840"}),null);
__d("GroupsCometCMDisabledChatDialogQuery$Parameters",["GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometCMDisabledChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometCMDisabledChatDialog.entrypoint",["GroupsCometCMDisabledChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometCMDisabledChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometCMDisabledChatDialog.react").__setRef("GroupsCometCMDisabledChatDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometCMGeoBlockedChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29181422338169883"}),null);
__d("GroupsCometCMGeoBlockedChatDialogQuery$Parameters",["GroupsCometCMGeoBlockedChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometCMGeoBlockedChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometCMGeoBlockedChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometCMGeoBlockedChatDialog.entrypoint",["GroupsCometCMGeoBlockedChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometCMGeoBlockedChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometCMGeoBlockedChatDialog.react").__setRef("GroupsCometCMGeoBlockedChatDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9311215579001270"}),null);
__d("MWCMCasaOffboardingNuxDialogQuery$Parameters",["MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMCasaOffboardingNuxDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("XFBGroupFeatureTypeUtils.facebook",["$InternalEnumUtils","GroupFeatureType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("GroupFeatureType"));b=d("$InternalEnumUtils").createFromJSEnum(c("GroupFeatureType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("GroupsCometCMOffboardingDialog.entrypoint",["JSResourceForInteraction","MWCMCasaOffboardingNuxDialogQuery$Parameters","XFBGroupFeatureTypeUtils.facebook"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b;a=a.groupID;return{queries:{queryReference:{parameters:c("MWCMCasaOffboardingNuxDialogQuery$Parameters"),variables:{communityMessagingFeatureType:(b=d("XFBGroupFeatureTypeUtils.facebook").fromJSEnum("COMMUNITY_MESSAGING"))!=null?b:"COMMUNITY_MESSAGING",groupID:a}}}}},root:c("JSResourceForInteraction")("MWCMCasaOffboardingNuxDialog.react").__setRef("GroupsCometCMOffboardingDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometJoinChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9560132654105701"}),null);
__d("GroupsCometJoinChatDialogQuery$Parameters",["GroupsCometJoinChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometJoinChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometJoinChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometJoinChatDialog.entrypoint",["GroupsCometJoinChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.threadID;return{queries:{myQueryReference:{parameters:c("GroupsCometJoinChatDialogQuery$Parameters"),variables:{groupID:b,threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometJoinChatDialog.react").__setRef("GroupsCometJoinChatDialog.entrypoint")};g["default"]=a}),98);
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(a){return b.forEach(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(c){return a[0]===void 0||a[0]===!0?b.forEach(b.db.table(69).fetch(),function(a){return a["delete"]()}):b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSSearchClearTablesStoredProcedure";a.__tables__=["search_queries","server_search_sections","server_search_results","message_search_results"];e.exports=a}),null);
__d("LSClearTablesStoredProcedure",["LSClearTables","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSClearTables"),e.clearMessageResults);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticFetchPendingGroupInvite",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("link_hash",a[0]),d[0].set("image_width",a[1]),d[0].set("image_height",a[2]),d[0].set("has_vanity_name",!1),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_pending_group_invite",c.i64.cast([0,434]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(b){return c.db.table(235).put({linkHash:a[0],threadTitle:"",lastThreadActivityMs:c.i64.cast([0,0]),groupImageUrl:"",groupImageUrlFallback:"",groupImageUrlExpirationTimestampMs:c.i64.cast([0,0]),joinExplainerText:"",numberOfMembers:c.i64.cast([0,0]),isInApprovalQueue:!1,isSubscribed:!1,canJoin:!1,fbGroupDescription:"",communityImageUrl:"",communityImageUrlFallback:"",communityImageUrlExpirationTimestampMs:c.i64.cast([0,0]),linkJoinType:c.i64.cast([0,1]),fbGroupVisibility:c.i64.cast([0,1]),communityId:c.i64.cast([0,0])})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticFetchPendingGroupInviteStoredProcedure";a.__tables__=["group_invitations_pending"];e.exports=a}),null);
__d("LSOptimisticFetchPendingGroupInviteStoredProcedure",["LSOptimisticFetchPendingGroupInvite","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticFetchPendingGroupInvite"),e.linkHash,e.imageWidth,e.imageHeight);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticMarkThreadReadV2"),e.threadKey,e.readWatermarkTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticUpdateHasPendingJoinRequest",["LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.forEach(c.filter(c.db.table(9).fetch(),function(b){return b.needsAdminApprovalForNewParticipant===!0&&c.i64.eq(b.threadKey,a[0])}),function(e){var f=e.item;return c.sequence([function(e){return a[1]?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3199643703]),void 0).then(function(a){return d[2]=a})},function(a){return d[0]=d[2]}]):c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1531706844]),void 0).then(function(a){return d[2]=a})},function(a){return d[0]=d[2]}])},function(b){return d[1]=f.lastReadWatermarkTimestampMs,c.forEach(c.db.table(9).fetch([[[f.threadKey]]]),function(b){var c=b.update;b.item;return c({hasPendingJoinRequest:a[1],snippet:d[0],lastReadWatermarkTimestampMs:d[1]})})}])})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticUpdateHasPendingJoinRequestStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("MAWGroupInvitesForThread",["LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);a=d("LSThreadBitOffset").has(105,a);if(b&&c)return a;else return!1}g.isGroupInviteThread=a}),98);
__d("MWCMGetValidId",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b===void 0&&(b=!1);return i(a,b)!=null}function i(a,b){b===void 0&&(b=!1);if(a==null){b&&c("FBLogger")("cc_web").warn("FB Group ID is not defined");return void 0}if((h||(h=d("I64"))).le(a,(h||(h=d("I64"))).zero)){b&&c("FBLogger")("cc_web").warn("FB Group ID is invalid: %s",(h||(h=d("I64"))).to_string(a));return void 0}return a}g.MWCMHasValidFbGroupId=a;g.MWCMGetValidFbGroupIdOrUndefined=i}),98);
__d("getLSMediaCommunityFolderPictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;var b=a.pictureUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.pictureUrlFallback:a.pictureUrl}g["default"]=a}),98);
__d("MWCMThreadPictureCustomThreadCommunity.react",["BaseView.react","CometHeroHoldTrigger.react","FDSProfilePhoto_EXPERIMENTAL.react","MWXGlimmer.react","getLSMediaCommunityFolderPictureUrl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={base:{height:"x1auzw0x",position:"x10l6tqk",width:"xqu606t",$$css:!0},circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},community:{end:"xds687c",left:null,right:null,top:"x13vifvy",$$css:!0},glimmer:{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",height:"x5yr21d",width:"xh8yej3",$$css:!0},rounded:{borderTopStartRadius:"x12myldv",borderTopEndRadius:"x1udsgas",borderBottomEndRadius:"xrc8dwe",borderBottomStartRadius:"xxxhv2y",$$css:!0},thread:{backgroundColor:"x1jx94hy",borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",boxSizing:"x1afcbsf",start:"x17qophe",left:null,right:null,marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.community,f=a.photoSize;a=a.threadPictureUrl;var g;b[0]!==e?(g=c("getLSMediaCommunityFolderPictureUrl")(e),b[0]=e,b[1]=g):g=b[1];e=g;b[2]!==f?(g={height:f,width:f},b[2]=f,b[3]=g):g=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=[j.base,j.community],b[4]=f):f=b[4];b[5]!==e?(f=i.jsx(c("BaseView.react"),{xstyle:f,children:e==null?i.jsxs(i.Fragment,{children:[i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[j.glimmer,j.rounded]}),i.jsx(c("CometHeroHoldTrigger.react"),{description:"MWCMThreadPictureCustomThreadCommunity",hold:!0})]}):i.jsx(c("FDSProfilePhoto_EXPERIMENTAL.react"),{shape:"rounded",size:"fill",source:e})}),b[5]=e,b[6]=f):f=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.base,j.thread,j.circle],b[7]=e):e=b[7];b[8]!==a?(e=i.jsx(c("BaseView.react"),{xstyle:e,children:i.jsx(c("FDSProfilePhoto_EXPERIMENTAL.react"),{shape:"circle",size:"fill",source:a})}),b[8]=a,b[9]=e):e=b[9];b[10]!==g||b[11]!==f||b[12]!==e?(a=i.jsxs(c("BaseView.react"),{role:"img",style:g,children:[f,e]}),b[10]=g,b[11]=f,b[12]=e,b[13]=a):a=b[13];return a}g["default"]=a}),98);
__d("MWEBMobileOnboardingEligibility",["CometErrorBoundary.react","CometPlaceholder.react","gkx","lazyLoadComponent","react","useWAInfraDeviceList"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function j(a){var b=a.children;a=a.fallback;var d=c("useWAInfraDeviceList")();d=d.some(k)&&c("gkx")("5255");d=d;return d?b:a}function k(a){return a.isCurrentDevice&&a.creationTime!=null&&a.creationTime.getTime()>Date.now()-6048e5}function a(a){var b=c("lazyLoadComponent")(a);return function(a){var d=a.fallback;a=a.props;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return d},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{fallback:d,children:i.jsx(b,babelHelpers["extends"]({},a))})})})}}g.requireMobileOnboardingIfEligible=a}),98);
__d("MWFacepile.react",["CometHeroHoldTrigger.react","FDSFacepilePhoto.react","MWXGlimmer.react","UNTRANSLATED_STRING_FIXME","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","translatedServerString","useMWFacepileGetContactsToShow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e=a.actualBadge,f=a.ariaHidden,g=a.label,h=a.onlyAuthoratitiveContacts,k=a.photoSize,l=a.threadKey,m=a.threadType;a=a.withAltText;k=k===void 0?32:k;var n=a===void 0?!0:a;a=c("useMWFacepileGetContactsToShow")(l,m,h);if(a.length!==0){b[0]!==g||b[1]!==n?(l=n===!0&&g!=null?c("UNTRANSLATED_STRING_FIXME")(g):void 0,b[0]=g,b[1]=n,b[2]=l):l=b[2];if(b[3]!==a||b[4]!==n){b[6]!==n?(m=function(a){return{alt:n?c("translatedServerString")(a.name):void 0,disabled:!1,source:c("getLSMediaContactProfilePictureUrl")(a)}},b[6]=n,b[7]=m):m=b[7];h=a.map(m);b[3]=a;b[4]=n;b[5]=h}else h=b[5];b[8]!==e||b[9]!==f||b[10]!==a.length||b[11]!==k||b[12]!==l||b[13]!==h?(g=i.jsx(c("FDSFacepilePhoto.react"),{ariaHidden:f,badge:e,label:l,size:k,sources:h,totalItems:a.length}),b[8]=e,b[9]=f,b[10]=a.length,b[11]=k,b[12]=l,b[13]=h,b[14]=g):g=b[14];return g}b[15]!==k?(m={height:k,width:k},b[15]=k,b[16]=m):m=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.glimmer}),f=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MWFacepile photo",hold:!0}),b[17]=e,b[18]=f):(e=b[17],f=b[18]);b[19]!==m?(a=i.jsxs("div",{style:m,children:[e,f]}),b[19]=m,b[20]=a):a=b[20];return a}g["default"]=a}),98);
__d("MWGAMEThreadTakedownDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9985766314800064"}),null);
__d("MWGAMEThreadTakedownDialogQuery$Parameters",["MWGAMEThreadTakedownDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWGAMEThreadTakedownDialogQuery_facebookRelayOperation"),metadata:{},name:"MWGAMEThreadTakedownDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWGAMEThreadTakedownDialog.entrypoint",["JSResourceForInteraction","MWGAMEThreadTakedownDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("MWGAMEThreadTakedownDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWGAMEThreadTakedownDialog.react").__setRef("MWGAMEThreadTakedownDialog.entrypoint")};g["default"]=a}),98);
__d("MWGeoblockThreadDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9304634992993107"}),null);
__d("MWGeoblockThreadDialogQuery$Parameters",["MWGeoblockThreadDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWGeoblockThreadDialogQuery_facebookRelayOperation"),metadata:{},name:"MWGeoblockThreadDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWGeoblockThreadDialog.entrypoint",["JSResourceForInteraction","MWGeoblockThreadDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("MWGeoblockThreadDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWGeoblockThreadDialog.react").__setRef("MWGeoblockThreadDialog.entrypoint")};g["default"]=a}),98);
__d("XCometCommunityThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/c/{folder_id}/t/{thread_key}/",Object.freeze({}),["/messages/c/{folder_id}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometCommunityThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/c/{folder_id}/t/{thread_key}/",Object.freeze({}),["/c/{folder_id}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxCommunityThreadsRouteBuilder",["CurrentEnvironment","XCometCommunityThreadsControllerRouteBuilder","XMessengerDotComCometCommunityThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildUriForMessage:function(a){var b=a.folder_id;a=a.thread_key;return c("XCometCommunityThreadsControllerRouteBuilder").buildUri({folder_id:b,thread_key:a})},buildURL:function(a){var b=a.folder_id;a=a.thread_key;return c("XCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:b,thread_key:a})},buildURLWithoutThread:function(a){a=a.folder_id;return c("XCometCommunityThreadsControllerRouteBuilder").buildExtraURL("/messages/c/{folder_id}/",{folder_id:a})}}:{buildUriForMessage:function(a){var b=a.folder_id;a=a.thread_key;return c("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildUri({folder_id:b,thread_key:a})},buildURL:function(a){var b=a.folder_id;a=a.thread_key;return c("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:b,thread_key:a})},buildURLWithoutThread:function(a){a=a.folder_id;return c("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildExtraURL("/c/{folder_id}/",{folder_id:a})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("MWInboxFocusTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_VIEW_AND_OR_COMPOSER:0,THREAD_LIST:1});c=a;f["default"]=c}),66);
__d("MWJewelThreadSnippet.react",["CurrentEnvironment","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.isUnread,f=a.text;a=a.type;a=a==="missedCall";if(!e){b[0]!==f?(e=i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,showTruncationTooltip:!1,type:"body4",children:f}),b[0]=f,b[1]=e):e=b[1];return e}else if(c("CurrentEnvironment").facebookdotcom){e=a?"negative":"primary";var g;b[2]!==e||b[3]!==f?(g=i.jsx(c("MWXText.react"),{color:e,numberOfLines:1,showTruncationTooltip:!1,type:"bodyLink4",children:f}),b[2]=e,b[3]=f,b[4]=g):g=b[4];return g}e=a?"negative":"primary";b[5]!==e||b[6]!==f?(g=i.jsx(c("MWXText.react"),{color:e,numberOfLines:1,type:"entityHeaderMeta3",children:f}),b[5]=e,b[6]=f,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes",["LSIntEnum","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;a=[(h||(h=d("LSIntEnum"))).ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(2),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9),h.ofNumber(13)].concat(c("gkx")("24112")?[(h||(h=d("LSIntEnum"))).ofNumber(14)]:[]);b=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(2)];e=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(2),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9),h.ofNumber(5)];f=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(2),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9)];c=[h.ofNumber(1)];d=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9)].concat([h.ofNumber(13)]);var i=[h.ofNumber(1),h.ofNumber(2)],j=[h.ofNumber(1),h.ofNumber(2),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9)],k=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(2)],l=[h.ofNumber(1),h.ofNumber(2)];g.allSupportedTypes=a;g.supportedTypesForMSplitUser=b;g.allSupportedTypesWithMessageSearch=e;g.armadilloSupportedTypes=f;g.onlyContacts=c;g.broadcastFlowSupportedTypes=d;g.addParticipantBase=i;g.addParticipantXac=j;g.socialChannelsSupportedTypes=k;g.communityDirectInviteSupportedTypes=l}),98);
__d("MWPThreadsForThreadList",["I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){if(c!=null){a=d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs"),e).getKeyRange(b).bounds({gt:d("ReQL").key((h||(h=d("I64"))).zero)});e=c.minLastActivityTimestampMs;b=c.maxLastActivityTimestampMs;c=!(h||(h=d("I64"))).equal(e,(h||(h=d("I64"))).zero)&&!(h||(h=d("I64"))).equal(e,(h||(h=d("I64"))).one)?e:void 0;e=!(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)&&!(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).one)?b:void 0;if(c!=null)if(e!=null)return a.bounds({gte:d("ReQL").key(c),lte:d("ReQL").key(e)});else return a.bounds({gte:d("ReQL").key(c)});else if(e!=null)return a.bounds({lte:d("ReQL").key(e)});return a}return d("ReQL").empty()}g.createIterable=a}),98);
__d("MWReQLCMThreadPictureCustomThreadCommunity.react",["MWCMThreadPictureCustomThreadCommunity.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.photoSize,g=a.thread;a=a.threadPictureUrl;var i=(h||(h=c("useReStore")))(),k;b[0]!==i.tables.community_folders||b[1]!==g.parentThreadKey?(k=function(){return d("ReQL").fromTableAscending(i.tables.community_folders).getKeyRange(g.parentThreadKey)},b[0]=i.tables.community_folders,b[1]=g.parentThreadKey,b[2]=k):k=b[2];var l;b[3]!==i||b[4]!==g.parentThreadKey?(l=[i,g.parentThreadKey],b[3]=i,b[4]=g.parentThreadKey,b[5]=l):l=b[5];k=d("ReQLSuspense").useFirst(k,l,f.id+":25");l=k==null?void 0:k.pictureUrl;var m=k==null?void 0:k.pictureUrlExpirationTimestampMs;k=k==null?void 0:k.pictureUrlFallback;var n;b[6]!==l||b[7]!==m||b[8]!==k?(n={pictureUrl:l,pictureUrlExpirationTimestampMs:m,pictureUrlFallback:k},b[6]=l,b[7]=m,b[8]=k,b[9]=n):n=b[9];b[10]!==e||b[11]!==n||b[12]!==a?(l=j.jsx(c("MWCMThreadPictureCustomThreadCommunity.react"),{community:n,photoSize:e,threadPictureUrl:a}),b[10]=e,b[11]=n,b[12]=a,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("MWReQLFacepile.react",["MWFacepile.react","MWFacepileBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.ariaHidden,f=a.badge,g=a.badgeSize,h=a.borderThemeColor,j=a.label,k=a.onlyAuthoratitiveContacts,l=a.photoSize,m=a.showBadge,n=a.thread;a=a.withAltText;k=k===void 0?!1:k;l=l===void 0?32:l;m=m===void 0?!0:m;a=a===void 0?!0:a;if(b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==m||b[4]!==n.threadKey){var o;o=m?(o=f)!=null?o:i.jsx(c("MWFacepileBadge.react"),{borderThemeColor:h,size:g,threadKey:n.threadKey}):null;b[0]=f;b[1]=g;b[2]=h;b[3]=m;b[4]=n.threadKey;b[5]=o}else o=b[5];f=o;b[6]!==f||b[7]!==e||b[8]!==j||b[9]!==k||b[10]!==l||b[11]!==n.threadKey||b[12]!==n.threadType||b[13]!==a?(g=i.jsx(c("MWFacepile.react"),{actualBadge:f,ariaHidden:e,label:j,onlyAuthoratitiveContacts:k,photoSize:l,threadKey:n.threadKey,threadType:n.threadType,withAltText:a}),b[6]=f,b[7]=e,b[8]=j,b[9]=k,b[10]=l,b[11]=n.threadKey,b[12]=n.threadType,b[13]=a,b[14]=g):g=b[14];return g}g["default"]=a}),98);
__d("MWThreadIsMuted_DEPRECATED",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a<=-1)return!0;else return a>Date.now()}f.getThreadIsMuted=a}),66);
__d("MWVerticalRhythm",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.height;a=a;a=String(a)+"px";var c;b[0]!==a?(c=i.jsx("div",{style:{height:a}}),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),98);
__d("MWXIconDisappearingMessage",["MWXSvgIcon","SVGIcon","cr:12393","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12393")),c("gkx")("23219"));g["default"]=a}),98);
__d("useZenonHasActiveCall",["CacheStorage","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h="RTC_LS_CALL_SUMMARY_",i="ls_summary";function a(){var a=c("justknobx")._("4056"),b=new(c("CacheStorage"))("localstorage",h);b=b.get(i);if(!b||Object.keys(b).length===0)return!1;b=Object.values(b)[0];if(!b||Object.keys(b).length===0)return!1;b=Object.values(b)[0].__t;return b<Date.now()-a?!1:!0}g["default"]=a}),98);
__d("useMWIsStaleCall",["DateConsts","FBLogger","I64","LSMessagingThreadTypeUtil","gkx","justknobx","useZenonHasActiveCall"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=c("useZenonHasActiveCall")();if(!b||f)return!1;if(e==null&&b){c("FBLogger")("messenger_web_calling").warn("ongoingCallTimestampMs is null but isOngoingCall is true");return!1}f=e!=null?(h||(h=d("I64"))).to_float(e)/1e3:0;if(f!==0){b=a!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(a)?c("justknobx")._("4057"):a!=null&&d("LSMessagingThreadTypeUtil").isGroup(a)?c("justknobx")._("4058"):0;e=d("DateConsts").getCurrentTimeInSeconds();a=e-f;e=a>b;return e&&c("gkx")("13403")}return!1}g["default"]=a}),98);
__d("useMWThreadListLastMessageGlimmer.react",["Int64Hooks","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReadyWithoutValidator","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(6),e;b[0]!==a?(e=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&a.snippet==null,b[0]=a,b[1]=e):e=b[1];var f=e;e=j(f);var g=e[0],h=e[1],k=a==null?void 0:a.threadKey;b[2]!==f||b[3]!==k?(e=function(){if(k==null)return;if(f===!1){h(!1);return}var a;a=!1;c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return d("MAWMiActOnActThreadReadyWithoutValidator").waitForACTThreadReadyWithoutValidator(b.tables,k,"useShouldShowGlimmerForThread").then(function(){a||h(!1)})}));return function(){a=!0}},a=[k,f],b[2]=f,b[3]=k,b[4]=e,b[5]=a):(e=b[4],a=b[5]);d("Int64Hooks").useEffectInt64(e,a);return g}g["default"]=a}),98);
__d("MWThreadListLastMessage.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometHeroHoldTrigger.react","FDSRelativeTimestamp.react","MAWStrings","MWJewelThreadSnippet.react","MWVerticalRhythm","MWXGlimmer.react","MWXIconDisappearingMessage","MWXIconStrict.react","MWXText.react","isArmadilloUI","mwIsThreadDisabled","react","react-compiler-runtime","react-strict-dom","useMWIsStaleCall","useMWThreadListLastMessageGlimmer.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={bodyGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1l36t39",$$css:!0},bodyGlimmerSecond:{width:"xktia5q",$$css:!0},disappearingMessageVisualIndicator:{paddingEnd:"xg83lxy",$$css:!0},root:{alignItems:"x6s0dn4",color:"xi81zsa",display:"x78zum5",minHeight:"x1hshjfz",$$css:!0},subtext:{paddingStart:"x1h0ha7o",whiteSpace:"xuxw1ft",$$css:!0},threadSnippet:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",maxWidth:"x193iq5w",paddingEnd:"xg83lxy",$$css:!0},zeroMinWidth:{minWidth:"xeuugli",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(35),e=a.hasOngoingCall,f=a.isUnread,g=a.lastMessageCtaType,i=a.lastMessageTimestamp,l=a.showDisappearingMessageVisualIndicator,m=a.showSnippetText,n=a.showTimestamp,o=a.snippet;a=a.thread;var p=c("useMWThreadListLastMessageGlimmer.react")(a),q=c("useMWIsStaleCall")(a==null?void 0:a.threadType,e,a==null?void 0:a.ongoingCallTimestampMs);if(p===!0){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsxs(j.Fragment,{children:[j.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[k.bodyGlimmer,k.bodyGlimmerSecond]}),j.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListLastMessage",hold:!0})]}),b[0]=p):p=b[0];return p}p=g==="xma_rtc_missed_audio"||g==="xma_rtc_missed_group_audio";g=g==="xma_rtc_missed_video"||g==="xma_rtc_missed_group_video";p=p||g;g=m===!0&&!c("mwIsThreadDisabled")(a==null?void 0:a.takedownState)&&(a==null?void 0:a.snippetText)!=null;m=g?null:k.zeroMinWidth;var r;b[1]!==m?(r=[k.threadSnippet,m],b[1]=m,b[2]=r):r=b[2];b[3]!==p||b[4]!==f||b[5]!==o?(m=p&&f?d("MAWStrings").MAW_MISSED_CALL_STRING():o,b[3]=p,b[4]=f,b[5]=o,b[6]=m):m=b[6];o=p?"missedCall":void 0;b[7]!==f||b[8]!==m||b[9]!==o?(p=j.jsx(c("MWJewelThreadSnippet.react"),{isUnread:f,text:m,type:o}),b[7]=f,b[8]=m,b[9]=o,b[10]=p):p=b[10];b[11]!==r||b[12]!==p?(f=j.jsx(d("react-strict-dom").html.span,{style:r,children:p}),b[11]=r,b[12]=p,b[13]=f):f=b[13];b[14]!==g||b[15]!==(a==null?void 0:a.snippetText)?(m=g===!0&&j.jsxs(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:[j.jsx(d("react-strict-dom").html.span,{children:"\xb7"}),j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:k.subtext,children:a==null?void 0:a.snippetText})]}),b[14]=g,b[15]=a==null?void 0:a.snippetText,b[16]=m):m=b[16];b[17]!==l||b[18]!==n?(o=l===!0&&j.jsxs(j.Fragment,{children:[j.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:[k.subtext,n?k.disappearingMessageVisualIndicator:void 0],children:j.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconDisappearingMessage"),size:12})})]}),b[17]=l,b[18]=n,b[19]=o):o=b[19];b[20]!==i||b[21]!==n||b[22]!==(a==null?void 0:a.takedownState)?(r=n&&!c("mwIsThreadDisabled")(a==null?void 0:a.takedownState)&&i!=null&&i>0&&j.jsxs(j.Fragment,{children:[j.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:k.subtext,children:j.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:j.jsx(c("FDSRelativeTimestamp.react"),{date:new Date(i),format:"minimized"})})})]}),b[20]=i,b[21]=n,b[22]=a==null?void 0:a.takedownState,b[23]=r):r=b[23];b[24]!==f||b[25]!==m||b[26]!==o||b[27]!==r?(p=j.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:k.root,children:[f,m,o,r]}),b[24]=f,b[25]=m,b[26]=o,b[27]=r,b[28]=p):p=b[28];b[29]!==e||b[30]!==q?(g=e&&!q?j.jsxs(j.Fragment,{children:[c("isArmadilloUI")()?j.jsx(c("MWVerticalRhythm"),{height:5}):null,j.jsx(c("MWXText.react"),{align:"start",color:"positive",numberOfLines:1,type:"body4",children:h._(/*BTDS*/"Ongoing call")})]}):null,b[29]=e,b[30]=q,b[31]=g):g=b[31];b[32]!==p||b[33]!==g?(l=j.jsxs(j.Fragment,{children:[p,g]}),b[32]=p,b[33]=g,b[34]=l):l=b[34];return l}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=j.jsx(c("CometErrorBoundary.react"),{fallback:m,children:j.jsx(l,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}function m(){return j.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:k.root})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWThreadPictureCustomThread.react",["FDSFacepilePhoto.react","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","react-compiler-runtime","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(40),e=a.badge,g=a.badgeSize,i=a.borderThemeColor,k=a.photoSize,l=a.shape,m=a.showBadge,n=a.thread,o=a.threadPictureUrl;a=a.withAltText;var p=(h||(h=c("useReStore")))(),q=d("MWPActor.react").useActor(),r;b[0]!==p.tables.contacts||b[1]!==p.tables.participants||b[2]!==n.threadKey?(r=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(p.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(n.threadKey),d("ReQL").fromTableAscending(p.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(d("MWPGetThreadTitle").amountToFetchForTitle)},b[0]=p.tables.contacts,b[1]=p.tables.participants,b[2]=n.threadKey,b[3]=r):r=b[3];var s;b[4]!==p||b[5]!==n.threadKey?(s=[p,n.threadKey],b[4]=p,b[5]=n.threadKey,b[6]=s):s=b[6];r=d("ReQLSuspense").useArray(r,s,f.id+":39");var t,u,v,w;if(b[7]!==q||b[8]!==e||b[9]!==g||b[10]!==i||b[11]!==r||b[12]!==k||b[13]!==l||b[14]!==m||b[15]!==n.threadKey||b[16]!==n.threadType||b[17]!==a){s=d("MWPGetThreadTitle").computeThreadTitle(void 0,n.threadType,r.slice(0,d("MWPGetThreadTitle").amountToFetchForTitle),q);if(b[24]!==e||b[25]!==g||b[26]!==i||b[27]!==m||b[28]!==n.threadKey){var x;x=m===!0?(x=e)!=null?x:j.jsx(c("MWFacepileBadge.react"),{borderThemeColor:i,size:g,threadKey:n.threadKey}):null;b[24]=e;b[25]=g;b[26]=i;b[27]=m;b[28]=n.threadKey;b[29]=x}else x=b[29];x=x;t=c("FDSFacepilePhoto.react");x=x;u=a===!0&&s!=null?c("translatedServerString")(s):void 0;v=l;w=k;s=a===!0&&s!=null?c("translatedServerString")(s):void 0;b[7]=q;b[8]=e;b[9]=g;b[10]=i;b[11]=r;b[12]=k;b[13]=l;b[14]=m;b[15]=n.threadKey;b[16]=n.threadType;b[17]=a;b[18]=t;b[19]=s;b[20]=x;b[21]=u;b[22]=v;b[23]=w}else t=b[18],s=b[19],x=b[20],u=b[21],v=b[22],w=b[23];b[30]!==s||b[31]!==o?(q=[{alt:s,disabled:!1,source:o}],b[30]=s,b[31]=o,b[32]=q):q=b[32];b[33]!==t||b[34]!==x||b[35]!==u||b[36]!==v||b[37]!==w||b[38]!==q?(e=j.jsx(t,{badge:x,label:u,shape:v,size:w,sources:q,totalItems:1}),b[33]=t,b[34]=x,b[35]=u,b[36]=v,b[37]=w,b[38]=q,b[39]=e):e=b[39];return e}g["default"]=a}),98);
__d("MWThreadPicture.react",["MWReQLCMThreadPictureCustomThreadCommunity.react","MWReQLFacepile.react","MWThreadPictureCustomThread.react","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","mwCMIsAnyCMThread","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={borderThemeColor:{borderTopColor:"xwi95zy",borderEndColor:"x1s86mek",borderBottomColor:"xt1txi7",borderStartColor:"x1pskuwm",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(4),e=a.withCommunityPicture;if(e===!0){b[0]!==a?(e=j.jsx(c("MWReQLCMThreadPictureCustomThreadCommunity.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=e):e=b[1];return e}b[2]!==a?(e=j.jsx(c("MWThreadPictureCustomThread.react"),babelHelpers["extends"]({},a)),b[2]=a,b[3]=e):e=b[3];return e}function a(a){var b=d("react-compiler-runtime").c(27),e=a.ariaHidden,g=a.badge,i=a.badgeSize,m=a.onlyAuthoratitiveContacts,n=a.photoSize,o=a.showBadge,p=a.showFacepiles,q=a.threadKey,r=a.threadTitle,s=a.withAltText;a=a.withCommunityPicture;m=m===void 0?!1:m;o=o===void 0?!0:o;p=p===void 0?!1:p;s=s===void 0?!0:s;a=a===void 0?!1:a;var t=(h||(h=c("useReStore")))(),u;b[0]!==t.tables.threads||b[1]!==q?(u=function(){return d("ReQL").fromTableAscending(t.tables.threads,["parentThreadKey","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadName","threadType"]).getKeyRange(q)},b[0]=t.tables.threads,b[1]=q,b[2]=u):u=b[2];var v;b[3]!==t||b[4]!==q?(v=[t,q],b[3]=t,b[4]=q,b[5]=v):v=b[5];u=d("ReQLSuspense").useFirst(u,v,f.id+":62");if(u==null)return null;v=c("mwCMIsAnyCMThread")(u.threadType);o=o&&!v;b[6]!==u?(v=c("getLSMediaThreadPictureUrl")(u),b[6]=u,b[7]=v):v=b[7];v=v;if(v!=null&&p!==!0){b[8]!==g||b[9]!==i||b[10]!==n||b[11]!==o||b[12]!==u||b[13]!==v||b[14]!==s||b[15]!==a?(p=j.jsx(l,{badge:g,badgeSize:i,borderThemeColor:k.borderThemeColor,photoSize:n,showBadge:o,thread:u,threadPictureUrl:v,withAltText:s,withCommunityPicture:a}),b[8]=g,b[9]=i,b[10]=n,b[11]=o,b[12]=u,b[13]=v,b[14]=s,b[15]=a,b[16]=p):p=b[16];return p}a=(v=r)!=null?v:u.threadName;b[17]!==e||b[18]!==g||b[19]!==i||b[20]!==m||b[21]!==n||b[22]!==o||b[23]!==a||b[24]!==u||b[25]!==s?(p=j.jsx(c("MWReQLFacepile.react"),{ariaHidden:e,badge:g,badgeSize:i,borderThemeColor:k.borderThemeColor,label:a,onlyAuthoratitiveContacts:m,photoSize:n,showBadge:o,thread:u,withAltText:s}),b[17]=e,b[18]=g,b[19]=i,b[20]=m,b[21]=n,b[22]=o,b[23]=a,b[24]=u,b[25]=s,b[26]=p):p=b[26];return p}g["default"]=a}),98);
__d("MWXCardedDialogLoadingState.react",["cr:9908","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:9908")}),98);
__d("MWXIconArrowLeft",["MWXSvgIcon","SVGIcon","cr:12289","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12289")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconArrowRight",["MWXSvgIcon","SVGIcon","cr:12291","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12291")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconBellCross",["MWXSvgIcon","SVGIcon","cr:12320","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12320")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconCheckmark",["MWXSvgIcon","SVGIcon","cr:12362","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12362")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPushpin",["MWXSvgIcon","SVGIcon","cr:12545","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12545")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXScrollableAreaStyles",["MDSScrollableAreaStyles"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSScrollableAreaStyles")}),98);
__d("MWXSpacing.stylex",[],(function(a,b,c,d,e,f,g){"use strict";a={spacing4:"var(--x1e4hm47)",spacing8:"var(--x15qbgmd)",spacing10:"var(--x19nwfu8)",spacing12:"var(--xxjzes5)",spacing16:"var(--xsyyfky)",spacing20:"var(--x44p0ev)",spacing24:"var(--x1npqni6)",__themeName__:"x1g5acrz"};g.MWXSpacing=a}),98);
__d("MessagingCommunityChatsPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,PAUSED_BY_SOFT_ACTION:2,PAUSED_BY_ADMINLESS_STANDALONE_COMMUNITY:3});f["default"]=a}),66);
__d("MessengerDesktopPresenceInfo",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="__fb_messenger_desktop_presence_info";function a(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();return JSON.parse((a=a==null?void 0:a.getItem(i))!=null?a:"null")}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();if(a==null){c("FBLogger")("desktop_messenger_deeplink_presence","local_storage_not_found").warn("Messenger Desktop Presence Token cannot be created if local storage doesn't exist");return null}var b={lastActiveTimestamp:Date.now()};a=h.setItemGuarded(a,i,JSON.stringify(b));a!=null&&c("FBLogger")("desktop_messenger_deeplink_presence","create_presence_info_error").warn(a.toString());return b}g.getPresenceInfo=a;g.createPresenceInfo=b}),98);
__d("MessengerDesktopLocalServerRequest",["ConstUriUtils","MessengerDesktopPresenceInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3;a=function(){function a(a,b){var c=this;this.$1=function(){c.request.status===200&&d("MessengerDesktopPresenceInfo").createPresenceInfo()};b="http://localhost:"+b+a;this.uri=(a=(a=d("ConstUriUtils").getUri(b))==null?void 0:a.toString())!=null?a:b;this.request=new XMLHttpRequest();this.request.timeout=h;this.request.onloadend=this.$1}var b=a.prototype;b.setOnLoadEndHandler=function(a){var b=this;this.request.onloadend=function(){b.$1(),a(b.request.status)};return this};b.setErrorHandler=function(a){var b=this;this.request.onerror=function(){b.request.status===500&&d("MessengerDesktopPresenceInfo").createPresenceInfo(),a(b.request.status)};return this};b.setTimeoutHandler=function(a){this.request.ontimeout=a;return this};b.send=function(){this.request.open("GET",this.uri),this.request.send()};return a}();g["default"]=a}),98);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744027");b=d("FalcoLoggerInternal").create("messenger_desktop_promo",a);e=b;g["default"]=e}),98);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
__d("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/launch/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MessengerDesktopDeepLinkUtils",["fbt","MessengerDesktopLocalServerRequest","MessengerDesktopPresenceInfo","MessengerDesktopPromoEventLogger","Promise","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","gkx","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(j||d("react")).useCallback;var k="messenger",l=3103,m=1e3*60*60*24*28,n="https://www.messenger.com/desktop/";function a(a){return k+"://room?joinurl="+a}function e(a){return new(i||(i=b("Promise")))(function(b){new(c("MessengerDesktopLocalServerRequest"))("/ping",a).setOnLoadEndHandler(function(a){return b(a)}).setTimeoutHandler(function(a){return b(!1)}).setErrorHandler(function(a){return b(!1)}).send()})}function f(){var a=d("MessengerDesktopPresenceInfo").getPresenceInfo();return a==null?!1:Date.now()-a.lastActiveTimestamp<=m}function o(){var a=c("gkx")("23666"),b=c("gkx")("23667");if(b){b=c("gkx")("23668");return a||b}else return a}function p(){return c("gkx")("23669")}function q(){if(c("gkx")("23670")||!o())return!1;switch(s()){case"Windows":return!1;case"Mac":return c("gkx")("23671");default:return!1}}var r={openMessengerForDesktop:h._(/*BTDS*/"Open Messenger for Desktop"),openMessengerForMac:h._(/*BTDS*/"Open Messenger for Mac"),openMessengerForWindows:h._(/*BTDS*/"Open Messenger for Windows"),tryMessengerForDesktop:h._(/*BTDS*/"Try Messenger for Desktop"),tryMessengerForMac:h._(/*BTDS*/"Try Messenger for Mac"),tryMessengerForWindows:h._(/*BTDS*/"Try Messenger for Windows")};function s(){if(c("UserAgent").isPlatform("Windows"))return"Windows";else if(c("UserAgent").isPlatform("Mac OS X"))return"Mac";return"Desktop"}function t(a){return(a=c("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:a}).setDomain("www.messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function u(a){return(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri(a).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function v(){var a=o()?"open":"try",b=s();return r[a+"MessengerFor"+b]}function w(a){var b;return o()?(b=u(a))!=null?b:n:(b=t(a.funnel_session_id))!=null?b:n}function x(a,b){var e=d("react-compiler-runtime").c(9),f;e[0]!==a||e[1]!==b?(f={onImpressionStart:function(){d("MessengerDesktopPromoEventLogger").log({event:"Impression",funnelSessionId:a,location:b})}},e[0]=a,e[1]=b,e[2]=f):f=e[2];f=c("useSinglePartialViewImpression")(f);var g;e[3]!==a||e[4]!==b?(g=function(){d("MessengerDesktopPromoEventLogger").log({event:"Click",funnelSessionId:a,location:b})},e[3]=a,e[4]=b,e[5]=g):g=e[5];g=g;var h;e[6]!==g||e[7]!==f?(h=[g,f],e[6]=g,e[7]=f,e[8]=h):h=e[8];return h}g.PORT=l;g.getRoomDeepLink=a;g.isMessengerDesktopRunning=e;g.isMessengerDesktopProbablyInstalled=f;g.isMessengerDesktopDeeplinkEligible=o;g.isMessengerDesktopPromoEligible=p;g.isMessengerDesktopDeeplinkEnabled=q;g.getDeeplinkButtonLabel=v;g.getDeeplinkButtonURI=w;g.useMessengerDesktopPromoEventLogger=x}),226);
__d("MessengerDesktopDeeplinkEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856945");b=d("FalcoLoggerInternal").create("messenger_desktop_deeplink_event",a);e=b;g["default"]=e}),98);
__d("MessengerMuteUtils",["fbt","ChatMuteStore","DateStrings","I64","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){if(a<=0){if(a===d("ChatMuteStore").ChatMuteOptions.Indefinitely)return h._(/*BTDS*/"Off indefinitely");return}if(a<86401)return;var b=new Date(a*1e3).getDay(),e=b===new Date().getDay(),f=b===new Date().getDay()+1;if(f)return h._(/*BTDS*/"Off until {time} tomorrow",[h._param("time",c("formatDate")(a,"g:ia"))]);return e?h._(/*BTDS*/"Off until {time}",[h._param("time",c("formatDate")(a,"g:ia"))]):h._(/*BTDS*/"Off until {time} on {weekday name}",[h._param("time",c("formatDate")(a,"g:ia")),h._param("weekday name",d("DateStrings").getWeekdayName(b))])}f=h._(/*BTDS*/"Chat notifications");function b(a,b){if(a==null)return b===!0?h._(/*BTDS*/"Mute this sidechat?"):h._(/*BTDS*/"Mute conversation");switch(a.type){case"messageMuteScope":return h._(/*BTDS*/"Mute message notifications");case"callMuteScope":return h._(/*BTDS*/"Mute call notifications");case"bothMuteScope":return h._(/*BTDS*/"Mute message and call notifications")}}function e(a){var b=a.muteCallsExpireTimeMs;a=a.muteExpireTimeMs;var c=Math.min((i||(i=d("I64"))).to_float(a),i.to_float(b));a=Math.max(i.to_float(a),i.to_float(b));return c===-1?-1:a}g.mutedUntilLabel=a;g.chatNotificationActionLabel=f;g.muteDialogTitle=b;g.calcMuteUntilMs=e}),226);
__d("XGroupsC4GThreadViewControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/chats/{thread_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=b.entries;b=babelHelpers.objectWithoutPropertiesLoose(b,["entries"]);return babelHelpers["extends"]({entries:c.filter(function(b){return!a.includes(b.key)})},b)}}f["default"]=a}),66);
__d("useGroupsCometCMDisabledChatEntryPointDialog",["GroupsCometCMDisabledChatDialog.entrypoint","GroupsCometCMGeoBlockedChatDialog.entrypoint","MWGAMEThreadTakedownDialog.entrypoint","MWGeoblockThreadDialog.entrypoint","MetaConfig","gkx","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(8),e=a.isGeoBlocked;a=a.threadID;var f;b[0]!==a?(f={threadID:a},b[0]=a,b[1]=f):f=b[1];f=c("useMWXEntryPointDialog")(c("GroupsCometCMGeoBlockedChatDialog.entrypoint"),f);var g;b[2]!==a?(g={threadID:a},b[2]=a,b[3]=g):g=b[3];g=c("useMWXEntryPointDialog")(c("GroupsCometCMDisabledChatDialog.entrypoint"),g);var h;b[4]!==a?(h={threadID:a},b[4]=a,b[5]=h):h=b[5];h=c("useMWXEntryPointDialog")(c("MWGAMEThreadTakedownDialog.entrypoint"),h);var i;b[6]!==a?(i={threadID:a},b[6]=a,b[7]=i):i=b[7];a=c("useMWXEntryPointDialog")(c("MWGeoblockThreadDialog.entrypoint"),i);if(e&&c("gkx")("5194"))return a;if(e&&c("MetaConfig")._("25"))return f;else if(c("gkx")("23433")&&c("gkx")("7807"))return h;else return g}g["default"]=a}),98);
__d("useGroupsCometCMOffboardingEntryPointDialog",["FDSCardedDialogLoadingStateLegacy.react","GroupsCometCMOffboardingDialog.entrypoint","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx(c("FDSCardedDialogLoadingStateLegacy.react"),{onClose:a,withCloseButton:!0})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(2);a=a.groupID;var e;b[0]!==a?(e={groupID:a},b[0]=a,b[1]=e):e=b[1];return c("useCometEntryPointDialog")(c("GroupsCometCMOffboardingDialog.entrypoint"),e,void 0,j)}g["default"]=a}),98);
__d("useGroupsCometChatsEngagementImpressionLogger",["GroupsCometChatsEngagementLogger","react","react-compiler-runtime","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(12),e=a.category_id,f=a.client_extras,g=a.community_id,h=a.event,i=a.group_id,j=a.parent_surface,k=a.source,l=a.surface,m=a.thread_id;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==i||b[5]!==j||b[6]!==k||b[7]!==l||b[8]!==m?(a=function(){d("GroupsCometChatsEngagementLogger").log({action:"impression",category_id:e,client_extras:f,community_id:g,event:h,group_id:i,parent_surface:j,source:k,surface:l,thread_id:m})},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=a):a=b[9];a=a;var n;b[10]!==a?(n={onImpressionStart:a},b[10]=a,b[11]=n):n=b[11];return c("usePartialViewImpression")(n)}g["default"]=a}),98);
__d("useMWChatCalculateIsMutedFromExpireTime",["MWThreadIsMuted_DEPRECATED","clearTimeout","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),e;b[0]!==a?(e=function(){return d("MWThreadIsMuted_DEPRECATED").getThreadIsMuted(a)},b[0]=a,b[1]=e):e=b[1];e=j(e);var f=e[0],g=e[1],h;b[2]!==a?(e=function(){var b=d("MWThreadIsMuted_DEPRECATED").getThreadIsMuted(a);g(b);if(!(b&&a>-1))return;var e=c("setTimeout")(function(){return g(!1)},a-Date.now());return function(){c("clearTimeout")(e)}},h=[a,g],b[2]=a,b[3]=e,b[4]=h):(e=b[3],h=b[4]);i(e,h);return f}g["default"]=a}),98);
__d("useMWEBGetUpsellStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eb_restore_upsells_dismissed",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBGetUpsellStateQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBGetUpsellStateQuery",selections:[a]},params:{cacheID:"3d6b0766f42bc6a61e179528381b00b4",id:null,metadata:{},name:"useMWEBGetUpsellStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBGetUpsellState",["CometRelay","MWEBUpsellDismissedEnum.facebook","react-compiler-runtime","useMWEBGetUpsellStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(5),c,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useMWEBGetUpsellStateQuery.graphql"),e={},a[0]=c,a[1]=e):(c=a[0],e=a[1]);c=d("CometRelay").useClientQuery(c,e);e=c.viewer;c=e.is_eb_restore_upsells_dismissed===d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.ALL_DISMISSED;e=c||e.is_eb_restore_upsells_dismissed===d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED;var f;a[2]!==c||a[3]!==e?(f={isAllRestoreUpsellsDismissed:c,isRestoreUpsellsDismissed:e},a[2]=c,a[3]=e,a[4]=f):f=a[4];return f}g["default"]=a}),98);
__d("useMWGetInboxFocusTargetFromRoute",["CometRouteParams","MWInboxFocusTarget","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRouteParams").useRouteParams();b=b.focus_target;if(b!=null){b=Number(b);if(a[0]!==b){var e;e=(e=c("MWInboxFocusTarget").cast(b))!=null?e:0;a[0]=b;a[1]=e}else e=a[1];return e}return 0}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,i);var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}function i(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["FBLogger","I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","cr:2580","promiseDone","react","react-compiler-runtime","useAsyncReStoreBulkFix"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(a,e){var g,h=d("react-compiler-runtime").c(5),j=d("useAsyncReStoreBulkFix").useReStoreHook(),k=(g=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?g:e;if(k==null)throw c("FBLogger")("messenger_web").mustfixThrow("Tried to get a thread key when there was none");var l=c("MessengerWebUXLogger").useInteractionLogger();h[0]!==j||h[1]!==a||h[2]!==l||h[3]!==k?(g=function(){d("useAsyncReStoreBulkFix").onDbReady(j,function(e){l==null?void 0:l({eventName:"mark_thread_as_read"}),c("promiseDone")(e.runInTransaction(async function(e){var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.threads).getKeyRange(k));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((i||(i=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:k,threadType:f},"seen_receipt",a);h=g;return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:h,threadKey:k})}},"readwrite",void 0,void 0,f.id+":55"))})},h[0]=j,h[1]=a,h[2]=l,h[3]=k,h[4]=g):g=h[4];return g}g.default=a}),98);
__d("useMWPMarkSeen",["Int64Hooks","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWPMarkSeenDeferred").__setRef("useMWPMarkSeen");function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){return{load:async function(){var b=await h.load();return function(c){return b.markSeen(a,c)}}}},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useMemoInt64(c,e)}g.default=a}),98);
__d("useMWPWatchFolderFocusChanges",["react","react-compiler-runtime","useGlobalEventListener"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(6),f=i(!1),g;e[0]!==a||e[1]!==b?(g=function(){if(!f.current)return;b.current&&a!=null&&a();f.current=!1},e[0]=a,e[1]=b,e[2]=g):g=e[2];g=g;var h;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){f.current||(f.current=!0)},e[3]=h):h=e[3];h=h;var j;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(j={},e[4]=j):j=e[4];c("useGlobalEventListener")("focus",g,j);e[5]===Symbol["for"]("react.memo_cache_sentinel")?(g={},e[5]=g):g=e[5];c("useGlobalEventListener")("blur",h,g)}g["default"]=a}),98);
__d("useOpenThreadAfterJoin",["I64","MWLSThreadDisplayContext","ReQL","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWChatOpenTabForGroup","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=c("useMWChatOpenTabForGroup")("jewel"),e=b[0],f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=c("useAsyncReStore")(),h=c("useMWNavigation")();a[0]!==g||a[1]!==f||a[2]!==h||a[3]!==e?(b=function(a){if(f==="ChatTab"){e(a);return}c("promiseDone")(g,function(b){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(a))),function(b){b!=null&&h.openInbox({clientThreadKey:void 0,threadKey:(i||(i=d("I64"))).of_string(a),threadType:b.threadType},"deepLink")})})},a[0]=g,a[1]=f,a[2]=h,a[3]=e,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("usePublicChatShortlinkCallback",["ConstUriUtils","I64","JSResourceForInteraction","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","ReQL","promiseDone","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");b.useCallback;var l=b.useEffect,m=b.useRef,n=c("JSResourceForInteraction")("MWJoinPublicChatDialog.react").__setRef("usePublicChatShortlinkCallback");function o(a){a=d("ConstUriUtils").getUri(a);if(a==null?void 0:a.isSubdomainOfDomain("m.me")){a=a==null?void 0:(a=a.getPath())==null?void 0:a.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&a[0]==="j"?a[1]:null}return null}function a(a){var b=d("react-compiler-runtime").c(6),e=a.onSuccess,g=m(!1),k=m(),p=m(),q=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(n);var r=a[0],s;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return function(){k.current==null?void 0:k.current(),p.current==null?void 0:p.current()}},s=[],b[0]=a,b[1]=s):(a=b[0],s=b[1]);l(a,s);b[2]!==q||b[3]!==e||b[4]!==r?(a=function(a){var b=o(a);b!=null&&(c("promiseDone")(q.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInviteStoredProcedure")(c("LSFactory")(a),{linkHash:b})},"readwrite",void 0,void 0,f.id+":85")),k.current=d("ReQL").fromTableAscending(q.tables.group_invitations_pending).getKeyRange(b).subscribe(function(a,c){if(c.operation!=="delete"){var f=c.value;if((f==null?void 0:f.isSubscribed)&&(f==null?void 0:f.threadId)!=null){e==null?void 0:e((i||(i=d("I64"))).to_string(f.threadId));return}else if((f==null?void 0:f.linkJoinType)!=null&&(i||(i=d("I64"))).equal(f==null?void 0:f.linkJoinType,(j||(j=d("LSIntEnum"))).ofNumber(6))&&(f==null?void 0:f.threadId)!=null){e==null?void 0:e((i||(i=d("I64"))).to_string(f==null?void 0:f.threadId));return}(f==null?void 0:f.threadTitle.length)>0&&!g.current&&(g.current=!0,r({linkHash:b,onClick:function(){Boolean(f.needsAdminApprovalForNewParticipant)||(p.current=d("ReQL").fromTableAscending(q.tables.threads).subscribe(function(a,c){c.operation!=="delete"&&(c.value.threadInviteLink!=null&&o(c.value.threadInviteLink)===b&&(e==null?void 0:e((i||(i=d("I64"))).to_string(c.value.threadKey)),p.current==null?void 0:p.current()))}))}},function(){g.current=!1}),k.current==null?void 0:k.current())}}))},b[2]=q,b[3]=e,b[4]=r,b[5]=a):a=b[5];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BrowserSupportCore",["getVendorPrefixedName"],(function(a,b,c,d,e,f){"use strict";a={hasCSSAnimations:function(){return!!b("getVendorPrefixedName")("animationName")},hasCSSTransforms:function(){return!!b("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function(){return!!b("getVendorPrefixedName")("perspective")},hasCSSTransitions:function(){return!!b("getVendorPrefixedName")("transition")}};c=a;f["default"]=c}),66);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName","memoize"],(function(a,b,c,d,e,f,g){var h,i,j,k=null;function l(){if((j||(j=c("ExecutionEnvironment"))).canUseDOM){k||(k=document.createElement("div"));return k}return null}b=function(a){return c("memoize")(function(){var b=l();return!b?!1:a(b)})};e=b(function(a){a.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;";return/sticky/.test(a.style.position)});f=b(function(a){return"scrollSnapType"in a.style||"webkitScrollSnapType"in a.style||"msScrollSnapType"in a.style});var m=b(function(a){return"scrollBehavior"in a.style});b=b(function(a){if(!("pointerEvents"in a.style))return!1;a.style.cssText="pointer-events:auto";return a.style.pointerEvents==="auto"});var n=(h=c("memoize"))(function(){return!(d("UserAgent_DEPRECATED").webkit()&&!d("UserAgent_DEPRECATED").chrome()&&d("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),o=h(function(){return!!a.blob}),p=h(function(){return(j||(j=c("ExecutionEnvironment"))).canUseDOM&&document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString().includes("SVGForeignObject")}),q=h(function(){return!!window.MutationObserver});h=h(function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},b=c("getVendorPrefixedName")("transition");return a[b]||null});var r=function(){return!!window.CanvasRenderingContext2D};g.hasCSSAnimations=(i=c("BrowserSupportCore")).hasCSSAnimations;g.hasCSSTransforms=i.hasCSSTransforms;g.hasCSS3DTransforms=i.hasCSS3DTransforms;g.hasCSSTransitions=i.hasCSSTransitions;g.hasPositionSticky=e;g.hasScrollSnapPoints=f;g.hasScrollBehavior=m;g.hasPointerEvents=b;g.hasFileAPI=n;g.hasBlobFactory=o;g.hasSVGForeignObject=p;g.hasMutationObserver=q;g.getTransitionEndEvent=h;g.hasCanvasRenderingContext2D=r}),98);
__d("DOMControl",["$","DataStore"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f,g){function h(a){return!/\S/.test(a||"")}function i(a){return h(a.value)}function a(a){return i(a)?"":a.value}function b(a){return a.value}function e(a,b){a.value=b||"";b=c("DOMControl").getInstance(a);b&&b.resetHeight&&b.resetHeight()}function f(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function j(a){a.value="",a.style.height=""}function k(a,b){d("CSS").conditionClass(a,"enter_submit",b)}function l(a){return d("CSS").hasClass(a,"enter_submit")}function m(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}g.isWhiteSpaceOnly=h;g.isEmpty=i;g.getValue=a;g.getValueRaw=b;g.setValue=e;g.setPlaceholder=f;g.reset=j;g.setSubmitOnEnter=k;g.getSubmitOnEnter=l;g.setMaxLength=m}),98);
__d("Form",["DOM","DOMQuery","DTSG","DTSGUtils","DataStore","FBLogger","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f,g){var h,i,j="FileList"in window,k="FormData"in window;function l(a){var b={};(h||(h=c("PHPQuerySerializer"))).serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=(i||(i=c("URI"))).decodeComponent(a[1]),e=a[2]!==void 0;e=e?(i||(i=c("URI"))).decodeComponent(a[2]):null;b[d]=e}});return b}var m={getInputs:function(a){a===void 0&&(a=document);return[].concat(d("DOMQuery").scry(a,"input"),d("DOMQuery").scry(a,"select"),d("DOMQuery").scry(a,"textarea"),d("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};m.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=c===void 0?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value===b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName==="FORM"&&a.elements!==a?Array.from(a.elements):m.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,b){m.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=c("DataStore").get(a,"origDisabledState");b?(d===void 0&&c("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=b):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,b,c){m.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var b=0,e=a.options.length;b<e;b++){var f=a.options[b];f.selected&&c("select",a.name,f.value)}return}if(a.type==="file"){if(j){f=a.files;for(b=0;b<f.length;b++)c("file",a.name,f.item(b))}return}c(a.type,a.name,d("Input").getValue(a))}),b&&b.name&&b.type==="submit"&&d("DOMQuery").contains(a,b)&&d("DOMQuery").isNodeOfType(b,["input","button"])&&c("submit",b.name,b.value)},createFormData:function(a,b){if(!k)return null;var d=new FormData();if(a)if(c("isNode")(a))m.forEachValue(a,b,function(a,b,c){d.append(b,c)});else{b=l(a);for(a in b)b[a]==null?d.append(a,""):d.append(a,b[a])}return d},serialize:function(a,b){var c={};m.forEachValue(a,b,function(a,b,d){if(a==="file")return;m._serializeHelper(c,b,d)});return m._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:m._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=m._serializeFix(a[b]));b=Object.keys(a);if(b.length===0||b.some(isNaN))return a;b.sort(function(a,b){return a-b});var c=0,d=b.every(function(a){return+a===c++});return d?b.map(function(b){return a[b]}):a},post:function(a,b,e,f){f===void 0&&(f=!0);a=new(i||(i=c("URI")))(a);var g=document.createElement("form");g.action=a.toString();g.method="POST";g.style.display="none";var h=!c("isFacebookURI")(a);if(e){if(h){g.rel="noreferrer";if(e==="_blank"){e=btoa(c("Random").uint32());var j=window.open("about:blank",e);j!==void 0&&(j.opener=null)}}g.target=e}if(f&&(!h&&a.getSubdomain()!=="apps")){j=d("DTSG").getToken();j&&(b.fb_dtsg=j,c("SprinkleConfig").param_name&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(j)));c("LSD").token&&(b.lsd=c("LSD").token,c("SprinkleConfig").param_name&&!j&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(c("LSD").token)))}m.createHiddenInputs(b,g);d("DOMQuery").getRootElement().appendChild(g);g.submit();return!1},post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES:function(a,b,c){m.post(a,b,c)},createHiddenInputs:function(a,b,d,e){e===void 0&&(e=!1);d=d||{};a=l(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=c("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;b.appendChild(g)}}return d},getFirstElement:function(a,b){b===void 0&&(b=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var e=[];for(var f=0;f<b.length;f++){e=d("DOMQuery").scry(a,b[f]);for(var g=0;g<e.length;g++){var h=e[g];try{var i=c("getElementPosition")(h);if(i.y>0&&i.x>0)return h}catch(a){}}}return null},focusFirst:function(a){a=m.getFirstElement(a);if(a){a.focus();return!0}return!1}};f.exports=m}),34);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);b.parseFiles=function(a){var b={};c("forEachObject")(a,function(a,c){if(Array.isArray(a))b[c]=a;else{b[c]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)b[c].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&b[c].push(a)}});return b};function b(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var e=b.prototype;e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setData=function(a){this._data=a;return this};e.setOption=function(a,b){this._option[a]=b;return this};e.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};e.setLimit=function(a){this._limit=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setRelativeTo=function(a){this._relativeTo=a;return this};e.setStatusElement=function(a){this._statusElement=a;return this};e.setURI=function(a){this._uri=a;return this};e.suspend=function(){this._suspended=!0;return this};e.resume=function(){this._suspended=!1;this._processQueue();return this};e.isUploading=function(){return this._inFlight};e._createFileUpload=function(a,b,c){return new h(a,b,c)};e._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};e._processUpload=function(a){var b=d("Form").createFormData(a.getData()||this._data);if(a.getFile()){b.append(a.getName(),a.getFile());var e=a.getFile().uploadID;e&&b.append("upload_id",e);a.getAdditionalData().forEach(function(a,c){return b.append(c,a)})}e=new(c("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(b).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var f in this._option)e.setOption(f,this._option[f]);for(f in this._customHeader)e.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&e.setRelativeTo(this._relativeTo);e.send();a.setAsyncRequest(e);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};e._abort=function(a){this._pending.indexOf(a)!==-1&&(c("removeFromArray")(this._pending,a),this._processQueue()),c("removeFromArray")(this._waiting,a),a.abort()};e._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};e._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};e._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};e._failure=function(a,b){if(a.isAborted())return;if(b.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(b))!==!1&&(this._preventDefaultErrorHandler||c("AsyncResponse").defaultErrorHandler(b));this._processQueue()};e._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};e._complete=function(a){c("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};b.isSupported=function(){return d("BrowserSupport").hasFileAPI()};return b}(c("mixin")(c("ArbiterMixin")));var h=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();g["default"]=a}),98);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b._files=null,b._uploads=[],b._fileLessUpload=null,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var d=b.prototype;d.setFiles=function(a){this._files=c("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)})};d.send=function(){var a=this;if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var b in this._files)this._files[b].forEach(function(c){a._uploads.push(a._createFileUpload(b,c))});this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};b.isSupported=function(){return c("AsyncUploadBase").isSupported()};return b}(c("AsyncUploadBase"));g["default"]=a}),98);
__d("CPXComposerConstants",[],(function(a,b,c,d,e,f){"use strict";a=120;b=68;c=90;d=160;e=10;var g=4;f.THUMBNAIL_WIDTH=a;f.THUMBNAIL_HEIGHT=b;f.REEL_THUMBNAIL_WIDTH=c;f.REEL_THUMBNAIL_HEIGHT=d;f.NUM_OF_THUMBNAILS=e;f.MAX_NUM_THUMBNAILS=g}),66);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("VideoThumbnail_UNTYPED",["invariant","vulture"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var c=a.prototype;c.getURL=function(){return this.$1};c.getData=function(){b("vulture")("a1B5XUEMmGR-xYeKTjqzsKYluSg="),g(0,4844)};a.addTextToCanvasContext=function(a,c,d,e,f,g,h,i,j){b("vulture")("qikNWy_gjGUk0GFVslGmB8bCVwk=");a.fillStyle=i;a.textAlign=j;a.font=g+"px "+h;i=j==="center"?e+f/2:e;h=1;j=c.split("\n");for(e of j){c="";j="";var k=e.split(" ");for(k of k){j+=k;var l=a.measureText(j).width,m=a.measureText(k).width;if(m>f){c.length>0&&(a.fillText(c,i,d+g*h),h++);m="";var n="";for(var o of k){n+=o;var p=a.measureText(n).width;p>f?(a.fillText(m,i,d+g*h),m=o,n=o,h++):m=n}c=m+" ";j=m+" "}else l>f?(a.fillText(c,i,d+g*h),c=k+" ",j=k+" ",h++):(j+=" ",c=j)}a.fillText(c,i,d+g*h);h++}return a};return a}();e.exports=a}),null);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","FBLogger","SubscriptionsHandler","TrustedTypesWebWorkerScriptURLPolicy","URI","WebWorkerConfig","XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder","XHRRequest","cr:951783","emptyFunction","err","filterObject","getCrossOriginTransport","getWorkerInitScriptSPINParams","gkx","isSameOrigin","justknobx","memoize","nullthrows","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("20935")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate(),this.$12()};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("20935")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.useInitScript&&b("gkx")("21112")||this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);if(this.$4.useInitScript&&b("gkx")("21112")){var a;a=b("nullthrows")((a=b("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder").buildUri({}).addQueryParams(b("getWorkerInitScriptSPINParams")()))==null?void 0:a.toString());var d=new window.URL(this.$4.url,window.location.href).href;if(d==null)throw b("err")("Can't start up worker without a resource url.");this.__worker=this.constructWorker(a,this.$4.name);this.__worker.postMessage({bundleUrl:d,doNotStartBundle:!0,isDev:!1,resource:this.$4,type:"sr-init"})}else this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,d){var e=!(this.$4.useInitScript&&b("gkx")("21112"));c.$16(a,this.$4.name,babelHelpers["extends"]({},d,{cross_page_transition:!!this.$9,state:this.$3}),e)};c.$18=function(a){return Object.keys(b("filterObject")({object_url:a&&c.$19(),data_url:a&&c.$20(),worker:c.isSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("isSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)b("justknobx")._("819")&&b("FBLogger")("static_resources").warn("trying to instantiate blob/data Url Worker %s %s",d.name,d.url),c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(b("gkx")("21112")&&d.useInitScript===!0)e();else{b("justknobx")._("819")&&b("FBLogger")("static_resources").warn("trying to instantiate blob/data Url Worker %s %s",d.name,d.url);if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length},!1)):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0},!1),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e)}return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&q()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e,f){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(g){g.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(f),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a,b){return m(a,b)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(c,d){return new a.Worker(b("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(c),d!=null?{name:d}:{})}var n=b("memoize")(function(){var a,c;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var d=m(a);d.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);
__d("dataURLToBlob",["BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","Promise","WebWorker"],(function(a,b,c,d,e,f,g){var h,i=a.URL||a.webkitURL||{};function e(a,e){if(!i.createObjectURL||!c("BlobFactory").isSupported)return(h||(h=b("Promise"))).reject("Browser doesn't support this feature");if(c("WebWorker").isSupported())return new(h||(h=b("Promise")))(function(b,d){var f=new(c("WebWorker"))(c("CanvasToBlobResource")).setMessageHandler(function(a){b(a),f.terminate()}).setErrorHandler(function(a){d(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:e})});else return(h||(h=b("Promise"))).resolve(d("CanvasToBlobImpl").getBlob(a,e))}g["default"]=e}),98);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f,g){var h;function a(a,d,e){return new(h||(h=b("Promise")))(function(b,f){if(a.toBlob)a.toBlob(b,d,e);else{var g=a.toDataURL(d,e);c("promiseDone")(c("dataURLToBlob")(g,d).then(function(a){b(a)},f))}})}g["default"]=a}),98);
__d("CanvasVideoThumbnail",["EventListener","Promise","VideoThumbnail_UNTYPED","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f,g){var h;a=function(a){babelHelpers.inheritsLoose(d,a);function d(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail$p_1=b;i.$CanvasVideoThumbnail$p_2=c;i.$CanvasVideoThumbnail$p_3=d;i.$CanvasVideoThumbnail$p_4=e;i.$CanvasVideoThumbnail$p_5=f;i.$CanvasVideoThumbnail$p_6=g;i.$CanvasVideoThumbnail$p_7=h;i.$CanvasVideoThumbnail$p_8=i.$CanvasVideoThumbnail$p_1.toDataURL("image/jpeg");return i}var e=d.prototype;e.getCanvas=function(){return this.$CanvasVideoThumbnail$p_1};e.getTime=function(){return this.$CanvasVideoThumbnail$p_3?this.$CanvasVideoThumbnail$p_3:0};e.getURL=function(){this.$CanvasVideoThumbnail$p_8||(this.$CanvasVideoThumbnail$p_8=this.$CanvasVideoThumbnail$p_1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail$p_8};e.getData=function(){var a=this,d=document.createElement("canvas"),e=d.getContext("2d"),f=this.$CanvasVideoThumbnail$p_2;return new(h||(h=b("Promise")))(function(b,g){var h=c("EventListener").listen(f,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail$p_9(d,e),c("promiseDone")(c("canvasToBlob")(d,"image/jpeg").then(b,g))});f.currentTime=a.$CanvasVideoThumbnail$p_3})};e.getDataWithText=function(a,d,e,f,g,i,j,k){var l=this,m=document.createElement("canvas"),n=m.getContext("2d"),o=this.$CanvasVideoThumbnail$p_2;return new(h||(h=b("Promise")))(function(b,h){var p=c("EventListener").listen(o,"seeked",function(){p.remove(),n.fillStyle=j,n.textAlign=k,l.$CanvasVideoThumbnail$p_9(m,n),n=c("VideoThumbnail_UNTYPED").addTextToCanvasContext(n,a,d,e,f,g,i,j,k),c("promiseDone")(c("canvasToBlob")(m,"image/jpeg").then(b,h))});o.currentTime=l.$CanvasVideoThumbnail$p_3})};e.$CanvasVideoThumbnail$p_9=function(a,b){var c=this.$CanvasVideoThumbnail$p_2;this.$CanvasVideoThumbnail$p_4||this.$CanvasVideoThumbnail$p_5?(a.width=this.$CanvasVideoThumbnail$p_4?this.$CanvasVideoThumbnail$p_4:c.videoWidth,a.height=this.$CanvasVideoThumbnail$p_5?this.$CanvasVideoThumbnail$p_5:c.videoHeight,this.$CanvasVideoThumbnail$p_10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};e.$CanvasVideoThumbnail$p_10=function(a,b){var c=this.$CanvasVideoThumbnail$p_2,d=this.$CanvasVideoThumbnail$p_6,e=this.$CanvasVideoThumbnail$p_7,f=this.$CanvasVideoThumbnail$p_4?this.$CanvasVideoThumbnail$p_4:a.width,g=this.$CanvasVideoThumbnail$p_5?this.$CanvasVideoThumbnail$p_5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return d}(c("VideoThumbnail_UNTYPED"));g["default"]=a}),98);
__d("shield",[],(function(a,b,c,d,e,f){function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(typeof a!=="function")throw new TypeError("shield expects a function as the first argument");return function(){return a.apply(b,d)}}f["default"]=a}),66);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","DOMQuery","DataStore","Event","FBLogger","Form","Parent","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._allowCrossOrigin=!1;g._allowCrossPageTransition=!1;g._uploadInParallel=!1;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){g._clickTarget=a;c("setTimeout")(g._unclick,0);break}a=a.parentNode}};g._unclick=function(){g._clickTarget=null};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw c("FBLogger")("FileForm","primer-only").mustfixThrow("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw c("FBLogger")("FileForm","post-only").mustfixThrow("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click)];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.submit=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,c){b.progress(c,c.getProgressEvent())}),e.subscribe("initial",function(a,c){b.initial(c)}),e.subscribe("success",function(a,c){b.success(c,c.getResponse())}),e.subscribe("start",function(a,c){b.inform("start",{upload:c})}),e.subscribe("failure",function(a,c){b.failure(c,c.getResponse());return!1}),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else(function(){var a,f=b._files;if(f){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));var g=c("AsyncUploadRequest").parseFiles(f);f=function(b){var c=g[b];c.length===1?a.append(b,c[0]):(b+="[]",c.forEach(function(c){a.append(b,c)}));b};for(var h in g)f(h)}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(function(a){return b.success(null,a)}).setErrorHandler(function(a){return b.failure(null,a)}).setUploadProgressHandler(function(a){return b.progress(null,a)}).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})();e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};b=a;f["default"]=b}),66);
__d("ImageExif",["exif-js","vulture"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){b("vulture")("jfJj0OxtaQS23dtNAa6Ux_EwezA=");var c=function(c){b("vulture")("8F4iLDRkom8J18_Npp9oMWLeDL0=");return a.charCodeAt(c)&255};this.getByteAt=c;this.getShortAt=function(a,c){b("vulture")("TeU6NItY5ANxAZydB6TwOqiL6bY=");a=this.getSShortAt(a,c);return a>0?a:a+65536};this.getSShortAt=function(a,d){b("vulture")("S4t94uk7tzwYl5k8oJz00fs8vl0=");var e=c(a);a=c(a+1);return d?(e<<8)+a:(a<<8)+e};this.getLongAt=function(a,c){b("vulture")("2Q-5gBtdRhPNNCFecrVNr8DZJMk=");a=this.getSLongAt(a,c);return a>0?a:a+4294967296};this.getSLongAt=function(a,d){b("vulture")("EoPgIRKY39sdRScK6YFgkDLj7Sw=");var e=c(a),f=c(a+1),g=c(a+2);a=c(a+3);return d?(((e<<8)+f<<8)+g<<8)+a:(((a<<8)+g<<8)+f<<8)+e};this.getStringAt=function(c,d){b("vulture")("woG_qxb_3fmLzMCtRNbGb-1tmBw=");return a.substr(c,d)};this.getLength=function(){b("vulture")("5DiADBCRPZk7Ra8zshGxcjYCbzU=");return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){b("vulture")("b8G7o959xanJZN7AwUHW_lILvuo=");return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(a of this.$1)this.$3(a)}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c of this.$1){var d=this.$3(c);try{return d(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","StringEncoding","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";b=function(){function b(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var e=b.prototype;e.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=h[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};e.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,i)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+i.length,b-2-i.length)):this.$11(a+4,j)?(this.$1=a,this.$2=b,this.$13(a+4+j.length,b-2-j.length)):this.$11(a+4,k)&&this.$14(a+4+k.length,b-2-k.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};e.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};e.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");var e=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}b={};for(a in e){var f=e[a];typeof f==="string"&&(f=f.trim());b[a.trim()]=f}this.$3=b};e.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};e.$14=function(a){};e.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};e.$9=function(a){for(a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};e.hasAPP1=function(){return Boolean(this.$1)};e.hasExif=function(){return Boolean(this.$3)};e.hasXMP=function(){return Boolean(this.$4)};e.hasSize=function(){return Boolean(this.$5)};e.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};e.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};e.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};e.getXMPString=function(){return this.$4};e.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};e.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};b.genMetadataFromBlob=async function(a){return new b(await b.$16(a))};b.$16=function(b){return new Promise(function(c,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=c;e.readAsArrayBuffer(b)})};return b}();var h=[];h[216]={name:"SOI",length:0};h[192]={name:"SOF0"};h[193]={name:"SOF1"};h[194]={name:"SOF2"};h[195]={name:"SOF3"};h[197]={name:"SOF5"};h[198]={name:"SOF6"};h[199]={name:"SOF7"};h[200]={name:"JPG"};h[201]={name:"SOF9"};h[202]={name:"SOF10"};h[203]={name:"SOF11"};h[205]={name:"SOF13"};h[206]={name:"SOF14"};h[207]={name:"SOF15"};h[196]={name:"DHT"};h[219]={name:"DQT"};h[221]={name:"DRI",length:2};h[218]={name:"SOS"};h[208]={name:"RST0",length:0};h[209]={name:"RST1",length:0};h[210]={name:"RST2",length:0};h[211]={name:"RST3",length:0};h[212]={name:"RST4",length:0};h[213]={name:"RST5",length:0};h[214]={name:"RST6",length:0};h[215]={name:"RST7",length:0};h[224]={name:"APP0"};h[225]={name:"APP1"};h[226]={name:"APP2"};h[227]={name:"APP3"};h[228]={name:"APP4"};h[229]={name:"APP5"};h[230]={name:"APP6"};h[231]={name:"APP7"};h[232]={name:"APP8"};h[233]={name:"APP9"};h[234]={name:"APP10"};h[235]={name:"APP11"};h[236]={name:"APP12"};h[237]={name:"APP13"};h[238]={name:"APP14"};h[239]={name:"APP15"};h[254]={name:"COM"};h[217]={name:"EOI",length:0};var i="Exif\0\0",j="http://ns.adobe.com/xap/1.0/\0",k="http://ns.adobe.com/xmp/extension/\0";g.default=b}),98);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=h(a).length;a=i(a).length;return b>a}function b(a){return h(a).length>0}function d(a){return j(a).length>0}function h(a){return k(a,c("VideoUploadConfig").videoExtensions)}function i(a){var b={gif:!0};return k(a,b)}function j(a){var b={};Object.keys(c("ComposerXNativeAudioUploadsConfig").audioExtensions).forEach(function(a){b[a]=c("ComposerXNativeAudioUploadsConfig").audioExtensions[a]!==0});return k(a,b)}function k(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?(a=(a=a.split(".").pop())==null?void 0:a.toLowerCase())!=null?a:"":"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=h;g.filterNonEditableVideos=i;g.filterAudioFiles=j;g.filterFileOfSupportedType=k}),98);
__d("ResumableUploadServiceState.enum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});f["default"]=a}),66);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=2048;d=function(){function d(){}d.genArrayBufferFromBlob=function(c){return new(h||(h=b("Promise")))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})};d.shouldCheckInServer=function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<i||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0};d.genPhotosphereMetadata=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){c("promiseDone")(d.genArrayBufferFromBlob(a),function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?c("promiseDone")(d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}),function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})};d.genPhotosphereMetadataFromServer=function(a,d,e){var f=this;return new(h||(h=b("Promise")))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})};d.getExifString=function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})};d.getMayContainSphericalMetadata=function(a){return a!==""&&a.indexOf("GPano:")>-1};return d}();g["default"]=d}),98);
__d("SphericalImage",["SphericalImageUtils"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=async function(a){a=await c("SphericalImageUtils").genPhotosphereMetadata(a);return new this(a)};var b=a.prototype;b.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};b.getImageMetadata=function(){return this.props.imageMetadata};b.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};b.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};b.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};b.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g.default=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var b=a.prototype;b.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,b=this.$1.clientHeight||this.$1.height,d=a,e=b,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:b,0,0,a,b)}else g.drawImage(this.$2,(a-d)/2,(b-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};b.getDOMNode=function(){return this.$1};b.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();g["default"]=a}),98);
__d("curry",["bind"],(function(a,b,c,d,e,f,g){a=c("bind")(null,c("bind"),null);b=a;g["default"]=b}),98);
__d("loadImageFromBlob",["Promise"],(function(a,b,c,d,e,f){var g;function a(a){return new(g||(g=b("Promise")))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b(d)};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}f["default"]=a}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","loadImageFromBlob","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=a.URL||a.webkitURL||{};b=function(){function a(a){this.$6=!1,this.$21={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$7=a.onUploadEnqueued||c("emptyFunction"),this.$8=a.onUploadsEnqueued||c("emptyFunction"),this.$9=a.onResizeStart||c("emptyFunction"),this.$12=a.onResizeProgress||c("emptyFunction"),this.$10=a.onResizeSuccess||c("emptyFunction"),this.$11=a.onResizeFailure||c("emptyFunction"),this.$13=a.onSphericalCheckFailure||c("emptyFunction"),this.$14=a.onSphericalCheckSuccess||c("emptyFunction"),this.$15=a.onUploadIsSpherical||c("emptyFunction"),this.$16=a.onUploadSent||c("emptyFunction"),this.$17=a.onUploadStart||c("emptyFunction"),this.$18=a.onUploadProgress||c("emptyFunction"),this.$19=a.onUploadSuccess||c("emptyFunction"),this.$20=a.onUploadFailure||c("emptyFunction"),this.$6=a.preventDefaultErrorHandler}var b=a.prototype;b.setUploadEndpoint=function(a){this.$1=a};b.setOption=function(a,b){this.$21[a]=b;return this};b.getUploadData=function(){return this.$2};b.setUploadData=function(a){this.$2=a};b.upload=function(a,b){var e=this;b||0;b=babelHelpers.extends({},this.$2);var f=null;if(!this.$22(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$7({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:i.createObjectURL?i.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$7({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:i.createObjectURL?i.createObjectURL(a):null})})}this.$8();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$23.bind(this)):g.setPreprocessHandler(this.$24.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$18(e.$25(c,a),c)});g.subscribe("failure",function(b,c){return e.$20(e.$25(c,a),c,f)});g.subscribe("start",function(b,c){return e.$17(e.$25(c,a),c)});g.subscribe("success",function(b,c){return e.$19(e.$25(c,a),c)});try{g.send(),this.$16(a)}catch(a){throw a}};b.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$7({fileName:a.name,fileURL:i.createObjectURL?i.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c,this.$6===!0?{preventDefaultErrorHandler:this.$6}:void 0);a.send()};b.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$26(a,c);c.subscribe("start",function(c,e){c=(c=d.$25({upload:e},{}))!=null?c:d.$27(a,b,e);d.$17(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$25({upload:e},{}))!=null?c:d.$27(a,b,e);d.$18(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$25({upload:e},{}))!=null?c:d.$27(a,b,e);d.$19(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$25({upload:e},{}))!=null?c:d.$27(a,b,e);return d.$20(c,{upload:e,response:e.getResponse()},a)});return c};b.getAsyncUploadRequest=function(a,b){var c=this;b=this.$26(a,b);b.subscribe("start",function(a,b){return c.$17(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$19(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$20(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};b.$26=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers.extends({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5?a.setPreprocessHandler(this.$23.bind(this)):a.setPreprocessHandler(this.$24.bind(this));for(b in this.$21)a.setOption(b,this.$21[b]);return a};b.$27=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};b.$25=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};b.$24=function(a,b){var d=this;c("promiseDone")(async function(){return await d.$28(a,b)}())};b.$28=async function(a,b){var c=a.getFile();c=await this.$29(c);var d=a.getFile().uploadID;c&&c.isSpherical()?this.$15(c.isSpherical(),c,d):this.$15(!1,null,"");b(a)};b.$23=function(a,b){var d=this;c("promiseDone")(async function(){return await d.$30(a,b)}())};b.$29=async function(a){var b=(h||(h=c("performanceNow")))();try{var d=await c("SphericalImage").createFromBlob(a);this.$14(a,(h||(h=c("performanceNow")))()-b,d);return d}catch(d){this.$13(a,(h||(h=c("performanceNow")))()-b);return null}};b.$31=function(a){return this.$32(this.$5.resizeBlob.bind(this.$5),a)};b.$33=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$32(this.$5.resize360Blob.bind(this.$5),a,b)};b.$34=function(a){return c("loadImageFromBlob")(a).then(function(a){return{width:a.width,height:a.height}})};b.$32=function(a,b,d){var e=this,f=c("curry")(this.$12,b.uploadID),g=c("curry")(this.$9,b),h=function(){return e.$34(b).then(g)};return new Promise(function(c,e){h(),a(b,function(a,b,d,f,g,h,i){a?e(a):d?c({originalWidth:f,originalHeight:g}):c({blob:b,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},f,d)})};b.$30=async function(a,b){var e=a.getFile(),f=this.$5.isEligible(e==null?void 0:e.size,e==null?void 0:e.type);if(!e||!d("PhotosMimeType").isJpeg(e.type)||!f){this.$15(!1,null,"");e&&c("promiseDone")(this.$34(e).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",e.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));b(a);return}f=(h||(h=c("performanceNow")))();var g,i;try{var j=null;j=await this.$29(e);if(j&&j.isSpherical()){this.$15(!0,j,e.uploadID);var k=j.getSize(),l=c("SphericalPhotoTypedConfig").upload_size_limit,m=j.getProjectionType(),n=!1;n=d("SphericalPhotoUploadHelper").shouldRecompress360(m,j.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);j=d("SphericalPhotoUploadHelper").shouldResize360(m,k,l);k&&(j||n)&&(!j?g=await this.$33(e,Math.max(k.x,k.y)-1):g=await this.$33(e))}else this.$15(!1,null,""),g=await this.$31(e);g&&(g.blob!=null&&(i=g.blob,i.uploadID=e.uploadID,i.name=e.name,a.setFile(i)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",e.size).set("original_width",g.originalWidth).set("original_height",g.originalHeight).set("upload_width",g.outputWidth).set("upload_height",g.outputHeight));m=i===null;a.getFile().filename=e.name;this.$10(e,i||e,m,(h||(h=c("performanceNow")))()-f,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"))}catch(a){l=(h||(h=c("performanceNow")))()-f;this.$11(e,i||e,a,l)}b(a)};b.$22=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g.default=b}),98);
__d("generateVideoThumbnails",["CPXComposerConstants","CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281"],(function(a,b,c,d,e,f,g){var h,i=.5625;function a(a,d,e,f,g,i,o,p,q,r){g===void 0&&(g="contain");i===void 0&&(i=0);o===void 0&&(o=null);p===void 0&&(p=null);q===void 0&&(q=null);r===void 0&&(r=null);return new(h||(h=b("Promise")))(function(h,s){var t=document.createElement("canvas"),u=[],v=0,w=a.duration-i;r!=null&&(w=Math.min(w,r));var x=w/f,y=null,z=null,A,B=(w=p)!=null?w:j(o,d),C=(w=q)!=null?w:k(o,e),D=l(o,d),E=m(o,e);t.width=(w=B)!=null?w:d;t.height=(w=C)!=null?w:e;var F=new(c("VideoFrameBuffer"))(t,a,g,B,C,D,E);F.updateFrameBuffer();var G=function(){F.updateFrameBuffer();var b=new(c("CanvasVideoThumbnail"))(t,a,i+(v-1)*x,B,C,D,E);u.push(b);(!y||b.getURL().length>y.getURL().length)&&(y=b,z=n(o,a));I()},H=function(){if(a.readyState>=c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)G();else if(b("cr:909281")!==null)var d=b("cr:909281").listen(a,"loadeddata",function(){d.remove(),G()});else a.addEventListener("loadeddata",G,{once:!0})},I=function(){v===0&&(b("cr:909281")!==null?A=b("cr:909281").listen(a,"seeked",H):a.addEventListener("seeked",H)),v<f?(a.currentTime=i+v*x,v++):(b("cr:909281")!==null?A&&A.remove():a.removeEventListener("seeked",H),h({thumbnails:u,selectedThumbnail:y,croppedThumbnailUri:z}))};if(a.videoWidth===0||a.videoHeight===0){s();return}I()})}function j(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function k(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function l(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function m(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}function n(a,b){var c=b.videoWidth!=null&&b.videoHeight!=null?b.videoWidth/b.videoHeight:i,e=c<1;if(a==null&&!e){a=document.createElement("canvas");e=a.getContext("2d");var f=b.videoWidth,g=b.videoHeight;a.width=f;a.height=g;e.drawImage(b,0,0,f,g);e=document.createElement("canvas");c>=1&&c<1.2?(b=f*(d("CPXComposerConstants").REEL_THUMBNAIL_WIDTH/d("CPXComposerConstants").REEL_THUMBNAIL_HEIGHT),c=g):(b=g,c=f);e.width=b;e.height=c;var h=e.getContext("2d");h.drawImage(a,0,0,f,g,0,0,b,c);return e.toDataURL("image/jpeg")}return null}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var EmscriptenEH=function(_Error){"use strict";babelHelpers.inheritsLoose(EmscriptenEH,_Error);function EmscriptenEH(){return _Error.apply(this,arguments)||this;}return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var EmscriptenSjLj=function(_EmscriptenEH){"use strict";babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}return EmscriptenSjLj;}(EmscriptenEH);var CppException=function(_EmscriptenEH2){"use strict";babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}return CppException;}(EmscriptenEH);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx)){++endPtr;}if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var warnOnce=function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx]){++idx;}endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";babelHelpers.inheritsLoose(BindingError,_Error2);function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";babelHelpers.inheritsLoose(InternalError,_Error3);function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
__d("LSComputeOptimisticThreadCapabilities",["LSArrayGetObjectAt","LSComputeParticipantCapabilities","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.createArray(),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return c.forEach(c.db.table(14).fetch([[[a[0],{lt:d[1]}],[a[0],{gt:d[1]}]]]),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),f.contactId,a[0]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=(d[0].push(d[33]),d[0])}])})},function(a){return d[2]=c.i64.cast([0,1073741823]),d[3]=c.i64.of_int32(d[0].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[0],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[2]=c.i64.and_(d[2],d[34])}])}):c.resolve()},function(b){return d[4]=c.i64.of_int32(d[0].length),c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[33]=!1:(e=b.item,d[33]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[5]=d[33]}]):(e=b.item,d[5]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[7]=c.i64.cast([0,1083495711]),d[8]=c.i64.cast([0,1024]),d[9]=c.i64.cast([0,0]),d[10]=c.i64.cast([0,0]),d[11]=c.i64.cast([0,0]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[12]=!1:(b=a.item,d[12]=c.i64.eq(b.contactReachabilityStatusType,c.i64.cast([0,12]))?!0:!1)})},function(b){return d[14]=c.i64.cast([0,1083495711]),d[15]=c.i64.cast([0,1024]),d[16]=c.i64.cast([0,0]),d[17]=c.i64.cast([0,134217728]),d[18]=c.i64.cast([0,0]),d[19]=c.i64.cast([0,8650752]),d[20]=c.i64.cast([0,1024]),d[21]=c.i64.cast([0,0]),d[22]=c.i64.cast([0,0]),d[23]=c.i64.cast([0,0]),d[32]=d[5]?d[19]:d[14],c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[32],c.i64.cast([0,1])],d[24]=e[0],d[25]=e[1],e):(b=a.item,e=[d[32],b.threadType],d[24]=e[0],d[25]=e[1],e)})},function(a){return d[27]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))),d[28]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,23]))),d[29]=c.createArray(),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,6]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,6]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,0]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,7]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,7]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,1]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,72]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,72]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,8]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,8]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,2]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,9]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,9]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,10]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,4]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,5]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,5]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,8]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,11]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,11]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,14]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,12]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,15]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,13]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,13]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,18]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,14]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,14]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,15]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,15]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,23]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,3]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(void 0,void 0)||c.i64.neq(c.i64.and_(c.i64.cast([0,0]),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,30]))):c.i64.cast([0,0])),d[29]),d[30]=c.i64.cast([0,0]),d[31]=c.i64.of_int32(d[29].length),c.i64.gt(d[31],c.i64.cast([0,0]))?c.loopAsync(d[31],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[30]=c.i64.add(d[30],d[34])}])}):c.resolve()},function(a){return e[0]=c.i64.and_(d[30],c.i64.and_(c.i64.and_((c.i64.eq(d[25],c.i64.cast([0,1]))?c.i64.eq(d[4],c.i64.cast([0,0])):!0)?c.i64.eq(c.i64.and_(d[24],d[27]),c.i64.cast([0,0]))?d[24]:c.i64.sub(d[24],d[27]):d[24],c.i64.eq(d[25],c.i64.cast([0,2]))?c.i64.eq(c.i64.and_(d[24],d[28]),c.i64.cast([0,0]))?d[24]:c.i64.sub(d[24],d[28]):d[24]),(c.i64.eq(d[25],c.i64.cast([0,1]))?c.i64.neq(d[4],c.i64.cast([0,0])):!1)?d[24]:c.i64.xor(d[24],c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))))))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure";a.__tables__=["participants","threads","contacts"];e.exports=a}),null);
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSGetViewerFBID","LSInsertQuickReplyCTA","LSIssueNewTask","LSLocalApplyOptimisticMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=new c.Map(),d[26]="product_type",d[21]=d[19].get(d[26]),d[21]!==void 0?d[20].set(d[26],d[21]):0,d[27]="product_extras",d[22]=d[19].get(d[27]),d[22]?d[23]=!1:d[23]=!0,d[23]?c.resolve():c.sequence([function(a){return d[22]?d[28]=!1:d[28]=!0,d[28]?c.resolve(d[29]=void 0):c.sequence([function(a){return d[30]=d[22].get("__typename"),d[30]==="XMSGStoryReplyExtras"?c.resolve((d[32]=new c.Map(),d[35]="logging",d[33]=d[22].get(d[35]),d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[36]=!1:d[36]=!0,d[36]?d[37]=void 0:(d[38]=new c.Map(),d[46]="story_author_fbid",d[39]=d[33].get(d[46]),d[39]!==void 0?d[38].set(d[46],d[39]):0,d[47]="camera_post_type",d[40]=d[33].get(d[47]),d[40]!==void 0?d[38].set(d[47],d[40]):0,d[48]="story_type",d[41]=d[33].get(d[48]),d[41]!==void 0?d[38].set(d[48],d[41]):0,d[49]="post_source",d[42]=d[33].get(d[49]),d[42]!==void 0?d[38].set(d[49],d[42]):0,d[50]="fb_post_type",d[43]=d[33].get(d[50]),d[43]!==void 0?d[38].set(d[50],d[43]):0,d[51]="conversation_starter_type",d[44]=d[33].get(d[51]),d[44]!==void 0?d[38].set(d[51],d[44]):0,d[52]="story_reply_type",d[45]=d[33].get(d[52]),d[45]!==void 0?d[38].set(d[52],d[45]):0,d[37]=d[38]),d[32].set(d[35],d[37])),d[31]=d[32])):c.sequence([function(a){return d[30]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[33]=new c.Map(),d[52]="listing_id",d[34]=d[22].get(d[52]),d[34]!==void 0?d[33].set(d[52],d[34]):0,d[53]="initial_clicked_component",d[35]=d[22].get(d[53]),d[35]!==void 0?d[33].set(d[53],d[35]):0,d[54]="initial_tracking",d[36]=d[22].get(d[54]),d[36]!==void 0?d[33].set(d[54],d[36]):0,d[55]="referral_surface",d[37]=d[22].get(d[55]),d[37]!==void 0?d[33].set(d[55],d[37]):0,d[56]="referral_story_type",d[38]=d[22].get(d[56]),d[38]!==void 0?d[33].set(d[56],d[38]):0,d[57]="referral_ui_component",d[39]=d[22].get(d[57]),d[39]!==void 0?d[33].set(d[57],d[39]):0,d[58]="surface",d[40]=d[22].get(d[58]),d[40]!==void 0?d[33].set(d[58],d[40]):0,d[59]="tracking",d[41]=d[22].get(d[59]),d[41]!==void 0?d[33].set(d[59],d[41]):0,d[60]="ui_component",d[42]=d[22].get(d[60]),d[42]!==void 0?d[33].set(d[60],d[42]):0,d[61]="ad_id",d[43]=d[22].get(d[61]),d[43]!==void 0?d[33].set(d[61],d[43]):0,d[62]="server_session_id",d[44]=d[22].get(d[62]),d[44]!==void 0?d[33].set(d[62],d[44]):0,d[63]="cf_page_id",d[45]=d[22].get(d[63]),d[45]!==void 0?d[33].set(d[63],d[45]):0,d[64]="live_shopping_video_id",d[46]=d[22].get(d[64]),d[46]!==void 0?d[33].set(d[64],d[46]):0,d[65]="logging_id",d[47]=d[22].get(d[65]),c.i64.neq(d[47],void 0)?d[33].set(d[65],d[47]):0,d[66]="photo_ids",d[48]=d[22].get(d[66]),d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[69]=c.createArray(),d[70]=c.i64.of_int32(d[48].length),c.i64.gt(d[70],c.i64.cast([0,0]))?c.loopAsync(d[70],function(a){return d[71]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[71]).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[74]=(d[69].push(d[72]),d[69])}])}):c.resolve()},function(a){return d[33].set(d[66],d[69])}])},function(a){return d[67]="is_customized_message",d[50]=d[22].get(d[67]),d[50]!==void 0?d[33].set(d[67],d[50]):0,d[68]="referral_code",d[51]=d[22].get(d[68]),d[51]!==void 0?d[33].set(d[68],d[51]):0,d[32]=d[33]}]):c.sequence([function(a){return d[30]==="XMSGClickToMessengerAdExtras"?c.resolve((d[34]=new c.Map(),d[45]="encrypted_ads_token",d[35]=d[22].get(d[45]),d[35]!==void 0?d[34].set(d[45],d[35]):0,d[46]="product_type",d[36]=d[22].get(d[46]),d[36]!==void 0?d[34].set(d[46],d[36]):0,d[47]="post_id",d[37]=d[22].get(d[47]),d[37]!==void 0?d[34].set(d[47],d[37]):0,d[48]="ad_id",d[38]=d[22].get(d[48]),d[38]!==void 0?d[34].set(d[48],d[38]):0,d[49]="page_id",d[39]=d[22].get(d[49]),d[39]!==void 0?d[34].set(d[49],d[39]):0,d[50]="photo_id",d[40]=d[22].get(d[50]),d[40]!==void 0?d[34].set(d[50],d[40]):0,d[51]="photo_index",d[41]=d[22].get(d[51]),c.i64.neq(d[41],void 0)?d[34].set(d[51],d[41]):0,d[52]="fallback_url",d[42]=d[22].get(d[52]),d[42]!==void 0?d[34].set(d[52],d[42]):0,d[53]="product_id",d[43]=d[22].get(d[53]),d[43]!==void 0?d[34].set(d[53],d[43]):0,d[54]="user_id",d[44]=d[22].get(d[54]),d[44]!==void 0?d[34].set(d[54],d[44]):0,d[33]=d[34])):c.sequence([function(a){return d[30]==="XMSGZorroMessageExtras"?c.resolve((d[35]=new c.Map(),d[37]="is_enabled",d[36]=d[22].get(d[37]),d[36]!==void 0?d[35].set(d[37],d[36]):0,d[34]=d[35])):c.sequence([function(a){return d[30]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[36]=new c.Map(),d[39]="prompt_type",d[37]=d[22].get(d[39]),d[37]!==void 0?d[36].set(d[39],d[37]):0,d[40]="qpl_join_id",d[38]=d[22].get(d[40]),d[38]!==void 0?d[36].set(d[40],d[38]):0,d[35]=d[36])):c.sequence([function(a){return d[30]==="XMSGGenAIMultiModalExtras"?c.resolve((d[37]=new c.Map(),d[41]="should_skip_genai_eval",d[38]=d[22].get(d[41]),d[38]!==void 0?d[37].set(d[41],d[38]):0,d[42]="associated_multimodal_message_id",d[39]=d[22].get(d[42]),d[39]!==void 0?d[37].set(d[42],d[39]):0,d[43]="qpl_join_id",d[40]=d[22].get(d[43]),d[40]!==void 0?d[37].set(d[43],d[40]):0,d[36]=d[37])):c.sequence([function(a){return d[30]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[38]=new c.Map(),d[41]="seed",d[39]=d[22].get(d[41]),c.i64.neq(d[39],void 0)?d[38].set(d[41],d[39]):0,d[42]="qpl_join_id",d[40]=d[22].get(d[42]),d[40]!==void 0?d[38].set(d[42],d[40]):0,d[37]=d[38])):c.sequence([function(a){return d[30]==="XMSGShareSheetExtras"?c.resolve((d[39]=new c.Map(),d[41]="recipient_selection_session_id",d[40]=d[22].get(d[41]),d[40]!==void 0?d[39].set(d[41],d[40]):0,d[38]=d[39])):c.sequence([function(a){return d[30]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[40]=new c.Map(),d[72]="referrer_session_id",d[41]=d[22].get(d[72]),d[41]!==void 0?d[40].set(d[72],d[41]):0,d[73]="thread_session_id",d[42]=d[22].get(d[73]),d[42]!==void 0?d[40].set(d[73],d[42]):0,d[74]="prompt_id",d[43]=d[22].get(d[74]),d[43]!==void 0?d[40].set(d[74],d[43]):0,d[75]="prompt_type",d[44]=d[22].get(d[75]),d[44]!==void 0?d[40].set(d[75],d[44]):0,d[76]="prompt_fit_topic",d[45]=d[22].get(d[76]),d[45]!==void 0?d[40].set(d[76],d[45]):0,d[77]="location_extras",d[46]=d[22].get(d[77]),d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[102]="has_previous_perm_prompt",d[99]=d[46].get(d[102]),d[99]!==void 0?d[98].set(d[102],d[99]):0,d[103]="latitude",d[100]=d[46].get(d[103]),d[100]!==void 0?d[98].set(d[103],d[100]):0,d[104]="longitude",d[101]=d[46].get(d[104]),d[101]!==void 0?d[98].set(d[104],d[101]):0,d[97]=d[98]),d[40].set(d[77],d[97])),d[78]="qpl_join_id",d[48]=d[22].get(d[78]),d[48]!==void 0?d[40].set(d[78],d[48]):0,d[79]="meta_ai_prompt_type",d[49]=d[22].get(d[79]),d[49]!==void 0?d[40].set(d[79],d[49]):0,d[80]="is_subsequent_send",d[50]=d[22].get(d[80]),d[50]!==void 0?d[40].set(d[80],d[50]):0,d[81]="context_injection_type",d[51]=d[22].get(d[81]),d[51]!==void 0?d[40].set(d[81],d[51]):0,d[82]="context_injection_timestamp_ms",d[52]=d[22].get(d[82]),d[52]!==void 0?d[40].set(d[82],d[52]):0,d[83]="meta_ai_response_to_persist",d[53]=d[22].get(d[83]),d[53]?d[54]=!1:d[54]=!0,d[54]?c.resolve():c.sequence([function(a){return d[53]?d[96]=!1:d[96]=!0,d[96]?c.resolve(d[97]=void 0):c.sequence([function(a){return d[98]=new c.Map(),d[105]="text",d[99]=d[53].get(d[105]),d[99]!==void 0?d[98].set(d[105],d[99]):0,d[106]="bot_response_id",d[100]=d[53].get(d[106]),d[100]!==void 0?d[98].set(d[106],d[100]):0,d[107]="bot_request_id",d[101]=d[53].get(d[107]),d[101]!==void 0?d[98].set(d[107],d[101]):0,d[108]="external_search_params",d[102]=d[53].get(d[108]),d[102]?d[103]=!1:d[103]=!0,d[103]?c.resolve():c.sequence([function(a){return d[102]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[120]="search_result_uri",d[113]=d[102].get(d[120]),d[113]?d[114]=!1:d[114]=!0,d[114]?c.resolve():c.sequence([function(a){return d[113]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[113].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[113],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[120],d[126])}])},function(a){return d[121]="search_query",d[115]=d[102].get(d[121]),d[115]!==void 0?d[112].set(d[121],d[115]):0,d[122]="attribution_link",d[116]=d[102].get(d[122]),d[116]!==void 0?d[112].set(d[122],d[116]):0,d[123]="search_engine",d[117]=d[102].get(d[123]),d[117]!==void 0?d[112].set(d[123],d[117]):0,d[124]="references_title",d[118]=d[102].get(d[124]),d[118]?d[119]=!1:d[119]=!0,d[119]?c.resolve():c.sequence([function(a){return d[118]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[118].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[118],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[124],d[126])}])},function(a){return d[111]=d[112]}])},function(a){return d[98].set(d[108],d[111])}])},function(a){return d[109]="followup_prompt_text",d[104]=d[53].get(d[109]),d[104]!==void 0?d[98].set(d[109],d[104]):0,d[97]=d[98]}])},function(a){return d[40].set(d[83],d[97])}])},function(a){return d[84]="gql_dark_test_qpl_join_id",d[55]=d[22].get(d[84]),d[55]!==void 0?d[40].set(d[84],d[55]):0,d[85]="gql_dark_test_client_start_time",d[56]=d[22].get(d[85]),d[56]!==void 0?d[40].set(d[85],d[56]):0,d[86]="prompt_context",d[57]=d[22].get(d[86]),d[57]?d[58]=!1:d[58]=!0,d[58]?0:(d[57]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[101]="context_token",d[99]=d[57].get(d[101]),d[99]!==void 0?d[98].set(d[101],d[99]):0,d[102]="context_token_type",d[100]=d[57].get(d[102]),c.i64.neq(d[100],void 0)?d[98].set(d[102],d[100]):0,d[97]=d[98]),d[40].set(d[86],d[97])),d[87]="imagine_flash_extras",d[59]=d[22].get(d[87]),d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[101]="seed",d[99]=d[59].get(d[101]),c.i64.neq(d[99],void 0)?d[98].set(d[101],d[99]):0,d[102]="qpl_join_id",d[100]=d[59].get(d[102]),d[100]!==void 0?d[98].set(d[102],d[100]):0,d[97]=d[98]),d[40].set(d[87],d[97])),d[88]="conversation_marker_id",d[61]=d[22].get(d[88]),d[61]!==void 0?d[40].set(d[88],d[61]):0,d[89]="multi_modal_extras",d[62]=d[22].get(d[89]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[102]="should_skip_genai_eval",d[99]=d[62].get(d[102]),d[99]!==void 0?d[98].set(d[102],d[99]):0,d[103]="associated_multimodal_message_id",d[100]=d[62].get(d[103]),d[100]!==void 0?d[98].set(d[103],d[100]):0,d[104]="qpl_join_id",d[101]=d[62].get(d[104]),d[101]!==void 0?d[98].set(d[104],d[101]):0,d[97]=d[98]),d[40].set(d[89],d[97])),d[90]="ads_extras",d[64]=d[22].get(d[90]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[102]="context",d[99]=d[64].get(d[102]),d[99]!==void 0?d[98].set(d[102],d[99]):0,d[103]="is_reply_to_ads_ai",d[100]=d[64].get(d[103]),d[100]!==void 0?d[98].set(d[103],d[100]):0,d[104]="is_message_processed_by_lightspeed",d[101]=d[64].get(d[104]),d[101]!==void 0?d[98].set(d[104],d[101]):0,d[97]=d[98]),d[40].set(d[90],d[97])),d[91]="suggested_prompt_extras",d[66]=d[22].get(d[91]),d[66]?d[67]=!1:d[67]=!0,d[67]?0:(d[66]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[101]="prompt_type",d[99]=d[66].get(d[101]),d[99]!==void 0?d[98].set(d[101],d[99]):0,d[102]="qpl_join_id",d[100]=d[66].get(d[102]),d[100]!==void 0?d[98].set(d[102],d[100]):0,d[97]=d[98]),d[40].set(d[91],d[97])),d[92]="disable_server_mqtt_typing_indicator",d[68]=d[22].get(d[92]),d[68]!==void 0?d[40].set(d[92],d[68]):0,d[93]="enable_web_scraping",d[69]=d[22].get(d[93]),d[69]!==void 0?d[40].set(d[93],d[69]):0,d[94]="client_prompt_timestamp",d[70]=d[22].get(d[94]),d[70]!==void 0?(d[70]!==void 0?d[96]=c.i64.from_string(d[70]):d[96]=void 0,d[40].set(d[94],d[96])):0,d[95]="is_client_ready_for_psi",d[71]=d[22].get(d[95]),d[71]!==void 0?d[40].set(d[95],d[71]):0,d[39]=d[40]}]):c.sequence([function(a){return d[30]==="XMSGProductHighlightExtras"?c.resolve((d[41]=new c.Map(),d[44]="product_highlight_type",d[42]=d[22].get(d[44]),d[42]!==void 0?d[41].set(d[44],d[42]):0,d[45]="conversation_marker",d[43]=d[22].get(d[45]),d[43]!==void 0?d[41].set(d[45],d[43]):0,d[40]=d[41])):c.sequence([function(a){return d[30]==="XMSGMagicMessengerExtras"?c.resolve((d[42]=new c.Map(),d[44]="is_magic_thread",d[43]=d[22].get(d[44]),d[43]!==void 0?d[42].set(d[44],d[43]):0,d[41]=d[42])):c.sequence([function(a){return d[30]==="XMSGAdsAIExtras"?c.resolve((d[43]=new c.Map(),d[47]="context",d[44]=d[22].get(d[47]),d[44]!==void 0?d[43].set(d[47],d[44]):0,d[48]="is_reply_to_ads_ai",d[45]=d[22].get(d[48]),d[45]!==void 0?d[43].set(d[48],d[45]):0,d[49]="is_message_processed_by_lightspeed",d[46]=d[22].get(d[49]),d[46]!==void 0?d[43].set(d[49],d[46]):0,d[42]=d[43])):c.sequence([function(a){return d[30]==="XMSGBizappExtras"?c.resolve((d[44]=new c.Map(),d[47]="message_source",d[45]=d[22].get(d[47]),d[45]!==void 0?d[44].set(d[47],d[45]):0,d[48]="message_trigger",d[46]=d[22].get(d[48]),d[46]!==void 0?d[44].set(d[48],d[46]):0,d[43]=d[44])):c.sequence([function(a){return d[44]=new c.Map(),d[45]=d[22].keys(),d[46]=c.i64.of_int32(d[45].length),c.i64.gt(d[46],c.i64.cast([0,0]))?c.loopAsync(d[46],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[45],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=d[22].get(d[48]),d[44].set(d[48],d[50])}])}):c.resolve()},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[31].set("__typename",d[30]),d[29]=d[31]}])},function(a){return d[20].set(d[27],d[29])}])},function(a){return d[24]=d[20].get("product_extras"),d[24]!==void 0?(d[28]=d[24].get("__typename"),d[28]==="XMSGClickToMessengerAdExtras"?(d[31]=new c.Map(),d[42]="encrypted_ads_token",d[32]=d[24].get(d[42]),d[32]!==void 0?d[31].set(d[42],d[32]):0,d[43]="product_type",d[33]=d[24].get(d[43]),d[33]!==void 0?d[31].set(d[43],d[33]):0,d[44]="post_id",d[34]=d[24].get(d[44]),d[34]!==void 0?d[31].set(d[44],d[34]):0,d[45]="ad_id",d[35]=d[24].get(d[45]),d[35]!==void 0?d[31].set(d[45],d[35]):0,d[46]="page_id",d[36]=d[24].get(d[46]),d[36]!==void 0?d[31].set(d[46],d[36]):0,d[47]="photo_id",d[37]=d[24].get(d[47]),d[37]!==void 0?d[31].set(d[47],d[37]):0,d[48]="photo_index",d[38]=d[24].get(d[48]),c.i64.neq(d[38],void 0)?d[31].set(d[48],d[38]):0,d[49]="fallback_url",d[39]=d[24].get(d[49]),d[39]!==void 0?d[31].set(d[49],d[39]):0,d[50]="product_id",d[40]=d[24].get(d[50]),d[40]!==void 0?d[31].set(d[50],d[40]):0,d[51]="user_id",d[41]=d[24].get(d[51]),d[41]!==void 0?d[31].set(d[51],d[41]):0,d[29]=d[31]):d[29]=void 0,d[29]!==void 0?(d[31]=d[29].get("page_id"),d[30]=d[31]):d[30]=void 0,d[25]=d[30]):d[25]=void 0,d[2]=d[25]}]):c.resolve(d[2]=void 0)},function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=new c.Map(),d[26]="product_type",d[21]=d[19].get(d[26]),d[21]!==void 0?d[20].set(d[26],d[21]):0,d[27]="product_extras",d[22]=d[19].get(d[27]),d[22]?d[23]=!1:d[23]=!0,d[23]?c.resolve():c.sequence([function(a){return d[22]?d[28]=!1:d[28]=!0,d[28]?c.resolve(d[29]=void 0):c.sequence([function(a){return d[30]=d[22].get("__typename"),d[30]==="XMSGStoryReplyExtras"?c.resolve((d[32]=new c.Map(),d[35]="logging",d[33]=d[22].get(d[35]),d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[36]=!1:d[36]=!0,d[36]?d[37]=void 0:(d[38]=new c.Map(),d[46]="story_author_fbid",d[39]=d[33].get(d[46]),d[39]!==void 0?d[38].set(d[46],d[39]):0,d[47]="camera_post_type",d[40]=d[33].get(d[47]),d[40]!==void 0?d[38].set(d[47],d[40]):0,d[48]="story_type",d[41]=d[33].get(d[48]),d[41]!==void 0?d[38].set(d[48],d[41]):0,d[49]="post_source",d[42]=d[33].get(d[49]),d[42]!==void 0?d[38].set(d[49],d[42]):0,d[50]="fb_post_type",d[43]=d[33].get(d[50]),d[43]!==void 0?d[38].set(d[50],d[43]):0,d[51]="conversation_starter_type",d[44]=d[33].get(d[51]),d[44]!==void 0?d[38].set(d[51],d[44]):0,d[52]="story_reply_type",d[45]=d[33].get(d[52]),d[45]!==void 0?d[38].set(d[52],d[45]):0,d[37]=d[38]),d[32].set(d[35],d[37])),d[31]=d[32])):c.sequence([function(a){return d[30]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[33]=new c.Map(),d[52]="listing_id",d[34]=d[22].get(d[52]),d[34]!==void 0?d[33].set(d[52],d[34]):0,d[53]="initial_clicked_component",d[35]=d[22].get(d[53]),d[35]!==void 0?d[33].set(d[53],d[35]):0,d[54]="initial_tracking",d[36]=d[22].get(d[54]),d[36]!==void 0?d[33].set(d[54],d[36]):0,d[55]="referral_surface",d[37]=d[22].get(d[55]),d[37]!==void 0?d[33].set(d[55],d[37]):0,d[56]="referral_story_type",d[38]=d[22].get(d[56]),d[38]!==void 0?d[33].set(d[56],d[38]):0,d[57]="referral_ui_component",d[39]=d[22].get(d[57]),d[39]!==void 0?d[33].set(d[57],d[39]):0,d[58]="surface",d[40]=d[22].get(d[58]),d[40]!==void 0?d[33].set(d[58],d[40]):0,d[59]="tracking",d[41]=d[22].get(d[59]),d[41]!==void 0?d[33].set(d[59],d[41]):0,d[60]="ui_component",d[42]=d[22].get(d[60]),d[42]!==void 0?d[33].set(d[60],d[42]):0,d[61]="ad_id",d[43]=d[22].get(d[61]),d[43]!==void 0?d[33].set(d[61],d[43]):0,d[62]="server_session_id",d[44]=d[22].get(d[62]),d[44]!==void 0?d[33].set(d[62],d[44]):0,d[63]="cf_page_id",d[45]=d[22].get(d[63]),d[45]!==void 0?d[33].set(d[63],d[45]):0,d[64]="live_shopping_video_id",d[46]=d[22].get(d[64]),d[46]!==void 0?d[33].set(d[64],d[46]):0,d[65]="logging_id",d[47]=d[22].get(d[65]),c.i64.neq(d[47],void 0)?d[33].set(d[65],d[47]):0,d[66]="photo_ids",d[48]=d[22].get(d[66]),d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[69]=c.createArray(),d[70]=c.i64.of_int32(d[48].length),c.i64.gt(d[70],c.i64.cast([0,0]))?c.loopAsync(d[70],function(a){return d[71]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[71]).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[74]=(d[69].push(d[72]),d[69])}])}):c.resolve()},function(a){return d[33].set(d[66],d[69])}])},function(a){return d[67]="is_customized_message",d[50]=d[22].get(d[67]),d[50]!==void 0?d[33].set(d[67],d[50]):0,d[68]="referral_code",d[51]=d[22].get(d[68]),d[51]!==void 0?d[33].set(d[68],d[51]):0,d[32]=d[33]}]):c.sequence([function(a){return d[30]==="XMSGClickToMessengerAdExtras"?c.resolve((d[34]=new c.Map(),d[45]="encrypted_ads_token",d[35]=d[22].get(d[45]),d[35]!==void 0?d[34].set(d[45],d[35]):0,d[46]="product_type",d[36]=d[22].get(d[46]),d[36]!==void 0?d[34].set(d[46],d[36]):0,d[47]="post_id",d[37]=d[22].get(d[47]),d[37]!==void 0?d[34].set(d[47],d[37]):0,d[48]="ad_id",d[38]=d[22].get(d[48]),d[38]!==void 0?d[34].set(d[48],d[38]):0,d[49]="page_id",d[39]=d[22].get(d[49]),d[39]!==void 0?d[34].set(d[49],d[39]):0,d[50]="photo_id",d[40]=d[22].get(d[50]),d[40]!==void 0?d[34].set(d[50],d[40]):0,d[51]="photo_index",d[41]=d[22].get(d[51]),c.i64.neq(d[41],void 0)?d[34].set(d[51],d[41]):0,d[52]="fallback_url",d[42]=d[22].get(d[52]),d[42]!==void 0?d[34].set(d[52],d[42]):0,d[53]="product_id",d[43]=d[22].get(d[53]),d[43]!==void 0?d[34].set(d[53],d[43]):0,d[54]="user_id",d[44]=d[22].get(d[54]),d[44]!==void 0?d[34].set(d[54],d[44]):0,d[33]=d[34])):c.sequence([function(a){return d[30]==="XMSGZorroMessageExtras"?c.resolve((d[35]=new c.Map(),d[37]="is_enabled",d[36]=d[22].get(d[37]),d[36]!==void 0?d[35].set(d[37],d[36]):0,d[34]=d[35])):c.sequence([function(a){return d[30]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[36]=new c.Map(),d[39]="prompt_type",d[37]=d[22].get(d[39]),d[37]!==void 0?d[36].set(d[39],d[37]):0,d[40]="qpl_join_id",d[38]=d[22].get(d[40]),d[38]!==void 0?d[36].set(d[40],d[38]):0,d[35]=d[36])):c.sequence([function(a){return d[30]==="XMSGGenAIMultiModalExtras"?c.resolve((d[37]=new c.Map(),d[41]="should_skip_genai_eval",d[38]=d[22].get(d[41]),d[38]!==void 0?d[37].set(d[41],d[38]):0,d[42]="associated_multimodal_message_id",d[39]=d[22].get(d[42]),d[39]!==void 0?d[37].set(d[42],d[39]):0,d[43]="qpl_join_id",d[40]=d[22].get(d[43]),d[40]!==void 0?d[37].set(d[43],d[40]):0,d[36]=d[37])):c.sequence([function(a){return d[30]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[38]=new c.Map(),d[41]="seed",d[39]=d[22].get(d[41]),c.i64.neq(d[39],void 0)?d[38].set(d[41],d[39]):0,d[42]="qpl_join_id",d[40]=d[22].get(d[42]),d[40]!==void 0?d[38].set(d[42],d[40]):0,d[37]=d[38])):c.sequence([function(a){return d[30]==="XMSGShareSheetExtras"?c.resolve((d[39]=new c.Map(),d[41]="recipient_selection_session_id",d[40]=d[22].get(d[41]),d[40]!==void 0?d[39].set(d[41],d[40]):0,d[38]=d[39])):c.sequence([function(a){return d[30]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[40]=new c.Map(),d[72]="referrer_session_id",d[41]=d[22].get(d[72]),d[41]!==void 0?d[40].set(d[72],d[41]):0,d[73]="thread_session_id",d[42]=d[22].get(d[73]),d[42]!==void 0?d[40].set(d[73],d[42]):0,d[74]="prompt_id",d[43]=d[22].get(d[74]),d[43]!==void 0?d[40].set(d[74],d[43]):0,d[75]="prompt_type",d[44]=d[22].get(d[75]),d[44]!==void 0?d[40].set(d[75],d[44]):0,d[76]="prompt_fit_topic",d[45]=d[22].get(d[76]),d[45]!==void 0?d[40].set(d[76],d[45]):0,d[77]="location_extras",d[46]=d[22].get(d[77]),d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[102]="has_previous_perm_prompt",d[99]=d[46].get(d[102]),d[99]!==void 0?d[98].set(d[102],d[99]):0,d[103]="latitude",d[100]=d[46].get(d[103]),d[100]!==void 0?d[98].set(d[103],d[100]):0,d[104]="longitude",d[101]=d[46].get(d[104]),d[101]!==void 0?d[98].set(d[104],d[101]):0,d[97]=d[98]),d[40].set(d[77],d[97])),d[78]="qpl_join_id",d[48]=d[22].get(d[78]),d[48]!==void 0?d[40].set(d[78],d[48]):0,d[79]="meta_ai_prompt_type",d[49]=d[22].get(d[79]),d[49]!==void 0?d[40].set(d[79],d[49]):0,d[80]="is_subsequent_send",d[50]=d[22].get(d[80]),d[50]!==void 0?d[40].set(d[80],d[50]):0,d[81]="context_injection_type",d[51]=d[22].get(d[81]),d[51]!==void 0?d[40].set(d[81],d[51]):0,d[82]="context_injection_timestamp_ms",d[52]=d[22].get(d[82]),d[52]!==void 0?d[40].set(d[82],d[52]):0,d[83]="meta_ai_response_to_persist",d[53]=d[22].get(d[83]),d[53]?d[54]=!1:d[54]=!0,d[54]?c.resolve():c.sequence([function(a){return d[53]?d[96]=!1:d[96]=!0,d[96]?c.resolve(d[97]=void 0):c.sequence([function(a){return d[98]=new c.Map(),d[105]="text",d[99]=d[53].get(d[105]),d[99]!==void 0?d[98].set(d[105],d[99]):0,d[106]="bot_response_id",d[100]=d[53].get(d[106]),d[100]!==void 0?d[98].set(d[106],d[100]):0,d[107]="bot_request_id",d[101]=d[53].get(d[107]),d[101]!==void 0?d[98].set(d[107],d[101]):0,d[108]="external_search_params",d[102]=d[53].get(d[108]),d[102]?d[103]=!1:d[103]=!0,d[103]?c.resolve():c.sequence([function(a){return d[102]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[120]="search_result_uri",d[113]=d[102].get(d[120]),d[113]?d[114]=!1:d[114]=!0,d[114]?c.resolve():c.sequence([function(a){return d[113]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[113].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[113],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[120],d[126])}])},function(a){return d[121]="search_query",d[115]=d[102].get(d[121]),d[115]!==void 0?d[112].set(d[121],d[115]):0,d[122]="attribution_link",d[116]=d[102].get(d[122]),d[116]!==void 0?d[112].set(d[122],d[116]):0,d[123]="search_engine",d[117]=d[102].get(d[123]),d[117]!==void 0?d[112].set(d[123],d[117]):0,d[124]="references_title",d[118]=d[102].get(d[124]),d[118]?d[119]=!1:d[119]=!0,d[119]?c.resolve():c.sequence([function(a){return d[118]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[118].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[118],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[124],d[126])}])},function(a){return d[111]=d[112]}])},function(a){return d[98].set(d[108],d[111])}])},function(a){return d[109]="followup_prompt_text",d[104]=d[53].get(d[109]),d[104]!==void 0?d[98].set(d[109],d[104]):0,d[97]=d[98]}])},function(a){return d[40].set(d[83],d[97])}])},function(a){return d[84]="gql_dark_test_qpl_join_id",d[55]=d[22].get(d[84]),d[55]!==void 0?d[40].set(d[84],d[55]):0,d[85]="gql_dark_test_client_start_time",d[56]=d[22].get(d[85]),d[56]!==void 0?d[40].set(d[85],d[56]):0,d[86]="prompt_context",d[57]=d[22].get(d[86]),d[57]?d[58]=!1:d[58]=!0,d[58]?0:(d[57]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[101]="context_token",d[99]=d[57].get(d[101]),d[99]!==void 0?d[98].set(d[101],d[99]):0,d[102]="context_token_type",d[100]=d[57].get(d[102]),c.i64.neq(d[100],void 0)?d[98].set(d[102],d[100]):0,d[97]=d[98]),d[40].set(d[86],d[97])),d[87]="imagine_flash_extras",d[59]=d[22].get(d[87]),d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[101]="seed",d[99]=d[59].get(d[101]),c.i64.neq(d[99],void 0)?d[98].set(d[101],d[99]):0,d[102]="qpl_join_id",d[100]=d[59].get(d[102]),d[100]!==void 0?d[98].set(d[102],d[100]):0,d[97]=d[98]),d[40].set(d[87],d[97])),d[88]="conversation_marker_id",d[61]=d[22].get(d[88]),d[61]!==void 0?d[40].set(d[88],d[61]):0,d[89]="multi_modal_extras",d[62]=d[22].get(d[89]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[102]="should_skip_genai_eval",d[99]=d[62].get(d[102]),d[99]!==void 0?d[98].set(d[102],d[99]):0,d[103]="associated_multimodal_message_id",d[100]=d[62].get(d[103]),d[100]!==void 0?d[98].set(d[103],d[100]):0,d[104]="qpl_join_id",d[101]=d[62].get(d[104]),d[101]!==void 0?d[98].set(d[104],d[101]):0,d[97]=d[98]),d[40].set(d[89],d[97])),d[90]="ads_extras",d[64]=d[22].get(d[90]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[102]="context",d[99]=d[64].get(d[102]),d[99]!==void 0?d[98].set(d[102],d[99]):0,d[103]="is_reply_to_ads_ai",d[100]=d[64].get(d[103]),d[100]!==void 0?d[98].set(d[103],d[100]):0,d[104]="is_message_processed_by_lightspeed",d[101]=d[64].get(d[104]),d[101]!==void 0?d[98].set(d[104],d[101]):0,d[97]=d[98]),d[40].set(d[90],d[97])),d[91]="suggested_prompt_extras",d[66]=d[22].get(d[91]),d[66]?d[67]=!1:d[67]=!0,d[67]?0:(d[66]?d[96]=!1:d[96]=!0,d[96]?d[97]=void 0:(d[98]=new c.Map(),d[101]="prompt_type",d[99]=d[66].get(d[101]),d[99]!==void 0?d[98].set(d[101],d[99]):0,d[102]="qpl_join_id",d[100]=d[66].get(d[102]),d[100]!==void 0?d[98].set(d[102],d[100]):0,d[97]=d[98]),d[40].set(d[91],d[97])),d[92]="disable_server_mqtt_typing_indicator",d[68]=d[22].get(d[92]),d[68]!==void 0?d[40].set(d[92],d[68]):0,d[93]="enable_web_scraping",d[69]=d[22].get(d[93]),d[69]!==void 0?d[40].set(d[93],d[69]):0,d[94]="client_prompt_timestamp",d[70]=d[22].get(d[94]),d[70]!==void 0?(d[70]!==void 0?d[96]=c.i64.from_string(d[70]):d[96]=void 0,d[40].set(d[94],d[96])):0,d[95]="is_client_ready_for_psi",d[71]=d[22].get(d[95]),d[71]!==void 0?d[40].set(d[95],d[71]):0,d[39]=d[40]}]):c.sequence([function(a){return d[30]==="XMSGProductHighlightExtras"?c.resolve((d[41]=new c.Map(),d[44]="product_highlight_type",d[42]=d[22].get(d[44]),d[42]!==void 0?d[41].set(d[44],d[42]):0,d[45]="conversation_marker",d[43]=d[22].get(d[45]),d[43]!==void 0?d[41].set(d[45],d[43]):0,d[40]=d[41])):c.sequence([function(a){return d[30]==="XMSGMagicMessengerExtras"?c.resolve((d[42]=new c.Map(),d[44]="is_magic_thread",d[43]=d[22].get(d[44]),d[43]!==void 0?d[42].set(d[44],d[43]):0,d[41]=d[42])):c.sequence([function(a){return d[30]==="XMSGAdsAIExtras"?c.resolve((d[43]=new c.Map(),d[47]="context",d[44]=d[22].get(d[47]),d[44]!==void 0?d[43].set(d[47],d[44]):0,d[48]="is_reply_to_ads_ai",d[45]=d[22].get(d[48]),d[45]!==void 0?d[43].set(d[48],d[45]):0,d[49]="is_message_processed_by_lightspeed",d[46]=d[22].get(d[49]),d[46]!==void 0?d[43].set(d[49],d[46]):0,d[42]=d[43])):c.sequence([function(a){return d[30]==="XMSGBizappExtras"?c.resolve((d[44]=new c.Map(),d[47]="message_source",d[45]=d[22].get(d[47]),d[45]!==void 0?d[44].set(d[47],d[45]):0,d[48]="message_trigger",d[46]=d[22].get(d[48]),d[46]!==void 0?d[44].set(d[48],d[46]):0,d[43]=d[44])):c.sequence([function(a){return d[44]=new c.Map(),d[45]=d[22].keys(),d[46]=c.i64.of_int32(d[45].length),c.i64.gt(d[46],c.i64.cast([0,0]))?c.loopAsync(d[46],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[45],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=d[22].get(d[48]),d[44].set(d[48],d[50])}])}):c.resolve()},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[31].set("__typename",d[30]),d[29]=d[31]}])},function(a){return d[20].set(d[27],d[29])}])},function(a){return d[24]=d[20].get("product_extras"),d[24]!==void 0?(d[28]=d[24].get("__typename"),d[28]==="XMSGClickToMessengerAdExtras"?(d[31]=new c.Map(),d[42]="encrypted_ads_token",d[32]=d[24].get(d[42]),d[32]!==void 0?d[31].set(d[42],d[32]):0,d[43]="product_type",d[33]=d[24].get(d[43]),d[33]!==void 0?d[31].set(d[43],d[33]):0,d[44]="post_id",d[34]=d[24].get(d[44]),d[34]!==void 0?d[31].set(d[44],d[34]):0,d[45]="ad_id",d[35]=d[24].get(d[45]),d[35]!==void 0?d[31].set(d[45],d[35]):0,d[46]="page_id",d[36]=d[24].get(d[46]),d[36]!==void 0?d[31].set(d[46],d[36]):0,d[47]="photo_id",d[37]=d[24].get(d[47]),d[37]!==void 0?d[31].set(d[47],d[37]):0,d[48]="photo_index",d[38]=d[24].get(d[48]),c.i64.neq(d[38],void 0)?d[31].set(d[48],d[38]):0,d[49]="fallback_url",d[39]=d[24].get(d[49]),d[39]!==void 0?d[31].set(d[49],d[39]):0,d[50]="product_id",d[40]=d[24].get(d[50]),d[40]!==void 0?d[31].set(d[50],d[40]):0,d[51]="user_id",d[41]=d[24].get(d[51]),d[41]!==void 0?d[31].set(d[51],d[41]):0,d[29]=d[31]):d[29]=void 0,d[29]!==void 0?(d[31]=d[29].get("product_type"),d[30]=d[31]):d[30]=void 0,d[25]=d[30]):d[25]=void 0,d[3]=d[25]}]):c.resolve(d[3]=void 0)},function(a){return d[3]==="CTM"?(d[2]!==void 0?d[19]=c.i64.from_string(d[2]):d[19]=d[1],d[4]=d[19]):d[4]=d[1],d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),void 0?d[10]=!1:d[10]=!0,d[10]?(a=["",void 0,void 0,void 0,void 0],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],a):(d[19]=(void 0).get("nullstate_description_text1"),d[19]!==void 0?d[20]=d[19]:d[20]="",d[21]=(void 0).get("nullstate_description_text2"),d[22]=(void 0).get("nullstate_description_text3"),d[23]=(void 0).get("nullstate_description_text4"),d[24]=(void 0).get("nullstate_description_text5"),a=[d[20],d[21],d[22],d[23],d[24]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],a),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.forEach(c.filter(c.db.table(9).fetch([[[d[4]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[4],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,2]),clientThreadKey:d[4],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[16],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[5],capabilities2:d[6],capabilities3:d[7],capabilities4:d[8],capabilities5:d[9],nullstateDescriptionText1:d[11],nullstateDescriptionText2:d[12],nullstateDescriptionText3:d[13],threadName:a[2]})},function(a){return d[17]=c.createArray(),c.resolve()},function(b){return a[3]!==void 0?c.db.table(312).add({threadKey:d[4],metadata:a[3]}):c.resolve()},function(e){return d[18]=c.i64.of_int32(a[0].length),c.i64.gt(d[18],c.i64.cast([0,0]))?c.loopAsync(d[18],function(e){return d[19]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[19]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return c.forEach(c.filter(c.db.table(14).fetch([[[d[4],d[20]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[20])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[4],contactId:d[20],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure";a.__tables__=["threads","threads_optimistic_metadata","participants"];e.exports=a}),null);
__d("LSCreateGroupThreadWithAdminText",["LSCreateOfflineThreadingID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],a[2],void 0).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a[2]===void 0&&!1?(d[1]=new c.Map(),d[1].set("participants",a[0]),d[1].set("client_thread_key",d[0]),d[1].set("sync_group",c.i64.cast([0,1])),d[1].set("thread_name",a[2]),d[1].set("text",a[3]),d[1].set("thread_metadata",void 0),d[1].set("should_create_group_if_not_exists",!0),d[1].set("group_thread_creation_entry_point",void 0),d[2]=d[1].get("client_thread_key"),d[3]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[2]),c.i64.cast([0,153]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.sequence([function(a){return d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:c.i64.to_string(d[2])})})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",d[0]),d[3].set("otid",c.i64.to_string(d[2])),d[3].set("source",c.i64.cast([0,0])),d[3].set("send_type",c.i64.cast([0,8])),a[3]!==void 0?d[3].set("text",a[3]):0,d[4]=new c.Map(),d[4].set("participants",a[0]),d[4].set("send_payload",d[3]),a[2]!==void 0?d[4].set("thread_name",a[2]):0,void 0!==void 0?d[4].set("thread_metadata",void 0):0,void 0!==void 0?d[4].set("group_thread_creation_entry_point",void 0):0,void 0===void 0||!1?(d[5]=d[4].get("send_payload"),d[6]=d[5].get("thread_id"),d[7]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,130]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[5]=d[4].get("send_payload"),d[6]=d[5].get("thread_id"),d[7]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,787]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxCreateGroupThreadWithAdminTextStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSLocalCreateOptimisticGroupThread",["LSArrayGetObjectAt","LSGetViewerFBID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return void 0?d[0]=!1:d[0]=!0,d[0]?(e=["",void 0,void 0,void 0,void 0],d[1]=e[0],d[2]=e[1],d[3]=e[2],d[4]=e[3],d[5]=e[4],e):(d[8]=(void 0).get("nullstate_description_text1"),d[8]!==void 0?d[9]=d[8]:d[9]="",d[10]=(void 0).get("nullstate_description_text2"),d[11]=(void 0).get("nullstate_description_text3"),d[12]=(void 0).get("nullstate_description_text4"),d[13]=(void 0).get("nullstate_description_text5"),e=[d[9],d[10],d[11],d[12],d[13]],d[1]=e[0],d[2]=e[1],d[3]=e[2],d[4]=e[3],d[5]=e[4],e),d[6]=new c.Map(),d[6].set("nullstate_description_text1",d[1]),d[6].set("nullstate_description_text2",d[2]),d[6].set("nullstate_description_text3",d[3]),d[6].set("nullstate_description_text4",d[4]),d[6].set("nullstate_description_text5",d[5]),c.storedProcedure(b("LSLocalApplyOptimisticGroupThread"),a[0],void 0,a[2],a[4]).then(function(a){return a=a,d[7]=a[0],a})},function(e){return a[3]===!0?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,5]))?a[4]!==void 0?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[8]=a[0],a})},function(e){return d[9]=c.i64.cast([0,0]),d[10]=c.i64.of_int32(a[0].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return c.i64.neq(d[12],d[8])?d[14]=d[12]:d[14]=d[9],d[9]=d[14]}])}):c.resolve()},function(e){return a[4]!==void 0?(d[11]=new c.Map(),d[11].set("seller_id",d[9]),d[11].set("thread_metadata",a[4]),d[11].set("client_thread_key",d[7]),d[12]=d[11].get("client_thread_key"),d[13]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[12]),c.i64.cast([0,646]),d[13],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()}]):c.resolve(function(a){c.logger(a).mustfix(a)}("Marketplace thread metadata cannot be null")):(d[8]=new c.Map(),d[8].set("participants",a[0]),d[8].set("client_thread_key",d[7]),d[8].set("sync_group",c.i64.cast([0,1])),d[9]=d[8].get("client_thread_key"),d[10]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[9]),c.i64.cast([0,153]),d[10],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadView",["LSArrayGetObjectAt","LSComputeOptimisticThreadCapabilities","LSCreateGroupThreadWithAdminText","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSInsertNewMessageRange","LSIssueNewTask","LSLocalCreateOptimisticGroupThread","LSMessagePointQuery","LSVerifyContactRowExists","LSVerifyThreadRowExists","LSVerifyThreadRowExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return d[4]=new c.Map(),d[9]="product_type",d[5]=d[3].get(d[9]),d[5]!==void 0?d[4].set(d[9],d[5]):0,d[10]="product_extras",d[6]=d[3].get(d[10]),d[6]?d[7]=!1:d[7]=!0,d[7]?c.resolve():c.sequence([function(a){return d[6]?d[11]=!1:d[11]=!0,d[11]?c.resolve(d[12]=void 0):c.sequence([function(a){return d[13]=d[6].get("__typename"),d[13]==="XMSGStoryReplyExtras"?c.resolve((d[15]=new c.Map(),d[18]="logging",d[16]=d[6].get(d[18]),d[16]?d[17]=!1:d[17]=!0,d[17]?0:(d[16]?d[19]=!1:d[19]=!0,d[19]?d[20]=void 0:(d[21]=new c.Map(),d[29]="story_author_fbid",d[22]=d[16].get(d[29]),d[22]!==void 0?d[21].set(d[29],d[22]):0,d[30]="camera_post_type",d[23]=d[16].get(d[30]),d[23]!==void 0?d[21].set(d[30],d[23]):0,d[31]="story_type",d[24]=d[16].get(d[31]),d[24]!==void 0?d[21].set(d[31],d[24]):0,d[32]="post_source",d[25]=d[16].get(d[32]),d[25]!==void 0?d[21].set(d[32],d[25]):0,d[33]="fb_post_type",d[26]=d[16].get(d[33]),d[26]!==void 0?d[21].set(d[33],d[26]):0,d[34]="conversation_starter_type",d[27]=d[16].get(d[34]),d[27]!==void 0?d[21].set(d[34],d[27]):0,d[35]="story_reply_type",d[28]=d[16].get(d[35]),d[28]!==void 0?d[21].set(d[35],d[28]):0,d[20]=d[21]),d[15].set(d[18],d[20])),d[14]=d[15])):c.sequence([function(a){return d[13]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[16]=new c.Map(),d[35]="listing_id",d[17]=d[6].get(d[35]),d[17]!==void 0?d[16].set(d[35],d[17]):0,d[36]="initial_clicked_component",d[18]=d[6].get(d[36]),d[18]!==void 0?d[16].set(d[36],d[18]):0,d[37]="initial_tracking",d[19]=d[6].get(d[37]),d[19]!==void 0?d[16].set(d[37],d[19]):0,d[38]="referral_surface",d[20]=d[6].get(d[38]),d[20]!==void 0?d[16].set(d[38],d[20]):0,d[39]="referral_story_type",d[21]=d[6].get(d[39]),d[21]!==void 0?d[16].set(d[39],d[21]):0,d[40]="referral_ui_component",d[22]=d[6].get(d[40]),d[22]!==void 0?d[16].set(d[40],d[22]):0,d[41]="surface",d[23]=d[6].get(d[41]),d[23]!==void 0?d[16].set(d[41],d[23]):0,d[42]="tracking",d[24]=d[6].get(d[42]),d[24]!==void 0?d[16].set(d[42],d[24]):0,d[43]="ui_component",d[25]=d[6].get(d[43]),d[25]!==void 0?d[16].set(d[43],d[25]):0,d[44]="ad_id",d[26]=d[6].get(d[44]),d[26]!==void 0?d[16].set(d[44],d[26]):0,d[45]="server_session_id",d[27]=d[6].get(d[45]),d[27]!==void 0?d[16].set(d[45],d[27]):0,d[46]="cf_page_id",d[28]=d[6].get(d[46]),d[28]!==void 0?d[16].set(d[46],d[28]):0,d[47]="live_shopping_video_id",d[29]=d[6].get(d[47]),d[29]!==void 0?d[16].set(d[47],d[29]):0,d[48]="logging_id",d[30]=d[6].get(d[48]),c.i64.neq(d[30],void 0)?d[16].set(d[48],d[30]):0,d[49]="photo_ids",d[31]=d[6].get(d[49]),d[31]?d[32]=!1:d[32]=!0,d[32]?c.resolve():c.sequence([function(a){return d[52]=c.createArray(),d[53]=c.i64.of_int32(d[31].length),c.i64.gt(d[53],c.i64.cast([0,0]))?c.loopAsync(d[53],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[31],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[52].push(d[55]),d[52])}])}):c.resolve()},function(a){return d[16].set(d[49],d[52])}])},function(a){return d[50]="is_customized_message",d[33]=d[6].get(d[50]),d[33]!==void 0?d[16].set(d[50],d[33]):0,d[51]="referral_code",d[34]=d[6].get(d[51]),d[34]!==void 0?d[16].set(d[51],d[34]):0,d[15]=d[16]}]):c.sequence([function(a){return d[13]==="XMSGClickToMessengerAdExtras"?c.resolve((d[17]=new c.Map(),d[28]="encrypted_ads_token",d[18]=d[6].get(d[28]),d[18]!==void 0?d[17].set(d[28],d[18]):0,d[29]="product_type",d[19]=d[6].get(d[29]),d[19]!==void 0?d[17].set(d[29],d[19]):0,d[30]="post_id",d[20]=d[6].get(d[30]),d[20]!==void 0?d[17].set(d[30],d[20]):0,d[31]="ad_id",d[21]=d[6].get(d[31]),d[21]!==void 0?d[17].set(d[31],d[21]):0,d[32]="page_id",d[22]=d[6].get(d[32]),d[22]!==void 0?d[17].set(d[32],d[22]):0,d[33]="photo_id",d[23]=d[6].get(d[33]),d[23]!==void 0?d[17].set(d[33],d[23]):0,d[34]="photo_index",d[24]=d[6].get(d[34]),c.i64.neq(d[24],void 0)?d[17].set(d[34],d[24]):0,d[35]="fallback_url",d[25]=d[6].get(d[35]),d[25]!==void 0?d[17].set(d[35],d[25]):0,d[36]="product_id",d[26]=d[6].get(d[36]),d[26]!==void 0?d[17].set(d[36],d[26]):0,d[37]="user_id",d[27]=d[6].get(d[37]),d[27]!==void 0?d[17].set(d[37],d[27]):0,d[16]=d[17])):c.sequence([function(a){return d[13]==="XMSGZorroMessageExtras"?c.resolve((d[18]=new c.Map(),d[20]="is_enabled",d[19]=d[6].get(d[20]),d[19]!==void 0?d[18].set(d[20],d[19]):0,d[17]=d[18])):c.sequence([function(a){return d[13]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[19]=new c.Map(),d[22]="prompt_type",d[20]=d[6].get(d[22]),d[20]!==void 0?d[19].set(d[22],d[20]):0,d[23]="qpl_join_id",d[21]=d[6].get(d[23]),d[21]!==void 0?d[19].set(d[23],d[21]):0,d[18]=d[19])):c.sequence([function(a){return d[13]==="XMSGGenAIMultiModalExtras"?c.resolve((d[20]=new c.Map(),d[24]="should_skip_genai_eval",d[21]=d[6].get(d[24]),d[21]!==void 0?d[20].set(d[24],d[21]):0,d[25]="associated_multimodal_message_id",d[22]=d[6].get(d[25]),d[22]!==void 0?d[20].set(d[25],d[22]):0,d[26]="qpl_join_id",d[23]=d[6].get(d[26]),d[23]!==void 0?d[20].set(d[26],d[23]):0,d[19]=d[20])):c.sequence([function(a){return d[13]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[21]=new c.Map(),d[24]="seed",d[22]=d[6].get(d[24]),c.i64.neq(d[22],void 0)?d[21].set(d[24],d[22]):0,d[25]="qpl_join_id",d[23]=d[6].get(d[25]),d[23]!==void 0?d[21].set(d[25],d[23]):0,d[20]=d[21])):c.sequence([function(a){return d[13]==="XMSGShareSheetExtras"?c.resolve((d[22]=new c.Map(),d[24]="recipient_selection_session_id",d[23]=d[6].get(d[24]),d[23]!==void 0?d[22].set(d[24],d[23]):0,d[21]=d[22])):c.sequence([function(a){return d[13]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[23]=new c.Map(),d[55]="referrer_session_id",d[24]=d[6].get(d[55]),d[24]!==void 0?d[23].set(d[55],d[24]):0,d[56]="thread_session_id",d[25]=d[6].get(d[56]),d[25]!==void 0?d[23].set(d[56],d[25]):0,d[57]="prompt_id",d[26]=d[6].get(d[57]),d[26]!==void 0?d[23].set(d[57],d[26]):0,d[58]="prompt_type",d[27]=d[6].get(d[58]),d[27]!==void 0?d[23].set(d[58],d[27]):0,d[59]="prompt_fit_topic",d[28]=d[6].get(d[59]),d[28]!==void 0?d[23].set(d[59],d[28]):0,d[60]="location_extras",d[29]=d[6].get(d[60]),d[29]?d[30]=!1:d[30]=!0,d[30]?0:(d[29]?d[79]=!1:d[79]=!0,d[79]?d[80]=void 0:(d[81]=new c.Map(),d[85]="has_previous_perm_prompt",d[82]=d[29].get(d[85]),d[82]!==void 0?d[81].set(d[85],d[82]):0,d[86]="latitude",d[83]=d[29].get(d[86]),d[83]!==void 0?d[81].set(d[86],d[83]):0,d[87]="longitude",d[84]=d[29].get(d[87]),d[84]!==void 0?d[81].set(d[87],d[84]):0,d[80]=d[81]),d[23].set(d[60],d[80])),d[61]="qpl_join_id",d[31]=d[6].get(d[61]),d[31]!==void 0?d[23].set(d[61],d[31]):0,d[62]="meta_ai_prompt_type",d[32]=d[6].get(d[62]),d[32]!==void 0?d[23].set(d[62],d[32]):0,d[63]="is_subsequent_send",d[33]=d[6].get(d[63]),d[33]!==void 0?d[23].set(d[63],d[33]):0,d[64]="context_injection_type",d[34]=d[6].get(d[64]),d[34]!==void 0?d[23].set(d[64],d[34]):0,d[65]="context_injection_timestamp_ms",d[35]=d[6].get(d[65]),d[35]!==void 0?d[23].set(d[65],d[35]):0,d[66]="meta_ai_response_to_persist",d[36]=d[6].get(d[66]),d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve():c.sequence([function(a){return d[36]?d[79]=!1:d[79]=!0,d[79]?c.resolve(d[80]=void 0):c.sequence([function(a){return d[81]=new c.Map(),d[88]="text",d[82]=d[36].get(d[88]),d[82]!==void 0?d[81].set(d[88],d[82]):0,d[89]="bot_response_id",d[83]=d[36].get(d[89]),d[83]!==void 0?d[81].set(d[89],d[83]):0,d[90]="bot_request_id",d[84]=d[36].get(d[90]),d[84]!==void 0?d[81].set(d[90],d[84]):0,d[91]="external_search_params",d[85]=d[36].get(d[91]),d[85]?d[86]=!1:d[86]=!0,d[86]?c.resolve():c.sequence([function(a){return d[85]?d[93]=!1:d[93]=!0,d[93]?c.resolve(d[94]=void 0):c.sequence([function(a){return d[95]=new c.Map(),d[103]="search_result_uri",d[96]=d[85].get(d[103]),d[96]?d[97]=!1:d[97]=!0,d[97]?c.resolve():c.sequence([function(a){return d[96]?d[108]=!1:d[108]=!0,d[108]?c.resolve(d[109]=void 0):c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[96].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[96],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=(d[110].push(d[113]),d[110])}])}):c.resolve()},function(a){return d[109]=d[110]}])},function(a){return d[95].set(d[103],d[109])}])},function(a){return d[104]="search_query",d[98]=d[85].get(d[104]),d[98]!==void 0?d[95].set(d[104],d[98]):0,d[105]="attribution_link",d[99]=d[85].get(d[105]),d[99]!==void 0?d[95].set(d[105],d[99]):0,d[106]="search_engine",d[100]=d[85].get(d[106]),d[100]!==void 0?d[95].set(d[106],d[100]):0,d[107]="references_title",d[101]=d[85].get(d[107]),d[101]?d[102]=!1:d[102]=!0,d[102]?c.resolve():c.sequence([function(a){return d[101]?d[108]=!1:d[108]=!0,d[108]?c.resolve(d[109]=void 0):c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[101].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[101],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=(d[110].push(d[113]),d[110])}])}):c.resolve()},function(a){return d[109]=d[110]}])},function(a){return d[95].set(d[107],d[109])}])},function(a){return d[94]=d[95]}])},function(a){return d[81].set(d[91],d[94])}])},function(a){return d[92]="followup_prompt_text",d[87]=d[36].get(d[92]),d[87]!==void 0?d[81].set(d[92],d[87]):0,d[80]=d[81]}])},function(a){return d[23].set(d[66],d[80])}])},function(a){return d[67]="gql_dark_test_qpl_join_id",d[38]=d[6].get(d[67]),d[38]!==void 0?d[23].set(d[67],d[38]):0,d[68]="gql_dark_test_client_start_time",d[39]=d[6].get(d[68]),d[39]!==void 0?d[23].set(d[68],d[39]):0,d[69]="prompt_context",d[40]=d[6].get(d[69]),d[40]?d[41]=!1:d[41]=!0,d[41]?0:(d[40]?d[79]=!1:d[79]=!0,d[79]?d[80]=void 0:(d[81]=new c.Map(),d[84]="context_token",d[82]=d[40].get(d[84]),d[82]!==void 0?d[81].set(d[84],d[82]):0,d[85]="context_token_type",d[83]=d[40].get(d[85]),c.i64.neq(d[83],void 0)?d[81].set(d[85],d[83]):0,d[80]=d[81]),d[23].set(d[69],d[80])),d[70]="imagine_flash_extras",d[42]=d[6].get(d[70]),d[42]?d[43]=!1:d[43]=!0,d[43]?0:(d[42]?d[79]=!1:d[79]=!0,d[79]?d[80]=void 0:(d[81]=new c.Map(),d[84]="seed",d[82]=d[42].get(d[84]),c.i64.neq(d[82],void 0)?d[81].set(d[84],d[82]):0,d[85]="qpl_join_id",d[83]=d[42].get(d[85]),d[83]!==void 0?d[81].set(d[85],d[83]):0,d[80]=d[81]),d[23].set(d[70],d[80])),d[71]="conversation_marker_id",d[44]=d[6].get(d[71]),d[44]!==void 0?d[23].set(d[71],d[44]):0,d[72]="multi_modal_extras",d[45]=d[6].get(d[72]),d[45]?d[46]=!1:d[46]=!0,d[46]?0:(d[45]?d[79]=!1:d[79]=!0,d[79]?d[80]=void 0:(d[81]=new c.Map(),d[85]="should_skip_genai_eval",d[82]=d[45].get(d[85]),d[82]!==void 0?d[81].set(d[85],d[82]):0,d[86]="associated_multimodal_message_id",d[83]=d[45].get(d[86]),d[83]!==void 0?d[81].set(d[86],d[83]):0,d[87]="qpl_join_id",d[84]=d[45].get(d[87]),d[84]!==void 0?d[81].set(d[87],d[84]):0,d[80]=d[81]),d[23].set(d[72],d[80])),d[73]="ads_extras",d[47]=d[6].get(d[73]),d[47]?d[48]=!1:d[48]=!0,d[48]?0:(d[47]?d[79]=!1:d[79]=!0,d[79]?d[80]=void 0:(d[81]=new c.Map(),d[85]="context",d[82]=d[47].get(d[85]),d[82]!==void 0?d[81].set(d[85],d[82]):0,d[86]="is_reply_to_ads_ai",d[83]=d[47].get(d[86]),d[83]!==void 0?d[81].set(d[86],d[83]):0,d[87]="is_message_processed_by_lightspeed",d[84]=d[47].get(d[87]),d[84]!==void 0?d[81].set(d[87],d[84]):0,d[80]=d[81]),d[23].set(d[73],d[80])),d[74]="suggested_prompt_extras",d[49]=d[6].get(d[74]),d[49]?d[50]=!1:d[50]=!0,d[50]?0:(d[49]?d[79]=!1:d[79]=!0,d[79]?d[80]=void 0:(d[81]=new c.Map(),d[84]="prompt_type",d[82]=d[49].get(d[84]),d[82]!==void 0?d[81].set(d[84],d[82]):0,d[85]="qpl_join_id",d[83]=d[49].get(d[85]),d[83]!==void 0?d[81].set(d[85],d[83]):0,d[80]=d[81]),d[23].set(d[74],d[80])),d[75]="disable_server_mqtt_typing_indicator",d[51]=d[6].get(d[75]),d[51]!==void 0?d[23].set(d[75],d[51]):0,d[76]="enable_web_scraping",d[52]=d[6].get(d[76]),d[52]!==void 0?d[23].set(d[76],d[52]):0,d[77]="client_prompt_timestamp",d[53]=d[6].get(d[77]),d[53]!==void 0?(d[53]!==void 0?d[79]=c.i64.from_string(d[53]):d[79]=void 0,d[23].set(d[77],d[79])):0,d[78]="is_client_ready_for_psi",d[54]=d[6].get(d[78]),d[54]!==void 0?d[23].set(d[78],d[54]):0,d[22]=d[23]}]):c.sequence([function(a){return d[13]==="XMSGProductHighlightExtras"?c.resolve((d[24]=new c.Map(),d[27]="product_highlight_type",d[25]=d[6].get(d[27]),d[25]!==void 0?d[24].set(d[27],d[25]):0,d[28]="conversation_marker",d[26]=d[6].get(d[28]),d[26]!==void 0?d[24].set(d[28],d[26]):0,d[23]=d[24])):c.sequence([function(a){return d[13]==="XMSGMagicMessengerExtras"?c.resolve((d[25]=new c.Map(),d[27]="is_magic_thread",d[26]=d[6].get(d[27]),d[26]!==void 0?d[25].set(d[27],d[26]):0,d[24]=d[25])):c.sequence([function(a){return d[13]==="XMSGAdsAIExtras"?c.resolve((d[26]=new c.Map(),d[30]="context",d[27]=d[6].get(d[30]),d[27]!==void 0?d[26].set(d[30],d[27]):0,d[31]="is_reply_to_ads_ai",d[28]=d[6].get(d[31]),d[28]!==void 0?d[26].set(d[31],d[28]):0,d[32]="is_message_processed_by_lightspeed",d[29]=d[6].get(d[32]),d[29]!==void 0?d[26].set(d[32],d[29]):0,d[25]=d[26])):c.sequence([function(a){return d[13]==="XMSGBizappExtras"?c.resolve((d[27]=new c.Map(),d[30]="message_source",d[28]=d[6].get(d[30]),d[28]!==void 0?d[27].set(d[30],d[28]):0,d[31]="message_trigger",d[29]=d[6].get(d[31]),d[29]!==void 0?d[27].set(d[31],d[29]):0,d[26]=d[27])):c.sequence([function(a){return d[27]=new c.Map(),d[28]=d[6].keys(),d[29]=c.i64.of_int32(d[28].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[30]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[28],d[30]).then(function(a){return a=a,d[31]=a[0],d[32]=a[1],a})},function(a){return d[33]=d[6].get(d[31]),d[27].set(d[31],d[33])}])}):c.resolve()},function(a){return d[26]=d[27]}])},function(a){return d[25]=d[26]}])},function(a){return d[24]=d[25]}])},function(a){return d[23]=d[24]}])},function(a){return d[22]=d[23]}])},function(a){return d[21]=d[22]}])},function(a){return d[20]=d[21]}])},function(a){return d[19]=d[20]}])},function(a){return d[18]=d[19]}])},function(a){return d[17]=d[18]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}])},function(a){return d[14]=d[15]}])},function(a){return d[14].set("__typename",d[13]),d[12]=d[14]}])},function(a){return d[4].set(d[10],d[12])}])},function(a){return d[8]=d[4].get("product_type"),d[0]=d[8]}]):c.resolve(d[0]=void 0)},function(e){return c.i64.eq(a[1],c.i64.cast([0,7]))?c.resolve((e=[a[0],c.i64.cast([0,1024])],d[1]=e[0],d[2]=e[1],e)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(c.i64.eq(a[0],c.i64.cast([0,0]))?d[12]=a[0]:d[12]=void 0,f=[d[12],void 0,c.i64.cast([0,20])],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,f=[e.threadKey,e.clientThreadKey,e.authorityLevel],d[3]=f[0],d[4]=f[1],d[5]=f[2],f)})},function(e){return d[12]=c.i64.of_int32(a[6].length),c.i64.eq(a[1],c.i64.cast([0,1]))&&c.i64.gt(d[12],c.i64.cast([0,0]))?(d[13]=c.i64.of_int32(a[6].length),c.i64.gt(d[13],c.i64.cast([0,0]))?c.loopAsync(d[13],function(e){return d[14]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return d[17]=d[15].get("contact_id"),d[18]=d[15].get("contact_type"),d[19]=d[15].get("contact_name"),d[20]=d[15].get("contact_profile_photo"),c.storedProcedure(b("LSVerifyContactRowExists"),d[17],c.i64.cast([0,0]),d[20],d[19],d[18],void 0,void 0,void 0,void 0,!1,!1,c.i64.cast([0,0]),void 0,!1,c.i64.cast([0,20]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,5]))}])}):c.resolve()):c.resolve()},function(e){return a[5]!==void 0?c.sequence([function(d){return c.storedProcedure(b("LSMessagePointQuery"),a[0],a[5],a[1],void 0)},function(b){return b=[a[0],void 0],d[7]=b[0],d[8]=b[1],b}]):c.sequence([function(e){return(c.i64.eq(a[1],c.i64.cast([0,2]))||c.i64.eq(a[1],c.i64.cast([0,5]))||d[0]==="CTM")&&c.i64.eq(a[0],c.i64.cast([0,0]))?c.sequence([function(e){return d[14]=c.createArray(),d[15]=c.i64.of_int32(a[6].length),c.i64.gt(d[15],c.i64.cast([0,0]))?c.loopAsync(d[15],function(e){return d[28]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return d[31]=d[29].get("contact_id"),d[32]=d[29].get("contact_type"),d[33]=d[29].get("contact_name"),d[34]=d[29].get("contact_profile_photo"),d[35]=(d[14].push(d[31]),d[14])}])}):c.resolve()},function(a){return d[16]=c.i64.of_int32(d[14].length),d[17]=c.createArray(),c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[14].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[18]=d[30]}])},function(a){return c.groupBy(c.filter(c.db.table(14).fetch(),function(a){return d[14].some(function(b){return c.i64.eq(a.contactId,b)})}),"threadKey").forEach(function(a){return c.i64.eq(a.group_count,d[16])?d[28]=(d[17].push(a.threadKey),d[17]):0})},function(a){return d[19]=c.createArray(),c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[17].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[17],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[20]=d[30]}])},function(a){return c.groupBy(c.filter(c.db.table(14).fetch(),function(a){return d[17].some(function(b){return c.i64.eq(a.threadKey,b)})}),"threadKey").forEach(function(a){return c.i64.eq(a.group_count,d[16])?d[28]=(d[19].push(a.threadKey),d[19]):0})},function(a){return c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[19].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[21]=d[30]}])},function(b){return c.islc(c.filter(c.db.table(9).fetchDesc([[[c.merge({lt:c.i64.cast([0,5])},a[1])],[c.merge({gt:c.i64.cast([0,5])},a[1])],[c.merge(c.i64.cast([0,5]),a[1])]],"threadTypeLastActivityTimestampMs"]),function(b){return d[19].some(function(a){return c.i64.eq(b.threadKey,a)})&&(c.i64.neq(b.threadType,c.i64.cast([0,5]))&&b.threadName===void 0||c.i64.eq(b.threadType,c.i64.cast([0,5]))&&b.threadName===a[2])&&c.i64.eq(b.threadType,a[1])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[void 0,void 0,c.i64.cast([0,20])],d[22]=e[0],d[23]=e[1],d[24]=e[2],e):(b=a.item,e=[b.threadKey,b.clientThreadKey,b.authorityLevel],d[22]=e[0],d[23]=e[1],d[24]=e[2],e)})},function(e){return c.i64.neq(d[22],void 0)?c.sequence([function(e){return d[0]==="CTM"?c.sequence([function(e){return a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[45]="product_type",d[40]=d[38].get(d[45]),d[40]!==void 0?d[39].set(d[45],d[40]):0,d[46]="product_extras",d[41]=d[38].get(d[46]),d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[47]=!1:d[47]=!0,d[47]?c.resolve(d[48]=void 0):c.sequence([function(a){return d[49]=d[41].get("__typename"),d[49]==="XMSGStoryReplyExtras"?c.resolve((d[51]=new c.Map(),d[54]="logging",d[52]=d[41].get(d[54]),d[52]?d[53]=!1:d[53]=!0,d[53]?0:(d[52]?d[55]=!1:d[55]=!0,d[55]?d[56]=void 0:(d[57]=new c.Map(),d[65]="story_author_fbid",d[58]=d[52].get(d[65]),d[58]!==void 0?d[57].set(d[65],d[58]):0,d[66]="camera_post_type",d[59]=d[52].get(d[66]),d[59]!==void 0?d[57].set(d[66],d[59]):0,d[67]="story_type",d[60]=d[52].get(d[67]),d[60]!==void 0?d[57].set(d[67],d[60]):0,d[68]="post_source",d[61]=d[52].get(d[68]),d[61]!==void 0?d[57].set(d[68],d[61]):0,d[69]="fb_post_type",d[62]=d[52].get(d[69]),d[62]!==void 0?d[57].set(d[69],d[62]):0,d[70]="conversation_starter_type",d[63]=d[52].get(d[70]),d[63]!==void 0?d[57].set(d[70],d[63]):0,d[71]="story_reply_type",d[64]=d[52].get(d[71]),d[64]!==void 0?d[57].set(d[71],d[64]):0,d[56]=d[57]),d[51].set(d[54],d[56])),d[50]=d[51])):c.sequence([function(a){return d[49]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[52]=new c.Map(),d[71]="listing_id",d[53]=d[41].get(d[71]),d[53]!==void 0?d[52].set(d[71],d[53]):0,d[72]="initial_clicked_component",d[54]=d[41].get(d[72]),d[54]!==void 0?d[52].set(d[72],d[54]):0,d[73]="initial_tracking",d[55]=d[41].get(d[73]),d[55]!==void 0?d[52].set(d[73],d[55]):0,d[74]="referral_surface",d[56]=d[41].get(d[74]),d[56]!==void 0?d[52].set(d[74],d[56]):0,d[75]="referral_story_type",d[57]=d[41].get(d[75]),d[57]!==void 0?d[52].set(d[75],d[57]):0,d[76]="referral_ui_component",d[58]=d[41].get(d[76]),d[58]!==void 0?d[52].set(d[76],d[58]):0,d[77]="surface",d[59]=d[41].get(d[77]),d[59]!==void 0?d[52].set(d[77],d[59]):0,d[78]="tracking",d[60]=d[41].get(d[78]),d[60]!==void 0?d[52].set(d[78],d[60]):0,d[79]="ui_component",d[61]=d[41].get(d[79]),d[61]!==void 0?d[52].set(d[79],d[61]):0,d[80]="ad_id",d[62]=d[41].get(d[80]),d[62]!==void 0?d[52].set(d[80],d[62]):0,d[81]="server_session_id",d[63]=d[41].get(d[81]),d[63]!==void 0?d[52].set(d[81],d[63]):0,d[82]="cf_page_id",d[64]=d[41].get(d[82]),d[64]!==void 0?d[52].set(d[82],d[64]):0,d[83]="live_shopping_video_id",d[65]=d[41].get(d[83]),d[65]!==void 0?d[52].set(d[83],d[65]):0,d[84]="logging_id",d[66]=d[41].get(d[84]),c.i64.neq(d[66],void 0)?d[52].set(d[84],d[66]):0,d[85]="photo_ids",d[67]=d[41].get(d[85]),d[67]?d[68]=!1:d[68]=!0,d[68]?c.resolve():c.sequence([function(a){return d[88]=c.createArray(),d[89]=c.i64.of_int32(d[67].length),c.i64.gt(d[89],c.i64.cast([0,0]))?c.loopAsync(d[89],function(a){return d[90]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[67],d[90]).then(function(a){return a=a,d[91]=a[0],d[92]=a[1],a})},function(a){return d[93]=(d[88].push(d[91]),d[88])}])}):c.resolve()},function(a){return d[52].set(d[85],d[88])}])},function(a){return d[86]="is_customized_message",d[69]=d[41].get(d[86]),d[69]!==void 0?d[52].set(d[86],d[69]):0,d[87]="referral_code",d[70]=d[41].get(d[87]),d[70]!==void 0?d[52].set(d[87],d[70]):0,d[51]=d[52]}]):c.sequence([function(a){return d[49]==="XMSGClickToMessengerAdExtras"?c.resolve((d[53]=new c.Map(),d[64]="encrypted_ads_token",d[54]=d[41].get(d[64]),d[54]!==void 0?d[53].set(d[64],d[54]):0,d[65]="product_type",d[55]=d[41].get(d[65]),d[55]!==void 0?d[53].set(d[65],d[55]):0,d[66]="post_id",d[56]=d[41].get(d[66]),d[56]!==void 0?d[53].set(d[66],d[56]):0,d[67]="ad_id",d[57]=d[41].get(d[67]),d[57]!==void 0?d[53].set(d[67],d[57]):0,d[68]="page_id",d[58]=d[41].get(d[68]),d[58]!==void 0?d[53].set(d[68],d[58]):0,d[69]="photo_id",d[59]=d[41].get(d[69]),d[59]!==void 0?d[53].set(d[69],d[59]):0,d[70]="photo_index",d[60]=d[41].get(d[70]),c.i64.neq(d[60],void 0)?d[53].set(d[70],d[60]):0,d[71]="fallback_url",d[61]=d[41].get(d[71]),d[61]!==void 0?d[53].set(d[71],d[61]):0,d[72]="product_id",d[62]=d[41].get(d[72]),d[62]!==void 0?d[53].set(d[72],d[62]):0,d[73]="user_id",d[63]=d[41].get(d[73]),d[63]!==void 0?d[53].set(d[73],d[63]):0,d[52]=d[53])):c.sequence([function(a){return d[49]==="XMSGZorroMessageExtras"?c.resolve((d[54]=new c.Map(),d[56]="is_enabled",d[55]=d[41].get(d[56]),d[55]!==void 0?d[54].set(d[56],d[55]):0,d[53]=d[54])):c.sequence([function(a){return d[49]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[55]=new c.Map(),d[58]="prompt_type",d[56]=d[41].get(d[58]),d[56]!==void 0?d[55].set(d[58],d[56]):0,d[59]="qpl_join_id",d[57]=d[41].get(d[59]),d[57]!==void 0?d[55].set(d[59],d[57]):0,d[54]=d[55])):c.sequence([function(a){return d[49]==="XMSGGenAIMultiModalExtras"?c.resolve((d[56]=new c.Map(),d[60]="should_skip_genai_eval",d[57]=d[41].get(d[60]),d[57]!==void 0?d[56].set(d[60],d[57]):0,d[61]="associated_multimodal_message_id",d[58]=d[41].get(d[61]),d[58]!==void 0?d[56].set(d[61],d[58]):0,d[62]="qpl_join_id",d[59]=d[41].get(d[62]),d[59]!==void 0?d[56].set(d[62],d[59]):0,d[55]=d[56])):c.sequence([function(a){return d[49]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[57]=new c.Map(),d[60]="seed",d[58]=d[41].get(d[60]),c.i64.neq(d[58],void 0)?d[57].set(d[60],d[58]):0,d[61]="qpl_join_id",d[59]=d[41].get(d[61]),d[59]!==void 0?d[57].set(d[61],d[59]):0,d[56]=d[57])):c.sequence([function(a){return d[49]==="XMSGShareSheetExtras"?c.resolve((d[58]=new c.Map(),d[60]="recipient_selection_session_id",d[59]=d[41].get(d[60]),d[59]!==void 0?d[58].set(d[60],d[59]):0,d[57]=d[58])):c.sequence([function(a){return d[49]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[59]=new c.Map(),d[91]="referrer_session_id",d[60]=d[41].get(d[91]),d[60]!==void 0?d[59].set(d[91],d[60]):0,d[92]="thread_session_id",d[61]=d[41].get(d[92]),d[61]!==void 0?d[59].set(d[92],d[61]):0,d[93]="prompt_id",d[62]=d[41].get(d[93]),d[62]!==void 0?d[59].set(d[93],d[62]):0,d[94]="prompt_type",d[63]=d[41].get(d[94]),d[63]!==void 0?d[59].set(d[94],d[63]):0,d[95]="prompt_fit_topic",d[64]=d[41].get(d[95]),d[64]!==void 0?d[59].set(d[95],d[64]):0,d[96]="location_extras",d[65]=d[41].get(d[96]),d[65]?d[66]=!1:d[66]=!0,d[66]?0:(d[65]?d[115]=!1:d[115]=!0,d[115]?d[116]=void 0:(d[117]=new c.Map(),d[121]="has_previous_perm_prompt",d[118]=d[65].get(d[121]),d[118]!==void 0?d[117].set(d[121],d[118]):0,d[122]="latitude",d[119]=d[65].get(d[122]),d[119]!==void 0?d[117].set(d[122],d[119]):0,d[123]="longitude",d[120]=d[65].get(d[123]),d[120]!==void 0?d[117].set(d[123],d[120]):0,d[116]=d[117]),d[59].set(d[96],d[116])),d[97]="qpl_join_id",d[67]=d[41].get(d[97]),d[67]!==void 0?d[59].set(d[97],d[67]):0,d[98]="meta_ai_prompt_type",d[68]=d[41].get(d[98]),d[68]!==void 0?d[59].set(d[98],d[68]):0,d[99]="is_subsequent_send",d[69]=d[41].get(d[99]),d[69]!==void 0?d[59].set(d[99],d[69]):0,d[100]="context_injection_type",d[70]=d[41].get(d[100]),d[70]!==void 0?d[59].set(d[100],d[70]):0,d[101]="context_injection_timestamp_ms",d[71]=d[41].get(d[101]),d[71]!==void 0?d[59].set(d[101],d[71]):0,d[102]="meta_ai_response_to_persist",d[72]=d[41].get(d[102]),d[72]?d[73]=!1:d[73]=!0,d[73]?c.resolve():c.sequence([function(a){return d[72]?d[115]=!1:d[115]=!0,d[115]?c.resolve(d[116]=void 0):c.sequence([function(a){return d[117]=new c.Map(),d[124]="text",d[118]=d[72].get(d[124]),d[118]!==void 0?d[117].set(d[124],d[118]):0,d[125]="bot_response_id",d[119]=d[72].get(d[125]),d[119]!==void 0?d[117].set(d[125],d[119]):0,d[126]="bot_request_id",d[120]=d[72].get(d[126]),d[120]!==void 0?d[117].set(d[126],d[120]):0,d[127]="external_search_params",d[121]=d[72].get(d[127]),d[121]?d[122]=!1:d[122]=!0,d[122]?c.resolve():c.sequence([function(a){return d[121]?d[129]=!1:d[129]=!0,d[129]?c.resolve(d[130]=void 0):c.sequence([function(a){return d[131]=new c.Map(),d[139]="search_result_uri",d[132]=d[121].get(d[139]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=c.createArray(),d[147]=c.i64.of_int32(d[132].length),c.i64.gt(d[147],c.i64.cast([0,0]))?c.loopAsync(d[147],function(a){return d[148]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[148]).then(function(a){return a=a,d[149]=a[0],d[150]=a[1],a})},function(a){return d[151]=(d[146].push(d[149]),d[146])}])}):c.resolve()},function(a){return d[145]=d[146]}])},function(a){return d[131].set(d[139],d[145])}])},function(a){return d[140]="search_query",d[134]=d[121].get(d[140]),d[134]!==void 0?d[131].set(d[140],d[134]):0,d[141]="attribution_link",d[135]=d[121].get(d[141]),d[135]!==void 0?d[131].set(d[141],d[135]):0,d[142]="search_engine",d[136]=d[121].get(d[142]),d[136]!==void 0?d[131].set(d[142],d[136]):0,d[143]="references_title",d[137]=d[121].get(d[143]),d[137]?d[138]=!1:d[138]=!0,d[138]?c.resolve():c.sequence([function(a){return d[137]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=c.createArray(),d[147]=c.i64.of_int32(d[137].length),c.i64.gt(d[147],c.i64.cast([0,0]))?c.loopAsync(d[147],function(a){return d[148]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[137],d[148]).then(function(a){return a=a,d[149]=a[0],d[150]=a[1],a})},function(a){return d[151]=(d[146].push(d[149]),d[146])}])}):c.resolve()},function(a){return d[145]=d[146]}])},function(a){return d[131].set(d[143],d[145])}])},function(a){return d[130]=d[131]}])},function(a){return d[117].set(d[127],d[130])}])},function(a){return d[128]="followup_prompt_text",d[123]=d[72].get(d[128]),d[123]!==void 0?d[117].set(d[128],d[123]):0,d[116]=d[117]}])},function(a){return d[59].set(d[102],d[116])}])},function(a){return d[103]="gql_dark_test_qpl_join_id",d[74]=d[41].get(d[103]),d[74]!==void 0?d[59].set(d[103],d[74]):0,d[104]="gql_dark_test_client_start_time",d[75]=d[41].get(d[104]),d[75]!==void 0?d[59].set(d[104],d[75]):0,d[105]="prompt_context",d[76]=d[41].get(d[105]),d[76]?d[77]=!1:d[77]=!0,d[77]?0:(d[76]?d[115]=!1:d[115]=!0,d[115]?d[116]=void 0:(d[117]=new c.Map(),d[120]="context_token",d[118]=d[76].get(d[120]),d[118]!==void 0?d[117].set(d[120],d[118]):0,d[121]="context_token_type",d[119]=d[76].get(d[121]),c.i64.neq(d[119],void 0)?d[117].set(d[121],d[119]):0,d[116]=d[117]),d[59].set(d[105],d[116])),d[106]="imagine_flash_extras",d[78]=d[41].get(d[106]),d[78]?d[79]=!1:d[79]=!0,d[79]?0:(d[78]?d[115]=!1:d[115]=!0,d[115]?d[116]=void 0:(d[117]=new c.Map(),d[120]="seed",d[118]=d[78].get(d[120]),c.i64.neq(d[118],void 0)?d[117].set(d[120],d[118]):0,d[121]="qpl_join_id",d[119]=d[78].get(d[121]),d[119]!==void 0?d[117].set(d[121],d[119]):0,d[116]=d[117]),d[59].set(d[106],d[116])),d[107]="conversation_marker_id",d[80]=d[41].get(d[107]),d[80]!==void 0?d[59].set(d[107],d[80]):0,d[108]="multi_modal_extras",d[81]=d[41].get(d[108]),d[81]?d[82]=!1:d[82]=!0,d[82]?0:(d[81]?d[115]=!1:d[115]=!0,d[115]?d[116]=void 0:(d[117]=new c.Map(),d[121]="should_skip_genai_eval",d[118]=d[81].get(d[121]),d[118]!==void 0?d[117].set(d[121],d[118]):0,d[122]="associated_multimodal_message_id",d[119]=d[81].get(d[122]),d[119]!==void 0?d[117].set(d[122],d[119]):0,d[123]="qpl_join_id",d[120]=d[81].get(d[123]),d[120]!==void 0?d[117].set(d[123],d[120]):0,d[116]=d[117]),d[59].set(d[108],d[116])),d[109]="ads_extras",d[83]=d[41].get(d[109]),d[83]?d[84]=!1:d[84]=!0,d[84]?0:(d[83]?d[115]=!1:d[115]=!0,d[115]?d[116]=void 0:(d[117]=new c.Map(),d[121]="context",d[118]=d[83].get(d[121]),d[118]!==void 0?d[117].set(d[121],d[118]):0,d[122]="is_reply_to_ads_ai",d[119]=d[83].get(d[122]),d[119]!==void 0?d[117].set(d[122],d[119]):0,d[123]="is_message_processed_by_lightspeed",d[120]=d[83].get(d[123]),d[120]!==void 0?d[117].set(d[123],d[120]):0,d[116]=d[117]),d[59].set(d[109],d[116])),d[110]="suggested_prompt_extras",d[85]=d[41].get(d[110]),d[85]?d[86]=!1:d[86]=!0,d[86]?0:(d[85]?d[115]=!1:d[115]=!0,d[115]?d[116]=void 0:(d[117]=new c.Map(),d[120]="prompt_type",d[118]=d[85].get(d[120]),d[118]!==void 0?d[117].set(d[120],d[118]):0,d[121]="qpl_join_id",d[119]=d[85].get(d[121]),d[119]!==void 0?d[117].set(d[121],d[119]):0,d[116]=d[117]),d[59].set(d[110],d[116])),d[111]="disable_server_mqtt_typing_indicator",d[87]=d[41].get(d[111]),d[87]!==void 0?d[59].set(d[111],d[87]):0,d[112]="enable_web_scraping",d[88]=d[41].get(d[112]),d[88]!==void 0?d[59].set(d[112],d[88]):0,d[113]="client_prompt_timestamp",d[89]=d[41].get(d[113]),d[89]!==void 0?(d[89]!==void 0?d[115]=c.i64.from_string(d[89]):d[115]=void 0,d[59].set(d[113],d[115])):0,d[114]="is_client_ready_for_psi",d[90]=d[41].get(d[114]),d[90]!==void 0?d[59].set(d[114],d[90]):0,d[58]=d[59]}]):c.sequence([function(a){return d[49]==="XMSGProductHighlightExtras"?c.resolve((d[60]=new c.Map(),d[63]="product_highlight_type",d[61]=d[41].get(d[63]),d[61]!==void 0?d[60].set(d[63],d[61]):0,d[64]="conversation_marker",d[62]=d[41].get(d[64]),d[62]!==void 0?d[60].set(d[64],d[62]):0,d[59]=d[60])):c.sequence([function(a){return d[49]==="XMSGMagicMessengerExtras"?c.resolve((d[61]=new c.Map(),d[63]="is_magic_thread",d[62]=d[41].get(d[63]),d[62]!==void 0?d[61].set(d[63],d[62]):0,d[60]=d[61])):c.sequence([function(a){return d[49]==="XMSGAdsAIExtras"?c.resolve((d[62]=new c.Map(),d[66]="context",d[63]=d[41].get(d[66]),d[63]!==void 0?d[62].set(d[66],d[63]):0,d[67]="is_reply_to_ads_ai",d[64]=d[41].get(d[67]),d[64]!==void 0?d[62].set(d[67],d[64]):0,d[68]="is_message_processed_by_lightspeed",d[65]=d[41].get(d[68]),d[65]!==void 0?d[62].set(d[68],d[65]):0,d[61]=d[62])):c.sequence([function(a){return d[49]==="XMSGBizappExtras"?c.resolve((d[63]=new c.Map(),d[66]="message_source",d[64]=d[41].get(d[66]),d[64]!==void 0?d[63].set(d[66],d[64]):0,d[67]="message_trigger",d[65]=d[41].get(d[67]),d[65]!==void 0?d[63].set(d[67],d[65]):0,d[62]=d[63])):c.sequence([function(a){return d[63]=new c.Map(),d[64]=d[41].keys(),d[65]=c.i64.of_int32(d[64].length),c.i64.gt(d[65],c.i64.cast([0,0]))?c.loopAsync(d[65],function(a){return d[66]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[64],d[66]).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(a){return d[69]=d[41].get(d[67]),d[63].set(d[67],d[69])}])}):c.resolve()},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[50].set("__typename",d[49]),d[48]=d[50]}])},function(a){return d[39].set(d[46],d[48])}])},function(a){return d[43]=d[39].get("product_extras"),d[43]!==void 0?(d[47]=d[43].get("__typename"),d[47]==="XMSGClickToMessengerAdExtras"?(d[50]=new c.Map(),d[61]="encrypted_ads_token",d[51]=d[43].get(d[61]),d[51]!==void 0?d[50].set(d[61],d[51]):0,d[62]="product_type",d[52]=d[43].get(d[62]),d[52]!==void 0?d[50].set(d[62],d[52]):0,d[63]="post_id",d[53]=d[43].get(d[63]),d[53]!==void 0?d[50].set(d[63],d[53]):0,d[64]="ad_id",d[54]=d[43].get(d[64]),d[54]!==void 0?d[50].set(d[64],d[54]):0,d[65]="page_id",d[55]=d[43].get(d[65]),d[55]!==void 0?d[50].set(d[65],d[55]):0,d[66]="photo_id",d[56]=d[43].get(d[66]),d[56]!==void 0?d[50].set(d[66],d[56]):0,d[67]="photo_index",d[57]=d[43].get(d[67]),c.i64.neq(d[57],void 0)?d[50].set(d[67],d[57]):0,d[68]="fallback_url",d[58]=d[43].get(d[68]),d[58]!==void 0?d[50].set(d[68],d[58]):0,d[69]="product_id",d[59]=d[43].get(d[69]),d[59]!==void 0?d[50].set(d[69],d[59]):0,d[70]="user_id",d[60]=d[43].get(d[70]),d[60]!==void 0?d[50].set(d[70],d[60]):0,d[48]=d[50]):d[48]=void 0,d[48]!==void 0?(d[50]=d[48].get("page_id"),d[49]=d[50]):d[49]=void 0,d[44]=d[49]):d[44]=void 0,d[30]=d[44]}]):c.resolve(d[30]=void 0)},function(a){return d[31]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return d[30]!==void 0?d[37]=c.i64.from_string(d[30]):d[37]=d[32],a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[44]="product_type",d[40]=d[38].get(d[44]),d[40]!==void 0?d[39].set(d[44],d[40]):0,d[45]="product_extras",d[41]=d[38].get(d[45]),d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[46]=!1:d[46]=!0,d[46]?c.resolve(d[47]=void 0):c.sequence([function(a){return d[48]=d[41].get("__typename"),d[48]==="XMSGStoryReplyExtras"?c.resolve((d[50]=new c.Map(),d[53]="logging",d[51]=d[41].get(d[53]),d[51]?d[52]=!1:d[52]=!0,d[52]?0:(d[51]?d[54]=!1:d[54]=!0,d[54]?d[55]=void 0:(d[56]=new c.Map(),d[64]="story_author_fbid",d[57]=d[51].get(d[64]),d[57]!==void 0?d[56].set(d[64],d[57]):0,d[65]="camera_post_type",d[58]=d[51].get(d[65]),d[58]!==void 0?d[56].set(d[65],d[58]):0,d[66]="story_type",d[59]=d[51].get(d[66]),d[59]!==void 0?d[56].set(d[66],d[59]):0,d[67]="post_source",d[60]=d[51].get(d[67]),d[60]!==void 0?d[56].set(d[67],d[60]):0,d[68]="fb_post_type",d[61]=d[51].get(d[68]),d[61]!==void 0?d[56].set(d[68],d[61]):0,d[69]="conversation_starter_type",d[62]=d[51].get(d[69]),d[62]!==void 0?d[56].set(d[69],d[62]):0,d[70]="story_reply_type",d[63]=d[51].get(d[70]),d[63]!==void 0?d[56].set(d[70],d[63]):0,d[55]=d[56]),d[50].set(d[53],d[55])),d[49]=d[50])):c.sequence([function(a){return d[48]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[51]=new c.Map(),d[70]="listing_id",d[52]=d[41].get(d[70]),d[52]!==void 0?d[51].set(d[70],d[52]):0,d[71]="initial_clicked_component",d[53]=d[41].get(d[71]),d[53]!==void 0?d[51].set(d[71],d[53]):0,d[72]="initial_tracking",d[54]=d[41].get(d[72]),d[54]!==void 0?d[51].set(d[72],d[54]):0,d[73]="referral_surface",d[55]=d[41].get(d[73]),d[55]!==void 0?d[51].set(d[73],d[55]):0,d[74]="referral_story_type",d[56]=d[41].get(d[74]),d[56]!==void 0?d[51].set(d[74],d[56]):0,d[75]="referral_ui_component",d[57]=d[41].get(d[75]),d[57]!==void 0?d[51].set(d[75],d[57]):0,d[76]="surface",d[58]=d[41].get(d[76]),d[58]!==void 0?d[51].set(d[76],d[58]):0,d[77]="tracking",d[59]=d[41].get(d[77]),d[59]!==void 0?d[51].set(d[77],d[59]):0,d[78]="ui_component",d[60]=d[41].get(d[78]),d[60]!==void 0?d[51].set(d[78],d[60]):0,d[79]="ad_id",d[61]=d[41].get(d[79]),d[61]!==void 0?d[51].set(d[79],d[61]):0,d[80]="server_session_id",d[62]=d[41].get(d[80]),d[62]!==void 0?d[51].set(d[80],d[62]):0,d[81]="cf_page_id",d[63]=d[41].get(d[81]),d[63]!==void 0?d[51].set(d[81],d[63]):0,d[82]="live_shopping_video_id",d[64]=d[41].get(d[82]),d[64]!==void 0?d[51].set(d[82],d[64]):0,d[83]="logging_id",d[65]=d[41].get(d[83]),c.i64.neq(d[65],void 0)?d[51].set(d[83],d[65]):0,d[84]="photo_ids",d[66]=d[41].get(d[84]),d[66]?d[67]=!1:d[67]=!0,d[67]?c.resolve():c.sequence([function(a){return d[87]=c.createArray(),d[88]=c.i64.of_int32(d[66].length),c.i64.gt(d[88],c.i64.cast([0,0]))?c.loopAsync(d[88],function(a){return d[89]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[66],d[89]).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[92]=(d[87].push(d[90]),d[87])}])}):c.resolve()},function(a){return d[51].set(d[84],d[87])}])},function(a){return d[85]="is_customized_message",d[68]=d[41].get(d[85]),d[68]!==void 0?d[51].set(d[85],d[68]):0,d[86]="referral_code",d[69]=d[41].get(d[86]),d[69]!==void 0?d[51].set(d[86],d[69]):0,d[50]=d[51]}]):c.sequence([function(a){return d[48]==="XMSGClickToMessengerAdExtras"?c.resolve((d[52]=new c.Map(),d[63]="encrypted_ads_token",d[53]=d[41].get(d[63]),d[53]!==void 0?d[52].set(d[63],d[53]):0,d[64]="product_type",d[54]=d[41].get(d[64]),d[54]!==void 0?d[52].set(d[64],d[54]):0,d[65]="post_id",d[55]=d[41].get(d[65]),d[55]!==void 0?d[52].set(d[65],d[55]):0,d[66]="ad_id",d[56]=d[41].get(d[66]),d[56]!==void 0?d[52].set(d[66],d[56]):0,d[67]="page_id",d[57]=d[41].get(d[67]),d[57]!==void 0?d[52].set(d[67],d[57]):0,d[68]="photo_id",d[58]=d[41].get(d[68]),d[58]!==void 0?d[52].set(d[68],d[58]):0,d[69]="photo_index",d[59]=d[41].get(d[69]),c.i64.neq(d[59],void 0)?d[52].set(d[69],d[59]):0,d[70]="fallback_url",d[60]=d[41].get(d[70]),d[60]!==void 0?d[52].set(d[70],d[60]):0,d[71]="product_id",d[61]=d[41].get(d[71]),d[61]!==void 0?d[52].set(d[71],d[61]):0,d[72]="user_id",d[62]=d[41].get(d[72]),d[62]!==void 0?d[52].set(d[72],d[62]):0,d[51]=d[52])):c.sequence([function(a){return d[48]==="XMSGZorroMessageExtras"?c.resolve((d[53]=new c.Map(),d[55]="is_enabled",d[54]=d[41].get(d[55]),d[54]!==void 0?d[53].set(d[55],d[54]):0,d[52]=d[53])):c.sequence([function(a){return d[48]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[54]=new c.Map(),d[57]="prompt_type",d[55]=d[41].get(d[57]),d[55]!==void 0?d[54].set(d[57],d[55]):0,d[58]="qpl_join_id",d[56]=d[41].get(d[58]),d[56]!==void 0?d[54].set(d[58],d[56]):0,d[53]=d[54])):c.sequence([function(a){return d[48]==="XMSGGenAIMultiModalExtras"?c.resolve((d[55]=new c.Map(),d[59]="should_skip_genai_eval",d[56]=d[41].get(d[59]),d[56]!==void 0?d[55].set(d[59],d[56]):0,d[60]="associated_multimodal_message_id",d[57]=d[41].get(d[60]),d[57]!==void 0?d[55].set(d[60],d[57]):0,d[61]="qpl_join_id",d[58]=d[41].get(d[61]),d[58]!==void 0?d[55].set(d[61],d[58]):0,d[54]=d[55])):c.sequence([function(a){return d[48]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[56]=new c.Map(),d[59]="seed",d[57]=d[41].get(d[59]),c.i64.neq(d[57],void 0)?d[56].set(d[59],d[57]):0,d[60]="qpl_join_id",d[58]=d[41].get(d[60]),d[58]!==void 0?d[56].set(d[60],d[58]):0,d[55]=d[56])):c.sequence([function(a){return d[48]==="XMSGShareSheetExtras"?c.resolve((d[57]=new c.Map(),d[59]="recipient_selection_session_id",d[58]=d[41].get(d[59]),d[58]!==void 0?d[57].set(d[59],d[58]):0,d[56]=d[57])):c.sequence([function(a){return d[48]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[58]=new c.Map(),d[90]="referrer_session_id",d[59]=d[41].get(d[90]),d[59]!==void 0?d[58].set(d[90],d[59]):0,d[91]="thread_session_id",d[60]=d[41].get(d[91]),d[60]!==void 0?d[58].set(d[91],d[60]):0,d[92]="prompt_id",d[61]=d[41].get(d[92]),d[61]!==void 0?d[58].set(d[92],d[61]):0,d[93]="prompt_type",d[62]=d[41].get(d[93]),d[62]!==void 0?d[58].set(d[93],d[62]):0,d[94]="prompt_fit_topic",d[63]=d[41].get(d[94]),d[63]!==void 0?d[58].set(d[94],d[63]):0,d[95]="location_extras",d[64]=d[41].get(d[95]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[114]=!1:d[114]=!0,d[114]?d[115]=void 0:(d[116]=new c.Map(),d[120]="has_previous_perm_prompt",d[117]=d[64].get(d[120]),d[117]!==void 0?d[116].set(d[120],d[117]):0,d[121]="latitude",d[118]=d[64].get(d[121]),d[118]!==void 0?d[116].set(d[121],d[118]):0,d[122]="longitude",d[119]=d[64].get(d[122]),d[119]!==void 0?d[116].set(d[122],d[119]):0,d[115]=d[116]),d[58].set(d[95],d[115])),d[96]="qpl_join_id",d[66]=d[41].get(d[96]),d[66]!==void 0?d[58].set(d[96],d[66]):0,d[97]="meta_ai_prompt_type",d[67]=d[41].get(d[97]),d[67]!==void 0?d[58].set(d[97],d[67]):0,d[98]="is_subsequent_send",d[68]=d[41].get(d[98]),d[68]!==void 0?d[58].set(d[98],d[68]):0,d[99]="context_injection_type",d[69]=d[41].get(d[99]),d[69]!==void 0?d[58].set(d[99],d[69]):0,d[100]="context_injection_timestamp_ms",d[70]=d[41].get(d[100]),d[70]!==void 0?d[58].set(d[100],d[70]):0,d[101]="meta_ai_response_to_persist",d[71]=d[41].get(d[101]),d[71]?d[72]=!1:d[72]=!0,d[72]?c.resolve():c.sequence([function(a){return d[71]?d[114]=!1:d[114]=!0,d[114]?c.resolve(d[115]=void 0):c.sequence([function(a){return d[116]=new c.Map(),d[123]="text",d[117]=d[71].get(d[123]),d[117]!==void 0?d[116].set(d[123],d[117]):0,d[124]="bot_response_id",d[118]=d[71].get(d[124]),d[118]!==void 0?d[116].set(d[124],d[118]):0,d[125]="bot_request_id",d[119]=d[71].get(d[125]),d[119]!==void 0?d[116].set(d[125],d[119]):0,d[126]="external_search_params",d[120]=d[71].get(d[126]),d[120]?d[121]=!1:d[121]=!0,d[121]?c.resolve():c.sequence([function(a){return d[120]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=new c.Map(),d[138]="search_result_uri",d[131]=d[120].get(d[138]),d[131]?d[132]=!1:d[132]=!0,d[132]?c.resolve():c.sequence([function(a){return d[131]?d[143]=!1:d[143]=!0,d[143]?c.resolve(d[144]=void 0):c.sequence([function(a){return d[145]=c.createArray(),d[146]=c.i64.of_int32(d[131].length),c.i64.gt(d[146],c.i64.cast([0,0]))?c.loopAsync(d[146],function(a){return d[147]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[131],d[147]).then(function(a){return a=a,d[148]=a[0],d[149]=a[1],a})},function(a){return d[150]=(d[145].push(d[148]),d[145])}])}):c.resolve()},function(a){return d[144]=d[145]}])},function(a){return d[130].set(d[138],d[144])}])},function(a){return d[139]="search_query",d[133]=d[120].get(d[139]),d[133]!==void 0?d[130].set(d[139],d[133]):0,d[140]="attribution_link",d[134]=d[120].get(d[140]),d[134]!==void 0?d[130].set(d[140],d[134]):0,d[141]="search_engine",d[135]=d[120].get(d[141]),d[135]!==void 0?d[130].set(d[141],d[135]):0,d[142]="references_title",d[136]=d[120].get(d[142]),d[136]?d[137]=!1:d[137]=!0,d[137]?c.resolve():c.sequence([function(a){return d[136]?d[143]=!1:d[143]=!0,d[143]?c.resolve(d[144]=void 0):c.sequence([function(a){return d[145]=c.createArray(),d[146]=c.i64.of_int32(d[136].length),c.i64.gt(d[146],c.i64.cast([0,0]))?c.loopAsync(d[146],function(a){return d[147]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[136],d[147]).then(function(a){return a=a,d[148]=a[0],d[149]=a[1],a})},function(a){return d[150]=(d[145].push(d[148]),d[145])}])}):c.resolve()},function(a){return d[144]=d[145]}])},function(a){return d[130].set(d[142],d[144])}])},function(a){return d[129]=d[130]}])},function(a){return d[116].set(d[126],d[129])}])},function(a){return d[127]="followup_prompt_text",d[122]=d[71].get(d[127]),d[122]!==void 0?d[116].set(d[127],d[122]):0,d[115]=d[116]}])},function(a){return d[58].set(d[101],d[115])}])},function(a){return d[102]="gql_dark_test_qpl_join_id",d[73]=d[41].get(d[102]),d[73]!==void 0?d[58].set(d[102],d[73]):0,d[103]="gql_dark_test_client_start_time",d[74]=d[41].get(d[103]),d[74]!==void 0?d[58].set(d[103],d[74]):0,d[104]="prompt_context",d[75]=d[41].get(d[104]),d[75]?d[76]=!1:d[76]=!0,d[76]?0:(d[75]?d[114]=!1:d[114]=!0,d[114]?d[115]=void 0:(d[116]=new c.Map(),d[119]="context_token",d[117]=d[75].get(d[119]),d[117]!==void 0?d[116].set(d[119],d[117]):0,d[120]="context_token_type",d[118]=d[75].get(d[120]),c.i64.neq(d[118],void 0)?d[116].set(d[120],d[118]):0,d[115]=d[116]),d[58].set(d[104],d[115])),d[105]="imagine_flash_extras",d[77]=d[41].get(d[105]),d[77]?d[78]=!1:d[78]=!0,d[78]?0:(d[77]?d[114]=!1:d[114]=!0,d[114]?d[115]=void 0:(d[116]=new c.Map(),d[119]="seed",d[117]=d[77].get(d[119]),c.i64.neq(d[117],void 0)?d[116].set(d[119],d[117]):0,d[120]="qpl_join_id",d[118]=d[77].get(d[120]),d[118]!==void 0?d[116].set(d[120],d[118]):0,d[115]=d[116]),d[58].set(d[105],d[115])),d[106]="conversation_marker_id",d[79]=d[41].get(d[106]),d[79]!==void 0?d[58].set(d[106],d[79]):0,d[107]="multi_modal_extras",d[80]=d[41].get(d[107]),d[80]?d[81]=!1:d[81]=!0,d[81]?0:(d[80]?d[114]=!1:d[114]=!0,d[114]?d[115]=void 0:(d[116]=new c.Map(),d[120]="should_skip_genai_eval",d[117]=d[80].get(d[120]),d[117]!==void 0?d[116].set(d[120],d[117]):0,d[121]="associated_multimodal_message_id",d[118]=d[80].get(d[121]),d[118]!==void 0?d[116].set(d[121],d[118]):0,d[122]="qpl_join_id",d[119]=d[80].get(d[122]),d[119]!==void 0?d[116].set(d[122],d[119]):0,d[115]=d[116]),d[58].set(d[107],d[115])),d[108]="ads_extras",d[82]=d[41].get(d[108]),d[82]?d[83]=!1:d[83]=!0,d[83]?0:(d[82]?d[114]=!1:d[114]=!0,d[114]?d[115]=void 0:(d[116]=new c.Map(),d[120]="context",d[117]=d[82].get(d[120]),d[117]!==void 0?d[116].set(d[120],d[117]):0,d[121]="is_reply_to_ads_ai",d[118]=d[82].get(d[121]),d[118]!==void 0?d[116].set(d[121],d[118]):0,d[122]="is_message_processed_by_lightspeed",d[119]=d[82].get(d[122]),d[119]!==void 0?d[116].set(d[122],d[119]):0,d[115]=d[116]),d[58].set(d[108],d[115])),d[109]="suggested_prompt_extras",d[84]=d[41].get(d[109]),d[84]?d[85]=!1:d[85]=!0,d[85]?0:(d[84]?d[114]=!1:d[114]=!0,d[114]?d[115]=void 0:(d[116]=new c.Map(),d[119]="prompt_type",d[117]=d[84].get(d[119]),d[117]!==void 0?d[116].set(d[119],d[117]):0,d[120]="qpl_join_id",d[118]=d[84].get(d[120]),d[118]!==void 0?d[116].set(d[120],d[118]):0,d[115]=d[116]),d[58].set(d[109],d[115])),d[110]="disable_server_mqtt_typing_indicator",d[86]=d[41].get(d[110]),d[86]!==void 0?d[58].set(d[110],d[86]):0,d[111]="enable_web_scraping",d[87]=d[41].get(d[111]),d[87]!==void 0?d[58].set(d[111],d[87]):0,d[112]="client_prompt_timestamp",d[88]=d[41].get(d[112]),d[88]!==void 0?(d[88]!==void 0?d[114]=c.i64.from_string(d[88]):d[114]=void 0,d[58].set(d[112],d[114])):0,d[113]="is_client_ready_for_psi",d[89]=d[41].get(d[113]),d[89]!==void 0?d[58].set(d[113],d[89]):0,d[57]=d[58]}]):c.sequence([function(a){return d[48]==="XMSGProductHighlightExtras"?c.resolve((d[59]=new c.Map(),d[62]="product_highlight_type",d[60]=d[41].get(d[62]),d[60]!==void 0?d[59].set(d[62],d[60]):0,d[63]="conversation_marker",d[61]=d[41].get(d[63]),d[61]!==void 0?d[59].set(d[63],d[61]):0,d[58]=d[59])):c.sequence([function(a){return d[48]==="XMSGMagicMessengerExtras"?c.resolve((d[60]=new c.Map(),d[62]="is_magic_thread",d[61]=d[41].get(d[62]),d[61]!==void 0?d[60].set(d[62],d[61]):0,d[59]=d[60])):c.sequence([function(a){return d[48]==="XMSGAdsAIExtras"?c.resolve((d[61]=new c.Map(),d[65]="context",d[62]=d[41].get(d[65]),d[62]!==void 0?d[61].set(d[65],d[62]):0,d[66]="is_reply_to_ads_ai",d[63]=d[41].get(d[66]),d[63]!==void 0?d[61].set(d[66],d[63]):0,d[67]="is_message_processed_by_lightspeed",d[64]=d[41].get(d[67]),d[64]!==void 0?d[61].set(d[67],d[64]):0,d[60]=d[61])):c.sequence([function(a){return d[48]==="XMSGBizappExtras"?c.resolve((d[62]=new c.Map(),d[65]="message_source",d[63]=d[41].get(d[65]),d[63]!==void 0?d[62].set(d[65],d[63]):0,d[66]="message_trigger",d[64]=d[41].get(d[66]),d[64]!==void 0?d[62].set(d[66],d[64]):0,d[61]=d[62])):c.sequence([function(a){return d[62]=new c.Map(),d[63]=d[41].keys(),d[64]=c.i64.of_int32(d[63].length),c.i64.gt(d[64],c.i64.cast([0,0]))?c.loopAsync(d[64],function(a){return d[65]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[63],d[65]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[68]=d[41].get(d[66]),d[62].set(d[66],d[68])}])}):c.resolve()},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[49].set("__typename",d[48]),d[47]=d[49]}])},function(a){return d[39].set(d[45],d[47])}])},function(a){return d[43]=d[39].get("product_extras"),d[43]!==void 0?(d[46]=d[43].get("__typename"),d[46]==="XMSGClickToMessengerAdExtras"?(d[48]=new c.Map(),d[59]="encrypted_ads_token",d[49]=d[43].get(d[59]),d[49]!==void 0?d[48].set(d[59],d[49]):0,d[60]="product_type",d[50]=d[43].get(d[60]),d[50]!==void 0?d[48].set(d[60],d[50]):0,d[61]="post_id",d[51]=d[43].get(d[61]),d[51]!==void 0?d[48].set(d[61],d[51]):0,d[62]="ad_id",d[52]=d[43].get(d[62]),d[52]!==void 0?d[48].set(d[62],d[52]):0,d[63]="page_id",d[53]=d[43].get(d[63]),d[53]!==void 0?d[48].set(d[63],d[53]):0,d[64]="photo_id",d[54]=d[43].get(d[64]),d[54]!==void 0?d[48].set(d[64],d[54]):0,d[65]="photo_index",d[55]=d[43].get(d[65]),c.i64.neq(d[55],void 0)?d[48].set(d[65],d[55]):0,d[66]="fallback_url",d[56]=d[43].get(d[66]),d[56]!==void 0?d[48].set(d[66],d[56]):0,d[67]="product_id",d[57]=d[43].get(d[67]),d[57]!==void 0?d[48].set(d[67],d[57]):0,d[68]="user_id",d[58]=d[43].get(d[68]),d[58]!==void 0?d[48].set(d[68],d[58]):0,d[47]=d[48]):d[47]=void 0,d[47]!==void 0?(d[48]=new c.Map(),d[48].set("product_extras",d[47]),d[48].set("client_thread_key",d[37]),d[48].set("offline_threading_id",c.i64.to_string(d[34])),d[48].set("admin_text_otid",c.i64.to_string(d[36])),d[49]=d[48].get("client_thread_key"),d[50]=c.toJSON(d[48]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[49]),c.i64.cast([0,1020]),d[50],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()):c.resolve()}]):c.resolve()}]):c.resolve()},function(e){return c.i64.eq(d[24],c.i64.cast([0,20]))&&!1&&!1?c.sequence([function(e){return c.storedProcedure(b("LSCreateGroupThreadWithAdminText"),d[14],void 0,a[2],void 0).then(function(a){return a=a,d[30]=a[0],a})},function(a){return a=[d[30],c.i64.cast([0,80])],d[28]=a[0],d[29]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?c.sequence([function(e){return c.storedProcedure(b("LSVerifyThreadRowExistsV2"),d[22],a[1],c.i64.cast([0,1]),c.i64.cast([0,20]))},function(a){return d[30]=c.i64.cast([0,20])}]):c.sequence([function(e){return c.i64.eq(d[24],c.i64.cast([0,80]))&&!1&&!1?d[31]=d[24]:d[31]=c.i64.cast([0,40]),c.storedProcedure(b("LSVerifyThreadRowExists"),d[22],a[1],c.i64.cast([0,1]))},function(a){return d[30]=d[31]}])},function(a){return a=[d[22],d[30]],d[28]=a[0],d[29]=a[1],a}])},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.sequence([function(e){return d[36]=c.i64.of_int32(a[6].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(e){return d[37]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[37]).then(function(a){return a=a,d[38]=a[0],d[39]=a[1],a})},function(a){return d[40]=d[38].get("contact_id"),d[41]=d[38].get("contact_type"),d[42]=d[38].get("contact_name"),d[43]=d[38].get("contact_profile_photo"),c.storedProcedure(b("LSVerifyContactRowExists"),d[40],c.i64.cast([0,0]),d[43],d[42],d[41],void 0,void 0,void 0,void 0,!1,!1,c.i64.cast([0,0]),void 0,!1,c.i64.cast([0,20]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,5]))}])}):c.resolve()},function(e){return void 0?d[28]=!1:d[28]=!0,d[28]?(e=["",void 0,void 0,void 0,void 0],d[29]=e[0],d[30]=e[1],d[31]=e[2],d[32]=e[3],d[33]=e[4],e):(d[36]=(void 0).get("nullstate_description_text1"),d[36]!==void 0?d[37]=d[36]:d[37]="",d[38]=(void 0).get("nullstate_description_text2"),d[39]=(void 0).get("nullstate_description_text3"),d[40]=(void 0).get("nullstate_description_text4"),d[41]=(void 0).get("nullstate_description_text5"),e=[d[37],d[38],d[39],d[40],d[41]],d[29]=e[0],d[30]=e[1],d[31]=e[2],d[32]=e[3],d[33]=e[4],e),c.sequence([function(e){return d[36]=new c.Map(),d[36].set("nullstate_description_text1",d[29]),d[36].set("nullstate_description_text2",d[30]),d[36].set("nullstate_description_text3",d[31]),d[36].set("nullstate_description_text4",d[32]),d[36].set("nullstate_description_text5",d[33]),c.storedProcedure(b("LSLocalCreateOptimisticGroupThread"),d[14],"",a[2],!0,a[8]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.storedProcedure(b("LSInsertNewMessageRange"),d[37],c.i64.cast([0,0]),c.i64.cast([2328,1316134911]),"","",c.i64.cast([0,0]),c.i64.cast([0,0]),!1,!1,void 0)},function(a){return a=[d[37],void 0],d[34]=a[0],d[35]=a[1],a}])},function(a){return a=[d[34],d[35]],d[26]=a[0],d[27]=a[1],a}])},function(a){return a=[d[26],d[27]],d[12]=a[0],d[13]=a[1],a}]):c.sequence([function(e){return[c.i64.cast([0,19]),c.i64.cast([0,28])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(e){return d[16]=new c.Map(),d[16].set("thread_fbid",a[0]),d[16].set("force_upsert",!1),d[16].set("use_open_messenger_transport",!1),d[16].set("sync_group",c.i64.cast([0,104])),d[16].set("metadata_only",!1),d[16].set("preview_only",!0),d[17]=d[16].get("thread_fbid"),d[18]=c.toJSON(d[16]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[17]),c.i64.cast([0,209]),d[18],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return b=[a[0],void 0],d[14]=b[0],d[15]=b[1],b}]):c.sequence([function(d){return c.i64.eq(a[1],c.i64.cast([0,5]))?c.storedProcedure(b("LSVerifyThreadRowExistsV2"),a[0],a[1],c.i64.cast([0,1]),c.i64.cast([0,20])):c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[1],c.i64.cast([0,1]))},function(e){return c.i64.lt(d[5],c.i64.cast([0,60]))?c.storedProcedure(b("LSInsertNewMessageRange"),a[0],c.i64.cast([0,0]),c.i64.cast([2328,1316134911]),"","",c.i64.cast([0,0]),c.i64.cast([0,0]),!1,!1,void 0):c.resolve()},function(b){return b=[a[0],void 0],d[14]=b[0],d[15]=b[1],b}])},function(a){return a=[d[14],d[15]],d[12]=a[0],d[13]=a[1],a}])},function(a){return a=[d[12],d[13]],d[7]=a[0],d[8]=a[1],a}])},function(e){return c.i64.eq(d[8]==null?d[5]:d[8],c.i64.cast([0,20]))?c.sequence([function(e){return c.i64.neq(a[4],void 0)?c.resolve(d[12]=a[4]):c.sequence([function(a){return c.storedProcedure(b("LSComputeOptimisticThreadCapabilities"),d[7]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[12]=d[13]}])},function(a){return c.forEach(c.db.table(9).fetch([[[d[7]]]]),function(a){var b=a.update;a.item;return b({capabilities:d[12]})})}]):c.resolve()},function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[7],c.i64.cast([0,0])],d[9]=e[0],d[10]=e[1],e):(b=a.item,b.isDisappearingMode?(e=[b.disappearingThreadKey,c.i64.cast([0,1024])],d[12]=e[0],d[13]=e[1],e):(a=[d[7],b.mailboxType],d[12]=a[0],d[13]=a[1],a),e=[d[12],d[13]],d[9]=e[0],d[10]=e[1],e)})},function(a){return a=[d[9],d[10]],d[1]=a[0],d[2]=a[1],a}])},function(a){return a=[d[1],d[2]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadViewStoredProcedure";a.__tables__=["threads","participants"];e.exports=a}),null);
__d("LSVerifyThreadViewStoredProcedure",["LSSynchronousPromise","LSVerifyThreadView","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadView"),e.threadKey,e.threadType,e.threadName,e.threadPictureUrl,e.threadCapabilities,e.messageId,e.contacts,e.mailboxType,e.threadMetadata,e.enableCcThreadMetadataFix);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._(/*BTDS*/"No people found")}g["default"]=a}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsx(c("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:c("getPeopleTypeaheadNullStateText")()})})),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState;function a(a){var b=a.ref,e=a.context,f=a.dataSource,g=a.inputElement,h=a.layoutStrategyRenderer,p=a.loggingProvider,q=a.onAriaChange,r=a.onEntriesUpdated,s=a.onHighlightEntry,t=a.onSelectedEntry,u=a.onVisibilityChange,v=a.position;v=v===void 0?"above":v;var w=a.queryString,x=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref","context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"]);var y=m(null),z=n(null),A=z[0],B=z[1],C=m([]);z=n(C.current);var D=z[0],E=z[1];z=n(!0);var F=z[0],G=z[1],H=m(null),I=m(w);k(function(){I.current=w},[w]);var J=j(function(a){s&&s(a),B(a),y.current=a},[s]);z=c("useBaseTypeaheadDataSourceFetch")({dataSource:f,onResolvePayload:j(function(a){var b;a=a.entries;C.current=a;E(a);var d=c("baseTypeaheadFlattenEntries")(a),e=d[0];b=y==null?void 0:(b=y.current)==null?void 0:b.key;e!=null&&!d.map(function(a){return a.key}).includes(b)&&J(e);r&&r(a.length>0)},[J,r])});var K=z[0].isLoading,L=z[1],M=F&&(D.length>0||K);k(function(){M?p.startSession(I.current):p.isSessionActive()&&p.maybeEndSession(I.current,c("baseTypeaheadFlattenEntries")(C.current));u(M);return function(){p.isSessionActive()&&p.maybeEndSession(I.current,c("baseTypeaheadFlattenEntries")(C.current))}},[u,p,M]);k(function(){G(!0),L({query:w})},[L,w,f]);l(b,function(){return{getViewRef:function(){return H},hasSelection:function(){return o(c("baseTypeaheadFlattenEntries")(C.current),A)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(c("baseTypeaheadFlattenEntries")(C.current),A!=null?A.key:null,J,!1)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(c("baseTypeaheadFlattenEntries")(C.current),A!=null?A.key:null,J,!1)},select:function(){var a=c("baseTypeaheadFlattenEntries")(C.current);t&&A!=null&&o(a,A)&&(p.isSessionActive()&&p.maybeEndSession(w,a,A),t(A))}}},[A,J,t,p,w]);z=j(function(a){var b=c("baseTypeaheadFlattenEntries")(C.current);t&&o(b,a)&&(p.isSessionActive()&&p.maybeEndSession(w,b,a),t(a))},[t,p,w]);k(function(){if(M===!1)return;function a(a,b){a=a.parentElement;while(a!=null&&a!==b)a=a.parentElement;return a===b}var b=function(b){b=b.target;if(!(b instanceof HTMLElement))return;var c=H.current;c=c!==null&&(b===c||a(b,c));b=g!==null&&(b===g||a(b,g));G(c||b)};document.addEventListener("click",b);return function(){return document.removeEventListener("click",b)}},[g,M]);return!M?null:i.jsx(h,{ariaProps:{role:"listbox"},context:e,entries:D,highlightedEntry:A,isLoading:K,onAriaChange:q,onBlur:a.onBlur,onHighlightEntry:J,onPressEntry:z,onPressEntryIn:z,position:v,queryString:w,viewRef:H,viewStrategyRenderer:x})}a.displayName=a.name+" [from "+f.id+"]";function o(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){return a.key===c})!=null}g["default"]=a}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=a.anchor;if(a.type!=="text")return null;var c=a.getNode();if(b!=null&&!b()||b==null&&!c.isSimpleText())return null;b=a.offset;return c.getTextContent().slice(0,b)}function a(a,b){return a.getEditorState().read(function(){var a=d("Lexical").$getSelection();return!d("Lexical").$isRangeSelection(a)?null:h(a,b)})}g["default"]=a}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=d("react-compiler-runtime").c(4),e=j(!1),f,g;c[0]!==b||c[1]!==a?(f=function(){if(e.current)return;var c=a.getRootElement()===document.activeElement;if(c){b();e.current=!0;return}var f=a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b();e.current=!0;f();return!1},d("Lexical").COMMAND_PRIORITY_LOW);return f},g=[b,a,e],c[0]=b,c[1]=a,c[2]=f,c[3]=g):(f=c[2],g=c[3]);i(f,g)}g["default"]=a}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("445");b=d("FalcoLoggerInternal").create("mentions_session_end_without_click",a);e=b;g["default"]=e}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("446");b=d("FalcoLoggerInternal").create("mentions_session_start",a);e=b;g["default"]=e}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("447");b=d("FalcoLoggerInternal").create("mentions_suggestion_clicked",a);e=b;g["default"]=e}),98);
__d("CometMentionsLoggingProvider",["MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","guid","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=null,this.$1=a}var b=a.prototype;b.getSessionID=function(){this.$3==null&&c("recoverableViolation")("Mentions logging sessionID does not exist.","search");return this.$3};b.isSessionActive=function(){return this.$2};b.startSession=function(a){var b=this;if(a==null)return;var d=c("guid")();this.$3=d;this.$2=!0;c("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$1,{session_id:d,typed_query:a})})};b.maybeEndSession=function(a,b,d){if(a==null)return;var e=b!=null?JSON.stringify(b.map(function(a){return{id:a.key}})):null,f=babelHelpers["extends"]({},this.$1,{serialized_candidate_suggestions:e,session_id:this.getSessionID(),typed_query:a});if(d!=null){var g=d.key,h=(e=b==null?void 0:b.findIndex(function(a){return a.key===g}))!=null?e:null,i=isNaN(parseInt(d.key,10))?"0":d.key;c("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},f,{selected_position:String(h),selected_result_display_text:d.label,selected_result_id:i,selected_result_id_string:d.key})})}else c("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return f});this.$3=null;this.$2=!1};return a}();g["default"]=a}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){var b=d("react-compiler-runtime").c(2);a=a===void 0?i:a;var e;b[0]!==a?(e=new(c("CometMentionsLoggingProvider"))(a),b[0]=a,b[1]=e):e=b[1];a=e;return a}g["default"]=a}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.startTransition,j=b.useEffect,k=b.useState;function l(a,b){var c=window.getSelection();if(c===null||!c.isCollapsed||a===null)return!1;var d=c.anchorNode;a=a.leadOffset;c=c.anchorOffset;try{b.setStart(d,a),b.setEnd(d,c)}catch(a){return!1}return!0}function a(a,b,e){var f=d("react-compiler-runtime").c(5),g=k(null),h=g[0],m=g[1],n;f[0]!==e||f[1]!==b||f[2]!==a?(g=function(){var d;d=document.createRange();var f;f=null;var g;g=null;var h;h=null;var j=function(){var j=d,k=c("getCometComposerMentionsSearchForLexical")(a,e);if(k===f||j===null)return;f=k;k=b(k);var n=k.dataSource,o=k.searchResult;if(n===g&&o===h)return;k=l(o,j);g=n;h=o;!k||n===null||o===null?i(function(){return m(null)}):i(function(){m({dataSource:n,range:j,searchResult:o})})},k=a.registerUpdateListener(j);j();return function(){d=null,k()}},n=[e,b,a],f[0]=e,f[1]=b,f[2]=a,f[3]=g,f[4]=n):(g=f[3],n=f[4]);j(g,n);return h}g["default"]=a}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","react-compiler-runtime","recoverableViolation","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState;function a(a){var b=a.$isValidSelection,e=a.createNodeStrategy,f=a.dataSourceResolverConfig,g=f.bootstrap,h=f.resolver,m=a.editor;f=a.layoutStrategyRenderer;var o=a.mentionsHandlerForSelectedEntry,r=a.mentionsLoggerContext,s=a.onMentionsEntrySelected,t=a.position;t=t===void 0?"below":t;a=a.viewStrategyRenderer;var u=c("useCometMentionsResolutionForLexical")(m,h,b),v=l(!1),w=n(m),x=w[0],y=w[1],z=l(null),A=q(m);c("useCometMentionsBootstrapForLexical")(m,g);k(function(){return m.registerCommand(d("Lexical").BLUR_COMMAND,function(){A();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[m,A]);w=j(function(){A()},[A]);k(function(){var a;a=[{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:(a=d("Lexical")).KEY_ENTER_COMMAND},{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:a.KEY_TAB_COMMAND},{handler:function(a){a.moveUp();return!0},type:a.KEY_ARROW_UP_COMMAND},{handler:function(a){a.moveDown();return!0},type:a.KEY_ARROW_DOWN_COMMAND},{handler:function(){A();y();return!0},type:a.KEY_ESCAPE_COMMAND}];return d("LexicalUtils").mergeRegister.apply(void 0,a.map(function(a){var b=a.handler;a=a.type;return m.registerCommand(a,function(a){var c=z.current,d=v.current;if(c===null||!d||x)return!1;if(b(c)){d=a;d.preventDefault();d.stopPropagation();return!0}return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[y,m,A,x]);g=j(function(a){v.current=a},[]);var B=j(function(a){if(a)return;A()},[A]),C=j(function(a){var d=c("getCometComposerMentionsSearchForLexical")(m,b);if(d==null){c("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var f=h(d);f=f.searchResult;if(f==null){c("recoverableViolation")("onPressEntry was called and no search result was found for the query "+d,"CometComposer");return}A();d=o==null?void 0:o(a);if(d!=null&&!d.shouldMentionSelectedEntry)return;p(m,e,a,f,b);s==null?void 0:s(a);y()},[m,b,h,A,o,e,s,y]);r=c("useCometMentionsLoggingProvider")(r);if(u===null||x){A();v.current=!1;return null}return i.jsx(c("CometMentions.react"),{context:u.range,dataSource:u.dataSource,inputElement:m.getRootElement(),layoutStrategyRenderer:f,loggingProvider:r,onAriaChange:A,onBlur:w,onEntriesUpdated:B,onFocus:c("emptyFunction"),onSelectedEntry:C,onVisibilityChange:g,position:t,queryString:u.searchResult.matchingString,ref:z,viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=d("react-compiler-runtime").c(7),c=m(!1),e=c[0],f=c[1],g;b[0]!==a||b[1]!==e?(c=function(){if(e){var b;b=a.getEditorState().read(d("LexicalText").$rootTextContent);return a.registerTextContentListener(function(a){b!==null&&a!==b&&f(!1),b=a})}},g=[a,e],b[0]=a,b[1]=e,b[2]=c,b[3]=g):(c=b[2],g=b[3]);k(c,g);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){return f(!0)},b[4]=c):c=b[4];b[5]!==e?(g=[e,c],b[5]=e,b[6]=g):g=b[6];c=g;return c}function o(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}function p(a,b,c,e,f){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var g=a.getNode();if(f!=null&&!f()||f==null&&!g.isSimpleText())return;a=a.offset;var h=g.getTextContent().slice(0,a),i=c.label,j=e.replaceableString.length;h=o(h,i,j);i=a-h;if(i<0)return;b({anchorNode:g,endOffset:a,selectedEntry:c,startOffset:i})})}function q(a){var b=d("react-compiler-runtime").c(2),c=l(void 0),e=l(void 0),f;b[0]!==a?(f=function(b,f){var g=c.current,h=e.current;(g!==b||h!==f)&&(c.current=b,e.current=f,a.dispatchCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:b,controlsID:f}))},b[0]=a,b[1]=f):f=b[1];return f}g["default"]=a}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","react-compiler-runtime","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),e=a.entries,f=a.highlightedEntry,g=a.onAriaChange;b[0]!==e?(a=c("baseTypeaheadFlattenEntries")(e),b[0]=e,b[1]=a):a=b[1];b[2]!==f||b[3]!==a?(e={activeEntries:a,helperText:"",highlightedEntry:f,inputLabel:"",isOpened:!0,viewRole:"listbox"},b[2]=f,b[3]=a,b[4]=e):e=b[4];f=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(e);var h=f.ariaInputProps;a=f.ariaViewProps;b[5]!==h||b[6]!==g?(e=function(){return g(h["aria-activedescendant"],h["aria-controls"])},f=[h,g],b[5]=h,b[6]=g,b[7]=e,b[8]=f):(e=b[7],f=b[8]);i(e,f);return a}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","react-compiler-runtime","useBaseMentionsLayoutStrategyARIAProps.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e,f,g,h,j;b[0]!==a?(f=a.isLoading,j=a.isLoadingIndicatorEnabled,g=a.onAriaChange,e=a.viewStrategyRenderer,h=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading","isLoadingIndicatorEnabled","onAriaChange","viewStrategyRenderer"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);a=j===void 0?!1:j;b[6]!==g||b[7]!==h.entries||b[8]!==h.highlightedEntry?(j={entries:h.entries,highlightedEntry:h.highlightedEntry,onAriaChange:g},b[6]=g,b[7]=h.entries,b[8]=h.highlightedEntry,b[9]=j):j=b[9];g=c("useBaseMentionsLayoutStrategyARIAProps.react")(j);j=a?f:!1;b[10]!==e||b[11]!==g||b[12]!==h||b[13]!==j?(a=i.jsx(e,babelHelpers["extends"]({},h,{ariaProps:g,isLoading:j})),b[10]=e,b[11]=g,b[12]=h,b[13]=j,b[14]=a):a=b[14];b[15]!==f||b[16]!==h.entries?(e=!f&&h.entries.length===0?i.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null,b[15]=f,b[16]=h.entries,b[17]=e):e=b[17];b[18]!==a||b[19]!==e?(g=i.jsxs("div",{children:[a,e]}),b[18]=a,b[19]=e,b[20]=g):g=b[20];return g}g["default"]=a}),98);
__d("CometMentionsLayoutStrategy.react",["ARIA_LABEL_PLACEHOLDER_FIXME","CometContextualLayer.react","CometPopover_DEPRECATED.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e,f,g,h,j,k,l;b[0]!==a?(e=a.ariaProps,f=a.context,g=a.entries,h=a.onBlur,j=a.position,l=a.viewRef,k=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","context","entries","onBlur","position","viewRef"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7]);if(g.length===0)return null;b[8]!==e||b[9]!==g||b[10]!==k?(a=i.jsx(c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers["extends"]({ariaProps:e,entries:g,isLoading:!1},k)),b[8]=e,b[9]=g,b[10]=k,b[11]=a):a=b[11];b[12]!==h||b[13]!==a||b[14]!==l?(e=i.jsx(c("CometPopover_DEPRECATED.react"),{"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),onBlur:h,ref:l,role:"listbox",children:a}),b[12]=h,b[13]=a,b[14]=l,b[15]=e):e=b[15];b[16]!==f||b[17]!==j||b[18]!==e?(g=i.jsx(c("CometContextualLayer.react"),{align:"start",context_DEPRECATED:f,position:j,children:e}),b[16]=f,b[17]=j,b[18]=e,b[19]=g):g=b[19];return g}g["default"]=a}),98);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","FDSText.react","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(30),e,f,g,h;if(b[0]!==a){var j=a.ariaProps,k=a.entries;a.extraViewProps;var l=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var m=a.viewItemStrategyRenderer,n=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"]);j=j;f=k;g=l;e=m;h=n;b[0]=a;b[1]=e;b[2]=j;b[3]=f;b[4]=g;b[5]=h}else e=b[1],j=b[2],f=b[3],g=b[4],h=b[5];k=j.role;if(k!=null){b[6]!==k?(l={role:k},b[6]=k,b[7]=l):l=b[7];m=l}else{b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={},b[8]=n):n=b[8];m=n}a=m;b[9]!==k?(l=c("getItemRoleFromCompositeRole")(k),b[9]=k,b[10]=l):l=b[10];var o=l;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(n="x78zum5 xdt5ytf x1iyjqo2",b[11]=n):n=b[11];if(b[12]!==e||b[13]!==f||b[14]!==((m=g)==null?void 0:m.key)||b[15]!==o||b[16]!==h){if(b[18]!==e||b[19]!==f.length||b[20]!==((k=g)==null?void 0:k.key)||b[21]!==o||b[22]!==h){l=function(a,b){if(a.type==="section"){var d=a.entries,j=a.key,k=a.label;return d.length===0?null:i.jsxs("li",{"aria-selected":"false",role:"option",children:[i.jsx("div",babelHelpers["extends"]({className:"x889kno x1iji9kk x1a8lsjc x1sln4lm"},{children:i.jsx("label",{htmlFor:j,children:i.jsx(c("FDSText.react"),{color:"primary",type:"entityHeaderMeta2",children:k})})})),i.jsx("ul",{id:j,role:"listbox",children:d.map(function(a){var b;return i.createElement(e,babelHelpers["extends"]({},h,{entry:a,isActive:a.key===((b=g)==null?void 0:b.key),key:a.key,role:o}))})})]},"section-"+j)}else{return i.createElement(e,babelHelpers["extends"]({},h,{entry:a,isActive:a.key===((k=g)==null?void 0:k.key),isFirstItem:b===0,isLastItem:b===f.length-1,key:a.key,role:o}))}};b[18]=e;b[19]=f.length;b[20]=(m=g)==null?void 0:m.key;b[21]=o;b[22]=h;b[23]=l}else l=b[23];k=f.map(l);b[12]=e;b[13]=f;b[14]=(m=g)==null?void 0:m.key;b[15]=o;b[16]=h;b[17]=k}else k=b[17];b[24]!==a||b[25]!==k?(l=i.jsx(c("CometCompositeStructureContext").Provider,{value:a,children:k}),b[24]=a,b[25]=k,b[26]=l):l=b[26];b[27]!==j||b[28]!==l?(m=i.jsx("ul",babelHelpers["extends"]({},j,{className:n,"data-testid":void 0,children:l})),b[27]=j,b[28]=l,b[29]=m):m=b[29];return m}g["default"]=a}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e;if(b[0]!==a){var f=a.onPressEntryIn;a.queryString;var g=babelHelpers.objectWithoutPropertiesLoose(a,["onPressEntryIn","queryString"]);g=g;e=function(a,b){b.preventDefault(),f&&f(a,b)};b[0]=a;b[1]=g;b[2]=e}else g=b[1],e=b[2];a=e;b[3]!==a||b[4]!==g?(e=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{onPressEntryIn:a})),b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("CometTypeaheadCompositeDataSource",["BaseDataEntryKeyBuilder","Promise","baseTypeaheadDedupEntriesBuilder","baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.bootstrapDataSource,c=a.limit,d=a.networkDataSource;a=a.nullstateDataSource;this.$1=!1;this.$2=b;this.$3=c;this.$4=d;this.$5=a}var d=a.prototype;d.bootstrap=function(){if(this.$1)return;this.$2!=null&&this.$2.bootstrap();this.$5!=null&&void this.$5.fetchNetwork({query:""});this.$1=!0};d.fetchCache=function(a){var b=a.query;if(this.$5!=null&&b==="")return this.$5.fetchCache(a);if(b==="")return{entries:[],params:a};if(this.$2==null)return this.$4!=null?this.$4.fetchCache(a):{entries:[],params:a};b=this.$2.fetchCache(a);var d=b.entries,e=c("baseTypeaheadFlattenEntries")(d).length;if(e>=this.$3||this.$4==null)return b;e=this.$4.fetchCache(a);b=e.entries;a=e.params;e=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))((e=d)!=null?e:[],(d=b)!=null?d:[]);return{entries:e,params:a}};d.fetchNetwork=function(a){var d=a.query;if(this.$5!=null&&d==="")return this.$5.fetchNetwork(a);if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});d=this.$2;if(d==null&&this.$4==null)return(h||(h=b("Promise"))).resolve({entries:[],params:a});if(d==null)return this.$4!=null?this.$4.fetchNetwork(a):(h||(h=b("Promise"))).resolve({entries:[],params:a});var e=d.fetchCache(a);return this.$4==null?(h||(h=b("Promise"))).resolve(e):this.$4.fetchNetwork(a).then(function(a){var b=e.entries,d=a.entries;a=a.params;d=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))((b=b)!=null?b:[],(b=d)!=null?b:[]);return{entries:d,params:a}})};return a}();g["default"]=a}),98);
__d("baseTypeaheadContainsMatchBuilder",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.query;var b=new RegExp(""+c("escapeRegex")(a),"i");return function(a){return b.test((a=a.label)!=null?a:"")}}g["default"]=a}),98);
__d("baseTypeaheadPrefixWithDocumentContainsMatchBuilder",["baseTypeaheadContainsMatchBuilder","baseTypeaheadStartsWithMatchBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return a.key.includes("diff:")||a.key.includes("task:")||a.key.includes("gdocs:")||a.key.includes("quip:")||a.key.includes("notes:")||a.key.includes("wiki:")?c("baseTypeaheadContainsMatchBuilder")({query:b})(a):c("baseTypeaheadStartsWithMatchBuilder")({query:b})(a)}}g["default"]=a}),98);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){var h=/[ ]+/g,i=/[^ ]+/g;f=new RegExp("[^ "+l()+"]+|"+a(),"g");var j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function b(a){return a.replace(j," ")}function r(a){return a.replace(h," ")}function s(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return r(b)}function t(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d){var e=d[0];c.push(e);d=b.exec(a)}return c}function d(a,b){b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=s(e),h=a(g);c[e]={value:e,flatValue:g,tokens:t(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var u=d(b),v=d(function(a){return a},f);function e(a,b,d){var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?v:u;b=g(b,a=="prefix");var h=a=="prefix"?c("nullthrows")(b.sortedTokens):b.tokens,i=g(d).tokens,j={},k=b.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={collapse:r,flatten:s,parse:u,parseIncludingPunctuations:v,getPunctuation:a,makeParse:d,isExactMatch:e.bind(null,"exact"),isQueryMatch:e.bind(null,"query"),isQueryMatchIncludingPunctuations:e.bind(null,"query_punc"),isAlignedMatch:e.bind(null,"aligned"),isPrefixMatch:e.bind(null,"prefix"),tokenize:t};q=p;g["default"]=q}),98);
__d("baseTypeaheadQueryMatchBuilder",["TokenizeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return c("TokenizeUtil").isQueryMatch(b,a.label)}}g["default"]=a}),98);
__d("CometTypeaheadGraphQLBootstrapDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadContainsMatchBuilder","baseTypeaheadPrefixWithDocumentContainsMatchBuilder","baseTypeaheadQueryMatchBuilder","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={prefix:c("baseTypeaheadStartsWithMatchBuilder"),prefix_with_document_substring:c("baseTypeaheadPrefixWithDocumentContainsMatchBuilder"),substring:c("baseTypeaheadContainsMatchBuilder"),token:c("baseTypeaheadQueryMatchBuilder")};a=function(){function a(a){var b=a.bootstrapDataProvider,d=a.matchStrategy;d=d===void 0?"prefix":d;a=a.normalize;this.$2=!1;this.$1=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:h[d]});this.$3=a;this.$4=b}var b=a.prototype;b.isBootstrapped=function(){return this.$2};b.bootstrap=function(){var a=this;c("promiseDone")(this.$4.fetch({query:""}).then(function(b){b=b.response;return a.$3(b)}).then(function(b){a.$1.add(b,null)}).then(function(){return a.$2=!0}))};b.fetchCache=function(a){var b=a.query;b=this.$1.match(b);return{entries:b,params:a}};return a}();g["default"]=a}),98);
__d("CometTypeaheadGraphQLDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.gqlQuery,d=a.normalize,e=a.options,f=a.queryVariablesBuilderFunction;a=a.relayEnvironment;var g=function(){return f};g=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(g);e=new(c("BaseTypeaheadDataProvider"))({options:e,query:b,queryVariablesBuilder:g,relayEnvironment:a});b=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:c("baseTypeaheadLabelSuffixBuilder")});this.$1=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,b,{normalizeFunc:d})}var b=a.prototype;b.fetchCache=function(a){return this.$1.fetchCache(a)};b.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};b.clearCache=function(){this.$1.clearCache()};return a}();g["default"]=a}),98);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d}),66);
__d("FDSCheckmarkFilled24Icon",["cr:13975"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13975")}),98);
__d("FDSCheckmarkFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("477815"),24);b=a;g["default"]=b}),98);
__d("FDSChevronLeftFilled16Icon",["cr:13978"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13978")}),98);
__d("FDSChevronLeftFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("492485"),16);b=a;g["default"]=b}),98);
__d("FDSChevronRightFilled16Icon",["cr:13982"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13982")}),98);
__d("FDSChevronRightFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("492533"),16);b=a;g["default"]=b}),98);
__d("FeedComposerCometMentionsViewItem.react",["fbt","ix","CometProfileVerificationBadge.react","CometSearchMentionsBaseViewItem.react","FDSIcon.react","FDSProfilePhoto.react","FDSText.react","fbicon","react","react-compiler-runtime","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m={invitedName:{alignItems:"x6s0dn4",maxWidth:"x11t6kkg",$$css:!0},invitedVerifiedName:{alignItems:"x6s0dn4",maxWidth:"xw5ewwj",$$css:!0},name:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(46),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;a=a.rawData;var g=!1,k=!1,n=null,o="circle";if(a.type==="MENTION_SEARCH_RESULT"){var p;g=Boolean(a.isExternal);k=a.isVerified;n=a.subtext;o=(p=a.iconShape)!=null?p:"circle"}p=e;p=p.label;var q=f.addOn,r=m.name;q!=null&&(r=k?m.invitedVerifiedName:m.invitedName);a=a.type!=="SEE_ALL_ENTRY"&&a.type!=="MENTION_TYPE_RESET"?a.photoURI:null;if(a==null){c("recoverableViolation")("No profile picture found for mentions entry","comet_composer");return null}var s;b[3]!==a?(s={uri:a},b[3]=a,b[4]=s):s=b[4];b[5]!==o||b[6]!==s?(a=l.jsx(c("FDSProfilePhoto.react"),{shape:o,size:40,source:s}),b[5]=o,b[6]=s,b[7]=a):a=b[7];o=a;s="CometSearchMentionsBaseViewItem/"+p;var t;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x78zum5 x1gfrnbc x18ip3f8"},t={className:"x1vqgdyp x100vrsf"},b[8]=a,b[9]=t):(a=b[8],t=b[9]);b[10]!==o?(t=l.jsx("div",babelHelpers["extends"]({},t,{children:o})),b[10]=o,b[11]=t):t=b[11];var u;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1iyjqo2 x16n37ib x6ikm8r x10wlt62 xlyipyv xuxw1ft"},u={className:"x78zum5 x1gslohp x12nagc"},b[12]=o,b[13]=u):(o=b[12],u=b[13]);var v;b[14]!==r?(v=(j||(j=c("stylex"))).props(r),b[14]=r,b[15]=v):v=b[15];b[16]!==p?(r=l.jsx(c("FDSText.react"),{numberOfLines:1,type:"headlineEmphasized4",children:p}),b[16]=p,b[17]=r):r=b[17];b[18]!==r||b[19]!==v?(p=l.jsx("div",babelHelpers["extends"]({},v,{children:r})),b[18]=r,b[19]=v,b[20]=p):p=b[20];b[21]!==e.key||b[22]!==k?(r=k&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x51ohtg"}),l.jsx("div",babelHelpers["extends"]({className:"x1kpxq89"},{children:l.jsx(c("CometProfileVerificationBadge.react"),{profileID:e.key,size:"small"})})),l.jsx("div",{className:"x51ohtg"})]}),b[21]=e.key,b[22]=k,b[23]=r):r=b[23];b[24]!==g?(v=g?l.jsx("span",babelHelpers["extends"]({className:"x1t2a60a"},{children:l.jsx(c("FDSIcon.react"),{alt:h._(/*BTDS*/"Not part of your organisation"),color:"primary",icon:d("fbicon")._(i("785426"),12)})})):null,b[24]=g,b[25]=v):v=b[25];b[26]!==p||b[27]!==r||b[28]!==v?(k=l.jsxs("div",babelHelpers["extends"]({},u,{children:[p,r,v]})),b[26]=p,b[27]=r,b[28]=v,b[29]=k):k=b[29];b[30]!==n?(g=n!=null&&l.jsxs("div",babelHelpers["extends"]({className:"x12nagc"},{children:[l.jsx("div",{className:"xdk7pt"}),l.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta3",children:n})]})),b[30]=n,b[31]=g):g=b[31];b[32]!==k||b[33]!==g?(u=l.jsxs("div",babelHelpers["extends"]({},o,{children:[k,g]})),b[32]=k,b[33]=g,b[34]=u):u=b[34];b[35]!==q?(p=l.jsx("div",{children:q}),b[35]=q,b[36]=p):p=b[36];b[37]!==u||b[38]!==p||b[39]!==t?(r=l.jsxs("div",babelHelpers["extends"]({},a,{children:[t,u,p]})),b[37]=u,b[38]=p,b[39]=t,b[40]=r):r=b[40];b[41]!==e||b[42]!==f||b[43]!==r||b[44]!==s?(v=l.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},f,{entry:e,testid:void 0,children:r})),b[41]=e,b[42]=f,b[43]=r,b[44]=s,b[45]=v):v=b[45];return v}g["default"]=a}),226);
__d("MLCHealthLoggerEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DAILY_INTERACTION_WITH_SURFACE:"daily_interaction_with_surface",COMMIT_CREATE:"commit_create",COMMIT_EDIT:"commit_edit"});c=a;f["default"]=c}),66);
__d("MlcHealthBizappEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2646");b=d("FalcoLoggerInternal").create("mlc_health_bizapp_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookAndWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2647");b=d("FalcoLoggerInternal").create("mlc_health_facebook_and_workplace_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2648");b=d("FalcoLoggerInternal").create("mlc_health_facebook_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInstagramEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3766");b=d("FalcoLoggerInternal").create("mlc_health_instagram_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInternalToolsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2649");b=d("FalcoLoggerInternal").create("mlc_health_internal_tools_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthMessagingLightswitchEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2650");b=d("FalcoLoggerInternal").create("mlc_health_messaging_lightswitch_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2651");b=d("FalcoLoggerInternal").create("mlc_health_workplace_event",a);e=b;g["default"]=e}),98);
__d("MLCHealthInstrumentationPlugin__INTERNAL.react",["Lexical","LexicalComposerContext","LexicalUtils","MLCInstrumentationCommands","MlcHealthBizappEventFalcoEvent","MlcHealthFacebookAndWorkplaceEventFalcoEvent","MlcHealthFacebookEventFalcoEvent","MlcHealthInstagramEventFalcoEvent","MlcHealthInternalToolsEventFalcoEvent","MlcHealthMessagingLightswitchEventFalcoEvent","MlcHealthWorkplaceEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect,j=new Set();function k(a){switch(a){case"facebook":return c("MlcHealthFacebookEventFalcoEvent");case"workplace":return c("MlcHealthWorkplaceEventFalcoEvent");case"facebook_and_workplace":return c("MlcHealthFacebookAndWorkplaceEventFalcoEvent");case"internal_tools":return c("MlcHealthInternalToolsEventFalcoEvent");case"messaging_lightswitch":return c("MlcHealthMessagingLightswitchEventFalcoEvent");case"bizapp":return c("MlcHealthBizappEventFalcoEvent");case"instagram":return c("MlcHealthInstagramEventFalcoEvent");default:return null}}function l(a,b,c){(a=k(a))==null?void 0:a.log(function(){return{event:c,surface:b}})}function a(a){var b=a.policyProduct,c=a.surface;a=d("LexicalComposerContext").useLexicalComposerContext();var e=a[0];i(function(){var a=function(){};j.has(c)||(a=e.registerUpdateListener(function(d){var f=d.dirtyLeaves;d=d.tags;if(j.has(c)){a();return}if(f.size===0||d.has("history-merge")||!e.isEditable())return;j.add(c);l(b,c,"daily_interaction_with_surface");a()}));return d("LexicalUtils").mergeRegister(a,e.registerCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,function(a){a==="create"?l(b,c,"commit_create"):l(b,c,"commit_edit");return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL))},[e,b,c]);return null}g["default"]=a}),98);
__d("MLCInteractionInstrumentationPlugin__INTERNAL.react",["cr:3286","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return b("cr:3286")&&i.jsx(b("cr:3286"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCTextLengthBucket",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["S","M","L","XL"]);function a(a){if(a<=500)return g.S;if(a<=1e3)return g.M;return a<=2500?g.L:g.XL}f.TextLengthBucketEnum=g;f.getTextLengthBucket=a}),66);
__d("MLCTypingPerformancePlugin__INTERNAL.react",["LexicalComposerContext","LexicalText","MLCTextLengthBucket","cr:2012305","cr:308","cr:3287","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useLayoutEffect,k=c("gkx")("3849"),l=b("cr:2012305")||b("cr:308"),m=new RegExp("[^,;\\s]{200,}"),n=new RegExp("[^,;\\s]{100,199}"),o=new RegExp("[^,;\\s]{50,99}");function p(a){if(a==="")return 0;if(m.test(a))return 200;else if(n.test(a))return 100;else if(o.test(a))return 50;else return 0}function a(a){if(l===null)return null;b("cr:3287")&&b("cr:3287")();return i.jsx(q,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a.format__DEPRECATED,e=a.surface;a=a.typingPerformanceID;var f=a===void 0?"":a;a=d("LexicalComposerContext").useLexicalComposerContext();var g=a[0];j(function(){var a=babelHelpers["extends"]({largeWord:p(g.getEditorState().read(d("LexicalText").$rootTextContent))},k?{textLengthBucket:d("MLCTextLengthBucket").getTextLengthBucket(g.getEditorState().read(d("LexicalText").$rootTextContent).length)}:null,e==="FeedComposerCometStatusArea"?{autolinkFastPath:String(c("gkx")("8927"))}:null),h;i();function i(){h==null?void 0:h();if(l===null)return;var c=null,d=g.registerRootListener(function(d){if(d===c)return;c!==null&&l.unregisterTypingPerf(c);if(d!==null){var g;l.trackTypingPerf(d,e,c,babelHelpers["extends"]({},a,{editor:"LexicalEditor",format:(g=b)!=null?g:"",typingPerformanceID:f}))}c=d});h=function(){d(),c!==null&&l.unregisterTypingPerf(c)}}var j=g.registerTextContentListener(function(b){b=p(b);b!==a.largeWord&&(a.largeWord=b,i())}),m=k?g.registerTextContentListener(function(b){b=d("MLCTextLengthBucket").getTextLengthBucket(b.length);b!==a.textLengthBucket&&(a.textLengthBucket=b,i())}):null;return function(){h==null?void 0:h(),j==null?void 0:j(),m==null?void 0:m()}},[f,g,b,e]);return null}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCInstrumentationPlugin__INTERNAL.react",["MLCHealthInstrumentationPlugin__INTERNAL.react","MLCInteractionInstrumentationPlugin__INTERNAL.react","MLCTypingPerformancePlugin__INTERNAL.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b="facebook";b;function a(a){return i.jsxs(i.Fragment,{children:[i.jsx(c("MLCTypingPerformancePlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),i.jsx(c("MLCHealthInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),i.jsx(c("MLCInteractionInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.anchorNode,e=b.endOffset,f=b.selectedEntry;b=b.startOffset;if(b===0){var g=d.splitText(e);g=g[0]}else{d=d.splitText(b,e);g=d[1]}if(g==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+e+".");return}d=a(f);g.replace(d);d.selectNext(0,0)}}g["default"]=a}),98);
__d("cometMentionsDataEntryText",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return(b=a.handle)!=null?b:a.label}f["default"]=a}),66);
__d("cometTypeaheadCreateOrGetCachedCompositeDataSource",["CometLruCache","CometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CometLruCache").create(5);function a(a){var b=a.cacheKey_SEARCH_ONLY;a=babelHelpers.objectWithoutPropertiesLoose(a,["cacheKey_SEARCH_ONLY"]);b=i(b);var d=h.get(b);if(d!=null)return d;d=new(c("CometTypeaheadCompositeDataSource"))(a);h.set(b,d);return d}function i(a){switch(a.type){case"group_rules_mentions_intentful_datasource_cache_key":case"groups_mentions_intentful_datasource_cache_key":case"groups_mentions_non_intentful_datasource_cache_key":return a.type+"-"+a.groupID;case"feed_mentions_intentful_datasource_cache_key":return a.enableTypeSelection.toString()+"-"+a.type+"-"+a.mentionTypes.join(",");case"workplace_chat_composer_mentions_datasource_cache_key":return a.participants.toString()+"-"+a.type+"-"+a.threadID+"}";case"groups_post_mentions_intentful_datasource_cache_key":return a.type+"-"+a.groupID+"-"+a.postID;default:return String(a.type)}}g["default"]=a}),98);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f,g){"use strict";var h="(?:\\.[ |$]| |["+c("DocumentMentionsRegex").PUNCTUATION+"]|)",i=75;function j(a,b,c){b="[^"+a+b+"\\s]";c=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+c+"){0,"+i+"}))$");var d=50;a=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+"){0,"+d+"}))$");return{regex:c,regexAlias:a}}function a(a){var b=a.minMatchLength,d=a.name,e=a.triggers,f=a.disallowedChars;f=f===void 0?c("DocumentMentionsRegex").PUNCTUATION:f;var g=a.disallowedTerms;a=a.validJoins;a=a===void 0?h:a;e=j(e,f,a);var i=e.regex,k=e.regexAlias;return{findMentionableString:function(a){var c=i.exec(a);c===null&&(c=k.exec(a));if(c!==null){a=c[1];var d=c[3];if(g==null?void 0:g.includes(d.toLowerCase()))return null;if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:d}}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategy",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join("");function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({minMatchLength:a,name:"AtSignComposerMentionStrategy("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("createCometMentionsNameMatchStrategy",[],(function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";var g="\\b[A-Z][^\\s"+b+"]",h="\\b[a-z][^\\s"+b+"]";function a(a){var b=a.commonWordsBlocklist,c=a.minMatchLength;a=a.nameCase;var d=a==="capitalized"?g:h,e=new RegExp("(^|[^#])((?:"+d+"{"+1+",})$)");return{findMentionableString:function(a){a=e.exec(a);if(a===null)return null;var d=a[1],f=a[2];if(b.includes(f))return null;return f!=null&&f.length>=c?{leadOffset:a.index+d.length,matchingString:f,replaceableString:f}:null},name:"NameMentionStrategy("+c.toString()+", "+a+")"}}f["default"]=a}),66);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}f["default"]=a}),66);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}f["default"]=a}),66);
__d("getUpgradedCometEmojiComposerHandler",["CometLexicalEmojiNode","EmojiRenderer","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.registerNodeTransform(d("Lexical").TextNode,function(a){if(!a.isSimpleText())return;var e=a.getTextContent(),f=a,g=0;d("EmojiRenderer").parse(e).forEach(function(e){var h=e.emoji,i=e.length;e=e.offset;var j=h.join("");h=c("FBEmojiResource").fromCodepoints(h);if(h==null)return;h=h.getImageURL(b);if(h==null)return;var k=j;j=d("CometLexicalEmojiNode").$createEmojiNode(j,k,h,b);k=e-g;h=k+i;if(k===0){e=f.splitText(h);a=e[0];f=e[1]}else{i=f.splitText(k,h);a=i[1];f=i[2]}g+=h;a.replace(j);j})});return function(){e()}}g["default"]=a}),98);
__d("getUpgradedCometHashtagComposerHandler",["FBLogger","LexicalHashtag","LexicalText","LexicalUtils","getHashtagRegexString"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp(c("getHashtagRegexString")(),"i");function a(a){if(!a.hasNodes([d("LexicalHashtag").HashtagNode]))throw c("FBLogger")("outline_ufi").mustfixThrow("HashtagPlugin: HashtagNode not registered on editor");var b=function(a){return d("LexicalHashtag").$createHashtagNode(a.getTextContent())},e=function(a){a=h.exec(a);if(a===null)return null;var b=a[3].length+1;a=a.index+a[1].length;b=a+b;return{end:b,start:a}};return d("LexicalUtils").mergeRegister.apply(void 0,d("LexicalText").registerLexicalTextEntity(a,e,d("LexicalHashtag").HashtagNode,b))}g["default"]=a}),98);
__d("useCometMentionsDataSourceResolverConfig",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect;b.useMemo;function a(a,b){var c=d("react-compiler-runtime").c(12),e;c[0]!==a?(e=function(){a.forEach(j)},c[0]=a,c[1]=e):e=c[1];var f=e,g;c[2]!==f||c[3]!==b?(e=function(){if(!b)return;f()},g=[b,f],c[2]=f,c[3]=b,c[4]=e,c[5]=g):(e=c[4],g=c[5]);i(e,g);c[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=new Map(),c[6]=e):e=c[6];var h=e;c[7]!==a?(g=function(b){var c={dataSource:null,searchResult:null};if(b==null)return c;var d=h.get(b);if(d!=null)return d;for(d=0;d<a.length;d++){var e=a[d],f=e.dataSource;e=e.matchStrategy;e=e.findMentionableString(b);if(e!=null){f={dataSource:f,searchResult:e};h.set(b,f);return f}}h.set(b,c);return c},c[7]=a,c[8]=g):g=c[8];c[9]!==f||c[10]!==g?(e={bootstrap:f,resolver:g},c[9]=f,c[10]=g,c[11]=e):e=c[11];g=e;return g}function j(a){a=a.dataSource;a.bootstrap()}g["default"]=a}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(2),e=a.viewItemStrategyRenderer;b[0]!==e?(a=function(a){var b=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading"]);return i.jsxs(i.Fragment,{children:[i.jsx(c("CometMentionsViewListStrategy.react"),babelHelpers["extends"]({},a,{isLoading:!1,viewItemStrategyRenderer:e})),b&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},b[0]=e,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCustomEqualityMemo",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(a,b){var d=(h||(h=c("useUnsafeRef_DEPRECATED")))(a),e=b(d.current,a)?d.current:a;j(function(){d.current=e},[e]);return e}g["default"]=a}),98);
__d("useDeepEqualMemo",["areEqual","useCustomEqualityMemo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("useCustomEqualityMemo")(a,h||(h=c("areEqual")))}g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapDataSource",["BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,h=a.normalize,j=a.queryVariables,k=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),l=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var m=i(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:l});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:h})},[a,l]);return i(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))}}},[m,k])}g["default"]=a}),98);
__d("useCometTypeaheadCompositeDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometTypeaheadCompositeDataSource","baseTypeaheadFetchPayloadDecorate","cometTypeaheadCreateOrGetCachedCompositeDataSource","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.bootstrapDataSource,d=a.cacheKey_SEARCH_ONLY,e=a.limit,f=a.networkDataSource,g=a.nullstateDataSource,h=a.payloadDecorators,k=i(function(a){return c("baseTypeaheadFetchPayloadDecorate")(a,[].concat((a=h)!=null?a:[],[c("BaseTypeaheadPayloadDecoratorAddLimit")(e)]))},[e,h]),l=j(function(){return{bootstrapDataSource:b,limit:e,networkDataSource:f,nullstateDataSource:g}},[b,e,f,g]),m=j(function(){return d!=null?c("cometTypeaheadCreateOrGetCachedCompositeDataSource")(babelHelpers["extends"]({},l,{cacheKey_SEARCH_ONLY:d})):new(c("CometTypeaheadCompositeDataSource"))(l)},[d,l]);return j(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))},fetchNetwork:function(a){return m.fetchNetwork(a).then(function(a){return k(a)})}}},[m,k])}g["default"]=a}),98);
__d("useCometTypeaheadGraphQLDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction,j=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(e)},[e]),k=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(h({query:""}));var l=i(function(){return new(c("CometTypeaheadGraphQLDataSource"))({gqlQuery:b,normalize:f,options:g,queryVariablesBuilderFunction:h,relayEnvironment:k})},[a,k]);return i(function(){return{clearCache:function(){l.clearCache()},fetchCache:function(a){return j(l.fetchCache(a))},fetchNetwork:function(a){return l.fetchNetwork(a).then(function(a){return j(a)})}}},[l,j])}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.Immutable=c()})(this,function(){var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("immutable",["immutable-3.7.3"],(function(a,b,c,d,e,f){e.exports=b("immutable-3.7.3")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("object-assign-4.1.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(a){if(a===null||a===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if(Object.getOwnPropertyNames(a)[0]==="5")return!1;var b={};for(a=0;a<10;a++)b["_"+String.fromCharCode(a)]=a;a=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if(a.join("")!=="0123456789")return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return Object.keys(Object.assign({},c)).join("")!=="abcdefghijklmnopqrst"?!1:!0}catch(a){return!1}}g.exports=e()?Object.assign:function(e,f){var g,h=d(e),i;for(var j=1;j<arguments.length;j++){g=Object(arguments[j]);for(var k in g)b.call(g,k)&&(h[k]=g[k]);if(a){i=a(g);for(var l=0;l<i.length;l++)c.call(g,i[l])&&(h[i[l]]=g[i[l]])}}return h}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("EBAPIMessageRangeQueryWithPersistence",["EBMessageRangeQueryWithPersistence"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("EBMessageRangeQueryWithPersistence").messageRangeQueryWithPersistence}),98);
__d("EbFetchTimeoutMsForMLv2",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("justknobx")._("3074")}g["default"]=a}),98);
__d("LSGroupPollEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({QUESTION_CREATION:1,ADD_OPTION:2,ADD_UNVOTED_OPTION:3,UPDATE_VOTE:4,MULTIPLE_UPDATES:5,QUESTION_CLOSED:6,QUESTION_BUMPED:7,QUESTION_DELETION_SUCCESS:8,QUESTION_DELETION_FAILURE:9});f["default"]=a}),66);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSMessageUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_LOG_MESSAGE:1,DENY_TOMBSTONE_MESSAGE:2,DENY_FOR_NON_SENDER:3,DENY_P2P_PAYMENT:4,DENY_STORY_REACTION:5,DENY_BLOB_ATTACHMENT:6,DENY_MESSAGE_NOT_FOUND:7,DENY_MESSAGE_INSTAGRAM_DIRECT_WRITE_RESTRICTION:8});f["default"]=a}),66);
__d("LSPollQuestionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHOOSE_MULTIPLE:0,MOST_LIKELY_TO:1,NON_POLL:2});f["default"]=a}),66);
__d("LSTransportKey",[],(function(a,b,c,d,e,f){a=Object.freeze({ADVANCED_CRYPTO:"AdvancedCrypto",CARRIER_MESSAGING:"CarrierMessaging",FB_BROKER:"FBBroker",FB_LEGACY_BROKER:"FBLegacyBroker",TAM:"TAM",WHATS_APP:"WhatsApp",INSTAMADILLO:"Instamadillo",ENCRYPTED_BACKUPS:"EncryptedBackups",CLIENT_CONTACTS_PLACEHOLDER:"",ENCRYPTED_BACKUPS_MEDIA:"EncryptedBackupsMedia"});f["default"]=a}),66);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWMsgType","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=new Set([(b=d("MAWLocalizationType")).LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL,b.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE,b.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE,b.LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE,b.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE,b.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION,b.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION]),k=new Set([b.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,b.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME,b.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,b.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME]),l=h._(/*BTDS*/"Change").toString(),m=h._(/*BTDS*/"See all").toString(),n=h._(/*BTDS*/"Learn more").toString(),o=h._(/*BTDS*/"Learn more").toString(),p=h._(/*BTDS*/"actions you can take.").toString(),q=h._(/*BTDS*/"Go to other chat").toString(),r=h._(/*BTDS*/"View archived chat").toString(),s=h._(/*BTDS*/"View poll").toString(),t=h._(/*BTDS*/"Change").toString();async function u(a){a=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas.index("ctaId")));return a!=null?(i||(i=d("I64"))).add(a.ctaId,(i||(i=d("I64"))).one):(i||(i=d("I64"))).zero}function v(a,b,c){b=[b,c];return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas).bounds({gte:b,lte:b}))}function w(a,b,c){if(a==null)return{showAdChoiceIcon:!1};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:l};if(j.has(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:b,targetTitle:c,title:s};if(k.has(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:t};switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:n};case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:q};case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:r};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return{actionUrl:"https://www.messenger.com/help/1145318292241859/?helpref=uk_lm",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:p};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return{actionUrl:"https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:o};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function x(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";if(j.has(a))return"admin_msg_poll_details";if(k.has(a))return"admin_msg_change_theme";switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return"admin_msg_e2ee_uk_osa";case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return"admin_msg_dual_thread_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2";case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return"admin_msg_icdc";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return"admin_msg_change_thread_limit_sharing_permission"}}async function y(a,b,c,e,f){await a.admin_message_ctas.add({actionContentBlob:f.actionContentBlob,actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})}async function z(a,b,c){var d=await Promise.all([v(a,b,c.msgId),u(a)]),e=d[0];d=d[1];if(e!=null)return{ctaId:e.ctaId,ctaType:x(c.adminType),title:e.title};else{e=A(c.adminType,c);var f=B(c.adminType,c);e=w(c.adminType,e,f);await y(a,d,b,c,e);return{ctaId:d,ctaType:x(c.adminType),title:e.title}}}function a(a,b,c){var e=c.adminType;return e!=null&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(e)||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION||e===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED||e!=null&&j.has(e)||e!=null&&k.has(e))?z(a,b,c):Promise.resolve()}function A(a,b){if(a==null)return void 0;if(b.type_===d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE)return(i||(i=d("I64"))).of_string(b.externalId);return j.has(a)&&b.pollStanzaId!=null?(i||(i=d("I64"))).of_string(b.pollStanzaId):void 0}function B(a,b){if(a==null)return void 0;return j.has(a)?b.adminContent==null||b.adminContent.length===0?void 0:b.adminContent[b.adminContent.length-1]:void 0}g.getAdminMsgCTAContentByAdminType=w;g.getCtaTypeByAdminType=x;g.getAdminMsgCtaStep=a}),226);
__d("MAWBridgeDeleteMessagesHandler",["LSIntEnum","LSReplyMessageStatus","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeDeleteMessagesHandler",async function(c,e){for(var f of b.messages)if(d("MAWMpsGating").isFullMpsEnabled()){var g=await a.messages.index("messageId").get(f.msgId);g!=null&&await c.messages.delete(g.threadKey,g.timestampMs,g.messageId);await i(c,f.msgId)}else await c.messages.delete(e,d("MAWTimeUtils").toTimestamp(f.ts),f.msgId)})}async function i(a,b){b=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b));await Promise.all(b.map(function(b){b=babelHelpers.extends({},b,{replyStatus:(h||(h=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)});return a.messages.put(b)}))}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeDeleteReactionHandler",function(a,c){return a.reactions["delete"](c,b.messageId,(h||(h=d("I64"))).of_string(b.actorId))})}g.call=a}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["FBLogger","I64","LSMessageSendStatus","MAWChatJid","ReQL","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b));return a==null?void 0:a.messageId}async function j(a,b,e){var f=await i(a,b.originalMsgExternalId);if(f==null){c("FBLogger")("messenger_web_e2ee").warn("original message for edit msg history is not present in lsdb");return}f={messageContent:b.msgContent.content,originalMessagePk:f,sendStatus:b.sendStatus!=null?(h||(h=d("I64"))).of_int32(b.sendStatus):(h||(h=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(h||(h=d("I64"))).of_int32(b.editTs),threadKey:e};return a.edit_message_history.put(f)}function k(a,b,e,f,g){g={messageContent:b.msgContent.content,originalMessagePk:g,pk:f,sendStatus:b.sendStatus!=null?(h||(h=d("I64"))).of_int32(b.sendStatus):(h||(h=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(h||(h=d("I64"))).of_int32(b.editTs),threadKey:e};return a.edit_message_history.put(g)}async function l(a,b,c){a=await d("MAWChatJid").toThreadKeyMaybe(a.tables,c.threadJid);if(a==null)return;var e=c.editMsgHistoryId,f=c.originalMsgId;b=f==null||e==null?j(b,c,a):k(b,c,a,e,f);return b}function a(a,b,d){return Promise.all(d.map(function(c){return l(a,b,c)})).then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MAWDbMsg","MessagingAttachmentType","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b,e){var f,g=b.contentRef,j=b.defaultPreviewMediaId,k=b.msgId,l=b.subtitleText,m=b.titleText,n=b.xmaId;if(k==null)return;f=(f=b==null?void 0:(f=b.defaultCTA)==null?void 0:f.actionUrl)!=null?f:b==null?void 0:(f=b.defaultCTA)==null?void 0:f.nativeUrl;var o=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(e,k));if(o!=null)return;o=String(n);n=(h||(h=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(k));var p;if(g!=null)try{g=JSON.parse(g);g!=null&&(p=JSON.stringify(g))}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}else c("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");g=await d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,e,k,o,{});b=g.attachmentCta1Id;var q=g.attachmentCta2Id,r=g.attachmentCta3Id;g=g.defaultCtaId;await a.attachments.add({actionUrl:(a=f)!=null?a:void 0,attachmentCta1Id:b,attachmentCta2Id:q,attachmentCta3Id:r,attachmentFbid:o,attachmentIndex:h.zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.zero,defaultCtaId:g,hasMedia:!1,hasXma:!0,hasXmaPreview:j!=null,isSharable:!0,messageId:k,receiverFetchId:p,subtitleText:l,threadKey:e,timestampMs:n,titleText:m,transportKey:"WhatsApp",xmaContentType:i.ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH)});return}g.call=a}),98);
__d("MAWBridgeMsgUtils",["LSTransportKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=Object.keys(c("LSTransportKey")).find(function(b){return c("LSTransportKey")[b]===a});return b?c("LSTransportKey")[b]:"WhatsApp"}g.convertStringToLSTransportKeyType=a}),98);
__d("MAWEphemeralMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();async function j(a,b,c){await Promise.all(b.map(function(b){var c=b.ts,e=b.msgId;e={msgId:e,ts:c};c=b.threadJid;b=[e];e={messages:b,threadJid:c};return d("MAWBridgeDeleteMessagesHandler").call(a,e)})),i.delete(c)}function k(a,b,e){return c("setTimeout")(async function(){var e=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;c("promiseDone")(e.runInTransaction(async function(c){await j(c,a,b)},"readwrite",void 0,void 0,f.id+":66"))},e)}function a(a,b,d,e){a=i.get(d);var f;if(a==null)f=[b];else{c("clearTimeout")(a.timeoutId);var g=a.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1;g&&a.msgs.push(b);f=a.msgs}g=k(f,d,e);i.set(d,{expirationTs:d,msgs:f,timeoutId:g})}function b(a){var b=a.msgId;a=i.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}g.setMessageForExpiration=a;g.clearMessageFromExpiration=b}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWEphemeralMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b.msgs.reduce(function(b,c){return b.then(function(){d("MAWEphemeralMessageExpirationStorage").setMessageForExpiration(a,c,c.countdownTs,c.millisecondsUntilCountdownTs);(h||(h=d("I64"))).of_int32(c.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,d("MAWTimeUtils").toTimestamp(c.ts),c.msgId)).then(async function(b){if(b==null)return Promise.resolve();b=babelHelpers.extends({},b,{ephemeralExpirationTs:(h||(h=d("I64"))).of_float(c.countdownTs)});await a.messages.put(b)})})})},Promise.resolve())}g.call=a}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===d("MAWDbMedia").IMAGE)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a===d("MAWDbMedia").VIDEO)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else if(a===d("MAWDbMedia").PTT)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a===d("MAWDbMedia").GIF)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(a===d("MAWDbMedia").STICKER)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);else if(a===d("MAWDbMedia").DOCUMENT_FILE)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE);return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE)}g.mediaTypeToMessageAttachmentType=a}),98);
__d("MAWBridgeNewMediaHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSThreadMediaGalleryGroup","MAWDbMedia","MAWMedia","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","WAMediaHdType","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g,j){var k=b.messagesSortOrderMs?(h||(h=d("I64"))).of_float(b.messagesSortOrderMs[e]):b.sortOrderMs!=null?(h||(h=d("I64"))).of_float(b.sortOrderMs):(h||(h=d("I64"))).of_float(b.ts*1e3);return{accessibilitySummaryText:b.accessibilitySummaryText,attachmentFbid:f,attachmentIndex:(f=a==null?void 0:a.attachmentIndex)!=null?f:(h||(h=d("I64"))).zero,attachmentType:(f=a==null?void 0:a.attachmentType)!=null?f:d("MAWMedia").mediaTypeToMessageAttachmentType(b.mediaType,b.ephemeralMediaViewMode),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:b.ephemeralMediaState!=null?(h||(h=d("I64"))).of_int32(b.ephemeralMediaState):a==null?void 0:a.ephemeralMediaState,ephemeralMediaViewMode:b.ephemeralMediaViewMode!=null?(h||(h=d("I64"))).of_int32(b.ephemeralMediaViewMode):a==null?void 0:a.ephemeralMediaViewMode,filename:(f=(f=b.filenames!=null?b.filenames[e]:null)!=null?f:b.defaultFilename)!=null?f:a==null?void 0:a.filename,filesize:b.filesize==null?a==null?void 0:a.filesize:(h||(h=d("I64"))).of_int32(b.filesize),hasMedia:b.hasMedia,hasXma:!1,isHd:c("gkx")("9576")?((f=b.hdTypes)==null?void 0:f[e])===d("WAMediaHdType").HD_TYPE_HQ_4K:void 0,isSharable:!1,messageId:e,offlineAttachmentId:g,playableDurationMs:b.duration==null?a==null?void 0:a.playableDurationMs:(h||(h=d("I64"))).of_int32(b.duration),previewHeight:b.previewHeight==null?a==null?void 0:a.previewHeight:(h||(h=d("I64"))).of_int32(b.previewHeight),previewHeightLarge:b.previewHeightLarge==null?a==null?void 0:a.previewHeightLarge:(h||(h=d("I64"))).of_int32(b.previewHeightLarge),previewWidth:b.previewWidth==null?a==null?void 0:a.previewWidth:(h||(h=d("I64"))).of_int32(b.previewWidth),previewWidthLarge:b.previewWidthLarge==null?a==null?void 0:a.previewWidthLarge:(h||(h=d("I64"))).of_int32(b.previewWidthLarge),threadKey:j,timestampMs:k,titleText:b.accessibilitySummaryText,transportKey:(f=b.transportKey)!=null?f:"WhatsApp"}}function k(a,b){var c=b.hasPreviewMedia!=null;return{id:a,mainMediaStatus:b.hasMedia?(i||(i=d("LSIntEnum"))).ofNumber(1):(i||(i=d("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:"initial_media_download",previewMediaStatus:c?b.hasPreviewMedia===!0?(i||(i=d("LSIntEnum"))).ofNumber(1):(i||(i=d("LSIntEnum"))).ofNumber(4):void 0,previewMediaStatusDetails:c?"initial_media_download":void 0}}async function l(a,b,e){var f=b.mediaId,g=b.msgIds,i=b.offlineAttachmentId,k=b.plaintextHash;await m(a,b);var l=n(f,k),p=(f=i)!=null?f:l;k=!1;var q=o(b),r=null;c("gkx")("4219")&&(r=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments_ranges_v2__generated).getKeyRange(e).filter(function(a){return(h||(h=d("I64"))).equal(a.mediaGroup,q)})));await Promise.all(g.map(async function(c){var f=a.attachments,g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(f).getKeyRange(e,c));c=j(g,b,c,l,p,e);b.skipShouldUpdateHasMore!==!0&&r!=null&&(h||(h=d("I64"))).le(c.timestampMs,r.minTimestampMs)&&(k=!0);if(g!=null){return f.upsert([g.threadKey,g.messageId,g.attachmentFbid],babelHelpers.extends({},c,{transportKey:(g=g.transportKey)!=null?g:c.transportKey}))}else return f.add(c)}));if(r!=null&&r.hasMoreBefore!==!0&&k&&c("gkx")("4219")){i=babelHelpers.extends({},r,{hasMoreBefore:!0});await a.attachments_ranges_v2__generated.upsert([r.threadKey,r.mediaGroup,r.minTimestampMs],i)}}async function m(a,b){if(c("gkx")("11968")!==!0)return;var e=b.mediaId,f=b.plaintextHash;if(f==null){c("FBLogger")("messenger_web_media").mustfix("[NewMedia] No valid media plaintextHash found in reducer %s",e);return}e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.client_media_status).getKeyRange(f));e=e!=null&&!(h||(h=d("I64"))).equal(e.mainMediaStatus,(i||(i=d("LSIntEnum"))).ofNumber(4));if(e)return;await a.client_media_status.add(k(f,b))}function n(a,b){return""+((b=b)!=null?b:a.toString())}function o(a){switch(a.mediaType){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS);case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").FILES_ONLY);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS)}}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c,"MAWBridgeNewMediaHandler",function(a,c){return l(a,b,c)})}g.callWithoutWaitingForAnything=l;g.call=a}),98);
__d("MAWUpdateMsg",["I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsg","MAWMsgReply","MAWMsgReplyStatus","MAWTimeUtils","MWPBumpEntityKey","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,e,g){return a.runInTransaction(async function(a){await d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b,"MAWUpdateMsg",async function(a,b){a=a.messages;b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b,c,e));b!=null&&await a.put(babelHelpers.extends({},b,g))})},"readwrite",void 0,void 0,f.id+":45")}async function b(a,b,e,f,g){var j,k;j=d("MAWTimeUtils").toTimestamp(b.type_===d("MAWMsg").unsent?(j=b.originalTs)!=null?j:b.ts:b.ts);var l=b.type_===d("MAWMsg").unsent?d("MAWTimeUtils").toTimestamp(b.ts):void 0,m=b.type_===d("MAWMsg").unsent,n=await d("MAWBridgeBuildMsg").buildMessage(b,g);k=(k=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(b.transportKey))!=null?k:"WhatsApp";var o=(h||(h=d("I64"))).of_float(b.sortOrderMs);if(d("MAWMsgReply").getReplyAttachmentId(b)!=null&&d("MAWMsgReply").getReplyAttachmentPlaintextHash(b)==null){var p;d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","update_message_handler_for_reply_type_"+(h||(h=d("I64"))).to_float((p=d("MAWMsgReply").getReplyAttachmentType(b))!=null?p:(h||(h=d("I64"))).zero))}n=babelHelpers.extends({},e,n,{adminMsgCtaId:f==null?void 0:f.ctaId,adminMsgCtaTitle:f==null?void 0:f.title,adminMsgCtaType:f==null?void 0:f.ctaType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:m||!b.isAuthorMe?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(b.type_,b.isForwarded,b.isExpiredXmaMsg,b.replySourceId!=null,b.unsupportedType,b.xmaMessageType),editCount:b.editCount!=null?(h||(h=d("I64"))).of_int32(b.editCount):(h||(h=d("I64"))).zero,ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(b),groupId:(p=b.groupId)!=null?p:void 0,groupIndex:b.groupIndex!=null?(h||(h=d("I64"))).of_float(b.groupIndex):void 0,groupSize:b.groupSize!=null?(h||(h=d("I64"))).of_float(b.groupSize):void 0,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(b),isCollapsed:b.isCollapsed,isUnsent:b.type_===d("MAWMsg").unsent,messageId:b.msgId,primarySortKey:o,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(b),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(b),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(b),replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(b),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(b),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(b),replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(b),replySnippet:g,replySourceId:d("MAWMsgReply").getReplySourceId(b),replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMs(b),replySourceType:d("MAWMsgReply").getReplySourceType(b),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(b),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(b),replyToUserId:d("MAWMsgReply").getReplyUserId(b),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(b.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack),subscriptErrorMessage:d("MAWBridgeBuildMsg").getSubscriptErrorMessage(b),timestampMs:j,transportKey:k,unsentTimestampMs:l});await a.messages.upsert([e.threadKey,e.timestampMs,e.messageId],n)}g.mutateThreadText=a;g.call=b}),98);
__d("MAWBridgeNewMsgHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessageUnsendabilityStatus","LSQuickReplyType","MAWAckLevel","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWMsg","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","MAWTimeUtils","MAWUpdateMsg","MAWXMAUtils","MWPBumpEntityKey","MpsMessageToBridge","MpsOverBridge","MpsTypes","ReQL","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f){var g;g=d("MAWTimeUtils").toTimestamp(b.type_===d("MAWMsg").unsent?(g=b.originalTs)!=null?g:b.ts:b.ts);var j=d("MAWBridgeBuildMsg").buildMessage(b,f),k=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(b.transportKey);if(d("MAWMsgReply").getReplyAttachmentId(b)!=null&&d("MAWMsgReply").getReplyAttachmentPlaintextHash(b)==null){var l;d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","new_message_handler_for_reply_type_"+(h||(h=d("I64"))).to_float((l=d("MAWMsgReply").getReplyAttachmentType(b))!=null?l:(h||(h=d("I64"))).zero))}return babelHelpers.extends({},j,{adminMsgCtaId:e==null?void 0:e.ctaId,adminMsgCtaTitle:e==null?void 0:e.title,adminMsgCtaType:e==null?void 0:e.ctaType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:b.type_===d("MAWMsg").unsent||!b.isAuthorMe?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(b.type_,b.isForwarded,b.isExpiredXmaMsg,b.replySourceId!=null,b.unsupportedType,b.xmaMessageType),editCount:(h||(h=d("I64"))).of_int32((l=b.editCount)!=null?l:0),ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(b),ephemeralExpirationTs:void 0,forwardScore:h.of_float(b.forwardingScore),groupId:(j=b.groupId)!=null?j:void 0,groupIndex:b.groupIndex!=null?(h||(h=d("I64"))).of_float(b.groupIndex):void 0,groupSize:b.groupSize!=null?(h||(h=d("I64"))).of_float(b.groupSize):void 0,hasQuickReplies:!1,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(b),isAdminMessage:b.isAdminMessage,isCollapsed:(e=b.isCollapsed)!=null?e:!1,isExpired:!1,isForwarded:b.isForwarded,isUnsent:b.type_===d("MAWMsg").unsent,localDataId:void 0,messageId:b.msgId,messageRenderingType:i.ofNumber(c("LSMessageRenderingType").DEFAULT),msUntilExpirationTs:void 0,offlineThreadingId:b.externalId,primarySortKey:h.of_float(b.sortOrderMs),quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentExtra:void 0,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(b),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(b),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(b),replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(b),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(b),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(b),replyMediaUrl:void 0,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(b),replySnippet:f,replySourceId:d("MAWMsgReply").getReplySourceId(b),replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMs(b),replySourceType:d("MAWMsgReply").getReplySourceType(b),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(b),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(b),replyToUserId:d("MAWMsgReply").getReplyUserId(b),replyType:d("MAWMsgReply").getReplyType(b),secondarySortKey:void 0,senderId:h.of_string(b.sender),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(b.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack),stickerId:void 0,subscriptErrorMessage:d("MAWBridgeBuildMsg").getSubscriptErrorMessage(b),takedownState:void 0,textHasLinks:!1,threadKey:a,timestampMs:g,transportKey:k,unsentTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:i.ofNumber(0)})}async function k(a,b,c,e,f){c.unsupportedType==="stickerReceiverFetchMessage"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");b=j(b,c,e,f);await a.messages.add(b)}function a(a,b){return l(a,b)}function l(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"BridgeNewMsgHandler",function(a,c){return n(a,b,c)})}async function m(a){var b=a.replySourceId;if(!d("MAWMpsGating").isFullMpsEnabled()||b==null)return a;var c=await d("MpsOverBridge").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-first"},debug:{purpose:"reply-fetch-local"},messageId:d("MpsTypes").toMessageId(b),threadId:d("MpsTypes").toThreadId(a.chatJid)}),e=c.success;c=c.value;if(e===!1)return a;if(c==null)return babelHelpers.extends({},a,{replySourceId:b,replyStatusType:d("MAWMsgType").MSG_TYPE.REVOKED});b=(e=d("MpsMessageToBridge").mpsFullMessagetoBridge(c))==null?void 0:e.topLevel;return b==null?a:babelHelpers.extends({},a,{replyMentionedJids:b.value.mentionedJids,replyMessageText:b.value.content,replySenderIsMe:b.value.isAuthorMe,replySourceId:b.value.msgId,replySourceTimestampMs:b.value.sortOrderMs,replyStatusType:b.value.type_,replyToUserId:b.value.sender})}async function n(a,b,e){b=await m(b);if(d("MAWXMAUtils").isXMAStoryReply(b.xmaMessageType))return;if(b.isExpiredMsg===!0&&c("justknobx")._("3991")){c("FBLogger")("messenger_web").mustfix("Attempted to insert an expired message");return}var f=await d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,e,b),g=await d("MAWMsgReplySnippet").getReplySnippet(b),i=b.offlineMsg,j;i!=null?j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(e,(h||(h=d("I64"))).of_float(i.ts),i.msgId)):d("MAWMpsGating").isFullMpsEnabled()&&(j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(b.msgId)));j==null?await k(a,e,b,f,g):await d("MAWUpdateMsg").call(a,b,j,f,g);d("MAWMpsGating").isFullMpsEnabled()&&((i=b.editCount)!=null?i:0)>0&&await o(a,b)}async function o(a,b){var c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b.msgId));await Promise.all(c.map(function(c){c=babelHelpers.extends({},c,{replyMessageText:b.content});return a.messages.put(c)}))}async function b(a,b){await Promise.all(b.map(function(b){return l(a,b)}))}g.composeMessage=j;g.call=a;g.callWithoutWaitingForAnything=n;g.bulkCall=b}),98);
__d("MAWBridgePollUtils",["fbt","FBLogger","I64","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){return a.toSorted(function(a,b){if(a.numVotes!==b.numVotes)return b.numVotes-a.numVotes;return!(i||(i=d("I64"))).equal(a.sortKeyVotingTimestamp,b.sortKeyVotingTimestamp)?(i||(i=d("I64"))).compare(b.sortKeyVotingTimestamp,a.sortKeyVotingTimestamp):(i||(i=d("I64"))).compare(a.sortKeyCreationTimestamp,b.sortKeyCreationTimestamp)})}function b(a){if(a===d("WAJids").AUTHOR_SYSTEM)throw c("FBLogger")("messenger_web").mustfixThrow("Not a valid author for poll vote");return a===d("WAJids").AUTHOR_ME?(i||(i=d("I64"))).of_string(d("WAJids").userIdFromJid(d("MAWUserJidWrapper").getMyUserJid())):(i||(i=d("I64"))).of_string(d("WAJids").userIdFromJid(a))}function e(a,b){switch(a.length){case 0:return h._(/*BTDS*/"{option_name}, no votes",[h._param("option_name",b)]);case 1:return h._(/*BTDS*/"{option_name}, voted for by {voter_name}",[h._param("option_name",b),h._param("voter_name",a[0])]);case 2:return h._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name}",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1])]);case 3:return h._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name} and {third_voter_name}",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1]),h._param("third_voter_name",a[2])]);default:return h._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name} and {remaining_count} others",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1]),h._param("remaining_count",a.length-2)])}}g.sortPollXMAOptions=a;g.getContactIdForAuthor=b;g.getListItemAccessibilityText=e}),226);
__d("MNLSXMATemplateType",[],(function(a,b,c,d,e,f){a=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});f["default"]=a}),66);
__d("QuestionPollStage",[],(function(a,b,c,d,e,f){a=Object.freeze({NOMINATING:0,VOTING:1,CLOSED:2});f["default"]=a}),66);
__d("MAWBridgeNewPollHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSGroupPollEventType","LSIntEnum","LSPollQuestionType","MAWBridgePollUtils","MAWDbPoll","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","QuestionPollStage","ReQL","WAJids","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=3;async function l(a,b,c){var e=b.contactIdForCurrentUser,f=b.dbPoll,g=b.latestUpdateMsgId,h=b.latestUpdateTimestampMs;b=b.transportKey;var j=f.pollStanzaId;j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments.index("idx_attachments_collapsible_id")).getKeyRange(c,(i||(i=d("I64"))).of_string(j)));j!=null&&await a.attachments.delete(j.threadKey,j.messageId,j.attachmentFbid);await m(a,f,c,g,h,e,b)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.dbPoll.chatJid,"BridgeNewPollHandler",function(a,c){return l(a,b,c)})}async function m(a,b,e,f,g,h,j){var l=b.latestSenderTimestampsMs,m=b.pollParticipantCount,q=b.pollStanzaId,r=(i||(i=d("I64"))).of_string(q),s=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.polls).getKeyRange(r));s==null&&await o(a,r,f,g,e);s=await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.poll_options_v2).getKeyRange(r));var t=new Map(b.pollOptions.entries().map(function(a){var b=a[0];a=a[1];return[d("MAWDbPoll").generateStableIdFromOptionHash(b,q).toString(),a]})),u=new Map();s.forEach(function(a){var b=(i||(i=d("I64"))).to_string(a.optionId);u.set(b,babelHelpers.extends({},u.get(b),{lsOption:a}))});t.entries().forEach(function(a){var b=a[0];a=a[1];a.optionText!=null&&u.set(b,babelHelpers.extends({},u.get(b),{mawDbOption:a}))});s=u.entries().toArray().sort(function(a,b){a[0];a=a[1];var d=a.lsOption;a=a.mawDbOption;b[0];b=b[1];var e=b.lsOption;b=b.mawDbOption;d=c("nullthrows")((d=d==null?void 0:d.optionText)!=null?d:a==null?void 0:a.optionText);e=c("nullthrows")((a=e==null?void 0:e.optionText)!=null?a:b==null?void 0:b.optionText);return d.localeCompare(e)});t=await Promise.all(s.map(async function(b,e){var f=b[0];b=b[1];var g=b.lsOption;b=b.mawDbOption;e=(i||(i=d("I64"))).of_int32(e);if(g==null&&b==null)return null;f=i.of_string(f);if(b==null){var j=c("nullthrows")(g);j=j.optionText;await a.poll_options_v2.upsert([r,f],babelHelpers.extends({},c("nullthrows")(g),{sortKeyCreationTimestamp:e}));var k=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.poll_votes_v2).getKeyRange(r,f,h));return{contactIds:[h],hasVoteFromCurrentUser:!0,numVotes:1,optionId:f,optionText:j,progressBarFilledPercentage:Math.floor(1/m*100),sortKeyCreationTimestamp:e,sortKeyVotingTimestamp:k!=null?k.timestampMs:(i||(i=d("I64"))).zero}}return n(a,r,f,c("nullthrows")(b.optionText),g,b,e,l,h,m)})).then(function(a){return a.filter(Boolean)});s=t.some(function(a){return a.hasVoteFromCurrentUser});t=d("MAWBridgePollUtils").sortPollXMAOptions(t).slice(0,k);await p(a,b,e,f,g,t,s,j)}async function n(a,b,e,f,g,h,j,k,l,m){h=h.voteAuthors;h=Array.from(h).map(function(a){var b=k.get(a);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Missing latest sender timestamp for poll voter from dbPoll");return{contactId:d("MAWBridgePollUtils").getContactIdForAuthor(a),latestSenderTimestampMs:b}});var n=g!=null?await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.poll_votes_v2).getKeyRange(b,e)):[],o=n.find(function(a){return(i||(i=d("I64"))).equal(a.contactId,l)}),p=k.get(d("WAJids").AUTHOR_ME),q=o!=null&&(p==null||p<(i||(i=d("I64"))).to_float(o.timestampMs));await Promise.all(n.map(async function(c){if((i||(i=d("I64"))).equal(c.contactId,l)&&q)return;await a.poll_votes_v2.delete(b,e,c.contactId)}));await Promise.all(h.map(async function(c){var f=c.contactId;c=c.latestSenderTimestampMs;await a.poll_votes_v2.put({contactId:f,optionId:e,pollId:b,timestampMs:(i||(i=d("I64"))).of_float(c)})}));p=(i||(i=d("I64"))).of_float(Math.max.apply(Math,h.map(function(a){return a.latestSenderTimestampMs}).concat([0])));n=q?(i||(i=d("I64"))).max(c("nullthrows")(o==null?void 0:o.timestampMs),p):p;o=h.length+(q?1:0);p={optionId:e,optionText:f,pollId:b,sortKeyCreationTimestamp:j,sortKeyVotingTimestamp:n,voteCount:i.of_int32(o)};g!=null?await a.poll_options_v2.upsert([b,e],p):await a.poll_options_v2.add(p);g=h.map(function(a){return a.contactId});q&&g.push(l);return{contactIds:g,hasVoteFromCurrentUser:q||h.find(function(a){return(i||(i=d("I64"))).equal(a.contactId,l)})!=null,numVotes:o,optionId:e,optionText:f,progressBarFilledPercentage:Math.floor(o/m*100),sortKeyCreationTimestamp:j,sortKeyVotingTimestamp:n}}async function o(a,b,e,f,g){e={authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),lastUpdateMessageEventType:j.ofNumber(c("LSGroupPollEventType").QUESTION_CREATION),lastUpdateMessageId:e,lastUpdateMessageTimestampMs:(i||(i=d("I64"))).of_float(f),pollId:b,pollStage:j.ofNumber(c("QuestionPollStage").VOTING),pollType:j.ofNumber(c("LSPollQuestionType").CHOOSE_MULTIPLE),threadKey:g};await a.polls.put(e)}async function p(a,b,e,f,g,l,m,n){var o=b.pollStanzaId,p=b.title;if(l.length===0){c("FBLogger")("messenger_web").mustfix("Items length for poll XMA should be greater than 0");return}var q=await d("ReQL").toArrayAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants,[]).getKeyRange(e),d("ReQL").fromTableAscending(a.contacts,["name","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"])).map(function(a){a[0];a=a[1];return a}).filter(Boolean)),r=new Map(q.map(function(a){return[(i||(i=d("I64"))).to_string(a.id),a]}));q=l.map(function(a){var b=a.contactIds,c=a.optionId,e=a.optionText;a=a.progressBarFilledPercentage;var f=b.reduce(function(a,b){var c;b=r.get((i||(i=d("I64"))).to_string(b));a.contactUrlExpirations.push((b==null?void 0:b.profilePictureUrlExpirationTimestampMs)!=null?(i||(i=d("I64"))).to_string(b.profilePictureUrlExpirationTimestampMs):"");a.contactUrlFallbacks.push((c=b==null?void 0:b.profilePictureFallbackUrl)!=null?c:"");a.contactUrls.push((c=b==null?void 0:b.profilePictureUrl)!=null?c:"");(b==null?void 0:b.name)!=null&&a.contactNames.push(b.name);return a},{contactNames:[],contactUrlExpirations:[],contactUrlFallbacks:[],contactUrls:[]}),g=f.contactNames,h=f.contactUrlExpirations,j=f.contactUrlFallbacks;f=f.contactUrls;return{listItemAccessibilityText:d("MAWBridgePollUtils").getListItemAccessibilityText(g,e).toString(),listItemContactUrlExpirationTimestampList:h.length>0?h.join(", "):void 0,listItemContactUrlFallbackList:j.length>0?j.join(", "):void 0,listItemContactUrlList:f.length>0?f.join(", "):void 0,listItemId:c,listItemProgressBarFilledPercentage:(i||(i=d("I64"))).of_int32(a),listItemTitleText:e,listItemTotalCount:i.of_int32(b.length)}});var s=(i||(i=d("I64"))).of_string(o);m=m?h._(/*BTDS*/"Change vote").toString():h._(/*BTDS*/"Vote").toString();var t={actionContentBlob:p,attachmentFbid:o,attachmentIndex:i.zero,ctaId:s,messageId:f,targetId:i.of_string(o),threadKey:e,title:m,type_:"xma_poll_details_card"},u={attachmentCta1Id:s,attachmentFbid:o,attachmentIndex:i.zero,cta1Title:m,cta1Type:"xma_poll_details_card",defaultActionEnableExtensions:!1,defaultCtaId:s,defaultCtaTitle:m,defaultCtaType:"xma_poll_details_card",faviconUrlExpirationTimestampMs:i.zero,messageId:f,threadKey:e};p={attachmentCta1Id:s,attachmentFbid:o,attachmentIndex:i.zero,attachmentType:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:j.ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),collapsibleId:i.of_string(o),cta1Title:m,cta1Type:"xma_poll_details_card",defaultCtaId:s,defaultCtaTitle:m,defaultCtaType:"xma_poll_details_card",hasMedia:!1,hasXma:!0,isSharable:!1,listItemsDescriptionText:p,listItemsId:i.of_string(o),messageId:f,threadKey:e,timestampMs:i.of_float(g),transportKey:(m=n)!=null?m:"WhatsApp",xmaLayoutType:j.ofNumber(c("MNLSXMALayoutType").XCENTER),xmasTemplateType:j.ofNumber(c("MNLSXMATemplateType").GENERIC_SHARE)};g=b.pollOptions.values().filter(function(a){return a.optionText!=null}).toArray().length;n=g>k?h._(/*BTDS*/"_j{\"*\":\"{additional_option_count} more options\",\"_1\":\"{additional_option_count} more option\"}",[h._plural(g-k),h._param("additional_option_count",g-k)]).toString():void 0;m=babelHelpers.extends({},p,{listItemAccessibilityText1:q[0].listItemAccessibilityText,listItemAccessibilityText2:q.length>1?q[1].listItemAccessibilityText:void 0,listItemAccessibilityText3:q.length>2?q[2].listItemAccessibilityText:void 0,listItemContactUrlExpirationTimestampList1:q[0].listItemContactUrlExpirationTimestampList,listItemContactUrlExpirationTimestampList2:q.length>1?q[1].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlExpirationTimestampList3:q.length>2?q[2].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlFallbackList1:q[0].listItemContactUrlFallbackList,listItemContactUrlFallbackList2:q.length>1?q[1].listItemContactUrlFallbackList:void 0,listItemContactUrlFallbackList3:q.length>2?q[2].listItemContactUrlFallbackList:void 0,listItemContactUrlList1:q[0].listItemContactUrlList,listItemContactUrlList2:q.length>1?q[1].listItemContactUrlList:void 0,listItemContactUrlList3:q.length>2?q[2].listItemContactUrlList:void 0,listItemId1:q[0].listItemId,listItemId2:q.length>1?q[1].listItemId:void 0,listItemId3:q.length>2?q[2].listItemId:void 0,listItemProgressBarFilledPercentage1:q[0].listItemProgressBarFilledPercentage,listItemProgressBarFilledPercentage2:q.length>1?q[1].listItemProgressBarFilledPercentage:void 0,listItemProgressBarFilledPercentage3:q.length>2?q[2].listItemProgressBarFilledPercentage:void 0,listItemsSecondaryDescriptionText:n,listItemTitleText1:l[0].optionText,listItemTitleText2:l.length>1?l[1].optionText:void 0,listItemTitleText3:l.length>2?l[2].optionText:void 0,listItemTotalCount1:q[0].listItemTotalCount,listItemTotalCount2:q.length>1?q[1].listItemTotalCount:void 0,listItemTotalCount3:q.length>2?q[2].listItemTotalCount:void 0});await Promise.all([a.attachments.upsert([e,f,o],m),a.attachment_ctas.upsert([s],t),a.attachment_items.upsert([o,i.zero],u)])}g.POLL_OPTIONS_THRESHOLD=k;g.call=a}),226);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWImageUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MessagingAttachmentType","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a,b,c){var e=b.msgId,f=b.receiverFetchId,g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(c,e));b=k(b,c,g);await a.attachments.upsert([c,e,f],b)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"BridgeNewReceiverFetchInfoHandler",function(a,c){return j(a,b,c)})}function k(a,b,e){var f,g=a.accessibilitySummaryText,j=a.mimetype,k=a.msgId,m=a.previewHeight,n=a.previewUrl,o=a.previewUrlExpirationTimestampMs,p=a.previewWidth,q=a.ravenSettings,r=a.receiverFetchId,s=a.sortOrderMs,t=a.transportKey;a=a.type;a=l(a);m=d("MAWImageUtils").boundHeightWidth(m,p,d("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE);p=m.height;m=m.width;f=(f=n)!=null?f:e==null?void 0:e.previewUrl;var u=o!=null?(h||(h=d("I64"))).of_float(o):e==null?void 0:e.previewUrlExpirationTimestampMs;f=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(f,u);return{accessibilitySummaryText:g,attachmentFbid:r,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(q==null?void 0:q.ephemeralMediaState)!=null?(h||(h=d("I64"))).of_int32(q.ephemeralMediaState):void 0,ephemeralMediaViewMode:(q==null?void 0:q.ephemeralMediaViewMode)!=null?(h||(h=d("I64"))).of_int32(q.ephemeralMediaViewMode):void 0,hasMedia:f,hasXma:!1,isSharable:!1,messageId:k,previewHeight:h.of_int32(p),previewUrl:(u=n)!=null?u:e==null?void 0:e.previewUrl,previewUrlExpirationTimestampMs:o!=null?(h||(h=d("I64"))).of_float(o):e==null?void 0:e.previewUrlExpirationTimestampMs,previewUrlMimeType:j,previewWidth:h.of_int32(m),receiverFetchId:r,threadKey:b,timestampMs:h.of_float(s),transportKey:(g=t)!=null?g:"WhatsApp"}}function l(a){switch(a){case"sticker":return(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);default:throw c("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}g.call=a;g.composeAttachment=k}),98);
__d("isReceiverFetchReceivingEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a)return c("gkx")("6743");else return c("gkx")("6744")}g["default"]=a}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","WAArmadilloXMA.pb","isReceiverFetchReceivingEnabled"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,e){var f=String(b.xmaId),g=b.msgId;if(g==null)return;var h=b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(h&&c("isReceiverFetchReceivingEnabled")(!0))return d("MAWBridgeHandleReceiverFetchXMA").call(a,b,e);h=await d("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(a,e,g);var i=h[0];h=h[1];h=await d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,e,g,f,h);var j=h.attachmentCta1Id,k=h.attachmentCta2Id,l=h.attachmentCta3Id;h=h.defaultCtaId;b=d("MAWBridgeXMAUtils").composeAttachmentXMA(b,e,f,g,j,k,l,h,"MAWBridgeNewXMAHandler");i!=null?await a.attachments.upsert([i.threadKey,i.messageId,i.attachmentFbid],b):await a.attachments.add(b)}function i(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeNewXMAHandler",function(a,c){return h(a,b,c)})}function a(a,b){return i(a,b)}g.callWithoutWaitingForAnything=h;g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g){return{actorId:(h||(h=d("I64"))).of_string(a),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:e,reaction:g,reactionCreationTimestampMs:d("MAWTimeUtils").toTimestamp(f),threadKey:b,timestampMs:d("MAWTimeUtils").toTimestamp(f),transportKey:"WhatsApp"}}function k(a,b,c,e,f,g){return a.reactions.upsert([c,e,(h||(h=d("I64"))).of_string(b)],j(b,c,e,f,g))}function a(a,b,c,d,e,f){return k(a,b,c,d,e,f)}function b(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeReactionUpsertHandler",function(a,c){return k(a,b.actorId,c,b.messageId,b.ts,b.reaction)})}g.composeReaction=j;g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);
__d("MAWQPLLogger",["QPLUserFlow","Random","cr:10049"],(function(a,b,c,d,e,f,g){"use strict";b("cr:10049")==null?void 0:b("cr:10049").overwriteSamplingRate();function a(a){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLCancel:function(b){c("QPLUserFlow").endCancel(a,{instanceKey:b})},markQPLFailure:function(b,d){var e;c("QPLUserFlow").endFailure(a,(e=d==null?void 0:d.name)!=null?e:"fail",{error:d,instanceKey:b})},markQPLFailureWithMsg:function(b,d){c("QPLUserFlow").endFailure(a,d,{instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}}g["default"]=a}),98);
__d("MAWDataSourceLogger",["I64","MAWQPLLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){i==null&&(i=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return i}function a(a){var b=j().markQPLStart();j().addQPLAnnotations(b,{string:{threadType:(h||(h=d("I64"))).to_string(a)}});return b}function b(a,b,c){j().markQPLPoint(a,"wait_act_thread_start","before fetching messages range from table"),j().addQPLAnnotations(a,{"int":{version:1},string:{direction:b,thread_id:(h||(h=d("I64"))).to_string(c)}})}function e(a,b){j().markQPLFailureWithMsg(a,b)}function f(a){j().markQPLCancel(a)}function k(a){j().markQPLPoint(a,"wait_act_thread_end","before fetching messages range from table"),j().markQPLPoint(a,"load_more_msgs_start","load more messages from MAW DB")}function l(a){j().markQPLPoint(a,"load_messages_from_eb_start","load more messages from EB")}function m(a){j().markQPLPoint(a,"load_messages_from_eb_end","load more messages from EB")}function n(a){j().markQPLPoint(a,"load_messages_from_local_db_start")}function o(a){j().markQPLPoint(a,"load_messages_from_local_db_end")}function p(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_start")}function q(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_end")}function r(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_start")}function s(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_end")}function t(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_start")}function u(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_end")}function v(a,b){j().markQPLPoint(a,"load_more_msgs_end","Note: OLD SOLUTION DOES NOT FETCH messages. they are fetched in afterTransaction that we cannot control"),j().addQPLAnnotations(a,{bool:{hasMoreBefore:b}})}function w(a){j().markQPLSuccess(a)}function x(a,b){j().markQPLPoint(a,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+b)}function y(a,b){j().markQPLFailure(a,b)}g.logLoadMoreMsgsStart=a;g.logLoadMoreMsgsThreadWaiting=b;g.logLoadMoreMsgsFailure=e;g.logLoadMoreMsgsCancel=f;g.logLoadMoreMsgsThreadReadyFetchMsgs=k;g.logLoadMessagesFromEBStart=l;g.logLoadMessagesFromEBEnd=m;g.logLoadMessagesFromLocalDBStart=n;g.logLoadMessagesFromLocalDBEnd=o;g.logInsertMessageResponseToLSDBStart=p;g.logInsertMessageResponseToLSDBEnd=q;g.logDispatchDownloadStateUpdatesStart=r;g.logDispatchDownloadStateUpdatesEnd=s;g.logCallBridgeHandlersStart=t;g.logCallBridgeHandlersEnd=u;g.logLoadMoreMsgsFetched=v;g.logLoadMoreMsgsSuccess=w;g.logLoadMoreMsgsRangeQuery=x;g.logLoadMoreMsgsRuntimeError=y}),98);
__d("MWRestoreMessagesFromEB",["EBIsEbEnabled","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","LSIssueMessageRangeQueryTaskStoredProcedure","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","MAWMainTraceUtils","MWEncryptedBackUpEBNotEnabledError","WAJids","WATagsLogger","cr:9628","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][","] Issuing message range query for thread: "," startSortKey: "," numMessages: ","} "]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Issuing message range query for chatJid: "," skipped. EB not enabled"]);k=function(){return a};return a}function a(a){var b=a.chatJid,e=a.newerNumMessages,f=a.numMessages,g=a.passedTraceId,h=a.sortOrderMs,i=a.source,j=a.storage;if(!c("gkx")("23914"))return null;var m=g!=null?g:d("MAWMainTraceUtils").createTraceId();c("promiseDone")(d("EBIsEbEnabled").isEbEnabledLS(j.tables).then(function(a){if(a)return l(m,j,b,e,f,g,h,i);else{d("WATagsLogger").TAGS(["labyrinth_web","eb_restore"]).WARN(k(),b);d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(m,c("err")(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED));return Promise.resolve()}}));return m}function l(a,e,f,g,i,j,k,l){return b("cr:9628")!=null?b("cr:9628")({chatJid:f,direction:(h||(h=d("I64"))).to_float(g)>0?"after":"before",includeOffset:c("gkx")("5340"),sortOrderMs:(h||(h=d("I64"))).to_string(k),source:l,traceId:a}).then(function(b){!b.success&&c("gkx")("6819")&&d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(a,c("err")(b.error))}):m({chatJid:f,newerNumMessages:g,numMessages:i,passedTraceId:j,sortOrderMs:k,source:l,storage:e,traceId:a})}function m(a){var b=a.chatJid,e=a.newerNumMessages,g=a.numMessages,k=a.passedTraceId,l=a.sortOrderMs,m=a.source,n=a.storage,o=a.traceId;return n.runInTransaction(async function(a){await d("MAWMainTraceUtils").startTraceWithTxn(a,(h||(h=d("I64"))).of_float(Date.now()),o,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE));await c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:i.ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY),dataTraceId:o,syncChannel:h.neg_one});d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",o]).LOG(j(),o,b,h.to_string(l),h.to_string(g));d("MAWEBRestoreTrackingUtils").markEBRestorePaginated(m,k,"LS");return c("LSIssueMessageRangeQueryTaskStoredProcedure")(c("LSFactory")(a),{includeOffset:c("gkx")("5340"),isPointQuery:!1,newerNumMessages:e,numMessages:g,source:i.ofNumber((a=m)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN),startSortKey:h.to_string(l),threadId:d("WAJids").threadIdForChatJid(b),traceId:o})},"readwrite",void 0,void 0,f.id+":145")}g.default=a}),98);
__d("MAWEBFetch",["EBFormatUtils","FBLogger","I64","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MWEncryptedBackUpEBNotEnabledError","MWRestoreMessagesFromEB","WAResultOrError","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;b=c("justknobx")._("3177");var i=Math.max(3,b-5);async function a(a){var b=a.chatJid,e=a.count,f=a.db,g=a.direction,i=a.timestampMs;a=a.traceId;e=d("EBFormatUtils").adjustCount(e,g);var k=e[0];e=e[1];b=c("MWRestoreMessagesFromEB")({chatJid:b,newerNumMessages:(h||(h=d("I64"))).of_int32(e),numMessages:h.of_int32(k),passedTraceId:a,sortOrderMs:d("EBFormatUtils").adjustTs(i,g),source:c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION,storage:f});if(b==null)return d("WAResultOrError").makeResult({hasMoreAfter:!1,hasMoreBefore:!1,isEndOfCurrentFormat:!1,messages:[],restoreType:"none"});e=d("MAWAsyncEBPendingQueryPromise").getWaitForRestorePromiseFromTrace(b);k=await e.then(function(a){return d("WAResultOrError").makeResult(a)}).catch(function(a){if(a&&(a==null?void 0:a.message)===d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED)return d("WAResultOrError").makeError(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED);c("FBLogger")("messenger_web").catching(a).mustfix("[EBFetch] Failed to fetch");return d("WAResultOrError").makeError((a=a==null?void 0:a.message)!=null?a:"unknown")});if(k.success===!1)return k;a=k.value;i=a.hasMoreAfter;f=a.hasMoreBefore;b=a.messages;e=a.restoreType;return d("WAResultOrError").makeResult({hasMoreAfter:i,hasMoreBefore:f,isEndOfCurrentFormat:j(g,i,f,b),messages:b,restoreType:e})}function j(a,b,c,d){if(a==="before"&&c===!1)return!1;return a==="after"&&b===!1?!1:d.length<i}g.default=a}),98);
__d("MAWMessageIntegrityEBFetchStatus",[],(function(a,b,c,d,e,f){"use strict";var g=new Set();function a(a){return g.has(a)}function b(a){g.add(a)}f.hasEBFailure=a;f.recordEBFailure=b}),66);
__d("MAWMessageIntegrityTruncateStatus",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=0,j=new Map();function a(a,b,c){var e;e=(e=j.get((h||(h=d("I64"))).to_float(a)))!=null?e:{};b.threadKey;var f=babelHelpers.objectWithoutPropertiesLoose(b,["threadKey"]);e=babelHelpers["extends"]({},e,{lastUpsertedRange:babelHelpers["extends"]({},f,c,{maxTimestampMs:(h||(h=d("I64"))).to_float(b.maxTimestampMs),minTimestampMs:h.to_float(b.minTimestampMs)}),updateRangeTimestamp:Date.now()});j.set(h.to_float(a),e)}function b(a){var b;b=(b=j.get((h||(h=d("I64"))).to_float(a)))!=null?b:{};b=babelHelpers["extends"]({},b,{truncateTimestamp:b.truncateTimestamp==null?i:Date.now()});j.set((h||(h=d("I64"))).to_float(a),b)}function c(a){a=j.get((h||(h=d("I64"))).to_float(a));return(a==null?void 0:a.truncateTimestamp)==null?null:a}g.setThreadLastUpsertedRange=a;g.setThreadThuncated=b;g.getThreadThuncateState=c}),98);
__d("MAWPutMessagesToDB",["MAWBridgeDeleteReactionHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeReactionUpsertHandler","MAWDataSourceLogger","MAWGetIsMediaDownloadStatusEnabled","gkx"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,e,f,g){var h=e.editMsgHistory,i=e.expiringCountdown,j=e.medias,k=e.msgs,l=e.polls,m=e.reactions,n=e.receiverFetchInfoPayloads;e=e.xmas;g!=null&&d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesStart(g);c("gkx")("11968")!==!0&&f({tag:"NewMedias",value:j});d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled()&&f({tag:"NewXMAs",value:e});g!=null&&(d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesEnd(g),d("MAWDataSourceLogger").logCallBridgeHandlersStart(g));await d("MAWBridgeNewMsgHandler").bulkCall(b,k);await Promise.all(j.map(function(a){return d("MAWBridgeNewMediaHandler").call(b,a)}));await Promise.all(e.map(function(a){return d("MAWBridgeNewXMAHandler").call(b,a)}));await Promise.all(n.map(function(a){return d("MAWBridgeNewReceiverFetchInfoHandler").call(b,a)}));await Promise.all(l.map(function(a){return d("MAWBridgeNewPollHandler").call(b,a)}));await d("MAWBridgeMsgsStartCountdownHandler").call(b,{msgs:i});await Promise.all(m.map(function(a){return a.type==="delete"?d("MAWBridgeDeleteReactionHandler").call(b,a.reaction):d("MAWBridgeReactionUpsertHandler").call(b,a.reaction)}));await d("MAWBridgeEditMsgHistoryAddedHandler").call(a,b,h);g!=null&&d("MAWDataSourceLogger").logCallBridgeHandlersEnd(g)}function a(a,b,c,d){return a.runInTransaction(function(e){return h(a,e,b,c,d)},"readwrite","ui",void 0,f.id+":110")}function b(a,b,c){return a.runInTransaction(function(d){return h(a,d,babelHelpers.extends({},b,{expiringCountdown:[],hasMoreAfter:!1,hasMoreBefore:!1}),c)},"readwrite","ui",void 0,f.id+":130")}g.insertMessageResponseToDBInExistingTransaction=h;g.insertMessageResponseIntoDatabase=a;g.insertMessageResponseIntoDatabaseByExternalId=b}),98);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","deepEquals","getErrorSafe","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CometLruCache").create(20,2e3);async function a(a,b){var e=a.chatJid,f=a.config,g=a.count,h=a.direction,l=a.offsetMsg,m=a.timestampMs;e=i.get(e);if(e!=null){var n=e&&e.options,o=n.count;n=babelHelpers.objectWithoutPropertiesLoose(n,["count"]);if(c("deepEquals")(n,{config:f,direction:h,offsetMsg:l,timestampMs:m})&&g<=o)try{return d("WAResultOrError").makeResult(babelHelpers.extends({},await e.result))}catch(a){}}if(c("qex")._("18"))return k(a,b);else return j(a,b)}async function j(a,b){var e=a.actionType,f=a.chatJid,g=a.config,j=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:e,chatJid:f,config:g,direction:k,externalId:l==null?void 0:l.externalId,includeOriginalMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,msgId:(l==null?void 0:l.messageId)==null?null:d("MAWDbMsg").toMsgId(l.messageId),numMsgs:j,sortOrderMs:a!=null?(h||(h=d("I64"))).to_float(a):null},{timeoutMs:b==null?void 0:b.timeoutMs});i.set(f,{options:{config:g,count:j,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers.extends({},await e);return d("WAResultOrError").makeResult(b)}catch(a){f=c("getErrorSafe")(a);c("FBLogger")("messenger_web").catching(f).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",f)}}async function k(a,b){var e=a.actionType,f=a.chatJid,g=a.config,j=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:e,chatJid:f,config:g,direction:k,range:{includeLowerBoundMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,lowerBoundExternalId:(l==null?void 0:l.externalId)==null?void 0:l.externalId,lowerBoundSortOrderMs:a!=null?(h||(h=d("I64"))).to_float(a):void 0,numMsgs:j}},{timeoutMs:b==null?void 0:b.timeoutMs});i.set(f,{options:{config:g,count:j,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers.extends({},await e);return d("WAResultOrError").makeResult(b)}catch(a){f=c("getErrorSafe")(a);c("FBLogger")("messenger_web").catching(f).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",f)}}g.default=a}),98);
__d("MLV2DataSourceLogger",["I64","MAWQPLLogger","MWChatInteraction","mergeDeep","performanceNow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){j==null&&(j=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return j}var l=new Map();function m(a,b){return(i||(i=d("I64"))).to_string(a)+b}function n(a){a=a.getTrace();var b=(a==null?void 0:a.completed)!=null;a=(a==null?void 0:a.qplEvent)===c("qpl")._(30605380,"18")||(a==null?void 0:a.qplEvent)===c("qpl")._(30609204,"1682");return!b&&a}function a(a,b,e,f){var g=m(a,b),j=l.get(g);j!=null&&j.markQPLCancel("restart_logger");var o=k().markQPLStart(),p=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a)),q=(h||(h=c("performanceNow")))();p==null?void 0:p.addMarkerPoint("MLV2_fetch_start","AppTiming",q);var r=function(a,b){var d=(h||(h=c("performanceNow")))(),e={action:a,full_duration:(d-q)/1e3};b!=null&&(e=c("mergeDeep")(e,b));if(p==null)return;b=n(p);a=a==="CANCEL"&&d-q<50;if(!b||a)return;p.addMarkerPoint("MLV2_fetch_end","AppTiming",d,e)},s=new Set();j={addQPLAnnotations:function(a){k().addQPLAnnotations(o,a)},annotateMessageRangesDataSource:function(a){s.add(a),k().addQPLAnnotations(o,{string_array:{message_ranges_source:Array.from(s.keys())}})},getInstanceKey:function(){return o},markQPLCancel:function(a){k().addQPLAnnotations(o,{string:{cancel_reason:a}}),k().markQPLCancel(o),r("CANCEL"),l["delete"](g)},markQPLFailure:function(a){k().markQPLFailure(o,a),r("FAIL"),l["delete"](g)},markQPLFailureWithMsg:function(a){k().markQPLFailureWithMsg(o,a),r("FAIL"),l["delete"](g)},markQPLPoint:function(a){k().markQPLPoint(o,a)},markQPLSuccess:function(a){k().markQPLSuccess(o),r("SUCCESS",{num_msgs_fetched:a}),l["delete"](g)}};var t=!1;p!=null&&n(p)&&(t=!0);j.addQPLAnnotations({bool:{during_chat_open:t},"int":{queried_count:e},string:{direction:b,thread_id:i.to_string(a),thread_type:i.to_string(f)}});l.set(g,j);return j}function b(a,b){a=m(a,b);return l.get(a)}g.startMLV2LoggerForThread=a;g.getMLV2LoggerForThread=b}),98);/*FB_PKG_DELIM*/
__d("CometDismissFBNuxMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9877615415639160"}),null);
__d("CometDismissFBNuxMutation.graphql",["CometDismissFBNuxMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id_input"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id_input"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDismissFBNuxMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux_dismiss",plural:!1,selections:[d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDismissFBNuxMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux_dismiss",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometDismissFBNuxMutation_facebookRelayOperation"),metadata:{},name:"CometDismissFBNuxMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("encodeNUXIDForRelay",[],(function(a,b,c,d,e,f){"use strict";var g="NUX_ID:";function a(a){return typeof a==="string"&&a.startsWith(g)?{nuxID:Number(a.replace(g,"")),relayID:a}:{nuxID:Number(a),relayID:g+a}}f["default"]=a}),66);
__d("CometDismissFBNuxMutation",["CometDismissFBNuxMutation.graphql","CometRelay","encodeNUXIDForRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDismissFBNuxMutation.graphql");function a(a,b,e,f){b=c("encodeNUXIDForRelay")(b);var g=b.nuxID;b=b.relayID;return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:e,onError:f,optimisticResponse:{nux_dismiss:{__typename:"NUX",id:b,should_show:!1}},variables:{nux_id_input:g}})}g.commit=a}),98);
__d("CometLogImpressionFBNuxMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9723864714359536"}),null);
__d("CometLogImpressionFBNuxMutation.graphql",["CometLogImpressionFBNuxMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometLogImpressionFBNuxMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"log_nux_view",plural:!1,selections:[d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometLogImpressionFBNuxMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"log_nux_view",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometLogImpressionFBNuxMutation_facebookRelayOperation"),metadata:{},name:"CometLogImpressionFBNuxMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29635405182772969"}),null);
__d("CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation.graphql",["CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"log_nux_view_and_increment_view_count",plural:!1,selections:[d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"log_nux_view_and_increment_view_count",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation_facebookRelayOperation"),metadata:{},name:"CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometLogImpressionFBNuxMutation",["CometLogImpressionFBNuxMutation.graphql","CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation.graphql","CometRelay","encodeNUXIDForRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometLogImpressionFBNuxMutation.graphql");function a(a,b,e,f){b=c("encodeNUXIDForRelay")(b);b=b.nuxID;return d("CometRelay").commitMutation(a,{mutation:j,onCompleted:e,onError:f,variables:{nux_id:b}})}var k=i!==void 0?i:i=b("CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation.graphql");function e(a,b,e,f){b=c("encodeNUXIDForRelay")(b);b=b.nuxID;return d("CometRelay").commitMutation(a,{mutation:k,onCompleted:e,onError:f,variables:{nux_id:b}})}g.commit=a;g.commitNuxWithNoImpressionLimit=e}),98);
__d("CometTahoeCustomVideoAreaContext",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=i.createContext({customVideoAreaHidden:!0,setCustomVideoAreaHidden:c("emptyFunction")});function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=j(!0),e=c[0];c=c[1];b[0]!==e?(c={customVideoAreaHidden:e,setCustomVideoAreaHidden:c},b[0]=e,b[1]=c):c=b[1];e=c;c=e;b[2]!==a||b[3]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g.CometTahoeCustomVideoAreaContext=k;g.CometTahoeCustomVideoAreaContextProvider=a}),98);
__d("CometTahoeSidePaneContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={rightRailExpanded:!1,rightRailHidden:!1,setRightRailExpanded:function(){},setRightRailHidden:function(){}};c=a.createContext(b);g["default"]=c}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","react-compiler-runtime","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState,n=44,o={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.height,g=a.initialBottomRowAddOn,i=a.isBackgroundVisible,p=a.isVisible,q=a.xstyle;a=g===void 0?null:g;g=m(0);var r=g[0],s=g[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){s(a.height)},b[0]=g):g=b[0];var t=c("useResizeObserver")(g),u=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(a);g=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var v=g.release,w=g.reserve,x=(a=f)!=null?a:n;b[1]!==x||b[2]!==i||b[3]!==p||b[4]!==v||b[5]!==w?(g=function(){if(Boolean(p)||Boolean(i)){var a=w({location:"bottom",size:x});return function(){v(a)}}},f=[p,i,w,v,x],b[1]=x,b[2]=i,b[3]=p,b[4]=v,b[5]=w,b[6]=g,b[7]=f):(g=b[6],f=b[7]);l(g,f);var y=i===!1||p===!1,z=i===!0||p===!0;b[8]!==u||b[9]!==r||b[10]!==t||b[11]!==e||b[12]!==x||b[13]!==y||b[14]!==z||b[15]!==p||b[16]!==q?(a=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:b,children:k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h"},4:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np"},2:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h xg01cxk x47corl xlshs6z"},6:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np xg01cxk x47corl xlshs6z"},1:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x1hc1fzr"},5:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x1hc1fzr"},3:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x47corl xlshs6z x1hc1fzr"},7:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x47corl xlshs6z x1hc1fzr"}}[!!(u==null)<<2|!!(p===!1)<<1|!!(p===!0)<<0],{"data-testid":void 0,children:[k.jsx("div",{className:(h||(h=c("stylex")))(o.backgroundGradient,y&&o.hidden,z&&o.visible,q),style:{height:x+r}}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:y,children:u==null?e:k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np"},{children:e})),k.jsx(c("CometErrorBoundary.react"),{children:k.jsx("div",{ref:t,children:u})})]})})]}))})}}),b[8]=u,b[9]=r,b[10]=t,b[11]=e,b[12]=x,b[13]=y,b[14]=z,b[15]=p,b[16]=q,b[17]=a):a=b[17];return a}g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.isVisible,g=a.noPaddingEnd;a=a.noPaddingStart;f=f===void 0?!0:f;g=g===void 0?!1:g;a=a===void 0?!1:a;var h=j(c("VideoControlsContainerFocusedContext"));f=f||h;h=j(c("VideoPlayerControlsHiddenContext"));var k;b[0]!==f||b[1]!==g||b[2]!==a?(k={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1mpkggp x18d9i69 x1t2a60a x1fmh03i x47corl"},4:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 x1t2a60a x4uap5 x1fmh03i x47corl"},2:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1mpkggp x18d9i69 xkhd6sd x1fmh03i x47corl"},6:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 x4uap5 xkhd6sd x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1mpkggp x18d9i69 x1t2a60a x1hc1fzr"},5:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 x1t2a60a x4uap5 x1hc1fzr"},3:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1mpkggp x18d9i69 xkhd6sd x1hc1fzr"},7:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 x4uap5 xkhd6sd x1hc1fzr"}}[!!g<<2|!!a<<1|!!f<<0],b[0]=f,b[1]=g,b[2]=a,b[3]=k):k=b[3];g=h||!f;b[4]!==e||b[5]!==g?(a=i.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:g,children:e}),b[4]=e,b[5]=g,b[6]=a):a=b[6];b[7]!==k||b[8]!==a?(h=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),b[7]=k,b[8]=a,b[9]=h):h=b[9];return h}function b(a){var b=d("react-compiler-runtime").c(8),e=a.children;a=a.isVisible;a=a===void 0?!0:a;var f=j(c("VideoControlsContainerFocusedContext"));a=a||f;f=j(c("VideoPlayerControlsHiddenContext"));var g;b[0]!==a?(g={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1hc1fzr"}}[!!a<<0],b[0]=a,b[1]=g):g=b[1];f=f||!a;b[2]!==e||b[3]!==f?(a=i.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=i.jsx("div",babelHelpers["extends"]({},g,{children:a})),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g.Contracted=a;g.Expanded=b}),98);
__d("VideoPlayerLiveRewindControlContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({cachedLiveRewindTimestamp:null,onLiveRewindControlEvent:function(){}});g["default"]=b}),98);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.onPress,f=a.playbackIcon;a=a.showTooltip;a=a===void 0?!0:a;var g,j;bb0:switch(f){case"pause":var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Pause"),b[0]=l):l=b[0];g=l;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("497675"),20),b[1]=l):l=b[1];j=l;break bb0;case"replay":b[2]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Replay"),b[2]=l):l=b[2];g=l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("534219"),20),b[3]=l):l=b[3];j=l;break bb0;case"play":b[4]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Play"),b[4]=l):l=b[4];g=l;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("484863"),20),b[5]=l):l=b[5];j=l;break bb0;default:throw c("unrecoverableViolation")("The playback icon is unsupported "+f,"comet_video_player")}l=a?g:null;b[6]!==j||b[7]!==g||b[8]!==e||b[9]!==l?(f=k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:g,onPress:e,tooltip:l}),b[6]=j,b[7]=g,b[8]=e,b[9]=l,b[10]=f):f=b[10];return f}g["default"]=a}),226);
__d("VideoPlayerPlaybackControl.react",["CometTrackingNodeProvider.react","VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","react-compiler-runtime","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(13),e=a.isNPC,f=a.showTooltip;a=a.unmuteOnPlay;var g=e===void 0?!1:e;e=f===void 0?!0:f;var h=a===void 0?!1:a;b[0]!==g?(f=function(){g&&c("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},a=[g],b[0]=g,b[1]=f,b[2]=a):(f=b[1],a=b[2]);k(f,a);f=c("useVideoPlayerControllerSubscription")(l);var m=f.showPauseButton;a=f.showReplayButton;var n=(i||(i=d("VideoPlayerHooks"))).useController(),o=c("useMinifiedProductAttribution")();b[3]!==n||b[4]!==g||b[5]!==o||b[6]!==m||b[7]!==h?(f=function(){g&&c("VideoHomeTypedLiteLogger").log({attribution_id_v2:o,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),m?n.pause("user_initiated"):(h&&n.setMuted(!1,"user_initiated"),n.play("user_initiated"))},b[3]=n,b[4]=g,b[5]=o,b[6]=m,b[7]=h,b[8]=f):f=b[8];f=c("useFeedClickEventHandler")(f);a=m?"pause":a?"replay":"play";var p;b[9]!==f||b[10]!==a||b[11]!==e?(p=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:592,children:j.jsx(c("VideoPlayerPlaybackControlBase.react"),{onPress:f,playbackIcon:a,showTooltip:e})}),b[9]=f,b[10]=a,b[11]=e,b[12]=p):p=b[12];return p}function l(a,b){var c=a.getCurrentState(),d=c.ended,e=c.paused,f=c.playing,g=c.stalling;a=a.getPlayheadPosition();c=c.duration;e=!e&&(f||g);g=!f&&d&&a>=c;return b!=null&&b.showPauseButton===e&&b.showReplayButton===g?b:{showPauseButton:e,showReplayButton:g}}g["default"]=a}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b="";a=a;isNaN(a)?a=0:a<0&&(a*=-1,b="-");var c=Math.floor(a/d("DateConsts").SEC_PER_HOUR),e=Math.floor((a-c*d("DateConsts").SEC_PER_HOUR)/d("DateConsts").SEC_PER_MIN);a=Math.round(a-c*d("DateConsts").SEC_PER_HOUR-e*d("DateConsts").SEC_PER_MIN);a===d("DateConsts").SEC_PER_MIN&&(a=0,e++);e===d("DateConsts").MIN_PER_HOUR&&(e=0,c++);a=("0"+a).slice(-2);if(c===0)return""+b+e+":"+a;else{e=("0"+e).slice(-2);return""+b+c+":"+e+":"+a}}g["default"]=a}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.currentTime;a=a.duration;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 x1t4t16n x8j4wrb x9hgts1 x2b8uid x27saw0 x3ajldb"},g={className:"x1s688f x15hfatp"},b[0]=f,b[1]=g):(f=b[0],g=b[1]);var h;b[2]!==e?(h=c("getFormattedTimestamp")(e),b[2]=e,b[3]=h):h=b[3];b[4]!==h?(e=i.jsx("span",babelHelpers["extends"]({},g,{children:h})),b[4]=h,b[5]=e):e=b[5];b[6]!==a?(g=a!=null&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:" / "}),i.jsx("span",{children:c("getFormattedTimestamp")(a)})]}),b[6]=a,b[7]=g):g=b[7];b[8]!==e||b[9]!==g?(h=i.jsxs("div",babelHelpers["extends"]({},f,{children:[e,g]})),b[8]=e,b[9]=g,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("useLiveRewindUtils",["VideoPlayerHooks","VideoPlayerLiveRewindControlContext","react","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");j.useCallback;var k=j.useContext,l=10,m=10;function a(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;var c=Math.min(b.getPlayheadPosition()+l,a);c===a?(b.setIsLiveRewindActive(!1),b.seek(a)):b.seek(c);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function b(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;a=Math.max(b.getPlayheadPosition()-m,a);b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function e(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;b.seek(a);b.play("user_initiated");b.setIsLiveRewindActive(!1);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function f(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function n(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){b.play("user_initiated"),e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function o(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){b.pause("user_initiated"),b.setIsLiveRewindActive(!0),e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function p(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);b.play("user_initiated");e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function q(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(a){var c,d=b.getCurrentState().seekableRanges;c=(c=d==null?void 0:d.start(0))!=null?c:0;d=d!=null?(d=d.end(d.length()-1))!=null?d:0:0;c=Math.min(c+a,d);b.scrubEnd(c);c===d?b.setIsLiveRewindActive(!1):b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function r(){return c("useVideoPlayerControllerSubscription")(s)}function s(a){return(a=(a=a.getCurrentState().seekableRanges)==null?void 0:a.start(0))!=null?a:0}g.useLiveRewindForward=a;g.useLiveRewindBack=b;g.useLiveRewindLive=e;g.useLiveRewindStart=f;g.useLiveRewindPlay=n;g.useLiveRewindPause=o;g.useLiveRewindReplay=p;g.useLiveRewindScrub=q;g.useLiveRewindSeekableStartTime=r}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");b=a;function k(){var a=d("react-compiler-runtime").c(2),b=d("useLiveRewindUtils").useLiveRewindSeekableStartTime(),e=(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200),f=i.useCurrentTimeThrottled(1e3,l),g=i.useIsLiveRewindActive();g=g?f:e-b;a[0]!==g?(f=j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:g,duration:null}),a[0]=g,a[1]=f):f=a[1];return f}function l(a){var b=a.getCurrentState();a=a.getPlayheadPosition();return a-b.duration}function m(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useDuration(),e=i.useCurrentTimeThrottled(200),f;a[0]!==e||a[1]!==b?(f=j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:e,duration:b}),a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function a(){var a=d("react-compiler-runtime").c(2),b=(i||(i=d("VideoPlayerHooks"))).useIsLive();if(b){a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(k,{}),a[0]=b):b=a[0];return b}else{a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(m,{}),a[1]=b):b=a[1];return b}}e=b;g["default"]=e}),98);
__d("VideoPlayerPointerDrag",["react","react-compiler-runtime","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=d("react-compiler-runtime").c(5),b=j(null),e=j(null),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a,c){b.current=c.getBoundingClientRect(),e.current=c},a[0]=f):f=a[0];f=c("useResizeObserver")(f);var g;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return function(){var a=e.current;a?b.current=a.getBoundingClientRect():b.current=null}},a[1]=g):g=a[1];g=c("useStable")(g);var h;a[2]!==g||a[3]!==f?(h={invalidateRootRect:g,rootRectRef:b,rootSizeRefCallback:f},a[2]=g,a[3]=f,a[4]=h):h=a[4];return h}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null?void 0:a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b.current||c[1]!==a?(e=function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},c[0]=b.current,c[1]=a,c[2]=e):e=c[2];var f;c[3]!==b||c[4]!==a?(f=[a,b],c[3]=b,c[4]=a,c[5]=f):f=c[5];i(e,f)}function r(a,b,e){var f=d("react-compiler-runtime").c(13),g=k(n),h=g[0],j=g[1];f[0]!==a||f[1]!==b?(g=function(){return p(j,a,b)},f[0]=a,f[1]=b,f[2]=g):g=f[2];g=c("useStable")(g);var l=g.destroy,m=g.onMouseDown;g=g.onTouchStart;var o,q;f[3]!==l?(o=function(){return l},q=[l],f[3]=l,f[4]=o,f[5]=q):(o=f[4],q=f[5]);i(o,q);f[6]!==m||f[7]!==g||f[8]!==(e==null?void 0:e.hasTouchEvents)?(o={onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:m,onTouchStart:(e==null?void 0:e.hasTouchEvents)===!0?g:void 0},f[6]=m,f[7]=g,f[8]=e==null?void 0:e.hasTouchEvents,f[9]=o):o=f[9];f[10]!==h||f[11]!==o?(q={dragState:h,rootProps:o},f[10]=h,f[11]=o,f[12]=q):q=f[12];return q}function e(a,b){var c=d("react-compiler-runtime").c(7),e=j(a),f=j(null),g,h;c[0]!==a?(g=function(){e.current=a},h=[a],c[0]=a,c[1]=g,c[2]=h):(g=c[1],h=c[2]);i(g,h);g=r(e,f,b);h=g.dragState;f=g.rootProps;q(h,e);b=h.dragState==="dragging";c[3]!==h||c[4]!==f||c[5]!==b?(g={dragState:h,isDragging:b,rootProps:f},c[3]=h,c[4]=f,c[5]=b,c[6]=g):g=c[6];return g}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("VideoPlayerSliderNub.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.isVisible;var c;b[0]!==a?(c={0:{className:"x14hiurz x1g7gg9k xenha5r x1eoefnw x124h113 x14yjl9h xudhj91 x18nykt9 xww2gxu x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x1nqv1ya x1s85apg xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm"},1:{className:"x14hiurz x1g7gg9k xenha5r x1eoefnw x124h113 x14yjl9h xudhj91 x18nykt9 xww2gxu x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x1nqv1ya xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm x1lliihq"}}[!!a<<0],b[0]=a,b[1]=c):c=b[1];b[2]!==c?(a=i.jsx("div",babelHelpers["extends"]({},c,{"data-testid":void 0})),b[2]=c,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.bufferedRatio,f=a.isLive,g=a.isLiveRewindActive,i=a.isNubVisible,l=a.playedRatio,m=a.timelineBackgroundXStyle,n=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;var o;b[0]!==m?(o=(h||(h=c("stylex"))).props(k.timelineBackground,m),b[0]=m,b[1]=o):o=b[1];m=!f&&k.timelineBufferedBackground;var p;b[2]!==m||b[3]!==n?(p=(h||(h=c("stylex")))(k.timelineBuffered,m,n),b[2]=m,b[3]=n,b[4]=p):p=b[4];m=(100*e).toFixed(5)+"%";b[5]!==m?(n={width:m},b[5]=m,b[6]=n):n=b[6];b[7]!==p||b[8]!==n?(e=j.jsx("div",babelHelpers["extends"]({className:p},c("CometVisualCompletionAttributes").IGNORE,{style:n})),b[7]=p,b[8]=n,b[9]=e):e=b[9];m=f&&!g&&k.liveTimePlayed;p=f&&g&&k.liveRewindTimePlayed;b[10]!==m||b[11]!==p||b[12]!==a?(n=(h||(h=c("stylex")))(k.timelinePlayed,m,p,a),b[10]=m,b[11]=p,b[12]=a,b[13]=n):n=b[13];f=(100*l).toFixed(5)+"%";b[14]!==f?(g={width:f},b[14]=f,b[15]=g):g=b[15];b[16]!==i?(m=j.jsx(c("VideoPlayerSliderNub.react"),{isVisible:i}),b[16]=i,b[17]=m):m=b[17];b[18]!==g||b[19]!==m||b[20]!==n?(p=j.jsx("div",babelHelpers["extends"]({className:n},c("CometVisualCompletionAttributes").IGNORE,{style:g,children:m})),b[18]=g,b[19]=m,b[20]=n,b[21]=p):p=b[21];b[22]!==o||b[23]!==p||b[24]!==e?(a=j.jsxs("div",babelHelpers["extends"]({},o,{children:[e,p]})),b[22]=o,b[23]=p,b[24]=e,b[25]=a):a=b[25];return a}g["default"]=a}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function k(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=d("react-compiler-runtime").c(41),e=a.bufferEnd,f=a.currentTime,g=a.duration,h=a.onScrubCancel,l=a.onScrubEnd,m=a.onScrubStart;a=a.supportsTouch;var n=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),o=n.invalidateRootRect,p=n.rootRectRef;n=n.rootSizeRefCallback;var q=j(0),r=q[0],s=q[1];q=j(!1);var t=q[0],u=q[1],v=c("usePrevious")(f),w;b[0]!==f||b[1]!==v?(q=function(){f!==v&&u(!1)},w=[f,v],b[0]=f,b[1]=v,b[2]=q,b[3]=w):(q=b[2],w=b[3]);i(q,w);b[4]!==h?(q=function(a){h()},b[4]=h,b[5]=q):q=b[5];b[6]!==g||b[7]!==h||b[8]!==l||b[9]!==p?(w=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a){h();return}s(a.ratioX);a=a.ratioX*g;l(a)},b[6]=g,b[7]=h,b[8]=l,b[9]=p,b[10]=w):w=b[10];var x;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){u(!0)},b[11]=x):x=b[11];var y;b[12]!==p?(y=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a)return;s(a.ratioX)},b[12]=p,b[13]=y):y=b[13];var z;b[14]!==o||b[15]!==m||b[16]!==p?(z=function(a){o();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a)return;s(a.ratioX);m()},b[14]=o,b[15]=m,b[16]=p,b[17]=z):z=b[17];b[18]!==q||b[19]!==w||b[20]!==y||b[21]!==z?(x={onDragCancel:q,onDragEnd:w,onDragEndSync:x,onDragMove:y,onDragStart:z},b[18]=q,b[19]=w,b[20]=y,b[21]=z,b[22]=x):x=b[22];q=a===!0;b[23]!==q?(w={hasTouchEvents:q},b[23]=q,b[24]=w):w=b[24];y=d("VideoPlayerPointerDrag").usePointerDrag(x,w);z=y.isDragging;a=y.rootProps;b[25]!==e||b[26]!==g?(q=k(g,e),b[25]=e,b[26]=g,b[27]=q):q=b[27];x=q;b[28]!==f||b[29]!==g?(w=k(g,f),b[28]=f,b[29]=g,b[30]=w):w=b[30];y=w;b[31]!==x||b[32]!==y||b[33]!==o||b[34]!==z||b[35]!==t||b[36]!==r||b[37]!==a||b[38]!==p||b[39]!==n?(e={bufferedRatio:x,currentPlayedRatio:y,invalidateRootRect:o,isDragging:z,isWaitingForSeek:t,pointerOffsetRatio:r,rootProps:a,rootRectRef:p,rootSizeRefCallback:n},b[31]=x,b[32]=y,b[33]=o,b[34]=z,b[35]=t,b[36]=r,b[37]=a,b[38]=p,b[39]=n,b[40]=e):e=b[40];return e}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","react","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=b.useState;function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.disableKeyCommands,g=a.duration,i=a.hideNub;i=i===void 0?!1:i;var n=a.isLive,o=a.isLiveRewindActive,p=a.keyLeftDescription,q=a.keyRightDescription,r=a.onScrubCancel,s=a.onScrubEnd,t=a.onScrubStart,u=a.onUserInteraction,v=a.playFromBeginningImpl,w=a.renderScrubber,x=a.renderTooltip,y=a.skipBackwardImpl,z=a.skipForwardImpl,A=a.skipToEndImpl,B=a.supportsTouch,C=a.timelineBackgroundXStyle,D=a.timelineBufferedXStyle,E=a.timelinePlayedXStyle;a=a.withoutVerticalPadding;a=a===void 0?!1:a;var F=m(!1),G=F[0],H=F[1];F=m(0);var I=F[0],J=F[1];F=m(null);var K=F[0],L=F[1];F=c("useVideoPlayerScrubberState")({bufferEnd:b,currentTime:e,duration:g,onScrubCancel:r,onScrubEnd:s,onScrubStart:t,supportsTouch:B});b=F.bufferedRatio;r=F.currentPlayedRatio;var M=F.invalidateRootRect;s=F.isDragging;t=F.isWaitingForSeek;B=F.pointerOffsetRatio;var N=F.rootProps,O=F.rootRectRef;F=F.rootSizeRefCallback;var P=k(function(){H(!0)},[]),Q=k(function(){H(!1)},[]),R=k(function(a){M();if(O.current!=null){var b=O.current.left,c=O.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(g)&&g>0?g*d:null;J(a.clientX-b);L(c)}},[g,M,O]),S=G||s;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",S,u);S=G||s||t;u=s||t?B:n&&!o?1:r;s=l(function(){return f===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:q,handler:z},{command:{key:c("CometKeys").LEFT},description:p,handler:y},{command:{key:c("CometKeys").HOME},description:h._(/*BTDS*/"Play from beginning"),handler:v},{command:{key:c("CometKeys").END},description:h._(/*BTDS*/"Skip to end"),handler:A}]},[f,q,z,p,y,v,A]);t={bufferedRatio:b,duration:g,hoveringPositionSec:K,isHovering:G,isLive:n,isLiveRewindActive:o,isNubVisible:!i&&S,playedRatio:u,timelineBackgroundXStyle:C,timelineBufferedXStyle:D,timelinePlayedXStyle:E};return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,children:j.jsxs("div",babelHelpers["extends"]({},N,{"aria-label":h._(/*BTDS*/"Change Position"),"aria-orientation":"horizontal","aria-valuemax":g,"aria-valuemin":"0","aria-valuenow":e,className:{0:"x1ypdohk x1y1aw1k x4uap5 xwib8y2 xkhd6sd x1n2onr6 x87ps6o xh8yej3",1:"x1ypdohk x4uap5 xkhd6sd x1n2onr6 x87ps6o xh8yej3 x18d9i69 xexx8yu"}[!!a<<0],"data-testid":void 0,onMouseEnter:P,onMouseLeave:Q,onMouseMove:R,ref:F,role:"slider",tabIndex:0,children:[w!=null?w(t):j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},t)),x!=null&&K!=null&&G&&j.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:I},children:x(K)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerScrubber.react",["fbt","VideoPlayerHooks","VideoPlayerScrubberBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));i.useCallback;function l(){return(j||(j=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(a){var b=d("react-compiler-runtime").c(48),e=a.onUserInteraction,f=a.renderScrubber;a=a.renderTooltip;var g=l(),i;i=(j||(j=d("VideoPlayerHooks"))).useDuration();var m=j.useController(),n=j.useBufferEnd(),o=j.useIsLive(),p=j.useIsLiveRewindActive(),q=d("useLiveRewindUtils").useLiveRewindScrub(),r=d("useLiveRewindUtils").useLiveRewindForward(),s=d("useLiveRewindUtils").useLiveRewindBack(),t=d("useLiveRewindUtils").useLiveRewindStart(),u=d("useLiveRewindUtils").useLiveRewindLive(),v=d("useLiveRewindUtils").useLiveRewindSeekableStartTime();o&&(i=i-v,i,g=g-v);b[0]!==m||b[1]!==i||b[2]!==o||b[3]!==r?(v=function(){if(o)r();else{var a=m.getPlayheadPosition()+5;a>=i?m.seek(i-.01):m.seek(a)}},b[0]=m,b[1]=i,b[2]=o,b[3]=r,b[4]=v):v=b[4];i;v=v;var w;b[5]!==o?(w=o?h._(/*BTDS*/"Fast-forward 10 seconds"):h._(/*BTDS*/"Fast-forward 5 seconds"),b[5]=o,b[6]=w):w=b[6];w=w;var x;b[7]!==m||b[8]!==o||b[9]!==s?(x=function(){if(o)s();else{var a=m.getPlayheadPosition()-5;a<0?m.seek(0):m.seek(a)}},b[7]=m,b[8]=o,b[9]=s,b[10]=x):x=b[10];x=x;var y;b[11]!==o?(y=o?h._(/*BTDS*/"Rewind 10 seconds"):h._(/*BTDS*/"Rewind 5 seconds"),b[11]=o,b[12]=y):y=b[12];y=y;var z;b[13]!==m||b[14]!==o||b[15]!==t?(z=function(){o?t():m.seek(0)},b[13]=m,b[14]=o,b[15]=t,b[16]=z):z=b[16];z=z;var A;b[17]!==m||b[18]!==i||b[19]!==o||b[20]!==u?(A=function(){o?u():m.seek(i-.01)},b[17]=m,b[18]=i,b[19]=o,b[20]=u,b[21]=A):A=b[21];i;A=A;var B;b[22]!==m?(B=function(){m.scrubEnd(null)},b[22]=m,b[23]=B):B=b[23];B=B;var C;b[24]!==m?(C=function(){m.scrubBegin()},b[24]=m,b[25]=C):C=b[25];C=C;var D;b[26]!==m||b[27]!==o||b[28]!==q?(D=function(a){!o?m.scrubEnd(a):q(a)},b[26]=m,b[27]=o,b[28]=q,b[29]=D):D=b[29];D=D;var E;b[30]!==n||b[31]!==g||b[32]!==i||b[33]!==o||b[34]!==p||b[35]!==A||b[36]!==y||b[37]!==w||b[38]!==e||b[39]!==z||b[40]!==f||b[41]!==a||b[42]!==B||b[43]!==D||b[44]!==C||b[45]!==x||b[46]!==v?(E=k.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:n,currentTime:g,duration:i,isLive:o,isLiveRewindActive:p,keyLeftDescription:y,keyRightDescription:w,onScrubCancel:B,onScrubEnd:D,onScrubStart:C,onUserInteraction:e,playFromBeginningImpl:z,renderScrubber:f,renderTooltip:a,skipBackwardImpl:x,skipForwardImpl:v,skipToEndImpl:A}),b[30]=n,b[31]=g,b[32]=i,b[33]=o,b[34]=p,b[35]=A,b[36]=y,b[37]=w,b[38]=e,b[39]=z,b[40]=f,b[41]=a,b[42]=B,b[43]=D,b[44]=C,b[45]=x,b[46]=v,b[47]=E):E=b[47];return E}g["default"]=a}),226);
__d("VideoPlayerScrubberPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberPreview_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_preview_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberChapterPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberChapterPreviewRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberDefaultPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberPreview.react",["CometRelay","VideoPlayerScrubberPreview_video.graphql","VideoPlayerTimeIndicator.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.timestampSec;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberPreview_video.graphql"),a);if(a==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:f}),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_preview_renderer;var i;e[2]!==f||e[3]!==a?(i={timestampSec:f,video:a},e[2]=f,e[3]=a,e[4]=i):i=e[4];e[5]!==g||e[6]!==i?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:i}),e[5]=g,e[6]=i,e[7]=f):f=e[7];return f}g["default"]=a}),98);
__d("VideoPlayerSettingsControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerSettingsMenu.react","VideoPlayerUserInteractionCounter","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function a(a){var b=d("react-compiler-runtime").c(26),e=a.alignMenuToIcon,f=a.children,g=a.compactMenu,j=a.forceShowPlaybackRateControl,m=a.icon,n=a.menuOpened,o=a.onMenuOpen,p=a.onUserInteraction,q=a.ref,r=a.setMenuOpened;a=e===void 0?!1:e;e=f===void 0?null:f;f=l(!1);var s=f[0],t=f[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Settings"),b[0]=f):f=b[0];f=f;var u=r!=null;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_settings_menu",u?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:s,p);var v=u?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:s;b[1]!==a?(p={0:{className:"x1rg5ohu x1k70j0n x1w0mnb xzueoph x1mnrxsn"},1:{className:"x1rg5ohu x1k70j0n x1w0mnb xzueoph x1mnrxsn x1n2onr6 xuxw1ft"}}[!!(a===!0)<<0],b[1]=a,b[2]=p):p=b[2];b[3]!==a||b[4]!==e||b[5]!==g||b[6]!==j||b[7]!==u||b[8]!==v||b[9]!==r?(n=v&&k.jsx("div",babelHelpers["extends"]({},{0:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1ou2tus x1a8lsjc x1egjynq x10l6tqk x1fwd5yv"},2:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1ou2tus x1a8lsjc x1egjynq x10l6tqk xwjie4w"},1:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1ou2tus x1a8lsjc x1egjynq x10l6tqk x3m8u43"},3:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1ou2tus x1a8lsjc x1egjynq x10l6tqk x3m8u43"}}[!!(g===!0)<<1|!!(a===!0)<<0],{children:k.jsx(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenu,{forceShowPlaybackRateControl:j,onClose:function(){u?r!=null&&r(null):t(!1)},children:e})})),b[3]=a,b[4]=e,b[5]=g,b[6]=j,b[7]=u,b[8]=v,b[9]=r,b[10]=n):n=b[10];b[11]!==m?(a=m==null?d("fbicon")._(i("497567"),20):m,b[11]=m,b[12]=a):a=b[12];b[13]!==u||b[14]!==v||b[15]!==s||b[16]!==o||b[17]!==r?(e=function(){u?r!=null&&r(v?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU):t(!s),!v&&o!=null&&o()},b[13]=u,b[14]=v,b[15]=s,b[16]=o,b[17]=r,b[18]=e):e=b[18];b[19]!==a||b[20]!==e?(g=k.jsx(c("VideoPlayerControlIcon.react"),{icon:a,label:f,onPress:e,tooltip:f}),b[19]=a,b[20]=e,b[21]=g):g=b[21];b[22]!==p||b[23]!==n||b[24]!==g?(j=k.jsxs("div",babelHelpers["extends"]({},p,{ref:q,children:[n,g]})),b[22]=p,b[23]=n,b[24]=g,b[25]=j):j=b[25];return j}a.displayName="VideoPlayerSettingsControl";g["default"]=a}),226);
__d("VideoPlayerVolumeControlBase.react",["fbt","ix","FocusWithinHandler.react","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState,m=.33,n=.66;function a(a){var b=d("react-compiler-runtime").c(18),e=a.audioAvailabilityUI,f=a.isMuted,g=a.onMouseEnter,j=a.onMouseLeave,o=a.onSetMuted,p=a.onUserInteraction,q=a.renderVolumeSlider,r=a.useOutlineIcons;a=a.volume;r=r===void 0?!1:r;var s=!f&&a>0,t;b[0]!==e||b[1]!==s||b[2]!==r||b[3]!==a?(e!=null&&e.shouldShowNullIcon?t=r?d("fbicon")._(i("944795"),20):d("fbicon")._(i("944792"),20):s?a<=m?t=r?d("fbicon")._(i("1146252"),20):d("fbicon")._(i("1104387"),20):a<=n?t=r?d("fbicon")._(i("1104392"),20):d("fbicon")._(i("1104390"),20):t=r?d("fbicon")._(i("564393"),20):d("fbicon")._(i("564390"),20):t=r?d("fbicon")._(i("564399"),20):d("fbicon")._(i("564396"),20),b[0]=e,b[1]=s,b[2]=r,b[3]=a,b[4]=t):t=b[4];s=l(!1);var u=s[0],v=s[1];b[5]!==f?(r=f?h._(/*BTDS*/"Unmute"):h._(/*BTDS*/"Mute"),b[5]=f,b[6]=r):r=b[6];var w=r;b[7]!==e||b[8]!==t||b[9]!==f||b[10]!==u||b[11]!==w||b[12]!==g||b[13]!==j||b[14]!==o||b[15]!==p||b[16]!==q?(a=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsxs("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu xhsvlbd xyamay9 xsyo7zv x10b6aqq x16hj40l x1n2onr6"},{onMouseEnter:g,onMouseLeave:j,children:[e!=null&&e.shouldDisableVolumeControl?null:k.jsx("div",babelHelpers["extends"]({className:"xk7dvq3 x9f619 x17qophe x1yrsyyn xsyo7zv x10b6aqq x16hj40l x10l6tqk xh8yej3"},{children:q({focusVisible:b,onVisibilityChange:v})})),k.jsx(c("VideoPlayerControlIcon.react"),{icon:t,label:w,onPress:function(){e&&e.onVolumeControlPress(),e!=null&&e.shouldDisableVolumeControl||o(!f,"user_initiated"),p&&p({name:"video_mute_button",type:"happened"})},tooltip:e!=null?e.tooltipContent:null,tooltipAlign:"end",tooltipImpl:e!=null?e.tooltipImpl:null,tooltipOffsetY:u?-80:0})]}))}}),b[7]=e,b[8]=t,b[9]=f,b[10]=u,b[11]=w,b[12]=g,b[13]=j,b[14]=o,b[15]=p,b[16]=q,b[17]=a):a=b[17];return a}g["default"]=a}),226);
__d("VideoPlayerVolumeSliderBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerPointerDrag","VideoPlayerSliderNub.react","VideoPlayerUserInteractionCounter","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect;b.useMemo;var m=b.useRef,n=b.useState,o={root:{cursor:"x1ypdohk",height:"xng8ra",opacity:"xg01cxk",pointerEvents:"x47corl",position:"x1n2onr6",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x1td3qas",zIndex:"x1ja2u2z",$$css:!0},rootVisible:{opacity:"x1hc1fzr",pointerEvents:"x67bb7w",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(59),e=a.isHovering,f=a.isMuted,g=a.onChangeVolumeDown,j=a.onChangeVolumeUp,p=a.onSetMuted,q=a.onSetVolume,r=a.onUserInteraction,s=a.onVisibilityChange,t=a.volume;a=d("VideoPlayerPointerDrag").usePointerDragResizeObserver();var u=a.invalidateRootRect,v=a.rootRectRef;a=a.rootSizeRefCallback;var w=m(t),x=m(f),y=f?0:t,z=n(y),A=z[0],B=z[1];b[0]!==f||b[1]!==p||b[2]!==q||b[3]!==v?(z=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,v.current);if(!a)return;a=Math.max(0,Math.min(1,1-a.ratioY));B(a);q(a);f&&p(!1,"user_initiated")},b[0]=f,b[1]=p,b[2]=q,b[3]=v,b[4]=z):z=b[4];var C=z;b[5]!==p||b[6]!==q?(z=function(a){B(w.current),q(w.current),p(x.current,"user_initiated")},b[5]=p,b[6]=q,b[7]=z):z=b[7];var D,E;b[8]!==C?(D=function(a){C(a)},E=function(a){C(a)},b[8]=C,b[9]=D,b[10]=E):(D=b[9],E=b[10]);var F;b[11]!==u||b[12]!==f||b[13]!==C||b[14]!==t||b[15]!==y?(F=function(a){u(),w.current=t,x.current=f,B(y),C(a)},b[11]=u,b[12]=f,b[13]=C,b[14]=t,b[15]=y,b[16]=F):F=b[16];var G;b[17]!==z||b[18]!==D||b[19]!==E||b[20]!==F?(G={onDragCancel:z,onDragEnd:D,onDragMove:E,onDragStart:F},b[17]=z,b[18]=D,b[19]=E,b[20]=F,b[21]=G):G=b[21];z=d("VideoPlayerPointerDrag").usePointerDrag(G);D=z.isDragging;E=z.rootProps;F=D?A:y;var H=e||D,I=m(H);b[22]!==H||b[23]!==s?(G=function(){I.current!==H&&(s&&s(H)),I.current=H},z=[s,H],b[22]=H,b[23]=s,b[24]=G,b[25]=z):(G=b[24],z=b[25]);l(G,z);A=H;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_volume_slider",A,r);b[26]===Symbol["for"]("react.memo_cache_sentinel")?(e={key:c("CometKeys").UP},D=h._(/*BTDS*/"Increase volume"),b[26]=e,b[27]=D):(e=b[26],D=b[27]);b[28]!==j?(G={command:e,description:D,handler:function(){j()}},b[28]=j,b[29]=G):G=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(z={key:c("CometKeys").DOWN},A=h._(/*BTDS*/"Decrease volume"),b[30]=z,b[31]=A):(z=b[30],A=b[31]);b[32]!==g?(r={command:z,description:A,handler:function(){g()}},b[32]=g,b[33]=r):r=b[33];b[34]!==G||b[35]!==r?(e=[G,r],b[34]=G,b[35]=r,b[36]=e):e=b[36];D=e;z=D;b[37]===Symbol["for"]("react.memo_cache_sentinel")?(A=h._(/*BTDS*/"Change volume"),b[37]=A):A=b[37];G=H&&o.rootVisible;b[38]!==G?(r=(i||(i=c("stylex")))(o.root,G),b[38]=G,b[39]=r):r=b[39];b[40]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x18fn2jl x1lcm9me x1yr5g0i xrt01vj x10y3i5r x1ey2m1c xng8ra xoyjkpr x10l6tqk x1xc55vz"},D="x1spa7qu x1lcm9me x1yr5g0i xrt01vj x10y3i5r x1ey2m1c x10l6tqk xh8yej3",b[40]=e,b[41]=D):(e=b[40],D=b[41]);G=F*100+"%";b[42]!==G?(F={height:G},b[42]=G,b[43]=F):F=b[43];b[44]===Symbol["for"]("react.memo_cache_sentinel")?(G={className:"x1c7jfne x1f4buv5 x1n2onr6"},b[44]=G):G=b[44];b[45]!==H?(G=k.jsx("div",babelHelpers["extends"]({},G,{children:k.jsx(c("VideoPlayerSliderNub.react"),{isVisible:H})})),b[45]=H,b[46]=G):G=b[46];b[47]!==F||b[48]!==G?(e=k.jsx("div",babelHelpers["extends"]({},e,{children:k.jsx("div",{className:D,style:F,children:G})})),b[47]=F,b[48]=G,b[49]=e):e=b[49];b[50]!==E||b[51]!==a||b[52]!==r||b[53]!==e||b[54]!==t?(D=k.jsx("div",babelHelpers["extends"]({},E,{"aria-label":A,"aria-orientation":"vertical","aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":t,className:r,ref:a,role:"slider",tabIndex:0,children:e})),b[50]=E,b[51]=a,b[52]=r,b[53]=e,b[54]=t,b[55]=D):D=b[55];b[56]!==z||b[57]!==D?(F=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:z,children:D}),b[56]=z,b[57]=D,b[58]=F):F=b[58];return F}g["default"]=a}),226);
__d("VideoPlayerVolumeSlider.react",["VideoPlayerHooks","VideoPlayerVolumeSliderBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(20),e=a.isHovering,f=a.onUserInteraction;a=a.onVisibilityChange;var g=(i||(i=d("VideoPlayerHooks"))).useController(),h=i.useMuted(),k=i.useVolume(),l;b[0]!==g?(l=function(a){g.setVolume(a)},b[0]=g,b[1]=l):l=b[1];l=l;var m;b[2]!==g?(m=function(a,b){g.setMuted(a,b)},b[2]=g,b[3]=m):m=b[3];m=m;var n;b[4]!==g?(n=function(a){var b=g.getCurrentState();a=Math.max(0,Math.min(1,b.volume+a));g.setVolume(a);a===0?g.setMuted(!0,"user_initiated"):b.muted&&g.setMuted(!1,"user_initiated")},b[4]=g,b[5]=n):n=b[5];var o=n;b[6]!==o?(n=function(){o(.05)},b[6]=o,b[7]=n):n=b[7];n=n;var p;b[8]!==o?(p=function(){o(-.05)},b[8]=o,b[9]=p):p=b[9];p=p;var q;b[10]!==p||b[11]!==n||b[12]!==e||b[13]!==h||b[14]!==f||b[15]!==a||b[16]!==m||b[17]!==l||b[18]!==k?(q=j.jsx(c("VideoPlayerVolumeSliderBase.react"),{isHovering:e,isMuted:h,onChangeVolumeDown:p,onChangeVolumeUp:n,onSetMuted:m,onSetVolume:l,onUserInteraction:f,onVisibilityChange:a,volume:k}),b[10]=p,b[11]=n,b[12]=e,b[13]=h,b[14]=f,b[15]=a,b[16]=m,b[17]=l,b[18]=k,b[19]=q):q=b[19];return q}g["default"]=a}),98);
__d("VideoPlayerVolumeControl.react",["VideoPlayerHooks","VideoPlayerVolumeControlBase.react","VideoPlayerVolumeSlider.react","cr:1826284","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.useState,l=(f=b("cr:1826284"))!=null?f:c("useEmptyFunction");function a(a){var b=d("react-compiler-runtime").c(15),e=a.onUserInteraction;a=a.useOutlineIcons;a=a===void 0?!1:a;var f=k(!1),g=f[0],h=f[1],m=(i||(i=d("VideoPlayerHooks"))).useController();f=i.useMuted();var n=i.useVolume(),o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){h(!0)},b[0]=o):o=b[0];o=o;var p;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){h(!1)},b[1]=p):p=b[1];p=p;var q;b[2]!==m?(q=function(a,b){m.setMuted(a,b)},b[2]=m,b[3]=q):q=b[3];q=q;var r=!f&&n>0;r=l({canPlayerProduceSound:r,isHovering:g})||null;var s;b[4]!==g||b[5]!==e?(s=function(a){var b=a.focusVisible;a=a.onVisibilityChange;return j.jsx(c("VideoPlayerVolumeSlider.react"),{isHovering:g||b,onUserInteraction:e,onVisibilityChange:a})},b[4]=g,b[5]=e,b[6]=s):s=b[6];b[7]!==r||b[8]!==f||b[9]!==e||b[10]!==q||b[11]!==s||b[12]!==a||b[13]!==n?(o=j.jsx(c("VideoPlayerVolumeControlBase.react"),{audioAvailabilityUI:r,isMuted:f,onMouseEnter:o,onMouseLeave:p,onSetMuted:q,onUserInteraction:e,renderVolumeSlider:s,useOutlineIcons:a,volume:n}),b[7]=r,b[8]=f,b[9]=e,b[10]=q,b[11]=s,b[12]=a,b[13]=n,b[14]=o):o=b[14];return o}g["default"]=a}),98);
__d("VideoPlayerWithWatchAndScrollTrigger.react",["$InternalEnum","CastingStateHooks","CometWatchAndScrollTriggerContext","CometWatchAndScrollVideoContext","VideoPlayerHooks","gkx","react","react-compiler-runtime","requireDeferred","useVisibilityObserver","useWatchAndScrollTrigger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.useContext,l=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerWithWatchAndScrollTrigger.react"),m=5,n=30,o=b("$InternalEnum")({BROADCAST:"broadcast",HERO:"hero",PAGE_SPOTLIGHT_CARD:"page_spotlight_card",TAHOE:"tahoe",VOD:"vod",WNS_CONTROL:"wns_control"});function a(a){var b=d("react-compiler-runtime").c(14),e=a.subOrigin,f=a.triggerType;a=a.videoID;var g=k(c("CometWatchAndScrollTriggerContext")),h=g.isControlShown;g=g.isTriggerDisabled;var s=(i||(i=d("VideoPlayerHooks"))).useController(),t=d("useWatchAndScrollTrigger").useWatchAndScrollTrigger(e,f,a),u=k(c("CometWatchAndScrollVideoContext")),v=d("CastingStateHooks").useIsCastingAnyVideo();b[0]!==s||b[1]!==u||b[2]!==v||b[3]!==f||b[4]!==t?(e=function(a){if(a.hiddenReason!=="NOT_IN_VIEWPORT")return;a=s.getCurrentState();var b=a.paused,d=!a.muted,e=s.getPlayheadPosition();a=a.duration;var g=m;a>=30&&(g=Math.max(m,Math.min(n,Math.ceil(a*0/100))));if(!b&&!v&&u==null){if((f===o.HERO||f===o.BROADCAST||f===o.VOD)&&c("gkx")("14639"))return;bb24:switch(f){case o.HERO:t();l.onReady(r);break bb24;case o.BROADCAST:d&&(t(),l.onReady(q));break bb24;case o.VOD:d&&e>=g&&(t(),l.onReady(p));break bb24;default:}}},b[0]=s,b[1]=u,b[2]=v,b[3]=f,b[4]=t,b[5]=e):e=b[5];a=e;b[6]!==a?(e={onHidden:a},b[6]=a,b[7]=e):e=b[7];a=c("useVisibilityObserver")(e);if(!h||g)return null;switch(f){case o.HERO:case o.BROADCAST:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xu1mrb xh8yej3"},b[8]=e):e=b[8];b[9]!==a?(h=j.jsx("div",babelHelpers["extends"]({},e,{ref:a})),b[9]=a,b[10]=h):h=b[10];return h;case o.VOD:b[11]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xu1mrb xh8yej3"},b[11]=g):g=b[11];b[12]!==a?(e=j.jsx("div",babelHelpers["extends"]({},g,{ref:a})),b[12]=a,b[13]=e):e=b[13];return e;default:return null}}function p(a){a.log({event:"watch_and_scroll_trigger",event_target:"newsfeed_vod"})}function q(a){a.log({event:"watch_and_scroll_trigger",event_target:"newsfeed_live"})}function r(a){a.log({event:"watch_and_scroll_trigger",event_target:"hero"})}g.WatchAndScrollTriggerType=o;g.VideoPlayerWithWatchAndScrollTrigger=a}),98);
__d("useWatchAndScrollTrigger",["CometPictureInPictureExpContext","CometSetWatchAndScrollVideoContext","CometWatchAndScrollSoundContext","VideoPlayerHooks","VideoPlayerWithWatchAndScrollTrigger.react","react","recoverableViolation","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useCallback,k=b.useContext;function a(a,b,e,f){var g=c("useVideoPlayerPortalingPassthroughProps")(),h=g.portableVideoID,l=g.portalingPlaceID,m=c("usePlayerOriginRouteTracePolicy")(),n=(i||(i=d("VideoPlayerHooks"))).useController(),o=k(c("CometSetWatchAndScrollVideoContext")),p=k(c("CometWatchAndScrollSoundContext")),q=k(c("CometPictureInPictureExpContext"));return j(function(){p!=null&&(p.setMuted(null),p.setVolume(null));if(h!=null&&l!=null){var g=q.pictureInPictureExpConfig.isInPictureInPictureExp,i=q.pictureInPictureExpConfig.isInPictureInPictureExpControlGroup;if((g||i)&&b!==d("VideoPlayerWithWatchAndScrollTrigger.react").WatchAndScrollTriggerType.WNS_CONTROL)return;o({controller:n,portableVideoID:h,portalingPlaceID:l,routeTracePolicy:m,sessionStartTime:new Date(),sessionTrigger:b,subOrigin:a,videoID:e,videoUrl:f})}else c("recoverableViolation")("Could not transition to Watch and Scroll player because portableVideoID was null","comet_video_player")},[p,h,l,q.pictureInPictureExpConfig.isInPictureInPictureExp,q.pictureInPictureExpConfig.isInPictureInPictureExpControlGroup,b,o,n,m,a,e,f])}g.useWatchAndScrollTrigger=a}),98);
__d("useVideoPlayerVolumeControlAudioAvailabilityUI",["fbt","CometTooltipImpl.react","VideoPlayerControlsHiddenContext","clearTimeout","emptyFunction","react","setTimeout","useAudioAvailabilityAtPlayhead","usePrevious","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState,o=3e3;function a(a){var b=a.canPlayerProduceSound,d=a.isHovering;a=c("useAudioAvailabilityAtPlayhead")();var e=a.isSilentAtPlayhead;a=a.volumeControlState;var g=null;switch(a){case"VOLUME_SILENT":g=h._(/*BTDS*/"Video has no sound");break;case"VOLUME_COPYRIGHT_FULL":g=h._(/*BTDS*/"Muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_SILENCED":g=h._(/*BTDS*/"Partially muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_NOT_SILENCED":break;case"VOLUME_DEFAULT":break;default:a}var i=c("usePrevious")(e),p=n(!1),q=p[0],r=p[1],s=m(c("emptyFunction")),t=m(!1);p=n(!1);var u=p[0],v=p[1],w=c("useStable")(function(){return function(a){t.current=a,v(a),s.current(a),a||r(!1)}}),x=k(c("VideoPlayerControlsHiddenContext"));l(function(){x?w(!1):g==null?w(!1):d||q?w(!0):e!==i&&e&&b&&w(!0)},[g,b,x,d,q,e,i,w]);l(function(){if(u){var a=c("setTimeout")(function(){w(!1)},o);return function(){c("clearTimeout")(a)}}},[u,w]);p=c("useStable")(function(){return function(){r(function(a){return!a})}});var y=c("useStable")(function(){function a(a){var b=n(!1),d=b[0],e=b[1];l(function(){s.current=e;return function(){s.current=c("emptyFunction")}},[e]);l(function(){a.isVisible||w(!1)},[a.isVisible]);return j.jsx(c("CometTooltipImpl.react"),babelHelpers["extends"]({},a,{isVisible:d}))}a.displayName=a.name+" [from "+f.id+"]";return a}),z=a==="VOLUME_COPYRIGHT_FULL"||a==="VOLUME_SILENT",A=b?e:z;return g==null?null:{onVolumeControlPress:p,shouldDisableVolumeControl:z,shouldShowNullIcon:A,tooltipContent:g,tooltipImpl:y,volumeControlState:a}}g["default"]=a}),226);