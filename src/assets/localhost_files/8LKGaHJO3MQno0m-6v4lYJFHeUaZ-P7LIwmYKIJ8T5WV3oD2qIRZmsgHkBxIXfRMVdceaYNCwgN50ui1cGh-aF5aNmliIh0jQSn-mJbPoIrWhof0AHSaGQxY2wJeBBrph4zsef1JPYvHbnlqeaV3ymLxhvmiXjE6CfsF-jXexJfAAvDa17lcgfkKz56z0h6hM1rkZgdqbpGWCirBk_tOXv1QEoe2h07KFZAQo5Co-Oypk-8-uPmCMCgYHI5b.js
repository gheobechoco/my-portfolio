;/*FB_PKG_DELIM*/

__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var b=a.prototype;b.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};b.executeAsyncSignalCollection=async function(){var a=await this.executeSignalCollection();return a};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};b.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};b.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g.default=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.listenForSignals=function(){var a=this;c("gkx")("21049")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return a}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["mousedown","mousemove"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeAsyncSignalCollection=async function(){try{if(navigator.permissions){var a=await navigator.permissions.query({name:"notifications"});a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a.state)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g.default=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["touchstart","touchcancel"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:(b=d)!=null?b:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];b=a==null?void 0:(b=a.values)==null?void 0:b.length;return b!=null&&b>0?a.values[b-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(a of a)a in c("BDSignalBufferData")&&(b[a]=j(a).map(function(a){return a.valueOrError}));return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743095");b=d("FalcoLoggerInternal").create("bd_pdc_signals",a);e=b;g["default"]=e}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalCollectionManager",i=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var b=a.prototype;b.collectSignals=async function(a){var b=this,c=[];a.forEach(function(a){a.signalFlags.includes(4)?b.$2(a):c.push(b.$3(a))});await Promise.all(c)};b.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};b.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};b.$3=async function(a){var b=a.getSignalCollector();if(b!=null)try{b=await b.executeAsyncSignalCollection();this.$4(b,a)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:a})}};b.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};b.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};b.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g.default=b}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","SignalCollectionManager","WebStorage","javascript-blowfish"],(function(a,b,c,d,e,f,g){"use strict";var h,i="BDClientSignalCollectionTrigger",j="signal_flush_timestamp",k=!1,l=!1,m=!1,n=!1,o=0,p=0,q=0,r=30,s=5,t,u,v=d("BDUtils").uuid(),w=c("BDClientConfig").get(),x=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),y={startSignalCollection:async function(a){w.setSID(a.sid);if(!k){k=!0;d("BDServerConfig").parseConfig(a);if(!w.isParsingDone()){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});k=!1;return}a!=null&&(p=a.hbcbc&&a.hbcbc>0?a.hbcbc:p,q=a.hbvbc&&a.hbvbc>0?a.hbvbc:q,r=a.hbbi&&a.hbbi>0?a.hbbi:r);y.startHeartbeatDelayed();u=new Promise(function(a,b){try{w.getDynamicSignals().length>0&&(y.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),w.getBiometricSignals().length>0&&(y.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});await u;await y.startSignalPosting()}k&&!m&&!n&&s>0&&(s-=1,d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),y.startHeartbeatDelayed())},retrieveSignals:async function(){await u,await y.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC])},postSignals:async function(a){await y.collectStaticSignals(),y._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),x.NONE)&&y.setTimestampInStorage(Date.now(),j)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=w.getConfigGenerationTimeStamp(),f=y.encryptDataUsingAsid(v,a);a=function(){return{asid:v,ct:e,sjd:f,sid:w.sid}};var g=!1;try{b===x.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===x.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=y.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:async function(){var a=y.getTimestampInStorage(j);a=Date.now()-a;a>=w.getAllTiersFlushDurationMs()?await y.postSignalsIntermittently():window.setTimeout(function(){y.postSignalsIntermittently()},w.getAllTiersFlushDurationMs()-a)},postSignalsIntermittently:function(){y.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){y.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},w.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=(h||(h=c("WebStorage"))).getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=h.setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){m=!1,n=!1},startHeartbeatDelayed:function(){if(m||n)return;var a=y.getTimestampInStorage(y.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=w.getHeartbeatIntervalMs()?y.startHeartbeat():(window.setTimeout(function(){return y.startHeartbeat()},w.getHeartbeatIntervalMs()-a),n=!0)}catch(b){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:w.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!m&&w.getHeartbeatIntervalMs()>0&&(y.collectHeartbeatTimes(p,q),o!==0&&(window.clearInterval(o),d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),o=window.setInterval(function(){return y.collectHeartbeatTimes(p,q)},w.getHeartbeatIntervalMs()),m=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&y.collectHeartbeat(x.CRITICAL);b>0&&y.collectHeartbeat(x.VITAL);(a>1||b>1)&&window.setTimeout(function(){return y.collectHeartbeatTimes(a-1,b-1)},r*1e3)},collectHeartbeat:function(a){var b;b=w==null?void 0:(b=w.getHeartbeatSignal())==null?void 0:(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(b==null){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});y.postHeartbeat(a,b)&&y.setTimestampInStorage(Date.now(),y.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return y._postSignalsHelper(b,a)},collectStaticSignals:async function(){await y.collectSignalsOneTime(w.getStaticSignals())},collectDynamicSignals:function(){y.stopDynamicSignalCollection(),t=window.setInterval(async function(){await y.collectSignalsOneTime(w.getDynamicSignals())},w.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){y.collectSignalsOneTime(w.getBiometricSignals())},stopDynamicSignalCollection:function(){t!=null&&(window.clearInterval(t),t=null)},collectSignalsOneTime:async function(a){await c("SignalCollectionManager").get().collectSignals(a)},startLoginTimeSignalCollection:async function(a){l||(l=!0,d("BDServerConfig").parseConfig(a),await y.collectSignalsOneTime(w.getDynamicSignals()),await y.collectSignalsOneTime(w.getBiometricSignals()),await y.collectSignalsOneTime(w.getStaticSignals()))},getSignalsAsJSONString:function(){return d("BDSignalBuffer").getSignalsAsJSONString([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").BIOMETRIC])}};a=y;g.default=a}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a}),98);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g,h){function i(){if(document.domain==null)return null;var a=document.domain,b=/^intern\./.test(a);if(b)return null;b=/(^|\.)facebook\.(com|sg)$/.test(a);if(b)return"facebook";b=/(^|\.)instagram\.com$/.test(a);if(b)return"instagram";b=/(^|\.)threads\.(com|net)$/.test(a);if(b)return"threads";b=/(^|\.)messenger\.com$/.test(a);return b?"messenger":null}function j(a){if(a==="instagram")return h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable an Instagram feature or \"hack\" someone's account, it is a scam and will give them access to your Instagram account.");return a==="threads"?h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Threads feature or \"hack\" someone's account, it is a scam and will give them access to your Threads account."):h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy and paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account.")}function a(a){if(top!==window)return;a=i();if(a==null)return;var b=h._(/*BTDS*/"Stop!");a=j(a);var c=h._(/*BTDS*/"See {url} for more information.",[h._param("url","https://www.facebook.com/selfxss")]),d="font-family:helvetica; font-size:20px; ";[[b,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[a,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}g.start=a}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1764786");b=d("FalcoLoggerInternal").create("client_consistency",a);e=b;g["default"]=e}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=!1,k={height:0,width:0};function l(){i===null&&(i=c("getViewportDimensions")());return i}function m(){var a=c("getViewportDimensions")(),b=a.height;a=a.width;(k.width!==a||k.height!==b)&&(k={height:b,width:a},c("Cookie").set("wd",a+"x"+b))}function n(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||c("isInIframe")()||j)return;j=!0;m();window.addEventListener("resize",c("CometDebounce")(m,{wait:250}),{passive:!0});window.addEventListener("focus",m,{passive:!0})}function a(a){var b,d=l();n();b={client_hint_width:a==null?void 0:a.clientHintWidth,pixel_ratio:(b=window.devicePixelRatio)!=null?b:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:c("SiteData").pr,server_viewport_x:a==null?void 0:a.viewportWidth,server_viewport_y:a==null?void 0:a.viewportHeight,viewport_x:d.width,viewport_y:d.height};window.navigator&&window.navigator.hardwareConcurrency&&(b.cpu_cores_count=window.navigator.hardwareConcurrency);if(window.innerWidth>0&&window.outerWidth>0){a=Math.round(window.outerWidth/window.innerWidth*100)/100;b.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){d=window.getComputedStyle(document.documentElement);d!=null&&(b.document_font_size=d.fontSize)}c("WebBrowserDimensionsTypedLoggerLite").log(b)}g.init=a}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("Chromedome").__setRef("CometChromeDome");function a(){i.onReady(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){a.start({})})})}g.init=a}),98);
__d("CometFBUncaughtError.react",["fbt","CometContentArea.react","FDSNullState.react","NullStateGeneral","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1dr59a3 xl56j7k xixxii4 xh8yej3"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:j.jsx(c("FDSNullState.react"),{headline:h._(/*BTDS*/"Sorry! Something went wrong :("),icon:c("NullStateGeneral")})})})),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("CometSVGIcon.react"),babelHelpers["extends"]({viewBox:"0 0 24 24"},a,{children:e})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometNetworkStatusToast",["fbt","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","FDSIcon.react","FDSWirelessFilled24Icon","NetworkStatus","SVGIcon","cometPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=null,l=null;function m(a){a=a.online;var b=c("BaseToasterStateManager").getInstance();k!=null&&(b.expire(k),k=null);k=a?d("cometPushToast").cometPushToast({icon:j.jsx(c("FDSIcon.react"),{color:"positive",icon:c("FDSWirelessFilled24Icon")}),message:h._(/*BTDS*/"Your Internet connection was restored.")},4e3,b):d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"Refresh"),onPress:function(){d("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(a,b,c){c.invalidateStore()})}},icon:j.jsx(c("FDSIcon.react"),{color:"disabled",icon:d("SVGIcon").legacySVGIcon(c("CometIconWirelessSlashFilled.react")),size:24}),message:h._(/*BTDS*/"You are currently offline.")},Infinity,b)}function a(){l=c("NetworkStatus").onChange(m)}function b(){var a;(a=l)==null?void 0:a.remove();l=null}g.subscribe=a;g.unsubscribe=b}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h="dpr";function i(a){c("Cookie").set(h,String(a))}function j(){window.devicePixelRatio!==d("WebPixelRatio").get()&&i(window.devicePixelRatio)}function a(){j(),d("Run").onBeforeUnload(j,!1),"onpagehide"in window&&window.addEventListener("pageHide",j)}g.startDetecting=a}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;function j(){i||(i=window.addEventListener("blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=a.keyCode,j()}function d(a){h=null,k()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",d,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",d)}}var l={getKeyDownCode:function(){return h},isKeyDown:function(){return!!h}},m=!1,n=!1,o=null,p=!1;function q(a){var b=new Set(),d=l.isKeyDown(),e=a.WEBKIT_FORCE_AT_MOUSE_DOWN,f=a.clientX,g=a.clientY,h=a.isTrusted,i=a.mozInputSource,j=a.offsetX,k=a.offsetY,o=a.webkitForce;f===0&&g===0&&j>=0&&k>=0&&n&&h&&i==null&&b.add("Chrome");m&&n&&!d&&o!=null&&o<e&&j===0&&k===0&&i==null&&b.add("Safari-edge");f===0&&g===0&&j<0&&k<0&&n&&i==null&&b.add("Safari-old");if(!m&&!n&&!d&&h&&c("UserAgent").isBrowser("IE >= 10")&&i==null){o=a.target;e=o.clientHeight;d=o.clientWidth;f<0&&g<0?b.add("IE"):(j<0||j>d)&&(k<0||k>e)&&b.add("MSIE")}i===0&&h&&b.add("Firefox");return b}function r(){m=!0,c("setTimeout")(function(){m=!1},0)}function s(){n=!0,c("setTimeout")(function(){n=!1},0)}function t(a){p&&b("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:o,is_virtual_cursor_action:a})}function u(a){o===null&&(o=Array.from(q(a)));p=o!=null&&o.length>0;a=a.target!=null&&a.target.getAttribute!=null&&a.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";t(a);c("setTimeout")(function(){p=!1,o=null},0)}function e(){document.addEventListener("click",u,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("mouseup",s,!0)}g.initLogging=e}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){(i||(i=d("ODS"))).bumpEntityKey(1678,"www_client_navigations",j())}function j(){if((h||(h=c("performance"))).navigation==null||(h||(h=c("performance"))).navigation.type==null)return"UNSUPPORTED";switch((h||(h=c("performance"))).navigation.type){case(h||(h=c("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(h||(h=c("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(h||(h=c("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(h||(h=c("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}g.logPageNavigationType=a}),98);
__d("setCometDeferredCookies",["DeferredCookie","ErrorGuard"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=new Set();function a(a){i?a():j.add(a)}function b(a){Object.entries(a).forEach(function(a){var b=a[0];a=a[1];var d=a.expiration_for_js,e=a.first_party_only,f=a.path,g=a.secure;a=a.value;c("DeferredCookie").addToQueue(b,a,d,f,e,!1,g)}),i=!0,j.forEach(function(a){return(h||(h=c("ErrorGuard"))).applyWithGuard(a,null,[])}),j.clear()}g.onCometDeferredCookieSet=a;g.setCometDeferredCookies=b}),98);
__d("CometRootDeferredShared",["CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","ErrorGuard","JSScheduler","RunComet","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:17080","cr:1813330","cr:2718","cr:9041","gkx","setCometDeferredCookies","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;function a(a){var e=a.blLoggingCavalryFields,f=a.deferredCookies;a=a.networkStatusToast;var g=a===void 0?b("cr:17080"):a;(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return d("CometBootloaderLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometVirtualCursorStatus").initLogging()},null,[]);g!=null&&!c("gkx")("11394")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return g.subscribe()},null,[]);i.applyWithGuard(function(){return d("CometOfflineTracing").initialize()},null,[]);i.applyWithGuard(function(){return d("SimplePageLoadLogger").logPageNavigationType()},null,[]);(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){c("WebStorageMonster").schedule()});b("cr:1201738")&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&b("cr:1201738").init("comet.idle")});j&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&j.init()});d("setCometDeferredCookies").setCometDeferredCookies(f);b("cr:1332233")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1332233")()},null,[]);b("cr:1516609")!=null&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1516609").initSignalCollection()},null,[]);b("cr:1813330")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1813330").init()},null,[]);b("cr:2718")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:2718").init()},null,[]);if(b("cr:9041"))var k=d("RunComet").onAfterLoad(function(){(i||(i=c("ErrorGuard"))).applyWithGuard(function(){b("cr:9041")==null?void 0:b("cr:9041").startRSTFromMainThread(),k.remove()},null,[])})}g.initDeferred=a}),98);
__d("CometToasterView_DO_NOT_USE.react",["BaseContextualLayerAnchorRoot.react","BasePortal.react","BaseToastAnimationInternal.react","XPlatReactToasterView.react","gkx","react","react-compiler-runtime","useToasterStateManager"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l={root:{display:"x78zum5",end:"xds687c",start:"x1uvyrtv",left:null,right:null,pointerEvents:"x47corl",position:"xixxii4",zIndex:"xoegz02",$$css:!0},rootBlue:{zIndex:"x1jvg36b",$$css:!0},rootWorkplaceLegacy:{zIndex:"xdwmgzo",$$css:!0},toast:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",pointerEvents:"x71s49j","@media (max-width: 899px)_maxWidth":"xx1nl2z",$$css:!0}},m={bottom:{bottom:"x1ey2m1c",$$css:!0},top:{top:"x13vifvy",$$css:!0}},n={center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}},o={full:{maxWidth:"x193iq5w",$$css:!0},regular:{maxWidth:"x1xi1syu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.align,f=a.filterToasts,g=a.maxVisible,h=a.maxWidth,p=a.position;a=a.xstyle;e=e===void 0?"start":e;g=g===void 0?1:g;var q=h===void 0?"full":h,r=p===void 0?"bottom":p,s=c("useToasterStateManager")();b[0]!==s?(h=function(){return s.getEmptyState()},b[0]=s,b[1]=h):h=b[1];p=k(h);h=p[0];var t=p[1],u;b[2]!==s?(p=function(){var a=s.registerView(t,0);return a.remove},u=[s],b[2]=s,b[3]=p,b[4]=u):(p=b[3],u=b[4]);j(p,u);p=n[e];u=m[r];b[5]!==p||b[6]!==u||b[7]!==a?(e=[l.root,c("gkx")("20935")?null:c("gkx")("22885")?l.rootWorkplaceLegacy:l.rootBlue,p,u,a],b[5]=p,b[6]=u,b[7]=a,b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x78zum5 xdt5ytf xe8uvvx x193iq5w"},b[9]=p):p=b[9];b[10]!==s?(u=function(a){s.expire(a)},b[10]=s,b[11]=u):u=b[11];b[12]!==q||b[13]!==r?(a=function(a,b,d,e){return i.jsx(c("BaseToastAnimationInternal.react"),{expired:d,id:b,position:e,toasterPosition:r,xstyle:[l.toast,o[c("gkx")("22886")?"regular":q]],children:i.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:a})},e)},b[12]=q,b[13]=r,b[14]=a):a=b[14];b[15]!==f||b[16]!==g||b[17]!==u||b[18]!==a||b[19]!==h?(p=i.jsx("ul",babelHelpers["extends"]({},p,{children:i.jsx(c("XPlatReactToasterView.react"),{filterToasts:f,maxVisible:g,onExpireToast:u,toasterState:h,children:a})})),b[15]=f,b[16]=g,b[17]=u,b[18]=a,b[19]=h,b[20]=p):p=b[20];b[21]!==e||b[22]!==p?(f=i.jsx(c("BasePortal.react"),{target:document.body,xstyle:e,children:p}),b[21]=e,b[22]=p,b[23]=f):f=b[23];return f}g["default"]=a}),98);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871697");b=d("FalcoLoggerInternal").create("web_perf_device_info_log",a);e=b;g["default"]=e}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=document.createElement("canvas");b=b.getContext("webgl")||b.getContext("experimental-webgl");if(!b)return;var c=b.getExtension("WEBGL_debug_renderer_info");if(!c)return;var d=b.getParameter(c.UNMASKED_RENDERER_WEBGL);b=b.getParameter(c.UNMASKED_VENDOR_WEBGL);a.gpu_vendor=b;a.gpu_renderer=d}function j(){var a=window.navigator,b={};a&&a.hardwareConcurrency!==void 0&&(b.cpu_cores=a.hardwareConcurrency);a&&a.deviceMemory!==void 0&&(b.ram=a.deviceMemory);c("WebDevicePerfInfoData").needsFullUpdate&&i(b);return b}function k(){var a=j();c("WebPerfDeviceInfoLogFalcoEvent").log(function(){var b;return{cpu_cores:(b=a.cpu_cores)!=null?b:null,ram:(b=a.ram)!=null?b:null,gpu_renderer:(b=a.gpu_renderer)!=null?b:null,gpu_vendor:(b=a.gpu_vendor)!=null?b:null}})}async function l(){var a=j();a=await new(c("AsyncTypedRequest"))(c("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(a).promisePayload();return a.devicePerfClassLevel}function a(){(c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate)&&(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(k)}function b(){return new Promise(function(a,b){c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate?(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){l().then(a).catch(b)}):a()})}g.doLog=a;g.doLogPromise=b}),98);/*FB_PKG_DELIM*/
__d("BaseLineClamp.react",["CometPlaceholder.react","FBLogger","JSResourceForInteraction","gkx","lazyLoadComponent","promiseDone","react","react-compiler-runtime","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=c("JSResourceForInteraction")("BaseTooltip.react").__setRef("BaseLineClamp.react"),o=c("lazyLoadComponent")(n),p={flexWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},multiLine:{display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},offset:function(a){return[{display:"x1lliihq",marginBottom:("calc((0.5em + 0.5ex - "+a+") * 0.5)"==null?"":"x4j4oqf ")+"x1h2wjjm",marginTop:("calc((0.5em + 0.5ex - "+a+") * 0.56)"==null?"":"x1hpldj0 ")+"x14iu460",$$css:!0},{"--65j53i":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("calc((0.5em + 0.5ex - "+a+") * 0.5)"),"--g77s0":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("calc((0.5em + 0.5ex - "+a+") * 0.56)")}]},oneLine:{display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},root:{display:"x1lliihq",overflowX:"x1plvlek",overflowY:"xryxfnj",position:"x1n2onr6",$$css:!0},setLineHeight:function(a){return[{"--base-line-clamp-line-height":a==null?null:"x1ji0vk5",lineHeight:a==null?null:"x18bv5gf",$$css:!0},{"----base-line-clamp-line-height":a!=null?a:void 0,"--lineHeight":a!=null?a:void 0}]}},q={balance:{textWrap:"x41virw",$$css:!0},nowrap:{textWrap:"x12jkypp",$$css:!0},pretty:{textWrap:"xi7mnp6",$$css:!0},wrap:{textWrap:"x199x1lr",$$css:!0}};function r(a,b,d,e){if(a===0)return[d,{lineHeight:b}];if(a===1){var f=j.jsx("span",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(p.oneLine,e),{children:d}));return[f,{lineHeight:b}]}f=j.jsx("span",{className:(h||(h=c("stylex")))(p.multiLine,e),style:{WebkitBoxOrient:"vertical",WebkitLineClamp:a,display:"-webkit-box"},children:d});return[f,{lineHeight:b}]}function a(a){var b=d("react-compiler-runtime").c(44),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;e=a.baselineAdjustmentXStyle;var g=a.children,i=a.dir,s=a.elementType,t=a.htmlFor,u=a.id,v=a.lineHeight,w=a.lines,x=a.testid,y=a.translate,z=a.truncationTooltip,A=a.wrap;a=a.xstyle;s=s===void 0?"span":s;var B=l(null),C=m(),D=C[0],E=C[1];C=m(!1);var F=C[0],G=C[1];b[3]!==e||b[4]!==g||b[5]!==w?(C=r(w,"var(--base-line-clamp-line-height)",g,e),b[3]=e,b[4]=g,b[5]=w,b[6]=C):C=b[6];e=C;g=e[0];C=v!=null?typeof v==="number"?v+"px":v:null;e=v!=null&&typeof v!=="number"&&C!=null&&!C.endsWith("px");if(b[7]!==C){var H;H=C!=null&&C.endsWith("px")?C:"calc("+((H=C)!=null?H:"1")+" * 1em)";b[7]=C;b[8]=H}else H=b[8];C=H;b[9]!==w?(H=function(){var a;a=(a=B.current)==null?void 0:a.children[0];if(a==null||w<1)return;G(a.offsetWidth<a.scrollWidth||a.offsetHeight<a.scrollHeight)},b[9]=w,b[10]=H):H=b[10];H=H;var I;b[11]!==z?(I=function(){if((z==null?void 0:z.tooltipImpl)==null)return;n.preload();c("promiseDone")(z.tooltipImpl.load(),function(a){E(function(b){return a})},function(a){c("FBLogger")("comet_ui","BaseLineClamp").blameToModule(z.tooltipImpl.getModuleIdAsRef()).catching(a).mustfix("Failed to load tooltip impl module")})},b[11]=z,b[12]=I):I=b[12];var J=z==null?void 0:z.tooltipImpl,K;b[13]!==J?(K=[J],b[13]=J,b[14]=K):K=b[14];k(I,K);J=c("useMergeRefs")(f,B);I=A&&q[A];K=s;f=c("gkx")("5620");if(b[15]!==e||b[16]!==v||b[17]!==C||b[18]!==I||b[19]!==a){b[21]!==e||b[22]!==C||b[23]!==I?(A=f&&e?p.offset(C):I,b[21]=e,b[22]=C,b[23]=I,b[24]=A):A=b[24];s=(h||(h=c("stylex"))).props([p.root,v!=null&&p.setLineHeight(C),A,!f&&a]);b[15]=e;b[16]=v;b[17]=C;b[18]=I;b[19]=a;b[20]=s}else s=b[20];A=z!=null&&w>0?H:void 0;b[25]!==K||b[26]!==g||b[27]!==i||b[28]!==t||b[29]!==u||b[30]!==J||b[31]!==s||b[32]!==A||b[33]!==x||b[34]!==y?(e=j.jsx(K,babelHelpers["extends"]({},s,{"data-testid":void 0,dir:i,htmlFor:t,id:u,onMouseEnter:A,ref:J,translate:y,children:g})),b[25]=K,b[26]=g,b[27]=i,b[28]=t,b[29]=u,b[30]=J,b[31]=s,b[32]=A,b[33]=x,b[34]=y,b[35]=e):e=b[35];v=e;b[36]!==v||b[37]!==a?(C=f?j.jsx("span",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([p.flexWrapper,a]),{children:v})):v,b[36]=v,b[37]=a,b[38]=C):C=b[38];I=C;b[39]!==I||b[40]!==F||b[41]!==D||b[42]!==z?(H=F&&z&&D?j.jsx(c("CometPlaceholder.react"),{fallback:I,children:j.jsx(o,babelHelpers["extends"]({tooltipImpl:D},z.tooltipProps,{children:I}))}):I,b[39]=I,b[40]=F,b[41]=D,b[42]=z,b[43]=H):H=b[43];return H}g["default"]=a}),98);
__d("BaseText.react",["BaseLineClamp.react","BaseTextContext","FBLogger","gkx","react","react-compiler-runtime","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useMemo;var k={base:{maxWidth:"x193iq5w",minWidth:"xeuugli",whiteSpace:"x1fj9vlw",wordBreak:"x13faqbe",wordWrap:"x1vvkbs",$$css:!0},block:{"::after_content":"x1s928wv","::after_display":"xhkezso","::after_height":"x1gmr53x","::before_content":"x1cpjm7i","::before_display":"x1fgarty","::before_height":"x1943h6x",$$css:!0},inline:{display:"xt0psk2",$$css:!0}},l={1:{"::before_marginTop":"x1ckan80",$$css:!0},2:{"::before_marginTop":"x1s3etm8",$$css:!0},3:{"::before_marginTop":"x1tu3fi",$$css:!0},4:{"::before_marginTop":"x4zkp8e",$$css:!0},5:{"::before_marginTop":"xudqn12",$$css:!0},6:{"::before_marginTop":"xtoi2st",$$css:!0},7:{"::before_marginTop":"x14z4hjw",$$css:!0},8:{"::before_marginTop":"x1ill7wo",$$css:!0},9:{"::before_marginTop":"xhau9xz",$$css:!0},10:{"::before_marginTop":"x14qwyeo",$$css:!0},11:{"::before_marginTop":"xb4g69",$$css:!0},12:{"::before_marginTop":"x1rov3wm",$$css:!0}},m={1:{"::after_marginBottom":"xo8pqpo",$$css:!0},2:{"::after_marginBottom":"xlf94lp",$$css:!0},3:{"::after_marginBottom":"x676frb",$$css:!0},4:{"::after_marginBottom":"x3x7a5m",$$css:!0},5:{"::after_marginBottom":"x41vudc",$$css:!0},6:{"::after_marginBottom":"xw06pyt",$$css:!0},7:{"::after_marginBottom":"x1g2y4wz",$$css:!0},8:{"::after_marginBottom":"x1x48ksl",$$css:!0},9:{"::after_marginBottom":"x1guzi96",$$css:!0},10:{"::after_marginBottom":"x1y9wsrc",$$css:!0},11:{"::after_marginBottom":"xykhf1w",$$css:!0},12:{"::after_marginBottom":"xe797ca",$$css:!0}},n={1:{paddingBottom:"x1j85h84",$$css:!0},2:{paddingBottom:"x1120s5i",$$css:!0},3:{paddingBottom:"xg8j3zb",$$css:!0}},o={auto:{$$css:!0},center:{textAlign:"x2b8uid",$$css:!0},end:{textAlign:"xp4054r",$$css:!0},start:{textAlign:"x1yc453h",$$css:!0}};function p(a,b){var c=[l[a[0]],m[a[1]]],d=null;a.length===3&&b>0&&(c[1]=m[a[1]+a[2]],d=n[a[2]]);return[c,d]}function a(a,b){function e(e){var f=d("react-compiler-runtime").c(54),g,i;f[0]!==e?(i=e.ref,g=babelHelpers.objectWithoutPropertiesLoose(e,["ref"]),f[0]=e,f[1]=g,f[2]=i):(g=f[1],i=f[2]);e=g;g=e.alignment;var l=e.children,m=e.colorName,n=e.dir,q=e.elementType,r=e.htmlFor,s=e.id,t=e.isDenseModeEnabled,u=e.lines,v=e.styleName,w=e.testid,x=e.translate,y=e.truncationTooltip,z=e.wrap;e=e.xstyle;g=g===void 0?"start":g;q=q===void 0?"span":q;t=t===void 0?!1:t;u=u===void 0?0:u;t=t&&a.stylesForDenseMode?(t=a.stylesForDenseMode[v])!=null?t:a.styles[v]:a.styles[v];var A=t.lineHeight;t=t.style;var B=a.defaultFontFamily,C,D;if(f[3]!==g||f[4]!==m||f[5]!==u||f[6]!==v){var E=a.offsets(v);D=a.colors[m];C=o[g];E=p(E,u);f[3]=g;f[4]=m;f[5]=u;f[6]=v;f[7]=C;f[8]=D;f[9]=E}else C=f[7],D=f[8],E=f[9];g=E;m=g[0];v=g[1];f[10]!==l?(E=j.jsx(d("BaseTextContext").BaseTextContextProvider,{nested:!0,children:l}),f[10]=l,f[11]=E):E=f[11];g=E;f[12]!==y?(l=y!=null&&b!=null?{tooltipImpl:b,tooltipProps:y}:void 0,f[12]=y,f[13]=l):l=f[13];E=l;l=E;E=d("BaseTextContext").useBaseTextContext();if(E&&E.nested){f[14]!==w?(E=c("testID")(w),f[14]=w,f[15]=E):E=f[15];var F;f[16]!==C||f[17]!==D||f[18]!==t||f[19]!==e?(F=(h||(h=c("stylex")))(k.base,k.inline,B,t,D,C,e),f[16]=C,f[17]=D,f[18]=t,f[19]=e,f[20]=F):F=f[20];var G=typeof A==="number"?A+"px":A,H;f[21]!==G?(H={lineHeight:G},f[21]=G,f[22]=H):H=f[22];f[23]!==q||f[24]!==r||f[25]!==s||f[26]!==i||f[27]!==F||f[28]!==H||f[29]!==E||f[30]!==x||f[31]!==g?(G=j.jsx(q,babelHelpers["extends"]({},E,{className:F,htmlFor:r,id:s,ref:i,style:H,translate:x,children:g})),f[23]=q,f[24]=r,f[25]=s,f[26]=i,f[27]=F,f[28]=H,f[29]=E,f[30]=x,f[31]=g,f[32]=G):G=f[32];return G}b==null&&y!=null&&c("FBLogger")("comet_ui","BaseText").blameToPreviousFile().mustfix("Using truncation tooltip without tooltip impl");F=A!=null&&typeof A!=="number"&&A!=null&&!A.endsWith("px");H=t;E=c("gkx")("5620")?!F&&m:m;f[33]!==C||f[34]!==D||f[35]!==E||f[36]!==H||f[37]!==e?(G=[k.base,k.block,B,H,D,C,E,e],f[33]=C,f[34]=D,f[35]=E,f[36]=H,f[37]=e,f[38]=G):G=f[38];f[39]!==q||f[40]!==v||f[41]!==n||f[42]!==r||f[43]!==s||f[44]!==A||f[45]!==u||f[46]!==i||f[47]!==G||f[48]!==w||f[49]!==l||f[50]!==x||f[51]!==z||f[52]!==g?(y=j.jsx(c("BaseLineClamp.react"),{baselineAdjustmentXStyle:v,dir:n,elementType:q,htmlFor:r,id:s,lineHeight:A,lines:u,ref:i,testid:void 0,translate:x,truncationTooltip:l,wrap:z,xstyle:G,children:g}),f[39]=q,f[40]=v,f[41]=n,f[42]=r,f[43]=s,f[44]=A,f[45]=u,f[46]=i,f[47]=G,f[48]=w,f[49]=l,f[50]=x,f[51]=z,f[52]=g,f[53]=y):y=f[53];return y}return e}g.createBaseTextComponent=a}),98);
__d("useBaseIsDecorative",["BaseIsDecorativeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=i(c("BaseIsDecorativeContext")),d=a.alt,e=a.isDecorative;a=a.label;return Boolean(d)||Boolean(a)?!1:e===!0||b===!0}g["default"]=a}),98);
__d("CDSIcon.react",["react","react-compiler-runtime","stylex","testID","useBaseIsDecorative"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={icon:{display:"x1lliihq",flexShrink:"x2lah0s",transitionDuration:"x1k90msu",transitionProperty:"x2h7rmj",transitionTimingFunction:"x1qfuztq",$$css:!0},inline:{display:"x1rg5ohu",$$css:!0},shadow:{filter:"x1ssd25i",$$css:!0}},l={8:{height:"xdk7pt",width:"x1xc55vz",$$css:!0},10:{height:"x170jfvy",width:"x1fsd2vl",$$css:!0},12:{height:"x1kpxq89",width:"xsmyaan",$$css:!0},13:{height:"x18gnavp",width:"x1fxhmyf",$$css:!0},16:{height:"xlup9mm",width:"x1kky2od",$$css:!0},18:{height:"xmix8c7",width:"x1xp8n7a",$$css:!0},20:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},28:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},30:{height:"x1gnnpzl",width:"x1849jeq",$$css:!0},32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},36:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},52:{height:"xdd8jsf",width:"xvni27",$$css:!0},56:{height:"xnnlda6",width:"x15yg21f",$$css:!0},60:{height:"xng8ra",width:"x1247r65",$$css:!0},72:{height:"xy75621",width:"xni59qk",$$css:!0},96:{height:"xjp8j0k",width:"x13oubkp",$$css:!0},112:{height:"x19swzb4",width:"xj35x94",$$css:!0},132:{height:"x1h5wmu3",width:"x16s0kzc",$$css:!0}},m={"accent-nav-list":{color:"x15d4u2p",$$css:!0},"active-tab":{color:"x5e5rjt",$$css:!0},black:{color:"x1p6odiv",$$css:!0},blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1eu2eya",$$css:!0},"fb-logo":{color:"x1k841w8",$$css:!0},highlight:{color:"xvpmsi5",$$css:!0},"inactive-tab":{color:"xcza8v6",$$css:!0},inherit_INTERNAL_ONLY:{color:"x1heor9g",$$css:!0},"list-cell-chevron":{color:"x1v20y45",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},none:{color:"x19co3pv",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"x198g3q0",$$css:!0},"primary-button":{color:"xtk6v10",$$css:!0},"primary-deemphasized-button":{color:"x1mvi0mv",$$css:!0},"primary-destructive-button":{color:"x1w7cyww",$$css:!0},"primary-icon-on-media":{color:"xdzqgof",$$css:!0},secondary:{color:"xcza8v6",$$css:!0},"secondary-button":{color:"x1dem4cn",$$css:!0},"secondary-destructive-button":{color:"x100nk6e",$$css:!0},tertiary:{color:"x13ucnxn",$$css:!0},"toast-DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE":{color:"xf9uev8",$$css:!0},warning:{color:"xcly8g5",$$css:!0},white:{color:"x14ctfv",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.alt,f=a.color,g=a.icon,i=a.id,n=a.inline,o=a.isDecorative,p=a.shadow,q=a.size;a=a.testid;f=f===void 0?"primary":f;n=n===void 0?!1:n;p=p===void 0?!1:p;q=q===void 0?8:q;o=c("useBaseIsDecorative")({alt:e,isDecorative:o})?!0:void 0;n=n&&k.inline;p=p&&k.shadow;f=m[f];q=l[q];var r;b[0]!==n||b[1]!==p||b[2]!==f||b[3]!==q?(r=(h||(h=c("stylex")))([k.icon,n,p,f,q]),b[0]=n,b[1]=p,b[2]=f,b[3]=q,b[4]=r):r=b[4];n=Boolean(e)?e:void 0;b[5]!==a?(p=c("testID")(a),b[5]=a,b[6]=p):p=b[6];b[7]!==g||b[8]!==o||b[9]!==i||b[10]!==n||b[11]!==p||b[12]!==r?(f=j.jsx(g,babelHelpers["extends"]({"aria-hidden":o,className:r,id:i,title:n},p)),b[7]=g,b[8]=o,b[9]=i,b[10]=n,b[11]=p,b[12]=r,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("CDSShadow.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={shadow:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxShadow:"xi1c1fh",boxSizing:"x1afcbsf",height:"x5yr21d",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(4);a=a.xstyle;var e;b[0]!==a?(e=(h||(h=c("stylex"))).props([k.shadow,a]),b[0]=a,b[1]=e):e=b[1];b[2]!==e?(a=j.jsx("div",babelHelpers["extends"]({},e)),b[2]=e,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("CDSIconButton.react",["BaseIsDecorativeContext","CDSShadow.react","CometPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={disabled:{opacity:"xti2d7y",$$css:!0},pressable:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x3nfvp2",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0},shadow:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0}},k={dense:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},regular:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l={contained:{backgroundColor:"x1jx94hy",$$css:!0},"default":{$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",borderTopColor:"x1s9qjmn",borderEndColor:"x39innc",borderBottomColor:"x7gj0x1",borderStartColor:"x1mpseq2",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e,f,g,h,m,n;b[0]!==a?(e=a.children,h=a.density,g=a.ref,m=a.type,n=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","density","ref","type","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=m,b[6]=n):(e=b[1],f=b[2],g=b[3],h=b[4],m=b[5],n=b[6]);var o=h===void 0?"regular":h,p=m===void 0?"default":m;a=f.linkProps!=null?"link":"button";b[7]!==o||b[8]!==p||b[9]!==n?(h=function(a){var b=a.disabled;a=a.pressed;return[j.pressable,a&&j.pressed,l[p],b&&j.disabled,k[o],n]},b[7]=o,b[8]=p,b[9]=n,b[10]=h):h=b[10];b[11]!==e?(m=i.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:e}),b[11]=e,b[12]=m):m=b[12];b[13]!==f||b[14]!==g||b[15]!==a||b[16]!==h||b[17]!==m?(e=i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},f,{overlayRadius:"50%",ref:g,role:a,xstyle:h,children:m})),b[13]=f,b[14]=g,b[15]=a,b[16]=h,b[17]=m,b[18]=e):e=b[18];f=e;b[19]!==f||b[20]!==p?(g=p==="contained"?i.jsxs("div",babelHelpers["extends"]({className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x3nfvp2 xc8icb0 x1n2onr6"},{children:[i.jsx(c("CDSShadow.react"),{xstyle:j.shadow}),f]})):f,b[19]=f,b[20]=p,b[21]=g):g=b[21];return g}g["default"]=a}),98);
__d("CDSStyleXDarkTheme",[],(function(a,b,c,d,e,f){e.exports={"fds-black":"black","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"black","fds-blue-30":"black","fds-blue-40":"black","fds-blue-60":"black","fds-blue-70":"black","fds-blue-80":"black","fds-button-text":"black","fds-comment-background":"black","fds-dark-mode-gray-35":"black","fds-dark-mode-gray-50":"black","fds-dark-mode-gray-70":"black","fds-dark-mode-gray-80":"black","fds-dark-mode-gray-90":"black","fds-dark-mode-gray-100":"black","fds-gray-00":"black","fds-gray-05":"black","fds-gray-10":"black","fds-gray-20":"black","fds-gray-25":"black","fds-gray-30":"black","fds-gray-45":"black","fds-gray-70":"black","fds-gray-80":"black","fds-gray-90":"black","fds-gray-100":"black","fds-green-55":"black","fds-green-65":"black","fds-highlight":"black","fds-highlight-cell-background":"black","fds-primary-icon":"white","fds-primary-text":"white","fds-red-55":"black","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"black","fds-spectrum-blue-gray-tint-70":"black","fds-spectrum-cherry":"black","fds-spectrum-cherry-tint-70":"black","fds-spectrum-grape-tint-70":"black","fds-spectrum-grape-tint-90":"black","fds-spectrum-lemon-dark-1":"black","fds-spectrum-lemon-tint-70":"black","fds-spectrum-lime":"black","fds-spectrum-lime-tint-70":"black","fds-spectrum-orange-tint-70":"black","fds-spectrum-orange-tint-90":"black","fds-spectrum-seafoam-tint-70":"black","fds-spectrum-slate-dark-2":"black","fds-spectrum-slate-tint-70":"black","fds-spectrum-teal":"black","fds-spectrum-teal-dark-1":"black","fds-spectrum-teal-dark-2":"black","fds-spectrum-teal-tint-70":"black","fds-spectrum-teal-tint-90":"black","fds-spectrum-tomato":"black","fds-spectrum-tomato-tint-30":"black","fds-spectrum-tomato-tint-90":"black","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-unified-blue-35":"black","fds-unified-gray-20":"black","fds-white":"black","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"black",accent:"rgb(203,210,217)","always-white":"rgb(255,255,255)","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","attachment-footer-background":"rgba(255,255,255,0.10)","background-deemphasized":"rgba(28,43,51)","badge-background-color-blue":"var(--accent)","badge-background-color-dark-gray":"var(--secondary-icon)","badge-background-color-gray":"var(--disabled-icon)","badge-background-color-green":"var(--positive)","badge-background-color-light-blue":"var(--highlight-bg)","badge-background-color-red":"var(--notification-badge)","badge-background-color-yellow":"var(--base-lemon)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","text-badge-info-background":"hsl(214, 100%, 59%)","text-badge-success-background":"#31A24C","text-badge-attention-background":"hsl(40, 89%, 52%)","text-badge-critical-background":"#e41e3f","blue-link":"rgb(69,153,255)","border-focused":"#A7B3BF","card-background":"rgb(52,72,84)","card-background-flat":"rgb(52,72,84)","comment-background":"rgba(255,255,255,0.10)","comment-footer-background":"#4E4F50","dataviz-primary-1":"rgb(0,174,143)","dataviz-orange":"#D06C14","disabled-button-background":"rgba(255, 255, 255, 0.2)","disabled-button-text":"rgba(255, 255, 255, 0.3)","disabled-icon":"rgba(255,255,255,0.15)","disabled-text":"rgba(255,255,255,0.15)",divider:"rgb(70,90,105)","event-date":"rgb(240,95,105)","fb-wordmark":"#FFFFFF","fb-logo":"#0866FF","filter-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(100%) opacity(30%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-primary-icon":"invert(89%) sepia(6%) hue-rotate(185deg)","filter-secondary-button-icon-on-media":"invert(100%)","filter-secondary-icon":"invert(62%) sepia(98%) saturate(12%) hue-rotate(175deg) brightness(90%) contrast(96%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(73%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(103.25%) hue-rotate(189deg) brightness(101%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-primary-deemphasized-button-icon":"brightness(0) saturate(100%) invert(63%) sepia(20%) saturate(1290%) hue-rotate(185deg) brightness(107%) contrast(101%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","focus-ring-blue":"#1877F2","glimmer-spinner-icon":"white","hero-banner-background":"#E85D07","hosted-view-selected-state":"rgb(222,227,233)","highlight-bg":"rgba(24, 119, 242, .31)","hover-overlay":"rgba(255, 255, 255, 0.1)","inverse-text":"var(--always-white)","list-cell-chevron":"rgb(203, 210, 217)","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(255,255,255,0.10)","media-outer-border":"#33363A","media-pressed":"rgba(255,255,255,0.30)","messenger-card-background":"#242526","messenger-card-box-shadow":"0px 0px 16px rgba(0, 0, 0, 0.3)","mwp-header-background-color":"var(--messenger-card-background)","mwp-header-button-color":"var(--accent)","mwp-message-row-background":"var(--messenger-card-background)","messenger-reply-background":"#18191A","overlay-alpha-80":"rgba(28,43,51,0.80)","overlay-on-media":"rgba(28,43,51,0.70)","nav-bar-background":"rgba(0,0,0,0.00)","popover-card-background":"var(--card-background)","nav-bar-background-gradient":"linear-gradient(to top, #242526, rgba(36,37,38,.9), rgba(36,37,38,.7), rgba(36,37,38,.4), rgba(36,37,38,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #18191A, rgba(24,25,26,.9), rgba(24,25,26,.7), rgba(24,25,26,.4), rgba(24,25,26,0))",negative:"rgb(240,95,105)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"rgba(255,255,255,0.10)","non-media-pressed":"rgba(255,255,255,0.20)","non-media-pressed-on-dark":"rgba(255,255,255,0.30)","notification-badge":"rgb(240,95,105)","placeholder-icon":"rgba(167,179,191)","placeholder-image":"rgb(70, 90, 105)","placeholder-text":"rgba(255,255,255,0.30)","placeholder-text-on-media":"rgba(255,255,255,0.45)","popover-background":"rgb(52,72,84)",positive:"rgb(85,180,115)","positive-background":"#1F3520","press-overlay":"rgba(255, 255, 255, 0.2)","primary-button-background":"rgb(0,100,224)","primary-button-icon":"rgb(255,255,255)","primary-button-pressed":"#77A7FF","primary-button-text":"rgb(255,255,255)","primary-deemphasized-button-background":"rgba(0,0,0,0.00)","primary-deemphasized-button-pressed":"rgb(255,255,255,.05)","primary-deemphasized-button-pressed-overlay":"rgb(255,255,255,.15)","primary-deemphasized-button-text":"rgb(28,43,51)","primary-icon":"rgb(255,255,255)","primary-text":"rgb(255,255,255)","primary-text-on-media":"rgb(255,255,255)","primary-web-focus-indicator":"#D24294","progress-ring-neutral-background":"rgba(255, 255, 255, 0.2)","progress-ring-neutral-foreground":"#ffffff","progress-ring-on-media-background":"rgba(255,255,255,0.20)","progress-ring-on-media-foreground":"rgb(255,255,255)","progress-ring-blue-background":"rgba(45, 136, 255, 0.2)","progress-ring-blue-foreground":"hsl(214, 100%, 59%)","progress-ring-disabled-background":"rgba(122,125,130, 0.2)","progress-ring-disabled-foreground":"#7A7D82","rating-star-active":"#FF9831","scroll-thumb":"rgba(255, 255, 255, 0.3)","scroll-shadow":"0 0px 16px 0 rgba(52,72,84,0.05)","secondary-button-background":"rgba(0,0,0,0.00)","secondary-button-background-floating":"#4B4C4F","secondary-button-background-on-dark":"rgba(255, 255, 255, 0.4)","secondary-button-pressed":"rgba(0,0,0,0.00)","secondary-button-stroke":"rgb(167,179,191)","secondary-button-text":"rgb(255,255,255)","secondary-icon":"rgb(222,227,233)","secondary-text":"rgb(222,227,233)","secondary-text-on-media":"rgba(255,255,255,0.70)","section-header-text":"#BCC0C4","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-base":"0 1px 2px var(--shadow-2)","shadow-elevated":"0 8px 20px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1)","shadow-emphasis":"0 2px 12px var(--shadow-2)","shadow-inset":"rgba(255, 255, 255, 0.05)","shadow-on-media":"0px 0px 1px rgba(0, 0, 0, 0.62)","shadow-persistent":"0px 0px 12px rgba(28, 43, 51, 0.6)","shadow-primary":"0px 0px 12px rgba(28, 43, 51, 0.1)","shadow-responsive":"0px 8px 16px 0px rgba(0, 0, 0, 0.1)","surface-background":"rgb(28,43,51)","switch-active":"hsl(214, 100%, 59%)","switch-inactive":"#3E4042","switch-unchecked-background-color":"#6F7276","text-highlight":"rgb(130,185,230)","input-background":"rgb(52,72,84)","input-background-hover":"var(--input-background)","input-background-warn-hover":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-error-hover":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-active":"hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.05)","input-background-warn-active":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-error-active":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-disabled":"#18191A","input-border-color":"#3E4042","input-border-color-hover":"var(--placeholder-text)","input-label-color-highlighted":"hsl(214, 100%, 59%)","input-label-color-inside":"var(--secondary-text)","input-label-color-error":"var(--negative)","input-label-color-disabled":"var(--disabled-text)","text-input-outside-label":"#FFFFFF","toast-background":"rgb(70,90,105)","toast-text":"#FFFFFF","toast-text-link":"#4599FF","toast-border-color":"transparent","toast-border-style":"none","toast-border-width":"0px","toggle-active-background":"rgb(222,227,233)","toggle-active-icon":"rgb(28,43,51)","toggle-active-text":"rgb(28,43,51)","toggle-button-active-background":"#E6F2FF","tooltip-background":"rgb(70,90,105)","tooltip-box-shadow":"none","popover-border-color":"transparent",wash:"#3E4042","web-wash":"#18191A",warning:"rgb(245,180,0)","chat-bubble-emphasis-ring-after":"white","chat-bubble-emphasis-ring-before":"black","chat-text-blockquote-color-background-line":"rgba(255, 255, 255, 0.19)","chat-text-blockquote-color-text-primary-media":"rgba(255, 255, 255, 0.7)","chat-incoming-message-bubble-background-color":"#303030","chat-outgoing-message-bubble-background-color":"var(--accent)","chat-replied-message-background-color":"rgba(255, 255, 255, 0.12)","radio-border-color":"var(--primary-icon)","radio-border-color-disabled":"var(--disabled-button-background)","radio-border-color-selected":"var(--accent)","radio-checked-icon-color":"var(--accent)","radio-checked-icon-color-disabled":"var(--disabled-button-background)","dialog-anchor-vertical-padding":"32px","header-height":"0px","global-panel-width":"0px","global-panel-width-expanded":"0px","alert-banner-corner-radius":"8px","button-corner-radius":"4px","button-corner-radius-medium":"10px","button-corner-radius-large":"12px","button-height-large":"52px","button-height-medium":"36px","button-padding-horizontal-large":"16px","button-padding-horizontal-medium":"16px","button-padding-icon-only":"16px","button-icon-padding-large":"16px","button-icon-padding-medium":"16px","button-inner-icon-spacing-large":"3px","button-inner-icon-spacing-medium":"3px","blueprint-button-height-medium":"40px","blueprint-button-height-large":"48px","card-corner-radius":"4px","card-box-shadow":"0 8px 20px 0  var(--shadow-2), 0 2px 4px 0 var(--shadow-1)","card-padding-horizontal":"10px","card-padding-vertical":"20px","chip-corner-radius":"4px","comment-bubble":"18px","dialog-corner-radius":"4px","glimmer-corner-radius":"4px","image-corner-radius":"4px","infochip-medium-radius":"12px","input-corner-radius":"4px","input-border-width":"1px","nav-list-cell-corner-radius":"4px","list-cell-corner-radius":"4px","list-cell-min-height":"52px","list-cell-padding-vertical":"20px","list-cell-padding-vertical-with-addon":"14px","menu-base-list-item-padding-horizontal":"8px","menu-base-list-item-padding-vertical":"12px","menu-base-size-full-margin-end":"48px","menu-item-base-margin-horizontal":"8px","menu-item-base-margin-vertical":"0px","menu-item-base-padding-horizontal":"8px","menu-item-base-overlay-radius":"4px","menu-item-base-padding-vertical":"12px","menu-item-base-with-icon-padding-horizontal":"var(--menu-item-base-padding-horizontal)","separator-menu-item-margin-horizontal":"16px","separator-menu-item-margin-vertical":"4px","nav-list-cell-min-height":"0px","nav-list-cell-padding-vertical":"16px","nav-list-cell-padding-vertical-with-addon":"16px","nux-card-body-padding-end":"24px","page-footer-padding-vertical":"28px","popover-border-style":"none","popover-border-width":"0px","section-header-addOnEnd-margin-horizontal":"8px","section-header-addOnStart-margin-horizontal":"12px","section-header-addOnEnd-button-padding-horizontal":"0px","section-header-addOnEnd-button-padding-vertical":"0px","section-header-padding-vertical":"16px","section-header-subtitle-margin-vertical":"14px","section-header-subtitle-with-addOnEnd-margin-vertical":"6px","tab-height":"60px","tab-icon-padding-end":"0px","tab-text-icon-gap":"4px","tab-underline-color":"transparent","tab-underline-height":"3px","text-badge-corner-radius":"4px","text-badge-padding-horizontal":"6px","text-badge-padding-vertical":"6px","text-input-multi-padding-between-text-scrollbar":"20px","text-input-multi-padding-scrollbar":"16px","text-input-caption-margin-top":"10px","text-input-padding-vertical":"12px","toast-addon-padding-horizontal":"6px","toast-addon-padding-vertical":"0px","toast-container-max-width":"100%","toast-container-min-width":"320px","toast-container-padding-horizontal":"14px","toast-container-padding-vertical":"16px","toast-corner-radius":"8px","toaster-view-max-width":"328px","tooltip-corner-radius":"8px","typeahead-list-outer-padding-vertical":"8px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms","fds-fast":"200ms","fds-slow":"400ms","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","font-family-system-fds":"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","text-input-field-font-family":"Placeholder Font","text-input-field-font-size":"1rem","text-input-field-font-stretch":"initial","text-input-field-font-weight":"500","text-input-field-line-height":"1.2941","text-input-label-font-family":"Placeholder Font","text-input-label-font-size":"17px","text-input-label-font-size-scale-multiplier":"0.75","text-input-label-font-stretch":"initial","text-input-label-font-weight":"400","text-input-label-line-height":"1.2941","messenger-card-min-width":"300px","messenger-card-max-width":"480px","messenger-application-max-width":"2560px","messenger-sidebar-collapsed-width":"44px","messenger-sidebar-expanded-width":"240px","messenger-card-corner-radius":"8px","messenger-card-spacing":"16px","chat-bubble-padding-vertical":"8px","chat-bubble-padding-horizontal":"12px","chat-bubble-border-radius":"18px","dialog-size-medium-width":"100%","dialog-size-small-width":"100%","focus-ring-outline-forced-colors":"2px auto transparent !important","focus-ring-outline-link":"2px auto var(--focus-ring-blue)","focus-ring-shadow-default":"0 0 0 2px var(--always-white), 0 0 0 4px var(--focus-ring-blue)","focus-ring-shadow-inset":"0 0 0 2px var(--focus-ring-blue) inset, 0 0 0 4px var(--always-white) inset","glimmer-animation-direction":"alternate","glimmer-animation-duration":"1000ms","glimmer-animation-timing-function":"steps(10, end)","glimmer-opacity-min":"0.25","glimmer-opacity-max":"1","radio-checked-icon-size-large":"12px","radio-checked-icon-size-medium":"12px","radio-border-width":"2px","radio-size-large":"24px","radio-size-medium":"20px","blue-primary":"rgb(0,136,244)","blue-secondary":"rgb(235,245,255)","blue-tertiary":"rgb(4,59,114)","chartreuse-primary":"rgb(106,147,22)","chartreuse-secondary":"rgb(226,255,152)","chartreuse-tertiary":"rgb(50,65,19)","cyan-primary":"rgb(0,142,213)","cyan-secondary":"rgb(231,245,255)","cyan-tertiary":"rgb(15,63,93)","dataviz-primary-2":"rgb(156,219,255)","dataviz-primary-3":"rgb(73,156,255)","dataviz-secondary-1":"rgb(92,87,210)","dataviz-secondary-2":"rgb(142,129,255)","dataviz-secondary-3":"rgb(119,45,88)","dataviz-supplementary-1":"rgb(253,91,67)","dataviz-supplementary-2":"rgb(161,132,0)","dataviz-supplementary-3":"rgb(36,131,44)","dataviz-supplementary-4":"rgb(232,234,238)","fuschia-primary":"rgb(250,45,138)","fuschia-secondary":"rgb(255,241,246)","fuschia-tertiary":"rgb(118,14,62)","green-primary":"rgb(43,154,53)","green-secondary":"rgb(227,250,224)","green-tertiary":"rgb(26,68,27)","magenta-primary":"rgb(215,77,204)","magenta-secondary":"rgb(255,239,254)","magenta-tertiary":"rgb(96,36,91)","orange-primary":"rgb(208,108,20)","orange-secondary":"rgb(255,241,239)","orange-tertiary":"rgb(94,49,14)","purple-primary":"rgb(125,116,255)","purple-secondary":"rgb(245,241,255)","purple-tertiary":"rgb(55,50,121)","red-primary":"rgb(251,60,68)","red-secondary":"rgb(255,241,239)","red-tertiary":"rgb(118,22,27)","teal-primary":"rgb(0,152,124)","teal-secondary":"rgb(227,247,241)","teal-tertiary":"rgb(10,68,56)","yellow-primary":"rgb(161,132,0)","yellow-secondary":"rgb(255,246,161)","yellow-tertiary":"rgb(72,59,12)","emphasized-card-background-blue-comet":"linear-gradient(rgb(0,59,173),rgb(0,10,73))","emphasized-card-background-green-comet":"linear-gradient(rgb(0,82,35),rgb(0,20,11))","emphasized-card-background-purple-comet":"linear-gradient(rgb(66,23,160),rgb(18,3,53))","emphasized-card-background-teal-comet":"linear-gradient(rgb(0,65,75), rgb(0,19,26))","search-input-background":"rgba(255, 255, 255, 0.19)","secondary-emphasized-button-stroke":"rgb(69,153,255)","stepper-active":"#CBD2D9","stepper-inactive":"rgba(203, 210, 217, 0.4)"}}),null);
__d("CDSStyleXDefaultTheme",[],(function(a,b,c,d,e,f){e.exports={"fds-black":"#000000","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"#ECF3FF","fds-blue-30":"#AAC9FF","fds-blue-40":"#77A7FF","fds-blue-60":"#1877F2","fds-blue-70":"#2851A3","fds-blue-80":"#1D3C78","fds-button-text":"#444950","fds-comment-background":"#F2F3F5","fds-dark-mode-gray-35":"#CCCCCC","fds-dark-mode-gray-50":"#828282","fds-dark-mode-gray-70":"#4A4A4A","fds-dark-mode-gray-80":"#373737","fds-dark-mode-gray-90":"#282828","fds-dark-mode-gray-100":"#1C1C1C","fds-gray-00":"#F5F6F7","fds-gray-05":"#F2F3F5","fds-gray-10":"#EBEDF0","fds-gray-20":"#DADDE1","fds-gray-25":"#CCD0D5","fds-gray-30":"#BEC3C9","fds-gray-45":"#8D949E","fds-gray-70":"#606770","fds-gray-80":"#444950","fds-gray-90":"#303338","fds-gray-100":"#1C1E21","fds-green-55":"#00A400","fds-green-65":"#51CE70","fds-highlight":"#3578E5","fds-highlight-cell-background":"#ECF3FF","fds-primary-icon":"#1C1E21","fds-primary-text":"#1C1E21","fds-red-55":"#FA383E","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"#E4F0F6","fds-spectrum-blue-gray-tint-70":"#CFD1D5","fds-spectrum-cherry":"#F35369","fds-spectrum-cherry-tint-70":"#FBCCD2","fds-spectrum-grape-tint-70":"#DDD5F0","fds-spectrum-grape-tint-90":"#F4F1FA","fds-spectrum-lemon-dark-1":"#F5C33B","fds-spectrum-lemon-tint-70":"#FEF2D1","fds-spectrum-lime":"#A3CE71","fds-spectrum-lime-tint-70":"#E4F0D5","fds-spectrum-orange-tint-70":"#FCDEC5","fds-spectrum-orange-tint-90":"#FEF4EC","fds-spectrum-seafoam-tint-70":"#CAEEF9","fds-spectrum-slate-dark-2":"#89A1AC","fds-spectrum-slate-tint-70":"#EAEFF2","fds-spectrum-teal":"#6BCEBB","fds-spectrum-teal-dark-1":"#4DBBA6","fds-spectrum-teal-dark-2":"#31A38D","fds-spectrum-teal-tint-70":"#D2F0EA","fds-spectrum-teal-tint-90":"#F0FAF8","fds-spectrum-tomato":"#FB724B","fds-spectrum-tomato-tint-30":"#F38E7B","fds-spectrum-tomato-tint-90":"#FDEFED","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-unified-blue-35":"#1455B0","fds-unified-gray-20":"#323436","fds-white":"#FFFFFF","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"#FFBA00",accent:"rgb(28,43,51)","always-white":"rgb(255,255,255)","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","attachment-footer-background":"rgba(28,43,51,0.10)","background-deemphasized":"rgb(241,244,247)","badge-background-color-blue":"var(--accent)","badge-background-color-dark-gray":"var(--secondary-icon)","badge-background-color-gray":"var(--disabled-icon)","badge-background-color-green":"var(--positive)","badge-background-color-light-blue":"var(--highlight-bg)","badge-background-color-red":"var(--notification-badge)","badge-background-color-yellow":"var(--base-lemon)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","text-badge-info-background":"hsl(214, 89%, 52%)","text-badge-success-background":"#31A24C","text-badge-attention-background":"hsl(40, 89%, 52%)","text-badge-critical-background":"#e41e3f","blue-link":"rgb(0,100,224)","border-focused":"#63788A","card-background":"rgb(255,255,255)","card-background-flat":"rgb(255,255,255)","comment-background":"rgba(28,43,51,0.10)","comment-footer-background":"#F6F9FA","dataviz-primary-1":"rgb(0,174,143)","dataviz-orange":"#D06C14","disabled-button-background":"#E4E6EB","disabled-button-text":"#BCC0C4","disabled-icon":"rgba(28,43,51,0.25)","disabled-text":"rgba(28,43,51,0.25)",divider:"rgb(222,227,233)","event-date":"rgb(220,55,60)","fb-wordmark":"#0866FF","fb-logo":"#0866FF","filter-accent":"invert(39%) sepia(57%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(147.75%) hue-rotate(202deg) brightness(97%) contrast(96%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(80%) sepia(6%) saturate(200%) saturate(120%) hue-rotate(173deg) brightness(98%) contrast(89%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-accent":"invert(39%) sepia(57%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(147.75%) hue-rotate(202deg) brightness(97%) contrast(96%)","filter-primary-icon":"invert(8%) sepia(10%) saturate(200%) saturate(200%) saturate(166%) hue-rotate(177deg) brightness(104%) contrast(91%)","filter-secondary-button-icon-on-media":"invert(100%)","filter-secondary-icon":"invert(39%) sepia(21%) saturate(200%) saturate(109.5%) hue-rotate(174deg) brightness(94%) contrast(86%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(30%) sepia(98%) saturate(200%) saturate(200%) saturate(200%) saturate(166.5%) hue-rotate(192deg) brightness(91%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-primary-deemphasized-button-icon":"invert(28%) sepia(100%) saturate(6042%) hue-rotate(202deg) brightness(96%) contrast(101%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","focus-ring-blue":"#1877F2","glimmer-spinner-icon":"#65676B","hero-banner-background":"#FFFFFF","hosted-view-selected-state":"rgb(52,72,84)","highlight-bg":"#E7F3FF","hover-overlay":"rgba(0, 0, 0, 0.05)","inverse-text":"var(--always-white)","list-cell-chevron":"rgb(99,120,138)","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(28,43,51,0.10)","media-outer-border":"#FFFFFF","media-pressed":"rgba(28,43,51,0.30)","messenger-card-background":"#FFFFFF","messenger-card-box-shadow":"0px 1px 2px 0px #0000001A","mwp-header-background-color":"var(--messenger-card-background)","mwp-header-button-color":"var(--accent)","mwp-message-row-background":"var(--messenger-card-background)","messenger-reply-background":"#F0F2F5","overlay-alpha-80":"rgba(28,43,51,0.80)","overlay-on-media":"rgba(28,43,51,0.70)","nav-bar-background":"rgba(0,0,0,0.00)","popover-card-background":"var(--card-background)","nav-bar-background-gradient":"linear-gradient(to top, #FFFFFF, rgba(255,255,255.9), rgba(255,255,255,.7), rgba(255,255,255,.4), rgba(255,255,255,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #F0F2F5, rgba(240,242,245.9), rgba(240,242,245,.7), rgba(240,242,245,.4), rgba(240,242,245,0))",negative:"rgb(220,55,60)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"rgba(28,43,51,0.10)","non-media-pressed":"rgba(28,43,51,0.15)","non-media-pressed-on-dark":"rgba(255,255,255,0.30)","notification-badge":"rgb(220,55,60)","placeholder-icon":"rgba(133,149,164)","placeholder-image":"rgb(222, 227, 233)","placeholder-text":"rgba(28,43,51,0.50)","placeholder-text-on-media":"rgba(255,255,255,0.45)","popover-background":"rgb(255,255,255)",positive:"rgb(0,126,89)","positive-background":"#DEEFE1","press-overlay":"rgba(0, 0, 0, 0.10)","primary-button-background":"rgb(0,100,224)","primary-button-icon":"rgb(255,255,255)","primary-button-pressed":"#77A7FF","primary-button-text":"rgb(255,255,255)","primary-deemphasized-button-background":"rgba(0,0,0,0.00)","primary-deemphasized-button-pressed":"rgb(0,0,0,.05)","primary-deemphasized-button-pressed-overlay":"rgb(0,0,0,.1)","primary-deemphasized-button-text":"rgb(255,255,255)","primary-icon":"rgb(28,43,51)","primary-text":"rgb(28,43,51)","primary-text-on-media":"rgb(255,255,255)","primary-web-focus-indicator":"#D24294","progress-ring-neutral-background":"rgba(0, 0, 0, 0.2)","progress-ring-neutral-foreground":"#000000","progress-ring-on-media-background":"rgba(255,255,255,0.20)","progress-ring-on-media-foreground":"rgb(255,255,255)","progress-ring-blue-background":"rgba(24, 119, 242, 0.2)","progress-ring-blue-foreground":"hsl(214, 89%, 52%)","progress-ring-disabled-background":"rgba(190,195,201, 0.2)","progress-ring-disabled-foreground":"#BEC3C9","rating-star-active":"#EB660D","scroll-thumb":"#BCC0C4","scroll-shadow":"0 0 16px 0 rgba(52,72,84,0.05)","secondary-button-background":"rgba(0,0,0,0.00)","secondary-button-background-floating":"#ffffff","secondary-button-background-on-dark":"rgba(0, 0, 0, 0.4)","secondary-button-pressed":"rgba(0,0,0,0.00)","secondary-button-stroke":"rgb(203,210,217)","secondary-button-text":"rgb(28,43,51)","secondary-icon":"rgb(99,120,138)","secondary-text":"rgb(99,120,138)","secondary-text-on-media":"rgba(255,255,255,0.70)","section-header-text":"#4B4C4F","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-base":"0 1px 2px var(--shadow-2)","shadow-elevated":"0 8px 20px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1)","shadow-emphasis":"0 2px 12px var(--shadow-2)","shadow-inset":"rgba(255, 255, 255, 0.5)","shadow-on-media":"0px 0px 1px rgba(0, 0, 0, 0.62)","shadow-persistent":"0px 0px 12px rgba(52, 72, 84, 0.05)","shadow-primary":"0px 5px 12px rgba(52, 72, 84, 0.2)","shadow-responsive":"0px 8px 16px 0px rgba(0, 0, 0, 0.1)","surface-background":"rgb(255,255,255)","switch-active":"hsl(214, 89%, 52%)","switch-inactive":"#CED0D4","switch-unchecked-background-color":"#8F9297","text-highlight":"rgb(0,97,160)","input-background":"rgb(255,255,255)","input-background-hover":"var(--input-background)","input-background-warn-hover":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-error-hover":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-active":"hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.05)","input-background-warn-active":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-error-active":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-disabled":"#F0F2F5","input-border-color":"#CED0D4","input-border-color-hover":"var(--placeholder-text)","input-label-color-highlighted":"hsl(214, 89%, 52%)","input-label-color-inside":"var(--secondary-text)","input-label-color-error":"var(--negative)","input-label-color-disabled":"var(--disabled-text)","text-input-outside-label":"#000000","toast-background":"rgb(255,255,255)","toast-text":"#1C2B33","toast-text-link":"#4599FF","toast-border-color":"transparent","toast-border-style":"none","toast-border-width":"0px","toggle-active-background":"rgb(28,43,51)","toggle-active-icon":"rgb(255,255,255)","toggle-active-text":"rgb(255,255,255)","toggle-button-active-background":"#E7F3FF","tooltip-background":"rgb(52,72,84)","tooltip-box-shadow":"none","popover-border-color":"transparent",wash:"#E4E6EB","web-wash":"#F0F2F5",warning:"rgb(210,120,5)","chat-bubble-emphasis-ring-after":"black","chat-bubble-emphasis-ring-before":"white","chat-text-blockquote-color-background-line":"rgba(0, 0, 0, 0.12)","chat-text-blockquote-color-text-primary-media":"rgba(255, 255, 255, 0.7)","chat-incoming-message-bubble-background-color":"#F0F0F0","chat-outgoing-message-bubble-background-color":"var(--accent)","chat-replied-message-background-color":"rgba(0, 0, 0, 0.03)","radio-border-color":"var(--primary-icon)","radio-border-color-disabled":"var(--disabled-button-background)","radio-border-color-selected":"var(--accent)","radio-checked-icon-color":"var(--accent)","radio-checked-icon-color-disabled":"var(--disabled-button-background)","dialog-anchor-vertical-padding":"32px","header-height":"0px","global-panel-width":"0px","global-panel-width-expanded":"0px","alert-banner-corner-radius":"8px","button-corner-radius":"4px","button-corner-radius-medium":"10px","button-corner-radius-large":"12px","button-height-large":"52px","button-height-medium":"36px","button-padding-horizontal-large":"16px","button-padding-horizontal-medium":"16px","button-padding-icon-only":"16px","button-icon-padding-large":"16px","button-icon-padding-medium":"16px","button-inner-icon-spacing-large":"3px","button-inner-icon-spacing-medium":"3px","blueprint-button-height-medium":"40px","blueprint-button-height-large":"48px","card-corner-radius":"4px","card-box-shadow":"0 8px 20px 0  var(--shadow-2), 0 2px 4px 0 var(--shadow-1)","card-padding-horizontal":"10px","card-padding-vertical":"20px","chip-corner-radius":"4px","comment-bubble":"18px","dialog-corner-radius":"4px","glimmer-corner-radius":"4px","image-corner-radius":"4px","infochip-medium-radius":"12px","input-corner-radius":"4px","input-border-width":"1px","nav-list-cell-corner-radius":"4px","list-cell-corner-radius":"4px","list-cell-min-height":"52px","list-cell-padding-vertical":"20px","list-cell-padding-vertical-with-addon":"14px","menu-base-list-item-padding-horizontal":"8px","menu-base-list-item-padding-vertical":"12px","menu-base-size-full-margin-end":"48px","menu-item-base-margin-horizontal":"8px","menu-item-base-margin-vertical":"0px","menu-item-base-padding-horizontal":"8px","menu-item-base-overlay-radius":"4px","menu-item-base-padding-vertical":"12px","menu-item-base-with-icon-padding-horizontal":"var(--menu-item-base-padding-horizontal)","separator-menu-item-margin-horizontal":"16px","separator-menu-item-margin-vertical":"4px","nav-list-cell-min-height":"0px","nav-list-cell-padding-vertical":"16px","nav-list-cell-padding-vertical-with-addon":"16px","nux-card-body-padding-end":"24px","page-footer-padding-vertical":"28px","popover-border-style":"none","popover-border-width":"0px","section-header-addOnEnd-margin-horizontal":"8px","section-header-addOnStart-margin-horizontal":"12px","section-header-addOnEnd-button-padding-horizontal":"0px","section-header-addOnEnd-button-padding-vertical":"0px","section-header-padding-vertical":"16px","section-header-subtitle-margin-vertical":"14px","section-header-subtitle-with-addOnEnd-margin-vertical":"6px","tab-height":"60px","tab-icon-padding-end":"0px","tab-text-icon-gap":"4px","tab-underline-color":"transparent","tab-underline-height":"3px","text-badge-corner-radius":"4px","text-badge-padding-horizontal":"6px","text-badge-padding-vertical":"6px","text-input-multi-padding-between-text-scrollbar":"20px","text-input-multi-padding-scrollbar":"16px","text-input-caption-margin-top":"10px","text-input-padding-vertical":"12px","toast-addon-padding-horizontal":"6px","toast-addon-padding-vertical":"0px","toast-container-max-width":"100%","toast-container-min-width":"320px","toast-container-padding-horizontal":"14px","toast-container-padding-vertical":"16px","toast-corner-radius":"8px","toaster-view-max-width":"328px","tooltip-corner-radius":"8px","typeahead-list-outer-padding-vertical":"8px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms","fds-fast":"200ms","fds-slow":"400ms","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","font-family-system-fds":"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","text-input-field-font-family":"Placeholder Font","text-input-field-font-size":"1rem","text-input-field-font-stretch":"initial","text-input-field-font-weight":"500","text-input-field-line-height":"1.2941","text-input-label-font-family":"Placeholder Font","text-input-label-font-size":"17px","text-input-label-font-size-scale-multiplier":"0.75","text-input-label-font-stretch":"initial","text-input-label-font-weight":"400","text-input-label-line-height":"1.2941","messenger-card-min-width":"300px","messenger-card-max-width":"480px","messenger-application-max-width":"2560px","messenger-sidebar-collapsed-width":"44px","messenger-sidebar-expanded-width":"240px","messenger-card-corner-radius":"8px","messenger-card-spacing":"16px","chat-bubble-padding-vertical":"8px","chat-bubble-padding-horizontal":"12px","chat-bubble-border-radius":"18px","dialog-size-medium-width":"100%","dialog-size-small-width":"100%","focus-ring-outline-forced-colors":"2px auto transparent !important","focus-ring-outline-link":"2px auto var(--focus-ring-blue)","focus-ring-shadow-default":"0 0 0 2px var(--always-white), 0 0 0 4px var(--focus-ring-blue)","focus-ring-shadow-inset":"0 0 0 2px var(--focus-ring-blue) inset, 0 0 0 4px var(--always-white) inset","glimmer-animation-direction":"alternate","glimmer-animation-duration":"1000ms","glimmer-animation-timing-function":"steps(10, end)","glimmer-opacity-min":"0.25","glimmer-opacity-max":"1","radio-checked-icon-size-large":"12px","radio-checked-icon-size-medium":"12px","radio-border-width":"2px","radio-size-large":"24px","radio-size-medium":"20px","blue-primary":"rgb(0,136,244)","blue-secondary":"rgb(4,59,114)","blue-tertiary":"rgb(235,245,255)","chartreuse-primary":"rgb(106,147,22)","chartreuse-secondary":"rgb(50,65,19)","chartreuse-tertiary":"rgb(226,255,152)","cyan-primary":"rgb(0,142,213)","cyan-secondary":"rgb(15,63,93)","cyan-tertiary":"rgb(231,245,255)","dataviz-primary-2":"rgb(156,219,255)","dataviz-primary-3":"rgb(73,156,255)","dataviz-secondary-1":"rgb(83,78,191)","dataviz-secondary-2":"rgb(103,96,228)","dataviz-secondary-3":"rgb(119,45,88)","dataviz-supplementary-1":"rgb(253,91,67)","dataviz-supplementary-2":"rgb(161,132,0)","dataviz-supplementary-3":"rgb(36,131,44)","dataviz-supplementary-4":"rgb(51,51,52)","fuschia-primary":"rgb(250,45,138)","fuschia-secondary":"rgb(118,14,62)","fuschia-tertiary":"rgb(255,241,246)","green-primary":"rgb(43,154,53)","green-secondary":"rgb(26,68,27)","green-tertiary":"rgb(227,250,224)","magenta-primary":"rgb(215,77,204)","magenta-secondary":"rgb(96,36,91)","magenta-tertiary":"rgb(255,239,254)","orange-primary":"rgb(208,108,20)","orange-secondary":"rgb(94,49,14)","orange-tertiary":"rgb(255,241,239)","purple-primary":"rgb(125,116,255)","purple-secondary":"rgb(55,50,121)","purple-tertiary":"rgb(245,241,255)","red-primary":"rgb(251,60,68)","red-secondary":"rgb(118,22,27)","red-tertiary":"rgb(255,241,239)","teal-primary":"rgb(0,152,124)","teal-secondary":"rgb(10,68,56)","teal-tertiary":"rgb(227,247,241)","yellow-primary":"rgb(161,132,0)","yellow-secondary":"rgb(72,59,12)","yellow-tertiary":"rgb(255,246,161)","emphasized-card-background-blue-comet":"linear-gradient(rgb(192,223,255),rgb(210,232,255))","emphasized-card-background-green-comet":"linear-gradient(rgb(185,245,170),rgb(205,250,195))","emphasized-card-background-purple-comet":"linear-gradient(rgb(210, 210, 255),rgb(225,225,253))","emphasized-card-background-teal-comet":"linear-gradient(rgb(165,240,230),rgb(195,245,240))","search-input-background":"rgba(0, 0, 0, 0.04)","secondary-emphasized-button-stroke":"rgb(0,100,224)","stepper-active":"#344854","stepper-inactive":"rgba(52, 72, 84, 0.4)"}}),null);
__d("CDSTextConfig",["cx","UserAgent"],(function(a,b,c,d,e,f,g,h){"use strict";a={blueLink:{color:"x1fey0fg",$$css:!0},disabledText:{color:"x1dntmbh",$$css:!0},inherit_INTERNAL_ONLY:{color:"x1heor9g",$$css:!0},inverseText:{color:"x1qoxp87",$$css:!0},navListSelectedAccentText:{color:"x15d4u2p",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},placeholderText:{color:"x12scifz",$$css:!0},placeholderTextOnMedia:{color:"x10dhlfy",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primaryButtonText:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButtonText:{color:"x1mvi0mv",$$css:!0},primaryText:{color:"xzsf02u",$$css:!0},primaryTextOnMedia:{color:"x17z8epw",$$css:!0},secondaryButtonText:{color:"x1dem4cn",$$css:!0},secondaryDestructiveButtonText:{color:"x8tsa8r",$$css:!0},secondaryText:{color:"xi81zsa",$$css:!0},secondaryTextOnMedia:{color:"xkxfvhb",$$css:!0},toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE:{color:"xf9uev8",$$css:!0},toastTextLink:{color:"x1cpl2wf",$$css:!0},warning:{color:"xcly8g5",$$css:!0}};var i={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x13c4wfe",$$css:!0},"default":{fontFamily:"x10q8g1b",$$css:!0},segoe:{fontFamily:"x1vm4pi3",$$css:!0}};b={apple:{fontFamily:"xrg5i2u",$$css:!0},"default":{fontFamily:"x15zrtf0",$$css:!0},windows:{fontFamily:"x12qp5cl",$$css:!0}};d={apple:{fontFamily:"x1miljz0",$$css:!0},"default":{fontFamily:"x1uzi27p",$$css:!0},windows:{fontFamily:"x18qtup9",$$css:!0}};e={apple:{fontFamily:"x13sc5st",$$css:!0},"default":{fontFamily:"x15bjy8r",$$css:!0},windows:{fontFamily:"x1q5ab00",$$css:!0}};f={apple:{fontFamily:"x17lgo4e",$$css:!0},"default":{fontFamily:"xygjavf",$$css:!0},windows:{fontFamily:"x1t03qr3",$$css:!0}};h={apple:{fontFamily:"xej1f7s",$$css:!0},"default":{fontFamily:"xfsvlko",$$css:!0},windows:{fontFamily:"x188k2y4",$$css:!0}};var j={apple:{fontFamily:"x1gbch0d",$$css:!0},"default":{fontFamily:"x1orftwa",$$css:!0},windows:{fontFamily:"x1215byi",$$css:!0}},k={apple:{fontFamily:"x1fnpb41",$$css:!0},"default":{fontFamily:"x1rg2z3u",$$css:!0},windows:{fontFamily:"x1ff8u0n",$$css:!0}},l={apple:{fontFamily:"x1cihehr",$$css:!0},"default":{fontFamily:"x1shdpqr",$$css:!0},windows:{fontFamily:"x11x3m1q",$$css:!0}},m={apple:{fontFamily:"xcd4a2j",$$css:!0},"default":{fontFamily:"xzz1hku",$$css:!0},windows:{fontFamily:"xhqx0jl",$$css:!0}},n={apple:{fontFamily:"x7igvfm",$$css:!0},"default":{fontFamily:"x1fh7n3k",$$css:!0},windows:{fontFamily:"x1i3kngk",$$css:!0}},o={apple:{fontFamily:"x31b0c2",$$css:!0},"default":{fontFamily:"x1gk729v",$$css:!0},windows:{fontFamily:"x1rhavg7",$$css:!0}},p={apple:{fontFamily:"x1ht2ja9",$$css:!0},"default":{fontFamily:"x6f7imt",$$css:!0},windows:{fontFamily:"x9axs75",$$css:!0}},q={apple:{fontFamily:"x15smpfu",$$css:!0},"default":{fontFamily:"x1vv9oc4",$$css:!0},windows:{fontFamily:"xghutw1",$$css:!0}},r={body:{fontSize:"xt4736n",fontStretch:"x1havqas",fontWeight:"x1f0sm9e",$$css:!0},bodyEmphasized:{fontSize:"xpeg176",fontStretch:"x1b1u5bx",fontWeight:"x95da8x",$$css:!0},display1:{fontSize:"x1eb87vt",fontStretch:"xtvf9r5",fontWeight:"x1appeqy",$$css:!0},headline1:{fontSize:"x1t8f6od",fontStretch:"xzclw06",fontWeight:"x9f5f11",$$css:!0},headline2:{fontSize:"x1i8mgoa",fontStretch:"x163i06a",fontWeight:"x1kwtg5e",$$css:!0},headline3:{fontSize:"x1ejgnnb",fontStretch:"xza2c7i",fontWeight:"x1apb90u",$$css:!0},meta:{fontSize:"xnk8lw1",fontStretch:"xuarlqh",fontWeight:"xuemr51",$$css:!0},metaEmphasized:{fontSize:"xivvn39",fontStretch:"x18l1vnj",fontWeight:"x1vqvvx9",$$css:!0},primaryLabel:{fontSize:"x1sfkdl8",fontStretch:"xurcqga",fontWeight:"x3vd66c",$$css:!0},primaryLabelEmphasized:{fontSize:"xygqn1s",fontStretch:"x5wmda4",fontWeight:"xj3mx7g",$$css:!0},secondaryLabel:{fontSize:"x1qo61fq",fontStretch:"x81x36d",fontWeight:"xa4e6wy",$$css:!0},secondaryLabelEmphasized:{fontSize:"x1km5fng",fontStretch:"x1w0ydog",fontWeight:"xiq6o0p",$$css:!0},tertiaryLabel:{fontSize:"x1r3utbx",fontStretch:"xrah2mz",fontWeight:"xlahvtq",$$css:!0}},s={"default":function(a){switch(a){case"body":return[4,5];case"bodyEmphasized":return[4,5];case"display1":return[10,8];case"headline1":return[7,7];case"headline2":return[6,7];case"headline3":return[5,5];case"meta":return[4,5];case"metaEmphasized":return[4,5];case"primaryLabel":return[5,5];case"primaryLabelEmphasized":return[5,5];case"secondaryLabel":return[4,5];case"secondaryLabelEmphasized":return[4,5];case"tertiaryLabel":return[2,3]}},segoe:function(a){switch(a){case"body":return[5,4];case"bodyEmphasized":return[5,4];case"display1":return[12,6,3];case"headline1":return[9,5,3];case"headline2":return[8,5,2];case"headline3":return[6,4,1];case"meta":return[6,3,1];case"metaEmphasized":return[5,4,1];case"primaryLabel":return[5,4];case"primaryLabelEmphasized":return[5,4];case"secondaryLabel":return[5,4];case"secondaryLabelEmphasized":return[5,4];case"tertiaryLabel":return[3,2]}},sfGecko:function(a){switch(a){case"body":return[5,4];case"bodyEmphasized":return[5,4];case"display1":return[11,7];case"headline1":return[8,6];case"headline2":return[7,6];case"headline3":return[5,5];case"meta":return[5,4];case"metaEmphasized":return[5,4];case"primaryLabel":return[5,4];case"primaryLabelEmphasized":return[5,4];case"secondaryLabel":return[5,4];case"secondaryLabelEmphasized":return[5,4];case"tertiaryLabel":return[3,2]}},sfWebkit:function(a){switch(a){case"body":return[5,4];case"bodyEmphasized":return[5,4];case"display1":return[10,8];case"headline1":return[7,7];case"headline2":return[7,6];case"headline3":return[5,5];case"meta":return[5,4];case"metaEmphasized":return[5,4];case"primaryLabel":return[5,5];case"primaryLabelEmphasized":return[5,5];case"secondaryLabel":return[5,4];case"secondaryLabelEmphasized":return[5,4];case"tertiaryLabel":return[3,3]}}},t=function(){if(c("UserAgent").isPlatform("Windows >= 6"))return[i.segoe,s.segoe,"windows"];return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?[i.apple,c("UserAgent").isEngine("Gecko")?s.sfGecko:s.sfWebkit,"apple"]:[i["default"],s["default"],"default"]}(),u=t[0],v=t[1];t=t[2];a={colors:{blueLink:a.blueLink,disabledText:a.disabledText,inherit_INTERNAL_ONLY:a.inherit_INTERNAL_ONLY,inverseText:a.inverseText,navListSelectedAccentText:a.navListSelectedAccentText,negative:a.negative,placeholderText:a.placeholderText,placeholderTextOnMedia:a.placeholderTextOnMedia,positive:a.positive,primaryButtonText:a.primaryButtonText,primaryDeemphasizedButtonText:a.primaryDeemphasizedButtonText,primaryText:a.primaryText,primaryTextOnMedia:a.primaryTextOnMedia,secondaryButtonText:a.secondaryButtonText,secondaryDestructiveButtonText:a.secondaryDestructiveButtonText,secondaryText:a.secondaryText,secondaryTextOnMedia:a.secondaryTextOnMedia,toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE:a.toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE,toastTextLink:a.toastTextLink,warning:a.warning},defaultFontFamily:u,offsets:v,styles:{body:{lineHeight:"var(--body-line-height)",style:[r.body,b[t]]},bodyEmphasized:{lineHeight:"var(--body-emphasized-line-height)",style:[r.bodyEmphasized,d[t]]},display1:{lineHeight:"var(--display1-line-height)",style:[r.display1,e[t]]},headline1:{lineHeight:"var(--headline1-line-height)",style:[r.headline1,f[t]]},headline2:{lineHeight:"var(--headline2-line-height)",style:[r.headline2,h[t]]},headline3:{lineHeight:"var(--headline3-line-height)",style:[r.headline3,j[t]]},meta:{lineHeight:"var(--meta-line-height)",style:[r.meta,k[t]]},metaEmphasized:{lineHeight:"var(--meta-emphasized-line-height)",style:[r.metaEmphasized,l[t]]},primaryLabel:{lineHeight:"var(--primary-label-line-height)",style:[r.primaryLabel,m[t]]},primaryLabelEmphasized:{lineHeight:"var(--primary-label-emphasized-line-height)",style:[r.primaryLabelEmphasized,n[t]]},secondaryLabel:{lineHeight:"var(--secondary-label-line-height)",style:[r.secondaryLabel,o[t]]},secondaryLabelEmphasized:{lineHeight:"var(--secondary-label-emphasized-line-height)",style:[r.secondaryLabelEmphasized,p[t]]},tertiaryLabel:{lineHeight:"var(--tertiary-label-line-height)",style:[r.tertiaryLabel,q[t]]}}};u=a;g["default"]=u}),98);
__d("CDSText.react",["BaseHeading.react","BaseText.react","CDSTextConfig","CDSTextStyleContext.react","JSResourceForInteraction","react","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=c("JSResourceForInteraction")("CDSTooltipImpl.react").__setRef("CDSText.react");var j=d("BaseText.react").createBaseTextComponent(c("CDSTextConfig"),b);function a(a){var b=a.asBox;b=b===void 0?!1:b;var e=a.children,f=a.color;f=f===void 0?"primaryText":f;var g=a.id,h=a.isPrimaryHeading;h=h===void 0?!1:h;var k=a.isSemanticHeading;k=k===void 0?!1:k;var l=a.maxLines,m=a.ref,n=a.testid;n=a.textAlign;n=n===void 0?"start":n;var o=a.textStyle;o=o===void 0?"body":o;var p=a.truncationTooltip;a=a.xstyle;n=i.jsx(j,{alignment:n,colorName:f,elementType:b?"div":"span",id:g,lines:l,ref:d("xplatToDOMRef").xplatToDOMRef(m),styleName:o,testid:void 0,truncationTooltip:p,xstyle:a,children:i.jsx(c("CDSTextStyleContext.react").Provider,{value:o,children:e})});return k||h?i.jsx(c("BaseHeading.react"),{isPrimaryHeading:h,children:n}):n}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDSThemeConfig",["CDSStyleXDarkTheme","CDSStyleXDefaultTheme","DspCDSWebLegacyThemeUsage"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},c("CDSStyleXDefaultTheme"));b=babelHelpers["extends"]({},c("CDSStyleXDarkTheme"));Object.assign(a,c("DspCDSWebLegacyThemeUsage").light);Object.assign(b,c("DspCDSWebLegacyThemeUsage").dark);d={dark:b,light:a,type:"VARIABLES"};g["default"]=d}),98);
__d("MetaBrandXFilled24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M5.707 4.293a1 1 0 1 0-1.414 1.414L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 0 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 1 0-1.414-1.414L12 10.586 5.707 4.293z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("KeyframesAsyncSession",["Promise","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("FBKeyframesLoggedSession").__setRef("KeyframesAsyncSession");a=function(){function a(b){var d=this;this.$3=function(){var b=a.timestamp();c("promiseDone")(d.$1,function(a){return a.error(b)})};this.$1=i.load().then(function(a){return new a(b)});this.$2=this.$1.then(function(a){return a.getPerformanceLogIfEnabled()})}a.timestamp=function(){return{value:Date.now()}};var d=a.prototype;d.scheduleDecode=function(d,e){var f=d.then(function(){return a.timestamp()}),g=d.then(function(){return e}).then(function(){return a.timestamp()}),i=e.then(function(a){return a&&a.pluginsLoader!=null&&a.pluginsLoader.getPluginTable instanceof Function?a.pluginsLoader.getPluginTable():[]});d=(h||(h=b("Promise"))).all([this.$1,f]).then(function(a){var c=a[0];a=a[1];c=c.startDecode(a);return(h||(h=b("Promise"))).all([c,g,i])});c("promiseDone")(d,function(a){var b=a[0],c=a[1];a=a[2];return b(c,a)},this.$3)};d.maybeGetPerformanceLog=function(){return this.$2};return a}();g["default"]=a}),98);
__d("KeyframesDownloadTracker",["NetworkStatus","Promise","XHRRequest","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=2,j=250;function a(a){return new(h||(h=b("Promise")))(function(b,d){var e=0,f,g=function f(){e++,new(c("XHRRequest"))(a).setMethod("GET").setResponseType("arraybuffer").setErrorHandler(function(a){var b=e<=i;b?c("setTimeout")(f,j):d(a)}).setAbortHandler(function(a){d(a)}).setResponseHandler(function(a){b(a)}).send()};if(c("NetworkStatus").isOnline())g();else{var h=function(a){a=a.online;a&&(g(),f.remove())};f=c("NetworkStatus").onChange(h)}})}g["default"]=a}),98);
__d("KeyframesDecodedAssetRequest",["KeyframesDownloadTracker","Promise","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("KeyframesAssetDecoder").__setRef("KeyframesDecodedAssetRequest"),j=c("requireDeferred")("KeyframesRenderer").__setRef("KeyframesDecodedAssetRequest");function k(a){return!a||typeof a!=="string"?(h||(h=b("Promise"))).reject("Request: invalid uri "+a):c("KeyframesDownloadTracker")(a)}a=function(){function a(a,d){var e=this;this.$1=!1;a=(h||(h=b("Promise"))).all([typeof a==="string"?k(a):a,i.load()]);this.$2=a.then(function(a){var b=a[0];a=a[1];return a.fromDocumentBytes(b)});d.scheduleDecode(a,this.$2);c("promiseDone")(this.$2,function(){return e.$1=!0},function(){return e.$1=!0})}var d=a.prototype;d.isDone=function(){return this.$1};d.getAsset=function(){return this.$2};d.getRenderer=function(a){return(h||(h=b("Promise"))).all([this.$2,j.load(),a.maybeGetPerformanceLog()]).then(function(a){var b=a[0],c=a[1];a=a[2];return new c(b,a)})};return a}();g["default"]=a}),98);
__d("Keyframes",["Bootloader","FBLogger","KeyframesAsyncSession","KeyframesDecodedAssetRequest","KeyframesDownloadTracker","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j={};function k(a,d){if(!a||typeof a!=="string")return(h||(h=b("Promise"))).reject("Request: invalid uri "+a);var e=i[a];if(e)return e;e=c("KeyframesDownloadTracker")(a);d===!0&&(i[a]=e);return e}function a(a,b){b=new(c("KeyframesAsyncSession"))(b);j[a]||(j[a]=new(c("KeyframesDecodedAssetRequest"))(a,b));return j[a].getRenderer(b)}function d(a){j[a]||k(a,!0)["catch"](function(b){c("FBLogger")("keyframes-www").catching(b).warn("Keyframes: failed to preload asset",a)}),c("Bootloader").loadModules(["KeyframesRenderer","FBKeyframesLoggedSession","KeyframesAssetDecoder"],function(){},"Keyframes")}function e(a,d){if(!j[a]){d=new(c("KeyframesAsyncSession"))(d);j[a]=new(c("KeyframesDecodedAssetRequest"))(a,d)}return(h||(h=b("Promise"))).all([j[a].getAsset()]).then(c("emptyFunction"))}function f(a,b){b=new(c("KeyframesAsyncSession"))(b);return new(c("KeyframesDecodedAssetRequest"))(a,b).getRenderer(b)}function l(a,b){b=new(c("KeyframesAsyncSession"))(b);return new(c("KeyframesDecodedAssetRequest"))(a,b).getAsset()}function m(a){return!!(j[a]&&j[a].isDone())}function n(){j={},i={}}g.requestRenderer=a;g.preload=d;g.load=e;g.requestRendererFromBytes=f;g.loadFromBytes=l;g.hasLoaded=m;g.clearCache=n}),98);
__d("KeyframesVersionLogger",["BanzaiLogger","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="KeyframesFramePerfLoggerConfig",i={appid:256281040558,isemployee:c("CurrentUser").isEmployee()?1:0},j={USE_LEGACY:"keyframes2_used",USE_MODERN:"keyframes3_used"};function k(a,b){c("BanzaiLogger").log(h,babelHelpers["extends"]({},i,{name:a,extras:(a=b)!=null?a:void 0}))}a={logLegacy:function(a){k(j.USE_LEGACY,a)},logModern:function(a){k(j.USE_MODERN,a)}};g.KeyframesVersionLogger=a}),98);
__d("KeyframesLegacy_DO_NOT_USE.react",["FBLogger","Keyframes","KeyframesVersionLogger","createCancelableFunction","promiseDone","react","react-compiler-runtime","testID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(5),c=a.height;a=a.width;a=a||0;c=c||0;var e;b[0]!==a||b[1]!==c?(e={width:a,height:c},b[0]=a,b[1]=c,b[2]=e):e=b[2];a=e;b[3]!==a?(c=i.jsx("div",{style:a}),b[3]=a,b[4]=c):c=b[4];return c}function k(a){var b=d("react-compiler-runtime").c(6),c=a.width;a=a.height;var e;b[3]!==a||b[4]!==c?(e=i.jsx(j,{width:c,height:a}),b[3]=a,b[4]=c,b[5]=e):e=b[5];return e}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={error:!1,renderer:null},b.$6=function(a){b.setState({renderer:a,error:!1}),b.props.onLoad&&b.props.onLoad(a)},b.$7=function(a){b.props.onLoadError&&b.props.onLoadError(),b.setState({renderer:null,error:!0})},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.seekToProgress=function(a){this.state.renderer&&this.state.renderer.seekToProgress(a)};e.componentDidMount=function(){this.$4(this.props.source)};e.componentWillUnmount=function(){this.state.renderer&&this.state.renderer.pause(),this.$2&&this.$2.cancel(),this.$3&&this.$3.cancel()};e.componentDidUpdate=function(a,b){if(this.props.source!==a.source||this.props.projectName!==a.projectName||this.props.assetName!=null&&a.assetName!=null&&this.props.assetName!==a.assetName||a.assetID!=null&&this.props.assetID!=null&&this.props.assetID!==a.assetID)this.$4(this.props.source);else{var c=this.state.renderer;c!==b.renderer?this.$5(b.renderer,c):c&&((a.width!==this.props.width||a.height!==this.props.height)&&(c.resetDimensions(),this.props.width&&c.setWidth(this.props.width),this.props.height&&c.setHeight(this.props.height)),a.muted!==this.props.muted&&(this.props.muted?c.mute():c.unMute()),a.startAt!==this.props.startAt&&a.endAt!==this.props.endAt&&c.setStartAndEndAt(this.props.startAt,this.props.endAt),a.startAt!==this.props.startAt&&c.setStartAt(this.props.startAt),a.endAt!==this.props.endAt&&c.setEndAt(this.props.endAt),a.repeatCount!==this.props.repeatCount&&c.repeatCount(this.props.repeatCount),a.onError!==this.props.onError&&c.onError(this.props.onError),a.onRepeatEnd!==this.props.onRepeatEnd&&c.onRepeatEnd(this.props.onRepeatEnd),a.onProgress!==this.props.onProgress&&c.onProgress(this.props.onProgress),a.initialProgress!==this.props.initialProgress&&c.seekToProgress(this.props.initialProgress),a.playing!==this.props.playing&&(this.props.playing?c.play():(c.pause(),this.props.resetOnPause&&c.repeatCount(this.props.repeatCount).seekToProgress(this.props.initialProgress))),c.redrawIfNeeded())}};e.$5=function(a,b){if(!this.$1)return;b&&(b.onError(this.props.onError).onRepeatEnd(this.props.onRepeatEnd).onProgress(this.props.onProgress).setStartAt(this.props.startAt).setEndAt(this.props.endAt).repeatCount(this.props.repeatCount),this.props.width&&b.setWidth(this.props.width),this.props.height&&b.setHeight(this.props.height),this.props.initialProgress&&b.seekToProgress(this.props.initialProgress),this.props.muted?b.mute():b.unMute(),this.props.playing?b.play():b.pause(),b.redrawIfNeeded());if(a&&b){var d=a.getElement(),e=b.getElement();if(d!=null&&e!=null&&this.$1!=null)try{this.$1.replaceChild(e,d)}catch(a){c("FBLogger")("keyframes-www").catching(a).warn("Caught error when replacing renderers: ",a.toString()),e.replaceWith(d)}else{var f;d&&((f=this.$1)==null?void 0:f.removeChild(d));e&&((f=this.$1)==null?void 0:f.appendChild(e))}}else a&&this.$1.removeChild(a.getElement()),b&&this.$1.appendChild(b.getElement());d=this.props.canvasRef;if(d){e=(f=b==null?void 0:b.getElement())!=null?f:null;typeof d==="function"?d(e):d.current=e}};e.$8=function(a){return a instanceof ArrayBuffer?d("Keyframes").requestRendererFromBytes(a,this.$9()):d("Keyframes").requestRenderer(a,this.$9())};e.$4=function(a){this.$2&&this.$2.cancel(),this.$3&&this.$3.cancel(),!a?this.$7():(d("KeyframesVersionLogger").KeyframesVersionLogger.logLegacy(this.$10()),this.$2=c("createCancelableFunction")(this.$6),this.$3=c("createCancelableFunction")(this.$7),c("promiseDone")(this.$8(a),this.$2,this.$3))};e.$10=function(){var a=this.$9(),b=a.projectName,c=a.assetID;a=a.assetName;a=(c=(c=c)!=null?c:a)!=null?c:"__FIXME__missing_react_asset_name";return b+"-"+a};e.$9=function(){return this.props.assetID?{projectName:this.props.projectName,assetID:this.props.assetID}:{projectName:this.props.projectName,assetName:this.props.assetName||"__FIXME__missing_react_asset_name"}};e.render=function(){var a=this,b=this.props,d=b.className,e=b.height,f=b.style,g=b.width,h=b.ariaLabel;b=b.role;g=this.state.renderer?null:this.state.error?this.props.errorPlaceholder||i.jsx(k,{width:g,height:e}):this.props.placeholder||i.jsx(j,{width:g,height:e});e=this.props.mutator&&this.state.renderer&&i.cloneElement(this.props.mutator,{__renderer:this.state.renderer});return i.jsxs("div",babelHelpers["extends"]({className:d},c("testID")(this.props.testid),{ref:function(b){return a.$1=b},style:babelHelpers["extends"]({display:"inline-block",lineHeight:0,fontSize:0},f),"aria-label":h,role:b,children:[g,e]}))};return b}(i.Component);a.defaultProps={initialProgress:0,resetOnPause:!1,playing:!0,repeatCount:Infinity,startAt:0,endAt:1};g["default"]=a}),98);
__d("ViewportAwareKeyframes.react",["KeyframesLegacy_DO_NOT_USE.react","clearTimeout","react","setTimeout","stylex","useVisibilityObserver","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o={root:{display:"x3nfvp2",$$css:!0}};function a(a){var b=a.delay,d=b===void 0?0:b,e=a.onAnimationCancel,f=a.onAnimationStart_SAFE_FOR_SSR,g=a.onDelayEnd,i=a.onDelayStart,p=a.onRepeatEnd;b=a.playing;var q=b===void 0?"onvisible":b;b=a.xstyle;var r=a.className,s=a.height,t=a.style,u=a.width;a=babelHelpers.objectWithoutPropertiesLoose(a,["delay","onAnimationCancel","onAnimationStart_SAFE_FOR_SSR","onDelayEnd","onDelayStart","onRepeatEnd","playing","xstyle","className","height","style","width"]);var v=n(q),w=v[0],x=v[1],y=m(!1);v=n(!1);var z=v[0],A=v[1],B=m(null),C=m(!1);v=n(!1);var D=v[0],E=v[1],F=m(0);function G(a){p&&p(a),a===0&&(y.current=!0,C.current=!1,A(!1))}function H(){B.current!==null&&(c("clearTimeout")(B.current),B.current=null)}function I(){e&&e(),F.current+=1,H()}v=c("useVisibilityObserver")({onHidden:function(a){a=a.hiddenReason;a!=="COMPONENT_UNMOUNTED"&&(E(!1),C.current=!1,y.current||I(),y.current=!1,A(!1))},onVisible:function(){E(!0)}});k(function(){if(q===w)return;y.current=!1;C.current=!1;A(!1);x(q)},[w,q]);k(function(){if(D){if(z||y.current||C.current)return;d<=0?["always","onvisible"].includes(w)&&(f&&f(),A(!0)):(x("never"),i&&i(),B.current=c("setTimeout")(function(){g&&g(),f&&f(),A(!0),x(q),C.current=!0},d))}else H()},[d,z,D,f,g,i,w,q]);var J=l(function(){return c("uuidv4")()},[]);return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([o.root,b]),{ref:v,children:j.jsx(c("KeyframesLegacy_DO_NOT_USE.react"),babelHelpers["extends"]({className:r,height:s,onRepeatEnd:G,playing:(w==="onvisible"||w==="always")&&z,style:t,width:u},a),J+"-"+F.current)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAnimatedReactionIcon.react",["DynamicUFIReactionTypes","DynamicUFIReactionsKeyframesAssets","FBLogger","ViewportAwareKeyframes.react","react","react-compiler-runtime","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(21),e=a.animationURI,f=a.disableAnimationPlayback,g=a.placeholder,i=a.reactionID,k=a.ref,l=a.repeatCount,m=a.size,n=a.testid;a=a.xstyle;var o=c("DynamicUFIReactionTypes").reactions[i],p=(e=e)!=null?e:c("DynamicUFIReactionsKeyframesAssets").reactions[i];b[0]!==p||b[1]!==o.name?(e=function(){c("FBLogger")("ufi2").warn('Error loading "'+o.name+'" animation from '+p)},b[0]=p,b[1]=o.name,b[2]=e):e=b[2];e=e;if(o==null){c("recoverableViolation")("Could not render unsupported reaction id "+i+":\n        reaction icon asset not found","ufi2");return null}if(p==null){c("recoverableViolation")("Could not render unsupported reaction id "+i+":\n        reaction animation uri not found","ufi2");return null}i=c("DynamicUFIReactionsKeyframesAssets").initialProgress[i]||0;var q;b[3]!==m?(q={height:m,width:m},b[3]=m,b[4]=q):q=b[4];var r=o.name,s;b[5]!==a?(s=(h||(h=c("stylex"))).props(a),b[5]=a,b[6]=s):s=b[6];a=f===!0?"never":"onvisible";l=(f=l)!=null?f:void 0;b[7]!==p||b[8]!==i||b[9]!==e||b[10]!==g||b[11]!==o.name||b[12]!==m||b[13]!==s||b[14]!==a||b[15]!==l||b[16]!==n?(f=j.jsx(c("ViewportAwareKeyframes.react"),babelHelpers["extends"]({assetName:r,canvasRef:k},s,{height:m,initialProgress:i,onLoadError:e,placeholder:g,playing:a,projectName:"feedback_reactions",repeatCount:l,resetOnPause:!0,source:p,testid:void 0,width:m})),b[7]=p,b[8]=i,b[9]=e,b[10]=g,b[11]=o.name,b[12]=m,b[13]=s,b[14]=a,b[15]=l,b[16]=n,b[17]=f):f=b[17];b[18]!==q||b[19]!==f?(r=j.jsx("div",{style:q,children:f}),b[18]=q,b[19]=f,b[20]=r):r=b[20];return r}b=j.memo(a);g["default"]=b}),98);
__d("CometAnimatedReactionIconRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAnimatedReactionIconRenderer_renderer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"XFBCometUFIAnimatedReactionIconRenderer",abstractKey:null};e.exports=a}),null);
__d("CometAnimatedReactionIconRenderer.react",["CometAnimatedReactionIcon.react","CometAnimatedReactionIconRenderer_renderer.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(6),f=a.animationURI,g=a.disableAnimationPlayback,i=a.reactionID,k=a.renderer,l=a.touchElementRef;a=a.xstyle;d("CometRelay").useFragment(h!==void 0?h:h=b("CometAnimatedReactionIconRenderer_renderer.graphql"),k);e[0]!==f||e[1]!==g||e[2]!==i||e[3]!==l||e[4]!==a?(k=j.jsx(c("CometAnimatedReactionIcon.react"),{animationURI:f,disableAnimationPlayback:g,reactionID:i,ref:l,size:39,xstyle:a}),e[0]=f,e[1]=g,e[2]=i,e[3]=l,e[4]=a,e[5]=k):k=e[5];return k}g["default"]=a}),98);
__d("CometAnimatedReactionIconRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometAnimatedReactionIconRenderer_renderer$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("CometFeedSeeMoreAnchorEntityRenderer",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(){return i.jsx(d("react-strict-dom").html.a,{"data-testid":void 0,tabIndex:-1})};g["default"]=a}),98);
__d("CometFeedStoryMatchDebuggerDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={};c={add:function(a){},remove:function(a){}};e=a.createContext(c);g["default"]=e}),98);
__d("CometHighlightTransform",["baseTextTransformAllStrings","escapeRegex","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={color:{color:"x1fey0fg",$$css:!0},highlight:{backgroundColor:"xv78j7m",$$css:!0},searchedTermHighlight:{backgroundColor:"xtvsq51",borderTopStartRadius:"x8u2fvd",borderTopEndRadius:"x1ht7hnu",borderBottomEndRadius:"x1quq95r",borderBottomStartRadius:"x5yzy4c",color:"xmorvov",fontWeight:"x1s688f",paddingTop:"x4p5aij",paddingBottom:"x1j85h84",paddingStart:"x1t2a60a",paddingEnd:"x1mpkggp",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){a=a===void 0?{}:a;var b=a.matchSubstrings,d=b===void 0?!1:b;b=a.matches;b=b===void 0?[]:b;var e=a.colorText,f=e===void 0?!1:e;e=a.highlightCommentSearchedTerms;var g=e===void 0?!1:e,h=0,i=b.map(function(a){return a.trim()}).filter(Boolean);return function(a){return c("baseTextTransformAllStrings")(a,function(a,b){return k(i,d,a,b+":"+String(h++),f,g)})}}function k(a,b,e,f,g,h){g===void 0&&(g=!1);h===void 0&&(h=!1);var k=[];l(e);return i.jsx(d("react-strict-dom").html.span,{children:k},"highlight_container_"+f);function l(e,m){m===void 0&&(m=0);if(e.length===0)return;var n=null,o=null;a.forEach(function(a){var d;if(b)d=e.search(new RegExp(c("escapeRegex")(a),"i"));else{var f="(\\s|$|^|["+c("escapeRegex")(",<>.?/;:'\"{}[]-_+=`~!@#$%^&*()")+"])";f=new RegExp(f+c("escapeRegex")(a)+f,"i");d=e.search(f);if(d>-1){f=e.match(f);f!=null&&(d+=f[0].search(new RegExp(c("escapeRegex")(a),"i")))}}d>-1&&(n==null||d<n||o!=null&&d===n&&a.length>o.length)&&(n=d,o=e.slice(d,d+a.length))});if(n!==null&&o!==null){var p=h?j.searchedTermHighlight:g?j.color:j.highlight;p=i.jsx(d("react-strict-dom").html.span,{style:p,children:o},"h_"+f+"_"+m);var q=i.jsx(d("react-strict-dom").html.span,{children:e.slice(0,n)},"bh_"+f+"_"+m);n>0&&k.push(q);k.push(p);q=e.slice(n+o.length);l(q,m+1)}else{p=i.jsx(d("react-strict-dom").html.span,{children:e},"rt_"+f+"_"+m);k=[].concat(k,[p])}}}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometKGTickerNodeEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometKGTickerNodeEntityRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ticker_symbol",storageKey:null}],type:"KGTickerNode",abstractKey:null};e.exports=a}),null);
__d("CometKGTickerNodeEntityRenderer",["fbt","CometKGTickerNodeEntityRenderer_entity.graphql","CometLink.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={bold:{fontWeight:"x1s688f",$$css:!0}};i!==void 0?i:i=b("CometKGTickerNodeEntityRenderer_entity.graphql");a=function(a,b){a=b.name;b=b.ticker_symbol;return b==null?null:k.jsx(c("CometLink.react"),{href:null,label:h._(/*BTDS*/"See more about {company name} on News tab.",[h._param("company name",a)]),target:"_blank",children:k.jsxs(d("react-strict-dom").html.strong,{style:l.bold,children:["$",b]})})};e=a;g["default"]=e}),226);
__d("CometLoggedOutVideoUnitSEOContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=i.createContext({cometLoggedOutVideoUnitSEOContext:{enableFeedVideoAnchorText:!1},setCometLoggedOutVideoUnitSEOContext:function(){}});function a(a){var b=d("react-compiler-runtime").c(6);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={enableFeedVideoAnchorText:!1},b[0]=c):c=b[0];c=j(c);var e=c[0];c=c[1];b[1]!==e?(c={cometLoggedOutVideoUnitSEOContext:e,setCometLoggedOutVideoUnitSEOContext:c},b[1]=e,b[2]=c):c=b[2];e=c;c=e;b[3]!==a||b[4]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[3]=a,b[4]=c,b[5]=e):e=b[5];return e}g.CometLoggedOutVideoUnitSEOContext=k;g.CometLoggedOutVideoUnitSEOContextProvider=a}),98);
__d("CometSearchMatchedTermsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={matches:[]};c=a.createContext(b);g["default"]=c}),98);
__d("CometTextDelightAnimationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23947846308154223"}),null);
__d("CometTextDelightAnimationQuery$Parameters",["CometTextDelightAnimationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometTextDelightAnimationQuery_facebookRelayOperation"),metadata:{},name:"CometTextDelightAnimationQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometTextDelightAnimation.entrypoint",["CometTextDelightAnimationQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.id;return{queries:{CometTextDelightAnimationQueryRef:{parameters:c("CometTextDelightAnimationQuery$Parameters"),variables:{id:a}}}}},root:c("JSResourceForInteraction")("CometTextDelightAnimation.react").__setRef("CometTextDelightAnimation.entrypoint")};g["default"]=a}),98);
__d("CometTextDelightCampaignEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Literal",name:"delight_surface",value:"COMMENT"}];return{argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometTextDelightCampaignEntityRenderer_entity",selections:[{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:b,concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'},{alias:null,args:b,concreteType:"DelightsAnimation",kind:"LinkedField",name:"delight_asset",plural:!1,selections:[a],storageKey:'delight_asset(delight_surface:"COMMENT")'}],storageKey:null}],type:"DelightAtRange",abstractKey:null}}();e.exports=a}),null);
__d("CometTextDelightCampaignEntityRenderer",["CometPlaceholder.react","CometPressableOverlay.react","CometRelay","CometTextDelightAnimation.entrypoint","CometTextDelightCampaignEntityRenderer_entity.graphql","PressableText.react","react","react-compiler-runtime","requireDeferred","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));a=i;a.useMemo;var k=a.useState,l=c("requireDeferred")("DelightsTextTriggerPostTappedFalcoEvent").__setRef("CometTextDelightCampaignEntityRenderer");function m(a){var b={color:"",fontWeight:""};a.forEach(function(a){var c=a.style;a=a.value;switch(c){case"color":b.color=(c=a)!=null?c:"";break;case"font-weight":b.fontWeight=(c=a)!=null?c:"";break}});return b}h!==void 0?h:h=b("CometTextDelightCampaignEntityRenderer_entity.graphql");function n(a){var b=d("react-compiler-runtime").c(37),e=a.entity;a=a.node;c("vulture")("QBqG5BGvk6ZBrHGdn71kE-ngCBQ=");var f=d("CometRelay").useRelayEnvironment(),g;b[0]!==f?(g={getEnvironment:function(){return f}},b[0]=f,b[1]=g):g=b[1];g=g;g=g;g=d("CometRelay").useEntryPointLoader(g,c("CometTextDelightAnimation.entrypoint"));var h=g[0],i=g[1];g=k(!1);var n=g[0],o=g[1];g=k(!1);var p=g[0],q=g[1];g=e.campaign;if(g==null||(g==null?void 0:g.id)==null)return a;var r=g.delight_asset;e=g.delight_styles;var s=g.id;if(e==null)return a;b[2]!==e?(g=m(e),b[2]=e,b[3]=g):g=b[3];e=g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return o(!1)},b[4]=g):g=b[4];g=g;var t;b[5]!==r||b[6]!==n||b[7]!==i?(t=function(){if(n||(r==null?void 0:r.id)==null)return;i({id:r.id});o(!0)},b[5]=r,b[6]=n,b[7]=i,b[8]=t):t=b[8];var u=t;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t={accessibilityRole:"button",link:null,preventDefault:!0},b[9]=t):t=b[9];t=t;var v;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1n2onr6"},b[10]=v):v=b[10];var w;b[11]!==s||b[12]!==r||b[13]!==u?(w=function(){l.onReady(function(a){return a.log(function(){return{campaign_id:s}})}),r!=null&&u()},b[11]=s,b[12]=r,b[13]=u,b[14]=w):w=b[14];var x,y;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){return q(!0)},x=function(){return q(!1)},b[15]=x,b[16]=y):(x=b[15],y=b[16]);b[17]!==a||b[18]!==e?(y=j.jsx("span",{onMouseEnter:y,onMouseLeave:x,style:e,children:a}),b[17]=a,b[18]=e,b[19]=y):y=b[19];b[20]!==y||b[21]!==w?(x=j.jsx(c("PressableText.react"),babelHelpers["extends"]({},t,{onPress:w,children:y})),b[20]=y,b[21]=w,b[22]=x):x=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(a={bottom:2,left:4,right:4,top:2},b[23]=a):a=b[23];b[24]!==p?(e=j.jsx(c("CometPressableOverlay.react"),{hovered:p,offset:a,radius:4}),b[24]=p,b[25]=e):e=b[25];b[26]!==x||b[27]!==e?(t=j.jsxs("span",babelHelpers["extends"]({},v,{children:[x,e]})),b[26]=x,b[27]=e,b[28]=t):t=b[28];b[29]!==h||b[30]!==n?(y=n&&h!=null&&j.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:h,props:{onRepeatEnd:g}}),b[29]=h,b[30]=n,b[31]=y):y=b[31];b[32]!==y?(w=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:y}),b[32]=y,b[33]=w):w=b[33];b[34]!==t||b[35]!==w?(a=j.jsxs(j.Fragment,{children:[t,w]}),b[34]=t,b[35]=w,b[36]=a):a=b[36];return a}e=function(a,b){return j.jsx(n,{entity:b,node:a})};f=e;g["default"]=f}),98);
__d("CometUFIReactionSentence_reactionDisplayConfig.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIReactionSentence_reactionDisplayConfig",selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_with_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_without_viewer",storageKey:null}],type:"ReactionDisplayConfig",abstractKey:null};e.exports=a}),null);
__d("CometUFIReactionSentence.react",["CometUFIReactionSentence_reactionDisplayConfig.graphql","RelayHooks","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2),f=a.reactionDisplayConfig;a=a.viewerReacted;f=d("RelayHooks").useFragment(h!==void 0?h:h=b("CometUFIReactionSentence_reactionDisplayConfig.graphql"),f);var g=f.reaction_display_strategy,i=f.reaction_string_with_viewer;f=f.reaction_string_without_viewer;if(g==null)throw c("unrecoverableViolation")("CometUFIReactionSentence: Reaction display strategy was unexpectedly null","ufi2");if(i==null||f==null)throw c("unrecoverableViolation")("CometUFIReactionSentence: Reaction string was unexpectedly null","ufi2");g=a?i:f;e[0]!==g?(a=j.jsx(j.Fragment,{children:g}),e[0]=g,e[1]=a):a=e[1];return a}g["default"]=a}),98);
__d("CometUFIReactionSentence_reactionDisplayConfig$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometUFIReactionSentence_reactionDisplayConfig$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_with_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_string_without_viewer",storageKey:null}]};e.exports=a}),null);
__d("CometUFIReactionsColors",[],(function(a,b,c,d,e,f){"use strict";b=(a={},a["444813342392137"]="var(--reaction-anger, #DD2334)",a["115940658764963"]="var(--reaction-haha, #887000)",a["1635855486666999"]="var(--reaction-like, #0866FF)",a["1678524932434102"]="var(--reaction-love, #DD2334)",a["908563459236466"]="var(--reaction-sorry, #887000)",a["613557422527858"]="var(--reaction-support, #887000)",a["478547315650144"]="var(--reaction-wow, #887000)",a);c=b;d="var(--secondary-text)";f.ReactionColors=c;f.ReactionColorCustom=d}),66);
__d("CometUFIStarsPickerCardRootForLexicalQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24378158845118892"}),null);
__d("CometVideoTimeIndexEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometVideoTimeIndexEntityRenderer_entity",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometVideoTimeIndexEntityRenderer",["CometLink.react","CometVideoTimeIndexEntityRenderer_entity.graphql","react","react-compiler-runtime","useCometUFIVideoPlayerStateAndController"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");h!==void 0?h:h=b("CometVideoTimeIndexEntityRenderer_entity.graphql");function k(a){var b=d("react-compiler-runtime").c(8),e=a.entity;a=a.node;var f=c("useCometUFIVideoPlayerStateAndController")();if(e.time_index==null||f==null)return a;var g;b[0]!==e.time_index||b[1]!==f?(g=function(){e.time_index!=null&&f.controller.seek(e.time_index)},b[0]=e.time_index,b[1]=f,b[2]=g):g=b[2];var h;b[3]!==a?(h=j.jsx("strong",{children:a}),b[3]=a,b[4]=h):h=b[4];b[5]!==g||b[6]!==h?(a=j.jsx(c("CometLink.react"),{onClick:g,ref:l,children:h}),b[5]=g,b[6]=h,b[7]=a):a=b[7];return a}function l(a){var b;b=null;a&&(a.onmousedown=function(){b=document.activeElement},a.onmouseup=function(){a.blur(),b&&b.focus()})}a=function(a,b){return j.jsx(k,{entity:b,node:a})};g["default"]=a}),98);
__d("DataAttributeUtils",["cr:6669","vulture"],(function(a,b,c,d,e,f){var g=[];function h(a,b){a=a;while(a){if(b(a))return a;a=a.parentNode}return null}function i(a,b){a=h(a,function(a){return a instanceof Element&&!!a.getAttribute(b)});return a instanceof Element?a:null}var j={LEGACY_CLICK_TRACKING_ATTRIBUTE:"data-ft",CLICK_TRACKING_DATASTORE_KEY:"data-ft",ENABLE_STORE_CLICK_TRACKING:"data-fte",IMPRESSION_TRACKING_CONFIG_ATTRIBUTE:"data-xt-vimp",IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY:"data-xt-vimp",REMOVE_LEGACY_TRACKING:"data-ftr",getDataAttribute:function(a,b){return k[b]?k[b](a):a.getAttribute(b)},setDataAttribute:function(a,c,d){b("vulture")("4Lu3FLmMjrQLLrcn2EWCQmlxy8I=");return l[c]?l[c](a,d):a.setAttribute(c,d)},getDataFt:function(a){if(a.getAttribute(j.ENABLE_STORE_CLICK_TRACKING)){var c=b("cr:6669").get(a,j.CLICK_TRACKING_DATASTORE_KEY);c||(c=j.moveClickTrackingToDataStore(a,a.getAttribute(j.REMOVE_LEGACY_TRACKING)));return c}return a.getAttribute(j.LEGACY_CLICK_TRACKING_ATTRIBUTE)},setDataFt:function(a,c){b("vulture")("udipsc6pHDBpYf1B82yT_X07kUQ=");if(a.getAttribute(j.ENABLE_STORE_CLICK_TRACKING)){b("cr:6669").set(a,j.CLICK_TRACKING_DATASTORE_KEY,c);return}a.setAttribute(j.LEGACY_CLICK_TRACKING_ATTRIBUTE,c)},moveXTVimp:function(a){j.moveAttributeToDataStore(a,j.IMPRESSION_TRACKING_CONFIG_ATTRIBUTE,j.IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY),g.push(a.id)},getXTrackableElements:function(){var a=g.map(function(a){return document.getElementById(a)}).filter(function(a){return!!a}),b=document.querySelectorAll("[data-xt-vimp]");for(var c=0;c<b.length;c++)a.push(b[c]);return a},getDataAttributeGeneric:function(a,c,d){d=b("cr:6669").get(a,d);return d!==void 0?d:a.getAttribute(c)},moveAttributeToDataStore:function(a,c,d){var e=a.getAttribute(c);e&&(b("cr:6669").set(a,d,e),a.removeAttribute(c))},moveClickTrackingToDataStore:function(a,c){var d=a.getAttribute(j.LEGACY_CLICK_TRACKING_ATTRIBUTE);d&&(b("cr:6669").set(a,j.CLICK_TRACKING_DATASTORE_KEY,d),c&&a.removeAttribute(j.LEGACY_CLICK_TRACKING_ATTRIBUTE));return d},getClickTrackingParent:function(a){a=i(a,j.LEGACY_CLICK_TRACKING_ATTRIBUTE)||i(a,j.ENABLE_STORE_CLICK_TRACKING);return a},getClickTrackingElements:function(a){b("vulture")("UD4mgJGkBuRrGcZUyC1Vmuz5VdU=");return a.querySelectorAll("["+j.LEGACY_CLICK_TRACKING_ATTRIBUTE+"], ["+j.ENABLE_STORE_CLICK_TRACKING+"]")},getParentByAttributeOrDataStoreKey:function(a,c,d){while(a&&(!a.getAttribute||!a.getAttribute(c))&&b("cr:6669").get(a,d)===void 0)a=a.parentNode;return a}},k={"data-ft":j.getDataFt,"data-xt-vimp":function(a){return j.getDataAttributeGeneric(a,"data-xt-vimp","data-xt-vimp")},"data-ad":function(a){return j.getDataAttributeGeneric(a,"data-ad","data-ad")},"data-xt":function(a){return j.getDataAttributeGeneric(a,"data-xt","data-xt")}},l={"data-ft":j.setDataFt,"data-xt":function(a,c){b("vulture")("1Ugsn9aTvy7Oqk3EO6sw5w69Kt0="),b("cr:6669").set(a,"data-xt",c)}};e.exports=j}),null);
__d("FeedbackReactionType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,LIKE:1,LOVE:2,WOW:3,HAHA:4,YAY:5,OUCH:6,SORRY:7,ANGER:8,JACKO:9,CONFUSED:10,DOROTHY:11,TOTO:12,SELFIE:13,FLAME:14,PLANE:15,SUPPORT:16,DYNAMIC:17,FIRE:18,HUNDRED:19,MESSENGER:20});f["default"]=a}),66);
__d("useGHLLinkProps",["GHLAriaLabelTracker","GHLGating","GHLMitigationsGating","Random","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useState,k="#";function l(a){var b="abcdefghijkl",d="";for(var e=0;e<a;e++)d+=b.charAt(Math.floor(c("Random").random()*(b.length-1)));return d}function a(a){var b=d("react-compiler-runtime").c(18),e=a.href,f=a.label,g=a.onFocus,h=a.onHoverStart;a=d("GHLMitigationsGating").getIsGHLShimRandomizePlaceholderEnabled()?"?"+l(3):"";a=j(k+a);var m=a[0],n=a[1];a=j("label");var o=a[0],p=a[1],q;b[0]!==f?(a=function(){if(d("GHLGating").getCometDeferDOMAriaLabel()===!1)return;var a=c("GHLAriaLabelTracker").onAdd(function(){p(f)});return a.dispose},q=[f],b[0]=f,b[1]=a,b[2]=q):(a=b[1],q=b[2]);i(a,q);b[3]!==g||b[4]!==e?(a=function(a){n(e),d("GHLGating").getCometDeferDOMAriaLabel()&&c("GHLAriaLabelTracker").set(),g!==void 0&&g(a)},b[3]=g,b[4]=e,b[5]=a):a=b[5];q=a;b[6]!==h||b[7]!==e?(a=function(a){if(a.x===0||a.clientY===0||a.pageX===0||a.screenY===0)return;n(e);h!==void 0&&h(a)},b[6]=h,b[7]=e,b[8]=a):a=b[8];a=a;var r=null;if(d("GHLGating").getCometDeferDOMAriaLabel()){var s;b[9]!==o?(s={label:o},b[9]=o,b[10]=s):s=b[10];r=s}else if(!d("GHLGating").getCometAriaLabelledBys()){b[11]!==f?(o={label:f},b[11]=f,b[12]=o):o=b[12];r=o}b[13]!==m||b[14]!==q||b[15]!==a||b[16]!==r?(s=babelHelpers["extends"]({href:m,onFocus:q,onHoverStart:a},r),b[13]=m,b[14]=q,b[15]=a,b[16]=r,b[17]=s):s=b[17];return s}function b(a){return a}f=d("GHLGating").getCometDeferDOMLink()?a:b;g["default"]=f}),98);
__d("GHLLink.react",["CometLink.react","GHLMitigationsGating","react","react-compiler-runtime","useGHLLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,h,j,k,l;b[0]!==a?(e=a.display,f=a.href,g=a.label,h=a.onFocus,j=a.onHoverStart,l=a.xstyle,k=babelHelpers.objectWithoutPropertiesLoose(a,["display","href","label","onFocus","onHoverStart","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7]);b[8]!==f||b[9]!==g||b[10]!==h||b[11]!==j?(a={href:f,label:g,onFocus:h,onHoverStart:j},b[8]=f,b[9]=g,b[10]=h,b[11]=j,b[12]=a):a=b[12];f=c("useGHLLinkProps")(a);b[13]!==e||b[14]!==f||b[15]!==k||b[16]!==l?(g=i.jsx(c("CometLink.react"),babelHelpers["extends"]({color_DEPRECATED:d("GHLMitigationsGating").getIsGHLShimRandomizePlaceholderEnabled()?"secondary":void 0,display_DEPRECATED:e,role:"link",xstyle_DEPRECATED:l},f,k)),b[13]=e,b[14]=f,b[15]=k,b[16]=l,b[17]=g):g=b[17];return g}g["default"]=a}),98);
__d("GHLLinkMitigations",["GHLMitigationsGating","cr:437","cr:5623","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");a=function(a){a=a;d("GHLMitigationsGating").getIsGHLEmptyAElementEnabled()&&b("cr:437")&&(a=i.jsx(b("cr:437"),{children:a}));d("GHLMitigationsGating").getIsGHLRandomElementWrapperForLinksEnabled()&&b("cr:5623")&&(a=i.jsx(b("cr:5623"),{elementTag:"randomSpan",children:a}));return a};g.createGHLLinkContent=a}),98);
__d("GroupsSeoEngagementEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4171");b=d("FalcoLoggerInternal").create("groups_seo_engagement_event",a);e=b;g["default"]=e}),98);
__d("HeartBannerFilled16.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",d:"M8 11.846c-.284-.003-4.52-2.91-4.5-5.482.025-1.342.843-2.548 2.487-2.517.987.017 1.577.544 2.013 1.166.436-.622 1.026-1.15 2.013-1.166 1.644-.03 2.476 1.174 2.487 2.517.02 2.572-4.216 5.479-4.5 5.482m6.875-10.083A1.704 1.704 0 0 0 13.378.242a59.8 59.8 0 0 0-10.754 0 1.705 1.705 0 0 0-1.499 1.52 88.192 88.192 0 0 0 0 9.376 2.424 2.424 0 0 0 1.242 1.904c.956.545 1.899 1.091 2.825 1.629l.178.102c.563.327 1.121.65 1.672.967a1.903 1.903 0 0 0 1.924 0l1.533-.886.32-.185c.924-.537 1.867-1.083 2.822-1.627.345-.192.64-.468.855-.798.214-.331.345-.708.379-1.105a88.05 88.05 0 0 0 0-9.376"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("PageGreenDotImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("166");b=d("FalcoLoggerInternal").create("page_green_dot_impression",a);e=b;g["default"]=e}),98);
__d("RadicalUfiFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2149");b=d("FalcoLoggerInternal").create("radical_ufi",a);e=b;g["default"]=e}),98);
__d("UFICommonInteractionEvents",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({COMET_UFI_COMMENT_REACTION:"CometUFICommentReaction",COMET_UFI_COMPOSER_KEYPRESS_LATENCY:"CometUFIComposerKeypressLatency",COMET_UFI_OPTIMISTIC_COMMENT:"CometUFIOptimisticComment",COMET_UFI_OPTIMISTIC_COMMENT_EDIT:"CometUFIOptimisticCommentEdit",COMET_UFI_PERSISTED_COMMENT:"CometUFIPersistedComment",COMET_UFI_PERSISTED_COMMENT_EDIT:"CometUFIPersistedCommentEdit",COMET_UFI_REPLY_COMMENTS_PAGINATION:"CometUFIReplyCommentsPagination",COMET_UFI_STORY_REACTION:"CometUFIStoryReaction",COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:"CometUFITopLevelCommentsPagination",UFI_COMMENT_REACTION:"UFICommentReaction",UFI_COMPOSER_INPUT_FOCUS:"UFIComposerInputFocus",UFI_COMPOSER_KEYPRESS_LATENCY:"UFIComposerKeypressLatency",UFI_OPTIMISTIC_COMMENT:"UFIOptimisticComment",UFI_PERSISTED_COMMENT:"UFIPersistedComment",UFI_SHARE_DIALOG_OPENS:"UFIShareDialogOpens",UFI_STORY_REACTION:"UFIStoryReaction",UFI_TOP_LEVEL_COMMENTS_PAGINATION:"UFITopLevelCommentsPagination",UFI2_COMMENT_REACTION:"UFI2CommentReaction",UFI2_COMPOSER_KEYPRESS_LATENCY:"UFI2ComposerKeypressLatency",UFI2_OPTIMISTIC_COMMENT:"UFI2OptimisticComment",UFI2_OPTIMISTIC_COMMENT_EDIT:"UFI2OptimisticCommentEdit",UFI2_PERSISTED_COMMENT:"UFI2PersistedComment",UFI2_PERSISTED_COMMENT_EDIT:"UFI2PersistedCommentEdit",UFI2_REPLY_COMMENTS_PAGINATION:"UFI2ReplyCommentsPagination",UFI2_SHARE_DIALOG_OPENS:"UFI2ShareDialogOpens",UFI2_STORY_REACTION:"UFI2StoryReaction",UFI2_TOP_LEVEL_COMMENTS_PAGINATION:"UFI2TopLevelCommentsPagination"});c=a;f["default"]=c}),66);
__d("UFICommonInteractionLogger",["QuickPerformanceLogger","UFICommonInteractionEvents","performanceAbsoluteNow","qpl","requestAnimationFrameAcrossTransitions","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=0;function l(){return c("uuidv4")()}function a(a,b){var d=(h||(h=c("performanceAbsoluteNow")))();b=(b=b)!=null?b:l();a=n(a);var e;if(a){var f=k++;e={event:a,markerKey:f};(i||(i=c("QuickPerformanceLogger"))).markerStart(a,f,d)}j.set(b,{qplInfo:e,startTimestamp:d});return b}function b(a){c("requestAnimationFrameAcrossTransitions")(function(){m(a)})}function m(a,b){var d=j.get(a);if(d){d=d.qplInfo;j["delete"](a);if(d){a=(h||(h=c("performanceAbsoluteNow")))();(i||(i=c("QuickPerformanceLogger"))).markerEnd(d.event,b===!0?3:2,d.markerKey,a)}}}function n(a){switch(a){case c("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT:return c("qpl")._(3735589,"1811");case c("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT:return c("qpl")._(3735591,"5737");case c("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:return c("qpl")._(3735590,"6043");case c("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:return c("qpl")._(3735592,"2960");case c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT:return c("qpl")._(3735618,"7148");case c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:return c("qpl")._(3735619,"7056");case c("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT:return c("qpl")._(3735593,"7493");case c("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT:return c("qpl")._(3735594,"1099");case c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT_EDIT:return c("qpl")._(3735626,"5992");case c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT:return c("qpl")._(3735627,"6752");case c("UFICommonInteractionEvents").UFI_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735595,"4690");case c("UFICommonInteractionEvents").UFI2_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735596,"3289");case c("UFICommonInteractionEvents").COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735620,"232");case c("UFICommonInteractionEvents").UFI2_REPLY_COMMENTS_PAGINATION:return c("qpl")._(3735597,"1585");case c("UFICommonInteractionEvents").COMET_UFI_REPLY_COMMENTS_PAGINATION:return c("qpl")._(3735622,"1891");case c("UFICommonInteractionEvents").UFI_SHARE_DIALOG_OPENS:return c("qpl")._(3735598,"7109");case c("UFICommonInteractionEvents").UFI2_SHARE_DIALOG_OPENS:return c("qpl")._(3735599,"1269");case c("UFICommonInteractionEvents").UFI_COMPOSER_INPUT_FOCUS:return c("qpl")._(3735600,"6153");case c("UFICommonInteractionEvents").UFI_STORY_REACTION:return c("qpl")._(3735601,"3455");case c("UFICommonInteractionEvents").UFI_COMMENT_REACTION:return c("qpl")._(3735604,"6177");case c("UFICommonInteractionEvents").UFI2_STORY_REACTION:return c("qpl")._(3735602,"4694");case c("UFICommonInteractionEvents").UFI2_COMMENT_REACTION:return c("qpl")._(3735603,"6895");case c("UFICommonInteractionEvents").COMET_UFI_STORY_REACTION:return c("qpl")._(3735623,"54");case c("UFICommonInteractionEvents").COMET_UFI_COMMENT_REACTION:return c("qpl")._(3735624,"702");case c("UFICommonInteractionEvents").UFI_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735605,"622");case c("UFICommonInteractionEvents").UFI2_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735606,"5054");case c("UFICommonInteractionEvents").COMET_UFI_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735625,"7813")}}g.makeTrackingID=l;g.startInteraction=a;g.endInteractionAtEndOfFrame=b;g.endInteraction=m}),98);
__d("getContextualParent",["ge"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);var d=!1;a=a;do{if(a instanceof Element){var e=a.getAttribute("data-ownerid");if(e){a=c("ge")(e);d=!0;continue}}a=a.parentNode}while(b&&a&&!d);return a}g["default"]=a}),98);
__d("collectDataAttributes",["DataAttributeUtils","getContextualParent"],(function(a,b,c,d,e,f){var g="normal";function a(a,c,d){var e={},f=[],h=c.length,i;for(i=0;i<h;++i)e[c[i]]={},f.push("data-"+c[i]);if(d){e[g]={};for(i=0;i<(d||[]).length;++i)f.push(d[i])}d={tn:"","tn-debug":","};a=a;while(a){if(a.getAttribute)for(i=0;i<f.length;++i){var j=f[i],k=b("DataAttributeUtils").getDataAttribute(a,j);if(k){if(i>=h){e[g][j]===void 0&&(e[g][j]=k);continue}j=JSON.parse(k);for(k in j)d[k]!==void 0?(e[c[i]][k]===void 0&&(e[c[i]][k]=[]),e[c[i]][k].push(j[k])):e[c[i]][k]===void 0&&(e[c[i]][k]=j[k])}}a=b("getContextualParent")(a)}for(k in e)for(j in d)e[k][j]!==void 0&&(e[k][j]=e[k][j].join(d[j]));return e}e.exports=a}),null);
__d("getReferrerURI",["ErrorGuard","URI","isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){if(a.PageTransitions&&a.PageTransitions.isInitialized())return a.PageTransitions.getReferrerURI();else{var b=(h||(h=c("ErrorGuard"))).applyWithGuard(function(a){return(i||(i=c("URI"))).tryParseURI(a)},null,[document.referrer]);return b&&c("isFacebookURI")(b)?b:null}}g["default"]=b}),98);
__d("graphQLEnumAdapter",["flipObject","keyMirror"],(function(a,b,c,d,e,f,g){function a(a){return{graphQL:c("keyMirror")(a),nameToValue:a,valueToName:c("flipObject")(a)}}g["default"]=a}),98);
__d("requestIdleCallback",["cr:7387"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:7387")}),98);
__d("useActorCometLiveRing_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};a=[a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"location"}],concreteType:"Video",kind:"LinkedField",name:"live_video_for_comet_live_ring",plural:!1,selections:[a],storageKey:null}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"location"}],kind:"Fragment",metadata:null,name:"useActorCometLiveRing_actor",selections:[{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Page",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}}();e.exports=a}),null);
__d("useUserCometLiveRing_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"location"}],kind:"Fragment",metadata:null,name:"useUserCometLiveRing_user",selections:[a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"location"}],concreteType:"Video",kind:"LinkedField",name:"live_video_for_comet_live_ring",plural:!1,selections:[a],storageKey:null}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("useUserCometLiveRing",["CometRelay","XCometVideoControllerRouteBuilder","react-compiler-runtime","useUserCometLiveRing_user.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useUserCometLiveRing_user.graphql"),a);var f=a.id;a=a.live_video_for_comet_live_ring;a=a==null?void 0:a.id;a=i(a,f,c);f=a.isLive;c=a.liveURL;a=a.passthroughProps;var g;e[0]!==f||e[1]!==c||e[2]!==a?(g={isLive:f,liveURL:c,passthroughProps:a},e[0]=f,e[1]=c,e[2]=a,e[3]=g):g=e[3];return g}function i(a,b,e){var f=d("react-compiler-runtime").c(9),g;f[0]!==b||f[1]!==a?(g=b==null||a==null?null:c("XCometVideoControllerRouteBuilder").buildURL({page_token:b,story_token:a}),f[0]=b,f[1]=a,f[2]=g):g=f[2];b=g;g=a!=null;f[3]!==e?(a={playerOriginOverride:e,playerSubOrigin:"live_ring"},f[3]=e,f[4]=a):a=f[4];e=a;f[5]!==g||f[6]!==b||f[7]!==e?(a={isLive:g,liveURL:b,passthroughProps:e},f[5]=g,f[6]=b,f[7]=e,f[8]=a):a=f[8];return a}g.useUserCometLiveRing=a;g.useCometLiveRing=i}),98);
__d("useActorCometLiveRing",["CometRelay","react-compiler-runtime","useActorCometLiveRing_actor.graphql","useUserCometLiveRing"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useActorCometLiveRing_actor.graphql"),a);var f=a.id;a=a.live_video_for_comet_live_ring;a=a==null?void 0:a.id;a=d("useUserCometLiveRing").useCometLiveRing(a,f,c);f=a.isLive;c=a.liveURL;a=a.passthroughProps;var g;e[0]!==f||e[1]!==c||e[2]!==a?(g={isLive:f,liveURL:c,passthroughProps:a},e[0]=f,e[1]=c,e[2]=a,e[3]=g):g=e[3];return g}g["default"]=a}),98);
__d("useCometFeedStoryMatchDebugger_iCometStorySection.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedStoryMatchDebugger_iCometStorySection",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"};e.exports=a}),null);
__d("useCometFeedStoryMatchDebugger",["CometFeedStoryMatchDebuggerDispatcherContext","CometRelay","react","react-compiler-runtime","useCometFeedStoryMatchDebugger_iCometStorySection.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext,k=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedStoryMatchDebugger_iCometStorySection.graphql"),a);var f=a.__typename,g=a.is_prod_eligible,i=j(c("CometFeedStoryMatchDebuggerDispatcherContext")),l;e[0]!==i||e[1]!==g||e[2]!==f?(a=function(){if(f!=null&&g===!1){i.add(f);return function(){i.remove(f)}}},l=[i,g,f],e[0]=i,e[1]=g,e[2]=f,e[3]=a,e[4]=l):(a=e[3],l=e[4]);k(a,l)}g["default"]=a}),98);
__d("useCometTrackingCodeForMutationProperties",["CometTrackingCodeContext","getReferrerURI","react","react-compiler-runtime","useMigrateURLParamsToRouteParams"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext;b.useMemo;function a(){var a=d("react-compiler-runtime").c(9),b=c("useMigrateURLParamsToRouteParams")();if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var e=c("getReferrerURI")();e=e?e.getPath():void 0;a[0]=e}else e=a[0];e=e;var f=i(c("CometTrackingCodeContext")),g=b.notif_id;b=b.notif_t;var h=null;if(g!=null){var j;a[1]!==g||a[2]!==b?(j=JSON.stringify({alert_id:g,notif_source:"notif_tab",notif_type:b}),a[1]=g,a[2]=b,a[3]=j):j=a[3];h=j}a[4]!==h||a[5]!==f.encrypted_tracking?(g=h!=null?[h].concat(f.encrypted_tracking):f.encrypted_tracking,a[4]=h,a[5]=f.encrypted_tracking,a[6]=g):g=a[6];b=g;a[7]!==b?(j={feedback_referrer:e,is_tracking_encrypted:!0,tracking:b},a[7]=b,a[8]=j):j=a[8];h=j;return h}g["default"]=a}),98);
__d("useCometUFIReactionUtils",["DynamicUFIReactionTypes","FeedbackReactionType","getJSEnumSafe","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b={},e=function(a){if(a!=null&&c("DynamicUFIReactionTypes").reactions[a])return babelHelpers["extends"]({accessibility_name:c("DynamicUFIReactionTypes").reactions[a].display_name},c("DynamicUFIReactionTypes").reactions[a]);a=a==null?null:b[a];if(a!=null){var d=a.accessibility_name,e=a.color,f=a.is_deprecated,g=a.localized_name;a=a.reaction_type;if(e==null||f==null||a==null||g==null||d==null)throw c("unrecoverableViolation")("some of reaction info data is null.","ufi2");return{accessibility_name:d,color:"#"+e.slice(2),display_name:g,is_deprecated:f,is_visible:!0,name:a.toString().toLowerCase(),type:(d=c("getJSEnumSafe")(c("FeedbackReactionType"),a))!=null?d:0}}return null};e=[e];a[0]=e}else e=a[0];return e}g["default"]=a}),98);
__d("useRadicalUFIClickInteractionLogging",["CometFeedUnitQueryVariablesContext","CometUFIModernCommentListContextProvider","GroupsSeoEngagementEventFalcoEvent","RadicalUfiFalcoEvent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=function(a,b,d){if(a==null||b==null)return;if(b!=="GROUP"&&b!=="GROUP_PERMALINK"&&b!=="DEDICATED_COMMENTING_SURFACE")return;if(d!=="pager"&&d!=="comment_see_more"&&d!=="comment_count")return;var e=d.toString();d==="pager"&&(e="comment_see_more_top_level");var f=b;b==="DEDICATED_COMMENTING_SURFACE"&&(f="GROUP_PERMALINK");c("GroupsSeoEngagementEventFalcoEvent").log(function(){return{event_type:e,feedback_id:a,location_name:f,timestamp:Math.floor(Date.now()/1e3).toString()}})};function a(a,b){var e=d("react-compiler-runtime").c(6),f=b.clickInteractionSource,g=b.feedLocation,h=(b=i(c("CometFeedUnitQueryVariablesContext")))==null?void 0:b.feedLocation;b=d("CometUFIModernCommentListContextProvider").useCometUFIModernCommentListContext();var k=b.topLevelFeedbackID;e[0]!==f||e[1]!==g||e[2]!==h||e[3]!==k||e[4]!==a?(b=function(b){var d,e=(d=g)!=null?d:h;j(k,e,f);c("RadicalUfiFalcoEvent")==null?void 0:c("RadicalUfiFalcoEvent").log(function(){return{click_interaction_source:f,event:"click_interaction",fb_feed_location_name:e}});a&&a(b)},e[0]=f,e[1]=g,e[2]=h,e[3]=k,e[4]=a,e[5]=b):b=e[5];return b}g["default"]=a}),98);
__d("useTrackingCodeFnForComet",["react","react-compiler-runtime","useCometTrackingCodeForMutationProperties"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometTrackingCodeForMutationProperties")(),e;a[0]!==b?(e=function(){return b},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MDSTextConfig",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},white:{color:"x14ctfv",$$css:!0}};b={disabledButton:{color:"x1x80s81",$$css:!0},primaryButton:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},secondaryButton:{color:"x1dem4cn",$$css:!0}};d={blueLink:{color:"x15k1xyk",$$css:!0},disabled:{color:"xc7hbz8",$$css:!0},highlight:{color:"x16uf79r",$$css:!0},negative:{color:"x1unwjcu",$$css:!0},positive:{color:"xxmynsg",$$css:!0},primary:{color:"xw2npq5",$$css:!0},primaryOnMedia:{color:"x8w7gz1",$$css:!0},secondary:{color:"xhgddhk",$$css:!0},secondaryOnMedia:{color:"xzutexd",$$css:!0},tertiary:{color:"xerl464",$$css:!0},white:{color:"xnba3h0",$$css:!0}};var h={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},"default":{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},i={"default":function(a){switch(a){case"body1":return[4,5];case"body2":return[3,5];case"body3":return[4,5];case"body4":return[3,4];case"bodyLink1":return[4,5];case"bodyLink2":return[3,5];case"bodyLink3":return[4,5];case"bodyLink4":return[3,4];case"button1":return[3,5];case"button2":return[4,5];case"entityHeaderHeadline1":return[7,8];case"entityHeaderHeadline2":return[5,7];case"entityHeaderMeta1":return[4,5];case"entityHeaderMeta2":return[4,5];case"entityHeaderMeta3":return[4,3];case"headline3":return[3,5];case"headline4":return[4,5];case"headlineDeemphasized3":return[3,5];case"headlineDeemphasized4":return[4,5];case"headlineEmphasized1":return[5,6];case"headlineEmphasized2":return[4,5];case"headlineEmphasized3":return[3,4];case"headlineEmphasized4":return[4,5];case"headlineEmphasized5":return[3,4];case"meta1":return[3,4];case"meta2":return[3,4];case"meta3":return[3,4];case"meta4":return[3,4]}},segoe:function(a){switch(a){case"body1":return[6,4,1];case"body2":return[5,3,1];case"body3":return[5,4];case"body4":return[4,3,1];case"bodyLink1":return[6,4,1];case"bodyLink2":return[5,3,1];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3,1];case"button1":return[5,3,1];case"button2":return[5,4];case"entityHeaderHeadline1":return[10,6,2];case"entityHeaderHeadline2":return[8,5,3];case"entityHeaderMeta1":return[5,4,1];case"entityHeaderMeta2":return[5,4,1];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3,1];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3,1];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[7,4,2];case"headlineEmphasized2":return[6,4,2];case"headlineEmphasized3":return[5,3,1];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[5,3,1];case"meta1":return[4,3,1];case"meta2":return[4,3,1];case"meta3":return[4,3,1];case"meta4":return[4,3]}},sfGecko:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[5,4];case"body4":return[4,3];case"bodyLink1":return[6,4];case"bodyLink2":return[4,3];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3];case"button1":return[4,3];case"button2":return[5,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[7,5];case"entityHeaderMeta1":return[5,4];case"entityHeaderMeta2":return[5,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[6,4];case"headlineEmphasized3":return[4,3];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[4,3]}},sfWebkit:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[4,4];case"body4":return[4,3];case"bodyLink1":return[5,5];case"bodyLink2":return[4,4];case"bodyLink3":return[4,4];case"bodyLink4":return[4,3];case"button1":return[4,4];case"button2":return[4,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[6,6];case"entityHeaderMeta1":return[4,4];case"entityHeaderMeta2":return[4,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[4,4];case"headline4":return[4,4];case"headlineDeemphasized3":return[4,4];case"headlineDeemphasized4":return[4,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[5,5];case"headlineEmphasized3":return[4,4];case"headlineEmphasized4":return[4,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[3,3]}}};e=function(){if(c("UserAgent").isPlatform("Windows >= 6"))return[h.segoe,i.segoe];return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?[h.apple,c("UserAgent").isEngine("Gecko")?i.sfGecko:i.sfWebkit]:[h["default"],i["default"]]}();f=e[0];e=e[1];var j={body1:{fontSize:"x1603h9y",fontWeight:"x1fcty0u",$$css:!0},body2:{fontSize:"x1lkfr7t",fontWeight:"x1fcty0u",$$css:!0},body2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1fcty0u",$$css:!0},body3:{fontSize:"x6prxxf",fontWeight:"x1fcty0u",$$css:!0},body3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1fcty0u",$$css:!0},body4:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},body4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},bodyLink1:{fontSize:"x1603h9y",fontWeight:"x1s688f",$$css:!0},bodyLink2:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},bodyLink2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},bodyLink3:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},bodyLink3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},bodyLink4:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},bodyLink4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},button1:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},button1ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},button2:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},button2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},entityHeaderHeadline1:{fontSize:"x579bpy",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderHeadline2:{fontSize:"x1q74xe4",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta3:{fontSize:"x1nxh6w3",fontWeight:"x1xlr1w8",$$css:!0},headline3:{fontSize:"x1lkfr7t",fontWeight:"xk50ysn",$$css:!0},headline3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"xk50ysn",$$css:!0},headline4:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},headline4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"xk50ysn",$$css:!0},headlineEmphasized1:{fontSize:"xngnso2",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized2:{fontSize:"x1603h9y",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized3:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},headlineEmphasized3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},headlineEmphasized5:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},meta1:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta1ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta2:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta2ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta3:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},meta3ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0}},k=c("gkx")("7347");b={colors:{blueLink:k?d.blueLink:a.blueLink,disabled:k?d.disabled:a.disabled,disabledButton:b.disabledButton,highlight:k?d.highlight:a.highlight,negative:k?d.negative:a.negative,positive:k?d.positive:a.positive,primary:k?d.primary:a.primary,primaryButton:b.primaryButton,primaryDeemphasizedButton:b.primaryDeemphasizedButton,primaryOnMedia:k?d.primaryOnMedia:void 0,secondary:k?d.secondary:a.secondary,secondaryButton:b.secondaryButton,secondaryOnMedia:k?d.secondaryOnMedia:a.secondaryOnMedia,tertiary:k?d.tertiary:a.tertiary,white:k?d.white:a.white},defaultFontFamily:f,offsets:e,styles:{body1:{lineHeight:24,style:j.body1},body2:{lineHeight:20,style:j.body2},body3:{lineHeight:19.9995,style:j.body3},body4:{lineHeight:16,style:j.body4},bodyLink1:{lineHeight:24,style:j.bodyLink1},bodyLink2:{lineHeight:20,style:j.bodyLink2},bodyLink3:{lineHeight:19.9995,style:j.bodyLink3},bodyLink4:{lineHeight:16,style:j.bodyLink4},button1:{lineHeight:20,style:j.button1},button2:{lineHeight:19.9995,style:j.button2},entityHeaderHeadline1:{lineHeight:38,style:j.entityHeaderHeadline1},entityHeaderHeadline2:{lineHeight:32,style:j.entityHeaderHeadline2},entityHeaderMeta1:{lineHeight:19,style:j.entityHeaderMeta1},entityHeaderMeta2:{lineHeight:19,style:j.entityHeaderMeta2},entityHeaderMeta3:{lineHeight:17,style:j.entityHeaderMeta3},headline3:{lineHeight:20,style:j.headline3},headline4:{lineHeight:19.9995,style:j.headline4},headlineEmphasized1:{lineHeight:28,style:j.headlineEmphasized1},headlineEmphasized2:{lineHeight:24,style:j.headlineEmphasized2},headlineEmphasized3:{lineHeight:20,style:j.headlineEmphasized3},headlineEmphasized4:{lineHeight:19.9995,style:j.headlineEmphasized4},headlineEmphasized5:{lineHeight:20,style:j.headlineEmphasized5},meta1:{lineHeight:16,style:j.meta1},meta2:{lineHeight:16,style:j.meta2},meta3:{lineHeight:16,style:j.meta3},meta4:{lineHeight:15,style:j.meta4}},stylesForDenseMode:{body2:{lineHeight:20,style:j.body2ForDenseMode},body3:{lineHeight:20,style:j.body3ForDenseMode},body4:{lineHeight:16,style:j.body4ForDenseMode},bodyLink2:{lineHeight:20,style:j.bodyLink2ForDenseMode},bodyLink3:{lineHeight:20,style:j.bodyLink3ForDenseMode},bodyLink4:{lineHeight:16,style:j.bodyLink4ForDenseMode},button1:{lineHeight:18,style:j.button1ForDenseMode},button2:{lineHeight:18,style:j.button2ForDenseMode},entityHeaderMeta1:{lineHeight:18,style:j.entityHeaderMeta1ForDenseMode},entityHeaderMeta2:{lineHeight:18,style:j.entityHeaderMeta2ForDenseMode},headline3:{lineHeight:20,style:j.headline3ForDenseMode},headline4:{lineHeight:20,style:j.headline4ForDenseMode},headlineEmphasized3:{lineHeight:20,style:j.headlineEmphasized3ForDenseMode},headlineEmphasized4:{lineHeight:20,style:j.headlineEmphasized4ForDenseMode},meta1:{lineHeight:14,style:j.meta1ForDenseMode},meta2:{lineHeight:14,style:j.meta2ForDenseMode},meta3:{lineHeight:14,style:j.meta3ForDenseMode},meta4:{lineHeight:15,style:j.meta4ForDenseMode}}};k=b;g["default"]=k}),98);
__d("useXPlatReactTranslationKeyForTextParent",["cr:2099"],(function(a,b,c,d,e,f,g){"use strict";function a(){}e=(d=b("cr:2099"))!=null?d:{useTranslationKeyForTextParent:a};var h=e.useTranslationKeyForTextParent;function c(){return h()}g["default"]=c}),98);
__d("MDSTextImpl.react",["BaseHeading.react","BaseText.react","BaseTextContext","CometDensityModeContext","JSResourceForInteraction","MDSTextConfig","react","useXPlatReactTranslationKeyForTextParent","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo;e=c("JSResourceForInteraction")("MDSTooltipImpl.react").__setRef("MDSTextImpl.react");var l=d("BaseText.react").createBaseTextComponent(c("MDSTextConfig"),e),m={heading:{maxWidth:"x193iq5w",minWidth:"xeuugli",$$css:!0},text:{whiteSpace:"xq9mrsl",$$css:!0}},n={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function o(a,b){return b?(b=n[a])!=null?b:a:a}var p=["entityHeaderMeta1","entityHeaderMeta2","meta1","meta2","meta3","meta4"];function a(a){var b=a.ref,e=a.align;e=e===void 0?"auto":e;var f=a.children,g=a.color,h=a.dir;h=h===void 0?"auto":h;var n=a.id,q=a.isPrimaryHeading;q=q===void 0?!1:q;var r=a.isSemanticHeading;r=r===void 0?!1:r;var s=a.numberOfLines,t=a.showTruncationTooltip;t=t===void 0?!0:t;var u=a.testid;u=a.truncationTooltip;var v=a.type;a=k(function(){return p.includes(v)?"secondary":"primary"},[v]);g=o((g=g)!=null?g:a,v==="button1"||v==="button2");a=c("useXPlatReactTranslationKeyForTextParent")();var w=d("BaseTextContext").useBaseTextContext(),x=j(c("CometDensityModeContext"));x=x[0];w=(w==null?void 0:w.nested)===!0;g=i.jsx(l,{alignment:(e=e)!=null?e:void 0,colorName:g,dir:w?void 0:h,id:n,isDenseModeEnabled:x,lines:s||0,ref:d("xplatToDOMRef").xplatToDOMRef(b),styleName:v,testid:void 0,truncationTooltip:t?{tooltip:(e=u)!=null?e:f}:void 0,xstyle:m.text,children:f},a);return r||q?i.jsx(c("BaseHeading.react"),{isPrimaryHeading:q,xstyle:m.heading,children:g}):g}a.displayName=a.name+" [from "+f.id+"]";a.displayName="MDSText";g["default"]=a}),98);
__d("MDSText.react",["MDSTextImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e||b[4]!==f?(a=i.jsx(c("MDSTextImpl.react"),babelHelpers["extends"]({ref:f},e)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MDSButtonImpl.react",["BaseStyledButton.react","BaseTheme.react","CometContainerPressableContext","FDSIcon.react","MDSText.react","emptyFunction","gkx","mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useRef,m={destructive:{backgroundColor:"xb4tp27",$$css:!0},disabled:{backgroundColor:"xwcfey6",$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},primaryDeemphasized:{backgroundColor:"x1hr4nm9",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",$$css:!0},secondaryDeemphasized:{backgroundColor:"x1f3278h",$$css:!0},secondaryDeemphasized_DEPRECATED:{backgroundColor:"xjbqb8w",$$css:!0},sizeLarge:{height:"xc9qbxq",$$css:!0},sizeMedium:{height:"x10w6t97",$$css:!0},sizeSmall:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x1fgtraw",$$css:!0}},n={dark:{"destructive-button-background":"rgba(235, 52, 52, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(155, 160, 168, 0.5)","primary-button-background":"#429AFF","secondary-button-background":"rgba(255, 255, 255, 0.19)"},light:{"destructive-button-background":"rgba(255, 41, 41, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(134, 142, 153, 0.5)","primary-button-background":"#0A7CFF","secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"},o={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"white",textColor:"white"},p={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"primary",textColor:"secondary"};function q(a){switch(a){case"secondary":return p;case"destructive":case"primary":default:return o}}function r(a,b){var c=b.disabled;b=b.reduceEmphasis;a=q(a);return(c?a[":disabled"]:null)||(b?a[":deemphasized"]:null)||a}function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var d=a.addOnStart,e=a.disabled;e=e===void 0?!1:e;var f=a.icon,g=a.isContainerTarget,h=g===void 0?!1:g;g=a.label;var o=a.labelIsHidden;o=o===void 0?!1:o;var p=a.linkProps,q=a.onFocusIn,s=a.onFocusOut,t=a.onHoverIn,u=a.onHoverOut,v=a.onPress,w=a.onPressIn,x=a.onPressOut,y=a.padding;y=y===void 0?"normal":y;var z=a.reduceEmphasis;z=z===void 0?!1:z;var A=a.size;A=A===void 0?32:A;var B=a.suppressHydrationWarning;B=B===void 0?!1:B;var C=a.testid;C=a.type;C=C===void 0?"primary":C;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnStart","disabled","icon","isContainerTarget","label","labelIsHidden","linkProps","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","padding","reduceEmphasis","size","suppressHydrationWarning","testid","type"]);var D=r(C,{disabled:e,reduceEmphasis:z}),E=D.iconColor;D=D.textColor;var F=l(null),G=l(null),H=j(c("CometContainerPressableContext"));k(function(){h&&H&&H.onMount({onContextMenu:c("emptyFunction"),onPress:function(a){a=F.current;a&&a.click()},target:p==null?void 0:p.target,url:p==null?void 0:p.url},G)},[H,h,p==null?void 0:p.url,p==null?void 0:p.target]);return i.jsx(c("BaseTheme.react"),{config:c("gkx")("7347")?void 0:n,style:{width:"100%"},children:i.jsx(c("BaseStyledButton.react"),babelHelpers["extends"]({},a,{addOnStart:d,"aria-label":(d=a["aria-label"])!=null?d:g,content:o?null:i.jsx(c("MDSText.react"),{color:D,numberOfLines:1,type:"button2",children:g}),contentXstyle:[A===28&&m.sizeSmall,A===32&&m.sizeMedium,A===36&&m.sizeLarge],disabled:e,icon:f==null?null:i.jsx(c("FDSIcon.react"),{color:E,icon:f,size:24}),linkProps:p,onFocusIn:q,onFocusOut:s,onHoverIn:t,onHoverOut:u,onPress:v,onPressIn:w,onPressOut:x,padding:y,ref:c("mergeRefs")(F,b),suppressHydrationWarning:B,testid:void 0,xstyle:[C==="primary"&&m.primary,C==="secondary"&&m.secondary,C==="destructive"&&m.destructive,C==="secondary"&&z?c("gkx")("7347")?m.secondaryDeemphasized:m.secondaryDeemphasized_DEPRECATED:null,C==="primary"&&z&&m.primaryDeemphasized,e&&m.disabled]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSButton.react",["MDSButtonImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(e=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e||b[4]!==f?(a=i.jsx(c("MDSButtonImpl.react"),babelHelpers["extends"]({ref:e},f)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},l={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},m={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},n={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(43),e,f,g,h,o,p,q,r,t,u,v,w;b[0]!==a?(h=a.ref,o=a.align,e=a.children,p=a.expanding,q=a.hasDividers,r=a.paddingHorizontal,f=a.paddingTop,t=a.paddingVertical,u=a.spacing,v=a.verticalAlign,w=a.xstyle,g=babelHelpers.objectWithoutPropertiesLoose(a,["ref","align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=o,b[6]=p,b[7]=q,b[8]=r,b[9]=t,b[10]=u,b[11]=v,b[12]=w):(e=b[1],f=b[2],g=b[3],h=b[4],o=b[5],p=b[6],q=b[7],r=b[8],t=b[9],u=b[10],v=b[11],w=b[12]);a=o===void 0?null:o;o=p===void 0?!1:p;p=q===void 0?!1:q;q=r===void 0?null:r;r=t===void 0?0:t;t=u===void 0?null:u;u=v===void 0?"top":v;v=j(c("MDSColumnContext"));var x;b[13]!==a||b[14]!==p||b[15]!==q||b[16]!==t?(x={align:a,hasDividers:p,paddingHorizontal:q,spacing:t},b[13]=a,b[14]=p,b[15]=q,b[16]=t,b[17]=x):x=b[17];a=x;p=a;b[18]!==o?(q=o===!0&&[k.expanding,c("isIE11OrGreater")&&k.expandingIE11],b[18]=o,b[19]=q):q=b[19];t=m[r];x=f!=null&&l[f];b[20]!==q||b[21]!==t||b[22]!==x||b[23]!==w?(a=[k.root,q,t,x,w],b[20]=q,b[21]=t,b[22]=x,b[23]=w,b[24]=a):a=b[24];r=u!=="top"&&n[u];b[25]!==r?(f=[k.inner,r],b[25]=r,b[26]=f):f=b[26];b[27]!==e?(q=s(e),b[27]=e,b[28]=q):q=b[28];b[29]!==p||b[30]!==q?(t=i.jsx(c("MDSColumnContext").Provider,{value:p,children:q}),b[29]=p,b[30]=q,b[31]=t):t=b[31];b[32]!==f||b[33]!==t?(x=i.jsx(c("BaseView.react"),{xstyle:f,children:t}),b[32]=f,b[33]=t,b[34]=x):x=b[34];b[35]!==g||b[36]!==h||b[37]!==a||b[38]!==x?(w=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},g,{ref:h,xstyle:a,children:x})),b[35]=g,b[36]=h,b[37]=a,b[38]=x,b[39]=w):w=b[39];u=w;if(v!=null){e=(r=o)!=null?r:void 0;b[40]!==u||b[41]!==e?(p=i.jsx(c("MDSColumnItem.react"),{expanding:e,children:u}),b[40]=u,b[41]=e,b[42]=p):p=b[42];return p}return u}e=a;var o={isFirst:!0,isLast:!1},p={isFirst:!1,isLast:!0},q={isFirst:!0,isLast:!0},r={isFirst:!1,isLast:!1};function s(a){return i.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?q:e?o:d?p:r;return i.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=e}),98);
__d("MDSPressable.react",["CometPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={hover:{backgroundColor:"x1yjz2vk",$$css:!0}};function k(a){switch(a){case"normal":return 6;case"50%":return"50%";case"compact":return 4;case"inherit":default:return void 0}}function a(a){var b=d("react-compiler-runtime").c(10),e,f,g;b[0]!==a?(f=a.overlayRadius,g=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["overlayRadius","ref"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);b[4]!==f?(a=k(f),b[4]=f,b[5]=a):a=b[5];b[6]!==e||b[7]!==g||b[8]!==a?(f=i.jsx(c("CometPressable.react"),babelHelpers["extends"]({overlayFocusVisibleStyle:j.hover,overlayHoveredStyle:j.hover,overlayRadius:a,ref:g},e)),b[6]=e,b[7]=g,b[8]=a,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9685249484907022"}),null);
__d("MessengerCreateVideoMeetupLinkMutation.graphql",["MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:c},params:{id:b("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"),metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["MessengerCreateVideoMeetupLinkMutation.graphql","Promise","cr:1012418","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,d,e){return new(i||(i=b("Promise")))(function(f,g){var i;b("cr:1012418").commitMutation(a,{mutation:h!==void 0?h:h=b("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(a){var b,c,d;b=a==null?void 0:(b=a.create_video_meetup_link)==null?void 0:(b=b.meetup_link)==null?void 0:b.is_audio_only;c=a==null?void 0:(c=a.create_video_meetup_link)==null?void 0:(c=c.meetup_link)==null?void 0:c.link_url;d=a==null?void 0:(d=a.create_video_meetup_link)==null?void 0:(d=d.meetup_link)==null?void 0:d.link_hash;a=a==null?void 0:(a=a.create_video_meetup_link)==null?void 0:(a=a.meetup_link)==null?void 0:a.id;return c!=null&&d!=null&&b!=null?f({isAudioOnly:b,linkHash:d,linkId:a,linkUrl:c}):g({error:"Failed to create linkurl."})},onError:function(a){g(a)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:e,link_options:{availability_settings_options:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?{join_permission:d==null?void 0:d.joinPermission,visibility_mode:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}:void 0,chat_mode:(i=d==null?void 0:d.chatMode)!=null?i:null,is_audio_only:(i=d==null?void 0:d.isAudioOnly)!=null?i:null,is_live_enabled:(i=d==null?void 0:d.isLiveEnabled)!=null?i:null,is_room_join_requestable:(i=d==null?void 0:d.joinRequestable)!=null?i:null,link_surface:(i=d==null?void 0:d.linkSurface)!=null?i:c("gkx")("20836")?"WORKPLACE":void 0,revocation_behavior:(i=d==null?void 0:d.revocationBehavior)!=null?i:null,should_allow_anonymous_guests:(i=d==null?void 0:d.allowAnonymousGuests)!=null?i:!0,supports_pages:(i=d==null?void 0:d.supportsPages)!=null?i:!1,supports_profile_plus:(i=d==null?void 0:d.supportsProfilePlus)!=null?i:!1,visibility_mode:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?void 0:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}}}})})}g["default"]=a}),98);
__d("RoomsLinkUtils",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("ConstUriUtils").getUri(a);var b=a==null?void 0:a.getDomain();a=a==null?void 0:(a=a.stripTrailingSlash())==null?void 0:a.getPath();if(a==null)return null;if(b==="msngr.com")return a.substring(1);var c=/^\/v(id)?\//;if(b==="m.me"&&c.test(a))return a.replace(c,"");b=/^\/groupcall\/LINK:/;return b.test(a)?a.replace(b,""):null}g.getRoomsLinkHash=a}),98);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1443591")}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0);b=a;g["default"]=b}),98);
__d("ZenonCallIdentifiersUtil",["Random"],(function(a,b,c,d,e,f,g){"use strict";function a(){return String(d("Random").uint32()+1)}g.generateZenonClientSessionID=a}),98);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonOpeningAnotherCallError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonConferenceNameMutationFailedError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonIncompleteControllerParamsError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonUnsupportedThreadTypeError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonCannotAcceptInviteError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.name="ZenonInviteNotFoundError",babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.name="ZenonUninitializedError",babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("randomZenonNonce",["Random"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i=6,j=36,k=2176782336;function a(){var a="";for(var b=0;b<h;b++){var c=Math.floor(d("Random").random()*k).toString(j);while(c.length<i)c="0"+c;a+=c}return a}g["default"]=a}),98);
__d("ZenonPreCallHookBuilderHelper",["ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","RoomsLinkUtils","VideoChatLinksUserActionsMultiplexLogger","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonCallWindowErrors","ZenonPeerID","ZenonSignalingProtocol","gkx","nullthrows","randomZenonNonce"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var e=a.callInviteModel;a=a.callWindowController;var f=e.getCurrentInvite();if(f===null)throw new(d("ZenonCallWindowErrors").InviteNotFoundError)();if(f.type!=="ringing"||f.context.type!=="thread")throw new(d("ZenonCallWindowErrors").CannotAcceptInviteError)();var g=c("randomZenonNonce")(),h=f.context.thread;a=a.initCall({context:{controllerParams:f.controllerParams,intent:"accept invite"},hideE2eeAttributions:b,isE2eeMandated:f.isE2eeMandated,joinContext:{thread:h!=null?h:{id:"0",type:2},type:"thread"},mediaType:f.requestingVideo?"video":"audio",nonce:g,representedID:f.receiverUserId});b=a[0];h=a[1];e.accept(g,{isPopupBlocked:b===null});await h}async function b(a,b,e,f,g,h){h===void 0&&(h={allowAnonymousGuests:!c("gkx")("20836")});if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();j(g,e,f).setEvent("meetup_attempt_create_meetup").log();try{a=await c("MessengerCreateVideoMeetupLinkMutation")(b,h,g);b=a.linkUrl;if(b!=null){j(g,e,f).setEvent("meetup_create_success").setVideoCallLinkURLRaw(b).log();return b}else j(g,e,f).setEvent("meetup_create_failed").log();return b}catch(a){j(g,e,f).setEvent("meetup_create_failed").log();j(g,e,f).setEvent("error").setErrorType("LinkCreationError "+a.name).setErrorDetails(a.description).log();throw a}}async function e(a){var b=a.actorID,e=a.callback_users,f=a.context,g=a.forceSkipChildLobby;g=g===void 0?!1:g;var j=a.funnelSessionID;j=j===void 0?null:j;var k=a.hasVideo;k=k===void 0?!0:k;var l=a.linkUrl,m=a.referrerContext;m=m===void 0?null:m;var n=a.skipLinkUrlRewrite;n=n===void 0?!1:n;var o=a.startCallImmediately;o=o===void 0?!1:o;a=a.trigger;if(f===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var p=f.callWindowController;f=f.incomingRingSDK;var q=c("randomZenonNonce")(),r=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),s=l;if(!n){n=(n=d("ConstUriUtils").getUri(l))==null?void 0:n.getQueryParam("funnel_session_id");l=h(l);s=i(l,o?q:null,e,n!=null?String(n):j,g,m,b,a,k)}if(s==null)return Promise.reject("An invalid URI was provided");l=p.initCall({context:{existingCall:null,intent:"start or join",invitees:[],signalingID:r},joinContext:{linkUrl:s,type:"link"},mediaType:"video",nonce:q,representedID:d("ZenonActorHooks").ZenonActor.getID()});o=l[0];e=l[1];f.startCallIntent(q,{callTrigger:(n=a)!=null?n:"meetup_join",isE2eeMandated:!1,isPopupBlocked:o===null,isVideo:k,peerID:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:r});await e}async function f(a,b){var e=b.existingCall,f=b.extra,g=b.hideE2eeAttributions,h=b.invitees,i=b.isE2eeMandated,j=b.mediaType,k=b.representedID,l=b.thread;b=b.trigger;if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var m=a.callWindowController;a=a.incomingRingSDK;var n=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),o=c("randomZenonNonce")();e=m.initCall({context:{existingCall:e,intent:"start or join",invitees:h,signalingID:n},extra:f,hideE2eeAttributions:g,isE2eeMandated:i,joinContext:{thread:l,type:"thread"},mediaType:j,nonce:o,representedID:(m=k)!=null?m:d("ZenonActorHooks").ZenonActor.getID()});h=e[0];f=e[1];a.startCallIntent(o,{callTrigger:b,isE2eeMandated:(g=i)!=null?g:!1,isPopupBlocked:h===null,isVideo:j==="video",peerID:l.type===1?l.id:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:n});await f}function h(a){var b=d("RoomsLinkUtils").getRoomsLinkHash(a);b==null&&c("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return b}function i(a,b,d,e,f,g,h,i,j){if(a==null)return"";a={call_context:"LINK:"+a,call_trigger:(a=i)!=null?a:"",has_video:j,users_to_ring:(i=d)!=null?i:[]};b!=null&&(a.nonce=b);e!=null&&(a.funnel_session_id=e);f===!0&&(a.auto_join=!0);g!=null&&(a.referrer_context=g);h!=null&&(a.av=h);return c("nullthrows")(c("XGroupCallControllerRouteBuilder").buildUri(a).getQualifiedUri()).toString()}function j(a,b,d){return new(c("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(b).setComponent(d)}g.acceptCall=a;g.createMeetup=b;g.joinMeetup=e;g.startCall=f}),98);
__d("useZenonCallInvite",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),c;b[0]!==a?(c=function(){return a?a.getCurrentInvite():null},b[0]=a,b[1]=c):c=b[1];c=j(c);var e=c[0],f=c[1],g;b[2]!==a?(c=function(){if(a){var b=a.addListener("callInvite",f);return function(){b.remove()}}else f(null)},g=[a],b[2]=a,b[3]=c,b[4]=g):(c=b[3],g=b[4]);i(c,g);return e}g["default"]=a}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","react-compiler-runtime","useZenonCallInvite"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");j.useCallback;var k=j.useContext,l=j.useDebugValue,m=j.useEffect,n=6e4;function a(a){function b(b){var c=d("react-compiler-runtime").c(3),e=k(a),f;c[0]!==e||c[1]!==b?(f=function(){return d("ZenonPreCallHookBuilderHelper").acceptCall(e,b)},c[0]=e,c[1]=b,c[2]=f):f=c[2];return f}return b}function e(a){function b(){var b=k(a);b=c("useZenonCallInvite")(b?b.callInviteModel:null);l(b);return b}return b}function f(a,b){return function(e,f,g){function h(){var h=d("react-compiler-runtime").c(6),i=k(a),j=e(),l=f(),m=g(),n=b(),o;h[0]!==i||h[1]!==j||h[2]!==l||h[3]!==m||h[4]!==n?(o=function(a){if(!c("gkx")("24231"))return;var b=a.existingCall,d=a.thread;if(!i||!i.incomingRingSDK.isCallSupported({threadType:d.type,type:"thread"}))m(a);else bb8:switch(d.type){case 1:c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[d.id]})));break bb8;case 15:if(d.secureOneToOneThreadPeerId==null)throw c("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[d.secureOneToOneThreadPeerId]})));break bb8;case 2:case 16:b===null||b.call_state==="NO_ONGOING_CALL"?j(a,function(b){c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:b})))}):c("gkx")("13856")?l(a,function(){c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[]})))}):c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[]})));break bb8;default:c("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",d.type)}},h[0]=i,h[1]=j,h[2]=l,h[3]=m,h[4]=n,h[5]=o):o=h[5];return o}return h}}function o(a,b){function c(){var c=d("react-compiler-runtime").c(4),e=k(a),f=b(),g,h;c[0]!==e||c[1]!==f?(g=function(){if(e&&f&&f.type==="ringing"){var a=window.setTimeout(function(){e.callInviteModel.decline("NoAnswerTimeout")},n);return function(){window.clearTimeout(a)}}},h=[e,f],c[0]=e,c[1]=f,c[2]=g,c[3]=h):(g=c[2],h=c[3]);m(g,h)}return c}function p(a){function e(){var e=d("react-compiler-runtime").c(2),f=k(a),g;e[0]!==f?(g=function(a){var e=a.existingCall,g=a.extra,i=a.hideE2eeAttributions,j=a.invitees,k=a.isE2eeMandated,l=a.mediaType,m=a.representedID,n=a.thread;a=a.trigger;return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve():d("ZenonPreCallHookBuilderHelper").startCall(f,{existingCall:e,extra:g,hideE2eeAttributions:i,invitees:j,isE2eeMandated:k,mediaType:l,representedID:m,thread:n,trigger:a})},e[0]=f,e[1]=g):g=e[1];return g}return e}function q(a){function e(){var e=d("react-compiler-runtime").c(3),f=k(a),g=d("CometRelay").useRelayEnvironment(),i;e[0]!==f||e[1]!==g?(i=function(a,e,i,j){return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve(null):d("ZenonPreCallHookBuilderHelper").createMeetup(f,g,a,e,i,j)},e[0]=f,e[1]=g,e[2]=i):i=e[2];return i}return e}function r(a){function e(){var e=d("react-compiler-runtime").c(2),f=k(a),g;e[0]!==f?(g=function(a,e){e=e===void 0?{}:e;if(!c("gkx")("24231"))return(h||(h=b("Promise"))).resolve();e=(e=e)!=null?e:{};var g=e.actorID,i=e.callbackUsers,j=e.mediaType,k=e.referrerContext,l=e.startCallImmediately;e=e.trigger;return d("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:g,callback_users:i,context:f,forceSkipChildLobby:!1,hasVideo:j!=null?j==="video":!0,linkUrl:a,referrerContext:k,startCallImmediately:l,trigger:e})},e[0]=f,e[1]=g):g=e[1];return g}return e}g.createAcceptCallCallbackHook=a;g.createCallInviteHook=e;g.createInviteAndStartCallCallbackHookFactory=f;g.createNoAnswerTimeoutHook=o;g.createStartCallCallbackHook=p;g.createCreateMeetupCallbackHook=q;g.createJoinMeetupCallbackHook=r}),98);
__d("RTWebPreCallHooks",["RTWebPreCallContext","ZenonPreCallHookBuilder"],(function(a,b,c,d,e,f,g){"use strict";e=(a=d("ZenonPreCallHookBuilder")).createAcceptCallCallbackHook(b=c("RTWebPreCallContext"));f=a.createCallInviteHook(b);d=a.createNoAnswerTimeoutHook(b,f);c=a.createStartCallCallbackHook(b);var h=a.createCreateMeetupCallbackHook(b),i=a.createJoinMeetupCallbackHook(b);a=a.createInviteAndStartCallCallbackHookFactory(b,c);g.useAcceptCallCallback=e;g.useCallInvite=f;g.useNoAnswerTimeout=d;g.useStartCallCallback=c;g.useCreateMeetupCallback=h;g.useJoinMeetupCallback=i;g.createInviteAndStartCallCallbackHook=a}),98);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallEndReason=function(a){this.$1.call_end_reason=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCameraEnabled=function(a){this.$1.camera_enabled=a;return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClientMonoTimeMs=function(a){this.$1.client_mono_time_ms=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDetails=function(a){this.$1.event_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setEventFireTimestamp=function(a){this.$1.event_fire_timestamp=a;return this};c.setEventFireTimestampOnClient=function(a){this.$1.event_fire_timestamp_on_client=a;return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setFalcoBatchSequence=function(a){this.$1.falco_batch_sequence=a;return this};c.setFunnelSessionIDRaw=function(a){this.$1.funnel_session_id_raw=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setGuestUserID=function(a){this.$1.guest_user_id=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setLocalCallID=function(a){this.$1.local_call_id=a;return this};c.setMediaDevices=function(a){this.$1.media_devices=a;return this};c.setMicrophoneEnabled=function(a){this.$1.microphone_enabled=a;return this};c.setOpenLinkFrom=function(a){this.$1.open_link_from=a;return this};c.setOpenLinkFromAppVersion=function(a){this.$1.open_link_from_app_version=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStatus=function(a){this.$1.status=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetedUserIds=function(a){this.$1.targeted_user_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setThreadSyncRoomData=function(a){this.$1.thread_sync_room_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkIdentifierRaw=function(a){this.$1.video_call_link_identifier_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};f["default"]=a}),66);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a,c){while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);if(h>=0)return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d);c=b("bs_caml_array").sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").sub(d,0,f));continue}}function h(a,b){var c=a.length;if(c===1)return a(b);else switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function a(a){var b=a.length;if(b===1)return a;else return function(b){return h(a,b)}}function i(a,b,c){var d=a.length;if(d===2)return a(b,c);else switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return i(a,b,c)}}function j(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return j(a,b,c,d)}}function k(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return k(a,b,c,d,e)}}function l(a,b,c,d,e,f){var h=a.length;if(h===5)return a(b,c,d,e,f);else switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function m(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return l(a,b,c,d,e,f)}}function n(a,b,c,d,e,f,h){var i=a.length;if(i===6)return a(b,c,d,e,f,h);else switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function o(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return n(a,b,c,d,e,f,g)}}function p(a,b,c,d,e,f,h,i){var j=a.length;if(j===7)return a(b,c,d,e,f,h,i);else switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function q(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return p(a,b,c,d,e,f,g,h)}}function r(a,b,c,d,e,f,h,i,j){var k=a.length;if(k===8)return a(b,c,d,e,f,h,i,j);else switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function s(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return r(a,b,c,d,e,f,g,h,i)}}f.app=g;f._1=h;f.__1=a;f._2=i;f.__2=c;f._3=j;f.__3=d;f._4=k;f.__4=e;f._5=l;f.__5=m;f._6=n;f.__6=o;f._7=p;f.__7=q;f._8=r;f.__8=s}),null);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(a!==void 0&&c(b("bs_caml_option").valFromOption(a)))return a}function a(a,c){return g(a,b("bs_curry").__1(c))}function h(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function c(a,c){return h(a,b("bs_curry").__1(c))}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);throw{RE_EXN_ID:"Not_found",Error:new Error()}}function i(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function e(a,c,d){return i(a,c,b("bs_curry").__1(d))}function j(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function k(a,c){return j(a,b("bs_curry").__1(c))}function l(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function m(a,c){return l(a,b("bs_curry").__1(c))}function n(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function o(a){return a!==void 0}function p(a){return a===void 0}function q(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function r(a,c,d){return q(a,c,b("bs_curry").__2(d))}function s(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}f.keepU=g;f.keep=a;f.forEachU=h;f.forEach=c;f.getExn=d;f.mapWithDefaultU=i;f.mapWithDefault=e;f.mapU=j;f.map=k;f.flatMapU=l;f.flatMap=m;f.getWithDefault=n;f.isSome=o;f.isNone=p;f.eqU=q;f.eq=r;f.cmpU=s;f.cmp=t}),null);
__d("useGroupCallBlockedUserWarningInterstitial",["I64","JSResourceForInteraction","MAWMiActMappingTableAPI","Promise","ReQL","WAJids","nullthrows","react","react-compiler-runtime","useBlockedUserInterstitial","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;var l=function(a,c,e){return c===!0?a.runInTransaction(function(a){return d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,d("WAJids").unsafeCoerceToChatJid(e+"@g.us"))},"readonly",void 0,void 0,f.id+":41"):(i||(i=b("Promise"))).resolve((j||(j=d("I64"))).of_string(e))};function m(a,b,e){return d("useBlockedUserInterstitial").getBlockedUserQuery(a,b,c("nullthrows")(e)).then(function(a){return a==null?[]:d("ReQL").toArrayAsync(a).then(function(a){return a})})}function a(){var a=d("react-compiler-runtime").c(6),b=(h||(h=c("useReStore")))(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWReceivedGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useGroupCallBlockedUserWarningInterstitial"),a[0]=e):e=a[0];e=c("useMWXLazyDialog")(e);var f=e[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useGroupCallBlockedUserWarningInterstitial"),a[1]=e):e=a[1];e=c("useMWXLazyDialog")(e);var g=e[0];a[2]!==b||a[3]!==g||a[4]!==f?(e=function(a){var d=a.callType,e=a.isE2eeMandated,h=a.onContinue,i=a.threadID,j=a.threadType;l(b,e,i).then(function(a){return a==null?h():m(b,a,c("nullthrows")(j)).then(function(b){if(b.length===0)return h();d==="start"?g({blockedUsers:b,onContinue:h,threadKey:a}):f({blockedUsers:b,onContinue:h,threadKey:a})})})},a[2]=b,a[3]=g,a[4]=f,a[5]=e):e=a[5];return e}g.fetchThreadKeyFromID=l;g.getBlockedUsers=m;g.useGroupCallBlockedUserWarningInterstitial=a}),98);/*FB_PKG_DELIM*/
__d("CometMessagingJewelDropdownOnboardingUpsellQuery.graphql",["CometMessagingJewelDropdownOnboardingUpsellQuery_facebookRelayOperation","CometMessagingJewelDropdownCMBlendedEntrpyointEnabled.relayprovider","CometMessagingJewelDropdownSplitPreloadedQuery.relayprovider","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"CometMessagingJewelDropdownOnboardingUpsellQuery",fragmentName:"MWEBJewelNewUserOnboardingVariantChooser_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},c={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eb_onboarding_upsells_dismissed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eb_onboarding_softblocks_dismissed",storageKey:null}]},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},g={alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},e],storageKey:null},h={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]},i=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[f,g,h],storageKey:null}],j={condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{"if":null,kind:"Defer",label:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapper_query",selections:i}]};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownOnboardingUpsellQuery",selections:[{args:null,kind:"FragmentSpread",name:"CometMessagingJewelDropdownContent_query"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_onboarding_softblocks",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBJewelWebOnlyOnboardingVariantChooser_viewer"}],storageKey:null},a,c],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometMessagingJewelDropdownCMBlendedEntrpyointEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"CometMessagingJewelDropdownOnboardingUpsellQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3nNEjf"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3nNEjf")'}],storageKey:null},e],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}]},{condition:"__relay_internal__pv__CometMessagingJewelDropdownCMBlendedEntrpyointEnabledrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null},e],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'},{alias:null,args:null,concreteType:"GroupsTab",kind:"LinkedField",name:"groups_tab",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"suggested_chats",plural:!0,selections:[e],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_onboarding_softblocks",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_onboarding_softblock_variant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_onboarding_final_hardblock",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_impression_log_has_run",storageKey:null}]}],storageKey:null},a,c],storageKey:null},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},e],storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},e,d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[f,{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEncryptedBackupsJewelNuxWrapper_query",fragmentName:"MWEBNewUserOnboardingThreadListUpsellWrapper_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!1,selections:[{"if":null,kind:"Defer",label:"MWEncryptedBackupsJewelNuxWrapper_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query",selections:[j,{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!0,selections:i}]}]},{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!0,selections:[j,{condition:"__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[g,h],storageKey:null}]}]}]}]},params:{id:b("CometMessagingJewelDropdownOnboardingUpsellQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelDropdownOnboardingUpsellQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometMessagingJewelDropdownCMBlendedEntrpyointEnabledrelayprovider:b("CometMessagingJewelDropdownCMBlendedEntrpyointEnabled.relayprovider"),__relay_internal__pv__CometMessagingJewelDropdownSplitPreloadedQueryrelayprovider:b("CometMessagingJewelDropdownSplitPreloadedQuery.relayprovider"),__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWEBJewelWebOnlyOnboardingVariantChooser_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBJewelWebOnlyOnboardingVariantChooser_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_onboarding_softblock_variant",storageKey:null},{args:null,kind:"FragmentSpread",name:"useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEBOnboardingDismissOnboardingUpsellsInRelay",["CometRelay","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.upsellsToDismiss;d("CometRelay").commitLocalUpdate(b,function(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][onboarding] A viewer record does not exist when dismissing softblocks.");return}switch(e){case"softblocks":a.setValue(!0,"is_eb_onboarding_softblocks_dismissed");break;case"all":a.setValue(!0,"is_eb_onboarding_upsells_dismissed");break}})}g.dismissOnboardingUpsellsInRelayStore=a}),98);
__d("useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23995441010092445"}),null);
__d("useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation.graphql",["useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation",selections:[{alias:null,args:null,concreteType:"XFBMwEbHardblockReleaseOptOutResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_hardblock_release_opt_out",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBJewelWebOnlyOnboardingVariantChooser_viewer"},{args:null,kind:"FragmentSpread",name:"MWEBNewUserOnboardingVariantInterstitialDialogChooser_viewer"},{args:null,kind:"FragmentSpread",name:"MWEBWebOnlyOnboardingThreadListQP_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation",selections:[{alias:null,args:null,concreteType:"XFBMwEbHardblockReleaseOptOutResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_hardblock_release_opt_out",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_onboarding_softblock_variant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_onboarding_final_hardblock",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_impression_log_has_run",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_new_user_onboarding_blocking_upsell_variant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation_facebookRelayOperation"),metadata:{},name:"useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation",operationKind:"mutation",text:null}};e.exports=a}),null);
__d("useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_onboarding_final_hardblock",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_impression_log_has_run",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useMWEBDismissUpsellsOptOutEBHardblockRelease",["CometRelay","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsRetrieveQplLoggingAnnotations","QPLUserFlow","RelayHooks","mwEBDismissPostDecisionUpsells.react","promiseDone","react","react-compiler-runtime","useAsyncReStore","useLabyrinthLogging","useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation.graphql","useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useEffect,l=e.useRef;function a(a){var e=d("react-compiler-runtime").c(20),f=a.onboardingType,g=a.source;a=a.viewer$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer.graphql"),a);var j=d("RelayHooks").useRelayEnvironment(),o=c("useAsyncReStore")(),p=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),q=p.startFlow;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=i!==void 0?i:i=b("useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation.graphql"),e[0]=p):p=e[0];p=d("RelayHooks").useMutation(p);var r=p[0],s=l(!1);p=(a==null?void 0:a.has_seen_eb_onboarding_final_hardblock)===!0;a=(a==null?void 0:a.hardblock_impression_log_has_run)===!0;var t=p&&!a;e[1]!==o||e[2]!==j||e[3]!==f||e[4]!==r||e[5]!==t||e[6]!==g||e[7]!==q?(a=function(){t&&s.current!==!0&&(s.current=!0,c("promiseDone")(o,function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:a,onFetch:function(a){var b=a.firstUpsellTime;a=a.hasUserOnboardedBefore;q({additionalAnnotations:{eb_session_identifier:b,has_user_onboarded_before:a,is_hardblock:"false",onboarding_type:f},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:g});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_HARDBLOCK_RELEASE")}})}),d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:j,upsellsToDismiss:"all"}),r({onCompleted:function(){c("promiseDone")(o,n),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{has_opted_out:!0},string:{setup_type:"device_only"}},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent})},onError:m,variables:{}}))},e[1]=o,e[2]=j,e[3]=f,e[4]=r,e[5]=t,e[6]=g,e[7]=q,e[8]=a):a=e[8];var u;e[9]!==o||e[10]!==j||e[11]!==f||e[12]!==r||e[13]!==p||e[14]!==t||e[15]!==g||e[16]!==q?(u=[p,r,j,o,q,f,t,g],e[9]=o,e[10]=j,e[11]=f,e[12]=r,e[13]=p,e[14]=t,e[15]=g,e[16]=q,e[17]=u):u=e[17];k(a,u);e[18]!==t?(p={shouldGetHardblockReleasedThisBrowsingSession:t},e[18]=t,e[19]=p):p=e[19];return p}function m(a){d("MWChatEncryptedBackupsLogging").endFailure({errorName:a.message,event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent})}function n(a){return c("mwEBDismissPostDecisionUpsells.react")(a)}g["default"]=a}),98);
__d("MWEBJewelWebOnlyOnboardingVariantChooser.react",["CometRelay","FBLogger","MWChatEncryptedBackupsQPLSource.enum","MWEBJewelWebOnlyOnboardingVariantChooser_viewer.graphql","MWEBOnboardingDismissOnboardingUpsellsInRelay","ReQL","ReQLSuspense","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useMWEBDismissUpsellsOptOutEBHardblockRelease","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEBJewelWebOnlyOnboardingSoftblock.react").__setRef("MWEBJewelWebOnlyOnboardingVariantChooser.react")),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEBJewelWebOnlyOnboardingHardblock.react").__setRef("MWEBJewelWebOnlyOnboardingVariantChooser.react"));function a(a){var e,g=d("react-compiler-runtime").c(8),j=a.children,o=a.dismissJewelSoftblock;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEBJewelWebOnlyOnboardingVariantChooser_viewer.graphql"),a);var p=(i||(i=c("useReStore")))(),q=d("CometRelay").useRelayEnvironment();e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(p.tables.encrypted_backups).map(n)},[p],f.id+":57"))!=null?e:!0;var r;g[0]!==a?(r={onboardingType:"WEB_ONLY_ONBOARDING",source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_HARDBLOCK,viewer$key:a},g[0]=a,g[1]=r):r=g[1];r=c("useMWEBDismissUpsellsOptOutEBHardblockRelease")(r);r=r.shouldGetHardblockReleasedThisBrowsingSession;if(!e||r)return j;switch(a==null?void 0:a.encrypted_backups_onboarding_softblock_variant){case"ONBOARDING_SOFTBLOCK_1":g[2]!==o||g[3]!==q?(e=k.jsx(l,{dismissJewelSoftblock:function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:q,upsellsToDismiss:"softblocks"}),o()}}),g[2]=o,g[3]=q,g[4]=e):e=g[4];return e;case"ONBOARDING_HARDBLOCK_1":g[5]!==o||g[6]!==q?(r=k.jsx(m,{dismissJewelSoftblock:function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:q,upsellsToDismiss:"softblocks"}),o()}}),g[5]=o,g[6]=q,g[7]=r):r=g[7];return r;default:c("FBLogger")("labyrinth_web").mustfix("[labyrinth][onboarding] Invalid jewel onboarding variant detected");o();return j}}function n(a){var b=a.backupId;a=a.isUserOptedOut;return a===!0||b!=null?!1:!0}g["default"]=a}),98);
__d("CometMessagingJewelDropdownOnboardingUpsell.react",["fbt","BaseMultiStepContainer.react","CometErrorBoundary.react","CometMessagingJewelDropdownContent.react","CometMessagingJewelDropdownOnboardingUpsellQuery.graphql","CometRelay","CometTopNavListDropdown.react","MWEBJewelWebOnlyOnboardingVariantChooser.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","cr:20044","react","react-compiler-runtime","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useState;function a(a){var e=d("react-compiler-runtime").c(13),f=a.props;a=a.queries;var g=f.onClose,j=a.ebUpsellContainerQueryRef;f=a.jewelUpsellQueryRef;var m=a.mwInboxTrayContainerQuery;a=c("useTopMostRouteCometEntityKey")();var n=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometMessagingJewelDropdownOnboardingUpsellQuery.graphql"),f);f=l(!0);var o=f[0],p=f[1];f=(a==null?void 0:a.entity_type)==="home"&&a.section==="community";a=d("MWEncryptedBackupsSharedState").useEBSharedStateEntryBoolean(c("MWEncryptedBackupsLocalStorageEntryEnum").EB_POST_DECISION_WEB_ONLY_ONBOARDING+":jewel_softblock");var q=a[0],r=a[1];a=l(q||n.viewer.is_eb_onboarding_upsells_dismissed===!0);var s=a[0];e[0]!==r?(q=function(){r()},e[0]=r,e[1]=q):q=e[1];var t=q;if(f)return null;a=!o||n.viewer.is_eb_onboarding_upsells_dismissed===!0||n.viewer.is_eb_onboarding_softblocks_dismissed===!0;var u=!a&&n.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells!=null,v=!a&&n.viewer.if_viewer_can_see_messenger_eb_onboarding_softblocks!=null;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Messenger"),e[2]=q):q=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1cvmir6"},e[3]=f):f=e[3];e[4]!==j||e[5]!==s||e[6]!==m||e[7]!==g||e[8]!==t||e[9]!==n||e[10]!==u||e[11]!==v?(o=k.jsx(c("CometTopNavListDropdown.react"),{label:q,name:"MWJewelDropdown",children:k.jsx("div",babelHelpers["extends"]({},f,{children:k.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){var e=k.jsx(c("CometMessagingJewelDropdownContent.react"),{ebUpsellContainerQueryRef:j,mwInboxTrayContainerQuery:m,onClose:g,pushPage:a,query:n});return b("cr:20044")!=null?s?e:k.jsx(b("cr:20044"),{onClose:g,onSkip:t}):u?k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:k.jsx(d("CometRelay").MatchContainer,{match:n.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,props:{children:e,dismissJewelSoftblock:function(){return p(!1)}}})}):v?k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:k.jsx(c("MWEBJewelWebOnlyOnboardingVariantChooser.react"),{dismissJewelSoftblock:function(){return p(!1)},viewer:n.viewer.if_viewer_can_see_messenger_eb_onboarding_softblocks,children:e})}):e}})}))}),e[4]=j,e[5]=s,e[6]=m,e[7]=g,e[8]=t,e[9]=n,e[10]=u,e[11]=v,e[12]=o):o=e[12];return o}g["default"]=a}),226);
__d("FBIconKeyFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M101.25 927.25a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m7.744-9.5h-1.587a.257.257 0 0 0-.18.074l-3.677 3.678a3.5 3.5 0 1 0 2.2 3.248c0-.521-.117-1.015-.322-1.46l.822-.793v-.747h.75l.751-.751-.001-1.249h1l.5-.5v-1.244a.256.256 0 0 0-.256-.256",transform:"translate(352 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M107.407 917.5h1.587c.26 0 .476.197.503.45l.003.056v1.244a.25.25 0 0 1-.048.147l-.025.03-.5.5a.25.25 0 0 1-.138.07l-.039.003H108l.001.998a.25.25 0 0 1-.047.147l-.026.03-.751.752a.25.25 0 0 1-.138.07L107 922h-.5v.497a.25.25 0 0 1-.05.15l-.026.03-.698.673c.18.443.274.916.274 1.4a3.75 3.75 0 1 1-2.684-3.594l.171.055 3.564-3.564a.508.508 0 0 1 .29-.143l.067-.004h1.586-1.587zm1.587.5h-1.589l-3.678 3.679a.25.25 0 0 1-.27.055 3.25 3.25 0 1 0 2.043 3.016c0-.471-.103-.93-.299-1.355a.25.25 0 0 1 .024-.25l.03-.034.745-.72v-.641a.25.25 0 0 1 .205-.246l.045-.004h.646l.605-.605-.001-1.145a.25.25 0 0 1 .205-.246l.045-.004h.896l.354-.354v-1.14l-.002-.004-.004-.002zm-7.744 6a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5zm0 .5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5zm5.75-3h-.104l-.073.073.177-.073z",transform:"translate(352 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWEBConnections7AndroidIcon.react",["ix","CometImageFromIXValue.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.alt,f=a.ref;a=a.xstyle;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h("398889"),b[0]=g):g=b[0];g=g;b[1]!==e||b[2]!==a?(f=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}g["default"]=a}),98);
__d("MWEBOnboardingAdvancedOptionsDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBOnboardingAdvancedOptionsDialog.react").__setRef("MWEBOnboardingAdvancedOptionsDialog.entrypoint")};g["default"]=a}),98);
__d("XFBMWEncryptedBackupsOnboardingTypeUtils.facebook",["$InternalEnumUtils","MWEncryptedBackupsOnboardingType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("MWEncryptedBackupsOnboardingType"));b=d("$InternalEnumUtils").createFromJSEnum(c("MWEncryptedBackupsOnboardingType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("useMWEBOnboardingLogHardblockImpressionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29601963959418772"}),null);
__d("useMWEBOnboardingLogHardblockImpressionMutation.graphql",["useMWEBOnboardingLogHardblockImpressionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XFBMwEbLogHardblockImpressionResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_log_hardblock_impression",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_release_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currently_on_final_hardblock",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMWEBOnboardingLogHardblockImpressionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMWEBOnboardingLogHardblockImpressionMutation",selections:c},params:{id:b("useMWEBOnboardingLogHardblockImpressionMutation_facebookRelayOperation"),metadata:{},name:"useMWEBOnboardingLogHardblockImpressionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBOnboardingLogHardblockImpressionMutationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_impression_log_has_run",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBOnboardingLogHardblockImpressionMutationQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBOnboardingLogHardblockImpressionMutationQuery",selections:[a]},params:{cacheID:"0ebe464d456f7e1cff7f2d3ecf5b0358",id:null,metadata:{},name:"useMWEBOnboardingLogHardblockImpressionMutationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBOnboardingLogHardblockImpressionMutation",["CometRelay","FBLogger","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","XFBMWEncryptedBackupsOnboardingTypeUtils.facebook","react","react-compiler-runtime","useMWEBOnboardingLogHardblockImpressionMutation.graphql","useMWEBOnboardingLogHardblockImpressionMutationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a){var e=d("react-compiler-runtime").c(8),f=d("CometRelay").useRelayEnvironment(),g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("useMWEBOnboardingLogHardblockImpressionMutation.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useMutation(g);var j=g[0],n;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=i!==void 0?i:i=b("useMWEBOnboardingLogHardblockImpressionMutationQuery.graphql"),n={},e[1]=g,e[2]=n):(g=e[1],n=e[2]);g=d("CometRelay").useClientQuery(g,n);var o=g.viewer;e[3]!==j||e[4]!==f||e[5]!==a||e[6]!==o.hardblock_impression_log_has_run?(n=function(){if(o.hardblock_impression_log_has_run===!0)return;var b=d("XFBMWEncryptedBackupsOnboardingTypeUtils.facebook").fromJSEnum(a);if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][web] Invalid onboarding type for hardblock impression logging");return}d("CometRelay").commitLocalUpdate(f,m);j({onCompleted:l,onError:k,variables:{input:{onboarding_type:b}}})},e[3]=j,e[4]=f,e[5]=a,e[6]=o.hardblock_impression_log_has_run,e[7]=n):n=e[7];return n}function k(a){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][web] Failed to log onboarding hardblock impression on web due to error: %s",a.message)}function l(a){((a=a.xfb_mw_eb_log_hardblock_impression)==null?void 0:a.currently_on_final_hardblock)===!0&&c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,{bool:{is_final_hardblock:!0}})}function m(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][upsells] A viewer record does not exist when updating Relay state hardblock_impression_log_has_run.");return}a.setValue(!0,"hardblock_impression_log_has_run")}g["default"]=a}),98);
__d("MWEBJewelBaseOnboardingHardblock.react",["BaseMultiStepContainer.react","CometRelay","CometTopNavListDropdownCard.react","CometTransientDialogProvider.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContextProvider.react","MWEBOnboardingAdvancedOptionsDialog.entrypoint","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXColumn.react","QPLUserFlow","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","requireDeferredForDisplay","useLabyrinthLogging","useMWEBOnboardingLogHardblockImpressionMutation","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEBOnboardingInsertPINJewelStep.react").__setRef("MWEBJewelBaseOnboardingHardblock.react")),m=c("deferredLoadComponent")(c("requireDeferred")("MWEBOnboardingConfirmPINJewelStep.react").__setRef("MWEBJewelBaseOnboardingHardblock.react"));function a(a){var b=d("react-compiler-runtime").c(16),e=a.confirmPinSubtitle,f=a.confirmPinTitle,g=a.dismissJewelSoftblock,i=a.insertPinSubtitle,n=a.insertPinTitle,o=a.onboardingType,p=d("CometRelay").useRelayEnvironment();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MWEBOnboardingAdvancedOptionsDialog.entrypoint"),a);var q=a[0],r=(h||(h=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var s=a.startFlow,t=c("useMWEBOnboardingLogHardblockImpressionMutation")(o);b[1]!==t||b[2]!==r||b[3]!==o||b[4]!==s?(a={onVisible:function(){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:r,onFetch:function(a){var b=a.firstUpsellTime;a=a.hasUserOnboardedBefore;s({additionalAnnotations:{eb_session_identifier:b,has_user_onboarded_before:a,is_hardblock:"true",onboarding_type:o},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_HARDBLOCK});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_PIN_INSERT_STEP_IMPRESSION")}}),t()}},b[1]=t,b[2]=r,b[3]=o,b[4]=s,b[5]=a):a=b[5];var u=c("useVisibilityObserver")(a);a=k(c("MWJewelPopoverDialogContext.react"));var v=a.setIsOpenForDialog;b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==p||b[10]!==i||b[11]!==n||b[12]!==u||b[13]!==v||b[14]!==q?(a=j.jsx(c("CometTopNavListDropdownCard.react"),{useFullHeight:!0,useMaxHeight:!0,children:j.jsx(c("MWXColumn.react"),{expanding:!0,children:j.jsx(c("MWEBFlowSourceContextProvider.react"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_HARDBLOCK,children:j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(c("BaseMultiStepContainer.react"),{expanding:!0,children:function(a){return j.jsx(c("MWXColumn.react"),{align:"center",expanding:!0,ref:u,children:j.jsx(l,{dismissJewelSoftblock:g,isChatTab:!1,isSoftblock:!1,onAdvancedOptions:function(){v(!0),q({source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_HARDBLOCK})},onNext:function(b){var c=b.enteredPinCode,h=b.setIsMismatchError;a(function(a){a=a.onReturn;return j.jsx(m,{enteredPinCode:c,isChatTab:!1,onComplete:function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:p,upsellsToDismiss:"all"}),g()},onReturn:a,setIsMismatchError:h,subtitle:e,title:f})})},subtitle:i,title:n})})}})})})})}),b[6]=e,b[7]=f,b[8]=g,b[9]=p,b[10]=i,b[11]=n,b[12]=u,b[13]=v,b[14]=q,b[15]=a):a=b[15];return a}g["default"]=a}),98);
__d("useMWEBJewelOnboardingSteps",["MWEBOnboardingAdvancedOptionsDialog.entrypoint","MWJewelPopoverDialogContext.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=c("deferredLoadComponent")(c("requireDeferred")("MWEBOnboardingInsertPINJewelStep.react").__setRef("useMWEBJewelOnboardingSteps")),l=c("deferredLoadComponent")(c("requireDeferred")("MWEBOnboardingConfirmPINJewelStep.react").__setRef("useMWEBJewelOnboardingSteps"));function a(a){var b=d("react-compiler-runtime").c(15),e=a.confirmPinSubtitle,f=a.confirmPinTitle,g=a.insertPinSubtitle,h=a.insertPinTitle,m=a.isSoftblock,n=a.onComplete,o=a.source;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MWEBOnboardingAdvancedOptionsDialog.entrypoint"),a);var p=a[0];a=j(c("MWJewelPopoverDialogContext.react"));var q=a.setIsOpenForDialog;b[1]!==e||b[2]!==f||b[3]!==n?(a=function(a){var b=a.enteredPinCode,c=a.pushPage,d=a.setIsMismatchError;c(function(a){a=a.onReturn;return i.jsx(l,{enteredPinCode:b,isChatTab:!1,onComplete:n,onReturn:a,setIsMismatchError:d,subtitle:e,title:f})})},b[1]=e,b[2]=f,b[3]=n,b[4]=a):a=b[4];var r=a;b[5]!==g||b[6]!==h||b[7]!==m||b[8]!==r||b[9]!==q||b[10]!==p||b[11]!==o?(a=function(a){return a(function(b){b=b.onReturn;return i.jsx(k,{isChatTab:!1,isSoftblock:m,onAdvancedOptions:function(){q(!0),p({source:o})},onNext:function(b){var c=b.enteredPinCode;b=b.setIsMismatchError;return r({enteredPinCode:c,pushPage:a,setIsMismatchError:b})},onReturn:b,subtitle:g,title:h})})},b[5]=g,b[6]=h,b[7]=m,b[8]=r,b[9]=q,b[10]=p,b[11]=o,b[12]=a):a=b[12];a=a;var s;b[13]!==a?(s={pushPinCodeCreateStep:a},b[13]=a,b[14]=s):s=b[14];return s}g["default"]=a}),98);
__d("MWEBJewelBaseOnboardingSoftblock.react",["fbt","BaseMultiStepContainer.react","CometRelay","CometTopNavListDropdownCard.react","CometTransientDialogProvider.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBFlowSourceContextProvider.react","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXLink.react","MWXText.react","QPLUserFlow","gkx","react","react-compiler-runtime","useLabyrinthLogging","useMWEBJewelOnboardingSteps","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("gkx")("23219");function a(a){var b=d("react-compiler-runtime").c(28),e=a.children,f=a.confirmPinSubtitle,g=a.confirmPinTitle,j=a.dismissJewelSoftblock,m=a.insertPinSubtitle,n=a.insertPinTitle,o=a.onboardingType,p=a.source,q=d("CometRelay").useRelayEnvironment();b[0]!==j||b[1]!==q?(a=function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:q,upsellsToDismiss:"all"}),j()},b[0]=j,b[1]=q,b[2]=a):a=b[2];var r;b[3]!==f||b[4]!==g||b[5]!==m||b[6]!==n||b[7]!==p||b[8]!==a?(r={confirmPinSubtitle:f,confirmPinTitle:g,insertPinSubtitle:m,insertPinTitle:n,isSoftblock:!0,onComplete:a,source:p},b[3]=f,b[4]=g,b[5]=m,b[6]=n,b[7]=p,b[8]=a,b[9]=r):r=b[9];f=c("useMWEBJewelOnboardingSteps")(r);var s=f.pushPinCodeCreateStep,t=(i||(i=c("useReStore")))();g=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var u=g.startFlow;b[10]!==t||b[11]!==o||b[12]!==p||b[13]!==u?(m={onVisible:function(){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:t,onFetch:function(a){var b=a.firstUpsellTime;a=a.hasUserOnboardedBefore;u({additionalAnnotations:{eb_session_identifier:b,has_user_onboarded_before:a,is_hardblock:"false",onboarding_type:o},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:p});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_USER_EDUCATION_STEP_IMPRESSION")}})}},b[10]=t,b[11]=o,b[12]=p,b[13]=u,b[14]=m):m=b[14];n=c("useVisibilityObserver")(m);b[15]!==j||b[16]!==p?(a=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_SKIP_CLICK"),d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"SOFTBLOCK_SKIP",event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:p}),j()},b[15]=j,b[16]=p,b[17]=a):a=b[17];var v=a;b[18]!==e||b[19]!==v||b[20]!==s?(r=k.jsx(c("CometTransientDialogProvider.react"),{children:k.jsx(c("BaseMultiStepContainer.react"),{expanding:!0,children:function(a){return k.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{size:"large",topItem:{align:"end",item:k.jsx(c("MWXText.react"),{color:"highlight",type:"button2",children:k.jsx(c("MWXLink.react"),{color_DEPRECATED:l?"primary":"highlight",display_DEPRECATED:"block",onClick:v,rel:"noreferrer",testid:void 0,children:h._(/*BTDS*/"Skip")})})},children:k.jsxs(c("MWXColumn.react"),{children:[k.jsx(c("MWXColumnItem.react"),{children:e}),k.jsx(c("MWXColumn.react"),{paddingVertical:16,children:k.jsx(c("MWXColumnItem.react"),{align:"stretch",paddingTop:4,verticalAlign:"bottom",children:k.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Create PIN"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_CREATE_PIN_CLICK"),s(a)},testid:void 0,type:"primary"})})})]})})}})}),b[18]=e,b[19]=v,b[20]=s,b[21]=r):r=b[21];b[22]!==p||b[23]!==r?(f=k.jsx(c("MWEBFlowSourceContextProvider.react"),{source:p,children:r}),b[22]=p,b[23]=r,b[24]=f):f=b[24];b[25]!==n||b[26]!==f?(g=k.jsx(c("CometTopNavListDropdownCard.react"),{useFullHeight:!0,useMaxHeight:!0,children:k.jsx(c("MWXColumn.react"),{expanding:!0,paddingHorizontal:16,paddingVertical:0,ref:n,children:f})}),b[25]=n,b[26]=f,b[27]=g):g=b[27];return g}g["default"]=a}),226);
__d("MWEBJewelWebOnlyOnboardingHardblock.react",["fbt","MWEBJewelBaseOnboardingHardblock.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.dismissJewelSoftblock;var e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"You'll now use a PIN to access your chat history on Facebook and Messenger."),f=h._(/*BTDS*/"Confirm your PIN"),b[0]=e,b[1]=f):(e=b[0],f=b[1]);var g,i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"You'll now use a PIN to access your chat history on Facebook and Messenger."),i=h._(/*BTDS*/"Create a PIN to access your chat history"),b[2]=g,b[3]=i):(g=b[2],i=b[3]);b[4]!==a?(e=j.jsx(c("MWEBJewelBaseOnboardingHardblock.react"),{confirmPinSubtitle:e,confirmPinTitle:f,dismissJewelSoftblock:a,insertPinSubtitle:g,insertPinTitle:i,onboardingType:"WEB_ONLY_ONBOARDING"}),b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),226);
__d("MWEBOnboardingUserEducationContentLayout.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23219");function a(a){var b=d("react-compiler-runtime").c(23),e=a.containerDialogHasOwnHeaderSpacing,f=a.content,g=a.icon,h=a.isDialog;a=a.title;e=e===void 0?!1:e;var l=h&&!e&&!j?24:0;e=h&&!e?8:0;var m;b[0]!==g||b[1]!==e?(m=i.jsx(c("MWXColumnItem.react"),{paddingTop:e,children:g}),b[0]=g,b[1]=e,b[2]=m):m=b[2];b[3]!==l||b[4]!==m?(g=i.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:l,children:m}),b[3]=l,b[4]=m,b[5]=g):g=b[5];e=h?16:void 0;l=h?void 0:20;m=h?void 0:4;b[6]!==a?(h=i.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a}),b[6]=a,b[7]=h):h=b[7];b[8]!==m||b[9]!==h?(a=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:4,paddingTop:m,children:h}),b[8]=m,b[9]=h,b[10]=a):a=b[10];b[11]!==a||b[12]!==e||b[13]!==l?(m=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:20,paddingTop:e,paddingVertical:l,children:a}),b[11]=a,b[12]=e,b[13]=l,b[14]=m):m=b[14];b[15]!==f?(h=f.map(k),b[15]=f,b[16]=h):h=b[16];b[17]!==h?(a=i.jsx(c("MWXColumnItem.react"),{align:"start",children:i.jsx(c("MWXColumn.react"),{align:"start",paddingVertical:16,spacing:8,children:h})}),b[17]=h,b[18]=a):a=b[18];b[19]!==m||b[20]!==a||b[21]!==g?(e=i.jsxs(i.Fragment,{children:[g,m,a]}),b[19]=m,b[20]=a,b[21]=g,b[22]=e):e=b[22];return e}function k(a,b){return i.jsx(c("MWXColumnItem.react"),{align:"start",children:a},b)}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconKey",["MWXSvgIcon","SVGIcon","cr:12470","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12470")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWEBWebOnlyOnboardingUserEducationContent.react",["fbt","MWEBOnboardingUserEducationContentLayout.react","MWXIconForListCell.react","MWXIconKey","MWXIconLock","MWXListCell.react","MWXTextPairing.react","cr:2060","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(20);a=a.isDialog;var f=a?"large":"medium",g;e[0]!==f?(g=j.jsx(c("MWXIconForListCell.react"),{hasBackground:!1,icon:c("MWXIconLock"),size:f}),e[0]=f,e[1]=g):g=e[1];e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Messages and calls will be secured with end-to-end encryption."),e[2]=f):f=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWXTextPairing.react"),{body:f,bodyColor:"secondary",headline:h._(/*BTDS*/"An extra layer of protection"),headlineColor:"primary",level:4}),e[3]=f):f=e[3];e[4]!==g?(f=j.jsx(c("MWXListCell.react"),{addOnStart:g,addOnStartVerticalAlign:"top",content:f},"1"),e[4]=g,e[5]=f):f=e[5];g=a?"large":"medium";var i;e[6]!==g?(i=j.jsx(c("MWXIconForListCell.react"),{hasBackground:!1,icon:c("MWXIconKey"),size:g}),e[6]=g,e[7]=i):i=e[7];e[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"You'll need a PIN to access your chat history moving forwards."),e[8]=g):g=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWXTextPairing.react"),{body:g,bodyColor:"secondary",headline:h._(/*BTDS*/"Access to chat history is changing"),headlineColor:"primary",level:4}),e[9]=g):g=e[9];e[10]!==i?(g=j.jsx(c("MWXListCell.react"),{addOnStart:i,addOnStartVerticalAlign:"top",content:g},"2"),e[10]=i,e[11]=g):g=e[11];e[12]!==g||e[13]!==f?(i=[f,g],e[12]=g,e[13]=f,e[14]=i):i=e[14];e[15]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(b("cr:2060"),{}),e[15]=g):g=e[15];e[16]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Messaging is getting a security upgrade"),e[16]=f):f=e[16];e[17]!==a||e[18]!==i?(g=j.jsx(c("MWEBOnboardingUserEducationContentLayout.react"),{content:i,icon:g,isDialog:a,title:f}),e[17]=a,e[18]=i,e[19]=g):g=e[19];return g}g["default"]=a}),226);
__d("useMWEBDeferWebOnlyOnboardingUpsellMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9570702476351051"}),null);
__d("useMWEBDeferWebOnlyOnboardingUpsellMutation.graphql",["useMWEBDeferWebOnlyOnboardingUpsellMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XFBMwEbDeferOnboardingSoftblockResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_defer_onboarding_softblock",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"defer_upsell_until",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBDeferWebOnlyOnboardingUpsellMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBDeferWebOnlyOnboardingUpsellMutation",selections:a},params:{id:b("useMWEBDeferWebOnlyOnboardingUpsellMutation_facebookRelayOperation"),metadata:{},name:"useMWEBDeferWebOnlyOnboardingUpsellMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBDeferWebOnlyOnboardingUpsellMutation",["CometRelay","FBLogger","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsLocalStorageEntryEnum","promiseDone","react-compiler-runtime","requireDeferred","useMWEBDeferWebOnlyOnboardingUpsellMutation.graphql","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWEBDeferWebOnlyOnboardingUpsellMutation");function a(){var a=d("react-compiler-runtime").c(5),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h!==void 0?h:h=b("useMWEBDeferWebOnlyOnboardingUpsellMutation.graphql"),a[0]=e):e=a[0];e=d("CometRelay").useMutation(e);var f=e[0],g=(i||(i=c("useReStore")))(),l=d("CometRelay").useRelayEnvironment();a[1]!==f||a[2]!==g||a[3]!==l?(e={deferUpsell:function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:l,upsellsToDismiss:"softblocks"});return f({onCompleted:function(a){var b=(a=a.xfb_mw_eb_defer_onboarding_softblock)==null?void 0:a.defer_upsell_until;if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][onboarding] Failed to store Onboarding softblock defer time locally. Mutation did not return a valid time");return}j.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:g,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").EB_ONBOARDING_DEFER_UPSELL_UNTIL_TIME,stateValue:b.toString()}))})},onError:k,variables:{}})}},a[1]=f,a[2]=g,a[3]=l,a[4]=e):e=a[4];return e}function k(a){a="[labyrinth][onboarding] Failed to defer Onboarding softblock due to: "+a.message;c("FBLogger")("labyrinth_web").mustfix(a)}g["default"]=a}),98);
__d("MWEBJewelWebOnlyOnboardingSoftblock.react",["fbt","MWChatEncryptedBackupsQPLSource.enum","MWEBJewelBaseOnboardingSoftblock.react","MWEBWebOnlyOnboardingUserEducationContent.react","react","react-compiler-runtime","useMWEBDeferWebOnlyOnboardingUpsellMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e=a.dismissJewelSoftblock;a=c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_SOFTBLOCK;var f=c("useMWEBDeferWebOnlyOnboardingUpsellMutation")(),g=f.deferUpsell;b[0]!==g||b[1]!==e?(f=function(){g(),e()},b[0]=g,b[1]=e,b[2]=f):f=b[2];f=f;var i,k;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Your PIN lets you restore chat history."),k=h._(/*BTDS*/"Confirm your PIN"),b[3]=i,b[4]=k):(i=b[3],k=b[4]);var l,m;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Your PIN lets you restore chat history."),m=h._(/*BTDS*/"Create your PIN"),b[5]=l,b[6]=m):(l=b[5],m=b[6]);var n;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWEBWebOnlyOnboardingUserEducationContent.react"),{isDialog:!1}),b[7]=n):n=b[7];b[8]!==f?(i=j.jsx(c("MWEBJewelBaseOnboardingSoftblock.react"),{confirmPinSubtitle:i,confirmPinTitle:k,dismissJewelSoftblock:f,insertPinSubtitle:l,insertPinTitle:m,onboardingType:"WEB_ONLY_ONBOARDING",source:a,children:n}),b[8]=f,b[9]=i):i=b[9];return i}g["default"]=a}),226);
__d("MWEBOnboardingInsertPINJewelStep.react",["fbt","FocusRegion.react","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBConnections4AndroidIcon.react","MWEBPinCodeSize","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconArrowLeft","MWXLink.react","MWXText.react","focusScopeQueries","gkx","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsNumericCode","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l="eb-onboarding-insert-pin-dialog-step";function a(a){var b=d("react-compiler-runtime").c(62),e=a.dismissJewelSoftblock,f=a.isChatTab,g=a.isSoftblock,i=a.onAdvancedOptions,m=a.onNext,n=a.onReturn,o=a.subtitle;a=a.title;var p=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_PIN_INSERT_STEP_IMPRESSION"),q=k(!1),r=q[0],s=q[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){s(!1)},b[0]=q):q=b[0];b[1]!==m?(q={clearInputOnComplete:!0,focusRegionId:l,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onChange:q,onComplete:function(a){m({enteredPinCode:a,setIsMismatchError:s})},type:"pin"},b[1]=m,b[2]=q):q=b[2];q=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(q);q=q[0];var t;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"More options"),b[3]=t):t=b[3];b[4]!==i?(t=j.jsx(c("MWXText.react"),{color:"highlight",type:"button2",children:j.jsx(c("MWXLink.react"),{onClick:i,rel:"noreferrer",testid:void 0,children:t})}),b[4]=i,b[5]=t):t=b[5];i=t;t=f?i:null;var u=f?"small":"large",v;b[6]!==n?(v=n!=null?{align:"start",item:j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconArrowLeft"),label:h._(/*BTDS*/"Back"),onPress:n,size:32})}:void 0,b[6]=n,b[7]=v):v=b[7];b[8]!==g||b[9]!==p?(n=g?d("xplatToDOMRef").xplatToDOMRef(p):void 0,b[8]=g,b[9]=p,b[10]=n):n=b[10];p=f?"small":"large";var w;b[11]!==p?(w=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWEBConnections4AndroidIcon.react"),{size:p})}),b[11]=p,b[12]=w):w=b[12];p=f?0:20;var x=f?0:20,y,z;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(y={className:"x78zum5 x141feeh"},z={className:"xpvyfi4 x3ajldb"},b[13]=y,b[14]=z):(y=b[13],z=b[14]);var A=f?0:20,B=f?0:8,C;b[15]!==a?(C=j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a}),b[15]=a,b[16]=C):C=b[16];b[17]!==A||b[18]!==B||b[19]!==C?(a=j.jsx("div",babelHelpers["extends"]({},y,{children:j.jsx("div",babelHelpers["extends"]({},z,{children:j.jsx(c("MWXColumnItem.react"),{expanding:!0,paddingHorizontal:A,paddingTop:B,verticalAlign:"bottom",children:C})}))})),b[17]=A,b[18]=B,b[19]=C,b[20]=a):a=b[20];b[21]!==p||b[22]!==x||b[23]!==a?(y=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:p,paddingTop:x,children:a}),b[21]=p,b[22]=x,b[23]=a,b[24]=y):y=b[24];z=f?0:16;A=f?0:12;b[25]!==o?(B=j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:o}),b[25]=o,b[26]=B):B=b[26];b[27]!==A||b[28]!==B?(C=j.jsx(c("MWXColumnItem.react"),{paddingVertical:A,children:B}),b[27]=A,b[28]=B,b[29]=C):C=b[29];b[30]!==z||b[31]!==C?(p=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:z,paddingTop:20,children:C}),b[30]=z,b[31]=C,b[32]=p):p=b[32];x=f?16:20;b[33]!==r?(a=r?h._(/*BTDS*/"That PIN doesn't match. Please try again."):void 0,b[33]=r,b[34]=a):a=b[34];o=f?"tiny":"small";A=f?"tiny":"small";b[35]!==q||b[36]!==A?(B=j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:l+"-input",children:j.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({testid:void 0},q,{inputSize:A}))}),b[35]=q,b[36]=A,b[37]=B):B=b[37];b[38]!==a||b[39]!==o||b[40]!==B?(z=j.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:a,inputSize:o,children:B}),b[38]=a,b[39]=o,b[40]=B,b[41]=z):z=b[41];b[42]!==x||b[43]!==z?(C=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:x,children:z}),b[42]=x,b[43]=z,b[44]=C):C=b[44];b[45]!==e||b[46]!==f||b[47]!==g||b[48]!==i?(r=f?null:j.jsxs(c("MWXColumn.react"),{paddingVertical:20,children:[j.jsx(c("MWXColumnItem.react"),{paddingTop:12,children:i}),!g&&c("gkx")("14609")&&e!=null&&j.jsx(c("MWXColumnItem.react"),{paddingTop:12,children:j.jsx(c("MWXText.react"),{color:"highlight",type:"button2",children:j.jsx(c("MWXLink.react"),{onClick:function(){e()},rel:"noreferrer",testid:void 0,children:h._(/*BTDS*/"[Debug] Skip")})})})]}),b[45]=e,b[46]=f,b[47]=g,b[48]=i,b[49]=r):r=b[49];b[50]!==w||b[51]!==y||b[52]!==p||b[53]!==C||b[54]!==r||b[55]!==n?(q=j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,ref:n,children:[w,y,p,C,r]}),b[50]=w,b[51]=y,b[52]=p,b[53]=C,b[54]=r,b[55]=n,b[56]=q):q=b[56];b[57]!==q||b[58]!==t||b[59]!==u||b[60]!==v?(A=j.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{bottomItem:t,size:u,topItem:v,children:q}),b[57]=q,b[58]=t,b[59]=u,b[60]=v,b[61]=A):A=b[61];return A}g["default"]=a}),226);
__d("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24072518349012251"}),null);
__d("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery.graphql",["MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_onboarding_upsells",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_onboarding_final_hardblock",storageKey:null},{args:null,documentName:"MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery",fragmentName:"MWEBWebOnlyOnboardingThreadListQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eb_onboarding_upsells_dismissed",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery",selections:[a]},params:{id:b("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery_facebookRelayOperation"),metadata:{},name:"MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWEncryptedBackupsQPPlaceholder.react",["MWXColumn.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23433"),k={actionButtonGlimmerComet:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xc9qbxq",$$css:!0},actionButtonGlimmerMsgr:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"x10w6t97",$$css:!0},logoGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xxk0z11",width:"xvy4d1p",$$css:!0},root:{backgroundColor:"xlhe6ec",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderEndStyle:"xu3j5b3",borderEndWidth:"xcfux6l",borderStartStyle:"x26u7qi",borderStartWidth:"xm0m39n",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",boxShadow:"xjf5wm9",boxSizing:"x9f619",minWidth:"xeuugli",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",zIndex:"x1ja2u2z",$$css:!0},textGlimmer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"x1qx5ct2",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={0:{className:"xlhe6ec x1q0q8m5 x1qhh985 xu3j5b3 xcfux6l x26u7qi xm0m39n x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 x972fbf xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x150jy0e x1e558r4 x1ja2u2z x14vqqas xq8finb xod5an3 x16n37ib x1l90r2v xyamay9"},1:{className:"xlhe6ec x1q0q8m5 x1qhh985 xu3j5b3 xcfux6l x26u7qi xm0m39n x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 x972fbf xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x150jy0e x1e558r4 x1ja2u2z xw7yly9 xktsk01 x1yztbdb x1d52u69 x2lwn1j xsag5q8 xz9dl7a"}}[!!j<<0],a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("MWXRow.react"),{spacingVertical:0,verticalAlign:"center",children:[e,i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",babelHelpers["extends"]({className:"x1r2n8qu xwib8y2"},{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})}))})}),a[3]=f):f=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsxs(c("MWXColumn.react"),{spacing:8,style:k.root,children:[e,f,i.jsx(c("MWXRow.react"),{direction:"forward",wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j?k.actionButtonGlimmerMsgr:k.actionButtonGlimmerComet})})})]})})),a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapper.react",["CometPlaceholder.react","CometRelay","MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery.graphql","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsQPPlaceholder.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useState;function a(a){var e=d("react-compiler-runtime").c(11),g=a.children;a=a.source;var j=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery.graphql"),{});j=j.viewer;var n=j.if_viewer_can_see_messenger_eb_onboarding_upsells;j=j.is_eb_onboarding_upsells_dismissed;var o=(i||(i=c("useReStore")))(),p=l(!1),q=p[0],r=p[1];e[0]!==o.tables.experiences_shared_state?(p=function(){return d("ReQL").fromTableAscending(o.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").EB_ONBOARDING_QP_DISMISSED).map(m)},e[0]=o.tables.experiences_shared_state,e[1]=p):p=e[1];var s;e[2]!==o?(s=[o],e[2]=o,e[3]=s):s=e[3];p=d("ReQLSuspense").useFirst(p,s,f.id+":60");s=(n==null?void 0:n.has_seen_eb_onboarding_final_hardblock)===!0;if(q||p===!0||n==null||j===!0||s)return g;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(q=k.jsx(c("MWEncryptedBackupsQPPlaceholder.react"),{}),e[4]=q):q=e[4];p=q;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){r(!0)},e[5]=j):j=e[5];e[6]!==a?(s={onDismissQP:j,source:a},e[6]=a,e[7]=s):s=e[7];e[8]!==n||e[9]!==s?(g=k.jsx(c("CometPlaceholder.react"),{fallback:p,name:"MWEBWebOnboardingThreadListQPLazyLoadedWrapper",children:k.jsx(d("CometRelay").MatchContainer,{match:n,props:s})}),e[8]=n,e[9]=s,e[10]=g):g=e[10];return g}function m(a){return a!=null}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBWorkerEBDBApi",["EBDB","EBDBApi","EBLS","WALogger","WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error on EBDB init in Worker: ",""]);h=function(){return a};return a}var i=new(d("WAResolvable").Resolvable)(),j=new(d("WAResolvable").Resolvable)();async function a(){var a=await d("EBLS").getLSStorage();try{await j.promise,await d("EBDBApi").startListeningDeviceRegistrations(a,d("EBDB").getEBDB(),d("EBDB").StateHistoryEnvironment.Worker)}catch(a){d("WALogger").ERROR(h(),a)}finally{i.resolve(a)}}async function b(a){var b=await i.promise;await j.promise;await d("EBDBApi").addNewDevice(b,d("EBDB").getEBDB(),d("EBDB").StateHistoryEnvironment.Worker,a)}async function c(a,b,c,e){try{await d("EBDB").makeEBDB(a,b,c,d("EBDB").StateHistoryEnvironment.Worker,e),j.resolve()}catch(a){j.reject(a)}}async function e(a){var b=await i.promise;await j.promise;void d("EBDBApi").trackConsistency(b,d("EBDB").StateHistoryEnvironment.Worker,a);return d("EBDBApi").getDeviceId()}function f(a){return d("EBDBApi").flushEBSMtoEBDB(j.promise.then(function(){return d("EBDB").getEBDB()}),a)}function k(a){return d("EBDBApi").rehydrateEBSMFromEBDB(j.promise.then(function(){return d("EBDB").getEBDB()}),a)}g.startListeningEBDeviceRegistrations=a;g.addNewDevice=b;g.initEBDB=c;g.trackConsistency=e;g.flushEBSMtoEBDB=f;g.rehydrateEBSMFromEBDB=k}),98);
__d("EncryptedBackupsDYIHandleMessageRestore",["EncryptedBackupsDYISingleton","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Issuing next range query for thread with thread key ",", server generated next reference timestamp: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["nextTimestampMs was not supplied for thread with thread key ","."]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["handling message range query for thread with thread key ",", hasMoreBefore: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread key for thread id: ",""]);l=function(){return a};return a}async function a(a,b,c,e,f,g,n){var o=d("EncryptedBackupsDYISingleton").getSingleton(),p=o.getLogger();o=o.getThreadKeyForThreadId(b);if(o==null){p.WARN(l(),b);return}void p.LOG(k(),b,e);c.length>0&&await g(o,b,c);if(!e||f==null){e&&f==null&&void p.ERROR(j(),b);m(o);return}g=(h||(h=d("I64"))).to_string(f);void p.LOG(i(),b,g);void n(a,g,b)}function m(a){var b=d("EncryptedBackupsDYISingleton").getSingleton();b.deleteThreadKeyFromThreadsRestoreInProgress(a)}g.handleMessageRangeQueryRestore=a}),98);
__d("LsDataTraceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743851");b=d("FalcoLoggerInternal").create("ls_data_trace",a);e=b;g["default"]=e}),98);
__d("LSDataTraceFlush",["ArmadilloDataTraceType","I64","LSDataTraceType","LSIntEnum","LsDataTraceFalcoEvent","ODS","ReQL","clearTimeout","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("I64"))).of_string("120000"),l=h.of_string("600000"),m=new Set(["encrypted_backups_upload","encrypted_backups_media_backup"]);function n(a,b,c){var e=a.length;if(e===0)return[(h||(h=d("I64"))).neg_one,h.neg_one,void 0,void 0,void 0];e=a.find(function(a){return a.errorMessage!=null});e=e==null?void 0:e.errorMessage;a=a[a.length-1|0];var f=(h||(h=d("I64"))).of_float(Date.now()),g=a.timestampMs,i=h.compare(h.sub(f,c),k)>=0;return!b&&i?[(h||(h=d("I64"))).sub(f,c),a.checkPointId,g,e,"trace expired"]:[h.sub(g,c),a.checkPointId,g,e,e]}function o(a){return a.reduce(function(a,b,c){var e,f=(h||(h=d("I64"))).to_string(b.checkPointId),g=b.timestampMs;e=h.to_string((e=b.syncChannel)!=null?e:(h||(h=d("I64"))).neg_one);b=b.tags;b=b!=null?","+b:"";if(c===0)a.pointsList="".concat("(",f,",",e,b,")");else{c=String((h||(h=d("I64"))).to_int32(h.sub(g,a.lastCheckPointTimestamp)));a.pointsList=a.pointsList.concat("-",c,"-(",f,",",e,b,")")}a.lastCheckPointTimestamp=g;return a},{lastCheckPointTimestamp:(h||(h=d("I64"))).zero,pointsList:""}).pointsList}var p=h.of_string("2");function q(a){var b=a.traceType;b=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK))?"send":(h||(h=d("I64"))).equal(b,d("ArmadilloDataTraceType").armadilloMessageSend)?"armadillo send":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_UPLOAD))?"encrypted_backups_upload":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE))?"encrypted_backups_restore":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_BACKUP))?"encrypted_backups_media_backup":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_LOGIN))?"sap_vesta_login":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_REGISTRATION))?"sap_vesta_registration":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_RESTORE))?"encrypted_backups_media_restore":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_INIT))?"shadow_encrypted_backups_init":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE))?"shadow_encrypted_backups_add_device":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_UPLOAD))?"shadow_encrypted_backups_upload":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_RESTORE))?"shadow_encrypted_backups_restore":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP))?"shadow_encrypted_backups_delete_backup":a.contextTwo;return b}function r(a,b){var e=b.traceId,f=b.shouldFlush,g=q(b),i=b.traceType,j=(h||(h=d("I64"))).equal(i,d("ArmadilloDataTraceType").armadilloMessageSend)?"tam_message_send":b.contextOne,k=(h||(h=d("I64"))).equal(b.traceType,p)?void 0:b.predefinedId,l=b.initTimestampMs;return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_addon.index("traceIdAddonId")).getKeyRange(e)).then(function(a){var b=n(a,f,l),i=b[0],m=b[1],p=b[3],q=b[4],r=a.length,s=o(a);c("LsDataTraceFalcoEvent").log(function(){var a;return{check_point_count:(h||(h=d("I64"))).to_string(h.of_int32(r)),check_point_list:s,client_event_ts:h.to_string(h.of_float(Date.now())),cold_start_time:void 0,data_trace_id:e,database_id:j,delivered_messages:void 0,error_message:q,first_error_message:p,has_backgrounded:!1,last_check_point:h.to_string(m),latency:h.to_string(i),media_type:void 0,num_of_attachments:void 0,persisted_metadata:void 0,predefined_id:k,sent_rich_media_messages:void 0,sent_text_messages:void 0,start_time:h.to_string(l),trace_flow:(a=g)!=null?a:""}})}).then(function(){return a.data_trace_meta.delete(e)})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.data_trace_meta).getKeyRange(b)).then(function(b){if(b!=null)return r(a,b);else return Promise.resolve()})}var s={contents:void 0};function t(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta.index("shouldFlushInitTimestampMsTraceId")).getKeyRange(!1).bounds({lt:d("ReQL").key((h||(h=d("I64"))).sub(h.of_float(Date.now()),k))})).then(function(a){if(c("gkx")("23914")){var b=(h||(h=d("I64"))).of_float(Date.now());return a.filter(function(a){var c=q(a);if(c!=null&&m.has(c)){c=(h||(h=d("I64"))).compare(h.sub(b,a.initTimestampMs),l)>=0;return c}return!0})}return a})}async function u(a){var b=await t(a.tables);if(b.length===0)return;return a.runInTransaction(function(a){return t(a).then(function(b){return Promise.all(b.map(function(b){return r(a,b)}))})},"readwrite",void 0,void 0,f.id+":312")}function v(){var a=s.contents;if(a!=null){c("clearTimeout")(a);return}}function w(a){c("promiseDone")(u(a),function(){v();var b=c("setTimeout")(function(){w(a)},6e4);s.contents=b},function(){v(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mw_trace","error")});return v}b=a;e=w;a={flush:b,flushExpiredDataTraces:e};g.default=a}),98);
__d("LSFindBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure] Beginning execution."),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[1]=f[0],d[2]=f[1],d[3]=f[2],d[4]=f[3],d[5]=f[4],d[6]=f[5],d[7]=f[6],d[8]=f[7],d[9]=f[8],d[10]=f[9],d[11]=f[10],d[12]=f[11],d[13]=f[12],d[14]=f[13],d[15]=f[14],d[16]=f[15],d[17]=f[16],d[18]=f[17],f):(e=a.item,c.sequence([function(a){return d[32]=e.backupTenancy,d[31]=e.encryptionVersion,d[27]=void 0,c.i64.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[33]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[43]=(d[33].push(c.i64.cast([0,0])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[43]=(d[33].push(c.i64.cast([0,2])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[43]=(d[33].push(c.i64.cast([0,3])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[43]=(d[33].push(c.i64.cast([0,4])),d[33]):0,d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[38].push(d[44]),d[38])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[43].push(c.i64.to_string(d[47])),d[43])}])}):c.resolve()},function(a){return d[45]=d[43].join(","),d[40]=d[45]}])},function(a){return d[38].some(function(a){return c.i64.eq(d[31],a)})?d[41]=d[31]:d[41]=void 0,c.i64.neq(d[41],void 0)?d[42]=d[41]:d[42]=void 0,d[28]=d[42]}])},function(a){return c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[30]=d[32]:d[30]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[29],d[30],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[1]=a[0],d[2]=a[1],d[3]=a[2],d[4]=a[3],d[5]=a[4],d[6]=a[5],d[7]=a[6],d[8]=a[7],d[9]=a[8],d[10]=a[9],d[11]=a[10],d[12]=a[11],d[13]=a[12],d[14]=a[13],d[15]=a[14],d[16]=a[15],d[17]=a[16],d[18]=a[17],a}]))})},function(a){return c.i64.neq(d[1],void 0)?d[20]=c.i64.to_string(d[1]):d[20]=void 0,d[21]=c.i64.of_float(Date.now()),d[22]=c.i64.random(),d[24]="Finishing execution. Execution time: ",d[25]=c.i64.to_string(c.i64.sub(d[21],d[0])),d[26]=" ms",d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure] ",d[23],d[24],d[23],d[25],d[23],d[26]].join("")),c.i64.eq(c.i64.mod_(d[22],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[27]=",",d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFindBackupStoredProcedure",[d[24],d[27],d[25],d[27],d[26]].join(""),d[28],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[20]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFindBackupStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] Beginning execution."),a[7]!==void 0?d[1]=a[7]:(d[28]=c.i64.random(),d[1]=c.i64.to_string(d[28])),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[33]=e.backupTenancy,d[32]=e.encryptionVersion,d[28]=void 0,c.i64.neq(d[28],void 0)?c.resolve(d[29]=d[28]):c.sequence([function(a){return d[34]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[44]=(d[34].push(c.i64.cast([0,0])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[44]=(d[34].push(c.i64.cast([0,2])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[44]=(d[34].push(c.i64.cast([0,3])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[44]=(d[34].push(c.i64.cast([0,4])),d[34]):0,d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[44]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[47]=(d[39].push(d[45]),d[39])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[39],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[44].push(c.i64.to_string(d[48])),d[44])}])}):c.resolve()},function(a){return d[46]=d[44].join(","),d[41]=d[46]}])},function(a){return d[39].some(function(a){return c.i64.eq(d[32],a)})?d[42]=d[32]:d[42]=void 0,c.i64.neq(d[42],void 0)?d[43]=d[42]:d[43]=void 0,d[29]=d[43]}])},function(a){return c.i64.neq(d[29],void 0)?d[30]=d[29]:d[30]=c.i64.cast([0,0]),c.i64.neq(d[33],void 0)?d[31]=d[33]:d[31]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[30],d[31],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17],a}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.i64.neq(d[3],void 0)?d[21]!==void 0?c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[28]=c.createArray(),d[35]=(d[28].push(d[21]),d[28]),d[35]=(d[28].push(a[1]),d[28]),d[29]=c.toJSON(d[28]),d[30]=c.createArray(),d[35]=(d[30].push(c.i64.cast([0,32])),d[30]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[31],void 0,d[4],d[30]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[33]=!1:d[33]=!0,d[33]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[36]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[37]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[36],d[35],c.i64.cast([0,3]))},function(a){return d[34]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[32],c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[34]=d[35]}])},function(e){return c.blobs.neq(d[34],void 0)?c.sequence([function(e){return c.i64.neq(a[9],void 0)?d[35]=a[9]:d[35]=c.i64.cast([-1,4294967295]),c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[34],d[37],c.i64.cast([0,16])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[38]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(e){return d[60]=new c.Map(),d[60].set("attachment_index_key",d[43]==null?"":d[43]),d[60].set("backup_ent_fbid",a[0]),d[60].set("delivery_object_id",a[1]),d[60].set("device_id",d[3]),d[60].set("mailbox_partial_id",d[47]==null?"":d[47]),d[60].set("media_type",a[3]),d[60].set("message_partial_id",d[51]==null?"":d[51]),d[60].set("product_type",a[2]),d[60].set("salt_partial_id",d[55]==null?"":d[55]),d[60].set("sort_key",d[39]==null?"":d[39]),d[60].set("thread_partial_id",d[59]==null?"":d[59]),d[60].set("trace_id",d[1]),d[60].set("source",d[35]),d[61]=new c.Map(),d[61].set("otid",a[4]),d[61].set("server_thread_key",a[8]),d[61].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(e){return d[64]=new c.Map(),d[64].set("ocmf_client_state_blob",d[62]==null?"":d[62]),d[64].set("mailbox_root_key",d[63]==null?"":d[63]),d[65]=c.createArray(),d[76]=(d[65].push(a[4]),d[65]),d[76]=(d[65].push(a[1]),d[65]),d[66]=c.toJSON(d[65]),d[60].set("raw_identifiers",d[61]),d[60].set("backup_id",d[21]),d[60].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[66]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[67]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[68]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[60].set("salt_partial_access_token",d[70]==null?"":d[70]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[73]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[60].set("salt_partial_attachment_index_key",d[74]==null?"":d[74]),d[60].set("raw_tokens",d[64]),d[75]=c.toJSON(d[60]),c.storedProcedure(b("LSIssueNewTask"),"encrypted_backups_attachment_restore",c.i64.cast([0,50020]),d[75],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(d[36]="OPE key is null for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[37]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[36],d[35],c.i64.cast([0,3])))}]):(d[29]="Missing mailbox_root_key for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[30]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))):(d[29]="Missing backup_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[30]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))):(d[29]="Missing device_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[30]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))):(d[29]="Missing ocmf_client_state_blob for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[30]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3])))},function(a){return d[22]=c.i64.of_float(Date.now()),d[23]=c.i64.random(),d[25]="Finishing execution. Execution time: ",d[26]=c.i64.to_string(c.i64.sub(d[22],d[0])),d[27]=" ms",d[24]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ",d[24],d[25],d[24],d[26],d[24],d[27]].join("")),c.i64.eq(c.i64.mod_(d[23],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[28]=",",d[29]=c.createArray(),void 0!==void 0?d[30]=(d[29].push(void 0),d[29]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",[d[25],d[28],d[26],d[28],d[27]].join(""),d[29],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentRestoreTaskStoredProcedure",["LSIssueAttachmentRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueAttachmentRestoreTask"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.traceId,e.serverThreadKey,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MebMIMediaDownloader",["FBLogger","WADirectPath"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.mediaDownloadMetadata=a;this.callbacks={onResignCdnUrlFailure:(a=b==null?void 0:b.onResignCdnUrlFailure)!=null?a:async function(){},onResignCdnUrlSuccess:(a=b==null?void 0:b.onResignCdnUrlSuccess)!=null?a:async function(){}}}var b=a.prototype;b.getDownloadMetadata=function(){return this.mediaDownloadMetadata};b.handle=function(){throw c("FBLogger")("labyrinth_web").mustfixThrow("[MebMIMediaDownloader] Please don't use the base class. Instead use either MAWMIMediaDownloader or IGDMIMediaDownloader, depending on the platform.")};b.continue=async function(a){var b;await this.callbacks.onResignCdnUrlSuccess();b=(b=this.waMediaDownloader)==null?void 0:b.getDownloadMetadata();if(b!=null){var c=b.mediaEntry;c.directPath=d("WADirectPath").unsafeCastToDirectPath(a);b.isUrlRenewed=!0;await ((c=this.waMediaDownloader)==null?void 0:c.handle())}};b.handleError=function(a){return this.callbacks.onResignCdnUrlFailure(a)};b.setNextHandler=function(a){this.waMediaDownloader=a};return a}();g.default=a}),98);
__d("MAWMIMediaDownloader",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueAttachmentRestoreTaskStoredProcedure","LSMEBTaskCreationSource","MAWCastToMsgrServerMediaType","MAWLoggerUtils","MAWThreadKeyUtils","MebMIMediaDownloader","MediaDownloadMediator","WALogger","WAMediaUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.handle=async function(){var a=this,b=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;d("MediaDownloadMediator").mapDeliveryObjectIdToMediaDownloader(d("WAMediaUtils").stringToDeliveryObjectId(this.mediaDownloadMetadata.deliveryObjectId),this);var e=d("MAWCastToMsgrServerMediaType").castToMsgrServerMediaType(this.mediaDownloadMetadata.mediaType);if(e==null)throw c("FBLogger")("labyrinth_web").mustfixThrow("Unsupported media type");var g=d("MAWThreadKeyUtils").stringThreadKeyToString(this.mediaDownloadMetadata.threadKey),l=new Promise(function(a,b){window.setTimeout(function(){b(c("err")("[labyrinth_web][MIMediaDownloader] MI Media download timed out"))},2*60*1e3)}),m=d("MAWLoggerUtils").getInstanceKey();return Promise.race([b.runInTransaction(function(b){return c("LSIssueAttachmentRestoreTaskStoredProcedure")(c("LSFactory")(b),{backupEntFbid:(i||(i=d("I64"))).of_string(a.mediaDownloadMetadata.backupEntFbid),deliveryObjectId:a.mediaDownloadMetadata.deliveryObjectId,mediaType:e,messageId:a.mediaDownloadMetadata.messageId,productType:a.mediaDownloadMetadata.productType,serverThreadKey:g,sortOrder:i.of_float(a.mediaDownloadMetadata.sortOrder),source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").MSGR_DYI),threadId:a.mediaDownloadMetadata.threadId,traceId:m.toString()})},"readwrite",void 0,void 0,f.id+":68"),l]).catch(function(b){d("WALogger").ERROR(k(),b.message);return a.handleError(b)})};return b}(c("MebMIMediaDownloader"));g.MAWMIMediaDownloader=a}),98);
__d("MAWEncryptedBackupsDYIProcessProtobufMessages",["CurrentUser","EncryptedBackupsDYIMessageProcessingUtils","EncryptedBackupsDYISingleton","MAWGroupPollsDualEncryptionUtils","MAWHandleEchoProtobufsRestoreApi","MAWJids","MAWMIMediaDownloader","MAWMsgType","MebWAMediaDownloader","WAHashUtils","WAJids","WALongInt","WAMediaUtils","WAStanzaUtils","WATimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Media message is missing media entry data"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Starting DYI media download for attachemnt with hash ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Media message is missing media data"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Decryption failure when trying to decrypt poll vote update: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Polls] senderTimestampMs is null. Cannot determine the latest poll vote"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Decryption failure when trying to decrypt poll add option update: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Poll creation message key is incomplete. Skipping"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Group poll creation message is missing group poll info"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Explicitly dropping "," message type"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bump message is not supported in DYI"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] XMA message doesn't have xmaData"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Documents are not supported in DYI"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf: ts or messageId or senderId is null"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf: metadata or message type is null"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf. Dropping the message: ",""]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error converting protobuf to DYI format. Dropping the message"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error converting protobuf to DYI format. Dropping the message"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["Decoded protobuf is empty"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["Processing "," protobuf messages for thread ",""]);z=function(){return a};return a}async function a(a,b,e){var f=d("EncryptedBackupsDYISingleton").getSingleton(),g=f.getLogger();void g.LOG(z(),e.length,b);var h=d("MAWJids").toUserJid(c("CurrentUser").getAccountID()),i=!0,j=!1,k;try{for(var l=babelHelpers.asyncIterator(e),e,e;e=await l.next(),i=e.done,e=await e.value,!i;i=!0){e=e;try{e=d("MAWHandleEchoProtobufsRestoreApi").decodeDecryptedMessageProtobuf(e,h,void 0,new Set(),new Set(),new Map(),new Map(),new Map(),!0);if(e==null){void g.WARN(y());return}if(e!=null&&e.metadata!=null&&e.metadata.messageId!=null){var m=d("WAStanzaUtils").toStanzaId(e.metadata.messageId);e=await A(a,b,e);if(e==null){void g.WARN(x());return}f.setMessagesByThreadKey(a,m,e)}else{void g.WARN(w());return}}catch(a){void g.ERROR(v(),a);return}}}catch(a){j=!0,k=a}finally{try{!i&&l.return!=null&&await l.return()}finally{if(j)throw k}}}async function A(a,b,c){var e=d("EncryptedBackupsDYISingleton").getSingleton(),f=e.getLogger(),g=c.metadata,h=c.msgType,i=c.sortOrderMs;if(g==null||h==null){void f.WARN(u());return}h=g.messageId;var j=g.senderId;g=g.timestampMs;if(g==null||typeof g!=="number"||h==null||j==null){void f.WARN(t());return}h=d("WATimeUtils").castMilliSecondsToUnixTime(g);g=d("EncryptedBackupsDYIMessageProcessingUtils").buildBaseDyiMessage(j,i);j=(j=c.decodedPayload)==null?void 0:j.text;if(c.editMsgData.length>0){var k=h;c.editMsgData.forEach(function(a){var b;if(a.ts>k&&((b=a.editMsgContent.message)==null?void 0:b.text)!=null){k=a.ts;j=(b=a.editMsgContent.message)==null?void 0:b.text}})}c.reactionData.length>0&&(g.reactions=c.reactionData.map(function(a){var b=a.reaction;a=a.senderId;return{actor:(a=e.getContactNameForContactId(a))!=null?a:"unknown",reaction:(a=b.text)!=null?a:"unknown"}}));switch(c.msgType){case d("MAWMsgType").MSG_TYPE.TEXT:g.type="text";g.text=j||"";break;case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.PTT:g.type="media";g.text=j||"";g=C(a,b,c,i,g);break;case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:void f.WARN(s());return;case d("MAWMsgType").MSG_TYPE.XMA:g.type="link";if(c.xmaData==null){void f.WARN(r());return}g.text=((h=c.xmaData)==null?void 0:h.ctas.map(function(a){return a.nativeUrl}).filter(Boolean).join("\n"))||"";break;case d("MAWMsgType").MSG_TYPE.REVOKED:g.type="placeholder";g.isUnsent=!0;g.text="User unsent a message";break;case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:g.type="poll";g.text=await B(c);break;case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:void f.WARN(q());return;default:void f.LOG(p(),c.msgType);return}return g}async function B(a){var b=d("EncryptedBackupsDYISingleton").getSingleton().getLogger(),c=a.groupPollInfo;if(c==null){void b.WARN(o());return""}var e=new Map(),f=new Map();await Promise.all(c.options.map(async function(a){var b=await d("MAWGroupPollsDualEncryptionUtils").getHashForOptionName(a);e.set(b,{optionName:a,voterUserJids:[]})}));if(a.groupPollUpdateData!=null){var g=!0,h=!1,i;try{for(var j=babelHelpers.asyncIterator(a.groupPollUpdateData),p,p;p=await j.next(),g=p.done,p=await p.value,!g;g=!0){var q,r;p=p;if(((q=p.pollCreationMessageKey)==null?void 0:q.id)==null||((q=p.pollCreationMessageKey)==null?void 0:q.remoteJid)==null){b.ERROR(n());continue}q=p.pollCreationMessageKey;var s=q.id;q=q.remoteJid;q=d("WAJids").unsafeCoerceToUserJid(q);r={pollCreationMessageKey:c.encKey,pollCreationSenderJid:d("WAJids").toMsgrUserJid(((r=a.metadata)==null?void 0:r.senderId)||""),pollCreationStanzaId:d("WAStanzaUtils").toStanzaId(s),pollUpdateSenderJid:q,pollUpdateStanzaId:p.externalId};if(p.addOption!=null){s=await d("MAWGroupPollsDualEncryptionUtils").decryptGroupPollAddOption(p.addOption,r);if(s.success){var t=s.value,u=!0,v=!1,w;try{for(var x=babelHelpers.asyncIterator(t.pollOption),t,t;t=await x.next(),u=t.done,t=await t.value,!u;u=!0){t=t;if(t.optionName==null)continue;t=t.optionName;var y=await d("MAWGroupPollsDualEncryptionUtils").getHashForOptionName(t);e.has(y)||e.set(y,{optionName:t,voterUserJids:[]})}}catch(a){v=!0,w=a}finally{try{!u&&x.return!=null&&await x.return()}finally{if(v)throw w}}}else b.ERROR(m(),s.error)}if(p.vote!=null){y=await d("MAWGroupPollsDualEncryptionUtils").decryptGroupPollVote(p.vote,r);if(y.success){t=y.value;if(t.senderTimestampMs==null){b.WARN(l());continue}u=t.selectedOptions;v=t.senderTimestampMs;s=f.get(q);(s==null||s.senderTimestampMs<d("WALongInt").numberOrThrowIfTooLarge(v))&&f.set(q,{senderTimestampMs:d("WALongInt").numberOrThrowIfTooLarge(v),votes:u.map(d("MAWGroupPollsDualEncryptionUtils").getBase64EncodedHash)})}else b.ERROR(k(),y.error)}}}catch(a){h=!0,i=a}finally{try{!g&&j.return!=null&&await j.return()}finally{if(h)throw i}}}for(p of f){r=p[0];t=p[1];for(s of t.votes){q=e.get(s);q==null?e.set(s,{optionName:"Unknown",voterUserJids:[r]}):e.set(s,babelHelpers.extends({},q,{voterUserJids:[].concat(q.voterUserJids,[r])}))}}return"Question: "+c.name+"; Options: "+Array.from(e).map(function(a){a[0];a=a[1];var b=a.optionName;a=a.voterUserJids;return b+" ("+a.length+" votes"+(a.length>0?": "+a.map(function(a){return d("EncryptedBackupsDYIMessageProcessingUtils").getSenderName(d("WAJids").userIdFromJid(d("WAJids").unsafeCoerceToUserJid(a)))}).join(", "):"")+")"}).join("; ")}function C(a,b,e,f,g){var k,l=d("EncryptedBackupsDYISingleton").getSingleton(),m=l.getLogger();if(e.mediaMetadata==null){void m.WARN(j());return g}var n=e.mediaMetadata,o=n.mediaEntryData;n=n.plaintextHash;k=(k=(k=e.metadata)==null?void 0:k.senderId)!=null?k:"0";e=d("WAStanzaUtils").toStanzaId(e.externalId);n=d("WAHashUtils").stringToPlaintextHash(n);g.media.add(n);if(!l.isAttachmentDownloadInProgressForPlaintextHash(n)&&!l.isAttachmentDownloadCompleteForPlaintextHash(n)){void m.LOG(i(),d("WAHashUtils").sanitisePlaintextHash(n));l.addPlaintextHashToAttachmentDownloadsInProgress(n);if(o==null){m.ERROR(h());l.deletePlaintextHashFromAttachmentDownloadsInProgress(n);return g}m={author:d("WAJids").toMsgrUserJid(k),chat:d("WAJids").toMsgrUserJid(b),externalId:e};if(c("gkx")("5850"))void d("EncryptedBackupsDYIMessageProcessingUtils").downloadMediaWithMediaManager(n,m,f,o);else{l=d("WAMediaUtils").decodeMediaEntryData(o);void d("EncryptedBackupsDYIMessageProcessingUtils").startMediaDownloadChain(d("MebWAMediaDownloader").MebWADownloadMediaThroughTheBridge,"-8","msgr",l,b,a,k,e,n,f,function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return babelHelpers.construct(d("MAWMIMediaDownloader").MAWMIMediaDownloader,b)})}}return g}g.processEBProtobufMessagesForDYI=a}),98);
__d("MAWEncryptedBackupsDYIHandleMessageRestore",["EncryptedBackupsDYIHandleMessageRestore","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessageRangeQueryTaskStoredProcedure","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWEncryptedBackupsDYIProcessProtobufMessages","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("LSIntEnum")).ofNumber(c("LSMEBTaskCreationSource").MSGR_DYI),l=c("justknobx")._("467"),m=async function(a,b,e){d("MAWEBRestoreTrackingUtils").markEBRestoreDYI(c("LSMEBTaskCreationSource").MSGR_DYI),await a.runInTransaction(function(a){return c("LSIssueMessageRangeQueryTaskStoredProcedure")(c("LSFactory")(a),{isPointQuery:!1,newerNumMessages:(i||(i=d("I64"))).zero,numMessages:i.of_int32(l),source:k,startSortKey:b,threadId:e})},"readwrite",void 0,void 0,f.id+":39")};async function a(a,b,c,e){var f=await (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton;await d("EncryptedBackupsDYIHandleMessageRestore").handleMessageRangeQueryRestore(f,a,b,c,e,d("MAWEncryptedBackupsDYIProcessProtobufMessages").processEBProtobufMessagesForDYI,m)}g.taskCreationSource=k;g.MESSENGER_DYI_BATCH_SIZE=l;g.handleMAWProtobufMessageRangeQueryRestore=a}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsDeferred",["ExecutionEnvironment","I64","WAJobOrchestratorTypes","cr:10036","cr:21318","cr:21319","gkx","justknobx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWRestoreProtobufsFromEncryptedBackupsNOP").__setRef("MAWRestoreProtobufsFromEncryptedBackupsDeferred");function a(a,e,g,k,l,m,n,o,p,q,r,s,t,u,v){u===void 0&&(u=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);return j.load().then(async function(j){var w;(i||(i=c("ExecutionEnvironment"))).isInWorker&&b("cr:10036")!=null?(await b("cr:10036").init(),w=await b("cr:10036").getLSStorage()):w=b("cr:21318")!=null?await b("cr:21318").LSDatabaseSingleton:null;var x=function(b){return j.call(b,a,e,g,k,l!=null?(h||(h=d("I64"))).to_float(l):0,m,n!=null?(h||(h=d("I64"))).to_float(n):(h||(h=d("I64"))).to_float((h||(h=d("I64"))).max_int),o,p,q,r,s,t,u,v)};if(w!=null&&!c("gkx")("15400"))return w.runInTransaction(function(a){return x(a)},"readwrite",void 0,void 0,f.id+":100");return b("cr:21319")!=null&&c("justknobx")._("4404")?b("cr:21319").queueWork(function(){return x(null)}):x(null)})}g.call=a}),98);
__d("LSProtobufRestoreHandler",["CurrentUser","LSIntEnum","LSMEBTaskCreationSource","LSVec","MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","MAWEBUnstoredDbMsgUtils","MAWEncryptedBackupUtils","MAWEncryptedBackupsDYIHandleMessageRestore","MAWJids","MAWJobDefinitions","MAWRestoreProtobufsFromEncryptedBackupsDeferred","WAErrorMessage","WATagsLogger","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to restore protobufs, with error: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to restore protobufs, with error: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Restoring Messenger DYI batch"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no messages but hasMoreBefore is true"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no messages but hasMoreBefore is true"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to decode protobufs, with error: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to decode protobufs, with error: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no decoded messages but hasMoreBefore is true, messages count after decryption: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no decoded messages but hasMoreBefore is true, messages count after decryption: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop"]);r=function(){return a};return a}var s=d("WATagsLogger").TAGS(["labyrinth_web","protobuf_restore"]);async function a(a,b,e,f,g,u,v,w,x,y,z,A,B){var C;C=s.TAGS([(C=w)!=null?C:"no_request_id"]);C.ERROR;C=babelHelpers.objectWithoutPropertiesLoose(C,["ERROR"]);var D=C;C=null;z!=null&&(C=t(z));D.LOG(r());d("MAWEBRestoreTrackingUtils").markEBRestoreProtobuf(A);b.type==="convertedProtobufs"?z=b.convertedProtobufs:(b.type,z=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(b.decryptedMessagesProtobufs));d("MAWEncryptedBackupUtils").logIfDuplicateMessagesFoundInRestore(z,"protobuf_restore");if(w!=null)try{d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_start",traceId:w});b=d("MAWJids").toUserJid(c("CurrentUser").getAccountID());b=d("MAWEBUnstoredDbMsgUtils").getUnstoredDbMsgFromProtobuf(z,a,void 0,b);if(e===!0&&b.length===0){d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"hasMoreBefore_decodedMessages_inconsistency",traceId:w});var E=z.length;D.WARN(q(),E);s.ERROR(p(),E)}d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryIfPresent(w,{echoMessages:C,hasMoreAfter:g,hasMoreBefore:e,isPointQuery:v,messages:b,nextMessageTimestampMsBefore:f,protobufMessages:z,referenceTimestamp:x,requestId:w,restoreType:"protobuf",threadId:a})}catch(a){E=d("WAErrorMessage").maybeGetMessageFromError(a);D.WARN(o(),E);s.ERROR(n(),E);d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(w,a instanceof Error?a:c("err")(E))}e===!0&&z.length===0&&(w!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"hasMoreBefore_messages_inconsistency",traceId:w}),D.WARN(m()),s.ERROR(l()));b=A!=null&&(h||(h=d("LSIntEnum"))).unwrapIntEnum(A)===c("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB;if(b){w!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"search_restore_end",traceId:w});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(w);return Promise.resolve()}E=A!=null&&(h||(h=d("LSIntEnum"))).unwrapIntEnum(A)===c("LSMEBTaskCreationSource").MSGR_DYI;if(E){D.LOG(k());await d("MAWEncryptedBackupsDYIHandleMessageRestore").handleMAWProtobufMessageRangeQueryRestore(a,z,e,f);w!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"dyi_restore_end",traceId:w});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(w);return Promise.resolve()}c("promiseDone")(d("MAWRestoreProtobufsFromEncryptedBackupsDeferred").call("AdvancedCrypto",d("MAWJobDefinitions").toThreadJidPrimaryId(a),z,e,f,g,u,v,w,x,y,C,A,void 0,(b=B)!=null?b:void 0),function(){w!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_end",traceId:w})},function(a){a=d("WAErrorMessage").maybeGetMessageFromError(a);D.WARN(j(),a);s.ERROR(i(),a);a={string:{error:a}};w!=null&&d("MAWEBRestoreTrackingUtils").markEBRestoreFail(w,!1,"native_op_reject",a)});return Promise.resolve()}function t(a){return c("LSVec").toArray(a).map(function(a){return d("MAWJobDefinitions").toEncodedEchoMessage(a)})}g.handleProtobufRestoreHelper=a;g.convertLSEchoMessageVecToArray=t}),98);
__d("MAWThreadIdToChatJidMapping",["I64","MAWAsyncEBPendingQueryPromise","MAWJidUtils","ReQL","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Cannot generate ChatJid from threadKey, called from ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Cannot find thread with serverThreadKey ",", called from ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Cannot find MI ACT mapping table entry for threadId ",", called from ",""]);k=function(){return a};return a}var l=new Map();async function a(a,b,c){if(l.has(b))return l.get(b);var e=d("MAWAsyncEBPendingQueryPromise").getJidFromThreadId(b);if(e!=null){l.set(b,e);return e}e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange((h||(h=d("I64"))).of_string(b)));if(e==null){d("WALogger").ERROR(k(),b,c);return null}var f=e.serverThreadKey;e=e.jid;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f));if(a==null){d("WALogger").ERROR(j(),(h||(h=d("I64"))).to_string(f),c);return null}f=d("MAWJidUtils").LSJidtoChatJid(e,a.threadType);if(f!=null){l.set(b,f);return f}else{d("WALogger").ERROR(i(),c);return null}}g.genChatJidFromThreadId=a}),98);
__d("LSRestoreEchoBlobs.nop",["LSVec","MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","MAWThreadIdToChatJidMapping","MWEBODSEntityName.enum","MWEBODSUtils","WAJids","err","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSRestoreEchoBlobsHandler").__setRef("LSRestoreEchoBlobs.nop");a=async function(a,b,e,f,g,i,j,k,l,m,n,o,p,q){var r;d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs");q!=null?r=d("WAJids").validateChatJid(q):d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs.no_chat_jid_provided");r==null&&(r=await d("MAWThreadIdToChatJidMapping").genChatJidFromThreadId(a,m,"LSRestoreEchoBlobs.nop"));if(r==null){d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_echo_blobs.no_chat_jid");n!=null&&d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(n,c("err")("Cannot generate ChatJid from threadKey: "+m));d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,"no_chat_jid");return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}return h.load().then(function(a){if(r!=null)if(c("gkx")("14213")){c("promiseDone")(a.handleEchoBlobsRestore(f,g,i,j,k,l,m,n,o,p,r));return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}else return a.handleEchoBlobsRestore(f,g,i,j,k,l,m,n,o,p,r);return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])})};a.__nop_name__="LSRestoreEchoBlobs";g.default=a}),98);
__d("LSRestoreProtobufs.nop",["LSProtobufRestoreHandler","MAWMpsGating","MAWThreadIdToChatJidMapping","MWEBODSEntityName.enum","MWEBODSUtils","WAJids"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q){d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_protobufs");if(d("MAWMpsGating").isFullMpsEnabled())return;b=null;q!=null?b=d("WAJids").validateChatJid(q):d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_protobufs.no_chat_jid_provided");b==null&&(b=await d("MAWThreadIdToChatJidMapping").genChatJidFromThreadId(a,e,"LSRestoreProtobufs.nop"));b==null&&d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore_protobufs.no_chat_jid");return d("LSProtobufRestoreHandler").handleProtobufRestoreHelper(e,{decryptedMessagesProtobufs:f,type:"decryptedMessagesProtobufs"},g,h,i,j,k,l,m,n,o,p,b)};a.__nop_name__="LSRestoreProtobufs";g.default=a}),98);
__d("LogWebQplNOP",["I64","LSIntEnum","Promise","QPLUserFlow","WAHashStringToNumber","WALogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["LSLogWebQpl error: ",""]);k=function(){return a};return a}function l(a){a=a==null?null:(j||(j=d("I64"))).to_int32(a);switch(a){case 521476165:return c("qpl")._(521476165,"2432");case 521481602:return c("qpl")._(521481602,"829");default:return null}}function a(a,e,f,g,m,n){return new(h||(h=b("Promise")))(function(b,h){try{h=m?(i||(i=d("LSIntEnum"))).unwrapIntEnum(m):null;var o=l(e);if(o!=null&&f!=null){h={"int":{num_messages:(j||(j=d("I64"))).to_int32(g)},string:{message_count:String(g),taskSource:(h=h==null?void 0:h.toString())!=null?h:"unknown"}};n===!0?c("QPLUserFlow").endSuccess(o,{annotations:h,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}):n===!1?c("QPLUserFlow").endFailure(o,f,{annotations:h,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}):(c("QPLUserFlow").addAnnotations(o,h,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}),c("QPLUserFlow").addPoint(o,f,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}))}b()}catch(a){d("WALogger").ERROR(k(),a),b()}})}g.call=a}),98);
__d("X25519",["$InternalEnum","Promise","WACryptoCurve25519Dependencies","WASignalKeys","WASignalOther","WASignalSignatures"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum").Mirrored(["Encryption","Signing"]),j=b("$InternalEnum")({PublicKey:0,PrivateKey:1,Signature:2});function k(a,b){if(b===i.Encryption)return[];b=1;switch(a){case j.PublicKey:b=1;break;case j.PrivateKey:b=2;break;case j.Signature:b=3;break}return[255,b]}function l(a,b,c){b=k(b,c);c=b.length;if(c<=0)return a;var d=new Uint8Array(c+a.byteLength);d.set(Array.from(b));d.set(a,c);return d}function m(a,b,c){b=k(b,c).length;return a.slice(b)}function n(a,b){return{privateKey:l(a.privateKey,j.PrivateKey,b),publicKey:l(a.publicKey,j.PublicKey,b)}}function a(a){a=n(d("WASignalKeys").makeKeyPair(),a);return{pk:a.publicKey,sk:a.privateKey}}function o(a,b){if(b===i.Encryption)return 32;switch(a){case j.PublicKey:case j.PrivateKey:return 32;case j.Signature:return 64}}function p(a,b,c){var d=k(b,c),e=d.length;b=o(b,c);c=b!=null?e+b:0;if(a.length!==c)return!1;var f=a.subarray(0,e);b=new Uint8Array(d);return b.length===f.length&&b.every(function(a,b){return a===f[b]})}function q(a,b){if(p(a,j.PublicKey,b))return a;return}function r(a,b){if(p(a,j.PrivateKey,b))return a;return}function c(a,b){var c=q(a.pkBytes,b);a=r(a.skBytes,b);if(c!=null&&a!=null)return{pk:c,sk:a}}function e(a,c){a=m(a,j.PrivateKey,i.Signing);return d("WASignalSignatures").signMsg(d("WASignalKeys").makeKeyPairFrom(d("WASignalOther").ensureSize(a,32)),c).then(function(a){a=l(a,j.Signature,i.Signing);return(h||(h=b("Promise"))).resolve(a)})}function f(a){if(p(a,j.Signature,i.Signing))return a}function s(a,b,c){b=m(b,j.PublicKey,i.Signing);return d("WASignalSignatures").verifyMsgSignalVariant(d("WASignalKeys").serializeIdentity(b),c,d("WASignalOther").ensureSize(m(a,j.Signature,i.Signing),64))}function t(a,c){c=c;a=a;return!p(a,j.PublicKey,i.Encryption)||!p(c,j.PrivateKey,i.Encryption)?(h||(h=b("Promise"))).resolve():d("WACryptoCurve25519Dependencies").calculateAgreement(a,c).then(function(a){return(h||(h=b("Promise"))).resolve(new Uint8Array(a))})}g.KeyPurpose=i;g.generateKeys=a;g.publicKeyFromBytes=q;g.secretKeyFromBytes=r;g.keysFromBytes=c;g.sign=e;g.signatureFromBytes=f;g.verify=s;g.exchangeKeys=t}),98);/*FB_PKG_DELIM*/
__d("ArmadilloSignatures",["WASignalKeys","WASignalOther","WASignalSignatures","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c,e=(c=d("WASignalOther")).ensureSize(d("XPlatReactCrypto").getRandomValues(new Uint8Array(64)),64);return d("WASignalSignatures").makeSignature(d("WASignalKeys").makeKeyPairFromArrayBuffers(c.toBuffer(c.makeBytes(32)),c.toBuffer(a)),b,e)}function b(a,b,c){return d("WASignalSignatures").verifyMsgSignalVariant(d("WASignalSignatures").convertPublicKeyToSerializedPubKey(b),c,a)}g.armadilloSign=a;g.validateArmadilloSignature=b}),98);
__d("ArrayBuffer",["UInt8Array"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.map(function(a){return new Uint8Array(a)});return d("UInt8Array").concatBytes(a).buffer}g.mergeBuffers=a}),98);
__d("EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30303731999218226"}),null);
__d("EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery.graphql",["EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"request_uuid"},c={defaultValue:null,kind:"LocalArgument",name:"virtual_device_id"},d={alias:null,args:null,kind:"ScalarField",name:"epoch_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id",storageKey:null},f={alias:null,args:null,concreteType:"FetchVirtualDeviceInfoMinosEpochSerializablePayload",kind:"LinkedField",name:"minos_epoch",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"epoch_head",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"self_epoch_signature",storageKey:null}],storageKey:null};d=[{alias:null,args:[{fields:[{kind:"Variable",name:"request_uuid",variableName:"request_uuid"},{kind:"Variable",name:"virtual_device_id",variableName:"virtual_device_id"}],kind:"ObjectValue",name:"request"}],concreteType:"FetchVirtualDeviceInfoResponseWrapper",kind:"LinkedField",name:"fetch_virtual_device_info_for_device_addition_v2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ok",storageKey:null},{alias:null,args:null,concreteType:"FetchVirtualDeviceInfoError",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FetchVirtualDeviceInfoResponse",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"FetchVirtualDeviceInfoEncryptedSecretValues",kind:"LinkedField",name:"encrypted_secret_values",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_epoch_anon_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_epoch_root_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_epoch_storage_private_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_mailbox_root_key_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_oblivious_validation_token_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_ocmf_client_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_orf_client_state_v2",storageKey:null}],storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"epoch_storage_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_epoch_id",storageKey:null},{alias:null,args:null,concreteType:"FetchVirtualDeviceInfoSyncEpochsPayload",kind:"LinkedField",name:"sync_epochs",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"encrypted_epoch_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_id",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"epoch_auth_public_key",storageKey:null},{alias:null,args:null,concreteType:"FetchVirtualDeviceInfoEpochDataSerializablePayload",kind:"LinkedField",name:"epoch_data_v2",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"epoch_root_key",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_active_epoch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_epoch_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prev_epoch_id",storageKey:null},f],storageKey:null},f],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery",selections:d},params:{id:b("EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery_facebookRelayOperation"),metadata:{},name:"EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("LSCreateDebugToken.nop",["ArrayBuffer","Base64Utils","CryptoLogger","I64","LSCreateDerivedKeys.nop","LSCryptoUtils","LSVec","Promise","RetUtil","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("LSCryptoUtils").strToBuf("debug_token_type_"),k=d("LSCryptoUtils").strToBuf("debug_token_rkid"),l=d("LSCryptoUtils").strToBuf("debug_token_anon"),m=(i||(i=d("I64"))).of_string("32"),n=i.of_string("12");function o(a){return Array.from(a.keys()).reduce(function(b,c){var d=a.get(c);d!=null&&(b[c]=d);return b},{})}function p(a){return new Int32Array([new DataView(new Int32Array([a]).buffer).getInt32(0)]).buffer}function q(a,b){var c=b.length;a=d("ArrayBuffer").mergeBuffers([a,p(c)]);return d("ArrayBuffer").mergeBuffers([a,d("LSCryptoUtils").strToBuf(b)])}function r(a,b){var c=b.keys().sort();return c.reduce(function(a,c){var d=b.get(c);return d!=null?q(q(a,c),d):a},q(j,a))}function s(a,b,d,e,f){return c("LSCreateDerivedKeys.nop")(a,b,d,void 0,e,c("LSVec").ofArray([f])).then(function(a){a=a[0];if(a==null)return void 0;a=c("LSVec").toArray(a);return a.length===1?a[0]:void 0})}function t(a,e,f,g,j){return(i||(i=d("I64"))).equal((i||(i=d("I64"))).zero,j)?s(a,e,l,g,m).then(function(b){return s(a,e,f,c("nullthrows")(b),(i||(i=d("I64"))).of_int32(f.byteLength))}):(h||(h=b("Promise"))).resolve(f)}function u(a,b,d,e,f,g,h){return s(a,b,d,e,f).then(function(d){return t(a,b,c("nullthrows")(d),g,h)})}a=function(a,e,f,g,j,l,p){try{return(h||(h=b("Promise"))).all([s(a,e,r(g,p),f,m).then(function(b){return u(a,e,j,c("nullthrows")(b),n,f,l)}),u(a,e,k,f,n,f,l)]).then(function(a){var b=a[0];a=a[1];return d("RetUtil").getNullableRetResult(d("LSCryptoUtils").strToBuf(JSON.stringify({ctx:(i||(i=d("I64"))).equal((i||(i=d("I64"))).zero,l)?"anon":"auth",rkid:d("Base64Utils").fromArrayBuffer(c("nullthrows")(a)),scopes:o(p),type:g,val:d("Base64Utils").fromArrayBuffer(c("nullthrows")(b))})))})}catch(a){d("CryptoLogger").CryptoLogger("create_debug_token").warn("getExn Error");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())}};a.__nop_name__="LSCreateDebugToken";g["default"]=a}),98);
__d("getMAWIdentityKeys",["EBWorkerAddDeviceUtils","ExecutionEnvironment","MAWBridgeSendAndReceive"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=c("ExecutionEnvironment"))).isInWorker?d("EBWorkerAddDeviceUtils").getIdentityKeysInWorker():d("MAWBridgeSendAndReceive").sendAndReceive("backend","getIdentityKeys",void 0,{timeoutMs:6e4})}g["default"]=a}),98);
__d("LSCreateSignatureWithArmadilloKey.nop",["ArmadilloSignatures","LSResult","getMAWIdentityKeys"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){return c("getMAWIdentityKeys")().then(function(a){a=a.identityPrivateKey;return d("ArmadilloSignatures").armadilloSign(a,new Uint8Array(e))}).then(function(a){return c("LSResult")(a.buffer)})};a.__nop_name__="LSCreateSignatureWithArmadilloKey";g["default"]=a}),98);
__d("LSGetArmadilloPublicKey.nop",["CryptoLogger","Promise","RetUtil","getMAWIdentityKeys"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e){return c("getMAWIdentityKeys")().then(function(a){return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(a.identityPublicKey.buffer))})["catch"](function(a){var c=d("CryptoLogger").CryptoLogger("get_armadillo_keys");c.catching(a).mustfix("Failed to get identity keys.");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};a.__nop_name__="LSGetArmadilloPublicKey";g["default"]=a}),98);
__d("LSIsValidEpochAnonIdFlow",[],(function(a,b,c,d,e,f){"use strict";var g=11;function a(a){if(a.byteLength>g)return!1;a=new Int8Array(a);var b=0;for(var c=0;c<a.length;c++)b|=+(a[c]<48),b|=+(a[c]>57);return b===0}f.call=a}),66);
__d("LSIsValidEpochAnonId.nop",["LSIsValidEpochAnonIdFlow","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){return(h||(h=b("Promise"))).resolve(c("LSResult")(d("LSIsValidEpochAnonIdFlow").call(f)))};a.__nop_name__="LSIsValidEpochAnonId";g["default"]=a}),98);
__d("LSAddDeviceWithVirtualDeviceAndDecryptionKey",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Decode.nop","LSBase64Encode.nop","LSCreateAuthKeyPair.nop","LSCreateDebugToken.nop","LSCreateDerivedKeys.nop","LSCreateEncryptionKeyPair.nop","LSCreateSignatureKeyPair.nop","LSCreateSignatureWithArmadilloKey.nop","LSCreateSignature_v2.nop","LSDeleteBackupOnClient","LSGetArmadilloPublicKey.nop","LSGetBlobFromString.nop","LSHandleWrongRecoveryCode","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIsValidEpochAnonId.nop","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSOcmfClientEvolve_v2.nop","LSPublicEncryptionCreateDecryptedData.nop","LSSymmetricEncryptionCreateDecryptedString.nop","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(f){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] Beginning execution."),d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))}).next().then(function(f,g){g=f.done;f=f.value;return g?d.sequence([function(a){return d.db.table(168).fetch().next().then(function(a,c){var e=a.done;a=a.value;return e?0:(c=a.item,d.storedProcedure(b("LSDeleteBackupOnClient"),c.backupId,void 0,!1,void 0,"null",!0))})},function(c){return e[8]=a[3].get("encrypted_ocmf_client_state"),d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("dmlydHVhbF9kZXZpY2U6b2NtZl9jbGllbnRfc3RhdGU="),e[8]).then(function(a){return a=a,e[9]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[9]).then(function(a){return a=a,e[10]=a[0],a})},function(c){return d.blobs.neq(e[10],void 0)?d.resolve(e[11]=e[10]):d.sequence([function(c){return d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("c2VjcmV0X3ZhbHVlc19tZXRhZGF0YQ=="),e[8]).then(function(a){return a=a,e[40]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[40]).then(function(a){return a=a,e[41]=a[0],a})},function(a){return e[11]=e[41]}])},function(c){return e[12]=a[3].get("encrypted_oblivious_validation_token_blob"),d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("dmlydHVhbF9kZXZpY2U6b2JsaXZpb3VzX3ZhbGlkYXRpb25fdG9rZW4="),e[12]).then(function(a){return a=a,e[13]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[13]).then(function(a){return a=a,e[14]=a[0],a})},function(c){return d.blobs.neq(e[14],void 0)?d.resolve(e[15]=e[14]):d.sequence([function(c){return d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("c2VjcmV0X3ZhbHVlc19tZXRhZGF0YQ=="),e[12]).then(function(a){return a=a,e[40]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[40]).then(function(a){return a=a,e[41]=a[0],a})},function(a){return e[15]=e[41]}])},function(c){return e[16]=a[3].get("encrypted_epoch_anon_id"),d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfYW5vbl9pZA=="),e[16]).then(function(a){return a=a,e[17]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[17]).then(function(a){return a=a,e[18]=a[0],a})},function(c){return d.blobs.neq(e[18],void 0)?d.resolve(e[19]=e[18]):d.sequence([function(c){return d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("c2VjcmV0X3ZhbHVlc19tZXRhZGF0YQ=="),e[16]).then(function(a){return a=a,e[40]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[40]).then(function(a){return a=a,e[41]=a[0],a})},function(a){return e[19]=e[41]}])},function(a){return d.blobs.neq(e[19],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSIsValidEpochAnonId.nop"),e[19]).then(function(a){return a=a,e[40]=a[0],a})},function(a){return e[20]=e[40]}]):d.resolve(e[20]=!1)},function(c){return e[20]?e[21]=e[19]:e[21]=void 0,e[22]=a[3].get("encrypted_epoch_root_key"),d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfcm9vdF9rZXk="),e[22]).then(function(a){return a=a,e[23]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[23]).then(function(a){return a=a,e[24]=a[0],a})},function(c){return d.blobs.neq(e[24],void 0)?d.resolve(e[25]=e[24]):d.sequence([function(c){return d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("c2VjcmV0X3ZhbHVlc19tZXRhZGF0YQ=="),e[22]).then(function(a){return a=a,e[40]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[40]).then(function(a){return a=a,e[41]=a[0],a})},function(a){return e[25]=e[41]}])},function(c){return e[26]=a[3].get("encrypted_mailbox_root_key_blob"),d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("dmlydHVhbF9kZXZpY2U6bWFpbGJveF9yb290X2tleQ=="),e[26]).then(function(a){return a=a,e[27]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[27]).then(function(a){return a=a,e[28]=a[0],a})},function(c){return d.blobs.neq(e[28],void 0)?d.resolve(e[29]=e[28]):d.sequence([function(c){return d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("c2VjcmV0X3ZhbHVlc19tZXRhZGF0YQ=="),e[26]).then(function(a){return a=a,e[40]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[40]).then(function(a){return a=a,e[41]=a[0],a})},function(a){return e[29]=e[41]}])},function(c){return e[30]=a[3].get("encrypted_epoch_storage_private_key"),e[30]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfc3RvcmFnZV9wcml2YXRlX2tleQ=="),e[30]).then(function(a){return a=a,e[40]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[40]).then(function(a){return a=a,e[41]=a[0],a})},function(c){return d.blobs.neq(e[41],void 0)?d.resolve(e[42]=e[41]):d.sequence([function(c){return d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),a[9],d.blob("c2VjcmV0X3ZhbHVlc19tZXRhZGF0YQ=="),e[30]).then(function(a){return a=a,e[43]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[43]).then(function(a){return a=a,e[44]=a[0],a})},function(a){return e[42]=e[44]}])},function(a){return e[31]=e[42]}]):d.resolve(e[31]=void 0)},function(a){return d.nativeOperation(b("LSCreateSignatureKeyPair.nop")).then(function(a){return a=a,e[32]=a[0],e[33]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateEncryptionKeyPair.nop")).then(function(a){return a=a,e[34]=a[0],e[35]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[32],d.blob("MA=="),e[35]).then(function(a){return a=a,e[36]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateAuthKeyPair.nop")).then(function(a){return a=a,e[37]=a[0],e[38]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[32],d.blob("MQ=="),e[38]).then(function(a){return a=a,e[39]=a[0],a})},function(f){return d.blobs.neq(e[11],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),e[11]).then(function(a){return a=a,e[40]=a[0],e[41]=a[1],a})},function(a){return d.blobs.neq(void 0,void 0)?d.sequence([function(a){return d.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),void 0).then(function(a){return a=a,e[46]=a[0],e[47]=a[1],a})},function(a){return a=[e[40],e[41],e[46],e[47]],e[42]=a[0],e[43]=a[1],e[44]=a[2],e[45]=a[3],a}]):d.resolve((a=[e[40],e[41],void 0,void 0],e[42]=a[0],e[43]=a[1],e[44]=a[2],e[45]=a[3],a))},function(f){return d.blobs.neq(e[21],void 0)?d.blobs.neq(e[25],void 0)?d.blobs.neq(e[15],void 0)?d.blobs.neq(e[29],void 0)?d.sequence([function(c){return a[12]!==void 0?(e[61]=a[12].get("epoch_head"),e[46]=e[61]):e[46]=void 0,e[47]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[48]=a[0],a})},function(a){return e[48]?e[61]=(e[47].push(d.i64.cast([0,0])),e[47]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[49]=a[0],a})},function(a){return e[49]?e[61]=(e[47].push(d.i64.cast([0,2])),e[47]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[50]=a[0],a})},function(a){return e[50]?e[61]=(e[47].push(d.i64.cast([0,3])),e[47]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[51]=a[0],a})},function(a){return e[51]?e[61]=(e[47].push(d.i64.cast([0,4])),e[47]):0,e[52]="",e[53]=d.i64.of_int32(e[47].length),d.i64.gt(e[53],d.i64.cast([0,0]))?d.loopAsync(e[53],function(a){return e[61]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[47],e[61]).then(function(a){return a=a,e[62]=a[0],e[63]=a[1],a})},function(a){return e[52]=[e[52],"_",d.i64.to_string(e[62])].join("")}])}):d.resolve()},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),["supported_versions_",e[52],"revision_version_",d.i64.to_string(d.i64.cast([0,1]))].join("")).then(function(a){return a=a,e[54]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[32],d.blob("Mg=="),e[54]).then(function(a){return a=a,e[55]=a[0],a})},function(a){return d.blobs.neq(e[55],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[55]).then(function(a){return a=a,e[61]=a[0],a})},function(a){return e[56]=e[61]}]):d.resolve(e[56]=void 0)},function(a){return d.forEach(d.db.table(168).fetch(),function(a){return a["delete"]()})},function(a){return d.forEach(d.db.table(169).fetch(),function(a){return a["delete"]()})},function(b){return d.forEach(d.filter(d.db.table(168).fetch([[[a[1]]]]),function(b){return d.i64.eq(b.backupId,a[1])&&d.i64.lt(b.authorityLevel,d.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return d.db.table(168).add({backupId:a[1],devicePublicKeyBlob:e[33],devicePrivateKeyBlob:e[32],epochStoragePublicKeyBlob:e[35],epochStoragePrivateKeyBlob:e[34],epochAuthPublicKeyBlob:e[38],epochAuthPrivateKeyBlob:e[37],mailboxRootKeyBlob:e[29],ocmfClientStateBlob:e[42],obliviousValidationTokenBlob:e[15],encryptionVersion:d.i64.cast([0,0]),revisionVersion:d.i64.cast([0,1]),authorityLevel:d.i64.cast([0,20]),backupTenancy:a[7]})},function(b){return d.forEach(d.filter(d.db.table(169).fetch([[[a[2]]]]),function(b){return d.i64.eq(b.epochId,a[2])&&d.i64.lt(b.authorityLevel,d.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return d.db.table(169).add({epochId:a[2],authorityLevel:d.i64.cast([0,80]),backupId:a[1],epochAnonIdBlob:e[21],epochRootKeyBlob:e[25],epochStatus:d.i64.cast([0,1]),epochHead:e[46]})},function(f){return e[57]=a[5].keys(),e[58]=d.i64.of_int32(e[57].length),d.i64.eq(e[58],d.i64.cast([0,1]))?(e[61]=a[5].has(d.i64.to_string(a[2])),e[61]?d.resolve(0):(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] sync_epochs does not contain base epoch"),e[63]="sync_epochs does not contain base epoch",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[63]].join("")),e[62]=d.createArray(),void 0!==void 0?e[64]=(e[62].push(void 0),e[62]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[63],e[62],d.i64.cast([0,3])))):d.sequence([function(a){return function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] Triggering epoch derivation."),e[61]=c("justknobx")._("1310"),void 0!==void 0?e[61]?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,2866]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[62]=a[0],a})},function(a){return e[62]?e[63]=!0:e[63]=!1,e[63]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[65]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[65]].join("")),e[64]=d.createArray(),void 0!==void 0?e[66]=(e[64].push(void 0),e[64]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[65],e[64],d.i64.cast([0,3]))):d.resolve()}]):d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,2867]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[62]=a[0],a})},function(a){return e[62]?e[63]=!0:e[63]=!1,e[63]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[65]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[65]].join("")),e[64]=d.createArray(),void 0!==void 0?e[66]=(e[64].push(void 0),e[64]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[65],e[64],d.i64.cast([0,3]))):d.resolve()}]):d.resolve()},function(c){return e[61]===!1?function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] Epoch rotation is disabled for the user but received more than one epoch."):0,d.blobs.neq(e[31],void 0)?d.sequence([function(a){return e[65]="Starting epoch derivation at base epoch of anon id (base64) = ",d.nativeOperation(b("LSBase64Encode.nop"),e[21]).then(function(a){return a=a,e[62]=a[0],a})},function(a){return e[66]=e[62]==null?"":e[62],e[63]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[63],e[65],e[63],e[66]].join("")),d.resolve()},function(c){return e[64]=a[5].get(d.i64.to_string(a[2])),e[64]!==void 0?d.sequence([function(b){return e[67]=e[64].get("minos_epoch"),e[67]!==void 0?(e[79]=e[67].get("epoch_head"),e[68]=e[79]):e[68]=void 0,e[69]=e[64].get("is_active_epoch"),e[69]?e[70]=d.i64.cast([0,1]):e[70]=d.i64.cast([0,2]),d.forEach(d.db.table(169).fetch([[[a[2]]]]),function(a){var b=a.update;a.item;return b({authorityLevel:d.i64.cast([0,80]),epochStatus:e[70],epochHead:e[68]})})},function(c){return e[71]=new d.Map(),e[71].set("epoch_id",a[2]),e[71].set("authority_level",d.i64.cast([0,80])),e[71].set("backup_id",a[1]),e[71].set("epoch_anon_id_blob",e[21]),e[71].set("epoch_root_key_blob",e[25]),e[71].set("epoch_status",d.i64.cast([0,1])),e[71].set("epoch_head",e[46]),e[72]=e[71],e[73]=a[5].keys(),e[74]=d.i64.of_int32(e[73].length),d.i64.gt(e[74],d.i64.cast([0,0]))?d.loopAsync(e[74],function(c){return e[79]=c,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[73],e[79]).then(function(a){return a=a,e[80]=a[0],e[81]=a[1],a})},function(c){return e[82]=e[72].get("epoch_id"),e[83]=e[72].get("backup_id"),e[84]=e[72].get("epoch_anon_id_blob"),e[85]=e[72].get("epoch_root_key_blob"),e[86]=e[72].get("epoch_status"),e[87]=e[72].get("authority_level"),e[88]=e[72].get("epoch_head"),e[89]=a[5].get(d.i64.to_string(e[82])),e[89]!==void 0?d.sequence([function(c){return e[98]=e[89].get("next_epoch_id"),d.i64.neq(e[98],void 0)?d.sequence([function(c){return e[106]=a[5].get(d.i64.to_string(e[98])),e[106]!==void 0?d.sequence([function(a){return e[114]=e[106].get("backup_id"),e[115]=e[106].get("is_active_epoch"),e[115]?e[116]=d.i64.cast([0,1]):e[116]=d.i64.cast([0,2]),e[117]=e[106].get("epoch_anon_id"),e[118]=e[106].get("minos_epoch"),e[118]!==void 0?(e[137]=e[118].get("epoch_head"),e[119]=e[137]):e[119]=void 0,e[120]=d.createArray(),e[137]=(e[120].push(d.i64.cast([0,32])),e[120]),e[137]=(e[120].push(d.i64.cast([0,32])),e[120]),e[121]="_",d.nativeOperation(b("LSGetBlobFromString.nop"),["epoch_chaining",e[121],d.blobs.to_string(e[84]),e[121],d.i64.to_string(e[82])].join("")).then(function(a){return a=a,e[122]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[122],void 0,e[85],e[120]).then(function(a){return a=a,e[123]=a[0],a})},function(a){return e[123]?e[124]=!1:e[124]=!0,e[124]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] Failed to generate epoch_chaining_key and epoch_distribution_pre_shared_key."),e[138]="Failed to generate epoch_chaining_key and epoch_distribution_pre_shared_key.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[138]].join("")),e[137]=d.createArray(),void 0!==void 0?e[141]=(e[137].push(void 0),e[137]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[138],e[137],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[139]=a[0],a})},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[140]=a[0],a})},function(a){return a=[e[139],e[140]],e[125]=a[0],e[126]=a[1],a}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[123],d.i64.cast([0,0])).then(function(a){return a=a,e[137]=a[0],e[138]=a[1],a})},function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[123],d.i64.cast([0,1])).then(function(a){return a=a,e[139]=a[0],e[140]=a[1],a})},function(a){return a=[e[137],e[139]],e[125]=a[0],e[126]=a[1],a}])},function(c){return e[127]=e[106].get("encrypted_epoch_key"),d.blobs.neq(e[127],void 0)?d.sequence([function(c){return e[137]=e[106].get("epoch_auth_public_key"),e[138]=e[106].get("epoch_anon_id"),d.nativeOperation(b("LSPublicEncryptionCreateDecryptedData.nop"),a[6],e[31],e[137],e[126],d.blobs.of_string(["epoch_","_",d.blobs.to_string(e[138])].join("")),e[127]).then(function(a){return a=a,e[139]=a[0],a})},function(a){return d.blobs.neq(e[139],void 0)?d.resolve(e[140]=e[139]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] Couldn't decrypt epoch key. Returning null entropy"),e[142]="Couldn't decrypt epoch key. Returning null entropy",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[142]].join("")),e[141]=d.createArray(),void 0!==void 0?e[143]=(e[141].push(void 0),e[141]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[142],e[141],d.i64.cast([0,3]))},function(a){return e[140]=void 0}])},function(a){return e[128]=e[140]}]):d.sequence([function(a){return e[140]="encrypted_epoch_key is null. Can't generate epoch entropy. epoch_anon_id(base64) = ",e[137]=e[106].get("epoch_anon_id"),d.nativeOperation(b("LSBase64Encode.nop"),e[137]).then(function(a){return a=a,e[138]=a[0],a})},function(a){return e[141]=e[138]==null?"":e[138],e[139]="",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[139],e[140],e[139],e[141]].join("")),e[142]=d.createArray(),void 0!==void 0?e[143]=(e[142].push(void 0),e[142]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",[e[140],",",e[141]].join(""),e[142],d.i64.cast([0,3]))},function(a){return e[128]=void 0}])},function(a){return d.blobs.neq(e[128],void 0)?d.sequence([function(a){return e[137]=d.createArray(),e[142]=(e[137].push(d.i64.cast([0,32])),e[137]),d.nativeOperation(b("LSGetBlobFromString.nop"),"epoch_root_key").then(function(a){return a=a,e[138]=a[0],a})},function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),e[138],e[125],e[128],e[137]).then(function(a){return a=a,e[139]=a[0],a})},function(a){return e[139]?e[140]=!1:e[140]=!0,e[140]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] Unable to generate epoch root key."),e[143]="Unable to generate epoch root key.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[143]].join("")),e[142]=d.createArray(),void 0!==void 0?e[145]=(e[142].push(void 0),e[142]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[143],e[142],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[144]=a[0],a})},function(a){return e[141]=e[144]}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[139],d.i64.cast([0,0])).then(function(a){return a=a,e[142]=a[0],e[143]=a[1],a})},function(a){return e[141]=e[142]}])},function(a){return e[129]=e[141]}]):d.sequence([function(a){return e[140]="epoch entropy is null. Can't generate epoch root key. epoch_anon_id(base64) = ",e[137]=e[106].get("epoch_anon_id"),d.nativeOperation(b("LSBase64Encode.nop"),e[137]).then(function(a){return a=a,e[138]=a[0],a})},function(a){return e[141]=e[138]==null?"":e[138],e[139]="",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[139],e[140],e[139],e[141]].join("")),e[142]=d.createArray(),void 0!==void 0?e[143]=(e[142].push(void 0),e[142]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",[e[140],",",e[141]].join(""),e[142],d.i64.cast([0,3]))},function(a){return e[129]=void 0}])},function(a){return d.blobs.neq(e[129],void 0)?d.sequence([function(a){return d.filter(d.db.table(169).fetch([[[e[98]]]]),function(a){return d.i64.eq(a.epochId,e[98])&&d.i64.gt(a.authorityLevel,d.i64.cast([0,80]))}).next().then(function(a){var b=a.done;a.value;return b?d.db.table(169).put({epochId:e[98],backupId:e[114],epochAnonIdBlob:e[117],epochRootKeyBlob:e[129],epochStatus:e[116],authorityLevel:d.i64.cast([0,80]),epochHead:e[119]}):0})},function(a){return a=[e[98],e[114],e[117],e[129],e[116],e[119],d.i64.cast([0,80])],e[130]=a[0],e[131]=a[1],e[132]=a[2],e[133]=a[3],e[134]=a[4],e[135]=a[5],e[136]=a[6],a}]):d.sequence([function(a){return e[140]="Epoch root key is null. Can't write the epoch to the table. epoch_anon_id(base64) = ",e[137]=e[106].get("epoch_anon_id"),d.nativeOperation(b("LSBase64Encode.nop"),e[137]).then(function(a){return a=a,e[138]=a[0],a})},function(a){return e[141]=e[138]==null?"":e[138],e[139]="",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[139],e[140],e[139],e[141]].join("")),e[142]=d.createArray(),void 0!==void 0?e[143]=(e[142].push(void 0),e[142]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",[e[140],",",e[141]].join(""),e[142],d.i64.cast([0,3]))},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[130]=a[0],e[131]=a[1],e[132]=a[2],e[133]=a[3],e[134]=a[4],e[135]=a[5],e[136]=a[6],a}])},function(a){return a=[e[130],e[131],e[132],e[133],e[134],e[135],e[136]],e[107]=a[0],e[108]=a[1],e[109]=a[2],e[110]=a[3],e[111]=a[4],e[112]=a[5],e[113]=a[6],a}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBEpochDerivationUtils] Unexpected error! New epoch is null even though we have a new_epoch_id value"),e[115]="Unexpected error! New epoch is null even though we have a new_epoch_id value",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ","",e[115]].join("")),e[114]=d.createArray(),void 0!==void 0?e[116]=(e[114].push(void 0),e[114]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",e[115],e[114],d.i64.cast([0,3]))},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[107]=a[0],e[108]=a[1],e[109]=a[2],e[110]=a[3],e[111]=a[4],e[112]=a[5],e[113]=a[6],a}])},function(a){return a=[e[107],e[108],e[109],e[110],e[111],e[112],e[113]],e[99]=a[0],e[100]=a[1],e[101]=a[2],e[102]=a[3],e[103]=a[4],e[104]=a[5],e[105]=a[6],a}]):d.sequence([function(a){return e[108]="New epoch is null. This is expected if epoch_id is the root or last epoch. epoch_anon_id(base64) = ",d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[106]=a[0],a})},function(a){return e[109]=e[106]==null?"":e[106],e[110]=" , is_forward = ",e[111]="1",e[107]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[107],e[108],e[107],e[109],e[107],e[110],e[107],e[111]].join("")),d.resolve()},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[99]=a[0],e[100]=a[1],e[101]=a[2],e[102]=a[3],e[103]=a[4],e[104]=a[5],e[105]=a[6],a}])},function(a){return a=[e[99],e[100],e[101],e[102],e[103],e[104],e[105]],e[90]=a[0],e[91]=a[1],e[92]=a[2],e[93]=a[3],e[94]=a[4],e[95]=a[5],e[96]=a[6],a}]):d.sequence([function(a){return e[100]="Unexpected error! server epoch is null even though we have epoch_id. epoch_anon_id(base64) = ",d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[98]=a[0],a})},function(a){return e[101]=e[98]==null?"":e[98],e[99]="",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[99],e[100],e[99],e[101]].join("")),e[102]=d.createArray(),void 0!==void 0?e[103]=(e[102].push(void 0),e[102]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",[e[100],",",e[101]].join(""),e[102],d.i64.cast([0,3]))},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[90]=a[0],e[91]=a[1],e[92]=a[2],e[93]=a[3],e[94]=a[4],e[95]=a[5],e[96]=a[6],a}])},function(a){return e[97]=new d.Map(),e[97].set("epoch_id",e[90]),e[97].set("backup_id",e[91]),e[97].set("epoch_anon_id_blob",e[92]),e[97].set("epoch_root_key_blob",e[93]),e[97].set("epoch_status",e[94]),e[97].set("epoch_head",e[95]),e[97].set("authority_level",e[96]),e[72]=e[97]}])}):d.resolve()},function(a){return d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1438]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[79]=a[0],a})},function(a){return e[79]?e[80]=!0:e[80]=!1,e[80]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[82]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[82]].join("")),e[81]=d.createArray(),void 0!==void 0?e[83]=(e[81].push(void 0),e[81]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[82],e[81],d.i64.cast([0,3]))):d.resolve()}])},function(c){return e[75]=new d.Map(),e[75].set("epoch_id",a[2]),e[75].set("authority_level",d.i64.cast([0,80])),e[75].set("backup_id",a[1]),e[75].set("epoch_anon_id_blob",e[21]),e[75].set("epoch_root_key_blob",e[25]),e[75].set("epoch_status",d.i64.cast([0,1])),e[75].set("epoch_head",e[46]),e[76]=e[75],e[77]=a[5].keys(),e[78]=d.i64.of_int32(e[77].length),d.i64.gt(e[78],d.i64.cast([0,0]))?d.loopAsync(e[78],function(c){return e[79]=c,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[77],e[79]).then(function(a){return a=a,e[80]=a[0],e[81]=a[1],a})},function(c){return e[82]=e[76].get("epoch_id"),e[83]=e[76].get("backup_id"),e[84]=e[76].get("epoch_anon_id_blob"),e[85]=e[76].get("epoch_root_key_blob"),e[86]=e[76].get("epoch_status"),e[87]=e[76].get("authority_level"),e[88]=e[76].get("epoch_head"),e[89]=a[5].get(d.i64.to_string(e[82])),e[89]!==void 0?d.sequence([function(c){return e[98]=e[89].get("prev_epoch_id"),d.i64.neq(e[98],void 0)?d.sequence([function(c){return e[106]=a[5].get(d.i64.to_string(e[98])),e[106]!==void 0?d.sequence([function(a){return e[114]=e[106].get("backup_id"),e[115]=e[106].get("is_active_epoch"),e[115]?e[116]=d.i64.cast([0,1]):e[116]=d.i64.cast([0,2]),e[117]=e[89].get("epoch_data_v2"),e[117]!==void 0?d.sequence([function(a){return e[125]=d.createArray(),e[144]=(e[125].push(d.i64.cast([0,32])),e[125]),d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[126]=a[0],a})},function(a){return e[126]!==void 0?d.sequence([function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blobs.of_string(["epoch_data_storage","_",e[126]].join("")),void 0,e[85],e[125]).then(function(a){return a=a,e[144]=a[0],a})},function(a){return e[144]?e[145]=!1:e[145]=!0,e[145]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),e[148]="THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[148]].join("")),e[147]=d.createArray(),void 0!==void 0?e[150]=(e[147].push(void 0),e[147]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[148],e[147],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[149]=a[0],a})},function(a){return e[146]=e[149]}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[144],d.i64.cast([0,0])).then(function(a){return a=a,e[147]=a[0],e[148]=a[1],a})},function(a){return e[146]=e[147]}])},function(a){return e[127]=e[146]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),e[145]="THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[145]].join("")),e[144]=d.createArray(),void 0!==void 0?e[147]=(e[144].push(void 0),e[144]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[145],e[144],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[146]=a[0],a})},function(a){return e[127]=e[146]}])},function(a){return e[128]=e[117].get("epoch_anon_id"),d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),e[127],d.blob("ZXBvY2hfZGF0YV9tZXRhZGF0YQ=="),e[128]).then(function(a){return a=a,e[129]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[129]).then(function(a){return a=a,e[130]=a[0],a})},function(a){return d.blobs.neq(e[130],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSIsValidEpochAnonId.nop"),e[130]).then(function(a){return a=a,e[144]=a[0],a})},function(a){return e[131]=e[144]}]):d.resolve(e[131]=!1)},function(a){return e[131]?e[132]=e[130]:e[132]=void 0,e[133]=e[117].get("epoch_root_key"),d.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedString.nop"),e[127],d.blob("ZXBvY2hfZGF0YV9tZXRhZGF0YQ=="),e[133]).then(function(a){return a=a,e[134]=a[0],a})},function(a){return d.nativeOperation(b("LSBase64Decode.nop"),e[134]).then(function(a){return a=a,e[135]=a[0],a})},function(a){return d.blobs.neq(e[132],void 0)?d.sequence([function(a){return d.blobs.neq(e[135],void 0)?d.resolve((e[145]=new d.Map(),e[145].set("epoch_anon_id",e[132]),e[145].set("epoch_root_key",e[135]),e[144]=e[145])):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBEpochDerivationUtils] Error while decrypting epoch_root_key. Returning null"),e[146]="Error while decrypting epoch_root_key. Returning null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ","",e[146]].join("")),e[145]=d.createArray(),void 0!==void 0?e[147]=(e[145].push(void 0),e[145]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",e[146],e[145],d.i64.cast([0,3]))},function(a){return e[144]=void 0}])},function(a){return e[136]=e[144]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBEpochDerivationUtils] Error while decrypting epoch_anon_id. Returning null"),e[145]="Error while decrypting epoch_anon_id. Returning null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ","",e[145]].join("")),e[144]=d.createArray(),void 0!==void 0?e[146]=(e[144].push(void 0),e[144]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",e[145],e[144],d.i64.cast([0,3]))},function(a){return e[136]=void 0}])},function(a){return e[136]!==void 0?d.sequence([function(a){return e[144]=e[136].get("epoch_anon_id"),e[145]=e[136].get("epoch_root_key"),e[146]=e[106].get("minos_epoch"),e[146]!==void 0?(e[148]=e[146].get("epoch_head"),e[147]=e[148]):e[147]=void 0,d.filter(d.db.table(169).fetch([[[e[98]]]]),function(a){return d.i64.eq(a.epochId,e[98])&&d.i64.gt(a.authorityLevel,d.i64.cast([0,80]))}).next().then(function(a){var b=a.done;a.value;return b?d.db.table(169).put({epochId:e[98],backupId:e[114],epochAnonIdBlob:e[144],epochRootKeyBlob:e[145],epochStatus:e[116],authorityLevel:d.i64.cast([0,80]),epochHead:e[147]}):0})},function(a){return a=[e[98],e[114],e[144],e[145],e[116],e[147],d.i64.cast([0,80])],e[137]=a[0],e[138]=a[1],e[139]=a[2],e[140]=a[3],e[141]=a[4],e[142]=a[5],e[143]=a[6],a}]):d.sequence([function(a){return e[146]="Error while decrypting epoch data of epoch_anon_id(base64) = ",d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[144]=a[0],a})},function(a){return e[147]=e[144]==null?"":e[144],e[145]="",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[145],e[146],e[145],e[147]].join("")),e[148]=d.createArray(),void 0!==void 0?e[149]=(e[148].push(void 0),e[148]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",[e[146],",",e[147]].join(""),e[148],d.i64.cast([0,3]))},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[137]=a[0],e[138]=a[1],e[139]=a[2],e[140]=a[3],e[141]=a[4],e[142]=a[5],e[143]=a[6],a}])},function(a){return a=[e[137],e[138],e[139],e[140],e[141],e[142],e[143]],e[118]=a[0],e[119]=a[1],e[120]=a[2],e[121]=a[3],e[122]=a[4],e[123]=a[5],e[124]=a[6],a}]):d.sequence([function(a){return e[127]="Error while reading epoch_data_v2. This is expected if this is the root epoch. epoch_anon_id(base64) = ",d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[125]=a[0],a})},function(a){return e[128]=e[125]==null?"":e[125],e[126]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[126],e[127],e[126],e[128]].join("")),d.resolve()},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[118]=a[0],e[119]=a[1],e[120]=a[2],e[121]=a[3],e[122]=a[4],e[123]=a[5],e[124]=a[6],a}])},function(a){return a=[e[118],e[119],e[120],e[121],e[122],e[123],e[124]],e[107]=a[0],e[108]=a[1],e[109]=a[2],e[110]=a[3],e[111]=a[4],e[112]=a[5],e[113]=a[6],a}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBEpochDerivationUtils] Unexpected error! New epoch is null even though we have a new_epoch_id value"),e[115]="Unexpected error! New epoch is null even though we have a new_epoch_id value",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ","",e[115]].join("")),e[114]=d.createArray(),void 0!==void 0?e[116]=(e[114].push(void 0),e[114]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",e[115],e[114],d.i64.cast([0,3]))},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[107]=a[0],e[108]=a[1],e[109]=a[2],e[110]=a[3],e[111]=a[4],e[112]=a[5],e[113]=a[6],a}])},function(a){return a=[e[107],e[108],e[109],e[110],e[111],e[112],e[113]],e[99]=a[0],e[100]=a[1],e[101]=a[2],e[102]=a[3],e[103]=a[4],e[104]=a[5],e[105]=a[6],a}]):d.sequence([function(a){return e[108]="New epoch is null. This is expected if epoch_id is the root or last epoch. epoch_anon_id(base64) = ",d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[106]=a[0],a})},function(a){return e[109]=e[106]==null?"":e[106],e[110]=" , is_forward = ",e[111]="0",e[107]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[107],e[108],e[107],e[109],e[107],e[110],e[107],e[111]].join("")),d.resolve()},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[99]=a[0],e[100]=a[1],e[101]=a[2],e[102]=a[3],e[103]=a[4],e[104]=a[5],e[105]=a[6],a}])},function(a){return a=[e[99],e[100],e[101],e[102],e[103],e[104],e[105]],e[90]=a[0],e[91]=a[1],e[92]=a[2],e[93]=a[3],e[94]=a[4],e[95]=a[5],e[96]=a[6],a}]):d.sequence([function(a){return e[100]="Unexpected error! server epoch is null even though we have epoch_id. epoch_anon_id(base64) = ",d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[98]=a[0],a})},function(a){return e[101]=e[98]==null?"":e[98],e[99]="",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBEpochDerivationUtils] ",e[99],e[100],e[99],e[101]].join("")),e[102]=d.createArray(),void 0!==void 0?e[103]=(e[102].push(void 0),e[102]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils",[e[100],",",e[101]].join(""),e[102],d.i64.cast([0,3]))},function(a){return a=[e[82],e[83],e[84],e[85],e[86],e[88],e[87]],e[90]=a[0],e[91]=a[1],e[92]=a[2],e[93]=a[3],e[94]=a[4],e[95]=a[5],e[96]=a[6],a}])},function(a){return e[97]=new d.Map(),e[97].set("epoch_id",e[90]),e[97].set("backup_id",e[91]),e[97].set("epoch_anon_id_blob",e[92]),e[97].set("epoch_root_key_blob",e[93]),e[97].set("epoch_status",e[94]),e[97].set("epoch_head",e[95]),e[97].set("authority_level",e[96]),e[76]=e[97]}])}):d.resolve()},function(a){return d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1439]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[79]=a[0],a})},function(a){return e[79]?e[80]=!0:e[80]=!1,e[80]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[82]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[82]].join("")),e[81]=d.createArray(),void 0!==void 0?e[83]=(e[81].push(void 0),e[81]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[82],e[81],d.i64.cast([0,3]))):d.resolve()}])}]):(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBEpochDerivationUtils] Unexpected Error. A base epoch exists on client but not found on server"),e[67]=d.createArray(),void 0!==void 0?e[68]=(e[67].push(void 0),e[67]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBEpochDerivationUtils","Unexpected Error. A base epoch exists on client but not found on server",e[67],d.i64.cast([0,3])))}]):(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] epoch storage private key is null"),e[63]="epoch storage private key is null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[63]].join("")),e[62]=d.createArray(),void 0!==void 0?e[64]=(e[62].push(void 0),e[62]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[63],e[62],d.i64.cast([0,3])))}])},function(b){return d.db.table(169).fetch([[[a[4]]]]).next().then(function(b,c){var f=b.done;b=b.value;return f?(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] No epochs keys found."),e[59]=void 0):(c=b.item,e[61]=new d.Map(),e[61].set("epoch_root_key",c.epochRootKeyBlob),e[61].set("epoch_anon_id",c.epochAnonIdBlob),e[61].set("epoch_id",a[4]),e[61].set("epoch_head",c.epochHead),e[59]=e[61])})},function(c){return e[59]!==void 0?d.sequence([function(a){return e[61]=e[59].get("epoch_anon_id"),e[62]=e[59].get("epoch_root_key"),e[63]=d.createArray(),e[69]=(e[63].push(d.i64.cast([0,32])),e[63]),d.nativeOperation(b("LSBase64Encode.nop"),e[61]).then(function(a){return a=a,e[64]=a[0],a})},function(a){return e[64]!==void 0?d.sequence([function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blobs.of_string(["epoch_devices","_",e[64]].join("")),void 0,e[62],e[63]).then(function(a){return a=a,e[69]=a[0],a})},function(a){return e[69]?e[70]=!1:e[70]=!0,e[70]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),e[73]="THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[73]].join("")),e[72]=d.createArray(),void 0!==void 0?e[75]=(e[72].push(void 0),e[72]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[73],e[72],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[74]=a[0],a})},function(a){return e[71]=e[74]}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[69],d.i64.cast([0,0])).then(function(a){return a=a,e[72]=a[0],e[73]=a[1],a})},function(a){return e[71]=e[72]}])},function(a){return e[65]=e[71]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),e[70]="THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[70]].join("")),e[69]=d.createArray(),void 0!==void 0?e[72]=(e[69].push(void 0),e[69]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[70],e[69],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[71]=a[0],a})},function(a){return e[65]=e[71]}])},function(a){return d.nativeOperation(b("LSHmac_v2.nop"),e[65],e[33]).then(function(a){return a=a,e[66]=a[0],a})},function(a){return e[67]=e[59].get("epoch_root_key"),d.blobs.neq(e[67],void 0)?d.sequence([function(a){return e[69]=d.createArray(),e[75]=(e[69].push(d.i64.cast([0,18])),e[69]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,e[67],e[69]).then(function(a){return a=a,e[70]=a[0],a})},function(a){return e[70]!==void 0?d.sequence([function(a){return e[75]=d.i64.of_int32(e[70].length),d.i64.ge(e[75],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[70],d.i64.cast([0,0])).then(function(a){return a=a,e[77]=a[0],e[78]=a[1],a})},function(a){return e[76]=e[77]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[78]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[78]].join("")),e[77]=d.createArray(),void 0!==void 0?e[79]=(e[77].push(void 0),e[77]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[78],e[77],d.i64.cast([0,3]))},function(a){return e[76]=void 0}])},function(a){return e[71]=e[76]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[76]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[76]].join("")),e[75]=d.createArray(),void 0!==void 0?e[77]=(e[75].push(void 0),e[75]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[76],e[75],d.i64.cast([0,3]))},function(a){return e[71]=void 0}])},function(a){return d.blobs.neq(e[71],void 0)?e[72]=!0:e[72]=!1,e[72]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d.nativeOperation(b("LSBase64Encode.nop"),e[71]).then(function(a){return a=a,e[73]=a[0],a})},function(a){return e[73]!==void 0?e[74]=e[73]:e[74]="encodingfailed",e[68]=e[74]}]):d.resolve(e[68]="null")},function(c){return d.blobs.neq(e[66],void 0)?d.sequence([function(a){return e[69]=e[59].get("epoch_id"),d.nativeOperation(b("LSBase64Encode.nop"),e[33]).then(function(a){return a=a,e[70]=a[0],a})},function(a){return e[88]=e[70]==null?"":e[70],d.nativeOperation(b("LSBase64Encode.nop"),e[66]).then(function(a){return a=a,e[71]=a[0],a})},function(a){return e[87]=e[71]==null?"":e[71],d.nativeOperation(b("LSBase64Encode.nop"),e[35]).then(function(a){return a=a,e[72]=a[0],a})},function(a){return e[89]=e[72]==null?"":e[72],d.nativeOperation(b("LSBase64Encode.nop"),e[36]==null?d.blob("bnVsbA=="):e[36]).then(function(a){return a=a,e[73]=a[0],a})},function(a){return e[90]=e[73]==null?"":e[73],d.nativeOperation(b("LSBase64Encode.nop"),e[38]).then(function(a){return a=a,e[74]=a[0],a})},function(a){return e[91]=e[74]==null?"":e[74],d.nativeOperation(b("LSBase64Encode.nop"),e[39]==null?d.blob("bnVsbA=="):e[39]).then(function(a){return a=a,e[75]=a[0],a})},function(a){return e[92]=e[75]==null?"":e[75],d.nativeOperation(b("LSBase64Encode.nop"),e[43]).then(function(a){return a=a,e[76]=a[0],a})},function(c){return e[93]=e[76]==null?"":e[76],d.nativeOperation(b("LSBase64Encode.nop"),a[10]).then(function(a){return a=a,e[77]=a[0],a})},function(a){return e[94]=e[77]==null?"":e[77],d.blobs.neq(e[29],void 0)?d.sequence([function(a){return e[95]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[29],"private_key",e[32],d.i64.cast([0,1]),e[95]).then(function(a){return a=a,e[96]=a[0],a})},function(a){return d.blobs.neq(e[96],void 0)?e[97]=e[96]:e[97]=void 0,e[78]=e[97]}]):d.resolve(e[78]=void 0)},function(a){return d.blobs.neq(e[78],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[78]).then(function(a){return a=a,e[95]=a[0],a})},function(a){return e[79]=e[95]}]):d.resolve(e[79]=void 0)},function(a){return d.blobs.neq(e[29],void 0)?d.sequence([function(a){return e[95]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[29],"ocmf_client_state",e[42],d.i64.cast([0,1]),e[95]).then(function(a){return a=a,e[96]=a[0],a})},function(a){return d.blobs.neq(e[96],void 0)?e[97]=e[96]:e[97]=void 0,e[80]=e[97]}]):d.resolve(e[80]=void 0)},function(a){return d.blobs.neq(e[80],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[80]).then(function(a){return a=a,e[95]=a[0],a})},function(a){return e[81]=e[95]}]):d.resolve(e[81]=void 0)},function(a){return d.blobs.neq(e[29],void 0)?d.sequence([function(a){return e[95]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[29],"epoch_storage_private_key",e[34],d.i64.cast([0,1]),e[95]).then(function(a){return a=a,e[96]=a[0],a})},function(a){return d.blobs.neq(e[96],void 0)?e[97]=e[96]:e[97]=void 0,e[82]=e[97]}]):d.resolve(e[82]=void 0)},function(a){return d.blobs.neq(e[82],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[82]).then(function(a){return a=a,e[95]=a[0],a})},function(a){return e[83]=e[95]}]):d.resolve(e[83]=void 0)},function(c){return e[84]=new d.Map(),e[84].set("supported_encryption_versions",e[47]),e[84].set("client_version",d.i64.cast([0,1])),e[84].set("version_sig",e[56]==null?"":e[56]),d.i64.eq(a[7],d.i64.cast([0,2]))?d.resolve(e[85]=void 0):d.sequence([function(a){return d.nativeOperation(b("LSGetArmadilloPublicKey.nop")).then(function(a){return a=a,e[95]=a[0],a})},function(a){return e[85]=e[95]}])},function(a){return d.blobs.neq(e[85],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSCreateSignatureWithArmadilloKey.nop"),e[33]).then(function(a){return a=a,e[95]=a[0],a})},function(a){return d.blobs.neq(e[95],void 0)?d.resolve(e[96]=e[95]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoKeySigningUtils] Failed to create labyrinth signature"),e[101]="Failed to create labyrinth signature",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoKeySigningUtils] ","",e[101]].join("")),e[100]=d.createArray(),void 0!==void 0?e[102]=(e[100].push(void 0),e[100]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoKeySigningUtils",e[101],e[100],d.i64.cast([0,3]))},function(a){return e[96]=void 0}])},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[32],d.blob("Mw=="),e[85]).then(function(a){return a=a,e[97]=a[0],a})},function(a){return d.blobs.neq(e[97],void 0)?d.resolve(e[98]=e[97]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoKeySigningUtils] Failed to create armadillo signature"),e[101]="Failed to create armadillo signature",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoKeySigningUtils] ","",e[101]].join("")),e[100]=d.createArray(),void 0!==void 0?e[102]=(e[100].push(void 0),e[100]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoKeySigningUtils",e[101],e[100],d.i64.cast([0,3]))},function(a){return e[98]=void 0}])},function(a){return d.blobs.neq(e[98],void 0)?(d.blobs.neq(e[96],void 0)?(e[101]=new d.Map(),e[101].set("armadillo_public_key",e[85]),e[101].set("armadillo_key_signature",e[98]),e[101].set("labyrinth_key_signature",e[96]),e[100]=e[101]):e[100]=void 0,e[99]=e[100]):e[99]=void 0,e[86]=e[99]}]):d.resolve(e[86]=void 0)},function(c){return e[86]!==void 0?d.sequence([function(a){return e[95]=e[86].get("armadillo_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[95]).then(function(a){return a=a,e[96]=a[0],a})},function(a){return e[97]=e[86].get("armadillo_key_signature"),d.nativeOperation(b("LSBase64Encode.nop"),e[97]).then(function(a){return a=a,e[98]=a[0],a})},function(a){return e[99]=e[86].get("labyrinth_key_signature"),d.nativeOperation(b("LSBase64Encode.nop"),e[99]).then(function(a){return a=a,e[100]=a[0],a})},function(c){return e[105]=d.i64.cast([0,1e3]),e[101]=e[105],e[102]=new d.Map(),e[102].set("backup_id",a[1]),e[102].set("device_epoch_hmac",e[87]),e[102].set("epoch_root_key_fingerprint",e[68]),e[102].set("device_public_key",e[88]),e[102].set("epoch_storage_pubkey",e[89]),e[102].set("epoch_storage_pubkey_sig",e[90]),e[102].set("epoch_auth_pubkey",e[91]),e[102].set("epoch_auth_pubkey_sig",e[92]),e[102].set("ocmf_rotation_token",e[93]),e[102].set("virtual_device_id",e[94]),e[102].set("device_registration_id",a[11]),e[102].set("base_epoch_id",e[69]),e[102].set("encryption_version_data",e[84]),e[102].set("private_key_debug_token",e[79]),e[102].set("ocmf_client_state_debug_token",e[81]),e[102].set("epoch_storage_pvtkey_debug_token",e[83]),e[102].set("trace_id",a[8]),e[102].set("occam_only_eligible",!0),e[102].set("armadillo_public_key",e[96]==null?"":e[96]),e[102].set("armadillo_key_signature",e[98]==null?"":e[98]),e[102].set("labyrinth_key_signature",e[100]==null?"":e[100]),e[103]=d.toJSON(e[102]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50006]),e[103],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,e[101]).then(function(a){return a=a,e[104]=a[0],a})}]):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] failed to get armadillo key and device signatures"),e[99]=d.i64.cast([0,1e3]),e[95]=e[99],e[96]=new d.Map(),e[96].set("backup_id",a[1]),e[96].set("device_epoch_hmac",e[87]),e[96].set("epoch_root_key_fingerprint",e[68]),e[96].set("device_public_key",e[88]),e[96].set("epoch_storage_pubkey",e[89]),e[96].set("epoch_storage_pubkey_sig",e[90]),e[96].set("epoch_auth_pubkey",e[91]),e[96].set("epoch_auth_pubkey_sig",e[92]),e[96].set("ocmf_rotation_token",e[93]),e[96].set("virtual_device_id",e[94]),e[96].set("device_registration_id",a[11]),e[96].set("base_epoch_id",e[69]),e[96].set("encryption_version_data",e[84]),e[96].set("private_key_debug_token",e[79]),e[96].set("ocmf_client_state_debug_token",e[81]),e[96].set("epoch_storage_pvtkey_debug_token",e[83]),e[96].set("trace_id",a[8]),e[96].set("occam_only_eligible",!0),e[97]=d.toJSON(e[96]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50006]),e[97],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,e[95]).then(function(a){return a=a,e[98]=a[0],a}))}]):d.sequence([function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,4])})},function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] $device_epoch_hmac found to be null"),e[70]="$device_epoch_hmac found to be null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[70]].join("")),e[69]=d.createArray(),void 0!==void 0?e[71]=(e[69].push(void 0),e[69]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[70],e[69],d.i64.cast([0,3]))}])}]):d.sequence([function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,4])})},function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] $latest_epoch_data is null."),e[62]="$latest_epoch_data is null.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[62]].join("")),e[61]=d.createArray(),void 0!==void 0?e[63]=(e[61].push(void 0),e[61]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[62],e[61],d.i64.cast([0,3]))}])}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] $mailbox root key is null"),e[47]="$mailbox root key is null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[47]].join("")),e[46]=d.createArray(),void 0!==void 0?e[48]=(e[46].push(void 0),e[46]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[47],e[46],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleWrongRecoveryCode"),void 0,"[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] $mailbox root key is null",!1)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] oblivious validation token is null"),e[47]="oblivious validation token is null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[47]].join("")),e[46]=d.createArray(),void 0!==void 0?e[48]=(e[46].push(void 0),e[46]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[47],e[46],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleWrongRecoveryCode"),void 0,"[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] oblivious validation token is null",!1)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] epoch root key is null"),e[47]="epoch root key is null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[47]].join("")),e[46]=d.createArray(),void 0!==void 0?e[48]=(e[46].push(void 0),e[46]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[47],e[46],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleWrongRecoveryCode"),void 0,"[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] epoch root key is null",!1)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] epoch anon id is null"),e[47]="epoch anon id is null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[47]].join("")),e[46]=d.createArray(),void 0!==void 0?e[48]=(e[46].push(void 0),e[46]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[47],e[46],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleWrongRecoveryCode"),void 0,"[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] epoch anon id is null",!1)}])}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] orf client state v1 is null"),e[41]="orf client state v1 is null",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ","",e[41]].join("")),e[40]=d.createArray(),void 0!==void 0?e[42]=(e[40].push(void 0),e[40]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",e[41],e[40],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleWrongRecoveryCode"),void 0,"[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] orf client state v1 is null",!1)}])}]):(f.item,function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] An authoritative row already exists, aborting execution of addDeviceFromVirtualDevice"),d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,2])}))})},function(a){return e[2]=d.i64.of_float(Date.now()),e[3]=d.i64.random(),e[5]="Finishing execution. Execution time: ",e[6]=d.i64.to_string(d.i64.sub(e[2],e[0])),e[7]=" ms",e[4]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure] ",e[4],e[5],e[4],e[6],e[4],e[7]].join("")),d.i64.eq(d.i64.mod_(e[3],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[8]=",",e[9]=d.createArray(),void 0!==void 0?e[10]=(e[9].push(void 0),e[9]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",[e[5],e[8],e[6],e[8],e[7]].join(""),e[9],d.i64.cast([0,4]))):d.resolve()}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_recovery_code_status","secure_encrypted_backups_epochs"];d=a;g["default"]=d}),98);
__d("LSAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure",["LSAddDeviceWithVirtualDeviceAndDecryptionKey","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAddDeviceWithVirtualDeviceAndDecryptionKey"),e.taskId,e.backupId,e.epochId,e.encryptedSecretValues,e.lastEpochId,e.syncEpochs,e.epochStoragePublicKey,e.backupTenancy,e.traceId,e.blobDecryptionKey,e.virtualDeviceId,e.deviceRegistrationId,e.minosEpoch);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("EBAddDeviceGraphQL",["CometRelay","EBAPIQPLPoints","EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery.graphql","EBGetLSVirtualDevices","FBLogger","I64","LSAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure","LSDict","LSEncryptedBackupsBackupTenancy","LSFactory","LSParseRecoveryCode_v2.nop","LSShape","LSVec","MWEncryptedBackupsDeviceRegistrationId","Promise","QPLUserFlow","ReQL","WAArrayBufferUtils","WABase64","WAResultOrError","WorkerRelay","WorkerRelayNetwork","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h!==void 0?h:h=b("EBAddDeviceGraphQLEBFetchVirtualDeviceInfoQuery.graphql");function a(a){var b=a.backupId,c=a.qplInstanceKey,e=a.recoveryCode,f=a.storage,g=a.userId;return d("WorkerRelayNetwork").getWorkerNetworkExecute().then(function(){return l({backupId:b,fetchQueryGraphQLFn:function(a,b){return d("WorkerRelay").createWorkerQuery(a,b)},qplInstanceKey:c,recoveryCode:e,storage:f,userId:g})})["catch"](function(){return d("WAResultOrError").makeError("worker-environment-error")})}function e(a){var b=a.backupId,c=a.environment,e=a.qplInstanceKey,f=a.recoveryCode,g=a.storage;a=a.userId;return l({backupId:b,fetchQueryGraphQLFn:function(a,b){return d("CometRelay").fetchQuery(c,a,b,{fetchPolicy:"network-only"}).toPromise()},qplInstanceKey:e,recoveryCode:f,storage:g,userId:a})}function l(a){var e=a.backupId,g=a.fetchQueryGraphQLFn,h=a.qplInstanceKey,l=a.recoveryCode,r=a.storage,s=a.userId;try{return q(r).then(function(a){var e=(a=a)!=null?a:s;p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_PARSE_RECOVERY_CODE_START,h);return(j||(j=b("Promise"))).all([r.runInTransaction(function(a){return c("LSParseRecoveryCode_v2.nop")(a,0,l,e,c("LSVec").ofArray([]))},"readwrite","ui",void 0,f.id+":214"),j.resolve(e)])}).then(function(a){p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_PARSE_RECOVERY_CODE_END,h);var b=a[0][0],j=a[0][1];a=a[1];if(b==null||j==null)return d("WAResultOrError").makeError("missing-mandatory-field");var l=d("WABase64").encodeB64(b);p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_FETCH_VD_GRAPHQL_START,h);return g(k,{request_uuid:a,virtual_device_id:l}).then(function(a){var g;if((a==null?void 0:(g=a.fetch_virtual_device_info_for_device_addition_v2)==null?void 0:g.ok)===!1){c("QPLUserFlow").addAnnotations(c("qpl")._(521473756,"2768"),{string:{fetch_vd_info_error_code:(g=a==null?void 0:(g=a.fetch_virtual_device_info_for_device_addition_v2)==null?void 0:(g=g.error)==null?void 0:g.code)!=null?g:""}},{instanceKey:h});p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_FETCH_VD_GRAPHQL_END,h);return(a==null?void 0:(g=a.fetch_virtual_device_info_for_device_addition_v2)==null?void 0:(g=g.error)==null?void 0:g.code)==="NO_VIRTUAL_DEVICE_FOUND"?d("EBGetLSVirtualDevices").getLSVirtualDevices(r).then(function(a){a.length>0&&p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_VIRTUAL_DEVICE_EXISTS,h);return d("WAResultOrError").makeError("graphql-fetch-vd-error")}):d("WAResultOrError").makeError("graphql-fetch-vd-error")}p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_FETCH_VD_GRAPHQL_END,h);a=a==null?void 0:(g=a.fetch_virtual_device_info_for_device_addition_v2)==null?void 0:g.data;g=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();var k=(a==null?void 0:a.encrypted_secret_values)!=null?o(a==null?void 0:a.encrypted_secret_values):null,l=a==null?void 0:a.epoch_storage_public_key,q=a==null?void 0:a.epoch_id,s=a==null?void 0:a.last_epoch_id;if(a==null||g===""||k==null||q==null||l==null||s==null){var t=[];a==null&&t.push("payload");g===""&&t.push("deviceRegistrationId");k==null&&t.push("validated_encrypted_secret_values");q==null&&t.push("epoch_id");l==null&&t.push("epoch_storage_public_key");s==null&&t.push("last_epoch_id");p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_MISSING_GRAPHQL_FIELDS,h,{string_array:{missing_mandatory_field:t}});return d("WAResultOrError").makeError("missing-mandatory-field")}var u=new(c("LSDict"))();a.sync_epochs.forEach(function(a){var b=m(a);b!=null&&a.epoch_id!=null&&u.set(a.epoch_id,d("LSShape").ofRecord(b))});a=n({epoch_head:(t=a.minos_epoch)==null?void 0:t.epoch_head,self_epoch_signature:(t=a.minos_epoch)==null?void 0:t.self_epoch_signature});p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_START,h);var v={backupId:e,backupTenancy:(i||(i=d("I64"))).of_int32(c("LSEncryptedBackupsBackupTenancy").PRODUCTION),blobDecryptionKey:j,deviceRegistrationId:g,encryptedSecretValues:d("LSShape").ofRecord(k),epochId:i.of_string(q),epochStoragePublicKey:d("WABase64").decodeB64(l),lastEpochId:i.of_string(s),syncEpochs:u,taskId:i.of_int32(0),traceId:h.toString(),virtualDeviceId:b};c("gkx")("14827")&&(v=babelHelpers["extends"]({},v,{minosEpoch:a}));return r.runInTransaction(function(a){return c("LSAddDeviceWithVirtualDeviceAndDecryptionKeyStoredProcedure")(c("LSFactory")(a),v)},"readwrite",void 0,void 0,f.id+":392").then(function(){p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_END,h);return d("WAResultOrError").makeResult()})["catch"](function(a){p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_VIRTUAL_DEVICE_KEY_SPROC_FAIL,h,{string:{error_message:a.message}});return d("WAResultOrError").makeError("vd-and-decryption-key-sproc-error")})})["catch"](function(a){p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_FETCH_VD_GRAPHQL_FAIL,h,{string:{error_message:a.message}});return d("WAResultOrError").makeError("graphql-fetch-vd-error")})})["catch"](function(a){p(d("EBAPIQPLPoints").EBAddDeviceGraphqlQPLPoints.ADD_DEVICE_PARSE_RECOVERY_CODE_FAIL,h,{string:{error_message:a.message}});return d("WAResultOrError").makeError("parse-recovery-code-error")})}catch(a){c("FBLogger")("wmi_eb").catching(a).mustfix("Runtime error performing EBAddDeviceGraphQL: %s",a);p(d("EBAPIQPLPoints").EBAddDeviceQPLPoints.ADD_DEVICE_RUNTIME_ERROR,h,{string:{error_message:a.message}});return(j||(j=b("Promise"))).resolve(d("WAResultOrError").makeError("runtime-error"))}}function m(a){var b=a.backup_id,e=a.encrypted_epoch_key,f=a.epoch_anon_id,g=a.epoch_auth_public_key,h=a.epoch_data_v2,j=a.epoch_id,k=a.is_active_epoch,l=a.minos_epoch,m=a.next_epoch_id;a=a.prev_epoch_id;if(b==null||f==null||g==null||j==null||k==null)return null;var n=l==null?void 0:l.epoch_head;l=l==null?void 0:l.self_epoch_signature;n=n!=null&&l!=null?d("LSShape").ofRecord({epoch_head:d("WABase64").decodeB64(n),self_epoch_signature:d("WABase64").decodeB64(l)}):void 0;l=h==null?void 0:h.epoch_anon_id;h=h==null?void 0:h.epoch_root_key;l=l!=null&&h!=null?{epoch_anon_id:l,epoch_root_key:h}:null;h={backup_id:(i||(i=d("I64"))).of_string(b),encrypted_epoch_key:e!=null?d("WABase64").decodeB64(e):null,epoch_anon_id:d("WAArrayBufferUtils").stringToArrayBuffer(f),epoch_auth_public_key:d("WABase64").decodeB64(g),epoch_data_v2:l?d("LSShape").ofRecord(l):null,epoch_id:i.of_string(j),is_active_epoch:k,next_epoch_id:m!=null?(i||(i=d("I64"))).of_string(m):null,prev_epoch_id:a!=null?(i||(i=d("I64"))).of_string(a):null};c("gkx")("14827")&&(h=babelHelpers["extends"]({},h,{minos_epoch:n}));return h}function n(a){var b=a.epoch_head;a=a.self_epoch_signature;return b==null||a==null?void 0:d("LSShape").ofRecord({epoch_head:d("WABase64").decodeB64(b),self_epoch_signature:d("WABase64").decodeB64(a)})}function o(a){var b=a.encrypted_epoch_anon_id,c=a.encrypted_epoch_root_key,d=a.encrypted_epoch_storage_private_key,e=a.encrypted_mailbox_root_key_blob,f=a.encrypted_oblivious_validation_token_blob,g=a.encrypted_ocmf_client_state;a=a.encrypted_orf_client_state_v2;return b==null||c==null||e==null||f==null||g==null?null:{encrypted_epoch_anon_id:b,encrypted_epoch_root_key:c,encrypted_epoch_storage_private_key:d,encrypted_mailbox_root_key_blob:e,encrypted_oblivious_validation_token_blob:f,encrypted_ocmf_client_state:g,encrypted_orf_client_state_v2:a}}function p(a,b,d){c("QPLUserFlow").addPoint(c("qpl")._(521473756,"2768"),a,{data:d,instanceKey:b})}function q(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups)).then(function(a){a=a==null?void 0:a.encryptionManagementDelegatorId;return a!=null?(i||(i=d("I64"))).to_string(a):null})}g.addDeviceGraphQLWorker=a;g.addDeviceGraphQL=e}),98);/*FB_PKG_DELIM*/
__d("CryptoUtils",["Base64Utils","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","MEBEncryptionVersion","SymmetricEncryptionCreateEncryptedData","SymmetricEncryptionPaddingUtils","XPlatReactCrypto","XPlatReactTextDecoder","err"],(function(a,b,c,d,e,f,g){"use strict";var h=32,i=2147483647,j="message_key_in_epoch",k="_",l="cipher_version",m="thread",n="message_thread";f="supplemental_enc_aad";var o="kdf_info:mailbox_root_key_v2>supplemental_enc_key";function a(a,b,d,e){var f=d>=c("MEBEncryptionVersion").ENCRYPTION_KDF_WITH_NULL_SALT?null:p(e);a=q(a,d,e);if(a==null)throw c("err")("Error in derive message symmetric key. info is null");return s(a,f,b,[h])}function p(a){try{return new TextEncoder().encode(a).buffer}catch(a){throw c("err")("Error in get blob from string with exception: ",a)}}function q(a,b,c){a=r(a,b,c);return p(a)}function r(a,b,e){if(b>=c("MEBEncryptionVersion").ENCRYPTION_KDF_WITH_NULL_SALT_DF_CANARY||b>=c("MEBEncryptionVersion").ENCRYPTION_KDF_WITH_NULL_SALT)return[j,new(d("XPlatReactTextDecoder").TextDecoder)().decode(a),l,b,m,e!=null?e:""].join(k);else if(b>=c("MEBEncryptionVersion").ENCRYPTION_KDF_WITH_VERSION)return[j,new(d("XPlatReactTextDecoder").TextDecoder)().decode(a),l,b].join(k);else return[j,new(d("XPlatReactTextDecoder").TextDecoder)().decode(a)].join(k)}function s(a,b,e,f){if(f.length<1||f.some(function(a){return a>i}))throw c("err")("Invalid key lengths for derive keys");var g=f.reduce(function(a,b){return a+b},0)*8;return d("XPlatReactCrypto").subtleImportKey("raw",e,"HKDF",!1,["deriveBits"]).then(function(c){var e;return d("XPlatReactCrypto").subtleDeriveBits({hash:"SHA-256",info:a,name:"HKDF",salt:(e=b)!=null?e:new Uint8Array(10).buffer},c,g)}).then(function(a){a=new Uint8Array(a);var b=[],c=0;for(var d=0,e=f.length;d<e;++d){var g=c+f[d];b.push(a.slice(c,g).buffer);c=g}return b}).catch(function(a){throw c("err")("Exception in create derived keys",a)})}function b(a,b,e){e=d("Base64Utils").toArrayBuffer(e);return t(a,b,e).then(function(a){return a}).then(function(a){if(a==null)throw c("err")("symmetric string decryption with null result");return new(d("XPlatReactTextDecoder").TextDecoder)().decode(a)}).catch(function(a){throw c("err")("symmetric string decryption failed with error",a)})}function t(a,b,e){if(e.byteLength<d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes+d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLengthInBytes)throw c("err")("cipher text is invalid");e=new Uint8Array(e);var f=e.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes),g=new(d("HChaCha20").HChaCha20)(),h=e.slice(d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes).buffer;e=g.hChaCha20Bytes(f.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,a);return d("XPlatReactCrypto").subtleImportKey("raw",e,"AES-GCM",!1,["decrypt"]).then(function(a){return d("XPlatReactCrypto").subtleDecrypt({additionalData:b,iv:new Uint8Array(f.slice(d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},a,h)}).then(function(a){a=d("SymmetricEncryptionPaddingUtils").stripPadding(a);if(a==null)throw c("err")("Failed to strip padding for symmetric decryption");return a}).catch(function(a){throw c("err")("symmetric data decryption failed with error",a)})}async function e(a,b,e){b=await c("SymmetricEncryptionCreateEncryptedData")(b,new TextEncoder().encode([n,e].join(k)).buffer,a);e=b[0];return e!=null?d("Base64Utils").fromArrayBuffer(e):null}g.KEY_LEN=h;g.MAX_INT_32=i;g.STRING_JOIN_SEPARATOR=k;g.MESSAGE_ENCYPTION_AAD=n;g.SUPPLEMENTAL_ENC_AAD=f;g.SUPPLEMENTAL_ENC_KEY_INFO=o;g.deriveMessageSymmetricKey=a;g.getBlobFromString=p;g.createDerivedKeys=s;g.symmetricEncryptionCreateDecryptedString=b;g.encryptThenBase64EncodeBlob=e}),98);
__d("PublicEncryptionCreateEncryptedData",["CryptoLogger","Promise","PublicKeyEncryptionUtils","RetUtil","UInt8Array","XPlatReactCrypto","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("PublicKeyCrypto").__setRef("PublicEncryptionCreateEncryptedData"),j=c("requireDeferred")("X25519").__setRef("PublicEncryptionCreateEncryptedData");function k(a,b){if(a.byteLength>32)return b("PSK is too long")}function l(a,c){return new(h||(h=b("Promise")))(function(b,e){d("PublicKeyEncryptionUtils").assertValidCurvePoint(c,e);k(a,e);return b()})}function a(a,c,e,f,g,k){var m=new Uint8Array([1]),n=new Uint8Array(g),o=d("PublicKeyEncryptionUtils").getSalt(f),p=new Uint8Array(a),q=new Uint8Array(c),r=new Uint8Array(e);return(h||(h=b("Promise"))).all([d("PublicKeyEncryptionUtils").assertKeyLength(p),d("PublicKeyEncryptionUtils").assertKeyLength(q),d("PublicKeyEncryptionUtils").assertKeyLength(r)]).then(function(){return l(o,p)}).then(function(){return j.load()}).then(function(a){var c=a.generateKeys(a.KeyPurpose.Encryption),e=c.pk,f=d("PublicKeyEncryptionUtils").concatAad(m,q,p,e,n);e=function(c,d,e){c=a.publicKeyFromBytes(c,a.KeyPurpose.Encryption);d=a.publicKeyFromBytes(d,a.KeyPurpose.Encryption);e=a.secretKeyFromBytes(e,a.KeyPurpose.Encryption);return c==null||d==null||e==null?(h||(h=b("Promise"))).resolve():(h||(h=b("Promise"))).resolve([c,d,e])};return e(p,q,r).then(function(a){return a==null?null:{ephemeralPriv:c.sk,ephemeralPubBytes:c.pk,innerAad:f,receiverPub:a[0],senderPriv:a[2],senderPub:a[1]}})}).then(function(a){if(a==null)return;var b=a.ephemeralPubBytes,c=a.ephemeralPriv,e=a.senderPriv,f=a.receiverPub,g=a.innerAad;return i.load().then(function(a){return a.senderDeriveSharedSecret(e,c,f)}).then(function(a){if(a==null)return;return d("PublicKeyEncryptionUtils").getAesKey(a,o,g,"encrypt")}).then(function(a){if(a==null)return;var b=new Uint8Array(12).buffer;return d("XPlatReactCrypto").subtleEncrypt({additionalData:g,iv:new Uint8Array(b),name:"AES-GCM",tagLength:128},a,k)}).then(function(a){if(a==null)return;a=new Uint8Array(a);return d("UInt8Array").concatBytes([m,b,a]).buffer})}).then(function(a){return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(a))})["catch"](function(a){var c=d("CryptoLogger").CryptoLogger("public_encryption_create_encrypted_data");d("CryptoLogger").captureError(c,a).mustfix("Creation of encrypted data for public encryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult(void 0))})}g["default"]=a}),98);
__d("EpochUtils",["Base64Utils","CryptoUtils","FBLogger","I64","LSBase64Decode","LSCryptoUtils","PublicEncryptionCreateDecryptedData","PublicEncryptionCreateEncryptedData","XPlatReactTextDecoder"],(function(a,b,c,d,e,f,g){"use strict";var h,i="epoch_chaining",j="epoch_root_key",k="epoch_data_storage",l="epoch_data_metadata",m=18;function a(a){var b=d("LSCryptoUtils").strToBuf("0");if(a==null)return b;if(a.byteLength===0)return b;b=new(d("XPlatReactTextDecoder").TextDecoder)();b=b.decode(a);a=Number.parseInt(b,10);if(Number.isNaN(a))throw c("FBLogger")("messenger_web").mustfixThrow("currentEpochInt is NaN");b=a+1;return d("LSCryptoUtils").strToBuf(b.toString())}async function b(a,b,e){var f,g=[(f=d("CryptoUtils")).KEY_LEN,f.KEY_LEN];f=f.getBlobFromString([i,a,(h||(h=d("I64"))).to_string(b)].join(d("CryptoUtils").STRING_JOIN_SEPARATOR));if(f==null)throw c("FBLogger")("messenger_web").mustfixThrow("infoForEpochChaining is empty");a=await d("CryptoUtils").createDerivedKeys(f,null,e,g);return{epoch_chaining_key:a[0],epoch_distribution_pre_shared_key:a[1]}}async function e(a,b,d,e,f,g){a=await c("PublicEncryptionCreateDecryptedData")(a,b,d,e,n(f),g);return a[0]}async function f(a,b,d,e,f,g){a=await c("PublicEncryptionCreateEncryptedData")(a,b,d,e,n(f),g);return a[0]}function n(a){return new TextEncoder().encode(["epoch_",a].join(d("CryptoUtils").STRING_JOIN_SEPARATOR)).buffer}async function o(a,b,c,e){a=await d("CryptoUtils").createDerivedKeys(a,b,c,e);return a[0]}function p(a,b){var e=d("CryptoUtils").getBlobFromString(j);if(e==null)throw c("FBLogger")("messenger_web").mustfixThrow("epochRootKey is empty");return o(e,a,b,[d("CryptoUtils").KEY_LEN])}function q(a,b){b=new TextEncoder().encode("meb/debug/fingerprint/"+b).buffer;if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("blob type for which fingerprints are supported is empty");return o(b,null,a,[m])}async function r(a,b,c){var e=[d("CryptoUtils").KEY_LEN];b=d("Base64Utils").fromArrayBuffer(b);a=[a,b].join(d("CryptoUtils").STRING_JOIN_SEPARATOR);b=await d("CryptoUtils").createDerivedKeys(new TextEncoder().encode(a).buffer,null,c,e);return b.length===0?Promise.resolve():b[0]}function s(a){return r(k,a.epochAnonIdBlob,a.epochRootKeyBlob)}async function t(a,b){b=d("Base64Utils").fromArrayBuffer(b);b=await u(b,a,l);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("symmetricDecryptAndBase64Decode output is empty while decrypting backward edge");return b}async function u(a,b,e){e=d("LSBase64Decode").decode(e);if(e==null)throw c("FBLogger")("messenger_web").mustfixThrow("aadBuffer is empty");b=await d("CryptoUtils").symmetricEncryptionCreateDecryptedString(b,e,a);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("decrypted_string_base64 is empty");return d("LSBase64Decode").decode(b)}g.getNextEpochId=a;g.generateEpochChainingAndDistributionPreSharedKey=b;g.decryptEpochKey=e;g.generateEncryptedEpochKey=f;g.deriveKey=o;g.generateEpochRootKey=p;g.getFingerPrint=q;g.createDerivedKeysForEpoch=r;g.deriveBackwardEdgeKey=s;g.decryptBackwardEdge=t}),98);
__d("LSEpochStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ES_OPEN:1,ES_CLOSE:2});f["default"]=a}),66);
__d("MEBEpochDerivationResult",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:0,UNKNOWN_ERROR:1,EDGE_NEITHER_FORWARD_NOR_BACKWARD:2,FORWARD_DECRYPTION_FAILED:3,FORWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED:4,BACKWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED:5,BACKWARD_DECRYPTION_FAILED:6,MISSING_CLIENT_STATE:7,DEVICE_ID_MISMATCH:8,SOURCE_FINGERPRINT_MISMATCH:9,DEST_FINGERPRINT_MISMATCH:10,STORAGE_KEY_MISMATH:11,PSK_FINGERPRINT_MISMATCH:12,SOURCE_EPOCH_NOT_FOUND:13,FORWARD_EDGE_NOT_CONSECUTIVE:14,BACKWARD_EDGE_NOT_CONSECUTIVE:15,DERIVATION_DEST_EXISTS:16,DERIVATION_DEST_ANON_ID_EXISTS:17});f["default"]=a}),66);
__d("RecordEpochSyncMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8864236030343819"}),null);
__d("RecordEpochSyncMutation.graphql",["RecordEpochSyncMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"input"}],concreteType:"XFBRecordSyncEpochResponse",kind:"LinkedField",name:"xfb_record_epoch_sync",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RecordEpochSyncMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RecordEpochSyncMutation",selections:c},params:{id:b("RecordEpochSyncMutation_facebookRelayOperation"),metadata:{},name:"RecordEpochSyncMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("RecordEpochSyncMutation",["FBLogger","RecordEpochSyncMutation.graphql","createWorkerMutation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("RecordEpochSyncMutation.graphql");function a(a){var b=c("createWorkerMutation")(i);b=b[0];b=b({input:a});if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Failed to record epoch sync");return b}g["default"]=a}),98);
__d("DeriveAndStoreEpochs",["Base64Utils","EpochUtils","I64","LSAuthorityLevel","LSBase64Decode","LSEpochStatus","MAWCurrentUser","MEBEpochDerivationResult","MEBEpochSyncReason","ReQL","RecordEpochSyncMutation","WACryptoUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a,b,e,f){var g,i=await d("EpochUtils").getNextEpochId(f.epochAnonIdBlob);if(new TextDecoder().decode(i)!==(e==null?void 0:(i=e.to_epoch)==null?void 0:i.epoch_anon_id))return d("WAResultOrError").makeError({errorMessage:"epoch forward edge not consecutive",resultCode:c("MEBEpochDerivationResult").FORWARD_EDGE_NOT_CONSECUTIVE});i=e==null?void 0:(i=e.from_epoch)==null?void 0:i.epoch_id;g=e==null?void 0:(g=e.from_epoch)==null?void 0:g.epoch_anon_id;if(i==null||g==null)return d("WAResultOrError").makeError({errorMessage:"fromEpochId or fromEpochAnonId is null",resultCode:c("MEBEpochDerivationResult").SOURCE_EPOCH_NOT_FOUND});g=await d("EpochUtils").generateEpochChainingAndDistributionPreSharedKey(g,(h||(h=d("I64"))).of_string(i),f.epochRootKeyBlob);i=g.epoch_distribution_pre_shared_key;f=await d("EpochUtils").getFingerPrint(i,"MEBCryptoPreSharedKey");if((b==null?void 0:b.psk_fingerprint)!==d("Base64Utils").fromArrayBuffer(f))return d("WAResultOrError").makeError({errorMessage:"epoch forward edge psk fingerprint mismatch",resultCode:c("MEBEpochDerivationResult").PSK_FINGERPRINT_MISMATCH});f=b==null?void 0:b.epoch_storage_public_key;if(d("Base64Utils").fromArrayBuffer(a.epochStoragePublicKeyBlob)!==f)return d("WAResultOrError").makeError({errorMessage:"epoch forward edge storage key mismatch",resultCode:c("MEBEpochDerivationResult").STORAGE_KEY_MISMATH});f=b==null?void 0:b.auth_public_key;if(f==null)return d("WAResultOrError").makeError({errorMessage:"epoch forward edge auth public key is null",resultCode:c("MEBEpochDerivationResult").FORWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED});e=e==null?void 0:(e=e.to_epoch)==null?void 0:e.epoch_anon_id;if(e==null)return d("WAResultOrError").makeError({errorMessage:"epoch forward edge target epoch anon id is null",resultCode:c("MEBEpochDerivationResult").FORWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED});b=b==null?void 0:b.encrypted_entropy;if(b==null)return d("WAResultOrError").makeError({errorMessage:"epoch forward edge encrypted entropy is null",resultCode:c("MEBEpochDerivationResult").FORWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED});f=d("LSBase64Decode").decode(f);if(f==null)return d("WAResultOrError").makeError({errorMessage:"epoch forward edge auth public key is null",resultCode:c("MEBEpochDerivationResult").FORWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED});b=d("LSBase64Decode").decode(b);if(b==null)return d("WAResultOrError").makeError({errorMessage:"epoch forward edge encrypted entropy is null",resultCode:c("MEBEpochDerivationResult").FORWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED});a=await d("EpochUtils").decryptEpochKey(a.epochStoragePublicKeyBlob,a.epochStoragePrivateKeyBlob,f,i,e,b);return a==null?d("WAResultOrError").makeError({errorMessage:"epoch forward edge entropy is null",resultCode:c("MEBEpochDerivationResult").FORWARD_DECRYPTION_FAILED}):d("WAResultOrError").makeResult(await d("EpochUtils").generateEpochRootKey(g.epoch_chaining_key,a))}async function j(a,b,e){b=b==null?void 0:(b=b.to_epoch)==null?void 0:b.epoch_anon_id;if(b==null)return d("WAResultOrError").makeError({errorMessage:"toEpochId is null",resultCode:c("MEBEpochDerivationResult").BACKWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED});b=d("EpochUtils").getNextEpochId(d("LSBase64Decode").decode(b));if(d("WACryptoUtils").arrayBuffersEqual(b,a.epochAnonIdBlob))return d("WAResultOrError").makeError({errorMessage:"epoch backward edge not consecutive",resultCode:c("MEBEpochDerivationResult").BACKWARD_EDGE_NOT_CONSECUTIVE});b=await d("EpochUtils").deriveBackwardEdgeKey(a);return b==null?d("WAResultOrError").makeError({errorMessage:"epoch backward edge storage key is null",resultCode:c("MEBEpochDerivationResult").STORAGE_KEY_MISMATH}):d("WAResultOrError").makeResult(await d("EpochUtils").decryptBackwardEdge(b,e))}async function k(a,b,e){var g,k,l=await a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_client_state))},"readwrite",void 0,void 0,f.id+":226");if(l==null)return d("WAResultOrError").makeError({errorMessage:"client state is missing",resultCode:c("MEBEpochDerivationResult").MISSING_CLIENT_STATE});var m=b==null?void 0:(g=b.from_epoch)==null?void 0:g.epoch_id;if(m==null)return d("WAResultOrError").makeError({errorMessage:"fromEpochId is null",resultCode:c("MEBEpochDerivationResult").SOURCE_EPOCH_NOT_FOUND});g=await a.runInTransaction(function(a){return a.secure_encrypted_backups_epochs.get((h||(h=d("I64"))).of_string(m))},"readwrite",void 0,void 0,f.id+":244");if(g==null)return d("WAResultOrError").makeError({errorMessage:"source epoch is missing",resultCode:c("MEBEpochDerivationResult").SOURCE_EPOCH_NOT_FOUND});k=b==null?void 0:(k=b.from_epoch)==null?void 0:k.epoch_anon_id;if(new TextDecoder().decode(g.epochAnonIdBlob)!==k)return d("WAResultOrError").makeError({errorMessage:"epoch derivation source epoch anon id mismatch",resultCode:c("MEBEpochDerivationResult").SOURCE_FINGERPRINT_MISMATCH});k=b==null?void 0:b.from_epoch_fingerprint;var n=await d("EpochUtils").getFingerPrint(g.epochRootKeyBlob,"MEBEpochRootKey");if(d("Base64Utils").fromArrayBuffer(n)!==k)return d("WAResultOrError").makeError({errorMessage:"epoch derivation source epoch fingerprint mismatch",resultCode:c("MEBEpochDerivationResult").SOURCE_FINGERPRINT_MISMATCH});n=b==null?void 0:b.forward_edge;if(n!=null)k=await i(l,n,b,g);else{n=b==null?void 0:b.backward_edge;if(n==null)return d("WAResultOrError").makeError({errorMessage:"backward edge is null",resultCode:c("MEBEpochDerivationResult").BACKWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED});k=await j(g,b,new TextEncoder().encode(n).buffer)}g=b==null?void 0:b.to_epoch_fingerprint;var o=k.value,p=b==null?void 0:(n=b.to_epoch)==null?void 0:n.epoch_id,q=b==null?void 0:(n=b.to_epoch)==null?void 0:n.epoch_anon_id;if(p==null||q==null)return d("WAResultOrError").makeError({errorMessage:"target epoch id or anon id is null",resultCode:c("MEBEpochDerivationResult").FORWARD_SOURCE_EPOCH_NOT_FOUND_DEPRECATED});if(o==null)return k;b=await d("EpochUtils").getFingerPrint(o,"MEBEpochRootKey");if(g!==d("Base64Utils").fromArrayBuffer(b))return d("WAResultOrError").makeError({errorMessage:"epoch derivation target epoch fingerprint mismatch",resultCode:c("MEBEpochDerivationResult").DEST_FINGERPRINT_MISMATCH});if(e)return d("WAResultOrError").makeResult(o);await a.runInTransaction(function(a){return a.secure_encrypted_backups_epochs.put({authorityLevel:(h||(h=d("I64"))).of_float(c("LSAuthorityLevel").AUTHORITATIVE),backupId:l.backupId,epochAnonIdBlob:new TextEncoder().encode(q).buffer,epochId:h.of_string(p),epochRootKeyBlob:o,epochStatus:h.of_float(c("LSEpochStatus").ES_CLOSE)})},"readwrite",void 0,void 0,f.id+":328");return d("WAResultOrError").makeResult(o)}async function a(a,b,e,f){var g;f===void 0&&(f=!1);var h=Date.now();b=await Promise.all((b=b==null?void 0:b.epoch_edges.map(async function(b){var d,e=await k(a,b,f);return{resultForEpochSync:{error_message:e.success?"":e.error.errorMessage,from:{epoch_anon_id:b==null?void 0:(d=b.from_epoch)==null?void 0:d.epoch_anon_id,epoch_id:b==null?void 0:(d=b.from_epoch)==null?void 0:d.epoch_id},has_backward_edge:(b==null?void 0:b.backward_edge)!=null,has_forward_edge:(b==null?void 0:b.forward_edge)!=null,result_code:e.success?c("MEBEpochDerivationResult").SUCCESS:e.error.resultCode,to:{epoch_anon_id:b==null?void 0:(d=b.to_epoch)==null?void 0:d.epoch_anon_id,epoch_id:b==null?void 0:(d=b.to_epoch)==null?void 0:d.epoch_id}},resultForShadowTestComparison:e.success?e.value:null}}))!=null?b:[]);await c("RecordEpochSyncMutation")({app_id:(g=d("MAWCurrentUser").getAppID())!=null?g:"0",payload:JSON.stringify({decryption_device_id:e,end_ms:Date.now(),epoch_sync_reason:c("MEBEpochSyncReason").NONE_PROVIDED_BY_SERVER,results:b.map(function(a){return a.resultForEpochSync}),start_ms:h,target_device_id:e})});return b.map(function(a){return a.resultForShadowTestComparison})}g.deriveAndStoreEpochs=a}),98);
__d("EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23891425050463617"}),null);
__d("EBMessageRangeQueryWithPersistenceQuery.graphql",["EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"app_id"},c={defaultValue:null,kind:"LocalArgument",name:"restore_payload_string"},d={defaultValue:null,kind:"LocalArgument",name:"restore_type"},e=[{kind:"Variable",name:"app_id",variableName:"app_id"},{kind:"Variable",name:"restore_payload_string",variableName:"restore_payload_string"},{kind:"Variable",name:"restore_type",variableName:"restore_type"}],f={alias:null,args:null,kind:"ScalarField",name:"encryption_version",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"epoch_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"encrypted_protobuf_stanza",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"protobuf_timestamp_ms",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"sk_ciphertext",storageKey:null},l=[g,h];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"EBMessageRangeQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"EBMessageRangeQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMessage",kind:"LinkedField",name:"encrypted_messages",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEchoDocument",kind:"LinkedField",name:"echo_document",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"echo_document_string",storageKey:null},f,g,h,{alias:null,args:null,kind:"ScalarField",name:"epoch_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"otid",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanzas",kind:"LinkedField",name:"protobuf_stanzas",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"top_level_protobuf",plural:!1,selections:[i,f,g,h,j,k],storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"supplemental_protobufs",plural:!0,selections:[i,f,g,h,j,k,{alias:null,args:null,kind:"ScalarField",name:"supplemental_key",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_id",storageKey:null},{alias:null,args:null,concreteType:"XFBMessageRangeInfo",kind:"LinkedField",name:"message_range_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_more_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_more_after",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_after",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_delete_mailbox",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_not_found",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochDerivationSet",kind:"LinkedField",name:"epoch_derivation_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupsEpochEdge",kind:"LinkedField",name:"epoch_edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"backward_edge",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochForwardEdge",kind:"LinkedField",name:"forward_edge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auth_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_entropy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entropy_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_storage_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"psk_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"from_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"to_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"from_epoch_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"to_epoch_fingerprint",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("EBMessageRangeQueryWithPersistenceQuery_facebookRelayOperation"),metadata:{},name:"EBMessageRangeQueryWithPersistenceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EchoMessageDecryptor",["CryptoUtils","I64","LSAuthorityLevel","LSIntEnum","MEBEncryptionVersion","ReQL","WACryptoUtils","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to derive symmetric key for message"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No epoch keys found for message"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Empty echo message string - cannot decrypt"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No backup id provided"]);m=function(){return a};return a}async function n(a,b,e){if(b==null){d("WALogger").ERROR(m());return[]}a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_epochs));return a.filter(function(a){return(h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(h||(h=d("I64"))).equal(a.backupId,(h||(h=d("I64"))).of_float(b))&&e.equals(a[e.key])})}function o(a,b){var c=b.epoch_id;return c!=null?n(a,b.backup_id,{equals:function(a){return a instanceof ArrayBuffer?!1:(h||(h=d("I64"))).equal(c,a)},key:"epochId",value:c}):n(a,b.backup_id,{equals:function(a){return a instanceof ArrayBuffer?d("WACryptoUtils").arrayBuffersEqual(b.epoch_anon_id,a):!1},key:"epochAnonIdBlob",value:b.epoch_anon_id})}a=function(){function a(){}var b=a.prototype;b.decrypt=function(a,b,e){e=e.map(async function(e){if(e.value==null){d("WALogger").ERROR(l());return{otid:e.otid,value:null}}var f=e.value,g=await o(a,e);if(g.length===0){d("WALogger").ERROR(k());return{otid:e.otid,value:null}}g=await d("CryptoUtils").deriveMessageSymmetricKey(g[0].epochAnonIdBlob,g[0].epochRootKeyBlob,(g=e.encryption_version)!=null?g:c("MEBEncryptionVersion").UNKNOWN,b);if(g==null||g.length===0){d("WALogger").ERROR(j());return{otid:e.otid,value:null}}g=await d("CryptoUtils").symmetricEncryptionCreateDecryptedString(g[0],new TextEncoder().encode([d("CryptoUtils").MESSAGE_ENCYPTION_AAD,b].join(d("CryptoUtils").STRING_JOIN_SEPARATOR)).buffer,f);return{otid:e.otid,value:g}});return Promise.all(e)};return a}();g.getEpochKeysByID=o;g.EchoMessageDecryptor=a}),98);
__d("ProtobufMessageDecryptor",["CryptoUtils","EchoMessageDecryptor","MEBEncryptionVersion","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to decrypt protobuf message for message with otid ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] decrypted supplemental key is null"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to decrypt supplemental protobuf"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to decrypt top level protobuf"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] protobuf timestamp is null"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to decrypt protobuf"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] encrypted protobuf content is null"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to derive symmetric key for message"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No epoch keys found for message"]);p=function(){return a};return a}a=function(){function a(){}var b=a.prototype;b.$1=async function(a,b,e){var f;a=await d("EchoMessageDecryptor").getEpochKeysByID(a,e);if(a.length===0){d("WALogger").ERROR(p());return}a=a[0];f=await d("CryptoUtils").deriveMessageSymmetricKey(a.epochAnonIdBlob,a.epochRootKeyBlob,(f=e.encryption_version)!=null?f:c("MEBEncryptionVersion").UNKNOWN,b);if(f==null||f.length===0){d("WALogger").ERROR(o());return}if(e.encryptedProtobufContent==null){d("WALogger").ERROR(n());return}var g=e.encryptedProtobufContent;f=await d("CryptoUtils").symmetricEncryptionCreateDecryptedString(f[0],new TextEncoder().encode([d("CryptoUtils").MESSAGE_ENCYPTION_AAD,b].join(d("CryptoUtils").STRING_JOIN_SEPARATOR)).buffer,g);var h;if(e.skCipherText!=null){b=e.skCipherText;a=await (g=d("CryptoUtils")).createDerivedKeys(new TextEncoder().encode(g.SUPPLEMENTAL_ENC_KEY_INFO).buffer,void 0,a.epochRootKeyBlob,[g.KEY_LEN]);h=await g.symmetricEncryptionCreateDecryptedString(a[0],new TextEncoder().encode(g.SUPPLEMENTAL_ENC_AAD).buffer,b)}if(f==null){d("WALogger").ERROR(m());return}if(e.protobufTimestampMs==null){d("WALogger").ERROR(l());return}return{decryptedProtobuf:f,decryptedSupplementalKey:h,protobufTimestampMs:e.protobufTimestampMs}};b.$2=async function(a,b,c){var e=this,f=c.topLevelProtobuf,g=c.supplementalProtobufs;f=await this.$1(a,b,f);if(f==null){d("WALogger").ERROR(k());return}var h=new Map();await Promise.all(g.map(async function(c){c=await e.$1(a,b,c);if(c==null){d("WALogger").ERROR(j());return}var f=c.decryptedSupplementalKey;if(f==null){d("WALogger").ERROR(i());return}h.set(f,c)}));return{otid:c.topLevelProtobuf.otid,supplementalProtobufs:h,topLevelProtobuf:f}};b.decrypt=async function(a,b,c){var e=this,f=[];await Promise.all(c.map(async function(c){var g=await e.$2(a,b,c);if(g==null){d("WALogger").ERROR(h(),c.topLevelProtobuf.otid);return}f.push(g)}));return f};return a}();g.ProtobufMessageDecryptor=a}),98);
__d("EBMessageRangeQueryWithPersistence",["Base64Utils","DeriveAndStoreEpochs","EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBMessageRangeQueryUtils","EBMessageRangeQueryWithPersistenceQuery.graphql","EchoMessageDecryptor","I64","LSAuthorityLevel","LSDatabaseSingleton","LSDecryptMessageProtobufsStoredProcedure","LSDecryptMessagesStoredProcedure","LSDeleteAndReenrollDeviceStateStoredProcedure","LSEncryptedBackupsMessagesRangeQueryDirection","LSFactory","LSIntEnum","LSMEBDeviceReenrollmentReason","LSMEBTaskCreationSource","LSShape","LSVec","MAWCurrentUser","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","MAWJids","MAWJobDefinitions","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","ProtobufMessageDecryptor","QPLUserFlow","ReQL","WAHashStringToNumber","WAJids","WAResultOrError","WATagsLogger","WorkerRelay","WorkerRelayNetwork","gkx","handleRestoreMessagesGraphQLResponse","justknobx","promiseDone","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Decrypted supplemental protobuf message mismatch - supplemental key: ",", decryptedNonLSProtobuf OTID: ",", decryptedLSProtobuf OTID: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Decrypted supplemental protobuf missing in decryptedLSProtobuf supplementals map"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Decrypted supplemental protobuf supplemental key missing in decryptedLSProtobuf supplementals map"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Decrypted supplemental protobuf supplemental key null"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Decrypted supplemental protobuf message map sizes are unequal - decryptedNonLSProtobufs supplementals length: ",", decryptedLSProtobufs supplementals length: ",", decryptedNonLSProtobuf OTID: ",", decryptedLSProtobuf OTID: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Decrypted protobuf message mismatch - decryptedNonLSProtobuf OTID: ",", decryptedLSProtobuf OTID: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Unable to find protobuf in decrypted non ls batch corresponding for otid ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Unable to find protobuf in decrypted non ls batch corresponding for otid ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Decrypted LS protobuf otid is null"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Decrypted protobuf message set sizes are unequal - decryptedNonLSProtobufs length: ",", decryptedLSProtobufs length: ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[protobuf-only] decryptProtobufMessagesAndCompareWithLightspeedDecryptionResponse failed with an error: ",""]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["[protobuf-only] decryptMessageProtobufs failed with error: ",""]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[protobuf-only] decryptMessageProtobufs failed with an error"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["[echo] decryptEchoMessagesAndCompareWithLightspeedDecryptionResponse failed with an error: ",""]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["[echo-only][echo] decryptMessageEcho failed with error: ",""]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["[echo-only][echo] decryptMessageEcho failed with an error."]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mixed] [echo] decryptEchoMessagesAndCompareWithLightspeedDecryptionResponse failed with an error: ",""]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mixed][protobuf] decryptProtobufMessagesAndCompareWithLightspeedDecryptionResponse failed with an error: ",""]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mixed][protobuf] decryptMessageProtobufs failed with error: ",""]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mixed][protobuf] decryptMessageProtobufs failed with an error."]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mixed][echo] decryptMessageEcho failed with error: ",""]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mixed][echo] decryptMessageEcho failed with an error."]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] messageRangeQuery echo: "," protobuf: "," nonLsEcho: "," nonLSProtobuf: ",""]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["message range info is not complete - cannot proceed with graphQL restore"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["message range info is null - cannot proceed with graphQL restore"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["graphQL range restore error ",""]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["backup_id is null during graphQL restore"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while comparing LS and non LS epoch derivation ",""]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["server side exception during graphql restore - ",""]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["GQL worker range restore query returned null for message response"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["mandatory params of client state are null"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["No client state found - unable to restore"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Issuing messageRangeQuery with args: ",""]);R=function(){return a};return a}var S=c("requireDeferred")("LSEBUnifiedRestoreUtils").__setRef("EBMessageRangeQueryWithPersistence"),T=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("EBMessageRangeQueryWithPersistence"),U=c("requireDeferred")("LSRestoreProtobufs.nop").__setRef("EBMessageRangeQueryWithPersistence"),V=d("WATagsLogger").TAGS(["labyrinth_web","EBMessageRangeQueryWithPersistence"]),W=h!==void 0?h:h=b("EBMessageRangeQueryWithPersistenceQuery.graphql");async function a(a){var b=a.chatJid,e=a.direction,g=a.includeOffset;g=g===void 0?!1:g;var h=a.numMessages,l=a.sortOrderMs,m=a.source,n=a.traceId;if(d("EBAPIWorkerCheck").runningInWorker())return d("WAResultOrError").makeError("unsupported-context");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql");var o=d("WAHashStringToNumber").hashStringToNumber(n),p=c("qpl")._(521471755,"2586");try{var q,r;c("QPLUserFlow").start(p,{annotations:{bool:{mainThreadRestore:!0,workerThreadRestore:!1},int:{num_messages_requested:h,source:(q=m)!=null?q:c("LSMEBTaskCreationSource").UNKNOWN},string:{request_args:JSON.stringify(a)}},instanceKey:o,timeoutInMs:c("justknobx")._("2950")});V.LOG(R(),n,JSON.stringify(a));d("MAWEBRestoreTrackingUtils").markEBRestorePaginated(m,n,"GQL_MAIN_THREAD");var s=await (i||(i=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"lsdb_singleton_retrieved",traceId:n});c("QPLUserFlow").addPoint(p,"lsdb_singleton_retrieved",{instanceKey:o});var t;await s.runInTransaction(async function(a){var e;t=await d("handleRestoreMessagesGraphQLResponse").getClientState(s,a);d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{string:{device_id:(j||(j=d("I64"))).to_string((e=(e=t)==null?void 0:e.device_id)!=null?e:(j||(j=d("I64"))).zero)}},pointName:"client_state_retrieved",traceId:n});c("QPLUserFlow").addPoint(p,"client_state_retrieved",{data:{string:{device_id:j.to_string((e=(e=t)==null?void 0:e.device_id)!=null?e:(j||(j=d("I64"))).zero)}},instanceKey:o});e=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b),"GQL_range_restore_eb_api_call");if(e.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW||e.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{string:{thread_state_by_jid:e.type}},pointName:"chat_jid_not_found_in_act_mapping_table",traceId:n});c("QPLUserFlow").addPoint(p,"chat_jid_not_found_in_act_mapping_table",{instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(n,!1);c("QPLUserFlow").endSuccess(p,{instanceKey:o});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.thread.missing.error");return d("WAResultOrError").makeError("thread-not-found-in-mi-act-mapping-table")}else d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{string:{thread_state_by_jid:e.type}},pointName:"chat_jid_exists_in_act_mapping_table",traceId:n}),c("QPLUserFlow").addPoint(p,"chat_jid_exists_in_act_mapping_table",{instanceKey:o})},"readwrite",void 0,void 0,f.id+":222");if(t==null){V.ERROR(Q());c("QPLUserFlow").endFailure(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE}},instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("no-client-state")}q=t;a=q.backupId;var u=q.device_id,v=q.locally_available_epochs,w=q.mailboxRootKey;q=q.ocmfClientStateBlob;if(a==null||u==null||w==null||q==null){V.ERROR(P());c("QPLUserFlow").endFailure(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE}},instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,"client_state_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}var x=d("MAWCurrentUser").getAppID();d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"app_id_retrieved",traceId:n});c("QPLUserFlow").addPoint(p,"app_id_retrieved",{instanceKey:o});var y=d("WAJids").threadIdForChatJid(b);d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"converted_chatjid_to_threadid",traceId:n});c("QPLUserFlow").addPoint(p,"converted_chatjid_to_threadid",{instanceKey:o});e=e==="before"?c("LSEncryptedBackupsMessagesRangeQueryDirection").BEFORE:c("LSEncryptedBackupsMessagesRangeQueryDirection").AFTER;w={restore_context:{act_thread_id:d("MAWJobDefinitions").toThreadJidPrimaryId(y),site:"www",tam_thread_subtype:0},success:babelHelpers.extends({device_context:{device_id:(j||(j=d("I64"))).to_string(u),locally_available_epochs:v,raw_tokens:{mailbox_root_key:d("Base64Utils").fromArrayBuffer(w),ocmf_client_state_blob:d("Base64Utils").fromArrayBuffer(q)}},direction:e,include_offset:g,query_num_messages:h,server_thread_key:y},l!=null?{reference_timestamp:d("EBMessageRangeQueryUtils").safeTimestampMsString(l)}:{})};c("QPLUserFlow").addPoint(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START,{instanceKey:o});d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"graphql_query_start",traceId:n});var z;try{await d("WorkerRelayNetwork").createWorkerNetworkExecute();z=await d("WorkerRelay").createWorkerQuery(W,{app_id:String((q=x)!=null?q:"0"),restore_payload_string:JSON.stringify(w),restore_type:"RANGE_QUERY_RESTORE"});c("QPLUserFlow").addPoint(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_END,{instanceKey:o});d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"graphql_query_end",traceId:n})}catch(a){c("QPLUserFlow").endFailure(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_EXCEPTION,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_EXCEPTION,errorStackTrace:(e=a.stack)!=null?e:""}},instanceKey:o});return d("WAResultOrError").makeError("invalid-graphql-response")}if(z==null||((g=z)==null?void 0:(h=g.viewer)==null?void 0:(y=h.encrypted_backup)==null?void 0:y.mailbox)==null){c("QPLUserFlow").endFailure(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}},instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}g=(x=z)==null?void 0:(q=x.viewer)==null?void 0:(w=q.encrypted_backup)==null?void 0:(e=w.mailbox)==null?void 0:e.messages;if(g==null){V.ERROR(O());c("QPLUserFlow").endFailure(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}},instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}h=g;if((h==null?void 0:h.encrypted_messages)==null){c("QPLUserFlow").endFailure(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES}},instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,"null_messages");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}y=h.backup_id;x=h.encrypted_messages;q=h.epoch_derivation_set;w=h.exception_string;e=h.message_range_info;g=h.should_delete_mailbox;h=h.thread_not_found;c("QPLUserFlow").addAnnotations(p,{bool:{should_delete_mailbox:(r=g)!=null?r:!1},int:{response_messages:x.length},string:{message_range_info:JSON.stringify(e)}},{instanceKey:o});if(w!=null){V.ERROR(N(),w);if(h!=null&&h){c("QPLUserFlow").addPoint(p,"thread_not_found_on_server",{instanceKey:o});d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"thread_not_found_on_server",traceId:n});c("QPLUserFlow").endSuccess(p,{instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(n,!1);return d("WAResultOrError").makeError("thread-not-found-on-server")}g===!0&&(c("QPLUserFlow").addPoint(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DELETE_MAILBOX,{instanceKey:o}),await s.runInTransaction(function(a){return c("LSDeleteAndReenrollDeviceStateStoredProcedure")(c("LSFactory")(a),{reenrollmentReason:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMEBDeviceReenrollmentReason").RESTORE_FAILED_WITH_NO_DEVICE_FOUND),targetDeviceId:u})},"readwrite",void 0,void 0,f.id+":583"),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"delete_mailbox",traceId:n}));c("QPLUserFlow").endFailure(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,exception:w}},instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{string:{exception:w}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("server-side-exception")}c("QPLUserFlow").addPoint(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_START,{instanceKey:o});await d("handleRestoreMessagesGraphQLResponse").deriveAndStoreEpochs(q,s,u,n);if(c("gkx")("14309"))try{r=await s.runInTransaction(function(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_epochs))},"readonly",void 0,void 0,f.id+":648");if(r!=null){h=r.filter(function(a){return(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))});var A=new Set(v);g=h.map(function(a){return{blob:d("Base64Utils").fromArrayBuffer(a.epochRootKeyBlob),epochId:a.epochId}}).filter(function(a){return!A.has((j||(j=d("I64"))).to_string(a.epochId))});w=await d("DeriveAndStoreEpochs").deriveAndStoreEpochs(s,q,u,!0);var B=new Set(w.filter(Boolean).map(function(a){return d("Base64Utils").fromArrayBuffer(a)}));r=g.filter(function(a){return B.has(a.blob)}).length;d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{bool:{isMatch:r===g.length},int:{commonEpochs:r,derivedLSEpochsLength:g.length,derivedNativeEpochsLength:B.size}},pointName:"ls_and_non_ls_epoch_derivation_comparison",traceId:n});c("QPLUserFlow").addAnnotations(p,{bool:{ls_and_non_ls_epoch_derivation_comparison:r===g.length},int:{commonEpochs:r,derivedLSEpochsLength:g.length,derivedNativeEpochsLength:B.size}},{instanceKey:o})}}catch(a){V.ERROR(M(),a)}c("QPLUserFlow").addAnnotations(p,{bool:{hasEpochs:q!=null&&q.epoch_edges.length>0}},{instanceKey:o});c("QPLUserFlow").addPoint(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_END,{instanceKey:o});y==null&&(V.WARN(L()),c("QPLUserFlow").addPoint(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.BACKUP_ID_NULL,{instanceKey:o}),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"backup_id_null",traceId:n}));v=await X(s,b,x,y!=null?y:(j||(j=d("I64"))).to_string(a),e,n);if(v.success===!1)return v;aa(s,b,v.value,l,m,n);return d("WAResultOrError").makeResult()}catch(a){V.ERROR(K(),a);c("QPLUserFlow").endFailure(p,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,errorStackTrace:(h=a.stack)!=null?h:""}},error:a,instanceKey:o});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(n,!1,"gql_range_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").DEPRECATED_makeError("runtime-error",a)}}async function X(a,b,e,g,h,i){var j=d("WAJids").threadIdForChatJid(b),k=d("WAHashStringToNumber").hashStringToNumber(i),l=c("qpl")._(521471755,"2586");e.length===0&&(c("QPLUserFlow").addPoint(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_MESSAGES_TO_RESTORE,{instanceKey:k}),d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"no_messages",traceId:i}));if(h==null){V.ERROR(J());c("QPLUserFlow").endFailure(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}},instanceKey:k});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}b=h.has_more_after;var m=h.has_more_before,n=h.next_message_timestamp_ms_after;h=h.next_message_timestamp_ms_before;if(m==null||b==null||n==null||h==null){V.ERROR(I());c("QPLUserFlow").endFailure(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}},instanceKey:k});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"message_range_info_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}g=d("handleRestoreMessagesGraphQLResponse").processMessageArray(e,g,l,k);var o=g.encryptedLSEchoMessages,p=g.encryptedMessagesWithProtobufs,q=g.encryptedNonLSEchoMessages,r=g.encryptedNonLSProtobufs;V.LOG(H(),i,o.length,p.length,q.length,r.length);var s,t;if(o.length>0&&p.length>0){c("QPLUserFlow").addPoint(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RESTORING_MIXED_ECHO_PROTOBUF_PAYLOAD,{instanceKey:k});e.length!==o.length+p.length&&c("QPLUserFlow").addPoint(l,"mixed_restore_payload_echo_and_protobuf_count_mismatch",{instanceKey:k});c("QPLUserFlow").addAnnotations(l,{int:{echoMessagesPayloadSize:o.length,protobufMessagesPayloadSize:p.length,totalRestorePayloadSize:o.length+p.length}},{instanceKey:k});c("QPLUserFlow").addPoint(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_START,{instanceKey:k});g=await a.runInTransaction(async function(b){var e=await c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(b),{actThreadId:j,encryptedMessages:c("LSVec").ofArray(o)}),f=e[0];e=e[1];if(e!=null){e=d("LSShape").toRecord(e);V.ERROR(G());V.WARN(F(),e.error_message);c("QPLUserFlow").endFailure(l,"ECHO_DECRYPTION_FAILURE",{annotations:{string:{error_description:e.error_message}},instanceKey:k});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"ECHO_DECRYPTION_FAILURE",{string:{error_description:e.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("echo-decryption-failure")}e=await c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(b),{actThreadId:j,encryptedMessagesWithProtobufs:c("LSVec").ofArray(p)});b=e[0];e=e[1];if(e!=null){e=d("LSShape").toRecord(e);V.ERROR(E());V.WARN(D(),e.error_message);c("QPLUserFlow").endFailure(l,"PROTOBUF_DECRYPTION_FAILURE",{annotations:{string:{error_description:e.error_message}},instanceKey:k});if(b!=null&&c("gkx")("11925"))try{await Y(b,r,j,a,i,k)}catch(a){V.ERROR(C(),a)}d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"PROTOBUF_DECRYPTION_FAILURE",{string:{error_description:e.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("protobuf-decryption-failure")}return{decryptedEchoMsgs:f,decryptedProtobufMsgs:b}},"readwrite",void 0,void 0,f.id+":962");e=g.decryptedEchoMsgs;g=g.decryptedProtobufMsgs;c("QPLUserFlow").addPoint(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_AND_PROTOBUF_END,{instanceKey:k});var u;e!=null&&(u=c("LSVec").toArray(e).map(function(a){return d("LSShape").toRecord(a).value}));if(c("gkx")("14310"))try{await Z((e=u)!=null?e:[],q,j,a,i,k)}catch(a){V.ERROR(B(),a)}s=u;t=g==null?[]:c("LSVec").toArray(g)}else if(p.length===0){c("QPLUserFlow").addPoint(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_START,{instanceKey:k});e=await a.runInTransaction(function(a){return c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:j,encryptedMessages:c("LSVec").ofArray(o)})},"readwrite",void 0,void 0,f.id+":1099");g=e[0];e=e[1];if(e!=null){e=d("LSShape").toRecord(e);V.ERROR(A());V.WARN(z(),e.error_message);c("QPLUserFlow").endFailure(l,"ECHO_DECRYPTION_FAILURE",{annotations:{string:{error_description:e.error_message}},instanceKey:k});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"ECHO_DECRYPTION_FAILURE",{string:{error_description:e.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("echo-decryption-failure")}c("QPLUserFlow").addPoint(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_END,{instanceKey:k});if(g!=null){e=c("LSVec").toArray(g).map(function(a){return d("LSShape").toRecord(a).value});if(c("gkx")("9385"))try{await Z((g=e)!=null?g:[],q,j,a,i,k)}catch(a){V.ERROR(y(),a)}s=e}}else{c("QPLUserFlow").addPoint(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_START,{instanceKey:k});g=await a.runInTransaction(function(a){return c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:j,encryptedMessagesWithProtobufs:c("LSVec").ofArray(p)})},"readwrite",void 0,void 0,f.id+":1176");q=g[0];e=g[1];if(e!=null){g=d("LSShape").toRecord(e);V.ERROR(x());V.WARN(w(),g.error_message);c("QPLUserFlow").endFailure(l,"PROTOBUF_DECRYPTION_FAILURE",{annotations:{string:{error_description:g.error_message}},instanceKey:k});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(i,!1,"PROTOBUF_DECRYPTION_FAILURE",{string:{error_description:g.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.error");return d("WAResultOrError").makeError("protobuf-decryption-failure")}if(q!=null&&c("gkx")("11925"))try{await Y(q,r,j,a,i,k)}catch(a){V.ERROR(v(),a)}c("QPLUserFlow").addPoint(l,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_END,{instanceKey:k});t=q==null?[]:c("LSVec").toArray(q)}c("QPLUserFlow").endSuccess(l,{instanceKey:k});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.paginated.gql.success");return d("WAResultOrError").makeResult({echo:(e=s)!=null?e:[],messageRangeInfo:{has_more_after:b,has_more_before:m,next_message_timestamp_ms_after:n,next_message_timestamp_ms_before:h},protobuf:(g=t)!=null?g:[]})}function aa(a,b,e,g,h,i){var l=e.echo,m=e.messageRangeInfo,n=e.protobuf,o=d("WAJids").threadIdForChatJid(b);l.length>0&&n.length>0?c("promiseDone")(S.load().then(function(a){return a.echoProtobufConsolidatedRestoreHelper(o,c("LSVec").ofArray(n),m.has_more_before,(j||(j=d("I64"))).of_string(m.next_message_timestamp_ms_before),m.has_more_after,j.of_string(m.next_message_timestamp_ms_after),!1,i,g,void 0,c("LSVec").ofArray(l),(k||(k=d("LSIntEnum"))).ofNumber((a=h)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN),b)})):l.length>0?c("promiseDone")(T.load().then(function(e){return a.runInTransaction(function(a){return e(a,0,(j||(j=d("I64"))).zero,c("LSVec").ofArray(l),m.has_more_before,j.of_string(m.next_message_timestamp_ms_before),m.has_more_after,j.of_string(m.next_message_timestamp_ms_after),!1,o,i,g,(k||(k=d("LSIntEnum"))).ofNumber((a=h)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN),b)},"readwrite",void 0,void 0,f.id+":1292")})):c("promiseDone")(U.load().then(function(e){return a.runInTransaction(function(a){return e(a,0,o,c("LSVec").ofArray(n),m.has_more_before,(j||(j=d("I64"))).of_string(m.next_message_timestamp_ms_before),m.has_more_after,j.of_string(m.next_message_timestamp_ms_after),!1,i,g,void 0,c("LSVec").ofArray([]),(k||(k=d("LSIntEnum"))).ofNumber((a=h)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN),b)},"readwrite",void 0,void 0,f.id+":1315")}))}function ba(a){var b=new TextDecoder().decode(a.toplevelProtobuf.decryptedProtobuf),c=a.toplevelProtobuf.protobufTimestampMS.toString();b={decryptedProtobuf:b,decryptedSupplementalKey:void 0,protobufTimestampMs:c};var d=new Map();a.supplementalProtobufs.forEach(function(a,b){var c=new TextDecoder().decode(a.decryptedProtobuf);a=a.protobufTimestampMS.toString();c={decryptedProtobuf:c,decryptedSupplementalKey:b,protobufTimestampMs:a};d.set(b,c)});return{otid:a.otid,supplementalProtobufs:d,topLevelProtobuf:b}}async function Y(a,b,e,f,g,h){var i=c("qpl")._(521471755,"2586");a=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(a);a=a.map(function(a){return ba(a)});f=await new(d("ProtobufMessageDecryptor").ProtobufMessageDecryptor)().decrypt(f,e,b);e=da(f,a,i,h);d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{bool:{isMatch:e}},pointName:"ls_and_non_ls_protobuf_msg_decryption_response_comparison",traceId:g});c("QPLUserFlow").addAnnotations(i,{bool:{does_ls_and_non_ls_protobuf_msg_decryption_match:e}},{instanceKey:h})}async function Z(a,b,e,f,g,h){var i=c("qpl")._(521471755,"2586");f=await new(d("EchoMessageDecryptor").EchoMessageDecryptor)().decrypt(f,e,b);e=ca(f,a);d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:{bool:{isMatch:e}},pointName:"ls_and_non_ls_echo_msg_decryption_response_comparison",traceId:g});c("QPLUserFlow").addAnnotations(i,{bool:{does_ls_and_non_ls_echo_msg_decryption_match:e}},{instanceKey:h})}function ca(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c].value!==b[c])return!1;return!0}function $(a,b){return a.decryptedProtobuf===b.decryptedProtobuf&&a.protobufTimestampMs===b.protobufTimestampMs}function da(a,b,d,e){var f=new Map();for(var g of a)g.otid!=null&&f.set(g.otid,g);if(a.length!==b.length){V.ERROR(u(),a.length,b.length);c("QPLUserFlow").addPoint(d,"protobuf_size_mismatch",{instanceKey:e});return!1}for(g=0;g<b.length;g++){a=b[g];var h=a.otid;if(h==null){c("QPLUserFlow").addPoint(d,"protobuf_otid_null",{instanceKey:e});V.ERROR(t());return!1}if(!f.has(h)){c("QPLUserFlow").addPoint(d,"protobuf_otid_missing_in_non_ls_batch",{instanceKey:e});V.ERROR(s(),h);return!1}var i=f.get(h);if(i==null){c("QPLUserFlow").addPoint(d,"protobuf_otid_missing_in_non_ls_batch",{instanceKey:e});V.ERROR(r(),h);return!1}if(!$(i.topLevelProtobuf,a.topLevelProtobuf)){i.topLevelProtobuf.decryptedProtobuf!==a.topLevelProtobuf.decryptedProtobuf?c("QPLUserFlow").addPoint(d,"decrypted_protobuf_mismatch_protobuf_string",{instanceKey:e}):c("QPLUserFlow").addPoint(d,"decrypted_protobuf_mismatch_timestamp",{instanceKey:e});V.ERROR(q(),i.otid,a.otid);return!1}if(i.supplementalProtobufs.size!==a.supplementalProtobufs.size){c("QPLUserFlow").addPoint(d,"supplemental_protobuf_message_sizes_different",{data:{int:{decrypted_ls_protobuf_supplemental_size:a.supplementalProtobufs.size,decrypted_non_ls_protobuf_supplemental_size:i.supplementalProtobufs.size}},instanceKey:e});V.ERROR(p(),i.supplementalProtobufs.size,a.supplementalProtobufs.size,i.otid,a.otid);return!1}for(h of i.supplementalProtobufs){h[0];var j=h[1];if(j.decryptedSupplementalKey==null){c("QPLUserFlow").addPoint(d,"supplemental_protobuf_key_null",{instanceKey:e});V.ERROR(o());return!1}var k=j.decryptedSupplementalKey;if(!a.supplementalProtobufs.has(k)){c("QPLUserFlow").addPoint(d,"supplemental_protobuf_key_not_found_in_ls_output",{instanceKey:e});V.ERROR(n());return!1}var v=a.supplementalProtobufs.get(k);if(v==null){c("QPLUserFlow").addPoint(d,"supplemental_protobuf_key_not_found_in_ls_output",{instanceKey:e});V.ERROR(m());return!1}if(!$(j,v)){c("QPLUserFlow").addPoint(d,"supplemental_protobuf_mismatch",{data:{string:{supplementalKey:k}},instanceKey:e});V.ERROR(l(),k,i.otid,a.otid);return!1}}}return!0}g.query=W;g.messageRangeQueryWithPersistence=a}),98);
__d("LSEncryptedBackupsClientRestoreState",[],(function(a,b,c,d,e,f){a=Object.freeze({RESTORE_IN_PROGRESS:1,RESTORE_COMPLETE:2});f["default"]=a}),66);
__d("MAWOneTimeCodeGating",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1910")&&c("justknobx")._("1601")}g.isOneTimeCodeEnabled=a}),98);
__d("ReverbWriteFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5829");b=d("FalcoLoggerInternal").create("reverb_write_failure",a);e=b;g["default"]=e}),98);
__d("ReverbWriteSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5831");b=d("FalcoLoggerInternal").create("reverb_write_success",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("isStringNullOrWhitespaceOnly",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||a.trim()===""}f["default"]=a}),66);
__d("MAWMemoriesShareXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return h._(/*BTDS*/"You sent a memory")};b=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"This user sent a memory"):h._(/*BTDS*/"{user_name} sent a memory",[h._param("user_name",a)])};g.getCurrentUserSendMemoriesShareSnippetFbt=a;g.getParticipantSendMemoriesShareSnippetFbt=b}),226);
__d("MAWPostMentionXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"You tagged this user in your post"):h._(/*BTDS*/"You tagged {user_name} in your post",[h._param("user_name",a)])};b=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"This user tagged you in their post"):h._(/*BTDS*/"{user_name} tagged you in their post",[h._param("user_name",a)])};g.getCurrentUserSendPostMentionSnippetFbt=a;g.getParticipantSendPostMentionSnippetFbt=b}),226);
__d("getMAWLocalizedBumpMsgReplySnippet",["fbt","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d){switch(a){case"currentUserBumpedOwnMessage":return h._(/*BTDS*/"You bumped your message");case"currentUserBumpedMessage":return d!=null?h._(/*BTDS*/"You bumped {name}'s message",[h._param("name",d)]):h._(/*BTDS*/"You bumped a message");case"participantBumpedCurrentUserMessage":return h._(/*BTDS*/"{sender_name} bumped your message",[h._param("sender_name",b)]);case"participantBumpedOwnMessage":return h._(/*BTDS*/"{name} bumped their message",[h._param("name",b)]);case"participantBumpedParticipantMessage":return d!=null?h._(/*BTDS*/"{sender_name} bumped {reply_source_sender_name}'s message",[h._param("sender_name",b),h._param("reply_source_sender_name",d)]):h._(/*BTDS*/"{user_name} bumped a message",[h._param("user_name",b)]);default:a;c("FBLogger")("messenger_web").mustfix("unexpected bump type %s",a);return""}}g["default"]=a}),226);
__d("getMAWLocalizedFallbackMsgSnippet",["fbt","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){switch(a){case"userSendEncryptedMessage":return h._(/*BTDS*/"Waiting for this message. This might take a while.");case"currentUserSendUnrenderableMessage":return h._(/*BTDS*/"You sent a message, but this browser can't show it.");case"participantSendUnrenderableMessage":return h._(/*BTDS*/"You received a message, but this browser can't show it.");case"currentUserSendLiveLocationFallback":return h._(/*BTDS*/"You sent a live location. Use the Messenger mobile app to see it.");case"currentUserSendLocationFallback":return h._(/*BTDS*/"You sent a pinned location. Use the Messenger mobile app to see it.");case"participantSendLiveLocation":return h._(/*BTDS*/"You received a live location. Use the Messenger mobile app to see it.");case"participantSendLocation":return h._(/*BTDS*/"You received a pinned location. Use the Messenger mobile app to see it.");case"currentUserSendPollCreationFallback":return h._(/*BTDS*/"You sent a poll. Use the Messenger mobile app to see it.");case"participantSendPollCreation":return h._(/*BTDS*/"You received a poll. Use the Messenger mobile app to see it.");case"currentUserSendContactShareFallback":return h._(/*BTDS*/"You sent a contact card. Use the Messenger mobile app to see it.");case"participantSendContactShareFallback":return h._(/*BTDS*/"You received a contact card. Use the Messenger mobile app to see it.");case"currentUserSendStoryMentionFallback":return h._(/*BTDS*/"You sent a story mention. Use the Messenger mobile app to see it.");case"participantSendStoryMentionFallback":return h._(/*BTDS*/"You received a story mention. Use the Messenger mobile app to see it.");case"currentUserSendPostMentionFallback":return h._(/*BTDS*/"You sent a post mention. Use the Messenger mobile app to see it.");case"participantSendPostMentionFallback":return h._(/*BTDS*/"You received a post mention. Use the Messenger mobile app to see it.");case"currentUserSendNoteMentionFallback":return h._(/*BTDS*/"You mentioned someone in your note. Use the Messenger mobile app to see it.");case"participantSendNoteMentionFallback":return h._(/*BTDS*/"Someone mentioned you in their note. Use the Messenger mobile app to see it.");case"messengerMemoryEncryptedMessageFallback":return h._(/*BTDS*/"To see this memory, open the Messenger app on your phone.");case"metaAISendMessageFallback":return h._(/*BTDS*/"You received a message from Meta AI. Use the Messenger mobile app to see it.");case"currentUserSendBumpMessageFallback":return h._(/*BTDS*/"You sent a bumped message. Use the Messenger mobile app to see it.");case"participantSendBumpMessageFallback":return h._(/*BTDS*/"You received a bumped message. Use the Messenger mobile app to see it.");case"participantSendStickerReceiverFetchMessageFallback":return h._(/*BTDS*/"You received a sticker. Use the Messenger mobile app to see it.");case"currentUserSendStickerReceiverFetchMessageFallback":return h._(/*BTDS*/"You sent a sticker. Use the Messenger mobile app to see it.");case"userSendUnavailableMessage":return h._(/*BTDS*/"Message sent before this device was added to this conversation. This message cannot be delivered.");case"participantSendBumpMessageOriginalUnavailable":return h._(/*BTDS*/"Message unavailable.");case"unavailableStory":return h._(/*BTDS*/"Story unavailable");case"viewOncePhotoMessageFallback":return h._(/*BTDS*/"This photo can only be viewed once. Use the mobile app to view.");case"viewOnceVideoMessageFallback":return h._(/*BTDS*/"This video can only be viewed once. Use the mobile app to view.");default:a;c("FBLogger")("messenger_web").mustfix("unexpected content fallback type %s",a);return""}}g["default"]=a}),226);
__d("MAWAdminMsg",["fbt","MAWLocalizationType","MAWMemoriesShareXMASnippetFbt","MAWPostMentionXMASnippetFbt","getMAWLocalizedBumpMsgReplySnippet","getMAWLocalizedFallbackMsgSnippet"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e){switch(e){case d("MAWLocalizationType").LOCALIZATION_TYPE.EMPTY_SNIPPET:return"";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP:return h._(/*BTDS*/"You created this group").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP:return h._(/*BTDS*/"{actor} created this group",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP:return h._(/*BTDS*/"This group was created.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:return h._(/*BTDS*/"You named the group {custom group name}.",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:return h._(/*BTDS*/"The group name was set to {custom group name}.",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:return h._(/*BTDS*/"{actor} named the group {custom group name}.",[h._param("actor",b[0]),h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:return h._(/*BTDS*/"You added a new device to this conversation.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:return h._(/*BTDS*/"{actor} added a new device to this conversation.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:return h._(/*BTDS*/"You removed a device from this conversation.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:return h._(/*BTDS*/"{actor} removed a device from this conversation.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:return h._(/*BTDS*/"Your key has changed.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:return h._(/*BTDS*/"{user_name}'s key has changed.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:return h._(/*BTDS*/"You added {user_name} to the group. They can only see messages sent after they were added.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:return h._(/*BTDS*/"You added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:return h._(/*BTDS*/"You added {user_name} and {number of participants} others to the group. They can only see messages sent after they were added.",[h._param("user_name",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:return h._(/*BTDS*/"{actor} added you to the group. You can only see messages sent after you were added.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:return h._(/*BTDS*/"{actor} added you and {user_name} to the group. You can only see messages sent after you were added.",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:return h._(/*BTDS*/"{actor} added you and {number of participants} others to the group. You can only see messages sent after you were added.",[h._param("actor",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:return h._(/*BTDS*/"{actor} added {user_name} to the group. They can only see messages sent after they were added.",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:return h._(/*BTDS*/"{actor} added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("user_name_2",b[2])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:return h._(/*BTDS*/"{actor} added {user_name_1} and {number of participants} others to the group. They can only see messages sent after they were added.",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:return h._(/*BTDS*/"You removed {user_name} from the group.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:return h._(/*BTDS*/"{user_name_1} removed you from the group.",[h._param("user_name_1",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:return h._(/*BTDS*/"{user_name_1} removed {user_name_2} from the group.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:return h._(/*BTDS*/"{name} left the group.",[h._param("name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP:return h._(/*BTDS*/"You left the group.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:return h._(/*BTDS*/"{user_name} is now an admin.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:return h._(/*BTDS*/"{user_name} is no longer an admin.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED:return h._(/*BTDS*/"You are now an admin.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED:return h._(/*BTDS*/"You are no longer an admin.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:return h._(/*BTDS*/"{actor} added you as a group admin.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:return h._(/*BTDS*/"{actor} removed you as a group admin.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:return h._(/*BTDS*/"{actor} added {target} as a group admin.",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:return h._(/*BTDS*/"{actor} removed {target} as a group admin.",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:return h._(/*BTDS*/"You removed {target} as a group admin.",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:return h._(/*BTDS*/"You added {target} as a group admin.",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:return h._(/*BTDS*/"{actor} removed themselves as a group admin.",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED:return h._(/*BTDS*/"You removed yourself as a group admin.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return h._(/*BTDS*/"You").toString()+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:return b[0]+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_IMAGE:return h._(/*BTDS*/"You sent a photo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_VIDEO:return h._(/*BTDS*/"You sent a video.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AUDIO:return h._(/*BTDS*/"You sent a voice message.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_GIF:return h._(/*BTDS*/"You sent a GIF.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER:return h._(/*BTDS*/"You sent a sticker.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_ATTACHMENT:return h._(/*BTDS*/"You sent an attachment.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_POST:return h._(/*BTDS*/"You sent a post").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL:return h._(/*BTDS*/"You sent a reel").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY:return h._(/*BTDS*/"You sent a story.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AI_CONTACT_SHARE:return h._(/*BTDS*/"You sent a contact card.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT:return h._(/*BTDS*/"You sent an event.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT:return h._(/*BTDS*/"You sent a story highlight").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG:return h._(/*BTDS*/"You mentioned \u0040{user} in your story.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG:return h._(/*BTDS*/"Mentioned you in their story").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION:return h._(/*BTDS*/"You mentioned this user in your story").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION:return h._(/*BTDS*/"{user} mentioned you in their story",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE:return h._(/*BTDS*/"{user} sent a photo.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO:return h._(/*BTDS*/"{user} sent a video.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO:return h._(/*BTDS*/"{user} sent a voice message.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF:return h._(/*BTDS*/"{user} sent a GIF.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER:return h._(/*BTDS*/"{user} sent a sticker.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_POST:return h._(/*BTDS*/"Sent a post").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL:return h._(/*BTDS*/"Sent a reel").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT:return h._(/*BTDS*/"{user} sent an attachment.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION:return d("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION:return d("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION:return h._(/*BTDS*/"You sent a location.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION:return h._(/*BTDS*/"{user} sent a location.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY:return h._(/*BTDS*/"{user} sent a story.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AI_CONTACT_SHARE:return h._(/*BTDS*/"{user} sent a contact card.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT:return h._(/*BTDS*/"{user} sent an event.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT:return h._(/*BTDS*/"Sent a story highlight").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET:return h._(/*BTDS*/"Unavailable message").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED:return h._(/*BTDS*/"You can now message and call each other and see info such as Active Status and when you have read messages.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT:return h._(/*BTDS*/"You can now message and call each other.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.REACHABILITY_ERROR:return h._(/*BTDS*/"This account can't receive your message because they don't allow new message requests from everyone.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} seconds after they've been sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 second after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} minutes after they've been sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 minute after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} hours after they've been sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 hour after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} days after they've been sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 day after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} seconds after they've been sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 second after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} minutes after they've been sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 minute after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} hours after they've been sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 hour after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} days after they've been sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 day after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} seconds after they've been sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 second after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} minutes after they've been sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 minute after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} hours after they've been sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 hour after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} days after they've been sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 day after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} seconds after they've been sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 second after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} minutes after they've been sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 minute after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} hours after they've been sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 hour after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} days after they've been sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 day after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:return h._(/*BTDS*/"New messages and calls are secured with end-to-end encryption. Only people in this chat can read, listen to or share them.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return h._(/*BTDS*/"Your other chat has been archived.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return h._(/*BTDS*/"Instagram upgraded the security of this chat. Messages and calls will be secured with end-to-end encryption.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return h._(/*BTDS*/"Previous messages may be in your other chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return h._(/*BTDS*/"An unrecognised device was detected on your account. We recommend comparing your keys with your contacts to secure the chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} seconds after they've been sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 second after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} minutes after they've been sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 minute after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} hours after they've been sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 hour after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} days after they've been sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 day after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} seconds after they've been sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 second after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} minutes after they've been sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 minute after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} hours after they've been sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 hour after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} days after they've been sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 day after they've been sent.\"}",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"Disappearing messages were turned off.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"You turned off disappearing messages.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"{user} turned off disappearing messages.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET:return h._(/*BTDS*/"Disappearing messages were turned off. Turn them back on to have messages disappear 24 hours after they're sent.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE:return h._(/*BTDS*/"You unsent a message").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE:return h._(/*BTDS*/"{first name} unsent a message",[h._param("first name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP:return h._(/*BTDS*/"{name} reacted with {emoji} to your message",[h._param("name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE:return h._(/*BTDS*/"Reacted with {emoji} to your message",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"A screenshot was taken.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"Current screen was recorded.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"You took a screenshot.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"You recorded the screen.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"{user} took a screenshot.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"{user} recorded the screen.",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return h._(/*BTDS*/"Messages and calls are secured with end-to-end encryption.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU:return h._(/*BTDS*/"Someone added you to the group. You can only see messages sent after you were added.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:return h._(/*BTDS*/"Someone added you and {user_name} to the group. You can only see messages sent after you were added.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:return h._(/*BTDS*/"Someone added you and {number of participants} others to the group. You can only see messages sent after you were added.",[h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:return h._(/*BTDS*/"Someone added {user_name} to the group. They can only see messages sent after they were added.",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:return h._(/*BTDS*/"Someone added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:return h._(/*BTDS*/"Someone added {user_name_1} and {number of participants} others to the group. They can only see messages sent after they were added.",[h._param("user_name_1",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DEBUG_MSG:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"You missed an audio call from {user_name}.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"You missed a call from a contact.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user_name} missed your audio call.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"A contact missed your audio call.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"You missed a video call from {user_name}.",[h._param("user_name",e)]).toString():h._(/*BTDS*/"You missed a video call from a contact.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} missed your video call.",[h._param("user",e)]).toString():h._(/*BTDS*/"A contact missed your video chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED:return h._(/*BTDS*/"The audio call ended.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED:return h._(/*BTDS*/"The video call ended.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL:return h._(/*BTDS*/"You started a call.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} started a call.",[h._param("user",e)]).toString():h._(/*BTDS*/"A contact started a call.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL:return h._(/*BTDS*/"You started a video chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"{user} started a video chat.",[h._param("user",e)]).toString():h._(/*BTDS*/"A contact started a video chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:return h._(/*BTDS*/"You set the quick reaction to {emoji}.",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:return h._(/*BTDS*/"{participant_name} set the quick reaction to {emoji}.",[h._param("participant_name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:return h._(/*BTDS*/"You set the nickname for {participant_name} to {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:return a[1]!=null?h._(/*BTDS*/"You changed the theme to {theme_name} {theme_emoji}.",[h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"You changed the theme to {theme_name}.",[h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:return a[1]!=null?h._(/*BTDS*/"You changed the theme using AI to \"{theme_name}\" {theme_emoji}.",[h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"You changed the theme using AI to \"{theme_name}\".",[h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:return h._(/*BTDS*/"You changed the group photo.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:return h._(/*BTDS*/"You pinned a message.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:return h._(/*BTDS*/"You unpinned a message.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return h._(/*BTDS*/"You're messaging {participant_name} for the first time. If you ever feel uncomfortable, there are",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"{participant_name_1} set the nickname for {participant_name_2} to {nickname}.",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"{participant_name_1} cleared the nickname for {participant_name_2}.",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:return a[1]!=null?h._(/*BTDS*/"{participant_name} changed the theme to {theme_name} {theme_emoji}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"{participant_name} changed the theme to {theme_name}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:return a[1]!=null?h._(/*BTDS*/"{participant_name} changed the theme using AI to \"{theme_name}\" {theme_emoji}.",[h._param("participant_name",b[0]),h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"{participant_name} changed the theme using AI to \"{theme_name}\".",[h._param("participant_name",b[0]),h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:return h._(/*BTDS*/"You created a poll: {poll_name}.",[h._param("poll_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:return h._(/*BTDS*/"{participant_name} created a poll: {poll_name}.",[h._param("participant_name",b[0]),h._param("poll_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:return h._(/*BTDS*/"{participant_name} added \"{poll_option}\" to the poll.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} voted for \"{poll_option}\" in the poll.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:return h._(/*BTDS*/"You added \"{poll_option}\" to the poll.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:return h._(/*BTDS*/"You voted for \"{poll_option}\" in the poll.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} added \\\"{poll_option}\\\" and {num_other_options} other options to the poll.\",\"_1\":\"{participant_name} added \\\"{poll_option}\\\" and {num_other_options} other option to the poll.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_options",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"You added \\\"{poll_option}\\\" and {num_other_options} other options to the poll.\",\"_1\":\"You added \\\"{poll_option}\\\" and {num_other_options} other option to the poll.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_options",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"You voted for \\\"{poll_option}\\\" and {num_other_votes} other options in the poll.\",\"_1\":\"You voted for \\\"{poll_option}\\\" and {num_other_votes} other option in the poll.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} voted for \\\"{poll_option}\\\" and {num_other_votes} other options in the poll.\",\"_1\":\"{participant_name} voted for \\\"{poll_option}\\\" and {num_other_votes} other option in the poll.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"You removed your vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other options in the poll.\",\"_1\":\"You removed your vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other option in the poll.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_removed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} removed their vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other options in the poll.\",\"_1\":\"{participant_name} removed their vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other option in the poll.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_removed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:return h._(/*BTDS*/"You removed your vote for \"{poll_option}\" in the poll.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} removed their vote for \"{poll_option}\" in the poll.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:return h._(/*BTDS*/"{participant_name}'s poll has multiple updates.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:return h._(/*BTDS*/"Your poll has multiple updates.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:return h._(/*BTDS*/"You changed your vote to \"{poll_option}\" in the poll.",[h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:return h._(/*BTDS*/"{participant_name} changed their vote to \"{poll_option}\" in the poll.",[h._param("participant_name",b[0]),h._param("poll_option",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"You changed your vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other options in the poll.\",\"_1\":\"You changed your vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other option in the poll.\"}",[h._plural(e),h._param("poll_option",a[0]),h._param("num_other_changed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:e=parseInt(a[1],10)-1;return h._(/*BTDS*/"_j{\"*\":\"{participant_name} changed their vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other options in the poll.\",\"_1\":\"{participant_name} changed their vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other option in the poll.\"}",[h._plural(e),h._param("participant_name",b[0]),h._param("poll_option",a[0]),h._param("num_other_changed_votes",e)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:return h._(/*BTDS*/"A poll has been unsent.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:return h._(/*BTDS*/"{participant_name} changed the group photo.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:return h._(/*BTDS*/"{participant_name} pinned a message.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return h._(/*BTDS*/"{participant_name} unpinned a message.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:return h._(/*BTDS*/"{participant_name} set your nickname to {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:return h._(/*BTDS*/"You set your nickname to {nickname}.",[h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:return h._(/*BTDS*/"You cleared your nickname.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"You cleared the nickname for {participant_name}.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:return h._(/*BTDS*/"{participant_name} set their own nickname to {nickname}.",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:return h._(/*BTDS*/"{participant_name} cleared their own nickname.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:return h._(/*BTDS*/"{participant_name} cleared your nickname.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"You changed who can add people to admins only.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"You changed who can add people to all members.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"{participant_name} changed who can add people to admins only.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"{participant_name} changed who can add people to all members.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"A chat admin changed who can add people to all members.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"A chat admin changed who can add people to admins only.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE,null,null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,null,b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE,b[0],b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_MEMORIES_SHARE:return d("MAWMemoriesShareXMASnippetFbt").getCurrentUserSendMemoriesShareSnippetFbt().toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_MEMORIES_SHARE:return d("MAWMemoriesShareXMASnippetFbt").getParticipantSendMemoriesShareSnippetFbt(b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:return h._(/*BTDS*/"You turned on message sharing permissions for this chat. Everyone in this chat can now share messages with Meta AI or auto-save photos.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:return h._(/*BTDS*/"You turned off message sharing permissions for this chat.").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:return h._(/*BTDS*/"{participant_name} turned on message sharing permissions for this chat. Everyone in this chat can now share messages with Meta AI or auto-save photos.",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return h._(/*BTDS*/"{participant_name} turned off message sharing permissions for this chat.",[h._param("participant_name",b[0])]).toString();default:return""}}g.buildLocalizedString=a}),226);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","Env","MAWLocalizationType","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]),k=[d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG,d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP],l=Boolean((i||(i=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("22979")?"Instagram":"Facebook";function m(){return h._(/*BTDS*/"{Platform Name} user",[h._param("Platform Name",l)]).toString()}function a(a,b){return(a=a.get(b))!=null?a:m()}function e(a){return k.includes(a)?j.FULL_NAME:j.FIRST_NAME}g.ContactNameMode=j;g.getUnknownUser=m;g.getContactNameFromLookup=a;g.getContactNameModeFromLocalizationType=e}),226);
__d("MAWThreadCustomizationUtils",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME}function b(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME}g.skipNicknameCheck=a;g.nicknameOnlyForFirstParticipantChecking=b}),98);
__d("MAWBridgeBuildAdminMsg",["MAWAdminMsg","MAWAdminMsgNormalized","MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?void 0:a.replace(/\$/g,"$$$$")}function a(a,b,c){c===void 0&&(c=0);a=d("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(b,a);var e=a.contactIds;a=a.contents;var f=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(b),g=d("MAWThreadCustomizationUtils").skipNicknameCheck(b);if(c===1){var j=i(b);return d("MAWAdminMsg").buildLocalizedString(a.map(h),e.map(function(a,b){return f&&b>0||g?j===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":j===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}),b)}return d("MAWAdminMsg").buildLocalizedString(a,e,b)}function i(a){return c("justknobx")._("4603")?d("MAWSubscribeToContactNames").getContactNameModeFromLocalizationType(a):a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME}g.buildAdminMsgText=a}),98);
__d("fillArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=new Array(a);for(var d=0;d<a;d++)c[d]=b;return c}f["default"]=a}),66);
__d("mapPull",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=new Map();for(a of a)d.set(c(a),b(a));return d}f["default"]=a}),66);
__d("MAWBridgeBuildMsgMentions",["MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","WACommon.pb","WAJids","emptyFunction","fillArray","justknobx","mapPull"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.length>0?a.join(","):void 0}function i(a,b){return a.index-b.index}function j(a,b){return a==null||a===""?a:Array.from(b).reduce(function(a,b){var c=b[0];b=b[1];c=new RegExp(c,"g");return a.replace(c,b)},a)}function k(a,b){return a==null||a===""?[]:Array.from(b.keys()).flatMap(function(b){return Array.from(a.matchAll(b))}).sort(i)}function l(a,b,e,f,g){g===void 0&&(g=[]);e=c("mapPull")(e,function(a){var c=a[0];a[1];return d("MAWSubscribeToContactNames").getContactNameFromLookup(b,c)},function(a){a[0];a=a[1];return a});var i=k(a,e),l=[],m=[],n=[],o=0;for(i of i){var p=d("WAJids").unsafeCoerceToUserJid(i[0]);l.push(d("WAJids").userIdFromJid(p));var q=d("MAWSubscribeToContactNames").getContactNameFromLookup(e,p);m.push(q.length+1);n.push(Math.max(i.index-1+o,0));o+=q.length-p.length}q=c("fillArray")(l.length,"p");for(p of g){i=p.commandType;o=p.length;g=p.offset;if(o==null||g==null)continue;switch(i){case d("WACommon.pb").COMMAND_COMMAND_TYPE.EVERYONE:q.push("t");l.push("t");n.push(g);m.push(o);break;case d("WACommon.pb").COMMAND_COMMAND_TYPE.AI:q.push("ai");l.push("ai");n.push(g);m.push(o);break;case d("WACommon.pb").COMMAND_COMMAND_TYPE.AI_IMAGINE:q.push("im");l.push("im");n.push(g);m.push(o);break;default:break}}i=k(f,e);for(g of i){o=d("WAJids").unsafeCoerceToUserJid(g[0]);l.push(d("WAJids").userIdFromJid(o))}return{mentionIds:h(l),mentionLengths:h(m),mentionOffsets:h(n),mentionTypes:h(q),replyMessageText:j(f,e),text:j(a,e)}}function m(a,b,c,e){a=l(a,c,e);e=a.text;a=b.map(function(a){return d("MAWSubscribeToContactNames").getContactNameFromLookup(c,a)});return[e,a]}function a(a,b,e,f){b=c("mapPull")(b,c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);return l(a,b,b,e,f)}function n(a,b,c,e,f){return b&&c>0||e?f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}function b(a,b,e,f){b=c("mapPull")((b=b)!=null?b:[],c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);if(b.size===0||a==null||a===""){var g=o(f),h=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(f),i=d("MAWThreadCustomizationUtils").skipNicknameCheck(f);f=e.map(function(a,b){return n(a,h,b,i,g)});return[a,f]}f=new Map([].concat(Array.from(b.keys()),e).map(function(a){return[a,"$PARTICIPANT_FULL_NAME("+a+")"]}));return m(a,e,f,b)}function o(a){return c("justknobx")._("4603")?d("MAWSubscribeToContactNames").getContactNameModeFromLocalizationType(a):a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME}g.buildMsgTextWithMentions=a;g.buildThreadSnippetWithMentions=b}),98);
__d("MAWMsgErrorUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=[126];function a(a){var b=c("gkx")("7471");return!b?!1:h.includes(a)}g.isWellbeingError=a}),98);
__d("MAWMsgReply",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWMsg","MAWMsgType","WATimeUtils","cr:2472","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.replySourceId!=null}function a(a){a=a.replyToUserId;return a==null?void 0:(h||(h=d("I64"))).of_string(a)}function e(a){var b=a.isFBPostMention,e=a.isFBStoryMention,f=a.isForwarded,g=a.isMsgHighlightsTabFriendUpdatesReply,h=a.isNoteReply,k=a.isStoryProducerReply,l=a.isStoryReply,m=a.isStoryShare,n=a.replyMediaExpirationTimestampMs;a=j(a);if(b===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_POST_MENTION);if(f)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD);if(m!=null&&m)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_MENTION);if(g!=null&&g)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(n!=null&&n<d("WATimeUtils").unixTime()&&h!==!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY);if(a)if(l!=null&&l)return k!=null&&k?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY):(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else if(h===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function f(a){var b=j(a),e=a.isMsgHighlightsTabFriendUpdatesReply,f=a.isNoteReply,g=a.isStoryReply;a=a.isStoryShare;if(a!=null&&a)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(b)if(g!=null&&g)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else if(f===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function k(a){if(a.replySourceId!=null)return a.replySourceId}function l(a){if(a.replySourceTimestampMs!=null)return(h||(h=d("I64"))).of_float(a.replySourceTimestampMs)}function m(a){if(a.replySourceId!=null)return a.replyMessageText}function n(a){if(a.replySourceId!=null)return a.replyMentionedJids}function o(a){return a.type_===d("MAWMsg").bumpExistingMessage?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):j(a)?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").REGULAR):void 0}function p(a){return a.replySourceId==null?!1:q(a.replyStatusType)}function q(a){switch(a){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;default:return!1}}function r(a){return a.replyStatusType==="XMA"&&a.replyMessageText!=null}function s(a){if(p(a)&&!r(a))return a.replyMediaUrlMimeType}function t(a){if(p(a))return a.replyMediaPreviewHeight!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewHeight):void 0}function u(a){if(p(a))return a.replyMediaPreviewWidth!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewWidth):void 0}function v(a){var b=x(a),e=w(a);if(b!==e){var f;c("FBLogger")("messenger_e2ee_web").mustfix("[getReplyAttachmentType result inconsistency] V1: %s, V2: %s, msg replyStatusType: %s",(h||(h=d("I64"))).to_string((f=b)!=null?f:(h||(h=d("I64"))).zero),h.to_string((f=e)!=null?f:(h||(h=d("I64"))).zero),a.replyStatusType)}return b}function w(a){var b=a.replyStatusType;if(b==null)return;var e=b==="Raven";e=p(a)||e;if(!e)return;switch(b){case"Gif":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);case"Ptt":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"Sticker":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);case"Video":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);case"Image":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"XMA":if(a.isIGXMAPostShare===!0||a.isIGXMAStoryShare===!0||a.isStoryHighlightShare===!0||a.isPostPrivateReply===!0||a.isMsgHighlightsTabFriendUpdatesReply===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST);if(r(a))return;return c("justknobx")._("2738")?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"DocumentFile":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"ReceiverFetch":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);case"Raven":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}function x(a){var e=a.replyMessageText;e=e!=null?b("cr:2472")==null?e:b("cr:2472").unvault(e):"";e=e==="\ud83d\udc4d"&&a.replyStatusType==="Sticker";var f=a.replyStatusType==="Raven";f=p(a)||f;var g=a.replyStatusType;if(f){if(g==null)return;switch(g){case"Gif":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);case"Ptt":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"Sticker":if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);break;case"Video":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);case"Image":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"XMA":if(e)return;if(a.isIGXMAPostShare===!0||a.isIGXMAStoryShare===!0||a.isStoryHighlightShare===!0||a.isPostPrivateReply===!0||a.isMsgHighlightsTabFriendUpdatesReply===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST);if(r(a))return;return c("justknobx")._("2738")?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"DocumentFile":if(e)return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"ReceiverFetch":if(e)return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);case"Raven":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}if(g!=null&&g==="Sticker"&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER)}function y(a){var b=a.replyMediaId,c=a.replyXMAId;if(p(a)&&b!=null)return c!=null?void 0:(h||(h=d("I64"))).of_float(b);if(b!=null||c==null)return;if(c!=null&&r(a))return;return(h||(h=d("I64"))).of_int32(c)}function z(a){var b=a.replyPlaintextHash;if(p(a)&&b!=null)return""+b}function A(a){var b=a.isNoteReply,c=a.isStoryReply,e=a.replyMediaExpirationTimestampMs,f=a.replyMessageText,g=a.replyStatusType;if(b===!0){if(e!=null)return(h||(h=d("I64"))).of_float(e);return}b=v(a);e=y(a);if(g!=null&&g==="XMA"&&b==null){if(e!=null)return;if(f==null)return(h||(h=d("I64"))).zero}if(e!=null||!(c!=null&&c))return;return(h||(h=d("I64"))).zero}g.getReplyUserId=a;g.getReplySourceTypeV2=e;g.getReplySourceType=f;g.getReplySourceId=k;g.getReplyTimestampMs=l;g.getReplyMessageText=m;g.getReplyMentionedJids=n;g.getReplyType=o;g.getReplyMediaMimeType=s;g.getReplyMediaHeight=t;g.getReplyMediaWidth=u;g.getReplyAttachmentType=v;g.getReplyAttachmentTypeV2=w;g.getReplyAttachmentTypeV1=x;g.getReplyAttachmentId=y;g.getReplyAttachmentPlaintextHash=z;g.getReplyMediaExpirationTimestampMs=A}),98);
__d("MAWBridgeBuildMsg",["fbt","I64","LSIntEnum","LSMessageSendStatus","MAWAckLevel","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWJids","MAWMsgErrorUtils","MAWMsgReply","MAWMsgType","MAWVault","gkx","isMWBumpMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).reduce(function(a,b){return[].concat(a,b)},[])}function l(a){return a!=null?d("MAWVault").unvault(a):void 0}function m(a){return a!=null?d("MAWVault").vault(a):void 0}function n(a){return babelHelpers["extends"]({},a,{replyMessageText:m(a.replyMessageText),text:m(a.text)})}function a(a){a=a.ephemeralDurationInSec;return a!=null?(i||(i=d("I64"))).of_int32(a):void 0}function b(a,b){var e=d("MAWMsgReply").getReplyMessageText(a),f=a.adminContent,g=a.adminType,i=a.adminVersion,j=a.content,o=a.isAdminMessage;j=j;o&&f!=null&&g!=null&&(j=d("MAWBridgeBuildAdminMsg").buildAdminMsgText(f,g,i));if(a.type_===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE){j=m(a.replySourceId==null?"":(o=b)!=null?o:h._(/*BTDS*/"Bumped a message").toString())}f=k(a.mentionedJids,d("MAWMsgReply").getReplyMentionedJids(a));g=a.commands?a.commands:[];i=g.length>0&&c("gkx")("7846");return f.length>0||i?n(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(j),f,l(e),i?g:void 0)):{replyMessageText:e,text:j}}function e(a,b,e,f){var g=c("isMWBumpMessage")(b==null?void 0:b.replyType)?b==null?void 0:b.replyMessageText:b==null?void 0:b.text;b=k(e,b==null?void 0:(e=b.mentionIds)==null?void 0:e.split(",").map(d("MAWJids").toUserJid));f=(e=f)!=null?e:[];return b.length>0||f.length>0?n(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(a),b,l(g),f)):{replyMessageText:g,text:a}}function f(a){var b=c("gkx")("7471");if(!b)return;b=a.ack;a=a.applicationErrorCode;b=d("MAWAckLevel").levelToMessagingSendStatusV2(b);b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").RETRIABLE_ERROR))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR));if(!b)return;return d("MAWMsgErrorUtils").isWellbeingError(a)?h._(/*BTDS*/"Couldn't send.").toString():h._(/*BTDS*/"Couldn't send. Something went wrong.").toString()}g.getEphemeralDurationInSec=a;g.buildMessage=b;g.buildOptimisticMessage=e;g.getSubscriptErrorMessage=f}),226);
__d("MAWBumpMessageMsgReplySnippet",["getMAWLocalizedBumpMsgReplySnippet"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isAuthorMe,d=a.recipientName,e=a.replySenderIsMe,f=a.replySenderIsRecipient;a=a.senderName;var g="participantBumpedParticipantMessage";b&&e?g="currentUserBumpedOwnMessage":b?g="currentUserBumpedMessage":e?g="participantBumpedCurrentUserMessage":f&&(g="participantBumpedOwnMessage");return c("getMAWLocalizedBumpMsgReplySnippet")(g,a,d)}g.buildBumpMessageReplySnippet=a}),98);
__d("MAWMsgReplyStatus",["LSIntEnum","LSReplyMessageStatus","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){switch(a){case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.REVOKED:return c("LSReplyMessageStatus").DELETED;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return c("LSReplyMessageStatus").VALID;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return c("LSReplyMessageStatus").UNKNOWN;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return c("LSReplyMessageStatus").EXPIRED;default:return void 0}}function a(a){a=i(a.replyStatusType);if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)}g.getReplyMessageStatus=i;g.getLSReplyMessageStatus=a}),98);
__d("MAWMsgReplySnippet",["fbt","FBLogger","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","MAWPostMentionXMASnippetFbt","ODS","justknobx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=a.isAuthorMe,e=a.isBumpMsg;e=e===void 0?!1:e;var f=a.isDeletedMsg,g=a.isFBPostMention;g=g===void 0?!1:g;var k=a.isFBStoryMention;k=k===void 0?!1:k;var l=a.isIGStoryMention;l=l===void 0?!1:l;var m=a.isIGXMAStoryShare;m=m===void 0?!1:m;var n=a.isMsgHighlightsTabFriendUpdatesReply;n=n===void 0?!1:n;var o=a.isNoteReply;o=o===void 0?!1:o;var p=a.isPostPrivateReply;p=p===void 0?!1:p;var q=a.isStoryHighlightShare;q=q===void 0?!1:q;var r=a.isStoryProducerReply,s=a.isStoryReaction;s=s===void 0?!1:s;var t=a.isStoryReply;t=t===void 0?!1:t;var u=a.isStoryShare;u=u===void 0?!1:u;var v=a.recipientName,w=a.replyAttachmentType,x=a.replySenderIsMe;x=x===void 0?!1:x;var y=a.replySenderIsRecipient;y=y===void 0?!1:y;var z=a.senderName;a=a.storyShareAuthor;switch(!0){case g:return b?d("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(v):d("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(z);case e:return d("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:b,recipientName:v,replySenderIsMe:x,replySenderIsRecipient:y,senderName:z});case q:return a!=null?h._(/*BTDS*/"Sent {username}'s story highlight",[h._param("username",a)]):h._(/*BTDS*/"Sent a story highlight");case m&&w!=null&&(i||(i=d("I64"))).equal(w,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST)):return a!=null?h._(/*BTDS*/"Sent {username}'s story",[h._param("username",a)]):h._(/*BTDS*/"Sent a story");case b&&f:return h._(/*BTDS*/"You replied to a removed message");case b&&u:return h._(/*BTDS*/"You shared a story");case b&&s:return h._(/*BTDS*/"You reacted to their story");case b&&l:return v!=null?h._(/*BTDS*/"You mentioned \u0040{name} in your story",[h._param("name",v)]):h._(/*BTDS*/"You mentioned a participant in your story");case b&&k:return v!=null?h._(/*BTDS*/"You mentioned {name} in your story",[h._param("name",v)]):h._(/*BTDS*/"You mentioned a participant in your story");case l:case k:return h._(/*BTDS*/"Mentioned you in their story");case!b&&n:return h._(/*BTDS*/"{name} replied to your post",[h._param("name",z)]);case b&&n:return h._(/*BTDS*/"You replied to their post");case b&&p:return v!=null?h._(/*BTDS*/"You replied to {name}'s post",[h._param("name",v)]):h._(/*BTDS*/"You replied to a participant's post");case p:return h._(/*BTDS*/"{name} replied to your post",[h._param("name",z)]);case!b&&o:return h._(/*BTDS*/"{name} replied to your note",[h._param("name",z)]);case b&&o:return h._(/*BTDS*/"You replied to their note");case b&&x:return h._(/*BTDS*/"You replied to yourself");case b&&t:return r===!0?h._(/*BTDS*/"You replied to your story"):v!=null?h._(/*BTDS*/"You replied to {name}'s story",[h._param("name",v)]):h._(/*BTDS*/"You replied to a participant's story");case b:return v!=null?h._(/*BTDS*/"You replied to {other_name}",[h._param("other_name",v)]):h._(/*BTDS*/"You replied to a participant");case f:return h._(/*BTDS*/"{name} replied to a removed message",[h._param("name",z)]);case u:return h._(/*BTDS*/"{user} shared a story",[h._param("user",z)]);case s:return h._(/*BTDS*/"Reacted to your story");case y:return h._(/*BTDS*/"{other} replied to themselves",[h._param("other",z)]);case x&&t:return r===!0?h._(/*BTDS*/"{name} replied to their story",[h._param("name",z)]):h._(/*BTDS*/"{name} replied to your story",[h._param("name",z)]);case x:return h._(/*BTDS*/"{other_name} replied to you",[h._param("other_name",z)]);default:return v!=null?h._(/*BTDS*/"{other} replied to {other_name}",[h._param("other",z),h._param("other_name",v)]):h._(/*BTDS*/"{other} replied to participant",[h._param("other",z)])}}function a(a){var b=a.isAuthorMe,e=a.isFBPostMention;e=e===void 0?!1:e;var f=a.isFBStoryMention;f=f===void 0?!1:f;var g=a.isIGStoryMention;g=g===void 0?!1:g;var h=a.isIGXMAStoryShare,i=a.isMsgHighlightsTabFriendUpdatesReply;i=i===void 0?!1:i;var j=a.isNoteReply;j=j===void 0?!1:j;var m=a.isPostPrivateReply;m=m===void 0?!1:m;var n=a.isStoryHighlightShare;n=n===void 0?!1:n;var o=a.isStoryProducerReply,p=a.isStoryReaction,q=a.isStoryReply,r=a.isStoryShare;r=r===void 0?!1:r;var s=a.replySenderIsMe,t=a.replySourceId,u=a.replyStatusType,v=a.replyToUserId,w=a.sender,x=a.storyShareAuthor;a=a.type_;a=a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;if(t==null&&!(c("justknobx")._("2998")&&Boolean(q))&&!r&&!g&&!f&&!n&&!j&&!e)return;if(v==null||w==null)throw c("FBLogger")("messenger_web").mustfixThrow("Error getting reply snippet without replyToUserId or sender");(k||(k=d("ODS"))).bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet");return(t=l({isAuthorMe:b,isBumpMsg:a,isDeletedMsg:d("MAWMsgReplyStatus").getReplyMessageStatus(u)===c("LSReplyMessageStatus").DELETED,isFBPostMention:e,isFBStoryMention:f,isIGStoryMention:g,isIGXMAStoryShare:h,isMsgHighlightsTabFriendUpdatesReply:i,isNoteReply:j,isPostPrivateReply:m,isStoryHighlightShare:n,isStoryProducerReply:o,isStoryReaction:p,isStoryReply:q,isStoryShare:r,recipientName:"$PARTICIPANT_FIRST_NAME("+v+")",replySenderIsMe:s,replySenderIsRecipient:w===v,senderName:"$PARTICIPANT_FIRST_NAME("+w+")",storyShareAuthor:x}))==null?void 0:t.toString()}g.buildLocalizedReplySnippet=l;g.getReplySnippet=a}),226);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:12457","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12457")),c("gkx")("23219"));g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FocusTableUtils",["FocusManager","filterNulls","focusKeyboardEventPropagation","focusScopeQueries","setElementCanTab"],(function(a,b,c,d,e,f,g){function a(a){return a.length===1}function h(a){return a instanceof HTMLElement||a instanceof SVGElement}function i(a,b){var d,e=b instanceof HTMLElement&&b.id!==""?b.id:null,f=new Set(b instanceof HTMLElement?c("filterNulls")([].concat(((d=b.getAttribute("aria-labelledby"))!=null?d:"").split(" "),((d=b.getAttribute("aria-describedby"))!=null?d:"").split(" "),((d=b.getAttribute("aria-owns"))!=null?d:"").split(" "),[b.getAttribute("aria-errormessage")])).filter(function(a){return a!==""}):[]);d=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(a){if(a===b)return NodeFilter.FILTER_REJECT;if(a.nodeType===Node.TEXT_NODE&&a.textContent.trim()==="")return NodeFilter.FILTER_REJECT;if(h(a)&&f.has(a.id))return NodeFilter.FILTER_REJECT;if(h(a)&&a.getAttribute("aria-hidden")==="true")return NodeFilter.FILTER_REJECT;if(a instanceof HTMLLabelElement&&(a.htmlFor===e||a.contains(b)))return NodeFilter.FILTER_REJECT;if(a.hasChildNodes())return NodeFilter.FILTER_SKIP;return h(a)&&a.getAttribute("aria-label")==null&&a.getAttribute("aria-labelledby")==null&&a.getAttribute("aria-describedby")==null&&a.getAttribute("alt")==null&&a.getAttribute("title")==null?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});var g=d.currentNode;while(g===a)g=d.nextNode();return g!=null}var j=new Set(["button","checkbox","radio","reset","submit"]),k=new Set(["checkbox","link","switch","radio","button"]),l=new Set(["a","button"]);function m(a){var b=a.getAttribute("role"),c=a.tagName.toLowerCase(),d=a instanceof HTMLInputElement?a.type:null;if(a instanceof HTMLInputElement&&j.has(d))return!0;return k.has(b)||l.has(c)?!0:!1}function n(a){var b=[];a=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:function(a){return a instanceof HTMLElement&&m(a)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});var c=a.nextNode();while(c)b.push(c),c=a.nextNode();return b}function o(a,b){if(!b)return null;b=a.DO_NOT_USE_queryFirstNode(d("focusScopeQueries").tableCellScopeQuery);if(b==null)return null;a=n(b);a=(a=a)!=null?a:[];var c=a[0];a=a.slice(1);if(c!=null&&a.length===0&&!i(b,c))return c}function p(a,b,c){if(b){var e=b.scopeRef.current;if(e!==null){var f;f=o(e,(f=b.allowWithinCellNavigation)!=null?f:!1);a=(f=(f=f)!=null?f:e.DO_NOT_USE_queryFirstNode(a))!=null?f:b.focusStaticCells===!0?e.DO_NOT_USE_queryFirstNode(d("focusScopeQueries").tableCellScopeQuery):null;a!==null&&(document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!1,b.focusStaticCells),d("setElementCanTab").setElementCanTab(a,!0,b.focusStaticCells),d("FocusManager").focusElement(a),c!=null&&(c.preventDefault(),d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c)))}}}function b(a,b,c){if(b!=null){b=b.DO_NOT_USE_queryFirstNode(a);b!==null&&(d("setElementCanTab").setElementCanTab(b,!0),d("FocusManager").focusElement(b),c.preventDefault(),d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c))}}function q(a,b,c,d,e){d=d[c];c=s(d,e);var f=0,g,h,i;do{g=b-f;if(g>=0){i=r(d,g,e,a);if(i)return i}h=b+f;if(h<=c){i=r(d,h,e,a);if(i)return i}f++}while(g>=0&&h<=c);return null}function e(a,b,c,d,e,f,g,h){var i=b.onNavigate;if(i){var j=!1;e=x(e,d,h);var k=e[1];e=z(b,d,g);var l=e[0],m=e[1];if(l===null)return!1;b={currentCellIndex:k,currentRowIndex:m,event:c,focusCell:function(a,b){p(b||f,a,c)},getCell:function(a,b){a=l[a];return a!=null?r(a,b,h):null},getCellByTag:function(a){var b=q(a,k,m,l,h);if(b)return b;var c=l.length,d=m+1;while(!0){if(d===m)return null;if(d>c-1){d=0;continue}b=q(a,k,d,l,h);if(b)return b;d++}return null},preventDefault:function(){j=!0},type:a};i(b);if(j)return!0}return!1}function r(a,b,c,d){a=a.getChildContextValues(c).filter(function(a){return a!=null&&(d===void 0||a.tag===d)});c=0;for(var e=0;e<a.length;e++){var f=a[e];if(f){c+=f&&f.colSpan||1;if(c>b)return f}}return null}function f(a,b,c,d,e){c=r(b,c,d);if(c!==null){p(a,c,e);return}c=b.getChildContextValues(d).filter(Boolean);c.length>0&&p(a,c[c.length-1],e)}function s(a,b){b=(a=a.getChildContextValues(b).filter(Boolean))!=null?a:[];a=0;for(var c=0;c<b.length;c++){var d=b[c];d=d&&((d=d.colSpan)!=null?d:1);a+=d}return a}function t(a,b,c){for(var d=b.length-1;d>=0;d--){var e=b[d];e=r(e,a,c);if(e!==null)return d+1}return 0}function u(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];e=r(e,b,c);if(e!==null)return d}return-1}function v(a,b){var c=0;for(var d=0;d<a.length;d++){var e=a[d];if(e===null)continue;if(e.scopeRef.current===b)return[d,d+c];e=e.colSpan;typeof e==="number"&&(c+=e-1)}return[-1,-1]}function w(a,b){return a.getChildContextValues(b).filter(Boolean)}function x(a,b,c){b=w(b,c);if(b.length>0){c=v(b,a);a=c[0];c=c[1];return[b,a,c]}return[null,-1,-1]}function y(a,b,c){if(a){a=a.scopeRef.current;if(a!==null){a=a.getChildContextValues(b);b=[];for(var d=0;d<a.length;d++){var e=a[d];if(e){var f;f=(f=e.scopeRef)==null?void 0:f.current;e=(e=c==null?void 0:c(e))!=null?e:!0;f&&e&&b.push(f)}}return b}}return null}function z(a,b,c,d){a=y(a,c,d);if(b&&a&&a.length>0){c=a.indexOf(b);return[a,c]}return[null,-1]}function A(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}g.isPrintableCharacter=a;g.hasUnassociatedLeafNodes=i;g.isArrowKeyLessOperationElement=m;g.getCellSingleInteractiveContentNode=o;g.focusCell=p;g.focusRow=b;g.checkRowForMatch=q;g.handleOnNavigateBehavior=e;g.getCellByColumnIndex=r;g.focusCellByColumnIndex=f;g.getTotalSpan=s;g.getLastRowNumInColumn=t;g.getFirstRowIndexInColumn=u;g.getCellIndexes=v;g.getRowCells=w;g.getRowCellsWithIndexes=x;g.getRows=y;g.getRowsWithIndex=z;g.hasModifierKey=A}),98);
__d("FocusTable.react",["FocusManager","FocusTableUtils","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l=b.useRef,m=5;function a(a){var b=i.unstable_Scope,c=i.createContext(null),e=i.createContext(null),g=i.createContext(null);function h(e){var f=e.children,g=e.wrapX,h=e.wrapY,j=e.wrapXToNextLine,n=e.wrapYToNextColumn,o=n===void 0?!1:n,q=e.tabScopeQuery,r=e.allowModifiers;n=e.pageJumpSize;var s=n===void 0?m:n,t=e.onNavigate,u=e.disabled,v=e.withinCellTabScopeQuery;n=e.focusStaticCells;var w=n===void 0?!1:n,x=l(null);e=k(function(){return{scopeRef:x,wrapXToNextLine:j,wrapYToNextColumn:o,wrapX:g,wrapY:h,tabScopeQuery:q,allowModifiers:r,pageJumpSize:s,onNavigate:t,disabled:u,withinCellTabScopeQuery:v,focusStaticCells:w}},[j,o,g,h,q,r,s,t,u,v,w]);var y=l(!1);n=d("ReactFocusEvent.react").useFocusWithin_DEPRECATED(x,k(function(){return{onFocusWithin:function(b){y.current||(y.current=!0,x.current&&a&&(p(x.current,a,!1),d("setElementCanTab").setElementCanTab(b.target,!0,w)))}}},[y,w]));return i.jsx(c.Provider,{value:e,children:i.jsx(b,{ref:n,children:f})})}h.displayName=h.name+" [from "+f.id+"]";function o(a){a=a.children;var c=l(null),d=k(function(){return{scopeRef:c}},[]);return i.jsx(e.Provider,{value:d,children:i.jsx(b,{ref:c,children:a})})}o.displayName=o.name+" [from "+f.id+"]";function p(a,b,c){a=a.DO_NOT_USE_queryAllNodes(b);if(a!=null)for(b=0;b<a.length;b++){var e=a[b];d("setElementCanTab").setElementCanTab(e,c)}}function q(f){var h=f.children,m=f.colSpan,o=f.tag,q=j(c),r=(f=j(e))==null?void 0:f.scopeRef,s=l(null),t=l(!1),u=(q==null?void 0:q.withinCellTabScopeQuery)!=null,v=q==null?void 0:q.focusStaticCells;d("ReactKeyboardEvent.react").useKeyboard(s,k(function(){return{onKeyDown:function(b){if(q&&q.disabled===!0)return;if(d("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(b))return;var c=s.current;if(c===null||q===null)return;if(r==null)return;var f=r.current;if(f===null)return;var h=b.key,i=u&&d("FocusTableUtils").getCellSingleInteractiveContentNode(c,u)==null,j=t.current;if(h==="Tab"&&q){var k=q.tabScopeQuery,l=q.scopeRef.current;if(k&&l){if(d("FocusTableUtils").handleOnNavigateBehavior("TAB",q,b,f,c,k,e,g))return;var m=q.withinCellTabScopeQuery;j&&m!=null?b.shiftKey?d("FocusManager").focusPreviousContained(m,c,b,!0):d("FocusManager").focusNextContained(m,c,b,!0):(p(l,k,!1),document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!0,v))}return}m=b.ctrlKey||b.metaKey;l=h;d("Locale").isRTL()&&(h==="ArrowRight"?l="ArrowLeft":h==="ArrowLeft"&&(l="ArrowRight"));switch(l){case"Home":if(d("FocusTableUtils").handleOnNavigateBehavior("HOME",q,b,f,c,a,e,g))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);l=k[0];k=k[1];var o=d("FocusTableUtils").getRowsWithIndex(q,f,e),w=o[0];o=o[1];if(l!==null&&w!==null)if(m){if(o!==0||k!==0){l=w[0];d("FocusTableUtils").focusCellByColumnIndex(a,l,0,g,b)}}else if(k!==0){l=w[o];d("FocusTableUtils").focusCellByColumnIndex(a,l,0,g,b)}return;case"End":if(d("FocusTableUtils").handleOnNavigateBehavior("END",q,b,f,c,a,e,g))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);w=k[0];o=k[1];l=d("FocusTableUtils").getRowsWithIndex(q,f,e);k=l[0];l=l[1];if(w!==null&&k!==null)if(m){if(l!==k.length-1||o!==w.length-1){l=k[k.length-1];k=l.getChildContextValues(g).filter(Boolean);k.length>0&&d("FocusTableUtils").focusCell(a,k[k.length-1],b)}}else o!==w[w.length-1]&&d("FocusTableUtils").focusCell(a,w[w.length-1],b);return;case"ArrowUp":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("PREV_ROW",q,b,f,c,a,e,g))return;if(j)return;l=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=l[0];o=l[1];w=l[2];if(k!==null&&q){l=d("FocusTableUtils").getRowsWithIndex(q,f,e);k=l[0];l=l[1];if(k!==null)if(l===0){var x=q.wrapY,y=q.wrapYToNextColumn;if(x===!0&&!m){x=k[k.length-1];d("FocusTableUtils").focusCellByColumnIndex(a,x,w,g,b)}else if(y===!0&&!m&&o>0){x=w-1;y=d("FocusTableUtils").getLastRowNumInColumn(x,k,g);o=k[y-1];d("FocusTableUtils").focusCellByColumnIndex(a,o,x,g,b)}}else if(m){y=k[0];d("FocusTableUtils").focusCellByColumnIndex(a,y,w,g,b)}else{o=k[l-1];d("FocusTableUtils").focusCellByColumnIndex(a,o,w,g,b)}}return;case"PageUp":if(d("FocusTableUtils").handleOnNavigateBehavior("PAGE_UP",q,b,f,c,a,e,g))return;if(j)return;x=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);y=x[0];k=x[2];l=d("FocusTableUtils").getRowsWithIndex(q,f,e);o=l[0];w=l[1];if(y!==null&&o!==null&&q&&w!==0){x=q.pageJumpSize;l=o[Math.max(0,w-x)];d("FocusTableUtils").focusCellByColumnIndex(a,l,k,g,b)}return;case"ArrowDown":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("NEXT_ROW",q,b,f,c,a,e,g))return;if(j)return;y=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);o=y[0];w=y[2];x=d("FocusTableUtils").getRowsWithIndex(q,f,e);l=x[0];k=x[1];if(o!==null&&l!==null&&q&&k!==-1)if(k===l.length-1){y=q.wrapY;x=q.wrapYToNextColumn;if(y===!0&&!m){o=l[0];d("FocusTableUtils").focusCellByColumnIndex(a,o,w,g,b)}else if(x===!0&&!m){y=w+1;o=d("FocusTableUtils").getFirstRowIndexInColumn(l,y,g);if(o!==-1){x=l[o];d("FocusTableUtils").focusCellByColumnIndex(a,x,y,g,b)}}}else if(m){o=l[l.length-1];d("FocusTableUtils").focusCellByColumnIndex(a,o,w,g,b)}else{x=l[k+1];d("FocusTableUtils").focusCellByColumnIndex(a,x,w,g,b)}return;case"PageDown":if(d("FocusTableUtils").handleOnNavigateBehavior("PAGE_DOWN",q,b,f,c,a,e,g))return;if(j)return;y=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);m=y[0];o=y[2];l=d("FocusTableUtils").getRowsWithIndex(q,f,e);k=l[0];x=l[1];if(m!==null&&k!==null&&q&&x!==k.length-1){w=q.pageJumpSize;y=k[Math.min(k.length-1,x+w)];d("FocusTableUtils").focusCellByColumnIndex(a,y,o,g,b)}return;case"ArrowLeft":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("PREV_CELL",q,b,f,c,a,e,g))return;if(j)return;l=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);m=l[0];k=l[1];x=d("FocusTableUtils").getRowsWithIndex(q,f,e);w=x[0];y=x[1];if(m!==null&&w!==null&&q)if(k>0)d("FocusTableUtils").focusCell(a,m[k-1],b);else if(k===0){o=q.wrapX;l=q.wrapXToNextLine;o===!0?d("FocusTableUtils").focusCell(a,m[m.length-1],b):l===!0&&w[y-1]&&d("FocusTableUtils").focusCellByColumnIndex(a,w[y-1],d("FocusTableUtils").getTotalSpan(w[y-1],g),g,b)}return;case"ArrowRight":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("NEXT_CELL",q,b,f,c,a,e,g))return;if(j)return;x=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=x[0];o=x[1];m=d("FocusTableUtils").getRowsWithIndex(q,f,e);l=m[0];w=m[1];if(k!==null&&l!==null&&q&&o!==-1)if(o===k.length-1){y=q.wrapX;x=q.wrapXToNextLine;y===!0?d("FocusTableUtils").focusCell(a,k[0],b):x===!0&&l[w+1]&&d("FocusTableUtils").focusCellByColumnIndex(a,l[w+1],0,g,b)}else d("FocusTableUtils").focusCell(a,k[o+1],b);return;case"Enter":if(!i||j)return;if(d("FocusTableUtils").handleOnNavigateBehavior("ENTER",q,b,f,c,a,e,g))return;m=q==null?void 0:q.withinCellTabScopeQuery;if(m){y=c.DO_NOT_USE_queryFirstNode(m);y!=null&&(t.current=!0,p(c,m,!0),d("FocusManager").focusElement(y))}return;case"Escape":if(!i||!j)return;if(d("FocusTableUtils").handleOnNavigateBehavior("ESC",q,b,f,c,a,e,g))return;x=q==null?void 0:q.tabScopeQuery;if(x){t.current=!1;l=c.DO_NOT_USE_queryAllNodes(x);if(l!==null)for(w=0;w<l.length;w++){k=l[w];d("setElementCanTab").setElementCanTab(k,!1,v)}d("FocusTableUtils").focusCell(x,{scopeRef:s},b)}return;default:d("FocusTableUtils").isPrintableCharacter(h)&&d("FocusTableUtils").handleOnNavigateBehavior("PRINT_CHAR",q,b,f,c,a,e,g)}}}},[r,q,u]));var w=k(function(){return{scopeRef:s,colSpan:m,tag:o,allowWithinCellNavigation:u,focusStaticCells:v}},[m,u,o,v]),x=q==null?void 0:q.tabScopeQuery;f=d("ReactFocusEvent.react").useFocusWithin_DEPRECATED(s,k(function(){return{onFocusWithin:function(b){if(a!=null){var c;c=(c=s.current)==null?void 0:c.DO_NOT_USE_queryFirstNode(a);var e=b.target===c;if(e&&(c&&!d("setElementCanTab").canElementTab(c))){e=q==null?void 0:q.scopeRef.current;e&&p(e,a,!1);d("setElementCanTab").setElementCanTab(c,!0,v)}}if(x!=null){c=(e=s.current)==null?void 0:e.DO_NOT_USE_queryFirstNode(x);e=b.target===c;var f=w.allowWithinCellNavigation===!0;e&&f&&d("FocusTableUtils").focusCell(x,w);c!=null&&!e&&f&&b.target instanceof HTMLElement&&!d("FocusTableUtils").isArrowKeyLessOperationElement(b.target)&&(t.current=!0)}},onBlurWithin:function(){t.current=!1}}},[x,w,q==null?void 0:q.scopeRef]));return i.jsx(g.Provider,{value:w,children:i.jsx(b,{ref:f,children:h})})}q.displayName=q.name+" [from "+f.id+"]";return[h,o,q]}function n(a,b){if(d("FocusTableUtils").hasModifierKey(a)&&b){a=b.allowModifiers;if(a!==!0)return!0}}g.createFocusTable=a}),98);
__d("BaseGridFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(a,b,c,d,e,f,g){"use strict";a=d("FocusTable.react").createFocusTable(d("focusScopeQueries").focusableScopeQuery);b=a[0];c=a[1];e=a[2];g.BaseGridFocusTable=b;g.BaseGridFocusRow=c;g.BaseGridFocusCell=e}),98);
__d("BaseGrid.react",["BaseGridFocusTable.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),c=a["aria-describedby"],e=a["aria-multiselectable"],f=a.children,g=a.wrapNavigation,h=a.xstyle,k=a["aria-label"];a=a["aria-labelledby"];g=g===void 0?"none":g;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=["row","both"],b[0]=l):l=b[0];l=l.includes(g);var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=["column","both"],b[1]=m):m=b[1];m=m.includes(g);b[2]!==c||b[3]!==k||b[4]!==a||b[5]!==e||b[6]!==f||b[7]!==h?(g=i.jsx(d("react-strict-dom").html.div,{"aria-describedby":c,"aria-label":k,"aria-labelledby":a,"aria-multiselectable":e,role:"grid",style:h,children:f}),b[2]=c,b[3]=k,b[4]=a,b[5]=e,b[6]=f,b[7]=h,b[8]=g):g=b[8];b[9]!==l||b[10]!==m||b[11]!==g?(c=i.jsx(d("BaseGridFocusTable.react").BaseGridFocusTable,{tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,withinCellTabScopeQuery:j,wrapXToNextLine:l,wrapYToNextColumn:m,children:g}),b[9]=l,b[10]=m,b[11]=g,b[12]=c):c=b[12];return c}var j=function(a,b){return b.role==="gridcell"||b.role==="row"?!1:d("focusScopeQueries").tabbableScopeQuery(a,b)};g["default"]=a}),98);
__d("BaseGridCell.react",["BaseGridFocusTable.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={focusRing:{boxShadow:"x59fq91",outline:"x1a2a7pz x1uvtmcs x1i4ix8p",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,i,l,m,n;b[0]!==a?(f=a["aria-selected"],g=a.children,i=a["data-type"],l=a.ref,m=a.testid,n=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["aria-selected","children","data-type","ref","testid","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7]);b[8]!==n?(a=(h||(h=c("stylex"))).props(n,k.focusRing),b[8]=n,b[9]=a):a=b[9];b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==i||b[14]!==l||b[15]!==a||b[16]!==m?(n=j.jsx(d("BaseGridFocusTable.react").BaseGridFocusCell,{children:j.jsx("div",babelHelpers["extends"]({},e,{"aria-selected":f,"data-testid":void 0,"data-type":i,ref:l,role:"gridcell"},a,{tabIndex:0,children:g}))}),b[10]=e,b[11]=f,b[12]=g,b[13]=i,b[14]=l,b[15]=a,b[16]=m,b[17]=n):n=b[17];return n}g["default"]=a}),98);
__d("BaseGridRow.react",["BaseGridFocusTable.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.xstyle;var e;b[0]!==c||b[1]!==a?(e=i.jsx(d("BaseGridFocusTable.react").BaseGridFocusRow,{children:i.jsx(d("react-strict-dom").html.div,{role:"row",style:a,children:c})}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("BaseGridRowScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e,f,g,h,j;b[0]!==a?(e=a.addonEnd,f=a.addonStart,g=a.children,h=a.ref,j=babelHelpers.objectWithoutPropertiesLoose(a,["addonEnd","addonStart","children","ref"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==h||b[10]!==j?(a=i.jsxs(c("BaseScrollableArea.react"),babelHelpers["extends"]({},j,{ref:h,children:[f,g,e]})),b[6]=e,b[7]=f,b[8]=g,b[9]=h,b[10]=j,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("BaseHScrollContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({role:void 0,spacing:void 0});g["default"]=b}),98);
__d("BaseHScrollChild",["BaseGridCell.react","BaseHScrollContext","FocusInertRegion.react","Locale","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={card:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",minWidth:"xeuugli",scrollSnapAlign:"x1bhewko",$$css:!0},cardExpanding:{display:"x78zum5",$$css:!0},cardRTL:{scrollSnapAlign:"x83psoy",$$css:!0},flexBasis:function(a){return[{flexBasis:a==null?null:"xrm09gi",$$css:!0},{"--flexBasis":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},flexBasisDoubleWidth:function(a,b){return[{flexBasis:"calc(("+a+") * 2 + "+b+"px)"==null?null:"xrm09gi",$$css:!0},{"--flexBasis":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("calc(("+a+") * 2 + "+b+"px)")}]},gap:function(a){return[{marginEnd:a==null?null:"x9wsmhn",":last-of-type_marginEnd":"xnqqybz",$$css:!0},{"--marginInlineEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}},m=d("Locale").isRTL();function a(a){var b=d("react-compiler-runtime").c(21),e,f,g,i,n,o,p,q;b[0]!==a?(i=a["aria-hidden"],f=a.children,n=a.expanding,g=a.role,p=a.testid,o=a.type,q=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["aria-hidden","children","expanding","role","testid","type","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=n,b[6]=o,b[7]=p,b[8]=q):(e=b[1],f=b[2],g=b[3],i=b[4],n=b[5],o=b[6],p=b[7],q=b[8]);a=i===void 0?!1:i;i=n===void 0?!1:n;n=o===void 0?"default":o;o=k(c("BaseHScrollContext"));var r=o.role;o=o.spacing;if(o==null)return null;var s=o.gap;o=o.width;if(b[9]!==e||b[10]!==f||b[11]!==i||b[12]!==s||b[13]!==a||b[14]!==r||b[15]!==g||b[16]!==p||b[17]!==n||b[18]!==o||b[19]!==q){var t;bb0:switch(n){case"custom":t=void 0;break bb0;case"doubleWidth":t=l.flexBasisDoubleWidth(o,s);break bb0;default:t=l.flexBasis(o)}var u=[l.card,m&&l.cardRTL,l.gap(s),i&&l.cardExpanding,q,t];u=r==="grid"?j.jsx(c("BaseGridCell.react"),babelHelpers["extends"]({},e,{"data-type":"hscroll-child",testid:void 0,xstyle:u,children:f})):j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(u),{"data-testid":void 0,"data-type":"hscroll-child",role:r==="list"?"listitem":g,children:j.jsx(c("FocusInertRegion.react"),{disabled:!a,children:f})}));b[9]=e;b[10]=f;b[11]=i;b[12]=s;b[13]=a;b[14]=r;b[15]=g;b[16]=p;b[17]=n;b[18]=o;b[19]=q;b[20]=u}else u=b[20];return u}g["default"]=a}),98);
__d("BaseHScrollConstants",[],(function(a,b,c,d,e,f){"use strict";a=1600;b=10;f.MAX_CONTAINER_WIDTH=a;f.WIGGLE_ROOM=b}),66);
__d("BaseHScrollPeek.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),c=a.maxContentWindowWidth,e=a.padding;a=a.width;if(b[0]!==c||b[1]!==e||b[2]!==a){var f;f=c!=null&&e==null?i.jsx("span",{style:{flexShrink:0,minWidth:a,width:"calc((100% - "+c+"px) / 2)"}}):i.jsx("span",{style:{minWidth:(f=e)!=null?f:a}});b[0]=c;b[1]=e;b[2]=a;b[3]=f}else f=b[3];return f}g["default"]=a}),98);
__d("BaseHScrollScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e,f,g;b[0]!==a?(e=a.addonEnd,f=a.addonStart,g=babelHelpers.objectWithoutPropertiesLoose(a,["addonEnd","addonStart"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);b[4]!==e||b[5]!==f||b[6]!==g?(a=i.jsxs(c("BaseScrollableArea.react"),babelHelpers["extends"]({},g,{children:[f,g.children,e]})),b[4]=e,b[5]=f,b[6]=g,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("getBaseHScrollAccessibilityAlert",["fbt","compactMap","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d,e,f){var g=c("compactMap")(d,function(c,d){c=c.getBoundingClientRect();var g=Math.round(c.left+c.width-a+f-e)<=0;c=Math.round(c.left-a-b.clientWidth-f-e)>=0;return!g&&!c?(d+1).toString():null});return h._(/*BTDS*/"Item {number} of {total}",[h._param("number",c("intlList")(g)),h._param("total",d.length)])}g["default"]=a}),226);
__d("setBaseHscrollChildrenAriaHidden",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=Array.from(a.children[0].children).filter(function(a){return a.tagName==="DIV"}),c=a.getBoundingClientRect();b.forEach(function(a){var b=a.getBoundingClientRect();if(c!=null){var d=b.left+b.width<c.left;b=b.right-b.width>c.right;(b||d)&&a.getAttribute("aria-hidden")!=="true"&&a.setAttribute("aria-hidden","true");!b&&!d&&a.getAttribute("aria-hidden")==="true"&&a.removeAttribute("aria-hidden")}})}f["default"]=a}),66);
__d("smoothScrollTo",["ExecutionEnvironment","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("UserAgent").isBrowser("Firefox");b=(h||(h=c("ExecutionEnvironment"))).canUseDOM&&window.matchMedia("(prefers-reduced-motion: reduce)");var j=b&&b.matches,k=(h||(h=c("ExecutionEnvironment"))).canUseDOM&&document.documentElement!=null&&"scrollBehavior"in document.documentElement.style,l=new WeakMap();function a(a,b,c){var d=b.left;d=d===void 0?0:d;b=b.top;b=b===void 0?0:b;i&&(!l.get(a)&&d!==0&&(a.scrollLeft+=d/Math.abs(d),l.set(a,!0)));k?(a.scrollTo({behavior:j?"auto":"smooth",left:d,top:b}),c!=null&&"onscrollend"in window&&a.addEventListener("scrollend",c,{once:!0})):(a.scrollTo(d,b),c==null?void 0:c())}g["default"]=a}),98);
__d("useContainerBreakpoints",["$InternalEnum","gkx","react","react-compiler-runtime","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");f.useCallback;var i=f.useState,j=b("$InternalEnum")({BiggerContainerSmallerChild:0,BiggerContainerBiggerChild:1});function k(a,b){var c=a[0],d=c.maxContainerWidth;c=c.width;a=a.slice(1);if(d===Infinity||a.length===0)return c;switch(b){case j.BiggerContainerSmallerChild:var e="calc(("+d+"px - 100%) * 9999)",f=k(a,b);typeof f==="number"&&(f="min("+f+"px, (100% - "+(d+.1)+"px) * 9999)");return"max("+f+", min("+c+", "+e+"))";case j.BiggerContainerBiggerChild:f="calc((100% - "+d+"px) * 9999)";e=k(a,b);return"min("+e+", max("+c+", "+f+"))"}}function a(a,b){b=d("react-compiler-runtime").c(5);var e=i(null),f=e[0],g=e[1];b[0]!==a?(e=function(b){b=b.width;var c;for(var d of a){if(b>d.maxContainerWidth)continue;c=d.width;break}g(c)},b[0]=a,b[1]=e):e=b[1];e=e;e=c("useResizeObserver")(e);var h;b[2]!==f||b[3]!==e?(h=[e,f],b[2]=f,b[3]=e,b[4]=h):h=b[4];return h}function e(a,b){var c=d("react-compiler-runtime").c(5),e;c[0]!==a||c[1]!==b?(e=k(a,b),c[0]=a,c[1]=b,c[2]=e):e=c[2];a=e;c[3]!==a?(b=[void 0,a],c[3]=a,c[4]=b):b=c[4];return b}f=c("gkx")("24318")?e:a;g.BreakpointRelationship=j;g.useContainerBreakpoints=f}),98);
__d("BaseHScroll.react",["BaseGrid.react","BaseGridRow.react","BaseGridRowScrollableArea.react","BaseHScrollChild","BaseHScrollConstants","BaseHScrollContext","BaseHScrollPeek.react","BaseHScrollScrollableArea.react","BaseView.react","HiddenSubtreePassiveContext","Locale","UserAgent","emptyFunction","getBaseHScrollAccessibilityAlert","react","setBaseHscrollChildrenAriaHidden","smoothScrollTo","stylex","useBaseHScrollFakeCards","useContainerBreakpoints","useEventHandler","useMergeRefs","useTriggerAccessibilityAlert","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var aa=e.useCallback,ba=e.useContext,l=e.useLayoutEffect,m=e.useMemo,n=e.useRef,o=e.useState,p=d("Locale").isRTL();e=c("UserAgent").isBrowser("Safari < 14")||c("UserAgent").isBrowser("Mobile Safari < 14");var q=c("UserAgent").isBrowser("Chrome"),r=c("UserAgent").isBrowser("IE")||c("UserAgent").isBrowser("Edge"),ca=p&&e;function a(a){var b=a.accessibilityLabel,e=a.buttonWrapperStyle,f=a.cardWidth,g=a.containerXStyle;g=g===void 0?s.containerPaddingDefault:g;var j=a.outerContainerXStyle,q=a.scrollViewXStyle,ea=a.scrollContainerXStyle,t=a.disableScrolling;t=t===void 0?!1:t;var u=a.gap,v=u===void 0?0:u;u=a.hideArrows;u=u===void 0?!1:u;var w=a.initialScrollToIndex,x=a.initialScrollSmoothing,fa=x===void 0?!1:x;x=a.isButtonInward;x=x===void 0?!1:x;var y=a.maxContentWindowWidth,ga=a.nextButton,z=a.peekWidth,ha=a.prevButton,A=a.onPressNext,ia=A===void 0?c("emptyFunction"):A;A=a.onPressPrev;var ja=A===void 0?c("emptyFunction"):A;A=a.peek;var B=A===void 0?!1:A;A=a.peekPaddingStart;var C=a.peekPaddingEnd,D=a.testid,E=a.role,F=babelHelpers.objectWithoutPropertiesLoose(a,["accessibilityLabel","buttonWrapperStyle","cardWidth","containerXStyle","outerContainerXStyle","scrollViewXStyle","scrollContainerXStyle","disableScrolling","gap","hideArrows","initialScrollToIndex","initialScrollSmoothing","isButtonInward","maxContentWindowWidth","nextButton","peekWidth","prevButton","onPressNext","onPressPrev","peek","peekPaddingStart","peekPaddingEnd","testid","role"]);D=y!=null&&B&&C!=null&&A!=null;var G=f.type==="responsive"?f.minWidth:f.width;a=m(function(){var a=[];if(f.type==="fixed")a.push({maxContainerWidth:Infinity,width:G+"px"});else if(B&&y!=null){var b=z*2,c=2*G+v+b,e=1;while(c<y+b){var g=e<=1||v===0?0:(e-1)*v;g=g+b;g=g===0?"100%":"(100% - "+g+"px)";a.push({maxContainerWidth:c,width:"calc("+g+" / "+e+")"});c+=v+G;e++}g=e<=1||v===0?0:(e-1)*v;c=g+b;c=c===0?"100%":"(100% - "+c+"px)";a.push({maxContainerWidth:y+b,width:"calc("+c+" / "+e+")"});a.push({maxContainerWidth:Infinity,width:(y-g)/e})}else{b=B?z*2:0;c=2*G+v+b;g=1;while(c<d("BaseHScrollConstants").MAX_CONTAINER_WIDTH){e=g<=1||v===0?0:(g-1)*v;e=e+b;e=e===0?"100%":"(100% - "+e+"px)";a.push({maxContainerWidth:c,width:"calc("+e+" / "+g+")"});c+=v+G;g++}e=g<=1||v===0?0:(g-1)*v;c=e+b;e=c===0?"100%":"(100% - "+c+"px)";a.push({maxContainerWidth:Infinity,width:"calc("+e+" / "+g+")"})}return a},[f.type,B,y,G,z,v]);var ka=c("useTriggerAccessibilityAlert")();a=d("useContainerBreakpoints").useContainerBreakpoints(a,d("useContainerBreakpoints").BreakpointRelationship.BiggerContainerSmallerChild);var H=a[0],I=a[1];a=m(function(){if(B&&y!=null)return[{maxContainerWidth:y+z*2,width:z},{maxContainerWidth:Infinity,width:"calc((100% - "+y+"px) / 2)"}];return B?[{maxContainerWidth:Infinity,width:z}]:[{maxContainerWidth:Infinity,width:0}]},[y,B,z]);a=d("useContainerBreakpoints").useContainerBreakpoints(a,d("useContainerBreakpoints").BreakpointRelationship.BiggerContainerBiggerChild);var J=a[0];a=a[1];a=y!=null&&typeof a==="string"&&a.includes("min(")?"max("+z+"px, (100% - "+y+"px) / 2)":a;var K=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),L=k.Children.count(F.children),M=o(F.isCircular?!1:!p),N=M[0],O=M[1];M=o(F.isCircular?!1:p);var P=M[0],Q=M[1],R=n(!1);l(function(){var a;a=(a=K.current)==null?void 0:a.getDOMNode();if(a==null)return;if(p){var b=a.clientWidth,c=a.scrollLeft;a=a.scrollWidth;c>50&&c>a-b-50&&(R.current=!0)}},[]);var S=c("useEventHandler")(function(){var a;a=(a=K.current)==null?void 0:a.getDOMNode();if(a==null)return;var b=a.getBoundingClientRect();b=b.width;var c=a.scrollLeft,d=a.scrollWidth;if(!F.isCircular)p&&!r?R.current?(O(c>d-b-v),Q(c<v)):(O(c>-v),Q(c<-d+b+v)):(O(c<v),Q(c>d-b-v));else{c=X.current(a);d=c.childCards;if(d==null||d[0]==null)return;ma({isRTL:p,isRTLScrollFromMaxScroll:R,scrollRef:K})}});M=c("useBaseHScrollFakeCards")({children:F.isCircular?F.children:[],fakeCardXStyle:F.isCircular?F.fakeCardXStyle:null,gap:v,isCircular:(M=F.isCircular)!=null?M:!1,minWidth:G,onResize:function(){var a;S();a=(a=K.current)==null?void 0:a.getDOMNode();a!=null&&c("setBaseHscrollChildrenAriaHidden")(a)},peek:B,peekWidth:z});var la=M[0],T=M[1],U=M[2],ma=M[3];M=c("useMergeRefs")(H,J,U);var na=ba(c("HiddenSubtreePassiveContext"));l(function(){var a=na.subscribeToChanges(function(a){a.hidden||S()});return function(){return a.remove()}},[na,S]);l(function(){S()},[L,S]);var V=n(v);l(function(){V.current=v},[v]);var W=aa(function(a){var b=a.getBoundingClientRect(),c=y!=null?Math.min(b.width-(B?2*z:0),y):B?b.width-2*z:b.width,d=(b.width-c)/2,e=b.left+d;b=b.right-d;d=Array.from(a.querySelectorAll('[data-type="hscroll-child"]'));return{childCards:d,containerLeft:e,containerRight:b,containerWidth:c}},[y,B,z]),X=n(W);l(function(){X.current=W},[W]);var Y=((H=la)!=null?H:[]).length;l(function(){var a,b=(a=K.current)==null?void 0:a.getDOMNode();if(b==null)return;if(w==null&&Y===0){c("setBaseHscrollChildrenAriaHidden")(b);return}a=X.current(b);a=a.childCards;var d=0;if(w!=null)for(var e=0;e<Math.min(w,a.length);e++)d+=a[e].getBoundingClientRect().width+V.current;if(Y!==0){e=w==null?0:w;for(var f=e;f<Math.min(e+Y,a.length);f++)d+=a[f].getBoundingClientRect().width+V.current}a=function(a){fa?c("smoothScrollTo")(b,{left:a},function(){c("setBaseHscrollChildrenAriaHidden")(b)}):(b.scrollTo(a,0),c("setBaseHscrollChildrenAriaHidden")(b))};if(p&&!r)if(R.current){f=b.scrollWidth-b.getBoundingClientRect().width;a(f-d)}else a(-d);else a(d)},[w,fa,Y]);J=function(){var a,b=(a=K.current)==null?void 0:a.getDOMNode();if(b==null)return;else c("setBaseHscrollChildrenAriaHidden")(b);a=W(b);var e=a.childCards,f=a.containerLeft;a=a.containerRight;var g;for(var h=p?0:e.length-1;p?h<e.length:h>=0;p?h++:h--){var i=e[h].getBoundingClientRect();if(i.left<=f-d("BaseHScrollConstants").WIGGLE_ROOM){g=i;break}}if(g==null)return;i=g.right-a;if(i!==0){h=p&&r?b.scrollLeft-i:b.scrollLeft+i;c("smoothScrollTo")(b,{left:h},function(){c("setBaseHscrollChildrenAriaHidden")(b)});ja();ka(c("getBaseHScrollAccessibilityAlert")(h<0?-b.scrollLeft:i,b,e,f,v))}};U=function(){var a,b=(a=K.current)==null?void 0:a.getDOMNode();if(b==null)return;else c("setBaseHscrollChildrenAriaHidden")(b);a=W(b);var e=a.childCards,f=a.containerLeft;a=a.containerRight;var g;for(var h=p?e.length-1:0;p?h>=0:h<e.length;p?h--:h++){var i=e[h].getBoundingClientRect();if(i.right>=a+d("BaseHScrollConstants").WIGGLE_ROOM){g=i;break}}if(g==null)return;i=g.left-f;if(i!==0){a=p&&r?b.scrollLeft-i:b.scrollLeft+i;c("smoothScrollTo")(b,{left:a},function(){c("setBaseHscrollChildrenAriaHidden")(b)});ia();ka(c("getBaseHScrollAccessibilityAlert")(a+b.clientWidth>b.scrollWidth?b.scrollWidth-b.scrollLeft-b.clientWidth:i,b,e,f,v))}};H=function(){var a;a=(a=K.current)==null?void 0:a.getDOMNode();if(a==null)return;c("setBaseHscrollChildrenAriaHidden")(a)};var oa=m(function(){return{role:E,spacing:I!=null?{gap:v,width:I}:null}},[E,I,v]);da(K,L);L=B?k.jsx(c("BaseHScrollPeek.react"),{maxContentWindowWidth:y,padding:A,width:z}):void 0;A=B?k.jsx(c("BaseHScrollPeek.react"),{maxContentWindowWidth:y,padding:C,width:z}):void 0;C=E==="grid";var Z=C?c("BaseGridRowScrollableArea.react"):c("BaseHScrollScrollableArea.react");Z=k.jsx(Z,{addonEnd:k.jsxs(k.Fragment,{children:[T,A]}),addonStart:k.jsxs(k.Fragment,{children:[L,la]}),hideScrollbar:!0,horizontal:!0,onScroll:S,onScrollEnd:H,ref:K,style:{scrollPadding:a},vertical:!1,xstyle:[s.scrollView,!ca&&s.scrollViewSnap,t&&s.scrollViewNoScroll,q],children:F.children});var $;switch(E){case"grid":$=void 0;break;case"list":$="list";break;default:$=Boolean(b)?"region":void 0;break}T=Boolean($)?b:void 0;return k.jsxs(c("BaseView.react"),{ref:M,testid:void 0,xstyle:j,children:[k.jsx("div",{"aria-hidden":u||!!N,className:(i||(i=c("stylex")))(s.buttonWrapper,(u||!!N)&&s.hidden,e),style:p?{right:a!=null&&!D?a:B?z:0,transform:"translate(calc("+(!B&&x?0:50)+"% + "+(B?v/2:0)+"px), -50%)"}:{left:a!=null&&!D?a:B?z:0,transform:"translate(calc(-"+(!B&&x?0:50)+"% - "+(B?v/2:0)+"px), -50%)"},suppressHydrationWarning:!F.isCircular,children:ha&&ha(p?U:J,!!N)}),k.jsx(c("BaseView.react"),{"aria-label":T,role:$,xstyle:[s.scrollContainer,g,ea],children:k.jsx(c("BaseHScrollContext").Provider,{value:oa,children:C?k.jsx(c("BaseGrid.react"),{"aria-label":b,children:k.jsx(c("BaseGridRow.react"),{children:Z})}):Z})}),k.jsx("div",{"aria-hidden":u||!!P,className:i(s.buttonWrapper,(u||!!P)&&s.hidden,e),style:p?{left:a!=null&&!D?a:B?z:0,transform:"translate(calc(-"+(!B&&x?0:50)+"% - "+(B?v/2:0)+"px), -50%)"}:{right:a!=null&&!D?a:B?z:0,transform:"translate(calc("+(!B&&x?0:50)+"% + "+(B?v/2:0)+"px), -50%)"},suppressHydrationWarning:!F.isCircular,children:ga&&ga(p?J:U,!!P)})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){}var da=b;if(q){e=function(a,b){var d=(h||(h=c("useUnsafeRef_DEPRECATED")))(null);l(function(){var b,c=d.current;b=(b=a.current)==null?void 0:b.getDOMNode();c!=null&&b!=null&&(b.scrollLeft=c)},[b,a]);b=(b=a.current)==null?void 0:b.getDOMNode();b!=null&&(d.current=b.scrollLeft)};da=e}var s={buttonWrapper:{opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xwji4o3",zIndex:"x1vjfegm",$$css:!0},containerPaddingDefault:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",$$css:!0},scrollContainer:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},scrollView:{boxSizing:"x9f619",marginBottom:"xat24cr",paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",scrollbarWidth:"x1rohswg",$$css:!0},scrollViewNoScroll:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},scrollViewSnap:{scrollSnapType:"xhfbhpw",$$css:!0}};g.HScrollContainer=a;g.HScrollChild=c("BaseHScrollChild")}),98);
__d("useBaseHScrollFakeCards",["BaseHScroll.react","BaseHScrollConstants","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","UserAgent","react","react-compiler-runtime","setBaseHscrollChildrenAriaHidden","useEventHandler","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=d("react-compiler-runtime").c(23),e=a.children,f=a.fakeCardXStyle,g=a.gap,h=a.isCircular,k=a.minWidth,l=a.onResize,m=a.peek,n=a.peekWidth;a=j(0);var o=a[0],p=a[1];b[0]!==e.length||b[1]!==g||b[2]!==h||b[3]!==k||b[4]!==l||b[5]!==m||b[6]!==n?(a=function(a,b,c){b=a.width;c=Math.min(b,d("BaseHScrollConstants").MAX_CONTAINER_WIDTH);a=m?n*2:0;if(h){b=Math.floor((c-a+g)/(k+g));e.length<b?p(0):p(b)}l()},b[0]=e.length,b[1]=g,b[2]=h,b[3]=k,b[4]=l,b[5]=m,b[6]=n,b[7]=a):a=b[7];a=c("useEventHandler")(a);a=c("useResizeObserver")(a);if(b[8]!==e||b[9]!==f||b[10]!==h||b[11]!==o){var q=o!==0?e.slice(-o):[],r=e.slice(0,o);q=h?q.map(function(a,b){return i.createElement(d("BaseHScroll.react").HScrollChild,babelHelpers["extends"]({},c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props,{"aria-hidden":!0,key:"head-"+b,xstyle:[c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props.xstyle,f]}))}):null;r=h?r.map(function(a,b){return i.createElement(d("BaseHScroll.react").HScrollChild,babelHelpers["extends"]({},c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props,{"aria-hidden":!0,key:"tail-"+b,xstyle:[c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props.xstyle,f]}))}):null;b[8]=e;b[9]=f;b[10]=h;b[11]=o;b[12]=q;b[13]=r}else q=b[12],r=b[13];o=r;b[14]!==g||b[15]!==m||b[16]!==n?(r=function(a){var b=a.isRTL,e=a.isRTLScrollFromMaxScroll;a=a.scrollRef;var f=(a=a.current)==null?void 0:a.getDOMNode();if(f!=null){var h=c("UserAgent").isBrowser("IE")||c("UserAgent").isBrowser("Edge");a=f.offsetWidth;var i=f.scrollLeft,j=f.scrollWidth,k=b?-(j-a):j-a,l=function(a){var d=function(a){f.scrollTo==null?void 0:f.scrollTo(a,0),"onscrollend"in f&&f.addEventListener("scrollend",function(){c("setBaseHscrollChildrenAriaHidden")(f)},{once:!0})};if(b&&!h)if(e.current){var g=f.scrollWidth-f.getBoundingClientRect().width;d(g-a)}else d(-a);else d(a)},o=m?n*2:0,p=d("BaseHScrollConstants").WIGGLE_ROOM/2;if(i>=0-p&&i<=0+p){j=j-2*a+o-g;l(j)}if(i>=k-p&&i<=k+p){j=a-o+g;l(j)}}},b[14]=g,b[15]=m,b[16]=n,b[17]=r):r=b[17];r=r;var s;b[18]!==q||b[19]!==r||b[20]!==a||b[21]!==o?(s=[q,o,a,r],b[18]=q,b[19]=r,b[20]=a,b[21]=o,b[22]=s):s=b[22];return s}g["default"]=a}),98);
__d("FDSHScroll.react",["fbt","BaseHScroll.react","ChevronLeftFilled24.svg.react","ChevronRightFilled24.svg.react","CometTrackingNodeProvider.react","FDSCircleButton.react","Locale","SVGIcon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=h._(/*BTDS*/"Next items"),l=h._(/*BTDS*/"Previous items"),m=d("Locale").isRTL(),n=44;function a(a){var b=d("react-compiler-runtime").c(15),e,f,g,h;b[0]!==a?(f=a.nextButtonLabel,g=a.prevButtonLabel,h=a.reduceArrowSize,e=babelHelpers.objectWithoutPropertiesLoose(a,["nextButtonLabel","prevButtonLabel","reduceArrowSize"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);var i=f===void 0?k:f,o=g===void 0?l:g,p=h===void 0?!1:h;b[5]!==o||b[6]!==p?(a=function(a,b){return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:419,children:j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",disabled:b,icon:d("SVGIcon").svgIcon(m?c("ChevronRightFilled24.svg.react"):c("ChevronLeftFilled24.svg.react")),label:o,onPress:a,size:p?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},b[5]=o,b[6]=p,b[7]=a):a=b[7];f=a;b[8]!==i||b[9]!==p?(g=function(a,b){return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:420,children:j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",disabled:b,icon:d("SVGIcon").svgIcon(m?c("ChevronLeftFilled24.svg.react"):c("ChevronRightFilled24.svg.react")),label:i,onPress:a,size:p?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},b[8]=i,b[9]=p,b[10]=g):g=b[10];h=g;b[11]!==h||b[12]!==f||b[13]!==e?(a=j.jsx(d("BaseHScroll.react").HScrollContainer,babelHelpers["extends"]({},e,{nextButton:h,peekWidth:n,prevButton:f})),b[11]=h,b[12]=f,b[13]=e,b[14]=a):a=b[14];return a}g.Container=a;g.Child=d("BaseHScroll.react").HScrollChild}),226);
__d("range",[],(function(a,b,c,d,e,f){function a(a,b,c){c=c==null||c===0?a<b?1:-1:c;var d=-1;b=Math.max(Math.ceil((b-a)/c),0);var e=Array(b);a=a;while(b--)e[++d]=a,a+=c;return e}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("E2EELinkPreviewXMADataType",[],(function(a,b,c,d,e,f){a=Object.freeze({FALLBACK:1,FB_CLIENT_FETCH:2,OEMBED:4});f["default"]=a}),66);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMediaSendInsertNewMediaSendStoredProcedure";a.__tables__=["media_send_jobs"];e.exports=a}),null);
__d("LSInsertNewMediaSendStoredProcedure",["LSInsertNewMediaSend","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertNewMediaSend"),e.offlineAttachmentId,e.offlineThreadingId,e.inMessageIndex,e.attachmentType,e.shouldTranscode,e.useDoublePhase,e.sendByServer,e.isSecure);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],void 0,a[7],a[8],a[9],a[10],void 0,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[7]=d[4].get("offline_attachment_id"),d[8]=d[4].get("attachment_type"),d[9]=d[4].get("filename"),d[10]=d[4].get("filesize"),d[11]=d[4].get("attachment_index"),d[12]=d[4].get("has_media"),d[13]=d[4].get("has_xma"),d[14]=d[4].get("playable_url"),d[15]=d[4].get("playable_url_mime_type"),d[16]=d[4].get("playable_duration_ms"),d[17]=d[4].get("preview_url"),d[18]=d[4].get("preview_url_mime_type"),d[19]=d[4].get("mini_preview"),d[20]=d[4].get("preview_width"),d[21]=d[4].get("preview_height"),d[22]=d[4].get("xma_layout_type"),d[23]=d[4].get("xmas_template_type"),d[24]=d[4].get("cta1_title"),d[25]=d[4].get("cta2_title"),d[26]=d[4].get("cta3_title"),d[27]=d[4].get("image_url"),d[28]=d[4].get("action_url"),d[29]=d[4].get("title_text"),d[30]=d[4].get("subtitle_text"),d[31]=d[4].get("description_text"),d[32]=d[4].get("source_text"),d[33]=d[4].get("original_file_hash"),d[34]=d[4].get("sound_bite_client_sound_key"),d[35]=d[4].get("sound_bite_visual"),d[36]=d[4].get("ephemeral_media_state"),d[37]=d[4].get("waveform_data"),d[38]=d[4].get("sampling_frequency_hz"),d[17]!==void 0?d[39]=d[17]:d[39]=d[14],c.filter(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[39],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20]),samplingFrequencyHz:d[38],waveformData:d[37]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],void 0)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",["LSLocalApplyOptimisticMessageWithAttachments","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSLocalApplyOptimisticMessageWithAttachments"),e.senderId,e.threadKey,e.threadType,e.text,e.snippet,e.snippetHasEmoji,e.stickerId,e.replySourceId,e.replySourceType,e.replySourceTypeV2,e.isForwarded,e.attachments,e.mentionData);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMessageContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEXT:1,MEDIA_PREVIEW:2,AUDIO_CLIP:4,XMA_FALLBACK:8,LWA_WAVE:16,ADMIN:32,FILE_ATTACHMENT:64,GLYPH:128,TOMBSTONE:256,STORY_REPLY:512,SINGLE_XMA:1024,HSCROLL_XMA:2048,STICKER:4096,FORWARD_INDICATOR:8192,ANIMATED_IMAGE:16384,NULL_STATE:32768,ENCRYPTION_PLACEHOLDER:65536,FUTUREPROOF_PLACEHOLDER:131072,UNAVAILABLE_PLACEHOLDER:262144,LOCATION_PLACEHOLDER:524288,POLL_CREATION_PLACEHOLDER:1048576,CONTACT_SHARE_PLACEHOLDER:2097152,STORY_MENTION_PLACEHOLDER:4194304,META_AI_MESSAGE_PLACEHOLDER:8388608,BUMP_MESSAGE_PLACEHOLDER:16777216,BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_PLACEHOLDER:33554432,STICKER_RECEIVER_FETCH_UNSUPPORTED_PLACEHOLDER:67108864,RECEIVER_FETCH:134217728,STORY_MENTION:268435456,XMA_RECEIVER_FETCH:536870912,NOTE_MENTION_PLACEHOLDER:1073741824,POST_MENTION_PLACEHOLDER:2147483648,LIVE_LOCATION_PLACEHOLDER:4294967296,MESSENGER_MEMORY_PLACEHOLDER:8589934592});f["default"]=a}),66);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMessagePointQuery"),e.threadKey,e.messageId,e.threadType,e.numContextMessages);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSendXMAMessageForwardFromSecureThread",["LSArrayGetObjectAt","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,3]),a[4],void 0,void 0,!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[3]=c.i64.of_int32(a[6].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[4]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(e){return d[7]=d[5].get("attachment_fbid"),d[8]=d[5].get("offline_attachment_id"),d[9]=d[5].get("attachment_type"),d[10]=d[5].get("filename"),d[11]=d[5].get("filesize"),d[12]=d[5].get("attachment_index"),d[13]=d[5].get("has_media"),d[14]=d[5].get("has_xma"),d[15]=d[5].get("playable_url"),d[16]=d[5].get("playable_url_mime_type"),d[17]=d[5].get("playable_duration_ms"),d[18]=d[5].get("preview_url"),d[19]=d[5].get("preview_url_mime_type"),d[20]=d[5].get("mini_preview"),d[21]=d[5].get("preview_width"),d[22]=d[5].get("preview_height"),d[23]=d[5].get("xma_layout_type"),d[24]=d[5].get("xmas_template_type"),d[25]=d[5].get("cta1_title"),d[26]=d[5].get("cta2_title"),d[27]=d[5].get("cta3_title"),d[28]=d[5].get("image_url"),d[29]=d[5].get("action_url"),d[30]=d[5].get("title_text"),d[31]=d[5].get("subtitle_text"),d[32]=d[5].get("description_text"),d[33]=d[5].get("source_text"),d[34]=d[5].get("original_file_hash"),d[35]=d[5].get("sound_bite_client_sound_key"),d[36]=d[5].get("sound_bite_visual"),d[37]=d[5].get("ephemeral_media_state"),c.sequence([function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[1],d[0],d[7]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[7]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[1],messageId:d[0],attachmentFbid:d[7],timestampMs:d[1],offlineAttachmentId:d[8],attachmentType:d[9],filename:d[10],filesize:d[11],attachmentIndex:d[12],hasMedia:d[13],hasXma:d[14],isSharable:!1,playableUrl:d[15],playableUrlMimeType:d[16],playableDurationMs:d[17],previewUrl:d[18],previewUrlMimeType:d[19],miniPreview:d[20],previewWidth:d[21],previewHeight:d[22],xmaLayoutType:d[23],xmasTemplateType:d[24],cta1Title:d[25],cta2Title:d[26],cta3Title:d[27],imageUrl:d[28],actionUrl:d[29],titleText:d[30],subtitleText:d[31],descriptionText:d[32],sourceText:d[33],ephemeralMediaState:d[37],originalFileHash:d[34],authorityLevel:c.i64.cast([0,20])})},function(e){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,!1)},function(e){return c.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[7],d[15],void 0,void 0,d[16],d[18],void 0,void 0,d[19],d[21],d[22])}])}])}):c.resolve()},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[2],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[5],sendType:c.i64.cast([0,11]),markThreadRead:!1})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure";a.__tables__=["attachments","messages_optimistic_context"];e.exports=a}),null);
__d("LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure",["LSOptimisticSendXMAMessageForwardFromSecureThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSendXMAMessageForwardFromSecureThread"),e.senderId,e.threadKey,e.threadType,e.text,e.isForwarded,e.source,e.attachments);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWDownloadMediaInWorkerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWDownloadMediaInWorker").__setRef("MAWDownloadMediaInWorkerDeferred");function a(a){h.onReady(function(b){return b.maybeDownloadMediaInWorker(a)})}function b(a){h.onReady(function(b){return b.downloadMediaInWorker(a)})}function d(a){h.onReady(function(b){return b.maybeDownloadMediaInWorkerWithPlaintextHash(a)})}function e(a){h.onReady(function(b){return b.maybeBulkDownloadMediaInWorker(a)})}g.maybeDownloadMediaInWorker=a;g.downloadMediaInWorker=b;g.maybeDownloadMediaInWorkerWithPlaintextHash=d;g.maybeBulkDownloadMediaInWorker=e}),98);
__d("MAWSecureAttachmentGroupingUtils",["I64","LSIntEnum","MAWSendFileMsgTypes","MessagingAttachmentType","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=a.reduce(function(a,b){(h||(h=d("I64"))).equal(b.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))?a.mediaStagingsImage.push(b):a.mediaStagingsOther.push(b);return a},{mediaStagingsImage:[],mediaStagingsOther:[]});var b=a.mediaStagingsImage;a=a.mediaStagingsOther;return[].concat(b,a)}function b(a){var b=new Map();a=a.filter(function(a){return(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))});var e=a.length;if(e>1){var f=c("uuidv4")();a.forEach(function(a,c){b.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),{groupId:f,groupIndex:c,groupSize:e})})}return b}function e(a){var b=new Map(),d=a.length;if(d>1){var e=c("uuidv4")();a.forEach(function(a,c){b.set(a,{groupId:e,groupIndex:c,groupSize:d})})}return b}g.orderMediaStagingsForGrouping=a;g.generateMediaGroupMetadataForMediaStagings=b;g.generateMediaGroupMetadataForMessageIds=e}),98);
__d("MAWForwardMessage",["MAWBridgeSendAndReceive","MAWCreateOneToOneThread","MAWExternalId","MAWGetEphemeralSettings","MAWGetProtocolMsgIdByMsgIdInUI","MAWMessageSendReporter","MAWMessageSendReporterV2","MAWMiActOnActThreadReady","MAWSecureAttachmentGroupingUtils","MAWThreadId","WAResultOrError","qpl"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,c,e){var f=await d("MAWThreadId").isSecureThreadKey(a.tables,b);if(!f){f=await d("MAWCreateOneToOneThread").call(a,b,void 0,"MAWForwardMessage",e);e=f.jid;return c(e,!0)}f=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"MAWForwardMessage");e=f.chatJid;return c(e,!1)}function a(a,b,c,d,e,f){return i(a,b,c,d,e,void 0,f)}async function b(a,b,c,e,f){var g=d("MAWSecureAttachmentGroupingUtils").generateMediaGroupMetadataForMessageIds(c);if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return Promise.all(c.map(function(c){return i(a,b,c,e,f,g.get(c))})).then(function(a){var b=a.find(function(a){return(a==null?void 0:a.success)===!1});return b!=null?[b]:a});else await Promise.allSettled([c.map(function(c){return i(a,b,c,e,f,g.get(c))})])}function i(a,b,e,f,g,i,j){var k=d("MAWExternalId").generateExternalId();return h(a,b,function(h,l){return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(e).then(function(e){if(e!=null)return d("MAWGetEphemeralSettings").getEphemeralSetting(h,b).then(function(b){b=d("MAWBridgeSendAndReceive").sendAndReceive("backend","forwardMsg",{args:{args:{mediaGroupMetadata:i,source:f},chatJid:h,ephemeralSetting:(b=b)!=null?b:void 0,externalId:k,isFirstMsg:l,protocolMsgId:e,textWithSubstitutions:j},qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:g});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?b:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:h,externalId:k},b,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:g},a)});else return d("WAResultOrError").makeResult({description:"unexpected null protocolMsgId",messageType:"fixMe"})})},g)}g.maybeCreateNewThreadAndCallback=h;g.forwardMessage=a;g.forwardMessageBatch=b}),98);
__d("MAWForwardMessageFromSecureThread.react",["FBLogger","I64","LSFactory","LSHotEmojiSize","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSOptimisticSendMessageV2StoredProcedure","LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure","LSShape","LSVec","MAWBridgeSendAndReceive","MAWDbMedia","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MessagePowerUp","MessagingAttachmentType","OfflineThreadingId","ReQL","WAHashUtils","cr:2472","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c){return{action_url:void 0,attachment_fbid:b,attachment_index:(h||(h=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:b,original_file_hash:void 0,playable_duration_ms:a.playableDurationMs,playable_url:URL.createObjectURL(c),playable_url_mime_type:c.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function k(a,b,c,e){var f;return{action_url:(f=b==null?void 0:b.actionUrl)!=null?f:b==null?void 0:b.nativeUrl,attachment_fbid:c,attachment_index:(h||(h=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:a.cta1Title,cta2_title:a.cta2Title,cta3_title:a.cta3Title,description_text:a.descriptionText,filename:a.filename,filesize:a.filesize,has_media:!1,has_xma:!0,image_url:void 0,mini_preview:void 0,offline_attachment_id:c,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:e!=null?URL.createObjectURL(e):void 0,playable_url_mime_type:e==null?void 0:e.type,preview_height:void 0,preview_url:e!=null?URL.createObjectURL(e):void 0,preview_url_mime_type:e==null?void 0:e.type,preview_width:void 0,source_text:a.sourceText,subtitle_text:a.subtitleText,title_text:a.titleText,xma_layout_type:a.xmaLayoutType,xmas_template_type:a.xmasTemplateType}}function l(a,b,e,f,g,h,i,j){j=c("LSFactory")(j);return c("LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure")(j,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(h)]),isForwarded:g,senderId:a,source:i,text:(j=f)!=null?j:void 0,threadKey:b,threadType:e}).then(function(){return Promise.resolve()})}function m(a,b){return a==null||b==null?void 0:{amplitudes:b.split(",").map(parseFloat),sampling_freq:a}}function n(a,b,e,g,j,k,l,n,o){var p=c("LSFactory")(n);return c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(p,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(b)]),isForwarded:k,senderId:l,threadKey:j,threadType:g}).then(function(a){var b=a[0];a[1];return n.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!1,messageId:void 0,offlineThreadingId:b,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(h||(h=d("I64"))).of_string(b),threadAttributionSource:o,threadKey:j}).then(function(){return Promise.resolve(b)})}).then(function(a){var e=b.attachment_fbid;return c("LSInsertNewMediaSendStoredProcedure")(p,{attachmentType:b.attachment_type,inMessageIndex:(h||(h=d("I64"))).zero,isSecure:!1,offlineAttachmentId:e,offlineThreadingId:a,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}).then(function(){return Promise.resolve([a,e])})}).then(function(g){var j=g[0],k=g[1];g=function(b,e){if(e==null||e.length===0)return;c("promiseDone")(a.runInTransaction(function(a){var b=c("LSFactory")(a);return c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:(h||(h=d("I64"))).of_string(e),offlineAttachmentId:k}).then(function(){return d("MWPOpenComposerUtils").resumeSendJob(b,j)})},"readwrite",void 0,void 0,f.id+":220"))};return d("MWPComposerMediaUploadUtil").startUpload(void 0,void 0,g,void 0,(h||(h=d("I64"))).equal(b.attachment_type,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),[e],[k],void 0,void 0,m(b.sampling_frequency_hz,b.waveform_data),void 0,void 0)})}async function a(a,e,g,o,p,q,r,s,t){if(q!=null){var u=q.attachmentType;if(!((h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))||(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))||(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))))throw c("FBLogger")("messenger_web_sharing").mustfixThrow("We do not support forwarding this type");var v=null;if(!(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))){isFinite(q.attachmentFbid)?v=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:"MAWForwardMessageFromSecureThread",mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(q.attachmentFbid,10))}):v=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:"MAWForwardMessageFromSecureThread",plaintextHash:d("WAHashUtils").stringToPlaintextHash(q.attachmentFbid)});if(v==null)return}await a.runInTransaction(function(f){switch(!0){case(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):if(v==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Blob can not be null for MessagingAttachmentType.AUDIO");var w=new File([v],"mediaForwardedFromSecureThread",{type:v.type}),x=d("OfflineThreadingId").createOfflineThreadingID();x=d("MWPComposerMediaUploadUtil").getAudioAttachment(x,w,(h||(h=d("I64"))).to_int32((x=q.playableDurationMs)!=null?x:(h||(h=d("I64"))).zero)/1e3,m(q.samplingFrequencyHz!=null?(h||(h=d("I64"))).to_int32(q.samplingFrequencyHz):void 0,q.waveformData));return n(a,x,w,g,e,p,r,f,s);case(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return d("ReQL").firstAsync(d("ReQL").fromTableDescending(f.attachment_ctas).getKeyRange((x=q.defaultCtaId)!=null?x:(h||(h=d("I64"))).zero)).then(function(a){var b,e=q.xmaPreviewFbid;if(e==null){c("FBLogger")("messenger_web_sharing").mustfix("XMA preview fbid is null when forwarding XMA");return Promise.resolve([a,void 0])}if(c("gkx")("11351"))b=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:"MAWForwardMessageFromSecureThread",plaintextHash:d("WAHashUtils").stringToPlaintextHash(e)});else if(c("gkx")("7858"))isFinite(q.xmaPreviewFbid)?(c("FBLogger")("messenger_web_sharing").warn("XMA preview fbid is not a plaintextHash when forwarding XMA"),b=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:"MAWForwardMessageFromSecureThread",mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(e,10))})):b=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:"MAWForwardMessageFromSecureThread",plaintextHash:d("WAHashUtils").stringToPlaintextHash(e)});else try{b=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:"MAWForwardMessageFromSecureThread",mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(e,10))})}catch(b){c("FBLogger")("messenger_web_sharing").mustfix("XMA preview fbid is not a valid mediaId when forwarding XMA %s",b);return Promise.resolve([a,void 0])}return b.then(function(b){return Promise.resolve([a,b])}).catch(function(b){c("FBLogger")("messenger_web_sharing").catching(b).warn("Unable to getBlobDataUrlByXMAId, from MAWForwardMessageFromSecureThread");return Promise.resolve([a,void 0])})}).then(function(a){var c=a[0];a=a[1];var h=null;a!=null&&(h=new File([a],"xmaForwardedFromSecureThread",{type:a.type}));a=d("OfflineThreadingId").createOfflineThreadingID();c=k(q,c,a,h);a=o.text;h=b("cr:2472")==null||a==null?a:b("cr:2472").unvault(a);return l(r,e,g,(a=t)!=null?a:h,p,c,s,f)});case(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):case(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):case(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):case(h||(h=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):if(v==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Blob can not be null for MessagingAttachmentType.AUDIO");x=new File([v],(w=q.filename)!=null?w:"mediaForwardedFromSecureThread",{type:v.type});w=d("OfflineThreadingId").createOfflineThreadingID();w=j(q,w,x);return n(a,w,x,g,e,p,r,f,s);default:throw c("FBLogger")("messenger_web_sharing").mustfixThrow("We do not support forwarding this type")}},"readwrite",void 0,void 0,f.id+":327")}else{var w=o.text;if(w==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("We do not support forwarding this type");var x=b("cr:2472")==null?w:b("cr:2472").unvault(w),y=x==="\ud83d\udc4d"&&o.hotEmojiSize!=null&&(h||(h=d("I64"))).equal(o.hotEmojiSize,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)),z=y?(h||(h=d("I64"))).of_string("369239263222822"):void 0;await a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!1,is_forwarded:p,mark_read:!1,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:s,sticker_id:z}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:r,text:y?void 0:(a=t)!=null?a:x,threadKey:e,threadType:g})},"readwrite",void 0,void 0,f.id+":556")}}g.getMediaAttachment=j;g.uploadAndSendMediaToOpenThread=n;g.forwardMessage=a}),98);
__d("MAWFowardMessageFromOpenThread",["FBLogger","I64","LSIntEnum","MAWBridgeSendAndReceive","MAWDocumentPreProcess","MAWFetchXMABlob","MAWFetchXMAData","MAWFetchXMADataUtils","MAWForwardMessage","MAWGetEphemeralSettings","MAWGetImageSpec","MAWImagePreProcess","MAWMessageSendReporter","MAWMessageSendReporterV2","MAWUnshimUrl","MAWVideoUtils","MessagingAttachmentType","ReQL","WAArmadilloXMA.pb","WABlobToArrayBuffer","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="369239263222822",k="369239343222814",l="369239383222810";function m(a){return a===j||a===k||a===l}function n(a,b){return Promise.all([d("MAWGetImageSpec").getImageSpec_DEPRECATED(a),Promise.resolve(a),b.arrayBuffer(),d("MAWGetImageSpec").getImageSpec_DEPRECATED(b)]).then(async function(a){var b=a[0],c=a[1],e=a[2];a=a[3];return{file:c,imageSpec:b,plaintext:await d("WABlobToArrayBuffer").blobToArrayBuffer(c),thumbnailUrlAndSpec:{duration:void 0,height:a.height,jpegThumbnail:e,width:a.width},type:"image"}})}function o(a){return d("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a).then(async function(b){return{file:a,plaintext:await d("WABlobToArrayBuffer").blobToArrayBuffer(a),thumbnailUrlAndSpec:b,type:"video"}})}async function p(a,b){a=await d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"MAWFowardMessageFromOpenThread",url:a});b=a==null?void 0:new File([a],b,{type:a.type});a=b!=null?await d("MAWGetImageSpec").getImageSpec_DEPRECATED(b):null;return b!=null&&a!=null?{file:b,height:a.height,width:a.width}:void 0}async function q(a,b,c){c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.attachment_ctas).getKeyRange(a));return c==null||b==null&&c.actionUrl==null?null:{actionUrl:(a=c==null?void 0:c.actionUrl)!=null?a:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(a=c==null?void 0:c.actionUrl)!=null?a:void 0,title:(c=b)!=null?c:void 0}}async function r(a,b,e,f){var g=await s(b,e);if((g==null?void 0:g.actionUrl)==null){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(f,"null_xma_url");throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Cannot forward XMA to secure threads without a defaultCTA and actionUrl")}a=await d("MAWFetchXMAData").fetchXMAData(a,g.actionUrl,[f]);if(a.linkType==="unknown"){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(f,"unknown_xma_link_type");throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Cannot forward XMA to secure threads with an unknown link type")}if(a.linkType==="external")return u(b,g,e,a);else return t(a,f)}async function s(a,b){var c=a.actionUrl,e=a.defaultCtaId;a=a.defaultCtaTitle;if(e==null)return null;e=await q(e,a,b);return(b=e)!=null?b:{actionUrl:(e=c)!=null?e:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(b=c)!=null?b:void 0,title:(e=a)!=null?e:void 0}}async function t(a,b){b=await d("MAWFetchXMADataUtils").makeXMAFileArgs(a,b);var c=a.contentRef,e=a.ctas,f=a.defaultCTA,g=a.overlayIconGlyph,h=a.subtitle_text,i=a.title_text;a=a.xma_message_type;c={contentRef:c,ctas:e,defaultCTA:f,overlayIconGlyph:g,subtitleText:h,titleText:i};return babelHelpers.extends({},b,{xmaArgs:c,xmaMessageType:(e=a)!=null?e:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE})}async function u(a,b,c,e){var f=a.attachmentCta1Id,g=a.attachmentCta2Id,i=a.attachmentCta3Id,j=a.cta1Title,k=a.cta2Title,l=a.cta3Title,m=a.faviconUrl,n=a.headerImageUrl,o=a.headerTitle,r=a.maxSubtitleNumOfLines,s=a.maxTitleNumOfLines,t=a.previewUrl,u=a.subtitleText;a=a.titleText;m=await Promise.all([[m,"favicon"],[n,"headerImage"],[t,"preview"]].map(function(a){return p(a[0],a[1])}));n=m[0];t=m[1];m=m[2];var v=[];if(f!=null){f=await q(f,j,c);f!=null&&v.push(f)}if(g!=null){j=await q(g,k,c);j!=null&&v.push(j)}if(i!=null){f=await q(i,l,c);f!=null&&v.push(f)}j={contentRef:e.contentRef,ctas:v.map(function(a){return babelHelpers.extends({},a,{actionUrl:d("MAWUnshimUrl").unshimUrl(a.actionUrl),nativeUrl:d("MAWUnshimUrl").unshimUrl(a.nativeUrl)})}),defaultCTA:babelHelpers.extends({},b,{actionUrl:d("MAWUnshimUrl").unshimUrl(b.actionUrl),nativeUrl:d("MAWUnshimUrl").unshimUrl(b.nativeUrl)}),headerTitle:o,maxSubtitleNumOfLines:(h||(h=d("I64"))).to_int32((g=r)!=null?g:(h||(h=d("I64"))).zero),maxTitleNumOfLines:h.to_int32((k=s)!=null?k:(h||(h=d("I64"))).zero),overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE,subtitleText:u,titleText:a};return{faviconFileArgs:n,headerFileArgs:t,previewFileArgs:m,xmaArgs:j,xmaMessageType:e.xma_message_type}}function v(a){var b=a.attachmentType,e=a.filename,f=a.playableDurationMs,g=a.playableUrl,j=a.playableUrlMimeType,k=a.previewUrl,l=a.previewUrlMimeType;if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))){if(g==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("If you see this error, there is no playableUrl for this attachment");var m=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));if(k!=null){a=m?k+"&":g;var p=m?k+"&":k;return Promise.all([window.fetch(a).then(function(a){return a.blob()}),window.fetch(p).then(function(a){return a.blob()})]).then(function(a){var e=a[0];a=a[1];e=new File([e],"mediaForwardedFromOpenThread",{type:m?l:j});a=new File([a],"previewForwardedFromOpenThread",{type:l});if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return n(e,a);if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return o(e);if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return n(e,a);throw c("FBLogger")("messenger_web_sharing").mustfixThrow("shouldn't have this error in forward message from open thread")})}a=m?g+"&":g;return window.fetch(a).then(function(a){return a.blob()}).then(function(a){if(m&&j==="video/mp4")throw c("FBLogger")("messenger_web_sharing").mustfixThrow("If you see this error, there is only mp4 url for gif");a=new File([a],(a=e)!=null?a:"mediaForwardedFromOpenThread",{type:j});if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return d("MAWImagePreProcess").imagePreprocess(a,!1);if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return o(a);if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))return d("MAWDocumentPreProcess").documentPreprocess(a);if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return Promise.all([d("MAWImagePreProcess").getJpegThumbnailInfo(a,400),d("MAWGetImageSpec").getImageSpec_DEPRECATED(a),Promise.resolve(a)]).then(async function(a){var b=a[0],c=a[1];a=a[2];return{file:a,imageSpec:c,plaintext:await d("WABlobToArrayBuffer").blobToArrayBuffer(a),thumbnailUrlAndSpec:b,type:"image"}});throw c("FBLogger")("messenger_web_sharing").mustfixThrow("shouldn't have this error in forward message from open thread")})}if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))){if(g!=null)return window.fetch(g+"&").then(function(a){return a.blob()}).then(async function(a){var b;a=new File([a],"mediaForwardedFromOpenThread",{type:j});return{durations:(h||(h=d("I64"))).to_int32((b=f)!=null?b:(h||(h=d("I64"))).zero)/1e3,file:a,isPtt:!0,plaintext:await d("WABlobToArrayBuffer").blobToArrayBuffer(a),type:"audio"}});throw c("FBLogger")("messenger_web_sharing").mustfixThrow("If you see this error, there is no playableUrl for this audio attachment")}if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))){if(g==null&&k==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("If you see this error, there is no url for this sticker");return g!=null?k!=null?Promise.all([window.fetch(g).then(function(a){return a.blob()}),window.fetch(k).then(function(a){return a.blob()})]).then(function(a){var b=a[0];a=a[1];b=new File([b],"mediaForwardedFromOpenThread",{type:j});a=new File([a],"previewForwardedFromOpenThread",{type:l});return n(b,a)}):window.fetch(g).then(function(a){return a.blob()}).then(function(a){a=new File([a],"mediaForwardedFromOpenThread",{type:j});return n(a,a)}):window.fetch(k).then(function(a){return a.blob()}).then(function(a){return d("MAWImagePreProcess").imagePreprocess(new File([a],"previewForwardedFromOpenThread",{type:l}),!0)})}throw c("FBLogger")("messenger_web_sharing").mustfixThrow("We do not support forwarding other media types. Received attachment %d",(i||(i=d("LSIntEnum"))).toNumber(b))}function a(a,b,e,f,g,j,k,l,n){return d("MAWForwardMessage").maybeCreateNewThreadAndCallback(b,e,function(o,p){var q=d("MAWGetEphemeralSettings").getEphemeralSetting(o,e),s=p;return q.then(function(e){if(j!=null){if(m(j.attachmentFbid)){var p;p=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMsg",{args:{content:"\ud83d\udc4d",ephemeralSetting:(p=e)!=null?p:void 0,isFirstMsg:s,isForwarded:g,source:k,specialTextSize:1},chatJid:o,externalId:n,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?p:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:o,externalId:n},p,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l},b)}return(h||(h=d("I64"))).equal(j.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?r(a,j,b,l).then(function(a){var g,h=a.faviconFileArgs,i=a.headerFileArgs,j=a.previewFileArgs,k=a.xmaArgs;a=a.xmaMessageType;a=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendXMAShareMsg",{args:{content:f.text,ephemeralSetting:(g=e)!=null?g:void 0,isFirstMsg:s,isForwarded:!0,xmaMessageType:(g=a)!=null?g:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE},chatJid:o,faviconFile:h,headerFile:i,previewFile:j,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l,xmaArgs:k,xmaMsgExternalId:n});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?a:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:o,externalId:n},a,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l},b)}):v(j).then(async function(a){var f;switch(a.type){case"image":var h,i=a.imageSpec,j=a.thumbnailUrlAndSpec;f={args:{ephemeralSetting:(h=e)!=null?h:void 0,height:i.height,isFirstMsg:s,isForwarded:g,jpegThumbnail:j==null?void 0:j.jpegThumbnail,jpegThumbnailHeight:j==null?void 0:j.height,jpegThumbnailWidth:j==null?void 0:j.width,source:k,width:i.width},attachmentType:"image",chatJid:o,externalId:n};break;case"video":h=a.thumbnailUrlAndSpec;f={args:{duration:h.duration,ephemeralSetting:(j=e)!=null?j:void 0,height:h.height,isFirstMsg:s,isForwarded:g,jpegThumbnail:h.jpegThumbnail,jpegThumbnailHeight:h.height,jpegThumbnailWidth:h.width,source:k,width:h.width},attachmentType:"video",chatJid:o,externalId:n};break;case"audio":i=a.durations;j=a.isPtt;f={args:{duration:Math.round(i),ephemeralSetting:(h=e)!=null?h:void 0,isFirstMsg:s,isForwarded:g,isPtt:j,source:k},attachmentType:"audio",chatJid:o,externalId:n};break;case"document":f={args:{ephemeralSetting:(i=e)!=null?i:void 0,filename:a.filename,isFirstMsg:s,isForwarded:g,source:k},attachmentType:"application",chatJid:o,externalId:n};break}if(f==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("We do not support forwarding this attachment type: %s",a.type);j=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsgV2",babelHelpers.extends({},f,{mimeType:a.file.type,plaintext:(h=a.plaintext)!=null?h:await d("WABlobToArrayBuffer").blobToArrayBuffer(a.file),qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l}));return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?j:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:o,externalId:n},j,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l},b)})}p=f.text;if(p!=null){p=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMsg",{args:{content:f.text,ephemeralSetting:(p=e)!=null?p:void 0,isFirstMsg:s,isForwarded:g,source:k},chatJid:o,externalId:n,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?p:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:o,externalId:n},p,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:l},b)}throw c("FBLogger")("messenger_web_sharing").mustfixThrow("We do not support forwarding this types")})},l)}g.downloadMediaByUrl=v;g.forwardMessage=a}),98);
__d("MWMediaRenderQplUtils",["CurrentUser","E2EELinkPreviewXMADataType","I64","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMessageContentType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingInitiatingSource","LSReplyMessageAttachmentType","LSXmaContentType","MAWLoggerUtils","MNLSXMALayoutType","MessagingAttachmentType","MessagingThreadType","QPLUserFlow","ServerTime","VisibilityAPI","VisibilityState","justknobx","mergeDeep","objectEntries","performanceAbsoluteNow","qpl","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m=l.useEffect,n=l.useLayoutEffect,o=l.useMemo,p=l.useRef,q=60*60*24,r=3*q,s=7*q,t=2*s,u=4*s,v=c("qpl")._(25302828,"2195"),w=c("justknobx")._("2945"),x=1e3,y=c("objectEntries")(c("LSMessageContentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map()),z=c("objectEntries")(c("LSReplyMessageAttachmentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function a(a){return A(a.displayedContentTypes)}function A(a){if(d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a)){var b;return(b=y.get(1024))!=null?b:"UNKNOWN"}return(b=y.get((k||(k=d("I64"))).to_float(a)))!=null?b:"UNKNOWN"}function b(a){return a==null?"UNKNOWN":(a=z.get((k||(k=d("I64"))).to_int32(a)))!=null?a:"UNKNOWN"}function B(a){var b;if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))b=(j||(j=d("LSIntEnum"))).ofNumber(16384);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))b=(j||(j=d("LSIntEnum"))).ofNumber(2);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))b=(j||(j=d("LSIntEnum"))).ofNumber(2);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)))b=(j||(j=d("LSIntEnum"))).ofNumber(4);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))b=(j||(j=d("LSIntEnum"))).ofNumber(64);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))b=(j||(j=d("LSIntEnum"))).ofNumber(64);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))b=(j||(j=d("LSIntEnum"))).ofNumber(1024);else return"UNKNOWN";return A(b)}var C=c("objectEntries")(c("MessagingAttachmentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function e(a){return D(a.attachmentType)}function D(a){return(a=C.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var E=c("objectEntries")(c("MessagingThreadType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function f(a){a=a.threadType;return F(a)}function F(a){return(a=E.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var G=c("objectEntries")(c("LSXmaContentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function H(a){return(a=G.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var I=c("objectEntries")(c("LSMessagingInitiatingSource")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function J(a){return a!=null?(a=I.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN":"UNKNOWN"}var K=c("objectEntries")(c("E2EELinkPreviewXMADataType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function L(a){return(a=K.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var M=c("objectEntries")(c("LSMessageReplySourceType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function N(a){return(a=M.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var O=c("objectEntries")(c("MNLSXMALayoutType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function P(a){return a==null?"UNKNOWN":(a=O.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var Q=c("objectEntries")(c("LSMessageReplySourceTypeV2")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function R(a){return(a=Q.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}function S(a,b,e,f){var g=(h||(h=c("performanceAbsoluteNow")))(),i=function(d,e){c("QPLUserFlow").addPoint(a,"window_visibility_change_"+(e?"hidden":"visible"),{instanceKey:b}),e&&c("QPLUserFlow").addAnnotations(a,{bool:{window_was_hidden:!0}},{instanceKey:b})},j=function(a){var b=d("VisibilityAPI").canUseVisibilityAPI?d("VisibilityAPI").isVisibilityHidden():void 0;b={bool:{window_is_hidden_on_end:b}};return a!=null?c("mergeDeep")(a,b):b};return{addAnnotations:function(d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},addPoint:function(d,e){c("QPLUserFlow").addPoint(a,d,{data:e,instanceKey:b})},endCancel:function(f){e!=null&&(e.current=!0);var g=(h||(h=c("performanceAbsoluteNow")))(),k=j();d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endCancel(a,{annotations:k,cancelReason:f,instanceKey:b,timestamp:g})},x)},endFail:function(f,g){e!=null&&(e.current=!0);var k=(h||(h=c("performanceAbsoluteNow")))(),l=c("mergeDeep")(j(g),{string:{fail_reason:f}});d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endFailure(a,"render-failure",{annotations:l,instanceKey:b,timestamp:k})},x)},endSuccess:function(f,g){e!=null&&(e.current=!0);var k=(g=g)!=null?g:(h||(h=c("performanceAbsoluteNow")))(),l=j(f);d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endSuccess(a,{annotations:l,instanceKey:b,timestamp:k})},x)},getInstanceKey:function(){return b},start:function(e){var j,k=g;j=(j=f)!=null?j:{};if(e!=null&&e.isManualRetry===!0){var l;k=(h||(h=c("performanceAbsoluteNow")))();j=c("mergeDeep")(j,{bool:{is_manual_retry:!0},"int":{manual_retry_count:((l=e.manualRetryCount)!=null?l:0)+1},string:{previousManualRetryErrorDetails:e.previousManualRetryErrorDetails}})}c("QPLUserFlow").start(a,{annotations:j,cancelOnUnload:!0,instanceKey:b,timeoutInMs:w,timestamp:k});d("VisibilityState").subscribe(i)}}}function T(a,b,e){var f=a.attachmentType,g=p(!1),h=o(function(){var h=d("MAWLoggerUtils").getInstanceKey(),i=c("CurrentUser").getAppID();i={string:{app_id:(i=i)!=null?i:void 0,attachment_type:D(f),content_type:B(f),entry_point:e,thread_type:F(b),transport_key:a.transportKey,xma_content_type:a.xmaContentType!=null?H(a.xmaContentType):void 0}};return babelHelpers["extends"]({},S(v,h,g,i))},[a.messageId]);n(function(){h==null?void 0:h.start()},[h]);m(function(){return function(){g.current===!1&&(h==null?void 0:h.getInstanceKey())!=null&&(h==null?void 0:h.endCancel(706))}},[h]);return h}function U(a,b,c){a=a+(b?"0":"1")+(c?"1":"0");return d("MAWLoggerUtils").getInstanceKeyFromId(a)}function V(a,b,e,f,g){g===void 0&&(g={});b=(k||(k=d("I64"))).le(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC));a=U(a,b,e);c("QPLUserFlow").endFailure(v,f,{annotations:g,instanceKey:a})}function W(a,b,e,f,g){g===void 0&&(g={});b=(k||(k=d("I64"))).le(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC));a=U(a,b,e);c("QPLUserFlow").addPoint(v,f,{data:g,instanceKey:a})}function X(a){var b=(k||(k=d("I64"))).of_float(d("ServerTime").getMillis());b=k.to_float(k.sub(b,a))/1e3;b<q?a="less_than_one_day":b<r?a="between_one_and_three_days":b<s?a="between_three_days_and_one_week":b<t?a="between_one_and_two_weeks":b<u?a="between_two_weeks_and_one_month":a="more_than_one_month";return a}function Y(a){if(a==null||a<=0)return"invalid_duration";else if(a<=30)return"duration less than 30 seconds";else if(a<=1*60)return"duration between 30 seconds and 1 minute";else if(a<=2*60)return"duration between 1 minute and 2 minutes";else if(a<=3*60)return"duration between 2 minutes and 3 minutes";else if(a<=5*60)return"duration between 3 minutes and 5 minutes";else if(a<=10*60)return"duration between 5 minutes and 10 minutes";else if(a<=30*60)return"duration between 10 minutes and 30 minutes";else if(a<=1*60*60)return"duration between 30 minutes and 1 hour";else if(a<=2*60*60)return"duration between 1 hour and 2 hours";else return"duration above 2 hours"}g.MSGR_WEB_MEDIA_RENDER_EVENT=v;g.QPL_TIMEOUT=w;g.QPL_END_DELAY_MS=x;g.getMessageContentTypeString=a;g.getMessageContentTypeStringFromEnum=A;g.getReplyMessageAttachmentTypeStringFromEnum=b;g.deriveMessageContentTypeStringFromAttachmentTypeLessAccurate=B;g.getAttachmentTypeString=e;g.getAttachmentTypeStringFromEnum=D;g.getThreadTypeString=f;g.getThreadTypeStringFromEnum=F;g.getXmaContentTypeStringFromEnum=H;g.getMessagingInitiationSourceStringFromEnum=J;g.getE2EELinkPreviewXMADataTypeStringFromEnum=L;g.getMessageReplySourceTypeStringFromEnum=N;g.getMessageXmaLayoutTypeStringFromEnum=P;g.getMessageReplySourceTypeV2StringFromEnum=R;g.createQplFlowCommon=S;g.useCommonMediaRenderQplForAttachment=T;g.getThreadViewMediaRenderQplInstanceKey=U;g.endThreadViewMediaRenderQpl=V;g.addThreadViewMediaRenderQplPoint=W;g.calculateDiffBucketFromTimestamp=X;g.convertDurationToStringBucket=Y}),98);
__d("XComposerPhotoUploaderImmediate",["Promise","XComposerPhotoUploader","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;a={load:function(){return(h||(h=b("Promise"))).resolve(c("XComposerPhotoUploader"))},preload:c("emptyFunction")};g["default"]=a}),98);
__d("acceptMAWMessageRequest",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","MAWUpdateLSThreadCapabilities","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g,j){if(!j||g==null)return;var k=g[1],l=babelHelpers["extends"]({},k,{contactViewerRelationship:(i||(i=d("I64"))).of_string("2")});c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([a.contacts.upsert([k.id],l),c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(a),{contactId:k.id}),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,e.threadKey),c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(a),{threadKey:e.threadKey})])},"readwrite",void 0,void 0,f.id+":37"))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ReStoreDbConfigStore",["promiseFromRequest","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_config",i="name",j="epoch",k="main",l="dbCorruption";function m(a){a=a.objectStoreNames;return a.contains("_db_config")}function a(a,b){if(m(a))return;a=a.createObjectStore(h,{autoIncrement:!0,keyPath:i});a.createIndex(i,i,{unique:!0});a.add(b);a.put({name:j,value:c("uuidv4")()})}function b(a){return c("promiseFromRequest")(a.objectStore(h).get(l))}function d(a,b){a=a.objectStore(h);return c("promiseFromRequest")(a.put({name:l,value:b+1}))}function n(a){return c("promiseFromRequest")(a.objectStore(h).get(k))}async function e(a,b){a=await n(a);b=!b.isEqual(a);return b}g.CONFIG_STORE_NAME=h;g.CACHE_VERSION_KEY=j;g.DB_CONFIG_KEY=k;g.createDbConfig=a;g.readCorruptionFailuresFromConfig=b;g.writeCorruptionFailuresToConfig=d;g.readDbConfig=n;g.detectConfigMismatch=e}),98);
__d("sum",[],(function(a,b,c,d,e,f){function a(a){var b=0;for(a of a)b+=a;return b}f["default"]=a}),66);
__d("LSDBRestoreConfig",["ReStoreDbConfigStore","gkx","justknobx","sum"],(function(a,b,c,d,e,f,g){"use strict";e=c("gkx")("24149");f=c("justknobx")._("347");function a(){var a=2,b=c("sum")([1,c("gkx")("1251")?1:0]);return a+b}var h={localVersion:a(),name:d("ReStoreDbConfigStore").DB_CONFIG_KEY,serverVersion:f,vaulting:e};function b(){return{defaultConfig:h,isEqual:function(a){return(a==null?void 0:a.localVersion)==null?!1:(a==null?void 0:a.localVersion)===h.localVersion&&(a==null?void 0:a.vaulting)===h.vaulting&&(a==null?void 0:a.serverVersion)===h.serverVersion}}}g.createConfig=b}),98);
__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g["default"]=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="RestoreIDBMainLock-"+a;c="dbLock-"+a;e="RestoreConcurrency-"+a;f="lsPlatformLock-"+a;d="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreCMLockName=b;g.reStoreDBLockName=c;g.restoreConcurrencyBroadcastChannelName=e;g.lsPlatformLockBroadcastChannelName=f;g.lsPlatformLockName=d;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","ReStoreNameUtils","Run","clearTimeout","emptyFunction","gkx","justknobx","pageID","promiseDone","saveHandler","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init"),i=typeof window!=="undefined"?window:self,j="iwantlock",k="lockRequestOnDemand";e="mw_msgr_mutex";function l(a,b){a===void 0&&(a=i);b===void 0&&(b=function(){return document.hasFocus()});var e=new Map(),f=new Map(),g=d("LSPlatformLockState").LockState.Waiting,l=c("emptyFunction"),m,n=c("gkx")("24155")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,o=function(){if(!c("gkx")("24155"))return;m!=null&&c("clearTimeout")(m);if(g===d("LSPlatformLockState").LockState.Canceled||g===d("LSPlatformLockState").LockState.Acquired)return;m=c("setTimeout")(function(){b()&&g!==d("LSPlatformLockState").LockState.Acquired&&(h.debug("tab has focus and wants to acquire sync lock"),n==null?void 0:n.postMessage(j))},c("justknobx")._("1764"))};async function p(){h.debug("Sync lock acquired"),g=d("LSPlatformLockState").LockState.Acquired,await Promise.all(Array.from(e.values()).map(function(a){return a()}))}function q(){g=d("LSPlatformLockState").LockState.Cleaning,l=c("emptyFunction"),f.forEach(function(a){return a()})}function r(){var e=new AbortController(),f=c("LSPlatformErrorChannel").subscribe(function(b){h.debug("syncLock aborted due to ["+b.name+"] "+b.message),c("FBLogger")("messenger_web").info("[LS] SyncLock aborted due to [%s] %s",b.name,b.message),l(),e.abort(),g=d("LSPlatformLockState").LockState.Canceled,n==null?void 0:n.removeEventListener("message",i),a.removeEventListener("focus",o),f()}),i=function a(i){if(i==null||i.data==null||(i.data!==j||b())&&i.data!==k)return;h.debug("got message from other tab to abort request to sync lock");l();e.abort();f();n==null?void 0:n.removeEventListener("message",a);g=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(s())};n==null?void 0:n.addEventListener("message",i);return e}async function s(){var a,b=(a=c("BrowserLockManager"))!=null?a:c("MessengerLocksManagerFallback")(c("pageID"));if(b){g=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");h.debug("Sync lock requested if available");await new Promise(function(a){return b.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},async function(b){if(b==null){h.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");a();return}h.debug("Attempted to acquire sync lock and suceeded");await p();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");a();return new Promise(function(a){l=function(){h.debug("Releasing sync lock"),q(),a()}})})});a=r();g!==d("LSPlatformLockState").LockState.Acquired&&(h.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(b.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:a.signal},async function(a){h.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");await p();return new Promise(function(a){l=function(){h.debug("Releasing sync lock"),q(),a()}})}),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")h.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}));d("LSPlatformLsInitLog").addPoint("lock_requested")}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("FBLogger")("ls_web_init").mustfixThrow("No lock manager inited")}}n!=null&&(a.addEventListener("focus",o),o(),d("LSPlatformLsInitLog").addPoint("onfocus_set"));d("Run").onBeforeUnload(function(){l()},!1);d("LSPlatformLsInitLog").addPoint("beforeunload_set");return{_getStateInternal:function(){return g},hasLock:function(){return g===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(e,a)},onLost:function(a){return c("saveHandler")(f,a)},onLostOnce:function(a){var b=c("saveHandler")(f,function(){a(),b()})},release:function(){l()},requestLock:s}}var m=null;function a(){m==null&&(m=l());return m}function b(){m!=null&&m.release()}g.SYNC_KEY=e;g.init=l;g.use=a;g.releaseIfExist=b}),98);
__d("ReStoreBinaryEncoding",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new TextDecoder(),j=new TextEncoder(),k=1,l={true:1,false:2,null:3,undefined:4,emptyString:5,string:6,binary:7,u8binary:8,struct:9,number:10,list:11,i64:12,set:13,map:14},m={boolean:function(a){return a===!0?l.true:l.false},number:function(){return l.number},object:function(a){if(a===null)return l.null;if((h||(h=d("I64"))).isI64(a))return l.i64;if(a instanceof ArrayBuffer)return l.binary;if(a instanceof Uint8Array)return l.u8binary;if(Array.isArray(a))return l.list;if(a instanceof Set)return l.set;return a instanceof Map?l.map:l.struct},string:function(a){return a===""?l.emptyString:l.string},undefined:function(){return l.undefined}};function n(a){return m[typeof a](a)}function o(a,b){a=[a,b];a._tag="i64";return a}var p=j.encodeInto!=null?function(a,b){return j.encodeInto(a,b)}:function(a,b){a=j.encode(a);b.set(a,0);return{written:a.length}};b=function(){function a(){var a=this;this.$1=0;this.$2=[];this.$3=0;this.$4=new DataView(new ArrayBuffer(0));this.$8=function(){a.$3+=a.$5(a.$6());var b=a.$2[a.$3];return b};this.$9=function(){var b=a.$6(),c=a.$4.buffer.slice(a.$4.byteOffset+a.$1,a.$4.byteOffset+b+a.$1);a.$1+=b;return c};this.$10=function(){return new Uint8Array(a.$9(),a.$6(),a.$6())};this.$11=function(){return a.$4.getFloat64((a.$1+=8)-8)};this.$12=function(){var b={},c;while((c=a.$4.getUint8(a.$1++))!==0)b[a.$8()]=a.$13.get(c)();return b};this.$14=function(){var b=[],c;while((c=a.$4.getUint8(a.$1++))!==0)b.push(a.$13.get(c)());return b};this.$15=function(){var b=o(a.$4.getInt32(a.$1),a.$4.getUint32(a.$1+4));a.$1+=8;return b};this.$16=function(){var b=new Set(),c;while((c=a.$4.getUint8(a.$1++))!==0)b.add(a.$13.get(c)());return b};this.$17=function(){var b=new Map(),c;while((c=a.$4.getUint8(a.$1++))!==0)b.set(a.$13.get(a.$4.getUint8(a.$1++))(),a.$13.get(c)());return b};this.$13=new Map([[l.true,function(){return!0}],[l.false,function(){return!1}],[l.null,function(){return null}],[l.undefined,function(){return void 0}],[l.emptyString,function(){return""}],[l.string,this.$8],[l.binary,this.$9],[l.u8binary,this.$10],[l.number,this.$11],[l.struct,this.$12],[l.list,this.$14],[l.i64,this.$15],[l.set,this.$16],[l.map,this.$17]])}var b=a.prototype;b.$5=function(a){return a>>>1^(-(a&1)|0)};b.$6=function(){var a=0,b=!0;for(var d=0;b;d++,this.$1++){if(d>4)throw c("FBLogger")("maw_db").mustfixThrow("expected end of var int");var e=this.$4.getUint8(this.$1);b=(e&128)!==0;e=e&-129;a+=e<<7*d}return a};b.$7=function(){this.$1=this.$4.getUint32(0);if(this.$1!==0){while(this.$4.getUint8(this.$1)!==0)this.$2.push(this.$6());this.$1++;var a=this.$4.getUint32(this.$1);a=i.decode(this.$4.buffer.slice(this.$4.byteOffset+this.$1+4,this.$4.byteOffset+a+this.$1+4));var b=0;for(var c=0;c<this.$2.length;c++){var d=this.$2[c];this.$2[c]=a.substr(b,d);b+=d}}this.$1=4};b.decode=function(a){this.$1=0;this.$2=[];this.$3=0;this.$4=new DataView(a.buffer,a.byteOffset,a.byteLength);this.$7();return this.$13.get(this.$4.getUint8(this.$1++))()};return a}();e=function(){function a(){var a=this;this.$1=new ArrayBuffer(65536);this.$2=new Map();this.$3=this.$1;this.$4=new DataView(this.$3);this.$5=4;this.$6=0;this.$7=function(b){if(a.$5+b>a.$3.byteLength){var c=a.$3;a.$3=new ArrayBuffer(Math.max(Math.ceil(a.$3.byteLength*1.5),a.$5+b));new Uint8Array(a.$3).set(new Uint8Array(c));a.$4=new DataView(a.$3)}};this.$9=function(b){b=b;while(b>=128){var c=b&127,d=b>>>7;a.$7(1);a.$4.setUint8(a.$5++,c+128);b=d}a.$7(1);a.$4.setUint8(a.$5++,b)};this.$10=function(){if(a.$2.size>0){a.$4.setUint32(0,a.$5);var b="";for(var c of a.$2.keys())a.$9(c.length),b+=c;a.$7(1+b.length*3+4);a.$4.setUint32(a.$5++,0);c=p(b,new Uint8Array(a.$3,a.$5+4));b=c.written;a.$4.setUint32(a.$5,b);a.$5+=b+4}else a.$7(1),a.$4.setUint32(0,0)};this.$11=function(b){for(var c of Object.keys(b)){var d=b[c],e=n(d);a.$7(1);a.$4.setUint8(a.$5++,e);a.$12(c);if(e<6)continue;a.$13.get(e)(d)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$12=function(b){var c=a.$2.get(b);c==null&&a.$2.set(b,c=a.$2.size);a.$9(a.$8(c-a.$6));a.$6=c};this.$14=function(b){a.$9(b.byteLength),a.$7(b.byteLength),new Uint8Array(a.$3).set(new Uint8Array(b),a.$5),a.$5+=b.byteLength};this.$15=function(b){a.$14(b.buffer),a.$9(b.byteOffset),a.$9(b.byteLength)};this.$16=function(b){a.$7(8),a.$4.setFloat64(a.$5,b),a.$5+=8};this.$17=function(b){a.$7(8),a.$4.setInt32(a.$5,b[0]),a.$4.setUint32(a.$5+4,b[1]),a.$5+=8};this.$18=function(b){for(b of b){var c=n(b);a.$7(1);a.$4.setUint8(a.$5++,c);if(c<6)continue;a.$13.get(c)(b)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$19=function(b){for(b of b){var c=b[0],d=b[1],e=n(d);a.$7(1);a.$4.setUint8(a.$5++,e);var f=n(c);a.$7(1);a.$4.setUint8(a.$5++,f);f>5&&a.$13.get(f)(c);if(e<6)continue;a.$13.get(e)(d)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$13=new Map([[l.struct,this.$11],[l.string,this.$12],[l.binary,this.$14],[l.u8binary,this.$15],[l.number,this.$16],[l.i64,this.$17],[l.list,this.$18],[l.set,this.$18],[l.map,this.$19]])}var b=a.prototype;b.$8=function(a){return a<<1^a>>31};b.encode=function(a){this.$3=this.$1;this.$4=new DataView(this.$3);this.$2=new Map();this.$5=4;this.$6=0;var b=n(a);this.$7(1);this.$4.setUint8(this.$5++,b);b>4&&(this.$13.get(b)(a),this.$10());return new Uint8Array(this.$3,0,this.$5)};return a}();function a(a){var b=new Set();function e(a){if(a==null||a===!0||a===!1||a==="")return 1;if(typeof a==="number"||(h||(h=d("I64"))).isI64(a))return 9;if(typeof a==="string"){if(b.has(a))return 2;b.add(a);return a.length*k+4}if(Array.isArray(a)){var f=2;for(var g of a)f+=e(g);return f}if(a instanceof ArrayBuffer)return a.byteLength+3;if(a instanceof Uint8Array)return a.byteLength+6;if(a instanceof Map){g=0;for(f of a){var i=f[0],j=f[1];g+=e(i)+e(j)}return g+2}if(typeof a==="object"){i=0;for(j of Object.keys(a)){f=a[j];i+=e(j)+e(f)-2}return i+2}throw c("FBLogger")("maw_db").mustfixThrow("unsupported type: %s",typeof a)}return e(a)+4+(b.size?5:0)}g.Decoder=b;g.Encoder=e;g.estimateSize=a}),98);
__d("ReStoreErrorAction",["ClientConsistencyEventEmitter","LSPlatformSyncLock","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:h(a)}}function h(a){c("ClientConsistencyEventEmitter").emit("softRefresh",a)}function b(){d("LSPlatformSyncLock").releaseIfExist()}g.refresh=a;g.softRefresh=h;g.stopClient=b}),98);
__d("ReStoreDbVersionChange",["ReStoreErrorAction"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c=h;b=a.call(this,c)||this;b.message=c;b.name=i;d("ReStoreErrorAction").stopClient();d("ReStoreErrorAction").refresh("restore_versionchange");return b}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("ReStoreEARInit",["FBLogger","IndexedDbPolyfills","MAWCryptoConsts","MAWEARGenNewKeychainCryptoKey","MAWGenKeychainCryptoKeyWithVersion","MWEARKeychainV3Errors","ReStoreEARSetupFailure","WATimeUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b("IndexedDbPolyfills");var h="browserEncryptionMeta";function a(a){a.createObjectStore(h)}var i=function(a){var b=Array.from(a.databaseEncryptionKeys.keys());b.length>0?a.latestVersion=Math.max.apply(Math,b):c("FBLogger")("messenger_web").warn("No Ear Keys to set as latest")};function e(a,b){var c=a.databaseEncryptionKeys.get(b);if(c==null)throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+b+" was null. Latest version: "+a.latestVersion);return{dbEntry:c.dbEntry,keys:c.keys,version:b}}function j(a){a=a.objectStore(h);var b=a.openCursor(),c=[];return new Promise(function(a,d){b.onsuccess=function(b){b=b.target.result;if(b){var d=b.primaryKey,e=b.value;c.push(babelHelpers.extends({version:d},e));b.continue()}else a(c)},b.onerror=function(a){d(a)}})}function f(a,b,c){a=a.objectStore(h);a.add(c,b)}function k(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}async function l(){var a=await c("MAWEARGenNewKeychainCryptoKey")();a.randomisedVersion;a=babelHelpers.objectWithoutPropertiesLoose(a,["randomisedVersion"]);a=babelHelpers.extends({},a,{version:d("MAWCryptoConsts").VERSION});return a}async function m(a,b){b==null?void 0:b.addPoint("ear_gen_start");a=a.transaction([h],"readonly");a=await j(a);if(k(a)){var d=await c("MAWEARGenNewKeychainCryptoKey")();d.randomisedVersion;d=babelHelpers.objectWithoutPropertiesLoose(d,["randomisedVersion"]);a=(a=(a=a[a.length-1])==null?void 0:a.version)!=null?a:0;d=babelHelpers.extends({},d,{version:a+1});b==null?void 0:b.addPoint("ear_gen_end");return d}else{b==null?void 0:b.addPoint("ear_gen_skip");return null}}async function n(a,b){a=a.transaction([h],"readonly");a=await j(a);k(a)&&c("FBLogger")("messenger_web").mustfix("Shouldn't be generating a new ear key");a=await Promise.allSettled(a.map(function(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin).then(function(b){return{dbEntry:a,importedKey:b}})}));for(var e of a)if(e.status==="fulfilled"){var f=e.value;b.databaseEncryptionKeys.set(f.importedKey.version,{dbEntry:f.dbEntry,keys:f.importedKey.keys})}i(b);f=Array.from(a?a.values():[]).find(function(a){return a.status==="rejected"});if(f&&f.status==="rejected")throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)(f.reason)}function o(a,b){b.databaseEncryptionKeys.delete(a)}function p(a,b,d){c("promiseDone")(c("MAWGenKeychainCryptoKeyWithVersion")(b.key,b.seed,a,b.formatVersion,b.accountKeyString,b.userKeyBaseString,b.appIdOrigin).then(function(a){d.databaseEncryptionKeys.set(a.version,{dbEntry:b,keys:a.keys}),i(d)}))}g.EAR_STORE_NAME=h;g.createEARStore=a;g.setLatestVersion=i;g.getDbEncryptionKey=e;g.fetchAll=j;g.storeEARKey=f;g.generateKeyWithDefaultVersion=l;g.generateEARKey=m;g.initEAR=n;g.deleteKeys=o;g.rotateKeys=p}),98);
__d("ReStoreEncryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreEncryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to encrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreEncryptionFailure=a}),66);
__d("ReStoreIndexedDbCreatedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbOpenedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("createReStoreIndexedDbPersistence",["BrowserLockManager","CurrentMessengerUser","Deferred","ExecutionEnvironment","FBLogger","MAWCryptoConsts","MAWKeychainNaClCrypto","MWBroadcastChannel","MessengerLocksManagerFallback","ODS","ReStoreBinaryEncoding","ReStoreDbClosedError","ReStoreDbConfigStore","ReStoreDbVersionChange","ReStoreDecryptionFailure","ReStoreEARInit","ReStoreEARSetupFailure","ReStoreEncryptionFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbCreatedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbOpenedEvent","ReStoreIndexedDbUpgradedEvent","ReStoreIndexeddbPersistenceInitFailure","ReStorePersistence","ReStoreTabNotifier","ReStoreUnexpectedlyClosed","WAExceededStorageQuota","clearTimeout","gkx","nullthrows","pageID","promiseDone","promiseFromRequest","qex","recoverableViolation","setTimeout","tweetnacl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("CurrentMessengerUser").getIDorEIMU(),k=4096,l=new Set([d("ReStoreDbConfigStore").CONFIG_STORE_NAME]),m=new(d("ReStoreBinaryEncoding").Encoder)(),n=new(d("ReStoreBinaryEncoding").Decoder)();function o(a,b,e,f){if(a==null){a===null&&c("FBLogger")("messenger_web").mustfix("Attempting to decrypt null. This should never happen",String((i||(i=c("ExecutionEnvironment"))).isInWorker));return a}var g=new Uint8Array(a);try{g=g[1];f=d("ReStoreEARInit").getDbEncryptionKey(f,g);f=f.keys;f=f[0];var h=3;a=d("tweetnacl").secretbox.open(new Uint8Array(a,h+d("tweetnacl").secretbox.nonceLength),new Uint8Array(a,h,d("tweetnacl").secretbox.nonceLength),new Uint8Array(f));if(a==null){throw new(d("MAWKeychainNaClCrypto").EARDecryptionError)("ReStore was unable to decrypt an entity. Attempting to use key version : "+((h=g)!=null?h:"non-provided")+".")}return n.decode(a)}catch(a){f=new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b);e(f);throw f}}function p(a,b,c){try{c=d("ReStoreEARInit").getDbEncryptionKey(c,c.latestVersion);var e=c.keys;e=e[0];c=c.version;c=new Uint8Array([0,c,d("MAWCryptoConsts").CIPHER_ID]);var f=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);a=d("tweetnacl").secretbox(m.encode(a),f,new Uint8Array(e));e=new Uint8Array(c.length+f.length+a.length);e.set(c);e.set(f,c.length);e.set(a,c.length+f.length);return e.buffer}catch(a){throw new(d("ReStoreEncryptionFailure").ReStoreEncryptionFailure)(a.message,b)}}function q(a){for(a of a.values())if(a.size!==0)return!1;return!0}function r(a,b){var c=[];a=new Set(a);for(var d of a)b.objectStoreNames.contains(d)||c.push(d);d=[];for(var e=0;e<b.objectStoreNames.length;e++){var f=b.objectStoreNames[e];!a.has(f)&&!l.has(f)&&d.push(f)}if(c.length!==0||d.length!==0)return[c,d]}function s(a,b,c,d){d===void 0&&(d={});if(c==null){b.debug("Schema doesn't have changes to apply");return}b.debug("Schema has changes to apply");b=c[0];c=c[1];b.forEach(function(b){a.objectStoreNames.contains(b)||(d[b]!=null?d[b](a):a.createObjectStore(b,{autoIncrement:!0}))});c.forEach(function(b){a.objectStoreNames.contains(b)&&a.deleteObjectStore(b)})}function t(a,b,e,f,g,h){function j(a){e(new(c("ReStoreIndexedDbClosedEvent"))(a.target,new(d("ReStoreDbVersionChange").ReStoreDbVersionChange)())),g.debug("DB onversionchange TABID="+c("pageID")),c("FBLogger")("messenger_web").info("[pdb] onversionchange inWorker=%s",String((i||(i=c("ExecutionEnvironment"))).isInWorker)),f.endFail("version_change")}return new Promise(function(g,i){var k=c("setTimeout")(function(){f.addPoint("pdb_open_timeout"),i(new(d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure)("IndexedDB onsuccess and onerror were never called for indexeddb"))},1e4),l=indexedDB.open(a,h);l.onupgradeneeded=function(a){var d=a.oldVersion;a=a.target;var g=a.result;a=a.transaction;c("clearTimeout")(k);f.addPoint("onupgradeneeded_start");b(g,a);e(d===0?new(c("ReStoreIndexedDbCreatedEvent"))():new(c("ReStoreIndexedDbUpgradedEvent"))());f.addPoint("onupgradeneeded_finish")};l.onerror=function(a){c("clearTimeout")(k),f.addPoint("failed_to_open_pdb"),i(new(d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure)("indexeddb failed to open")),c("FBLogger")("messenger_web").catching(a).mustfix("Fail to open indexeddb"),e(new(c("ReStoreIndexedDbFailToOpenEvent"))())};l.onsuccess=function(a){var b=a.target.result;c("clearTimeout")(k);b.addEventListener("versionchange",j);b.onclose=function(){e(new(c("ReStoreIndexedDbClosedEvent"))(b,new(d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed)()))};e(new(c("ReStoreIndexedDbOpenedEvent"))());g(b)}})}async function u(a,b,d){a=a.objectStore(b);if(!("getAll"in a)||!("getAllKeys"in a))return new Map();var e=await c("promiseFromRequest")(a.getAllKeys());e=e.length>d?e[e.length-d]:void 0;e=e!=null?IDBKeyRange.lowerBound(e,!1):void 0;a=await Promise.all([c("promiseFromRequest")(a.getAllKeys(e,d)),c("promiseFromRequest")(a.getAll(e,d))]);e=a[0];d=a[1];if(e.length!==d.length){c("recoverableViolation")("Error pre-caching "+b+" IDB table","maw_db");return new Map()}a=new Map();for(b=0;b<e.length;++b)a.set(e[b],{status:"encrypted",value:d[b]});return a}async function v(a,b,d){d.addPoint("cache_start");var e=100;try{var f=Array.from(a.objectStoreNames).filter(function(a){return!a.startsWith("_")}),g=a.transaction([].concat(f),"readonly");await Promise.all(f.map(async function(a){var c=await u(g,a,e);b.set(a,c)}));d.addPoint("cache_end")}catch(a){c("recoverableViolation")("Error initting ReStore cache","maw_db",{error:a}),d.addPoint("cache_failed"),b.clear()}return a}async function w(a,b,e,f,g,h,j){var k=[].concat(b,[d("ReStoreEARInit").EAR_STORE_NAME]),l=(b={},b[d("ReStoreEARInit").EAR_STORE_NAME]=d("ReStoreEARInit").createEARStore,b),m;try{g.addPoint("generate_ear_key_default_start"),m=await d("ReStoreEARInit").generateKeyWithDefaultVersion(),g.addPoint("generate_ear_key_default_end")}catch(a){g.addPoint("generate_ear_key_default_failed"),c("FBLogger")("messenger_web").catching(a).mustfix("EAR generateKeyWithDefaultVersion failed")}function n(b,a){g.addAnnotations({bool:{dbEmpty:!0}});d("ReStoreDbConfigStore").createDbConfig(b,f.defaultConfig);for(var c of k)l[c]!=null?l[c](b):b.createObjectStore(c,{autoIncrement:!0});if(m!=null){b=m;c=b.version;b=babelHelpers.objectWithoutPropertiesLoose(b,["version"]);d("ReStoreEARInit").storeEARKey(a,c,b)}}g.addPoint("idb_open_start");b=await t(a,n,e,g,h);g.addPoint("idb_open_end");var o=b.transaction(d("ReStoreDbConfigStore").CONFIG_STORE_NAME,"readonly");o=await Promise.all([d("ReStoreDbConfigStore").detectConfigMismatch(o,f),d("ReStoreDbConfigStore").readCorruptionFailuresFromConfig(o).then(function(a){return(a=a==null?void 0:a.value)!=null?a:0})]);var p=o[0];o=o[1];var q=o>0;q&&(c("FBLogger")("messenger_web").info("[pdb] opening corrupted db failures=%s inWorker=%s",String(o),String((i||(i=c("ExecutionEnvironment"))).isInWorker)),h.debug("DB corrupted, deleting db"));p&&h.debug("DB config mismatch, deleting db");g.addAnnotations({bool:{configMismatch:p,dbCorruptionOccured:q}});if(p||q)b.close(),g.addPoint("delete_db_start"),await c("promiseFromRequest")(indexedDB.deleteDatabase(a)),g.addPoint("delete_db_end"),g.addPoint("reopen_db_start"),b=await t(a,n,e,g,h),g.addPoint("reopen_db_end");else{var u=r(k,b),v=await d("ReStoreEARInit").generateEARKey(b,g);(u!=null||v!=null)&&(h.debug("Schema mismatch, bumping db version"),b.close(),g.addPoint("mismatch_start"),b=await t(a,function(a,b){s(a,h,u,l);if(v!=null){a=v.version;var c=babelHelpers.objectWithoutPropertiesLoose(v,["version"]);d("ReStoreEARInit").storeEARKey(b,a,c)}},e,g,h,b.version+1),g.addPoint("mismatch_end"))}try{g.addPoint("ear_keys_init_start"),await d("ReStoreEARInit").initEAR(b,j),g.addPoint("ear_keys_init_end")}catch(f){g.addPoint("ear_keys_init_failed");b.close();c("FBLogger")("messenger_web").catching(f).mustfix("EAR failed to init as part of ReStore");c("promiseDone")(c("promiseFromRequest")(indexedDB.deleteDatabase(a)),function(a){},function(a){return c("FBLogger")("messenger_web").catching(a).warn("Failed to delete DB")});e(new(c("ReStoreIndexedDbClosedEvent"))(b,new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Failed to setup EAR in Restore")));throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Failed to setup EAR in Restore")}return b}function a(a,b,e,f,g){var l=Object.keys(b.tableNames),m={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},n=f.logHistory,r=f.transactionLockQplLogger,s=f.userFlow,u=j+"-"+a,x="dbLock-"+u,y=!0,z,A=[],B=null,C=!1;n.debug("PDB is ON");s.addPoint("init_idb_start");b="mwChat-flushchanges-"+j+"-"+a;var D=d("MWBroadcastChannel").MWBroadcastChannel(b),E=void 0,F=new Map(),G=c("nullthrows")((b=c("BrowserLockManager"))!=null?b:c("MessengerLocksManagerFallback")(c("uuidv4")().toString())),H=new AbortController(),I=U(),J;I==null?void 0:I.onEventReceive("abortTransaction",function(){c("FBLogger")("messenger_web").mustfix("Request to abort transaction: %s",J)});var K=new Promise(function(b,d){var f=r.startTracking(!0,void 0,x);f.addAnnotations({string:{source:"createReStoreIndexedDbPersistence",type:"initDB"}});f.mark("lock_requested");var g=c("setTimeout")(function(){I==null?void 0:I.postMessage("abortTransaction")},15e3);c("promiseDone")(G.request(x,{signal:H.signal},async function(){J="idbPromise";c("clearTimeout")(g);f.mark("lock_granted");try{var h=await w(a,l,L,e,s,n,m);f.mark("db_initialized");D.addEventListener("message",R);b(h);f.end();J=null}catch(a){d(a);c("FBLogger")("messenger_web").catching(a).warn("[pdb] dbLock initDB issue");f.fail();J=null;throw a}}),function(a){f.end()},function(a){J=null,c("FBLogger")("messenger_web").catching(a).warn("[pdb] dbLock idbPromise issue"),f.fail()})});c("promiseDone")(K.then(function(){s.addPoint("init_idb_end")}));c("qex")._("403")&&c("promiseDone")(W(function(){return Promise.resolve([function(){return K.then(function(a){return v(a,F,s)})},"readonly"])},"initCache"));function L(a){a instanceof c("ReStoreIndexedDbClosedEvent")?(H.abort(),a.idb.close(),y=!1,D.removeEventListener("message",R)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&H.abort(),H=new AbortController(),g==null?void 0:g(a)}function M(a,b,c){c=a.transaction(c!=null&&c.length>0?c:a.objectStoreNames,b,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(c);return c}function N(a){var b=F.get(a);b==null&&(b=new Map(),F.set(a,b));return b}async function O(a){return(a=await Q(function(a){return c("promiseFromRequest")(a.objectStore(d("ReStoreDbConfigStore").CONFIG_STORE_NAME).get(d("ReStoreDbConfigStore").CACHE_VERSION_KEY))},"readonly",a))==null?void 0:a.value}function P(){if(B)return;B=new Promise(async function(a){var b;try{var d=async function(){if(z==null){var a;b=(a=b)!=null?a:await K;var d=M(b,A.some(function(a){return a.writemode==="readwrite"||a.expectingWrite})?"readwrite":"readonly");d.onabort=function(){z===d&&(z=null)};z=d}var e=z;a=[];for(var f of A){if(f.writemode==="readwrite"){e.mode==="readwrite"&&a.push(f);z=null;break}a.push(f)}A.splice(0,a.length);a.length&&await Promise.all(a.map(function(a){a=a.thunk;return a(e)}));!A.length&&z!=null&&await c("promiseFromRequest")(z.objectStore(z.objectStoreNames[0]).get(""))};while(A.length)await d();(d=z)==null?void 0:d.commit==null?void 0:d.commit()}finally{z=null,a(),B=null}})}function Q(a,b,c){c===void 0&&(c=!1);return new Promise(function(d,e){A.push({expectingWrite:c,thunk:async function(b){var c;try{c=await a(b)}catch(a){e(a);return}d(c)},writemode:b}),P()})}function R(a){a=a.data;var b=a.changeSet,d=a.fromVersion,e=a.sentinelDeleted;a=a.toVersion;if(C){c("FBLogger")("messenger_web").info("[pdb] unexpected cache update received after verifying cache matches db, ignoring");return}E!==d&&E!=null&&(F.clear(),c("FBLogger")("messenger_web").info("[pdb] out of order cache update received"));E=a;b.forEach(function(a,b){var c=N(b);a.forEach(function(a,b){a===e?c.delete(b):c.set(b,{status:"decrypted",value:a})})})}function S(){if(!y)return;c("promiseDone")(K,async function(a){var b;a=M(a,"readwrite");b=(b=(b=await d("ReStoreDbConfigStore").readCorruptionFailuresFromConfig(a))==null?void 0:b.value)!=null?b:0;await d("ReStoreDbConfigStore").writeCorruptionFailuresToConfig(a,b)})}function T(){c("promiseDone")(K,function(a){L(new(c("ReStoreIndexedDbClosedEvent"))(a))})}function U(){var a="restore-table-"+u;a=(i||(i=c("ExecutionEnvironment"))).isInBrowser?c("ReStoreTabNotifier")(a):void 0;return a}function V(){if(!y){f.logHistory.error("DB closed, transaction failed");f.userFlow.addPoint("db_closed");throw new(c("ReStoreDbClosedError"))()}}async function W(a,b){await K;c("gkx")("8566")&&V();return new Promise(function(d,e){var f=r.startTracking(!0,void 0,x);f.addAnnotations({string:{source:"createReStoreIndexedDbPersistence",type:"runExclusivelyLock"}});f.mark("lock_requested");c("promiseDone")(G.request(x,{signal:H.signal},async function(){J=b;f.mark("lock_granted");var g=await a(),h=g[0];g=g[1];try{g=await O(g==="readwrite");f.mark("cache_version_read");E!==g&&E!=null&&(f.mark("cache_clearing"),F.clear(),c("FBLogger")("messenger_web").info("[pdb] cache dropped, out of date cache version"),f.mark("cache_cleared"));E=g;C=!0;g=await h();C=!1;d(g);f.end();J=null}catch(a){C=!1;e(a);f.fail();J=null;throw a}}),function(a){f.end()},function(a){J=null,f.fail()})})}async function X(b,e){e=e.upgrade;if(!y)return;var f=c("uuidv4")(),g=c("nullthrows")(E);async function h(a){var e=new Promise(function(e,h){a.oncomplete=function(a){try{D.postMessage({changeSet:b,fromVersion:g,sentinelDeleted:d("ReStorePersistence").sentinelDeleted,toVersion:f})}catch(a){c("recoverableViolation")("Failed to broadcast changes","maw_db",a)}e(a.target.result)},a.onerror=a.onabort=function(a){E=null,F.clear(),h(a)}}),h=!1;for(var i of b){var j=i[0],k=i[1],l=a.objectStore(j);for(k of k){var n=k[0],o=k[1],q;if(o===d("ReStorePersistence").sentinelDeleted)q=l.delete(n);else{o=p(o,j,m);q=l.put(o,n)}q.onerror=function(){return h=!0}}}await c("promiseFromRequest")(a.objectStore(d("ReStoreDbConfigStore").CONFIG_STORE_NAME).put({name:d("ReStoreDbConfigStore").CACHE_VERSION_KEY,value:f}));h?a.abort():a.commit!=null&&a.commit();await e}function i(){Array.from(b).forEach(function(a){var b=a[0];a=a[1];var c=N(b);Array.from(a).forEach(function(a){var b=a[0];a=a[1];a===d("ReStorePersistence").sentinelDeleted?c.delete(b):c.set(b,{status:"decrypted",value:a})})}),E=f}if(q(b))return;var j=await K;if(e===!0){c("FBLogger")("messenger_web").info("[pdb] Updating IDB version, fromVersion: %s, non-empty tables: %s",j.version,Array.from(b.entries()).filter(function(a){a[0];a=a[1];return a.size>0}).map(function(a){a=a[0];return a}).sort().toString());await B;(e=z)==null?void 0:e.abort();z=null;j.close();F.clear();E=null;K=async function(){var b=new(c("Deferred"))(),d=await t(a,function(a,d){i(),c("promiseDone")(h(d),function(){b.resolve()},function(a){c("FBLogger")("messenger_web").catching(a).warn("Failed to complete db flush"),b.reject("Failed to complete db flush")})},L,s,n,j.version+1);await b.getPromise();return d}();await K;return}if(b.size===0)return;i();e=Array.from(b.keys());e.push(d("ReStoreDbConfigStore").CONFIG_STORE_NAME);return Q(function(a){return h(a)},"readwrite")}function Y(b){c("promiseDone")(K,function(e){L(new(c("ReStoreIndexedDbClosedEvent"))(e,b));e=indexedDB.deleteDatabase(a);e.onerror=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","error.persistence"),c("recoverableViolation")("[pdb] Failed to delete db","maw_db")};e.onblocked=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","block.persistence")};e.onsuccess=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","success.persistence")}})}return{abortTransaction:function(){H.abort()},clearCache:function(){F.clear()},close:T,flush:X,get:function(a,b,d){try{var e=N(b);if(e.has(d)){a=e.get(d);if((a==null?void 0:a.status)==="encrypted"){var f=o(a.value,b,Y,m);e.set(d,{status:"decrypted",value:f});return f}return a==null?void 0:a.value}else{if(!y)return new Promise(function(){});var g=Q(function(a){return c("promiseFromRequest")(a.objectStore(b).get(d))},"readonly").then(function(a){var c=e.get(d);if((c==null?void 0:c.value)!==g)return c==null?void 0:c.value;c=o(a,b,Y,m);e.set(d,{status:"decrypted",value:c});return c});e.set(d,{status:"pending",value:g});return g}}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Error occurs in indexeddb persistence get");throw a}},isClosed:function(){return!y},isPersistenceSupported:async function(){try{await K;return!0}catch(a){return!1}},logError:function(a,b,d,e){if(d==="dbCorruption"){b==="readwrite"&&S();throw c("FBLogger")("messenger_web").mustfixThrow("Got unexpected undefined in pdb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:function(a){return a()},runExclusively:W,shouldApplySync:function(){return!0},shouldInline:function(a,b){return d("ReStoreBinaryEncoding").estimateSize(b)<k},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},tabTablesNotifier:function(){return I},types:["indexeddb"],uniqueId:u}}a.schemaDiff=r;a.applyChanges=s;g.default=a}),98);
__d("migratePDBTablesToEBSM",["EBSMProperties","FBLogger","LSDBRestoreConfig","LSMetadata","LSPlatformLsInitLog","LSReStoreQplLogger","LSReStoreWrapper","MAWLSVaultingHooks","MWLSIndexedDBName","MessengerLogHistory","ODS","clearTimeout","createReStoreIndexedDbPersistence","err","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a){if(indexedDB==null)return;var b=d("MWLSIndexedDBName").dbName();if(indexedDB.databases!=null){var e=await indexedDB.databases();if(e.find(function(a){return a.name===b})==null)return}else{var g;e=await Promise.race([new Promise(function(a,d){var e=indexedDB.open(b);e.onupgradeneeded=function(b){b.target.transaction.abort(),a(!1)};e.onsuccess=function(b){b.target.result.close(),a(!0)};e.onerror=function(a){d(c("err")("pdb migration error in checking db existance "+((a=a.target)==null?void 0:(a=a.error)==null?void 0:a.message)))}}),new Promise(function(a,b){g=c("setTimeout")(function(){b(c("err")("pdb db is not available. resolving on timeout"))},300)})]);c("clearTimeout")(g);if(e===!1)return}try{e=c("createReStoreIndexedDbPersistence")(b,d("LSMetadata").schema,d("LSDBRestoreConfig").createConfig(),{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionLockQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")),userFlow:d("LSPlatformLsInitLog").lsInitLogger});var i=d("LSReStoreWrapper").createLSReStore(e,d("LSMetadata").schema,[c("MAWLSVaultingHooks")]);await a.runInTransaction(async function(a){for(var b=0;b<c("EBSMProperties").persistedTablesArray.length;b++){var d=c("EBSMProperties").persistedTablesArray[b],e=i.tables[d].entries(new WeakMap()),f=await e.next();while(!f.done){var g=f.value;g[0];g=g[1];await a[d].put(g);f=await e.next()}}},"readwrite",void 0,void 0,f.id+":102");i.closeDb==null?void 0:i.closeDb();(h||(h=d("ODS"))).bumpEntityKey(3185,"pdb_to_ebsm_migration","migration.success")}catch(a){(h||(h=d("ODS"))).bumpEntityKey(3185,"pdb_to_ebsm_migration","migration.fail");throw a}}async function j(){var a=d("MWLSIndexedDBName").dbName();if(indexedDB.databases!=null){var b=await indexedDB.databases();if(b.find(function(b){return b.name===a})==null)return}return new Promise(function(b,c){var d=indexedDB.deleteDatabase(a);d.onsuccess=b;d.onerror=c})}function a(a){return i(a).catch(function(a){c("FBLogger")("messenger_web").catching(a).mustfix("[LS] Error migrating data from PDB to EBSM")}).then(function(){return j()}).catch(function(a){c("FBLogger")("messenger_web").catching(a).mustfix("[LS] Error cleaning up data in PDB post EBSM startup.")})}g.default=a}),98);/*FB_PKG_DELIM*/
__d("CometFocusedStoryDialogLauncherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={current:new Set()};c=a.createContext({onDialogCloseHandlers:b,onDialogOpenHandlers:b});g["default"]=c}),98);
__d("CometInlineIdentityBadge_identityBadge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometInlineIdentityBadge_identityBadge",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},action:"LOG",path:"gaming_video_image_uri"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null},action:"LOG",path:"gaming_video_dark_mode_image_uri"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},action:"LOG",path:"text"}],type:"IdentityBadge",abstractKey:null};e.exports=a}),null);
__d("CometInlineIdentityBadge.react",["CometImage.react","CometInlineIdentityBadge_identityBadge.graphql","CometRelay","FDSTooltip.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=12,l={padding:{paddingTop:"x4p5aij",paddingEnd:"xg83lxy",paddingBottom:"x1j85h84",paddingStart:"x1h0ha7o",$$css:!0}},m=h!==void 0?h:h=b("CometInlineIdentityBadge_identityBadge.graphql");function a(a){var b=d("react-compiler-runtime").c(7),e=a.iconSize,f=a.identityBadge;a=a.xstyle;e=e===void 0?k:e;a=a===void 0?l.padding:a;f=d("CometRelay").useFragment(m,f);var g=c("useCurrentDisplayMode")();g=g==="dark";if(f==null)return null;g=g?f.gaming_video_dark_mode_image_uri:f.gaming_video_image_uri;var h;b[0]!==e||b[1]!==g||b[2]!==a?(h=j.jsx(c("CometImage.react"),{height:e,src:g,testid:void 0,xstyle:a}),b[0]=e,b[1]=g,b[2]=a,b[3]=h):h=b[3];b[4]!==f.text||b[5]!==h?(e=j.jsx(c("FDSTooltip.react"),{delayMs:500,tooltip:f.text,children:h}),b[4]=f.text,b[5]=h,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("Lexical",["cr:370"],(function(a,b,c,d,e,f){e.exports=b("cr:370")}),null);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();g.COMET_LEXICAL_ARIA_COMMAND=a}),98);
__d("CometLexicalEmojiNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=9;b=16;c=20;var i=16,j=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"emoji"};a.clone=function(b){return new a(b.__text,b.__rawText,b.__src,b.__size,b.__key)};a.importJSON=function(a){a=k(a.text,a.rawText,a.src,a.size);return a};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{rawText:this.__rawText,size:this.__size,src:this.__src,type:"emoji"})};function a(a,c,d,e,f){e===void 0&&(e=i);a=b.call(this,a,f)||this;a.__src=d;a.__rawText=c;a.__size=e;return a}c.getRawText=function(){var a=this.getLatest();return a.__rawText};c.createDOM=function(){var a=this.__text,b=this.__size,c=this.__src,d=document.createElement("span"),e=document.createElement("span"),f=d.style;f.cursor="default";d.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xcwd3tp xat24cr x39eecv x2b8uid";d.setAttribute("data-testid","emoji");c!=null&&(f.backgroundImage="url("+c+")",f.backgroundSize=b+"px "+b+"px");a!==this.__rawText&&(d.style.width="calc("+b+"px + 0.3em)",d.style.height=b+"px",d.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xcwd3tp xat24cr x39eecv x2b8uid x1rg5ohu x6ikm8r x10wlt62 xmziwt1 xuxw1ft",d.setAttribute("spellcheck","false"),e.style.fontFamily='Courier, "Courier New", Menlo, Monaco, monospace',e.style.fontSize="15px",e.style.letterSpacing=b/(h*a.length)-1+"ch");e.textContent=a;e.className="xexx8yu xn5pp95 x18d9i69 x2fxd7x x3jgonx x1bhl96m";d.appendChild(e);return d};c.updateDOM=function(a,b){a=b.firstChild;if(a==null)return!0;var c=this.__text;a.textContent!==c&&(a.textContent=c);b.style.backgroundSize=this.__size+"px "+this.__size+"px";return!1};c.setSize=function(a){var b=this.getWritable();b.__size=a};c.selectionTransform=function(a,b){var c=this.__text;if(c===this.__rawText||!d("Lexical").$isRangeSelection(a)||a.is(b))return;a=a.focus;var e=b.focus,f=c.length,g=b.isCollapsed();if(e.offset===0||e.offset===c.length||a.is(e))return;a.isBefore(e)?e.set(e.key,f,"text"):e.set(e.key,0,"text");g&&b.anchor.set(e.key,e.offset,"text")};return a}(d("Lexical").TextNode);function a(a){return a instanceof j}function k(a,b,c,d){return new j(a,b,c,d).setMode("token")}g.UFI_EMOJI_SIZE=b;g.COMPOSER_EMOJI_SIZE_LARGE=c;g.COMPOSER_EMOJI_SIZE_SMALL=i;g.EmojiNode=j;g.$isEmojiNode=a;g.$createEmojiNode=k}),98);
__d("CometLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometLexicalEntityTextNode does not implement getEntity","ufi2")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.CometLexicalEntityTextNode=h;g.isCometLexicalEntityTextNode=a}),98);
__d("CometLexicalGenericEntityNode",["CometLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){var c;return new a({id:b.__id,text:b.__text,type:b.__entityType,uri:(c=b.__uri)!=null?c:void 0},b.__key)};a.importJSON=function(a){return i({id:a.id,text:a.text,type:a.entityType,uri:(a=a.uri)!=null?a:void 0})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{entityType:this.__entityType,id:this.__id,type:"actor",uri:this.__uri})};function a(a,c){var d="",e="Actor",f=void 0,g="";a!==void 0&&(d=a.id,e=a.type,f=a.uri,g=a.text);a=b.call(this,g,c)||this;a.__id=d;a.__entityType=e;a.__uri=f;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m";a.spellcheck=!1;return a};c.getEntity=function(){var a=this.__uri!=null?{uri:this.__uri}:null;return babelHelpers["extends"]({__UFI__:!0,id:this.__id,isWeak:!1,type:this.__entityType},a)};c.getEntityType=function(){return this.__entityType};c.getID=function(){return this.__id};return a}(d("CometLexicalEntityTextNode").CometLexicalEntityTextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.CometLexicalGenericEntityNode=h;g.$createCometLexicalGenericEntityNode=i;g.$isCometLexicalGenericEntityNode=a}),98);
__d("CometLexicalGroupEntityNode",["CometLexicalGenericEntityNode"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d=a.canBeInvitedByViewer,e=a.gender,f=a.photoURI;a=babelHelpers.objectWithoutPropertiesLoose(a,["canBeInvitedByViewer","gender","photoURI"]);a=b.call(this,a,c)||this;a.__canBeInvitedByViewer=d===!0;a.__photoURI=f;a.__gender=e;return a}a.getNodeFields=function(a){return{canBeInvitedByViewer:a.__canBeInvitedByViewer,gender:a.__gender,id:a.__id,photoURI:a.__photoURI,text:a.__text,type:a.__entityType,uri:(a=a.__uri)!=null?a:void 0}};a.getType=function(){return"group_actor"};a.clone=function(b){return new a(a.getNodeFields(b),b.__key)};a.importJSON=function(a){return i({canBeInvitedByViewer:a.canBeInvitedByViewer,gender:a.gender,id:a.id,photoURI:a.photoURI,text:a.text,type:a.entityType,uri:(a=a.uri)!=null?a:void 0})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{canBeInvitedByViewer:this.__canBeInvitedByViewer,gender:this.__gender,photoURI:this.__photoURI})};c.getPhotoURI=function(){return this.__photoURI};c.getCanBeInvitedByViewer=function(){return this.__canBeInvitedByViewer};c.getUserGender=function(){return this.__gender};return a}(d("CometLexicalGenericEntityNode").CometLexicalGenericEntityNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}g.CometLexicalGroupEntityNode=h;g.$createCometLexicalGroupEntityNode=i}),98);
__d("CometLexicalPlaceholder.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={placeholder:{color:"xi81zsa",start:"x17qophe",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.xstyle;var f;b[0]!==a?(f=(h||(h=c("stylex"))).props(k.placeholder,a),b[0]=a,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a=j.jsx("div",babelHelpers["extends"]({children:e},f)),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("CometStickerPickerCardQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10095807770482952"}),null);
__d("CometStickerPickerCardQuery$Parameters",["CometStickerPickerCardQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometStickerPickerCardQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerCardQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometStickerPickerStickerSearchCard.entrypoint",["CometStickerPickerFlyoutTagSelectorRoot.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometStickerPickerStickerSearchCard.react").__setRef("CometStickerPickerStickerSearchCard.entrypoint");b={getPreloadProps:function(a){var b=a.flyoutTagsCount,e=a.flyoutTagsCursor;a=a.stickerInterface;b={count:b,cursor:e};return{entryPoints:{flyoutTagSelectorEntrypointReference:d("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:c("CometStickerPickerFlyoutTagSelectorRoot.entrypoint"),entryPointParams:b})},extraProps:{stickerInterface:a}}},root:a};g["default"]=b}),98);
__d("CometStickerPickerCard.entrypoint",["CometStickerPickerCardQuery$Parameters","CometStickerPickerStickerSearchCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometStickerPickerCard.react").__setRef("CometStickerPickerCard.entrypoint");b={getPreloadProps:function(a){var b=a.feedbackID,e=a.stickerInterface;a=babelHelpers.objectWithoutPropertiesLoose(a,["feedbackID","stickerInterface"]);a=babelHelpers["extends"]({},a,{stickerInterface:e});a;return{entryPoints:{stickerSearchEntrypointReference:d("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:c("CometStickerPickerStickerSearchCard.entrypoint"),entryPointParams:a})},extraProps:{feedbackTargetID:b,stickerInterface:e},queries:{stickerPickerQueryReference:{parameters:c("CometStickerPickerCardQuery$Parameters"),variables:{feedbackID:b,scale:d("WebPixelRatio").get(),stickerInterface:e}}}}},root:a};g["default"]=b}),98);
__d("CometUFICommentBodyTextWithEntities_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentBodyTextWithEntities_textWithEntities",selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],type:"TextWithEntities",abstractKey:null};e.exports=a}),null);
__d("useCometUFICommentBodyTransforms",["CometEmojiTransform","CometEmoticonTransform","CometHighlightTransform","CometLineBreakTransform","CometSearchMatchedTermsContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useMemo,k=[c("CometEmoticonTransform")(),c("CometEmojiTransform")(),c("CometLineBreakTransform")];function a(a){var b=i(c("CometSearchMatchedTermsContext"));return j(function(){var d=b==null?void 0:b.focusedCommentId;d!=null?d=b!=null&&b.matches.length>0&&d===a?c("CometHighlightTransform")({highlightCommentSearchedTerms:b.searchLocation==="COMMENT_SEARCH",matches:b.matches,matchSubstrings:!0}):null:d=b!=null&&b.matches.length>0?c("CometHighlightTransform")({highlightCommentSearchedTerms:b.searchLocation==="COMMENT_SEARCH",matches:b.matches,matchSubstrings:b.searchLocation==="COMMENT_SEARCH"}):null;return[].concat(k,[d]).filter(Boolean)},[a,b])}g["default"]=a}),98);
__d("CometUFIModernCommentListContextProvider",["react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext;e.useMemo;var k=i.createContext({canViewerComment:!1,connectionID:null,editingCommentID:null,feedbackSource:1,feedLocation:"NEWSFEED",focusCommentID:null,handleCreateCommentProps:{onCommit:function(){},setError:function(){},setLocallyComposedCommentIds:function(){}},isInline:!1,isLiveVODCommentList:!1,locallyComposedCommentIds:new Set(),onActorSelected:function(){},onComposerFocusCallback:function(){},onEditCommentError:function(){},onTranslateAllClick:function(){},realtimeCommentIds:new Set(),renderedTranslationCommentID:null,selectedIntentToken:null,setEditingCommentID:function(){},setRenderedTranslationCommentID:function(){},shouldDisplayInReverse:!1,shouldRequestTranslationForAllComments:!1,storyRenderLocation:"permalink",threadingEnabled:!1,topLevelFeedbackID:null,useDefaultActor:!1});function a(a){var b,e,f,g,h,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=d("react-compiler-runtime").c(28),C=a.children,D=a.connectionID,E=a.contextValues;a=a.depth;var F=j(k);if(a===0&&E==null)throw c("unrecoverableViolation")("CometUFIModernCommentListContextProvider: no context value provided for depth 0 comment list.`","modern-ufi");if(a>0&&E!=null)throw c("unrecoverableViolation")("Depth "+a+" list passed a nonnull context value, but this should only happen at depth 0","modern-ufi");E==null?void 0:E.canViewerComment;E==null?void 0:E.editingCommentID;E==null?void 0:E.feedLocation;E==null?void 0:E.feedbackSource;E==null?void 0:E.focusCommentID;E==null?void 0:E.handleCreateCommentProps;E==null?void 0:E.isLiveVODCommentList;E==null?void 0:E.locallyComposedCommentIds;E==null?void 0:E.onActorSelected;E==null?void 0:E.onComposerFocusCallback;E==null?void 0:E.onEditCommentError;E==null?void 0:E.onTranslateAllClick;E==null?void 0:E.realtimeCommentIds;E==null?void 0:E.renderedTranslationCommentID;E==null?void 0:E.selectedIntentToken;E==null?void 0:E.setEditingCommentID;E==null?void 0:E.setRenderedTranslationCommentID;E==null?void 0:E.shouldDisplayInReverse;E==null?void 0:E.shouldRequestTranslationForAllComments;E==null?void 0:E.storyRenderLocation;E==null?void 0:E.threadingEnabled;E==null?void 0:E.topLevelFeedbackID;E==null?void 0:E.useDefaultActor;a=(a=E==null?void 0:E.canViewerComment)!=null?a:F.canViewerComment;D=(D=D)!=null?D:F.connectionID;b=(b=E==null?void 0:E.editingCommentID)!=null?b:F.editingCommentID;e=(e=E==null?void 0:E.feedbackSource)!=null?e:F.feedbackSource;f=(f=E==null?void 0:E.feedLocation)!=null?f:F.feedLocation;g=(g=E==null?void 0:E.focusCommentID)!=null?g:F.focusCommentID;h=(h=E==null?void 0:E.handleCreateCommentProps)!=null?h:F.handleCreateCommentProps;l=(l=E==null?void 0:E.isLiveVODCommentList)!=null?l:F.isLiveVODCommentList;m=(m=E==null?void 0:E.locallyComposedCommentIds)!=null?m:F.locallyComposedCommentIds;n=(n=E==null?void 0:E.onActorSelected)!=null?n:F.onActorSelected;o=(o=E==null?void 0:E.onComposerFocusCallback)!=null?o:F.onComposerFocusCallback;p=(p=E==null?void 0:E.onEditCommentError)!=null?p:F.onEditCommentError;q=(q=E==null?void 0:E.onTranslateAllClick)!=null?q:F.onTranslateAllClick;r=(r=E==null?void 0:E.realtimeCommentIds)!=null?r:F.realtimeCommentIds;s=(s=E==null?void 0:E.renderedTranslationCommentID)!=null?s:F.renderedTranslationCommentID;t=(t=E==null?void 0:E.selectedIntentToken)!=null?t:F.selectedIntentToken;u=(u=E==null?void 0:E.setEditingCommentID)!=null?u:F.setEditingCommentID;v=(v=E==null?void 0:E.setRenderedTranslationCommentID)!=null?v:F.setRenderedTranslationCommentID;w=(w=E==null?void 0:E.shouldDisplayInReverse)!=null?w:F.shouldDisplayInReverse;x=(x=E==null?void 0:E.shouldRequestTranslationForAllComments)!=null?x:F.shouldRequestTranslationForAllComments;y=(y=E==null?void 0:E.storyRenderLocation)!=null?y:F.storyRenderLocation;z=(z=E==null?void 0:E.threadingEnabled)!=null?z:F.threadingEnabled;A=(A=E==null?void 0:E.topLevelFeedbackID)!=null?A:F.topLevelFeedbackID;E=(E=E==null?void 0:E.useDefaultActor)!=null?E:F.useDefaultActor;B[0]!==m||B[1]!==n||B[2]!==o||B[3]!==p||B[4]!==q||B[5]!==r||B[6]!==s||B[7]!==t||B[8]!==u||B[9]!==v||B[10]!==a||B[11]!==w||B[12]!==x||B[13]!==y||B[14]!==z||B[15]!==A||B[16]!==E||B[17]!==D||B[18]!==b||B[19]!==e||B[20]!==f||B[21]!==g||B[22]!==h||B[23]!==l?(F={canViewerComment:a,connectionID:D,editingCommentID:b,feedbackSource:e,feedLocation:f,focusCommentID:g,handleCreateCommentProps:h,isLiveVODCommentList:l,locallyComposedCommentIds:m,onActorSelected:n,onComposerFocusCallback:o,onEditCommentError:p,onTranslateAllClick:q,realtimeCommentIds:r,renderedTranslationCommentID:s,selectedIntentToken:t,setEditingCommentID:u,setRenderedTranslationCommentID:v,shouldDisplayInReverse:w,shouldRequestTranslationForAllComments:x,storyRenderLocation:y,threadingEnabled:z,topLevelFeedbackID:A,useDefaultActor:E},B[0]=m,B[1]=n,B[2]=o,B[3]=p,B[4]=q,B[5]=r,B[6]=s,B[7]=t,B[8]=u,B[9]=v,B[10]=a,B[11]=w,B[12]=x,B[13]=y,B[14]=z,B[15]=A,B[16]=E,B[17]=D,B[18]=b,B[19]=e,B[20]=f,B[21]=g,B[22]=h,B[23]=l,B[24]=F):F=B[24];m=F;n=m;B[25]!==C||B[26]!==n?(o=i.jsx(k.Provider,{value:n,children:C}),B[25]=C,B[26]=n,B[27]=o):o=B[27];return o}function b(){return j(k)}g.CometUFIModernCommentListContext=k;g.CometUFIModernCommentListContextProvider=a;g.useCometUFIModernCommentListContext=b}),98);
__d("CometUFICommentBodyTextWithEntities.react",["CometFeedSeeMoreAnchorEntityRenderer","CometHovercardEntityRenderer","CometKGTickerNodeEntityRenderer","CometLinkedEntityRenderer","CometRelay","CometShortenedExternalUrlEntityRenderer","CometTextDelightCampaignEntityRenderer","CometTextWithEntitiesRelay.react","CometUFICommentBodyTextWithEntities_textWithEntities.graphql","CometVideoTimeIndexEntityRenderer","cr:6969","react","react-compiler-runtime","useCometUFICommentBodyTransforms","useRadicalUFIClickInteractionLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={"*":[c("CometLinkedEntityRenderer")],Event:[c("CometHovercardEntityRenderer")],ExternalUrl:[c("CometShortenedExternalUrlEntityRenderer")],Group:[c("CometHovercardEntityRenderer")],KGTickerNode:[c("CometKGTickerNodeEntityRenderer")],Page:[c("CometHovercardEntityRenderer")],SeeMoreTruncation:[c("CometFeedSeeMoreAnchorEntityRenderer")],TextDelightCampaign:[c("CometTextDelightCampaignEntityRenderer")],User:[c("CometHovercardEntityRenderer")],VideoTimeIndex:[c("CometVideoTimeIndexEntityRenderer")],XFBWorkCustomEmoji:[b("cr:6969")].filter(Boolean)};function a(a){var e=d("react-compiler-runtime").c(9),f=a.commentId,g=a.shouldTruncate,i=a.textWithEntities;a=a.withParagraphs;a=a===void 0?!0:a;i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentBodyTextWithEntities_textWithEntities.graphql"),i);f=c("useCometUFICommentBodyTransforms")(f);var l;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={clickInteractionSource:"comment_see_more"},e[0]=l):l=e[0];l=c("useRadicalUFIClickInteractionLogging")(null,l);if(i==null)return null;var m=g?420:void 0,n=g?3:void 0;g=g?"see-more":void 0;var o;e[1]!==l||e[2]!==m||e[3]!==n||e[4]!==g||e[5]!==i||e[6]!==f||e[7]!==a?(o=j.jsx(c("CometTextWithEntitiesRelay.react"),{maxLength:m,maxLines:n,onToggleExpanded:l,renderers:k,textWithEntities:i,transforms:f,truncationStyle:g,withLineBreaks:!0,withParagraphs:a}),e[1]=l,e[2]=m,e[3]=n,e[4]=g,e[5]=i,e[6]=f,e[7]=a,e[8]=o):o=e[8];return o}g["default"]=a}),98);
__d("CometUFICommentScrollOptionsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={behavior:"smooth",verticalAlign:"center"};c=a.createContext({scrollAnchorOptions:babelHelpers["extends"]({},b),scrollIntoViewOptions:babelHelpers["extends"]({},b)});g["default"]=c}),98);
__d("CometUFICommentsAPIConnectionCountUpdater",["FBLogger","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.feedbackId,d=a.feedLocation,e=a.focusCommentID,f=a.modifier,g=a.selectedIntentToken,h=a.store,i=a.topLevelFeedbackId;a=a.totalCommentCountModifier;var j=b;c("isStringNullOrEmpty")(i)||(j=i);var k=f;a!=null&&a!==0&&(k=a);function l(a){c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",j||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(b||"UNKNOWN")+", comments_count_modifier;"+k+", conn_count_modifier;"+f).warn(a)}i=h.get(b);if(i==null){l("could not find feedback record");return}a=h.get(j);if(a==null){l("could not find top level feedback record");return}if(j!==b){l=a==null?void 0:(h=a.getLinkedRecord("comment_rendering_instance",{scenario:"WWW_FEED_TOTAL_COUNT_SCENARIO_V1"}))==null?void 0:h.getLinkedRecord("comments");h=Number((h=l==null?void 0:l.getValue("total_count"))!=null?h:0);h=Math.max(0,h+k);l==null?void 0:l.setValue(h,"total_count")}h=(l=a.getLinkedRecord("comment_rendering_instance_for_feed_location",{focused_comment_id:e,intent_token:g,location:d}))!=null?l:a.getLinkedRecord("comment_rendering_instance_for_feed_location",{focused_comment_id:e,location:d});g=h==null?void 0:h.getLinkedRecord("comments");l=Number(g==null?void 0:g.getValue("count"));a=Number(g==null?void 0:g.getValue("total_count"));g==null?void 0:g.setValue(l+f,"count");g==null?void 0:g.setValue(a+k,"total_count");e=i==null?void 0:i.getLinkedRecord("replies");d=Number(e==null?void 0:e.getValue("count"));e==null?void 0:e.setValue(d+f,"count");l=(h=i.getLinkedRecord("parent_object_ent"))==null?void 0:h.getLinkedRecord("parent_feedback");g=l==null?void 0:l.getLinkedRecord("replies");a=Number(g==null?void 0:g.getValue("count"));g==null?void 0:g.setValue(a+f,"count")}h.decrement=function(a){return h(babelHelpers["extends"]({},a,{modifier:-1}))};h.increment=function(a){return h(babelHelpers["extends"]({},a,{modifier:1}))};a=h;g["default"]=a}),98);
__d("CometUFIComposerPluginsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isComposerFocused:!1,openPopoverCount:0,openPopoverCountChange:function(){},setComposerFocusState:function(){}});g["default"]=b}),98);
__d("CometUFIComposerPreviewArea.react",["FDSCircleButton.react","FDSCrossFilled12Icon","react","react-compiler-runtime","useTriggerAccessibilityAlert"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(26),e,f,g,h,j,k,l;b[0]!==a?(e=a.children,f=a.isDisabled,g=a.label,h=a.onRemove,k=a.removeAnnouncement,l=a.testid,j=babelHelpers.objectWithoutPropertiesLoose(a,["children","isDisabled","label","onRemove","removeAnnouncement","testid"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7]);var m=c("useTriggerAccessibilityAlert")();b[8]!==h||b[9]!==k||b[10]!==m?(a=function(){h(),k!=null&&m(k)},b[8]=h,b[9]=k,b[10]=m,b[11]=a):a=b[11];a=a;var n;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(n="x1qjc9v5 x2bj2ny x1q0q8m5 x1qhh985 xu3j5b3 xcfux6l x26u7qi xm0m39n x13fuv20 x972fbf x9f619 x78zum5 x1q0g3np x1iyjqo2 xs83m0k xat24cr x11i5rnm x1mh8g0r x1xmf6yo x16suv20 xeuugli x1y1aw1k xwib8y2 x4uap5 xkhd6sd x1n2onr6 x1ja2u2z",b[12]=n):n=b[12];var o;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x193iq5w xurb0ha x1sxyh0"},b[13]=o):o=b[13];b[14]!==e?(o=i.jsx("div",babelHelpers["extends"]({},o,{children:e})),b[14]=e,b[15]=o):o=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1sxyh0"},b[16]=e):e=b[16];b[17]!==f||b[18]!==g||b[19]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("FDSCircleButton.react"),{disabled:f,icon:c("FDSCrossFilled12Icon"),label:g,onPress:a,size:24,testid:void 0})})),b[17]=f,b[18]=g,b[19]=a,b[20]=e):e=b[20];b[21]!==j||b[22]!==o||b[23]!==e||b[24]!==l?(f=i.jsxs("div",babelHelpers["extends"]({},j,{className:n,"data-testid":void 0,children:[o,e]})),b[21]=j,b[22]=o,b[23]=e,b[24]=l,b[25]=f):f=b[25];return f}g["default"]=a}),98);
__d("CometUFIConversationGuideContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({addGiphyStickerToComposer:function(){},addStickerToComposer:function(){},getIsComposerEmpty:function(){return!1},onComposerEmptyStateChange:function(){},setAddGiphyStickerToComposer:function(){},setAddStickerToComposer:function(){},setGetIsComposerEmpty:function(){},setOnComposerEmptyStateChange:function(){},setWriteToComposer:function(){},unsetAddGiphyStickerToComposer:function(){},unsetAddStickerToComposer:function(){},unsetOnComposerEmptyStateChange:function(){},unsetWriteToComposer:function(){},writeToComposer:function(){}});g["default"]=b}),98);
__d("CometUFIConversationGuideLoggingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({callerID:"",defaultValue:!0,guideShown:null,sessionID:null,setGuideShown:function(){}});g["default"]=b}),98);
__d("ConversationGuideSuggestionSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2132");b=d("FalcoLoggerInternal").create("conversation_guide_suggestion_selected",a);e=b;g["default"]=e}),98);
__d("ConversationGuideSuggestionVpvFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2133");b=d("FalcoLoggerInternal").create("conversation_guide_suggestion_vpv",a);e=b;g["default"]=e}),98);
__d("CometUFIConversationGuideUtils",["ConversationGuideSuggestionSelectedFalcoEvent","ConversationGuideSuggestionVpvFalcoEvent","FBLogger","XPlatReactEnvironment"],(function(a,b,c,d,e,f,g){"use strict";e=d("XPlatReactEnvironment").isWeb()?"comet_above_composer":"fbvr_above_composer";var h={surface:"comment_composer"};function a(a){c("ConversationGuideSuggestionSelectedFalcoEvent").log(function(){return i(a)})}function b(a){c("ConversationGuideSuggestionVpvFalcoEvent").log(function(){return i(a)})}function i(a){var b=a.callerID,d=a.feedbackID,e=a.id,f=a.index,g=a.sessionID;a=a.suggestionType;if(g==null){var i=c("FBLogger")("conversation_guide");i.mustfix("Logged Comet Conversation Guide event without specifying session ID")}return babelHelpers["extends"]({caller_id:b,feedback_id:d,session_id:g,suggestion_id:e,suggestion_index:f.toString(),suggestion_type:a},h)}g.CALLER_ID=e;g.COMMON_LOGGING_VALUES=h;g.logSuggestionSelected=a;g.logSuggestionImpression=b}),98);
__d("LexicalComposerContext",["cr:509"],(function(a,b,c,d,e,f){e.exports=b("cr:509")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d4f4df497abc7b85a16c829825c1c083>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalComposerContext.prod",["react"],(function $module_LexicalComposerContext_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var e=_require_closure_react||(_require_closure_react=require("react"));var n=e.createContext(null);exports.LexicalComposerContext=n,exports.createLexicalComposerContext=function(e,n){var t=null;return null!=e&&(t=e[1]),{getTheme:function getTheme(){return null!=n?n:null!=t?t.getTheme():null;}};},exports.useLexicalComposerContext=function(){var t=e.useContext(n);return null==t&&function(e){var t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,n=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){n[_key-1]=arguments[_key];}for(var _e of n){r.append("v",_e);}throw t.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(8),t;};}),null);
__d("LexicalHashtag",["cr:2139"],(function(a,b,c,d,e,f){e.exports=b("cr:2139")}),null);
__d("LexicalLink",["cr:2905"],(function(a,b,c,d,e,f){e.exports=b("cr:2905")}),null);
__d("LexicalText",["cr:2181"],(function(a,b,c,d,e,f){e.exports=b("cr:2181")}),null);
__d("LexicalUtils",["cr:2774"],(function(a,b,c,d,e,f){e.exports=b("cr:2774")}),null);
__d("MLCCharacterLimitCountPlugin.react",["LexicalComposerContext","LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=function(a){return a.length};function a(a){var b=a.editor__DEPRECATED,c=a.limit,e=a.onChange;a=a.strlen;var f=a===void 0?j:a,g;if(b)g=b;else{a=d("LexicalComposerContext").useLexicalComposerContext();g=a[0]}i(function(){var a=g.getEditorState().read(function(){return c-f(d("LexicalText").$rootTextContent())});e(a);return g.registerTextContentListener(function(a){a=c-f(a);e(a)})},[g,c,e,f]);return null}g["default"]=a}),98);
__d("MLCInstrumentationCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";b=(a=d("Lexical")).createCommand();c=a.createCommand();e=a.createCommand();f=a.createCommand();g.COMMIT_COMMAND=b;g.INTERACTION_INSTRUMENTATION_READY=c;g.DOCUMENT_COMMAND=e;g.PLUGIN_EVENT_COMMAND=f}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("UserAgent").isPlatform("Mac OS X");b=String.fromCodePoint(h?8984:8963);function a(a){return a!==null&&(h?a.metaKey:a.ctrlKey)}g.COMMAND_UNICODE=b;g.hasCommandModifier=a}),98);
__d("OptimisticLoadingTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({PENDING:"PENDING",SHOW_ANIMATION:"SHOW_ANIMATION",SHOW_LOADER:"SHOW_LOADER",SHOW_POST_PREVIEW:"SHOW_POST_PREVIEW",SHOW_PROGRESS_BAR:"SHOW_PROGRESS_BAR"});f["default"]=a}),66);
__d("UFI2ScaleRect",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i(a,!0)}function b(a){return i(a,!1)}function i(a,b){var c=a.gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero,d=a.maxHeight,e=a.maxWidth,f=a.srcHeight;a=a.srcWidth;!1===c&&(f>0||h(0,5272,f),a>0||h(0,5273,a));d>0||h(0,5274,d);e>0||h(0,5275,e);f=c&&f===0?d:f;c=c&&a===0?e:a;a=e/c;e=d/f;d=b?Math.min(a,e):Math.min(a,e,1);return{height:Math.round(f*d),width:Math.round(c*d)}}g.scaleToContain=a;g.shrinkToContain=b}),98);
__d("edgeIsInConnection",["nodeIsInConnection"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b=b.getLinkedRecord("node");if(b==null){d&&d("Search edge has no node.");return!1}return c("nodeIsInConnection")(a,b,d)}g["default"]=a}),98);
__d("lengthInUTF8Bytes",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=new TextEncoder();return b.encode(a).length}function h(a){var b=encodeURIComponent(a).match(/%[89ABab]/g);return a.length+(b?b.length:0)}a=function(){if(typeof TextEncoder==="undefined")return h;else return g}();f["default"]=a}),66);
__d("useCometLexicalDragAndDrop",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var c=d("react-compiler-runtime").c(8),e=b.onDragEnter,f=b.onDragLeave,g=b.onDragOver,h=b.onDrop,j=b.onPaste,k;c[0]!==a||c[1]!==e||c[2]!==f||c[3]!==g||c[4]!==h||c[5]!==j?(b=function(){if(a!=null)return a.registerRootListener(function(a,b){b!=null&&(e&&b.removeEventListener("dragenter",e),f&&b.removeEventListener("dragleave",f),g&&b.removeEventListener("dragover",g),h&&b.removeEventListener("drop",h,!0),j&&b.removeEventListener("paste",j,!0)),a!==null&&(e&&a.addEventListener("dragenter",e),f&&a.addEventListener("dragleave",f),g&&a.addEventListener("dragover",g),h&&a.addEventListener("drop",h,!0),j&&a.addEventListener("paste",j,!0))})},k=[a,e,f,g,h,j],c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=j,c[6]=b,c[7]=k):(b=c[6],k=c[7]);i(b,k)}g["default"]=a}),98);
__d("useCometLexicalFileDragAndDrop",["react","react-compiler-runtime","useCometLexicalDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a){var b=d("react-compiler-runtime").c(26),e=a.editor,f=a.isMimeTypeAcceptable,g=a.onHover;a=a.onSubmit;var h=g===void 0?l:g,m=a===void 0?k:a,n=i(0);b[0]!==f?(g=function(a){return Array.from(a).filter(f)},b[0]=f,b[1]=g):g=b[1];var o=g;b[2]!==o||b[3]!==h?(a=function(a){n.current=n.current+1;var b=a.dataTransfer;if(b==null)return h([],!0);b=o(b.items);b.length>0&&a.preventDefault();return h(b,!0)},b[2]=o,b[3]=h,b[4]=a):a=b[4];g=a;b[5]!==h?(a=function(a){n.current=n.current-1;if(n.current===0)return h([],!1)},b[5]=h,b[6]=a):a=b[6];a=a;var p;b[7]!==o||b[8]!==h?(p=function(a){var b=a.dataTransfer;if(b==null)return h([],!0);b=o(b.items);b.length>0&&a.preventDefault();return h(b,!0)},b[7]=o,b[8]=h,b[9]=p):p=b[9];p=p;var q;b[10]!==o||b[11]!==m?(q=function(a,b){b=o(b.items);b=b.map(j).filter(Boolean);if(b.length>0){a.stopPropagation();a.preventDefault();return m(b)}else return m([])},b[10]=o,b[11]=m,b[12]=q):q=b[12];var r=q;b[13]!==r||b[14]!==h||b[15]!==m?(q=function(a){var b=a.dataTransfer;n.current=0;h([],!1);if(b!=null)return r(a,b);else return m([])},b[13]=r,b[14]=h,b[15]=m,b[16]=q):q=b[16];q=q;var s;b[17]!==r||b[18]!==m?(s=function(a){var b=a.clipboardData;if(b==null)return m([]);var c=b.types;c=c.includes("text/plain")&&c.includes("text/html")||c.includes("text/rtf");return c?m([]):r(a,b)},b[17]=r,b[18]=m,b[19]=s):s=b[19];s=s;var t;b[20]!==g||b[21]!==a||b[22]!==p||b[23]!==q||b[24]!==s?(t={onDragEnter:g,onDragLeave:a,onDragOver:p,onDrop:q,onPaste:s},b[20]=g,b[21]=a,b[22]=p,b[23]=q,b[24]=s,b[25]=t):t=b[25];c("useCometLexicalDragAndDrop")(e,t)}function j(a){return a.getAsFile()}function k(){}function l(){}g["default"]=a}),98);
__d("useCometUFIReplyActionConfig_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c=[b];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"useCometUFIReplyActionConfig_comment",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:c,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:c,type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("useCometUFIReplyActionConfig",["CometRelay","react","useCometUFIReplyActionConfig_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function a(a){var c=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometUFIReplyActionConfig_comment.graphql"),a);return j(function(){if(c==null)return null;var a=c.author,b=c.feedback,d=c.id,e=c.is_author_weak_reference,f=c.legacy_fbid,g=c.url;a=a!=null&&a.id!=null&&a.name!=null?{authorId:a.id,authorIsWeakReference:!!e,authorName:a.name,authorType:a.__typename,authorUrl:(e=a.url)!=null?e:""}:null;return{authorData:a,commentComposerPlaceholderText:b==null?void 0:b.comment_composer_placeholder,commentId:d,commentLegacyId:f,commentUrl:g}},[c])}g["default"]=a}),98);
__d("useDeferredModuleOnReady",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b?(e=function(){return b.getModuleIfRequireable()},c[0]=b,c[1]=e):e=c[1];e=j(e);var a=e[0],g=e[1],h;c[2]!==b||c[3]!==a?(e=function(){if(a!=null)return;var c=b.onReady(function(a){g(function(){return a})});return function(){c.remove()}},h=[b,a],c[2]=b,c[3]=a,c[4]=e,c[5]=h):(e=c[4],h=c[5]);i(e,h);return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FtsFetchEbMessagesEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6752");b=d("FalcoLoggerInternal").create("fts_fetch_eb_messages_end",a);e=b;g["default"]=e}),98);
__d("FtsFetchEbMessagesPageEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6753");b=d("FalcoLoggerInternal").create("fts_fetch_eb_messages_page_end",a);e=b;g["default"]=e}),98);
__d("FtsFetchEbMessagesPageStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6754");b=d("FalcoLoggerInternal").create("fts_fetch_eb_messages_page_start",a);e=b;g["default"]=e}),98);
__d("FtsFetchEbMessagesStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6755");b=d("FalcoLoggerInternal").create("fts_fetch_eb_messages_start",a);e=b;g["default"]=e}),98);
__d("FtsFetchOccamThreadsEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6776");b=d("FalcoLoggerInternal").create("fts_fetch_occam_threads_end",a);e=b;g["default"]=e}),98);
__d("FtsFetchOccamThreadsPageEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6777");b=d("FalcoLoggerInternal").create("fts_fetch_occam_threads_page_end",a);e=b;g["default"]=e}),98);
__d("FtsFetchOccamThreadsPageStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6778");b=d("FalcoLoggerInternal").create("fts_fetch_occam_threads_page_start",a);e=b;g["default"]=e}),98);
__d("FtsFetchOccamThreadsStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6779");b=d("FalcoLoggerInternal").create("fts_fetch_occam_threads_start",a);e=b;g["default"]=e}),98);
__d("LSIssueFetchAndIndexMessageRangeTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueFetchAndIndexMessageRangeTaskStoredProcedure] Beginning execution."),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[13]=new c.Map(),d[13].set("error_msg","Expected a nonempty query result"),d[13].set("code",c.i64.cast([0,3])),d[13].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[14]=c.createArray(),d[15]=(d[14].push(d[13]),d[14]),e=[void 0,d[14]],d[1]=e[0],d[2]=e[1],e):(b=a.item,d[13]=new c.Map(),d[13].set("backup_id",b.backupId),d[13].set("device_public_key_blob",b.devicePublicKeyBlob),d[13].set("device_private_key_blob",b.devicePrivateKeyBlob),d[13].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[13].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[13].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[13].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[13].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[13].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[13].set("orf_client_state_v2_blob",void 0),d[13].set("orf_v2_authority_level",void 0),d[13].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[13].set("device_id",b.deviceId),d[13].set("backup_tenancy",b.backupTenancy),d[13].set("encryption_version",b.encryptionVersion),d[13].set("revision_version",b.revisionVersion),d[13].set("initialize_restore_result",void 0),d[13].set("device_creation_timestamp_sec",void 0),d[13].set("authority_level",b.authorityLevel),e=[d[13],void 0],d[1]=e[0],d[2]=e[1],e)})},function(e){return d[4]=new c.Map(),d[4].set("value",d[1]),d[4].set("errors",d[2]),d[5]=d[4].get("value"),d[5]!==void 0?c.sequence([function(e){return d[13]=d[5].get("backup_id"),d[14]=d[5].get("device_public_key_blob"),d[15]=d[5].get("device_private_key_blob"),d[16]=d[5].get("epoch_storage_public_key_blob"),d[17]=d[5].get("epoch_storage_private_key_blob"),d[18]=d[5].get("epoch_auth_public_key_blob"),d[19]=d[5].get("epoch_auth_private_key_blob"),d[20]=d[5].get("mailbox_root_key_blob"),d[21]=d[5].get("ocmf_client_state_blob"),d[22]=d[5].get("orf_client_state_v2_blob"),d[23]=d[5].get("orf_v2_authority_level"),d[24]=d[5].get("oblivious_validation_token_blob"),d[25]=d[5].get("device_id"),d[26]=d[5].get("backup_tenancy"),d[27]=d[5].get("encryption_version"),d[28]=d[5].get("revision_version"),d[29]=d[5].get("initialize_restore_result"),d[30]=d[5].get("device_creation_timestamp_sec"),d[31]=d[5].get("authority_level"),c.i64.neq(d[25],void 0)?c.sequence([function(a){return d[33]=void 0,c.i64.neq(d[33],void 0)?c.resolve(d[34]=d[33]):c.sequence([function(a){return d[53]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[63]=(d[53].push(c.i64.cast([0,0])),d[53]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[63]=(d[53].push(c.i64.cast([0,2])),d[53]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[56]?d[63]=(d[53].push(c.i64.cast([0,3])),d[53]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[57]?d[63]=(d[53].push(c.i64.cast([0,4])),d[53]):0,d[58]=c.createArray(),d[59]=c.i64.of_int32(d[53].length),c.i64.gt(d[59],c.i64.cast([0,0]))?c.loopAsync(d[59],function(a){return d[63]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[53],d[63]).then(function(a){return a=a,d[64]=a[0],d[65]=a[1],a})},function(a){return d[66]=(d[58].push(d[64]),d[58])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[63]=c.createArray(),d[64]=c.i64.of_int32(d[58].length),c.i64.gt(d[64],c.i64.cast([0,0]))?c.loopAsync(d[64],function(a){return d[66]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[58],d[66]).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(a){return d[69]=(d[63].push(c.i64.to_string(d[67])),d[63])}])}):c.resolve()},function(a){return d[65]=d[63].join(","),d[60]=d[65]}])},function(a){return d[58].some(function(a){return c.i64.eq(d[27],a)})?d[61]=d[27]:d[61]=void 0,c.i64.neq(d[61],void 0)?d[62]=d[61]:d[62]=void 0,d[34]=d[62]}])},function(a){return c.i64.neq(d[34],void 0)?d[35]=d[34]:d[35]=c.i64.cast([0,0]),c.i64.neq(d[26],void 0)?d[36]=d[26]:d[36]=c.i64.cast([0,1]),c.i64.eq(d[36],c.i64.cast([0,3]))?d[37]=c.i64.cast([0,4]):d[37]=c.i64.cast([0,0]),c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[20]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[40]=new c.Map(),d[40].set("ocmf_client_state_blob",d[38]==null?"":d[38]),d[40].set("mailbox_root_key",d[39]==null?"":d[39]),d[41]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[53]=(d[41].push(a.epochId),d[41])})},function(a){return d[51]="Queried locally available epochs. Count: ",d[42]=c.i64.of_int32(d[41].length),d[52]=c.i64.to_string(d[42]),d[43]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[43],d[51],d[43],d[52]].join("")),c.resolve()},function(e){return d[44]=new c.Map(),d[44].set("device_id",d[25]),d[44].set("raw_tokens",d[40]),d[44].set("locally_available_epochs",d[41]),d[45]=new c.Map(),d[45].set("act_thread_id",a[0]),d[45].set("request_id",a[3]),d[45].set("tam_thread_subtype",d[37]),d[45].set("source",c.i64.cast([0,43])),d[46]=new c.Map(),d[46].set("reference_timestamp",a[2]),d[46].set("direction",c.i64.cast([0,1])),d[46].set("server_thread_key",void 0),d[46].set("device_context",d[44]),d[46].set("source",c.i64.cast([0,43])),d[47]=new c.Map(),d[47].set("restore_context",d[45]),d[47].set("success",d[46]),d[48]=d[47].get("queue_name"),d[48]!==void 0?d[49]=d[48]:(d[53]=d[47].get("restore_context"),d[54]=d[53].get("act_thread_id"),d[49]=["encrypted_backups_restore",":",d[54]].join("")),d[50]=c.toJSON(d[47]),c.storedProcedure(b("LSIssueNewTask"),d[49],c.i64.cast([0,50030]),d[50],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[32]=!0}]):c.sequence([function(e){return d[33]=new c.Map(),d[33].set("error_code",c.i64.cast([0,1])),d[33].set("error_message",void 0==null?"":void 0),d[33].set("stored_procedure","issueFetchAndIndexMessageRangeTask"),d[34]=new c.Map(),d[34].set("act_thread_id",a[0]),d[34].set("source",c.i64.cast([0,43])),d[34].set("restore_operation_type",c.i64.cast([0,2])),d[34].set("request_id",void 0),d[34].set("device_id",void 0),d[35]=new c.Map(),d[35].set("restore_context",d[34]),d[35].set("failure",d[33]),d[36]=d[35].get("queue_name"),d[36]!==void 0?d[37]=d[36]:(d[40]=d[35].get("restore_context"),d[41]=d[40].get("act_thread_id"),d[37]=["encrypted_backups_restore",":",d[41]].join("")),d[38]=c.toJSON(d[35]),c.storedProcedure(b("LSIssueNewTask"),d[37],c.i64.cast([0,50030]),d[38],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[39]="backup not found",d[39]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueFetchAndIndexMessageRangeTaskStoredProcedure] ","",d[39]].join("")),d[40]=c.createArray(),void 0!==void 0?d[41]=(d[40].push(void 0),d[40]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueFetchAndIndexMessageRangeTaskStoredProcedure",d[39],d[40],c.i64.cast([0,3]))):c.resolve()},function(a){return d[32]=!1}])},function(a){return d[6]=d[32]}]):c.sequence([function(e){return d[13]=d[4].get("errors"),d[14]=d[4].get("errors"),d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,1])),d[15].set("error_message",void 0==null?"":void 0),d[15].set("stored_procedure","issueFetchAndIndexMessageRangeTask"),d[16]=new c.Map(),d[16].set("act_thread_id",a[0]),d[16].set("source",c.i64.cast([0,43])),d[16].set("restore_operation_type",c.i64.cast([0,2])),d[16].set("request_id",void 0),d[16].set("device_id",void 0),d[17]=new c.Map(),d[17].set("restore_context",d[16]),d[17].set("failure",d[15]),d[18]=d[17].get("queue_name"),d[18]!==void 0?d[19]=d[18]:(d[22]=d[17].get("restore_context"),d[23]=d[22].get("act_thread_id"),d[19]=["encrypted_backups_restore",":",d[23]].join("")),d[20]=c.toJSON(d[17]),c.storedProcedure(b("LSIssueNewTask"),d[19],c.i64.cast([0,50030]),d[20],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[21]="backup not found",d[21]!==void 0?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueFetchAndIndexMessageRangeTaskStoredProcedure] ","",d[21]].join("")),d[22]=c.createArray(),void 0!==void 0?d[23]=(d[22].push(void 0),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueFetchAndIndexMessageRangeTaskStoredProcedure",d[21],d[22],c.i64.cast([0,3]))):c.resolve()},function(a){return d[6]=!1}])},function(a){return d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueFetchAndIndexMessageRangeTaskStoredProcedure] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueFetchAndIndexMessageRangeTaskStoredProcedure",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueFetchAndIndexMessageRangeTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSIssueFetchAndIndexMessageRangeTaskStoredProcedure",["LSIssueFetchAndIndexMessageRangeTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueFetchAndIndexMessageRangeTask"),e.threadId,e.numMessages,e.startSortKey,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWFTSEncryptedBackupLightweightRestore",["EBIsEbEnabled","LSFactory","LSIssueFetchAndIndexMessageRangeTaskStoredProcedure","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MAWBridgeSendAndReceive","MAWEBRestoreTrackingUtils","MAWMainTraceUtils","MAWMpsGating","MWEncryptedBackUpEBNotEnabledError","Promise","emptyFunction","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g,j,k){j===void 0&&(j=c("emptyFunction"));if(!c("gkx")("23914"))return null;var l=d("MAWMainTraceUtils").createTraceId();c("promiseDone")(d("EBIsEbEnabled").isEbEnabledLS(a.tables).then(function(m){if(!m){d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(l,c("err")(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED));return(h||(h=b("Promise"))).resolve()}return i(l,a,e,f,g,j,k)}));return l}function i(a,e,g,i,j,k,l){k===void 0&&(k=c("emptyFunction"));k();return c("gkx")("8971")||d("MAWMpsGating").isFullMpsEnabled()?d("MAWBridgeSendAndReceive").sendAndReceive("backend","issueGraphQLRangeRestoreRequest",{chatJid:l,direction:"before",sortOrderMs:i!=null?i:void 0,source:c("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB,threadId:g,traceId:a}).then(function(e){if(e.loadMessagesResponse!=null)d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryIfPresent(a,e.loadMessagesResponse);else{d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(a,c("err")((e=e.error)!=null?e:"Error restoring from EB over graphQL in worker"))}return(h||(h=b("Promise"))).resolve()}):e.runInTransaction(function(b){d("MAWEBRestoreTrackingUtils").markEBRestoreSearch({querySource:"LS",traceId:a});return c("LSIssueFetchAndIndexMessageRangeTaskStoredProcedure")(c("LSFactory")(b),{numMessages:j,startSortKey:i==null?void 0:i,threadId:g,traceId:a})},"readwrite",void 0,void 0,f.id+":108")}g.runQuery=a}),98);
__d("MAWAsyncEBIssueFetchAndIndexFTSQuery",["MAWAsyncEBPendingQueryPromise","MAWFTSEncryptedBackupLightweightRestore","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f){f===void 0&&(f=function(){});var g=d("WAJids").threadIdForChatJid(b);a=d("MAWFTSEncryptedBackupLightweightRestore").runQuery(a,g,c,e,f,b);if(a==null)return null;d("MAWAsyncEBPendingQueryPromise").setJidFromThreadId(g,b);return{promise:d("MAWAsyncEBPendingQueryPromise").getPendingQueryPromiseFromTrace(a),traceId:a}}g.issueQueryAsPromise=a}),98);
__d("MAWEncryptedBackupsUpdateGlobalRestoreStatus",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Thread with thread id "," is not currently being tracked, but restore seems to be in progress"]);h=function(){return a};return a}var i=new Set(),j=new Set();function k(a){if(a==="restore")return i;else return j}function a(a,b){b=k(b);b.add(a)}function b(a,b){b=k(b);b.has(a)?b["delete"](a):d("WALogger").WARN(h(),a)}function c(a){a=k(a);return a.size}g.addThreadIdToStatusArray=a;g.removeThreadIdFromStatusArray=b;g.getCurrentGlobalRestoreStatusArrayLength=c}),98);
__d("MAWFTSRestoreCap",["WATimeUtils","justknobx"],(function(a,b,c,d,e,f,g){"use strict";b=c("justknobx")._("1658");e=d("WATimeUtils").DAY_MILLISECONDS*b;var h=Date.now()-e;function a(a){return a>h}g.RESTORE_CAP_DATE_MS=h;g.isRestoreTimeWithinCap=a}),98);
__d("MAWMediaGalleryBufferAndRestore",[],(function(a,b,c,d,e,f){"use strict";var g=null,h=[],i=[],j=[],k=null,l=2e3,m=10;function a(a,b,c,d,e,f,n,o,p,q){q==null?void 0:q.addPoint("buffer_and_restore_protobuf_start");var r=function(){var g;h=h.concat(b);i=i.concat((g=c)!=null?g:[]);q!=null&&j.push(q);h.length>=m?(j.forEach(function(a){return a.addPoint("buffer_and_restore_protobuf_end",{string:{reason:"max_buffer_size"}})}),void p(a,h,i,d,e,f,n,o,j),h=[],i=[],j=[]):k=window.setTimeout(function(){var b=[].concat(h),c=[].concat(i),g=[].concat(j);g.forEach(function(a){return a.addPoint("buffer_and_restore_protobuf_end",{string:{reason:"timeout"}})});void p(a,b,c,d,e,f,n,o,g);h=[];i=[];j=[]},l)},s=function(){window.clearTimeout(k);var a=h.map(function(a){return a}),b=i.map(function(a){return a}),c=[].concat(j),l=g;l!=null&&(c.forEach(function(a){return a.addPoint("buffer_and_restore_protobuf_end",{string:{reason:"immediately"}})}),void p(l,a,b,d,e,f,n,o,c));h=[];i=[];j=[]};if(a!==g){s();g=a;r();return}if(h.length===0)r();else{h=h.concat(b);i=i.concat((r=c)!=null?r:[]);q!=null&&j.push(q);h.length>=m&&s()}}f.bufferAndRestoreProtobuf=a}),66);
__d("MAWRestoreMessagesFromEncryptedBackupsDeferred",["ExecutionEnvironment","LSDatabaseSingleton","LSVec","WAJobOrchestratorTypes","cr:10036","cr:9465","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWRestoreMessagesFromEncryptedBackupsNOP").__setRef("MAWRestoreMessagesFromEncryptedBackupsDeferred");function a(a,e,g,k,l,m,n,o,p,q,r,s){s===void 0&&(s=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);return j.load().then(async function(j){var t=q!=null?Number(q):void 0;t=b("cr:9465")!=null?b("cr:9465").getMessageMetadataFromDeanonAPI(e,g.length,t):Promise.resolve();var u,v;(i||(i=c("ExecutionEnvironment"))).isInWorker&&b("cr:10036")!=null?(await b("cr:10036").init(),u=await b("cr:10036").getLSStorage()):(u=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,v=await t);return u.runInTransaction(function(b){return j.call(b,a,e,g,k,l,m,n,o,p,q,r,v,s,void 0)},"readwrite",void 0,void 0,f.id+":71").then(function(){return[c("LSVec").ofArray([]),c("LSVec").ofArray([]),!1]})})}g.call=a}),98);
__d("MWMediaRestoreStatus",["I64","LSDatabaseSingleton","MAWChatJid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={mediaCount:0,messageCount:0,threadId:(h||(h=d("I64"))).zero};async function a(a,b,c){var e=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;e=await e.runInTransaction(function(b){return d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(b,(h||(h=d("I64"))).of_string(a))},"readwrite",void 0,void 0,f.id+":35");if(j.threadId===e)j.messageCount+=b,j.mediaCount+=c;else{j.messageCount=b;j.mediaCount=c;j.threadId=(b=e)!=null?b:(h||(h=d("I64"))).zero}}function b(){return j}g.updateRestoreStatus=a;g.getRestoreStatus=b}),98);
__d("MAWMediaGalleryRestoreSync",["CurrentUser","EchoMessage","EchoMessageMediaFieldUtils","I64","LSDatabaseSingleton","LSIntEnum","LSMEBTaskCreationSource","LSThreadMediaGalleryGroup","MAWChatJid","MAWFTSRestoreSync","MAWHandleEchoProtobufsRestoreApi","MAWJids","MAWJobDefinitions","MAWMediaGalleryBufferAndRestore","MAWMediaGalleryEBTaggingUtils","MAWMediaGalleryM2Utils","MAWRestoreMessagesFromEncryptedBackupsDeferred","MAWRestoreProtobufsFromEncryptedBackupsDeferred","MWMediaRestoreStatus","ReQL","WAJobOrchestratorTypes","WALogger","WAMsgType","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore RestoreType is none"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore Protobuf error: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore Protobuf error: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore: protobufMessages is null"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore Echo error: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore: echoMessages is null"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaRestore: threadId is null"]);q=function(){return a};return a}async function a(a,b){var e=a.echoMessages,g=a.hasMoreAfter,j=a.hasMoreBefore,s=a.isPointQuery,t=a.protobufMessages,u=a.referenceTimestamp,v=a.requestId,w=a.restoreType,x=a.threadId;if(x==null){b==null?void 0:b.endFailure("threadId is null");d("WALogger").ERROR(q());return}b==null?void 0:b.addAnnotations({string:{restore_type:w}});b==null?void 0:b.addPoint("handle_media_restore_sync_start");var y=!d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryEBTaggingRestoreEnabled();if(w==="echo"){var z;if(e==null){b==null?void 0:b.endFailure("echoMessages is null");d("WALogger").ERROR(p());return}b==null?void 0:b.addPoint("messages_decoding_and_filtering_start");a=e.filter(function(a){a=d("EchoMessage").decodeEchoMessage(a);return y?(a==null?void 0:a.contentType)===d("EchoMessage").EchoMessageContentType.MEDIA:(a==null?void 0:(a=a.mediaData)==null?void 0:a.attachmentType)===d("EchoMessageMediaFieldUtils").AttachmentType.DOCUMENT});b==null?void 0:b.addPoint("messages_decoding_and_filtering_end");a.length>0&&d("MAWMediaGalleryM2Utils").shouldSkipSyncToLSDB()&&d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!0);b==null?void 0:b.addAnnotations({int:{media_count:a.length,message_count:e.length}});b==null?void 0:b.addPoint("update_media_restore_status_start");await d("MWMediaRestoreStatus").updateRestoreStatus(x,e.length,a.length);b==null?void 0:b.addPoint("update_media_restore_status_end");b==null?void 0:b.addPoint("restore_messages_in_worker_start",{int:{echo_msg_count:(z=e==null?void 0:e.length)!=null?z:0,protobuf_msg_count:a.length}});c("promiseDone")(d("MAWRestoreMessagesFromEncryptedBackupsDeferred").call("AdvancedCrypto",d("MAWJobDefinitions").toThreadJidPrimaryId(x),a.map(d("MAWJobDefinitions").toEncodedEchoMessage),j,void 0,g,void 0,s,v,u,c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE,c("justknobx")._("3213")?d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION).catch(function(a){b==null?void 0:b.endFailure(a),d("WALogger").ERROR(o(),a)}),function(){b==null?void 0:b.addPoint("restore_messages_in_worker_end"),d("MAWMediaGalleryM2Utils").shouldSkipSyncToLSDB()?(b==null?void 0:b.addPoint("restore_messages_update_ranges_start"),c("promiseDone")((h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(async function(a){b==null?void 0:b.addPoint("update_range_get_thread_key_start");var e=await a.runInTransaction(function(a){return d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(i||(i=d("I64"))).of_string(x))},"readonly",void 0,void 0,f.id+":159");b==null?void 0:b.addPoint("update_range_get_thread_key_end");if(e==null){b==null?void 0:b.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!1}});return}return Promise.all([r(a,e,c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),r(a,e,c("LSThreadMediaGalleryGroup").FILES_ONLY)])}).then(function(){d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!1),b==null?void 0:b.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!0}}),b==null?void 0:b.addPoint("handle_media_restore_sync_end"),b==null?void 0:b.endSuccess()}))):(b==null?void 0:b.addPoint("handle_media_restore_sync_end"),b==null?void 0:b.endSuccess())})}else if(w==="protobuf"){if(t==null){b==null?void 0:b.endFailure("protobufMessages is null");d("WALogger").ERROR(n());return}b==null?void 0:b.addPoint("get_user_jid_start");var A=d("MAWJids").toUserJid(c("CurrentUser").getAccountID());b==null?void 0:b.addPoint("get_user_jid_end");b==null?void 0:b.addPoint("messages_decoding_and_filtering_start");z=t.filter(function(a){a=d("MAWHandleEchoProtobufsRestoreApi").decodeDecryptedMessageProtobuf(a,A,void 0,new Set(),new Set(),new Map(),new Map(),new Map(),!0);return y&&[d("WAMsgType").MSG_TYPE.IMAGE,d("WAMsgType").MSG_TYPE.VIDEO].includes(a.msgType)||a.msgType===d("WAMsgType").MSG_TYPE.DOCUMENT_FILE&&d("MAWMediaGalleryM2Utils").isFilesEBRestoreEnabled()});b==null?void 0:b.addPoint("messages_decoding_and_filtering_end");z.length>0&&d("MAWMediaGalleryM2Utils").shouldSkipSyncToLSDB()&&d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!0);b==null?void 0:b.addAnnotations({int:{media_count:z.length,message_count:t.length}});b==null?void 0:b.addPoint("update_media_restore_status_start");await d("MWMediaRestoreStatus").updateRestoreStatus(x,t.length,z.length);b==null?void 0:b.addPoint("update_media_restore_status_end");if(c("justknobx")._("3248")){a=function(a,b,e,g,j,k,l,n,o){var p;if(((p=e==null?void 0:e.length)!=null?p:0)===0&&b.length===0){o.forEach(function(a){a.addPoint("restore_messages_in_worker_skipped"),a.endSuccess()});return}o.forEach(function(a){return a.addPoint("restore_messages_in_worker_start",{int:{echo_msg_count:(a=e==null?void 0:e.length)!=null?a:0,protobuf_msg_count:b.length}})});c("promiseDone")(d("MAWRestoreProtobufsFromEncryptedBackupsDeferred").call("AdvancedCrypto",d("MAWJobDefinitions").toThreadJidPrimaryId(a),b,g,void 0,j,void 0,k,l,n,void 0,e,(i||(i=d("I64"))).of_int32(c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE),c("justknobx")._("3213")?d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION,void 0).catch(function(a){o.forEach(function(b){return b.endFailure(a)}),d("WALogger").ERROR(m(),a)}),function(){o.forEach(function(a){return a.addPoint("restore_messages_in_worker_end")}),d("MAWMediaGalleryM2Utils").shouldSkipSyncToLSDB()?(o.forEach(function(a){return a.addPoint("restore_messages_update_ranges_start")}),c("promiseDone")((h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(async function(a){o.forEach(function(a){return a.addPoint("update_range_get_thread_key_start")});var b=await a.runInTransaction(function(a){return d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(i||(i=d("I64"))).of_string(x))},"readonly",void 0,void 0,f.id+":336");o.forEach(function(a){return a.addPoint("update_range_get_thread_key_end")});if(b==null){o.forEach(function(a){return a.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!1}})});return}return Promise.all([r(a,b,c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),r(a,b,c("LSThreadMediaGalleryGroup").FILES_ONLY)])}).then(function(){d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!1),o.forEach(function(a){return a.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!0}})}),o.forEach(function(a){return a.addPoint("handle_media_restore_sync_end")}),o.forEach(function(a){return a.endSuccess()})}))):(o.forEach(function(a){return a.addPoint("handle_media_restore_sync_end")}),o.forEach(function(a){return a.endSuccess()}))})};d("MAWMediaGalleryBufferAndRestore").bufferAndRestoreProtobuf(x,z,e,j,g,s,v,u,a,b)}else{b==null?void 0:b.addPoint("restore_messages_in_worker_start",{int:{echo_msg_count:(w=e==null?void 0:e.length)!=null?w:0,protobuf_msg_count:z.length}});c("promiseDone")(d("MAWRestoreProtobufsFromEncryptedBackupsDeferred").call("AdvancedCrypto",d("MAWJobDefinitions").toThreadJidPrimaryId(x),z,j,void 0,g,void 0,s,v,u,void 0,e,(i||(i=d("I64"))).of_int32(c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE),c("justknobx")._("3213")?d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION,void 0).catch(function(a){b==null?void 0:b.endFailure(a),d("WALogger").ERROR(l(),a)}),function(){b==null?void 0:b.addPoint("restore_messages_in_worker_end"),d("MAWMediaGalleryM2Utils").shouldSkipSyncToLSDB()?(b==null?void 0:b.addPoint("restore_messages_update_ranges_start"),c("promiseDone")((h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(async function(a){b==null?void 0:b.addPoint("update_range_get_thread_key_start");var e=await a.runInTransaction(function(a){return d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(i||(i=d("I64"))).of_string(x))},"readonly",void 0,void 0,f.id+":443");b==null?void 0:b.addPoint("update_range_get_thread_key_end");if(e==null){b==null?void 0:b.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!1}});return}return Promise.all([r(a,e,c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),r(a,e,c("LSThreadMediaGalleryGroup").FILES_ONLY)])}).then(function(){d("MAWFTSRestoreSync").MAWGalleryEventEmitter.emit("isPersisting",!1),b==null?void 0:b.addPoint("restore_messages_update_ranges_end",{bool:{is_updated:!0}}),b==null?void 0:b.addPoint("handle_media_restore_sync_end"),b==null?void 0:b.endSuccess()}))):(b==null?void 0:b.addPoint("handle_media_restore_sync_end"),b==null?void 0:b.endSuccess())})}}else b==null?void 0:b.endFailure("RestoreType is none"),d("WALogger").ERROR(k())}function r(a,b,c){return d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryEBTaggingRestoreEnabled()&&d("MAWMediaGalleryEBTaggingUtils").isMediaGalleryGroupSupportedForTaggedRestore(c)?Promise.resolve():a.runInTransaction(async function(e){var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.attachments_ranges_v2__generated).getKeyRange(b).filter(function(a){return(i||(i=d("I64"))).equal(a.mediaGroup,(j||(j=d("LSIntEnum"))).ofNumber(c))}));if(f==null||(f==null?void 0:f.hasMoreBefore)===!0)return;var g=babelHelpers.extends({},f,{hasMoreBefore:!0});return e.attachments_ranges_v2__generated.upsert([f.threadKey,f.mediaGroup,f.minTimestampMs],g)},"readwrite","ui",void 0,f.id+":511")}g.handleMediaRestoreSync=a}),98);
__d("MAWFTSRestoreSyncLogger",["FtsFetchEbMessagesEndFalcoEvent","FtsFetchEbMessagesPageEndFalcoEvent","FtsFetchEbMessagesPageStartFalcoEvent","FtsFetchEbMessagesStartFalcoEvent","FtsFetchOccamThreadsEndFalcoEvent","FtsFetchOccamThreadsPageEndFalcoEvent","FtsFetchOccamThreadsPageStartFalcoEvent","FtsFetchOccamThreadsStartFalcoEvent","MAWBridgeSendAndReceive"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=new Set(),j=null,k=!1,l=0,m=0;async function a(){if(j!=null&&j!=="")return;j=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchGetFTSRestoreSessionId")}function b(a,b,d){if(!b||i.has(a)){i.add(a);return}h.has(a)||(h.add(a),d&&c("FtsFetchEbMessagesStartFalcoEvent").log(function(){var a;return{app_name:"",session_id:(a=j)!=null?a:""}}));c("FtsFetchEbMessagesPageStartFalcoEvent").log(function(){var a;return{app_name:"",session_id:(a=j)!=null?a:""}})}function e(a,b,d){if(i.has(a)||!h.has(a))return;c("FtsFetchEbMessagesPageEndFalcoEvent").log(function(){var a;return{app_name:"",messages_count:b.toString(),session_id:(a=j)!=null?a:""}});d||(i.add(a),c("FtsFetchEbMessagesEndFalcoEvent").log(function(){var a;return{app_name:"",duration:0,session_id:(a=j)!=null?a:"",total_messages_count:"0"}}))}function f(a){if(i.has(a)||!h.has(a))return;c("FtsFetchEbMessagesPageEndFalcoEvent").log(function(){var a;return{app_name:"",messages_count:"0",session_id:(a=j)!=null?a:""}})}function n(){c("FtsFetchOccamThreadsEndFalcoEvent").log(function(){var a;return{app_name:"",duration:0,remaining_threads_count:m.toString(),session_id:(a=j)!=null?a:"",total_threads_count:l.toString()}})}function o(){k||(k=!0,c("FtsFetchOccamThreadsStartFalcoEvent").log(function(){var a;return{app_name:"",session_id:(a=j)!=null?a:""}})),c("FtsFetchOccamThreadsPageStartFalcoEvent").log(function(){var a;return{app_name:"",session_id:(a=j)!=null?a:""}})}function p(a){c("FtsFetchOccamThreadsPageEndFalcoEvent").log(function(){var b;return{app_name:"",session_id:(b=j)!=null?b:"",thread_count:a.toString()}})}function q(a){l++,a||m++}g.initLoggingSessionId=a;g.onFetchMessagePageStart=b;g.onFetchMessagePageComplete=e;g.onFetchMessagePageFailed=f;g.onFetchThreadsComplete=n;g.onFetchThreadsPageStart=o;g.onFetchThreadsPageComplete=p;g.incrementTotalResultCount=q}),98);
__d("MWMediaRestoreQplUtils",["MAWLoggerUtils","MAWMediaGalleryM2Utils","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=18e4;function i(a){var b=d("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},addPoint:function(d,e){c("QPLUserFlow").addPoint(a,d,{data:e,instanceKey:b})},endCancel:function(d){c("QPLUserFlow").endCancel(a,{cancelReason:d,instanceKey:b})},endFailure:function(d){c("QPLUserFlow").endFailure(a,d,{instanceKey:b})},endSuccess:function(){c("QPLUserFlow").endSuccess(a,{instanceKey:b})},start:function(){c("QPLUserFlow").start(a,{instanceKey:b,timeoutInMs:h})}}}function a(){var a=d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled(),b=c("qpl")._(25304794,"2287");return a?i(b):null}function b(){var a=c("qpl")._(25306381,"2492");return i(a)}g.createMediaRestoreBatchQPLFlow=a;g.createMediaRestoreLoadAllQPLFlow=b}),98);
__d("MAWFTSRestoreSync",["EventEmitter","FBLogger","I64","LSDatabaseSingleton","MAWAsyncEBIssueFetchAndIndexFTSQuery","MAWBridgeFireAndForget","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWDbMsg","MAWFTSIsMessageValidForSearch","MAWFTSRestoreCap","MAWFTSRestoreSyncLogger","MAWLoggerUtils","MAWMediaGalleryM2Utils","MAWMediaGalleryRestoreSync","MWEncryptedBackUpEBNotEnabledError","MWMediaRestoreQplUtils","QPLUserFlow","WAPromiseDelays","WAResultOrError","cr:19810","isEbEnabledWithIGDEligibilityCheck","justknobx","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(c("EventEmitter"))(),k=(h||(h=d("I64"))).of_int32(c("justknobx")._("2477")),l=c("justknobx")._("2606"),m=c("uuidv4")();function n(){window.setInterval(function(){d("MAWBridgeFireAndForget").fireAndForget("backend","searchFTSReportTabAlive",{hasFocus:document.hasFocus(),tabId:m},!0)},1e3)}async function o(a){await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSReportTabTaskComplete",{error:a,tabId:m})}async function p(){await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSReportTabDestroy",{tabId:m})}var q=function(){var e=a.prototype;e.setIsStarted=function(a){this.$1=a,this.$10==="media"&&j.emit("isSyncStarted",a)};e.setIsEBMaybeAvailable=function(a){this.$4=a,this.$10==="media"&&j.emit("isEBMaybeAvailable",a)};e.setActiveThreadId=function(a){b("cr:19810")!=null&&(a!=null&&b("cr:19810").getInstance().insertIntoHead(a)),this.$5=a,this.$10==="media"&&j.emit("activeThreadJid",a)};e.setShouldPauseRestore=function(a){this.$3=a};e.removeFromQueue=function(a){b("cr:19810")!=null&&a!=null&&b("cr:19810").getInstance().removeThread(a)};e.getActiveThreadId=function(){return this.$5};e.getNextThreadIdToFetch=function(){return b("cr:19810")!=null?b("cr:19810").getInstance().getThreadsHead():this.getActiveThreadId()};e.getDoneThreads=function(){return this.$7};e.getDoneThreadsAfterReset=function(){return this.$9};e.getResetThreads=function(){return this.$8};e.isStarted=function(){return this.$1};e.isEBMaybeAvailable=function(){return this.$4};e.resetEBAvailability=function(){this.setIsEBMaybeAvailable(!0)};e.resetRestoreStatus=function(){var a=this,b=this.getActiveThreadId();return b!=null&&!this.$8.has(b)?d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSClearThreadRestoreStatus",{threadId:b},{isLoggingDisabled:!0}).then(function(){a.$8.add(b)}):Promise.resolve()};e.registerNewMessagesListener=function(a,b){this.$6[a]=b};e.removeNewMessagesListener=function(a){delete this.$6[a]};e.$11=function(a,b){var c=this;Object.keys(this.$6).forEach(function(d){c.$6[d](a,b)})};e.$12=function(a,c,e){return a!==c&&b("cr:19810")!=null?e==null||d("MAWFTSRestoreCap").isRestoreTimeWithinCap(parseInt(e,10)):e!=="0"};e.$13=async function(){this.setIsStarted(!0),this.setShouldPauseRestore(!1),await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSReportTabForeground",{tabId:m},{isLoggingDisabled:!0}),window.addEventListener("focus",async function(){await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSReportTabForeground",{tabId:m},{isLoggingDisabled:!0})}),n()};e.startSyncingLoop=async function(){var a=this;if(this.$1||this.$4===!1)return;var e=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f=await d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(e);if(!f){this.setIsEBMaybeAvailable(!1);this.setIsStarted(!1);return}await d("MAWFTSRestoreSyncLogger").initLoggingSessionId();await this.$13();var g=0,j=null;f=async function(){var f,i=a.getNextThreadIdToFetch(),n=a.getActiveThreadId();j!==i&&(j=i,g=0);if(i==null||b("cr:19810")==null&&a.$7.has(i)){await d("WAPromiseDelays").delayMs(200);return"continue"}if(a.$3){await d("WAPromiseDelays").delayMs(200);return"continue"}var q=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSGetThreadRestoreStatus",{threadId:i},{isLoggingDisabled:!0}),r=(f=q==null?void 0:q.restoredUntilSortOrderMs)!=null?f:null,s=q==null||q.restoredUntilSortOrderMs===q.maxRestoredUntilSortOrderMs||q.restoredUntilSortOrderMs==null;f=a.$12(i,n,r);if(!f){r==="0"&&(a.$7.add(i),a.$8.has(i)&&a.$9.add(i));a.removeFromQueue(i);await d("WAPromiseDelays").delayMs(200);return"continue"}q=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSRequestRestoreTask",{tabId:m,threadJid:i});if(!q){await d("WAPromiseDelays").delayMs(200);return"continue"}n=d("MAWAsyncEBIssueFetchAndIndexFTSQuery").issueQueryAsPromise(e,i,r,k,function(){d("MAWFTSRestoreSyncLogger").onFetchMessagePageStart(i,r==null||d("MAWFTSRestoreCap").isRestoreTimeWithinCap(parseInt(r,10)),s)});if(n==null){a.setIsEBMaybeAvailable(!1);a.setIsStarted(!1);return{v:Promise.resolve()}}f=d("MAWLoggerUtils").getInstanceKey();c("QPLUserFlow").start(c("qpl")._(25300854,"2397"),{annotations:{int:{retryCount:g},string:{restoreUntilMs:(q=r)!=null?q:"",traceId:n.traceId}},instanceKey:f});q=n.promise.then(function(a){return d("WAResultOrError").makeResult(a)});try{n=await Promise.race([q,new Promise(function(a){return window.setTimeout(function(){return a(d("WAResultOrError").makeError("timeout"))},l)})]);if(n.success===!1){g++;c("QPLUserFlow").endFailure(c("qpl")._(25300854,"2397"),"timeout",{instanceKey:f});d("MAWFTSRestoreSyncLogger").onFetchMessagePageFailed(i);c("FBLogger")("fts_worker").mustfix("Fail to fetch a new batch of messages due to timeout");return"continue"}g=0;c("QPLUserFlow").endSuccess(c("qpl")._(25300854,"2397"),{instanceKey:f});q=n.value;n=q.messages;q=q.nextMessageTimestampMsBefore;q=q!=null?(h||(h=d("I64"))).to_string(q):"0";var t=d("MAWFTSRestoreCap").isRestoreTimeWithinCap(parseInt(q,10));d("MAWFTSRestoreSyncLogger").onFetchMessagePageComplete(i,n.length,t);a.$11(i,n);t=n.map(function(a){var b=d("MAWFTSIsMessageValidForSearch").verifyMessageValidity(a);return b==null?null:d("MAWBridgeSearchMsg").createBridgeSearchMsg(babelHelpers.extends({author:a.author,canonicalTs:d("MAWDbMsg").getCanonicalTsFromMsg(a),externalId:a.externalId,threadJid:i},b),!1)}).filter(Boolean);await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchIndexUpdate",{newSortOrderMs:q,threadId:i,unvaultedBridgeSearchMessages:t})}catch(b){if(b&&(b==null?void 0:b.message)===d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED){c("QPLUserFlow").addPoint(c("qpl")._(25300854,"2397"),"eb_not_enabled",{instanceKey:f});c("QPLUserFlow").endCancel(c("qpl")._(25300854,"2397"),{instanceKey:f});a.setIsEBMaybeAvailable(!1);a.setIsStarted(!1);await p();return{v:Promise.resolve()}}d("MAWFTSRestoreSyncLogger").onFetchMessagePageFailed(i);c("FBLogger")("fts_worker").mustfix("Fail to fetch a new batch of messages with error %s",b==null?void 0:b.message);c("QPLUserFlow").endFailure(c("qpl")._(25300854,"2397"),(n=b==null?void 0:b.message)!=null?n:"unknown",{instanceKey:f});await o(b);return"continue"}await o()};while(this.$2){var n=await f();switch(n){case"continue":continue;default:if(typeof n==="object")return n.v}}};e.startMediaSyncingLoop=async function(){if(this.$1||this.$4===!1)return;var a=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,b=await d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(a);if(!b){this.setIsEBMaybeAvailable(!1);this.setIsStarted(!1);return}await this.$13();b=0;while(this.$2){var e=this.getActiveThreadId();if(e==null||this.$7.has(e)){await d("WAPromiseDelays").delayMs(200);continue}if(this.$3){await d("WAPromiseDelays").delayMs(200);continue}var f=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadMediaRestoreStatus",{threadId:e},{isLoggingDisabled:!0});f=(f=f==null?void 0:f.restoredUntilSortOrderMs)!=null?f:null;j.emit("restoredUntilMs",f!=null?parseInt(f,10):-1);var g=this.$12(e,e,f);if(!g){f==="0"&&this.$7.add(e);await d("WAPromiseDelays").delayMs(200);continue}g=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","searchFTSRequestRestoreTask",{tabId:m,threadJid:e});if(!g){await d("WAPromiseDelays").delayMs(200);continue}g=d("MAWAsyncEBIssueFetchAndIndexFTSQuery").issueQueryAsPromise(a,e,f,k);if(g==null){this.setIsEBMaybeAvailable(!1);this.setIsStarted(!1);return Promise.resolve()}f=d("MWMediaRestoreQplUtils").createMediaRestoreBatchQPLFlow();var n=d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled();f==null?void 0:f.start();f==null?void 0:f.addAnnotations({int:{retry_count:b}});g=g.promise.then(function(a){return d("WAResultOrError").makeResult(a)});try{f==null?void 0:f.addPoint("fetch_request_start");g=await Promise.race([g,new Promise(function(a){return window.setTimeout(function(){return a(d("WAResultOrError").makeError("timeout"))},l)})]);f==null?void 0:f.addPoint("fetch_request_end",{bool:{is_success:g.success===!0}});if(g.success===!1){b++;f==null?void 0:f.endFailure("timeout");continue}b=0;var q=g.value.nextMessageTimestampMsBefore;q=q!=null?(h||(h=d("I64"))).to_string(q):"0";n&&(f==null?void 0:f.addPoint("handle_media_restore_start"),await d("MAWMediaGalleryRestoreSync").handleMediaRestoreSync(g.value,f),f==null?void 0:f.addPoint("handle_media_restore_end"));await d("MAWBridgeSendAndReceive").sendAndReceive("backend","setThreadMediaRestoreStatus",{newSortOrderMs:q,threadId:e},{isLoggingDisabled:!0})}catch(a){if(a&&(a==null?void 0:a.message)===d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED){f==null?void 0:f.addPoint("eb_not_enabled");f==null?void 0:f.endCancel();this.setIsEBMaybeAvailable(!1);this.setIsStarted(!1);await p();return Promise.resolve()}c("FBLogger")("fts_worker").mustfix("Fail to fetch a new batch of messages with error %s",a==null?void 0:a.message);f==null?void 0:f.endFailure((n=a==null?void 0:a.message)!=null?n:"unknown");await o(a);continue}await o()}};a.getInstance=function(){var b=a.instance;if(b!=null)return b;b=new a();a.instance=b;return b};a.getMediaInstance=function(){var b=a.mediaInstance;if(b!=null)return b;b=new a("media");a.mediaInstance=b;return b};a.resetInstance=function(){a.instance=null};e.setKeepWhileLoop_FOR_TESTING_ONLY=function(a){this.$2=a};function a(a){a===void 0&&(a="search"),this.$1=!1,this.$2=!0,this.$3=!1,this.$4=!0,this.$5=void 0,this.$6={},this.$7=new Set(),this.$8=new Set(),this.$9=new Set(),this.$10=a,c("FBLogger")("fts_worker").info("New MAWFTSRestoreSync instance: "+a)}return a}();q.instance=null;q.mediaInstance=null;function a(){return q.getInstance()}function e(){return q.getMediaInstance()}g.MAWGalleryEventEmitter=j;g.MAWFTSRestoreSync=q;g.getFTSRestoreSync=a;g.getMediaRestoreSync=e}),98);
__d("MAWRestoreMessagesFromEncryptedBackupsNOP",["EBLogger","ExecutionEnvironment","I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUpdateClientRestoreStatus","MAWChatJid","MAWEBRestoreTrackingUtils","MAWEncryptedBackupsUpdateGlobalRestoreStatus","MAWJobDefinitions","MAWJobManager","MAWMediaGalleryM2Utils","MAWOfflineQueueStatus","MAWTimedJob","MAWUpdateClientRestoreStatusOperationType","ReQL","WAJobOrchestratorTypes","WATagsLogger","cr:4992","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to restore messages for thread "," with error: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling worker job for thread "," StartSortKey: "," messagesCount: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling prefetch for thread ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to get thread key for "," when calling restoreMessagesFromEncryptedBackup"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][","] Received echo documents for thread: "," startSortKey: "," messagesCount: ",""]);o=function(){return a};return a}async function p(a,b){try{b=await d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(i||(i=d("I64"))).of_string(b));if(b!=null){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(b));if(a!=null)return a.minMessageId}}catch(a){return Promise.reject(a)}return}function q(a,b,c){if(b===0)return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table)).then(function(a){a.forEach(function(a){a=d("MAWJobDefinitions").toThreadJidPrimaryId((i||(i=d("I64"))).to_string(a.jid));d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").addThreadIdToStatusArray(a,"restore");c&&d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").addThreadIdToStatusArray(a,"ebprefetch")})})}async function a(a,e,f,g,h,s,t,u,v,w,x,y,z,A,B){A===void 0&&(A=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(B=w)!=null?B:""]).LOG(o(),(B=w)!=null?B:"",f,x,g.length);B=await d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(i||(i=d("I64"))).of_string(f));B==null&&d("EBLogger").EBLogger.MUSTFIX(n(),f);B=!d("MAWOfflineQueueStatus").isOfflineQueueComplete()&&b("cr:4992")!=null&&x==null&&f!=null;var C=d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").getCurrentGlobalRestoreStatusArrayLength("restore");await q(a,C,B);try{C=await p(a,f);if(B&&b("cr:4992")!=null){d("WATagsLogger").TAGS(["labyrinth_web","eb_prefetch",(B=w)!=null?B:""]).LOG(m(),f);d("MAWEBRestoreTrackingUtils").markEBRestoreFrontloaded(y,w);B={action:d("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus,threadId:f};await d("MAWBridgeUpdateClientRestoreStatus").call(a,B);await b("cr:4992")(a,e,f,g,h,s,t,u,v,w,x,C,y,z,A)}else{d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(B=w)!=null?B:""]).LOG(l(),f,x,g.length);return r(e,f,g,C,h,t,v,w,x,y,z,A).then(function(){w!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_end",traceId:w})})}}catch(b){d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(s=w)!=null?s:""]).ERROR(k(),f,b);return w!=null?d("MAWBridgeTraceRecordCheckpointHandler").call(a,{checkPointId:(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:w,errorMessage:b,shouldFlush:!0,syncChannel:-1,tags:void 0}).then(function(){return Promise.reject(b)}):Promise.reject(b)}}function r(a,b,e,f,g,i,j,k,l,m,n,o){var p=(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWJobManager").getJobManager():d("MAWTimedJob").TimedUIJobStarters;if(k!=null&&m===c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION){var q;return p.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreMessagesFromEncryptedBackups(a,b,e,g,i,j,(q=f)!=null?q:void 0,(q=k)!=null?q:void 0,(q=l)!=null?q:void 0,void 0,void 0,m,{priority:o},n)).then(function(a){if(a.success===!0)d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(k);else{var b;d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(k,(b=a.payload)!=null?b:c("err")(a.error))}})}if(m===c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE&&d("MAWMediaGalleryM2Utils").shouldSkipSyncToLSDB()){return p.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreMessagesFromEncryptedBackups(a,b,e,g,i,j,(q=f)!=null?q:void 0,(o=k)!=null?o:void 0,(q=l)!=null?q:void 0,void 0,void 0,m,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},n)).then(function(){return Promise.resolve()})}return Promise.resolve(p.fireAndForget(d("MAWJobDefinitions").jobSerializers.restoreMessagesFromEncryptedBackups(a,b,e,g,i,j,(o=f)!=null?o:void 0,(q=k)!=null?q:void 0,(p=l)!=null?p:void 0,void 0,void 0,m,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},n)))}g.call=a}),98);/*FB_PKG_DELIM*/
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.forEach(b.filter(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreCancelTaskByQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSIssuePointQueryRestoreTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSLogWebQpl.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Beginning execution."),c.sequence([function(d){return a[3]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2512]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[14]=!0:d[14]=!1,d[14]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[16]].join("")),d[15]=c.createArray(),void 0!==void 0?d[17]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[16],d[15],c.i64.cast([0,3]))):c.resolve()}])},function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Point query restore v2 is enabled"),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[13]=new c.Map(),d[13].set("error_msg","Expected a nonempty query result"),d[13].set("code",c.i64.cast([0,3])),d[13].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[14]=c.createArray(),d[15]=(d[14].push(d[13]),d[14]),e=[void 0,d[14]],d[1]=e[0],d[2]=e[1],e):(b=a.item,d[13]=new c.Map(),d[13].set("backup_id",b.backupId),d[13].set("device_public_key_blob",b.devicePublicKeyBlob),d[13].set("device_private_key_blob",b.devicePrivateKeyBlob),d[13].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[13].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[13].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[13].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[13].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[13].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[13].set("orf_client_state_v2_blob",void 0),d[13].set("orf_v2_authority_level",void 0),d[13].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[13].set("device_id",b.deviceId),d[13].set("backup_tenancy",b.backupTenancy),d[13].set("encryption_version",b.encryptionVersion),d[13].set("revision_version",b.revisionVersion),d[13].set("initialize_restore_result",void 0),d[13].set("device_creation_timestamp_sec",void 0),d[13].set("authority_level",b.authorityLevel),e=[d[13],void 0],d[1]=e[0],d[2]=e[1],e)})},function(e){return d[4]=new c.Map(),d[4].set("value",d[1]),d[4].set("errors",d[2]),d[5]=d[4].get("value"),d[5]!==void 0?c.sequence([function(e){return d[13]=d[5].get("backup_id"),d[14]=d[5].get("device_public_key_blob"),d[15]=d[5].get("device_private_key_blob"),d[16]=d[5].get("epoch_storage_public_key_blob"),d[17]=d[5].get("epoch_storage_private_key_blob"),d[18]=d[5].get("epoch_auth_public_key_blob"),d[19]=d[5].get("epoch_auth_private_key_blob"),d[20]=d[5].get("mailbox_root_key_blob"),d[21]=d[5].get("ocmf_client_state_blob"),d[22]=d[5].get("orf_client_state_v2_blob"),d[23]=d[5].get("orf_v2_authority_level"),d[24]=d[5].get("oblivious_validation_token_blob"),d[25]=d[5].get("device_id"),d[26]=d[5].get("backup_tenancy"),d[27]=d[5].get("encryption_version"),d[28]=d[5].get("revision_version"),d[29]=d[5].get("initialize_restore_result"),d[30]=d[5].get("device_creation_timestamp_sec"),d[31]=d[5].get("authority_level"),c.i64.neq(d[25],void 0)?c.sequence([function(a){return d[33]=void 0,c.i64.neq(d[33],void 0)?c.resolve(d[34]=d[33]):c.sequence([function(a){return d[57]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[58]?d[67]=(d[57].push(c.i64.cast([0,0])),d[57]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[59]=a[0],a})},function(a){return d[59]?d[67]=(d[57].push(c.i64.cast([0,2])),d[57]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[60]?d[67]=(d[57].push(c.i64.cast([0,3])),d[57]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[61]?d[67]=(d[57].push(c.i64.cast([0,4])),d[57]):0,d[62]=c.createArray(),d[63]=c.i64.of_int32(d[57].length),c.i64.gt(d[63],c.i64.cast([0,0]))?c.loopAsync(d[63],function(a){return d[67]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[57],d[67]).then(function(a){return a=a,d[68]=a[0],d[69]=a[1],a})},function(a){return d[70]=(d[62].push(d[68]),d[62])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[67]=c.createArray(),d[68]=c.i64.of_int32(d[62].length),c.i64.gt(d[68],c.i64.cast([0,0]))?c.loopAsync(d[68],function(a){return d[70]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[62],d[70]).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return d[73]=(d[67].push(c.i64.to_string(d[71])),d[67])}])}):c.resolve()},function(a){return d[69]=d[67].join(","),d[64]=d[69]}])},function(a){return d[62].some(function(a){return c.i64.eq(d[27],a)})?d[65]=d[27]:d[65]=void 0,c.i64.neq(d[65],void 0)?d[66]=d[65]:d[66]=void 0,d[34]=d[66]}])},function(e){return c.i64.neq(d[34],void 0)?d[35]=d[34]:d[35]=c.i64.cast([0,0]),c.i64.neq(d[26],void 0)?d[36]=d[26]:d[36]=c.i64.cast([0,1]),d[37]=new c.Map(),d[37].set("act_thread_id",a[0]),d[37].set("request_id",a[3]),d[37].set("tam_thread_subtype",c.i64.cast([0,0])),d[37].set("mem_message_type",c.i64.cast([0,0])),d[37].set("source",a[4]),c.nativeOperation(b("LSBase64Encode.nop"),d[21]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[20]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[40]=new c.Map(),d[40].set("ocmf_client_state_blob",d[38]==null?"":d[38]),d[40].set("mailbox_root_key",d[39]==null?"":d[39]),d[41]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[57]=(d[41].push(a.epochId),d[41])})},function(a){return d[55]="Queried locally available epochs. Count: ",d[42]=c.i64.of_int32(d[41].length),d[56]=c.i64.to_string(d[42]),d[43]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[43],d[55],d[43],d[56]].join("")),c.resolve()},function(e){return d[44]=new c.Map(),d[44].set("device_id",d[25]),d[44].set("raw_tokens",d[40]),d[44].set("locally_available_epochs",d[41]),d[45]=new c.Map(),d[45].set("reference_timestamp",a[2]),d[45].set("device_context",d[44]),d[45].set("message_id",a[1]),d[46]=new c.Map(),d[46].set("restore_context",d[37]),d[46].set("success",d[45]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[57]=c.i64.of_float(Date.now()),d[47]=c.i64.add(d[57],c.i64.cast([0,0]))):d[47]=c.i64.cast([0,0]),d[48]=d[46].get("restore_context"),d[49]=d[46].get("success"),d[49]!==void 0?(d[57]=d[49].get("message_id"),d[50]=d[57]):d[50]="",d[51]=d[48].get("act_thread_id"),d[52]=":",d[53]=c.toJSON(d[46]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[52],d[51],d[52],d[50]].join(""),c.i64.cast([0,50035]),d[53],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[47],c.i64.cast([0,0])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[32]=d[54]}]):c.sequence([function(e){return d[33]=new c.Map(),d[33].set("error_code",c.i64.cast([0,1])),d[33].set("error_message",""),d[33].set("stored_procedure","issuePointQueryRestoreTask"),d[34]=new c.Map(),d[34].set("act_thread_id",a[0]),d[35]=new c.Map(),d[35].set("restore_context",d[34]),d[35].set("failure",d[33]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[44]=c.i64.of_float(Date.now()),d[36]=c.i64.add(d[44],c.i64.cast([0,0]))):d[36]=c.i64.cast([0,0]),d[37]=d[35].get("restore_context"),d[38]=d[35].get("success"),d[38]!==void 0?(d[44]=d[38].get("message_id"),d[39]=d[44]):d[39]="",d[40]=d[37].get("act_thread_id"),d[41]=":",d[42]=c.toJSON(d[35]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[41],d[40],d[41],d[39]].join(""),c.i64.cast([0,50035]),d[42],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[36],c.i64.cast([0,0])).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[32]=d[43]}])},function(a){return d[6]=d[32]}]):c.sequence([function(e){return d[13]=d[4].get("errors"),d[14]=d[4].get("errors"),d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,1])),d[15].set("error_message",""),d[15].set("stored_procedure","issuePointQueryRestoreTask"),d[16]=new c.Map(),d[16].set("act_thread_id",a[0]),d[17]=new c.Map(),d[17].set("restore_context",d[16]),d[17].set("failure",d[15]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[26]=c.i64.of_float(Date.now()),d[18]=c.i64.add(d[26],c.i64.cast([0,0]))):d[18]=c.i64.cast([0,0]),d[19]=d[17].get("restore_context"),d[20]=d[17].get("success"),d[20]!==void 0?(d[26]=d[20].get("message_id"),d[21]=d[26]):d[21]="",d[22]=d[19].get("act_thread_id"),d[23]=":",d[24]=c.toJSON(d[17]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",d[23],d[22],d[23],d[21]].join(""),c.i64.cast([0,50035]),d[24],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[18],c.i64.cast([0,0])).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[6]=d[25]}])},function(d){return a[3]!==void 0?c.nativeOperation(b("LSLogWebQpl.nop"),a[3],c.i64.cast([0,521476165]),"restore_task_start",c.i64.cast([0,1]),a[4],void 0):c.resolve()},function(e){return c.sequence([function(d){return a[3]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2513]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[14]=!0:d[14]=!1,d[14]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[16]].join("")),d[15]=c.createArray(),void 0!==void 0?d[17]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[16],d[15],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSIssuePointQueryRestoreTaskStoredProcedure",["LSIssuePointQueryRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePointQueryRestoreTask"),e.threadId,e.messageId,e.startSortKey,e.traceId,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeIssuePointQueryHandler",["EBIsEbEnabled","I64","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSRequestId","MAWEBRestoreTrackingUtils","Promise","WAGetStorageQplAnnotations","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(b){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:b,pointName:"storage_estimation_retrieved",traceId:a})}))}function a(a,c){return d("EBIsEbEnabled").isEbEnabledLS(a).then(function(d){return!d?(j||(j=b("Promise"))).resolve():l(a,c)})}function l(a,b){var e=c("LSRequestId").generate(),f=(h||(h=d("LSIntEnum"))).unwrapIntEnum((i||(i=d("I64"))).of_float(b.taskSource));d("MAWEBRestoreTrackingUtils").markEBRestorePoint(f,e,"LS");k(e);return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:b.messageId,source:h.ofNumber(f),startSortKey:b.startSortKey,threadId:b.threadId,traceId:e}).then(c("emptyFunction"))}g.call=a}),98);
__d("MDSScrollableAreaStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={themed:{scrollbarColor:"x16o0dkt",$$css:!0},unthemed:{scrollbarColor:"xgjnz6y",$$css:!0}};b=a;g["default"]=b}),98);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useRef,l=b.useSyncExternalStore,m=new Map(),n=new Map();function o(a){(a=m.get(a))==null?void 0:a.forEach(function(a){return a()})}function a(a,b){var d=k(a).current,e=k({parsed:d,stringified:void 0});a=j(function(a){var c=m.get(b),d=c!=null?c:new Set();d.add(a);m.set(b,d);return function(){d["delete"](a)}},[b]);var f=j(function(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();a=a==null?n.get(b):a.getItem(b);if(a==null)return d;if(a===e.current.stringified)return e.current.parsed;try{var f=JSON.parse(a);e.current={parsed:f,stringified:a};return f}catch(a){return d}},[d,b]);a=l(a,f);f=j(function(a){a=a instanceof Function?a(e.current.parsed):a;var d=(h||(h=c("WebStorage"))).getLocalStorage();a=JSON.stringify(a);if(d!=null)if(a==null)d.removeItem(b);else try{d.setItem(b,a)}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to setItem")}else n.set(b,a);o(b)},[b]);return[a,f]}g.usePersistedUIState=a}),98);
__d("MWPReplyLogging",["I64","QPLUserFlow","deepEquals","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function j(a){var b=Date.now()|0;i.set((h||(h=d("I64"))).to_string(a),b);return b}function k(a){var b=i.get((h||(h=d("I64"))).to_string(a));if(b==null)return j(a);else return b}function a(a,b,e){if(e){a?c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:k(b)}):c("QPLUserFlow").endSuccess(c("qpl")._(25298086,"3996"),{instanceKey:k(b)});i["delete"]((h||(h=d("I64"))).to_string(b));return}}function b(a,b,d){if(a!=null){if(c("deepEquals")(a,b)){c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"same_message",{instanceKey:k(d)});return}if(!c("deepEquals")(a,b)){a=k(d);c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"switch_message",{instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:a});c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:j(d),timeoutInMs:6e4});return}}c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:j(d),timeoutInMs:6e4})}e={logClearReply:a,logSetReply:b};g["default"]=e}),98);
__d("MWPThreadIsPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("MWPThreadIsPage.react",["I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","react-compiler-runtime","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useContext;function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,g=a.threadKey,k=(h||(h=c("useReStore")))(),m=d("MWPActor.react").useActor();b[0]!==m||b[1]!==k||b[2]!==g?(a=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(k.tables.participants,["contactId"]).getKeyRange(g).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,m)}),d("ReQL").fromTableAscending(k.tables.contacts))},b[0]=m,b[1]=k,b[2]=g,b[3]=a):a=b[3];var n;b[4]!==g?(n=[g],b[4]=g,b[5]=n):n=b[5];a=d("ReQLSuspense").useFirst(a,n,f.id+":29");n=a!=null?a[1]:null;b[6]!==n?(a=n!=null?(i||(i=d("I64"))).equal(n.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1,b[6]=n,b[7]=a):a=b[7];n=a;b[8]!==e||b[9]!==n?(a=l.jsx(c("MWPThreadIsPageContext").Provider,{value:n,children:e}),b[8]=e,b[9]=n,b[10]=a):a=b[10];return a}function b(){var a=m(c("MWPThreadIsPageContext"));if(a!=null)return a;else{c("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_ia");return!1}}g.Provider=a;g.useIsPage=b}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2});c=[a.MESSAGE_LIST_PANEL,a.INFO_PANEL];d=375;e=320;b=a.THREAD_LIST_PANEL;var g=a.MESSAGE_LIST_PANEL,h=3;f.MWLayoutPanel=a;f.MWInboxMainContentPanels=c;f.DENSE_LAYOUT_BREAKPOINT_WIDTH=d;f.DENSE_LAYOUT_BREAKPOINT_HEIGHT=e;f.DEFAULT_ONE_CARD_INDEX=b;f.DEFAULT_TWO_CARDS_INDEX=g;f.DEFAULT_MAX_CARDS_VISIBLE=h}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({_mountCard:c("emptyFunction"),_unmountCard:c("emptyFunction"),cardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:c("emptyFunction"),primaryCardIndex:d("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:c("emptyFunction"),secondaryCardIndex:null});e=b;g["default"]=e}),98);
__d("MWXIconCautionTriangle",["MWXSvgIcon","SVGIcon","cr:12357","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12357")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMenu.react",["cr:6941"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6941")}),98);
__d("MWXMenuItem.react",["BaseTheme.react","FDSTextWebUtils","MWXSvgIcon","MWXThreadThemeColor","MessengerWebUXLogger","cr:2466","cr:4318","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useCallback;e.useMemo;function a(a){var e=d("react-compiler-runtime").c(39),f,g;e[0]!==a?(g=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);var h,k,l,m,n,o;if(e[3]!==f){a=f;h=a.icon;k=a.iconColor;l=a.loggingEvent;m=a.onClick;n=a.primaryColor;o=a.secondaryColor;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","iconColor","loggingEvent","onClick","primaryColor","secondaryColor"]);e[3]=f;e[4]=h;e[5]=k;e[6]=l;e[7]=m;e[8]=a;e[9]=n;e[10]=o}else h=e[4],k=e[5],l=e[6],m=e[7],a=e[8],n=e[9],o=e[10];f=k instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?"primary":k;var p=c("MessengerWebUXLogger").useInteractionLogger(),q;e[11]!==p||e[12]!==l||e[13]!==m?(q=function(a){m==null?void 0:m(a),l&&(p==null?void 0:p(l))},e[11]=p,e[12]=l,e[13]=m,e[14]=q):q=e[14];q=q;if(b("cr:4318")!=null){var r;e[15]!==q||e[16]!==h||e[17]!==f||e[18]!==a||e[19]!==g?(r=i.jsx(b("cr:4318"),babelHelpers["extends"]({icon:h,iconColor:f,onClick:q},a,{ref:g})),e[15]=q,e[16]=h,e[17]=f,e[18]=a,e[19]=g,e[20]=r):r=e[20];var s;e[21]!==k||e[22]!==r?(s=i.jsx(j,{iconColor:k,children:r}),e[21]=k,e[22]=r,e[23]=s):s=e[23];return s}if(b("cr:2466")!=null){r=h instanceof d("MWXSvgIcon").MWXSvgMenuItemIcon?h.component:h;e[24]!==n?(s=d("FDSTextWebUtils").getFDSHeadlineColor(n),e[24]=n,e[25]=s):s=e[25];e[26]!==o?(h=d("FDSTextWebUtils").getFDSMetaColor(o),e[26]=o,e[27]=h):h=e[27];e[28]!==q||e[29]!==f||e[30]!==a||e[31]!==g||e[32]!==r||e[33]!==s||e[34]!==h?(n=i.jsx(b("cr:2466"),babelHelpers["extends"]({icon:r,iconColor:f,isIconDecorative:!0,onClick:q,primaryColor_DEPRECATED:s,secondaryColor:h},a,{ref:g})),e[28]=q,e[29]=f,e[30]=a,e[31]=g,e[32]=r,e[33]=s,e[34]=h,e[35]=n):n=e[35];e[36]!==k||e[37]!==n?(o=i.jsx(j,{iconColor:k,children:n}),e[36]=k,e[37]=n,e[38]=o):o=e[38];return o}return null}function j(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.iconColor;var f;b[0]!==a?(f=a instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":a.color},light:{"primary-icon":a.color},type:"VARIABLES"}:void 0,b[0]=a,b[1]=f):f=b[1];a=f;f=a;if(f==null)return e;b[2]!==e||b[3]!==f?(a=i.jsx(c("BaseTheme.react"),{config:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744337");b=d("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744338");b=d("FalcoLoggerInternal").create("rtc_web_user_actions",a);e=b;g["default"]=e}),98);
__d("SoundPlayer",["ODS","URI","createArrayFromMixed"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a){var b=new(i||(i=c("URI")))(a);return b.getDomain()?a:new(i||(i=c("URI")))(window.location.href).setPath(b.getPath()).toString()}function l(a){a=new(i||(i=c("URI")))(a).getPath();if(/\.mp3$/.test(a))return"audio/mpeg";return/\.og[ga]$/.test(a)?"audio/ogg":""}var m=function(a,b){for(a of c("createArrayFromMixed")(a)){if(j.has(a))return;var d=document.createElement("audio");if(!d||!d.canPlayType||!d.canPlayType(l(a)))continue;d.preload="auto";d.src=k(a);document.body&&document.body.appendChild(d);j.set(a,d);(b==null?void 0:b.onPreload)!=null&&b.onPreload(d);return}};a=function(a,b){b===void 0&&(b={});for(a of c("createArrayFromMixed")(a)){j.has(a)||m(a,b.callbacks);var e=j.get(a);if(!e)continue;b.loop&&e.setAttribute("loop","");b.volume&&(e.volume=b.volume);e=e.play();e!=null&&typeof e.then==="function"?e.then(function(){(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","play.success")})["catch"](function(a){(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","play.error")}):(h||(h=d("ODS"))).bumpEntityKey(2966,"sound_player","non_promise");return}};b=function(a){for(a of c("createArrayFromMixed")(a)){var b=j.get(a);if(b){b.pause();return}}};e=function(a){for(a of c("createArrayFromMixed")(a)){var b=j.get(a);b&&(b.pause(),b.removeAttribute("src"),b.src=k(a))}};g.preload=m;g.play=a;g.pause=b;g.stop=e}),98);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(a,b,c,d,e,f){var g,h="fb_sounds_playing3";function i(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)try{a=a[h];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function j(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(c){var d=i();d.push(a);while(d.length>5)d.shift();try{c[h]=JSON.stringify(d)}catch(a){}}}function k(a){return i().some(function(b){return b===a})}a={play:function(a,c,d,e){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(k(c))return;b("SoundPlayer").play(a,{loop:!!d,callbacks:e});j(c)},isSupported:function(){return!!(g||(g=b("WebStorage"))).getLocalStorage()}};e.exports=a}),null);
__d("SoundRPC",["FBJSON","SecurePostMessage","SoundSynchronizer","cr:950105"],(function(a,b,c,d,e,f,g){function h(a,b,c,e){d("SoundSynchronizer").play(a,b,c,e)}function a(a,b,c,e){b={name:"SoundRPC",data:{paths:b,sync:c,loop:e}};d("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(a,d("FBJSON").stringify(b))}function c(){return!!window.postMessage}function e(){var a=function(a){if(!/\.facebook.com$/.test(a.origin))return;var b={};try{a=a.data;typeof a==="string"&&(b=d("FBJSON").parse(a))}catch(a){}a=b;b=a.name;a=a.data;b==="SoundRPC"&&a!=null&&typeof a==="object"&&h(a.paths,a.sync,a.loop)};b("cr:950105")!=null?b("cr:950105").listen(window,"message",a):window.addEventListener("message",a)}g.playLocal=h;g.playRemote=a;g.supportsRPC=c;g._listen=e}),98);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(a,b,c,d,e,f,g){var h,i=null,j=!1;function a(a){}function k(a,b,c,e){i?d("SoundRPC").playRemote(i.contentWindow,a,b,!1):d("SoundRPC").playLocal(a,b,c,e),j=!0}function b(){return j}function e(a,b,d){if(!j&&c("Visibility").isHidden())return;k(a,b,d)}function f(a){i||d("SoundPlayer").stop(a)}var l=new(h||c("URI"))(location.href),m=new Set(["comet","www","business"]);l.getSubdomain()&&!m.has(l.getSubdomain())&&l.setSubdomain("www");m=l.getDomain();function n(){if(d("UserAgent_DEPRECATED").ie()<9)return!1;return c("SoundInitialData").RPC_DISABLED?!1:d("SoundSynchronizer").isSupported()&&d("SoundRPC").supportsRPC()}c("isFacebookURI")(l)&&location.host!==m&&n()&&(i=document.createElement("iframe"),i.setAttribute("src","//"+m+"/sound_iframe.php"),i.style.display="none",document.body&&document.body.appendChild(i));g.init=a;g.play=k;g.hasPlayedSoundBefore=b;g.playOnlyIfImmediate=e;g.stop=f}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b={ConnectionStateMachine:(a=c("qpl"))._(64243854,"2452"),ParentSignalingClient:a._(64234815,"1094"),PeerConnectionStateMachine:a._(64239068,"6172"),SignalingStateMachine:a._(64245348,"8823")};g["default"]=b}),98);
__d("ZenonODSLogger",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway",a),h.flush()};b.logE2eeCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee",a),h.flush()};return a}();b=new a();g["default"]=b}),98);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FBLogger","IGDWebUtils","Log","LogHistory","ODS","QuickLogActionType","QuickPerformanceLogger","RpWebStateMachineLoggingBlocklist","UserAgentData","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLoggingUtils","ZenonMachineToQPLEvent","ZenonODSLogger","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;a=function(){a.getInstance=function(){j||(j=new a());return j};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.signalingID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};function a(){var a;this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=c("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});a=c("CurrentUser").getAppID();a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a))?this.$4=parseInt(a,10):this.$4=219994525426954;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist").STATES)}var b=a.prototype;b.$7=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:d})};b.$8=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+((e=b)!=null?e:""));e={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};b.$9=function(a,b,e,f){f===void 0&&(f=0);a=c("ZenonMachineToQPLEvent")==null?void 0:c("ZenonMachineToQPLEvent")[a];if(!(a&&(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()))return;e==="terminated"?(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,f):(i||(i=c("QuickPerformanceLogger"))).markerPoint(a,b,{data:{string:{data:e}},instanceKey:f})};b.$10=function(a){return isNaN(+a)?0:+a};b.getLogHistory=function(){return this.$1};b.logStateMachine=function(a,b,d,e,f){if(!c("isEmployeeTestUserZenonLogging")())return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$9(a,d,b,this.$10(e))};b.logStateMachineTransition=function(a,b,d,e,f,g,h,i){if(this.$6.has(d)||this.$5.has(f))return;if(!c("isEmployeeTestUserZenonLogging")())return;var j="";g!=null&&g.length===1&&g[0].type==="defer"?j="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?j="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":b?j="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:(j="["+a+"] [[DROPPED] "+f+" did not trigger transition. Current state remains "+d,this.$11(a));this.$8(j,h,i)};b.startQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerStart(a,this.$10(b))};b.endQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,this.$10(b))};b.logConsole=function(a){this.$7(a,!1)};b.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonODSLogger").logCounter(b);c("isEmployeeTestUserZenonLogging")()&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};b.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};b.$11=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_state_machine",a+"_event_dropped"),h.flush()};return a}();g["default"]=a}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("ZenonUserActionLogger",["RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonLoggingUtils","ZenonSDESKeyDetector","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");if(!d("ZenonLoggingUtils").shouldAllowLogging())return;b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var e=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return e});c("RtcWebUserActionsFalcoEvent").log(function(){return e});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=a.threadKey;a=a.threadType;if(e!=null){var i=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),j=d("LSMessagingThreadTypeUtil").isGroup(a),k=(h||(h=d("I64"))).to_string(g);g=(a=f)!=null?a:{};var l=g.hasMissingMessage,m=babelHelpers.objectWithoutPropertiesLoose(g,["hasMissingMessage"]);g=(a=f)!=null?a:{};var n=g.MAW_vs_EB_numOfMissingInReference,o=g.MAW_vs_EB_numOfMissingInTarget,p=g.UI_vs_EB_numOfMissingInReference,q=g.UI_vs_EB_numOfMissingInTarget,r=g.UI_vs_MAW_numOfMissingInReference,s=g.UI_vs_MAW_numOfMissingInTarget,t=g.pageSize;c("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:e,event_name:b,extra_data:m,has_message_missing:l,is_secured:i,missing_messages_maw_vs_eb_missing_in_reference_count:n,missing_messages_maw_vs_eb_missing_in_target_count:o,missing_messages_page_size:t,missing_messages_ui_vs_eb_missing_in_reference_count:p,missing_messages_ui_vs_eb_missing_in_target_count:q,missing_messages_ui_vs_maw_missing_in_reference_count:r,missing_messages_ui_vs_maw_missing_in_target_count:s,other_user_fbid:j||i?void 0:k,thread_fbid:k}})}}g["default"]=a}),98);
__d("useMWXPushToast",["MWXIcon.react","mwPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react");(h||(h=d("react"))).useCallback;function a(){return k}function k(a){var b=a._isWarning_DO_NOT_USE;a=babelHelpers.objectWithoutPropertiesLoose(a,["_isWarning_DO_NOT_USE"]);d("mwPushToast").mwPushToast(babelHelpers["extends"]({},a,{icon:a.icon?{comet:j.jsx(c("MWXIcon.react"),{"aria-hidden":!0,color:b===!0?"warning":void 0,icon:a.icon.component,size:20}),mds:a.icon.component}:void 0}))}g["default"]=a}),98);
__d("useMWXPushErrorToast",["MWXIconCautionTriangle","react","react-compiler-runtime","useMWXPushToast"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=c("useMWXPushToast")(),e;a[0]!==b?(e=function(a){b(babelHelpers["extends"]({},a,{_isWarning_DO_NOT_USE:!0,announcementType:"warning",assertive:!0,icon:c("MWXIconCautionTriangle")}))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("TrustedTypesChromecastScriptURLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"];function i(a){var b=h.join("|");b=new RegExp("^chrome-extension://(?:null|"+b+")/cast_sender\\.js$");return b.test(a)}a={createScriptURL:function(a){if(i(a))return a;throw c("err")("Violated policy TrustedTypesChromecastScriptURLPolicy: "+a+" is not a Chromecast extension URI.")}};b=c("TrustedTypes").createPolicy("chromecast-extension-uri",a);d=b;g["default"]=d}),98);
__d("CastingChromecastAPI",["TrustedTypesChromecastScriptURLPolicy"],(function(a,b,c,d,e,f,g){"use strict";var h=3*60*1e3,i=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],j=null;b=function(a){var b=a.appID,c=a.receiverListener,d=a.sessionListener;return l().then(function(a){var e=new a.ApiConfig(new a.SessionRequest(b),d,c,a.AutoJoinPolicy.ORIGIN_SCOPED,a.DefaultActionPolicy.CAST_THIS_TAB);return new Promise(function(b,c){a.initialize(e,b,c)})})};d=function(a){return l().then(function(b){b.addReceiverActionListener(function(c,d){switch(d){case b.ReceiverAction.CAST:a.onCast(c);break;case b.ReceiverAction.STOP:a.onStop();break}})})};e=function(a){return l().then(function(b){var c=new b.SessionRequest(a,[b.Capability.VIDEO_OUT,b.Capability.AUDIO_OUT],h);return new Promise(function(a,d){b.requestSession(a,d,c)})})};f=function(a){return l().then(function(b){return a===b.ReceiverAvailability.AVAILABLE})};var k=function(){return l().then(function(a){return a.media.DEFAULT_MEDIA_RECEIVER_APP_ID})},l=function(){if(j)return j;if(!a.chrome){j=Promise.reject({code:"not_supported",description:null,details:null});return j}if(a.chrome.cast&&a.chrome.cast.isAvailable){j=Promise.resolve(a.chrome.cast);return j}j=Promise.resolve().then(function(){return m()}).then(function(b){return new Promise(function(d,e){a.chrome.cast=a.chrome.cast||{};a.chrome.cast.extensionId=b;a.__onGCastApiAvailable=function(b,c){c?e(c):d(a.chrome.cast)};var f=document.createElement("script");f.onerror=e;if(b==null){e({code:"extension_not_available",description:null,details:null});return}else f.src=c("TrustedTypesChromecastScriptURLPolicy").createScriptURL(o(b));var g=document.head||document.documentElement;if(g==null){e({code:"extension_no_casting_script",description:null,details:null});return}g.appendChild(f)})});return j};async function m(){for(var a=0;a<i.length;a++){var b=i[a],c=await n(b);if(c)return b}return null}function n(a){return new Promise(function(b,c){c=o(a);var d=new XMLHttpRequest();d.onreadystatechange=function(){d.readyState===4&&b(d.status===200)};d.onerror=function(){b(!1)};d.open("GET",c,!0);d.send()})}function o(a){return"chrome-extension://"+a+"/cast_sender.js"}d={addReceiverListener:d,getDefaultAppID:k,getIsAvailable:f,getSession:e,initialize:b};k=d;g.default=k}),98);
__d("CastingStateHooks",["CastingContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("CastingContext").CastingStateContext);return(a==null?void 0:a.receiverIsConnected)||!1}function j(){var a=t();return a==null?null:a.currentVideoID}function b(){var a=j();return a!=null}function c(){var a=t();return a==null?0:a.currentPosition||0}function e(){var a=t();return a==null?0:a.currentDuration||0}function f(){var a=t();if(a==null)return!1;a=a.currentPlaybackState;return a==="play"||a==="seeking"}function k(){var a=t();if(a==null)return!1;a=a.currentPlaybackState;return a==="paused"}function l(){var a=t();if(a==null)return!1;a=a.currentPlaybackState;return a==="ended"}function m(){var a=i(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?!1:a.receiverIsMuted===!0}function n(){var a=i(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?0:a.receiverVolume||0}function o(){var a=i(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?null:a.receiverFriendlyName}function p(){var a=u();return a==null?!1:!0}function q(){var a=v();return a==null?!1:a.currentPlaybackState==="paused"}function r(){var a=v();return a==null?!1:a.currentPlaybackState==="play"}function s(){var a=v();return a==null?null:a.currentAssetID}function t(){var a=i(d("CastingContext").CastingStateContext),b=i(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="video_channel"?null:b}function u(){var a=i(d("CastingContext").CastingStateContext),b=i(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="photo"?null:b}function v(){var a=i(d("CastingContext").CastingStateContext),b=i(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="photo_album"?null:b}g.useIsCastingConnected=a;g.useCastingVideoID=j;g.useIsCastingAnyVideo=b;g.useCastingCurrentTime=c;g.useCastingDuration=e;g.useCastingIsPlaying=f;g.useCastingIsPaused=k;g.useCastingIsEnded=l;g.useCastingIsMuted=m;g.useCastingVolume=n;g.useCastingReceiverFriendlyName=o;g.useIsCastingPhotoExperience=p;g.useCastingIsAlbumPaused=q;g.useCastingIsAlbumPlaying=r;g.useCastingAlbumAssetID=s}),98);
__d("CometPoliticalInfosheetDialogV2Query_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9883590621703808"}),null);
__d("CometPoliticalInfosheetDialogV2Query$Parameters",["CometPoliticalInfosheetDialogV2Query_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometPoliticalInfosheetDialogV2Query_facebookRelayOperation"),metadata:{},name:"CometPoliticalInfosheetDialogV2Query",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometPoliticalInfosheetDialogV2.entrypoint",["CometPoliticalInfosheetDialogV2Query$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.ad_id,e=a.entrypoint;a=a.story_id;return{queries:{politicalInfosheetQueryReference:{parameters:c("CometPoliticalInfosheetDialogV2Query$Parameters"),variables:{ad_id:b,entrypoint:e,scale:d("WebPixelRatio").get(),story_id:a}}}}},root:c("JSResourceForInteraction")("CometPoliticalInfosheetDialogV2.react").__setRef("CometPoliticalInfosheetDialogV2.entrypoint")};g["default"]=a}),98);
__d("CometVideoHomePositionInUnitContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(0);g["default"]=b}),98);
__d("CometVideoHomeSectionPositionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometWatchAndScrollControlNUXContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={isVideoPlayerWatchAndScrollControlNUXVisible:!1,setIsVideoPlayerWatchAndScrollControlNUXVisible:null};c=a.createContext(b);g["default"]=c}),98);
__d("CometWatchAndScrollTriggerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={isControlShown:!1,isTriggerDisabled:!1,setIsControlShown:null,setIsTriggerDisabled:null};c=a.createContext(b);g["default"]=c}),98);
__d("FanFundingClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6478");b=d("FalcoLoggerInternal").create("fan_funding_client_events",a);e=b;g["default"]=e}),98);
__d("VideoBroadcastStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PREVIEW:"PREVIEW",LIVE:"LIVE",LIVE_STOPPED:"LIVE_STOPPED",VOD_READY:"VOD_READY",SEAL_STARTED:"SEAL_STARTED",SCHEDULED_PREVIEW:"SCHEDULED_PREVIEW",SCHEDULED_LIVE:"SCHEDULED_LIVE",SCHEDULED_EXPIRED:"SCHEDULED_EXPIRED",SCHEDULED_CANCELED:"SCHEDULED_CANCELED",PRE_LIVE:"PRE_LIVE",SEAL_FAILED:"SEAL_FAILED"});f["default"]=a}),66);
__d("VideoHomeLoggingReactionVideoChannelTypeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("VideoHomeLoggingUpstreamPlayerSourceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("VideoHomeTypedLiteLogger",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:VideoHomeLoggerConfig")}),null);
__d("VideoPlayerControlsHiddenContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlIcon.react",["BaseFocusRing.react","BaseTooltip.react","CometPressable.react","CometTooltipImpl.react","FDSIcon.react","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={"default":{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",cursor:"x1ypdohk",display:"x1rg5ohu",height:"x1qx5ct2",marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",opacity:"x1iy03kw",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",":hover_opacity":"x1o7uuvo",$$css:!0},disabled:{cursor:"xt0e3qv",opacity:"xbyyjgo",":hover_opacity":"xj34u2y",$$css:!0},dropShadow:{filter:"x1qo4wvw",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(21),e,f,g;b[0]!==a?(g=a.tooltipOffsetY,e=a.children,f=babelHelpers.objectWithoutPropertiesLoose(a,["tooltipOffsetY","children"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);g=Math.min(0,(a=g)!=null?a:0);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a="xuk3077 x78zum5 x14atkfc",b[4]=a):a=b[4];var h;b[5]!==g?(h={marginTop:g},b[5]=g,b[6]=h):h=b[6];var j;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(j="xuk3077 x78zum5 x14atkfc",b[7]=j):j=b[7];g=-g;var k;b[8]!==g?(k={paddingTop:g},b[8]=g,b[9]=k):k=b[9];b[10]!==e?(g=typeof e==="function"?e(void 0):e,b[10]=e,b[11]=g):g=b[11];b[12]!==k||b[13]!==g?(e=i.jsx("span",{className:j,style:k,children:g}),b[12]=k,b[13]=g,b[14]=e):e=b[14];b[15]!==f||b[16]!==e?(j=i.jsx(c("BaseTooltip.react"),babelHelpers["extends"]({},f,{children:e})),b[15]=f,b[16]=e,b[17]=j):j=b[17];b[18]!==h||b[19]!==j?(k=i.jsx("span",{className:a,style:h,children:j}),b[18]=h,b[19]=j,b[20]=k):k=b[20];return k}function a(a){var b=d("react-compiler-runtime").c(23),e,f,g,h,m,n,o,p,q;b[0]!==a?(m=a.color,f=a.disabled,g=a.icon,h=a.label,n=a.tooltip,o=a.tooltipAlign,p=a.tooltipImpl,q=a.tooltipOffsetY,e=babelHelpers.objectWithoutPropertiesLoose(a,["color","disabled","icon","label","tooltip","tooltipAlign","tooltipImpl","tooltipOffsetY"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=m,b[6]=n,b[7]=o,b[8]=p,b[9]=q):(e=b[1],f=b[2],g=b[3],h=b[4],m=b[5],n=b[6],o=b[7],p=b[8],q=b[9]);var r=m===void 0?"white":m;a=n===void 0?null:n;m=o===void 0?"start":o;var s=j(c("VideoPlayerControlsHiddenContext"));o=(n=p)!=null?n:c("CometTooltipImpl.react");b[10]!==e||b[11]!==r||b[12]!==f||b[13]!==g||b[14]!==s||b[15]!==h?(p=i.jsx(c("BaseFocusRing.react"),{children:function(a){return i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},e,{disabled:f,display:"inline",label:h,overlayDisabled:!0,testid:void 0,xstyle:[k["default"],f===!0&&k.disabled,a,s===!0&&k.dropShadow],children:i.jsx(c("FDSIcon.react"),{color:r,icon:g})}))}}),b[10]=e,b[11]=r,b[12]=f,b[13]=g,b[14]=s,b[15]=h,b[16]=p):p=b[16];b[17]!==o||b[18]!==p||b[19]!==a||b[20]!==m||b[21]!==q?(n=i.jsx(l,{align:m,position:"above",tooltip:a,tooltipImpl:o,tooltipOffsetY:q,children:p}),b[17]=o,b[18]=p,b[19]=a,b[20]=m,b[21]=q,b[22]=n):n=b[22];return n}g["default"]=a}),98);
__d("VideoPlayerControlsBottomRowAddOnContext",["react","react-compiler-runtime","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));f=h;var j=f.useContext,k=f.useEffect,l=f.useState,m=i.createContext(null);function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e=c("useStable")(n),f;b[0]!==a||b[1]!==e?(f=i.jsx(m.Provider,{value:e,children:a}),b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}function n(){var a;a=null;var b;b=null;var c;c=null;return{getBottomRowAddOn:function(){return b},initialize:function(d){c=function(a){b=a,d(a)};if(a==null)return;c(a);a=null},setBottomRowAddOn:function(b){if(c==null){a=b;return}c(b)}}}function b(a){var b=d("react-compiler-runtime").c(3),c=j(m);a=l(a);var e=a[0],f=a[1],g;b[0]!==c?(a=function(){if(c==null)return;c.initialize(f)},g=[c],b[0]=c,b[1]=a,b[2]=g):(a=b[1],g=b[2]);k(a,g);return e}function e(a){var b=d("react-compiler-runtime").c(4),c=j(m),e,f;b[0]!==a||b[1]!==c?(e=function(){if(c==null)return;c.setBottomRowAddOn(a)},f=[a,c],b[0]=a,b[1]=c,b[2]=e,b[3]=f):(e=b[2],f=b[3]);k(e,f)}g.VideoPlayerControlsBottomRowAddOnContext=m;g.VideoPlayerControlsBottomRowAddOnContextProvider=a;g.useVideoPlayerControlsBottomRowAddOn=b;g.useSetVideoPlayerControlsBottomRowAddOn=e}),98);
__d("VideoPlayerDefaultControlsProperties",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SAME_AS_OTHER_CONTROLS","SEPARATE_FROM_OTHER_CONTROLS"]);c=b("$InternalEnum")({VIDEO_CAPTIONS_MENU:"video_captions_menu",VIDEO_SETTINGS_MENU:"video_settings_menu"});f.MutedButtonVisibility=a;f.VideoMenuType=c}),66);
__d("VideoPlayerInstreamAdsStateHooks",["createVideoStateHook"],(function(a,b,c,d,e,f,g){"use strict";var h=(d=d("createVideoStateHook")).createVideoStateHook(),i=h.stateHook,j=h.valueHook,k=[];function a(){return i(k)}function b(){return j(k)}h=d.createVideoStateHook();var l=h.stateHook,m=h.valueHook,n=null;function c(){return l(n)}function e(){return m(n)}h=d.createVideoStateHook();var o=h.setterHook,p=h.valueHook,q=!0;function f(){return o(q)}function r(){return p(q)}h=d.createVideoStateHook();var s=h.stateHook,t=h.valueHook,u="INIT";function v(){return s(u)}function w(){return t(u)}h=d.createVideoStateHook();var x=h.stateHook,y=h.valueHook,z=!0;function A(){return x(z)}function B(){return y(z)}h=d.createVideoStateHook();var C=h.stateHook,D=h.valueHook,E=null;function F(){return C(E)}function G(){return D(E)}h=d.createVideoStateHook();var H=h.stateHook,I=h.valueHook,J=null;function K(){return H(J)}function L(){return I(J)}h=d.createVideoStateHook();var M=h.stateHook,N=h.valueHook,O=null;function P(){return M(O)}function Q(){return N(O)}h=d.createVideoStateHook();var R=h.stateHook,S=h.valueHook,T=null;function U(){return R(T)}function aa(){return S(T)}h=d.createVideoStateHook();var ba=h.stateHook,ca=h.valueHook,V=null;function da(){return ba(V)}function ea(){return ca(V)}h=d.createVideoStateHook();var fa=h.stateHook,ga=h.valueHook,W=0;function ha(){return fa(W)}function ia(){return ga(W)}h=d.createVideoStateHook();var ja=h.stateHook,ka=h.valueHook,X=!1;function la(){return ja(X)}function ma(){return ka(X)}h=d.createVideoStateHook();var na=h.stateHook,oa=h.valueHook,Y=!1;function pa(){return na(Y)}function qa(){return oa(Y)}h=d.createVideoStateHook();var ra=h.stateHook,sa=h.valueHook,Z=null;function ta(){return ra(Z)}function ua(){return sa(Z)}h=d.createVideoStateHook();var va=h.stateHook,wa=h.valueHook,$=null;function xa(){return va($)}function ya(){return wa($)}function za(){var a=w();return a==="STARTING_INDICATOR"||a==="START"||a==="START_AD"||a==="PLAY_NI_VIDEO"}g.useInstreamAdsMidRollsState=a;g.useInstreamAdsMidRollsValue=b;g.useInstreamAdsPostRollState=c;g.useInstreamAdsPostRollValue=e;g.useInstreamAdsPostRollEndedOrSkippedStateSetter=f;g.useInstreamAdsPostRollEndedOrSkippedStateValue=r;g.useInstreamAdsState=v;g.useInstreamAdsStateValue=w;g.useInstreamAdsIsEmptyState=A;g.useInstreamAdsIsEmptyStateValue=B;g.useInstreamAdsCurrentInsertionState=F;g.useInstreamAdsCurrentInsertionStateValue=G;g.useStartIndicatorBeginningTimeState=K;g.useStartIndicatorBeginningTimeStateValue=L;g.useAdBreaksTimeOffsetBeginningState=P;g.useAdBreaksTimeOffsetBeginningStateValue=Q;g.useInstreamAdsExtraFieldsState=U;g.useInstreamAdsExtraFieldsStateValue=aa;g.useInstreamAdsHideAdBehaviorState=da;g.useInstreamAdsHideAdBehaviorStateValue=ea;g.useUnifiedSchedulerLastFetchTimeState=ha;g.useUnifiedSchedulerLastFetchTimeStateValue=ia;g.useWaitingForAdFetchState=la;g.useWaitingForAdFetchStateValue=ma;g.useInstreamAdsHasCTAState=pa;g.useInstreamAdsHasCTAStateValue=qa;g.useInstreamAdsFeedContextCardState=ta;g.useInstreamAdsFeedContextCardStateValue=ua;g.useInstreamAdsFullScreenContextCardState=xa;g.useInstreamAdsFullScreenContextCardStateValue=ya;g.useInstreamAdsIsStart=za}),98);
__d("VideoPlayerInteractionOverlay.react",["VideoPlayerHooks","createVideoStateHook","performanceNow","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));k.useCallback;var m={hiddenCursor:{cursor:"xjfk50j",$$css:!0},pointer:{cursor:"x1ypdohk",$$css:!0},root:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",$$css:!0}};b=d("createVideoStateHook").createVideoStateHook(null);var n=b.setterHook;e=b.valueHook;function a(a){var b=d("react-compiler-runtime").c(15),e=a.children,f=a.pressInteraction,g=a.ref,k=a.style;a=a.xstyle;var o=n(),p;b[0]!==o?(p=function(a){a.preventDefault(),o({left:a.clientX,time:(h||(h=c("performanceNow")))(),top:a.clientY})},b[0]=o,b[1]=p):p=b[1];p=p;var q=f==null?void 0:f.handler,r=f==null?void 0:f.onPressStart,s=f==null?void 0:f.onMouseEnter;f=f==null?void 0:f.onMouseLeave;var t=(j||(j=d("VideoPlayerHooks"))).useIsFullscreen(),u=j.useIsMouseIdle(),v=!!q&&m.pointer;t=t&&u&&m.hiddenCursor;b[2]!==v||b[3]!==t||b[4]!==a?(u=(i||(i=c("stylex")))(m.root,v,t,a),b[2]=v,b[3]=t,b[4]=a,b[5]=u):u=b[5];b[6]!==e||b[7]!==p||b[8]!==s||b[9]!==f||b[10]!==q||b[11]!==r||b[12]!==k||b[13]!==u?(v=l.jsx("div",{className:u,onClick:q,onContextMenu:p,onMouseEnter:s,onMouseLeave:f,onPointerDown:r,ref:g,role:"presentation",style:k,children:e}),b[6]=e,b[7]=p,b[8]=s,b[9]=f,b[10]=q,b[11]=r,b[12]=k,b[13]=u,b[14]=v):v=b[14];return v}f=a;b=e;g.VideoPlayerInteractionOverlay=f;g.useLastRightClick=b}),98);
__d("VideoPlayerLoggingSuboriginContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("VideoPlayerPlayButton.react",["fbt","ix","CometImage.react","CometPressable.react","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function l(a){switch(a){case"LARGE":return i("352839");case"MEDIUM":return i("101640");case"SMALL":return i("354763")}}function a(a){var b=d("react-compiler-runtime").c(13),e=a.iconSize,f=a.isVisible;a=a.onClick;e=e===void 0?"LARGE":e;var g;b[0]!==e?(g=l(e),b[0]=e,b[1]=g):g=b[1];var i;b[2]!==g?(i=k.jsx(c("CometImage.react"),{src:g}),b[2]=g,b[3]=i):i=b[3];g=i;b[4]!==g||b[5]!==a?(i=a!=null?k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:592,children:k.jsx(c("CometPressable.react"),{display:"inline",label:h._(/*BTDS*/"Play Video"),onPress:a,overlayDisabled:!0,testid:void 0,children:g})}):g,b[4]=g,b[5]=a,b[6]=i):i=b[6];g=i;b[7]!==e||b[8]!==f?(a={0:{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x1hc1fzr x10l6tqk xwa60dl"},8:{className:"xy75621 xafmxuu x11i5rnm xat24cr x4mskuk xni59qk x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x1hc1fzr x10l6tqk xwa60dl"},4:{className:"xsdox4t xs9mwh0 x11i5rnm xat24cr x10ndw75 x1useyqa x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x1hc1fzr x10l6tqk xwa60dl"},12:{className:"xsdox4t xs9mwh0 x11i5rnm xat24cr x10ndw75 x1useyqa x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x1hc1fzr x10l6tqk xwa60dl"},2:{className:"xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x1hc1fzr x10l6tqk xwa60dl"},10:{className:"xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x1hc1fzr x10l6tqk xwa60dl"},6:{className:"xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x1hc1fzr x10l6tqk xwa60dl"},14:{className:"xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x1hc1fzr x10l6tqk xwa60dl"},1:{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x10l6tqk xwa60dl xg01cxk xlshs6z"},9:{className:"xy75621 xafmxuu x11i5rnm xat24cr x4mskuk xni59qk x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x10l6tqk xwa60dl xg01cxk xlshs6z"},5:{className:"xsdox4t xs9mwh0 x11i5rnm xat24cr x10ndw75 x1useyqa x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x10l6tqk xwa60dl xg01cxk xlshs6z"},13:{className:"xsdox4t xs9mwh0 x11i5rnm xat24cr x10ndw75 x1useyqa x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x10l6tqk xwa60dl xg01cxk xlshs6z"},3:{className:"xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x10l6tqk xwa60dl xg01cxk xlshs6z"},11:{className:"xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x10l6tqk xwa60dl xg01cxk xlshs6z"},7:{className:"xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x10l6tqk xwa60dl xg01cxk xlshs6z"},15:{className:"xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xtzzx4i x10l6tqk xwa60dl xg01cxk xlshs6z"}}[!!(e==="LARGE")<<3|!!(e==="MEDIUM")<<2|!!(e==="SMALL")<<1|!!!f<<0],b[7]=e,b[8]=f,b[9]=a):a=b[9];b[10]!==g||b[11]!==a?(i=k.jsx("i",babelHelpers["extends"]({},a,{children:g})),b[10]=g,b[11]=a,b[12]=i):i=b[12];return i}g["default"]=a}),226);
__d("VideoPlayerSmallPlayButton.react",["fbt","CometImage.react","CometPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.isVisible;a=a.onClick;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("CometImage.react"),{src:"/images/video/play_48dp.png"}),b[0]=f):f=b[0];f=f;b[1]!==a?(f=a!=null?j.jsx(c("CometPressable.react"),{display:"inline",label:h._(/*BTDS*/"Play Video"),onPress:a,overlayDisabled:!0,children:f}):f,b[1]=a,b[2]=f):f=b[2];a=f;b[3]!==e?(f={0:{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xsdox4t xtzzx4i xs9mwh0 x11i5rnm xat24cr x10ndw75 x1hc1fzr x10l6tqk xwa60dl x1useyqa"},1:{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk xsdox4t xtzzx4i xs9mwh0 x11i5rnm xat24cr x10ndw75 x10l6tqk xwa60dl x1useyqa xg01cxk xlshs6z"}}[!!!e<<0],b[3]=e,b[4]=f):f=b[4];b[5]!==a||b[6]!==f?(e=j.jsx("i",babelHelpers["extends"]({},f,{children:a})),b[5]=a,b[6]=f,b[7]=e):e=b[7];return e}g["default"]=a}),226);
__d("formatDurationSeconds",["fbt","padNumber"],(function(a,b,c,d,e,f,g,h){function a(a){var b=Math.floor(a/3600),d=Math.floor(a/60%60);a=Math.floor(a%60);if(b)return h._(/*BTDS*/"{hours}:{minutes}:{seconds}",[h._param("hours",b),h._param("minutes",c("padNumber")(d,2)),h._param("seconds",c("padNumber")(a,2))]);else return h._(/*BTDS*/"{minutes}:{seconds}",[h._param("minutes",d),h._param("seconds",c("padNumber")(a,2))])}g["default"]=a}),226);
__d("VideoPlayerTimeIndicator.react",["FDSText.react","formatDurationSeconds","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.shouldCenterSelf;a=a.timestampSec;var f=e===!0?"var(--always-black)":"var(--always-dark-overlay)",g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="x18l40ae x1lcm9me x1yr5g0i xrt01vj x10y3i5r x1wa3icf x123j3cw x1mpkggp xs9asl8 x1t2a60a x10l6tqk xuxw1ft",b[0]=g):g=b[0];var h;b[1]!==f?(h={backgroundColor:f},b[1]=f,b[2]=h):h=b[2];b[3]!==a?(f=c("formatDurationSeconds")(Math.round(a)),b[3]=a,b[4]=f):f=b[4];b[5]!==f?(a=i.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:f}),b[5]=f,b[6]=a):a=b[6];b[7]!==h||b[8]!==a?(f=i.jsx("div",{className:g,style:h,children:a}),b[7]=h,b[8]=a,b[9]=f):f=b[9];g=f;b[10]!==e||b[11]!==g?(h=e===!0?i.jsx("div",babelHelpers["extends"]({className:"x78zum5 xl56j7k x1n2onr6"},{children:g})):g,b[10]=e,b[11]=g,b[12]=h):h=b[12];return h}g["default"]=a}),98);
__d("VideoPlayerUserInteractionCounter",["react","react-compiler-runtime","unrecoverableViolation","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useRef,k=e.useState;function a(a,b,e){var f=d("react-compiler-runtime").c(12),g=j(a),h,k;f[0]!==a?(h=function(){if(a!==g.current)throw c("unrecoverableViolation")("User interaction name should not change between renders ('"+g.current+"' -> '"+a+"').","comet_video_player")},k=[a],f[0]=a,f[1]=h,f[2]=k):(h=f[1],k=f[2]);i(h,k);var l=j(e);f[3]!==e?(h=function(){l.current=e},k=[e],f[3]=e,f[4]=h,f[5]=k):(h=f[4],k=f[5]);i(h,k);var m=c("usePrevious")(b),n=j(!1);f[6]!==b||f[7]!==m?(h=function(){var a=g.current,c=l.current;c&&((m===null||b!==m)&&(b?(n.current=!0,c({name:a,type:"started"})):m!==null&&(n.current=!1,c({name:a,type:"ended"}))))},k=[b,m],f[6]=b,f[7]=m,f[8]=h,f[9]=k):(h=f[8],k=f[9]);i(h,k);f[10]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){var a=g.current,b=l.current;return function(){b&&n.current&&b({name:a,type:"ended"})}},k=[],f[10]=h,f[11]=k):(h=f[10],k=f[11]);i(h,k)}function b(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=new Set(),a[0]=b):b=a[0];var c=j(b);b=k(0);var e=b[0],f=b[1];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(a){var b=c.current;a.type==="started"||a.type==="happening"?(b.add(a.name),f(b.size)):a.type==="ended"&&(b["delete"](a.name),f(b.size))},a[1]=b):b=a[1];b=b;a[2]!==e?(b={ongoingInteractionsCount:e,onUserInteraction:b},a[2]=e,a[3]=b):b=a[3];return b}g.useVideoPlayerUserInteraction=a;g.useVideoPlayerUserInteractionCounter=b}),98);
__d("VideoPlayerWithLiveVideoInterruptedOverlay.react",["fbt","FDSLoadingAnimation.react","FDSTextPairing.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(){var a=d("react-compiler-runtime").c(3),b=(j||(j=d("VideoPlayerHooks"))).useStreamInterrupted(),e=j.useIsLiveRewindActive();if(!b||e)return null;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x18l40ae x1ey2m1c x9f619 x78zum5 xdt5ytf xds687c x17qophe xl56j7k x10l6tqk x13vifvy"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"The broadcast is waiting for a signal. It should resume shortly."),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{children:k.jsxs("div",babelHelpers["extends"]({},b,{children:[k.jsx("div",{children:k.jsx(c("FDSTextPairing.react"),{body:e,bodyColor:"white",headline:h._(/*BTDS*/"Waiting for live video signal"),headlineColor:"white",level:2,textAlign:"center"})}),k.jsx("div",babelHelpers["extends"]({className:"xc9qbxq x1sy10c2 x1n2onr6 x14qfxbe"},{children:k.jsx(c("FDSLoadingAnimation.react"),{size:36})}))]}))}),a[2]=b):b=a[2];return b}g["default"]=a}),226);
__d("useVideoPlayerControllerSubscription",["VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=b.useState;function a(a){var b=d("react-compiler-runtime").c(9),c=(i||(i=d("VideoPlayerHooks"))).useController(),e;b[0]!==c||b[1]!==a?(e=function(){return a(c,null)},b[0]=c,b[1]=a,b[2]=e):e=b[2];e=m(e);var f=e[0],g=e[1],h=l(a),n;b[3]!==a?(e=function(){h.current=a},n=[a],b[3]=a,b[4]=e,b[5]=n):(e=b[4],n=b[5]);k(e,n);b[6]!==c?(e=function(){g(function(a){return h.current(c,a)});var a=c.subscribe(function(){g(function(a){return h.current(c,a)})});return function(){a.remove()}},n=[c],b[6]=c,b[7]=e,b[8]=n):(e=b[7],n=b[8]);j(e,n);return f}g["default"]=a}),98);
__d("useAudioAvailabilityAtPlayhead",["VideoPlayerAudioAvailabilityInfo","VideoPlayerHooks","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=d("VideoPlayerHooks"))).useAudioAvailabilityInfo(),e;a[0]!==b?(e=function(a,c){a=a.getPlayheadPosition();a=d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityAtPlayheadInfo(b,{playheadPosition:a});return c!=null&&c.isPlayheadWithinMutedSegment===a.isPlayheadWithinMutedSegment&&c.isSilentAtPlayhead===a.isSilentAtPlayhead&&c.volumeControlState===a.volumeControlState?c:a},a[0]=b,a[1]=e):e=a[1];a=e;return c("useVideoPlayerControllerSubscription")(a)}g["default"]=a}),98);
__d("useFeedClickEventHandler",["react","react-compiler-runtime","useStoryClickEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(4),f=c("useStoryClickEventLogger")(),g;e[0]!==b||e[1]!==f||e[2]!==a?(g=function(c){a&&a(c);var d=c.type;if(d==="click"||d==="contextmenu"||d==="mousedown"&&typeof c.button==="number"&&(c.button===1||c.button===2)||d==="keydown"&&(c.key==="Enter"||c.key===" ")){d=typeof c.button==="number"?c.button:0;f(c.timeStamp,d,b)}},e[0]=b,e[1]=f,e[2]=a,e[3]=g):g=e[3];return g}g["default"]=a}),98);
__d("useInnerMostTrackingCode",["CometTrackingCodeContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(5),b=i(c("CometTrackingCodeContext")),e,f,g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],f=[],g=[],a[0]=e,a[1]=f,a[2]=g):(e=a[0],f=a[1],g=a[2]);if(a[3]!==b){e={click_tracking_linkshim_cb:e,encrypted_click_tracking:f,encrypted_tracking:g};for(f in b){g=b[f];var h=g.length;e[f]=h>0?[g[h-1]]:[]}a[3]=b;a[4]=e}else e=a[4];return e}g["default"]=a}),98);
__d("useIsVideoHomePlayerOriginFromTracePolicy",["react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(1),c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=["comet.watch.catalog","comet.watch.explore","comet.watch.feed","comet.watch.injection","comet.watch.latest","comet.watch.notifications","comet.watch.playlist","comet.watch.saved","comet.watch.search","comet.watch.sports","comet.watch.live.injection","comet.watch.live","comet.watch.music","comet.watch.lancelet"],b[0]=c):c=b[0];b=c;return b.includes(a)}g["default"]=a}),98);
__d("usePlayerOriginRouteTracePolicy",["CometNotificationsRootContext","CometRouteRenderType","react","useCometRouteTracePolicy","useCometRouterState","useParentRoute","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("CometNotificationsRootContext"));a=a.isNotificationsRoute;var b=c("useCometRouteTracePolicy")(),e=d("CometRouteRenderType").useIsPushView(),f=c("useParentRoute")(),g=c("useCometRouterState")(),h=c("useRoutePassthroughProps")();if((h==null?void 0:h.isARLTW)===!0)return"comet.watch.arltw";h=b==="comet.videos.tahoe";var j=b==="comet.stories.viewer",k=b==="comet.reels.home";if(e){if(h)return"unknown";if(j)return b;if(k&&(f==null?void 0:f.tracePolicy)==null&&g!=null){e=g.main;j=g.pushViewStack;k=j&&j.length>1?j[j.length-2]:e;g=k.route;return(j=g.tracePolicy)!=null?j:b}}return a&&!h?b:(e=f==null?void 0:f.tracePolicy)!=null?e:b}g["default"]=a}),98);
__d("useRelayClientStateWithLocalStorage",["CometRelay","FBLogger","WebStorage","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useEffect,l=new Set();function a(a,b,e,f){var g=l.has(b),i=d("CometRelay").useRelayEnvironment(),m=c("useStable")((h||(h=c("WebStorage"))).getLocalStorage),n=c("useStable")(function(){if(g||m==null)return f;var a=m.getItem(b);try{return a==null||a===""?f:JSON.parse(a)}catch(a){return f}}),o=j(function(c){d("CometRelay").commitLocalUpdate(i,function(d){d=d.get(a);if(d==null)return;if(d.getValue(e)===c)return;d.setValue(c,e);l.add(b)})},[i,e,a,b]);k(function(){if(m==null)return;if(!g)return;var a=JSON.stringify(f);if(a==null)return;try{m.setItem(b,a)}catch(b){b!=null&&typeof b==="object"&&b.code===22&&m.clear();a=c("FBLogger")("use_local_storage");b instanceof Error&&(a=a.catching(b));a.mustfix("Cannot save to local storage.")}},[b,g,m,f]);return[g?f:n,o]}g.useRelayClientStateWithLocalStorage=a}),98);
__d("useSelectedLatencySetting",["react-compiler-runtime","useRelayClientStateWithLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";var h="_video_LiveVideoLatencyMenuContextProvider_selected_latency_setting";function i(a){if(a==null)return null;switch(a){case"low":case"normal":return a;default:return null}}function a(a,b){var c=d("react-compiler-runtime").c(5);if(c[0]!==b){var e;e=(e=i(b))!=null?e:"normal";c[0]=b;c[1]=e}else e=c[1];b=d("useRelayClientStateWithLocalStorage").useRelayClientStateWithLocalStorage(a,h,"selected_latency_setting",e);a=b[0];e=b[1];c[2]!==a||c[3]!==e?(b=[a,e],c[2]=a,c[3]=e,c[4]=b):b=c[4];return b}g["default"]=a}),98);
__d("useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video",selections:[{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_country",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAvailableCaptionsLocalesFromRelay",["CometRelay","react","react-compiler-runtime","useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var c=d("react-compiler-runtime").c(2);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql"),a);a==null?void 0:a.video_available_captions_locales;if(c[0]!==(a==null?void 0:a.video_available_captions_locales)){var e;e=a==null?void 0:(e=a.video_available_captions_locales)==null?void 0:e.map(j);c[0]=a==null?void 0:a.video_available_captions_locales;c[1]=e}else e=c[1];a=e;c=a;return c}function j(a){return{captionsUrl:a.captions_url,locale:a.locale,localizedCountry:a.localized_country,localizedCreationMethod:a.localized_creation_method,localizedLanguage:a.localized_language}}g["default"]=a}),98);
__d("useVideoPlayerHasStartedPlayingAtLeastOnce",["VideoPlayerHooks","createVideoStateHook","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var k=b.stateHook;function a(){var a=d("react-compiler-runtime").c(4),b=k(!1),c=b[0],e=b[1],f=(i||(i=d("VideoPlayerHooks"))).usePlaying(),g;a[0]!==f||a[1]!==e?(b=function(){f&&e(!0)},g=[f,e],a[0]=f,a[1]=e,a[2]=b,a[3]=g):(b=a[2],g=a[3]);j(b,g);return c}g["default"]=a}),98);
__d("useVideoPlayerBigPlayButtonOverlay",["VideoPlayerHooks","VideoPlayerPlayButton.react","VideoPlayerSmallPlayButton.react","react","react-compiler-runtime","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(13),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.buttonSize;var f=a.forceVisible,g=a.overrideInteraction,h=a.shouldUnmute;a=e===void 0?"large":e;e=c("useVideoPlayerHasStartedPlayingAtLeastOnce")();var k=(i||(i=d("VideoPlayerHooks"))).usePaused(),l=i.useLastMuteReason(),m=i.useController(),n;b[2]!==m||b[3]!==l||b[4]!==h?(n=function(){m.play("user_initiated"),h===!0&&l!=="user_initiated"&&m.setMuted(!1,"product_initiated")},b[2]=m,b[3]=l,b[4]=h,b[5]=n):n=b[5];n=n;g=g!=null?g.handler:n;n=f===!0||f===!1?f:!e&&k;b[6]!==n||b[7]!==a||b[8]!==g?(f=a==="small"?j.jsx(c("VideoPlayerSmallPlayButton.react"),{isVisible:n,onClick:g}):j.jsx(c("VideoPlayerPlayButton.react"),{isVisible:n,onClick:g}),b[6]=n,b[7]=a,b[8]=g,b[9]=f):f=b[9];e=f;b[10]!==e||b[11]!==n?(k={bigPlayButtonElement:e,bigPlayButtonIsVisible:n},b[10]=e,b[11]=n,b[12]=k):k=b[12];return k}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EncryptedBackupTaskIssuedFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("EncryptedBackupTaskIssuedFalcoEvent").__setRef("EncryptedBackupTaskIssuedFalcoEventDeferred");function a(a){return h.load().then(function(b){return b.log(a)})}g.log=a}),98);
__d("EncryptedBackupTaskSkippedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5727");b=d("FalcoLoggerInternal").create("encrypted_backup_task_skipped",a);e=b;g["default"]=e}),98);
__d("LSWriteSupplementalMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeSupplementalMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[5])?c.resolve(d[11]=!1):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[11]=!0}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[4]=!0}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeSupplementalMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeSupplementalMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteSupplementalMessageStoredProcedure";a.__tables__=["local_message_persistence_store_supplemental"];e.exports=a}),null);
__d("LSWriteSupplementalMessageStoredProcedure",["LSSynchronousPromise","LSWriteSupplementalMessage","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSWriteSupplementalMessage"),e.messagePayload,e.threadId,e.toplevelOfflineThreadingId,e.supplementalKey,e.offlineThreadingId,e.messageTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSWriteTopLevelMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeTopLevelMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[3])?c.resolve(d[11]=!1):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[12]=!1:(a.item,d[12]=!0)})},function(b){return d[12]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[14]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[14]=!0}])},function(a){return d[11]=d[14]}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[11]=!1:(a.item,d[11]=!0)})},function(b){return d[11]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[13]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[13]=!0}])},function(a){return d[4]=d[13]}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeTopLevelMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeTopLevelMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteTopLevelMessageStoredProcedure";a.__tables__=["local_message_persistence_store","local_message_persistence_store_deleted_messages"];e.exports=a}),null);
__d("LSWriteTopLevelMessageStoredProcedure",["LSSynchronousPromise","LSWriteTopLevelMessage","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSWriteTopLevelMessage"),e.messagePayload,e.threadId,e.offlineThreadingId,e.messageTimestampMs,e.isLocalOnlyMessage,e.extraData);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessageBackupTagsDelimiter",[],(function(a,b,c,d,e,f){"use strict";a=":";f.INSTAMADILLO_TAG_DELIMITER=a}),66);
__d("EncryptedBackupsWriteToMPSTables",["EncryptedBackupsUploadEntity","FBLogger","I64","IGDWEBUploadMessageUtils","LSFactory","LSWriteSupplementalMessageStoredProcedure","LSWriteTopLevelMessageStoredProcedure","MessageBackupTagsDelimiter","WAErrorMessage","WAGetSafeQPLError","err","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ReverbWriteFailureFalcoEvent").__setRef("EncryptedBackupsWriteToMPSTables"),j=c("requireDeferred")("ReverbWriteSuccessFalcoEvent").__setRef("EncryptedBackupsWriteToMPSTables"),k=c("gkx")("8488");function l(a,b,d,e,f,g){e?c("promiseDone")(j.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:f,labyrinth_version:0,message_id:a,thread_id:b}})}):c("promiseDone")(i.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:f,failure_reason:g,labyrinth_version:0,message_id:a,thread_id:b}})})}async function a(a,b,e,f,g){var i=b.backupActionType,j=b.instamadilloItemId,m=b.msgId,n=b.originalMsgProtocolId,o=b.protobuf,p=b.serverTs,q=b.sortOrderMs;b=b.supplementalKey;g==null?void 0:g.addPoint("mps_tables_write_start");m=m.externalId;n=n==null?void 0:n.externalId;j=(j=j)!=null?j:q;if(j==null){g==null?void 0:g.addPoint("mps_tables_write_missing_protobuf_ts");throw c("err")("protobufTimestampMs is null when writing to MPS tables")}q=(h||(h=d("I64"))).of_float(j);j=!1;var r=k?"protobuf_only":"dual_upload";f&&(r="open_eb_ttlc");switch(i){case 1:g==null?void 0:g.addPoint("mps_top_level_write_start");try{f=await c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:q,offlineThreadingId:m,threadId:e});i=f[0];i&&(j=!0);l(m,e,"upsert_top_level",i,r);g==null?void 0:g.addPoint("mps_top_level_write",{bool:{mps_top_level_write_succesful:i}})}catch(a){l(m,e,"upsert_top_level",!1,r,d("WAErrorMessage").maybeGetMessageFromError(a)),g==null?void 0:g.addPoint("mps_top_level_write_error",{string:{mps_top_level_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 2:g==null?void 0:g.addPoint("mps_supplemental_write_start");if(n==null||b==null)l(m,e,"upsert_supplemental",!1,r),c("FBLogger")("labyrinth_web").warn("Missing toplevelOfflineThreadingId or supplementalKey when writing to MPS tables");else try{f=await c("LSWriteSupplementalMessageStoredProcedure")(c("LSFactory")(a),{messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:q,offlineThreadingId:m,supplementalKey:b,threadId:e,toplevelOfflineThreadingId:n});i=f[0];i&&(j=!0);l(m,e,"upsert_supplemental",i,r);g==null?void 0:g.addPoint("mps_supplemental_write",{bool:{mps_supplemental_write_successful:i}})}catch(a){l(m,e,"upsert_supplemental",!1,r,d("WAErrorMessage").maybeGetMessageFromError(a)),g==null?void 0:g.addPoint("mps_supplemental_write_error",{string:{mps_supplemental_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 4:g==null?void 0:g.addPoint("mps_delete_top_level_with_placeholder_write_start");if(n==null)break;try{q=await c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:(h||(h=d("I64"))).of_float(d("IGDWEBUploadMessageUtils").generateProtobufServerTs(n,p)),offlineThreadingId:m,threadId:e});b=q[0];b&&(j=!0);l(n,e,"delete_top_level",b,r);g==null?void 0:g.addPoint("mps_delete_top_level_with_placeholder_write",{bool:{mps_delete_top_level_with_placeholder_write_successful:b}})}catch(a){l(n,e,"delete_top_level_with_placeholder",!1,r,d("WAErrorMessage").maybeGetMessageFromError(a)),g==null?void 0:g.addPoint("mps_delete_top_level_with_placeholder_write_error",{string:{mps_delete_top_level_with_placeholder_write_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})}break;case 3:j=!0;n!=null&&l(n,e,"delete_top_level",!1,r);break;default:g==null?void 0:g.addPoint("mps_write_unsupported_backup_action_type"),c("FBLogger")("labyrinth_web").warn("Unsupported backupActionType when writing to MPS tables")}if(j){g==null?void 0:g.addPoint("mps_write_successful");return Promise.resolve(j)}else{g==null?void 0:g.addPoint("mps_write_unsuccessful");throw c("err")("Unsuccessful writing to MPS tables")}}async function b(a,b,c){var e=b.msgId,f=b.sortOrderMs;b=b.tags;b!=null&&b.length!==0&&f!=null&&await a.local_message_persistence_store_tag_index.put({localMessagePersistenceStoreKey:(h||(h=d("I64"))).of_string(e.externalId),messageTimestampMs:h.of_float(f),offlineThreadingId:e.externalId,tag:b.join(d("MessageBackupTagsDelimiter").INSTAMADILLO_TAG_DELIMITER),threadId:c})}g.writeToMPSTables=a;g.writeTagsToMPSTables=b}),98);
__d("LSEncryptedBackupsAttachmentErrorCode",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ERROR:0,UNKNOWN_ERROR:1,MEDIA_TYPE_MISSING:2,PRODUCT_TYPE_MISSING:3,SERIALIZATION_ERROR:21});f["default"]=a}),66);
__d("LSSerializeAttachmentBackupPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientMap.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][serializeAttachmentBackupPayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=void 0,d[3]=c.i64.of_int32(a[0].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[17]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[17]).then(function(a){return a=a,d[18]=a[0],d[19]=a[1],a})},function(a){return d[20]=d[18].get("attachment_trace_id"),d[2]=d[20]}])}):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[17]=new c.Map(),d[17].set("error_msg","Expected a nonempty query result"),d[17].set("code",c.i64.cast([0,3])),d[17].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[18]=c.createArray(),d[19]=(d[18].push(d[17]),d[18]),e=[void 0,d[18]],d[4]=e[0],d[5]=e[1],e):(b=a.item,d[17]=new c.Map(),d[17].set("backup_id",b.backupId),d[17].set("device_public_key_blob",b.devicePublicKeyBlob),d[17].set("device_private_key_blob",b.devicePrivateKeyBlob),d[17].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[17].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[17].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[17].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[17].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[17].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[17].set("orf_client_state_v2_blob",void 0),d[17].set("orf_v2_authority_level",void 0),d[17].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[17].set("device_id",b.deviceId),d[17].set("backup_tenancy",b.backupTenancy),d[17].set("encryption_version",b.encryptionVersion),d[17].set("revision_version",b.revisionVersion),d[17].set("initialize_restore_result",void 0),d[17].set("device_creation_timestamp_sec",void 0),d[17].set("authority_level",b.authorityLevel),e=[d[17],void 0],d[4]=e[0],d[5]=e[1],e)})},function(e){return d[7]=new c.Map(),d[7].set("value",d[4]),d[7].set("errors",d[5]),d[8]=d[7].get("value"),d[8]!==void 0?c.sequence([function(e){return d[17]=d[8].get("backup_id"),d[18]=d[8].get("device_public_key_blob"),d[19]=d[8].get("device_private_key_blob"),d[20]=d[8].get("epoch_storage_public_key_blob"),d[21]=d[8].get("epoch_storage_private_key_blob"),d[22]=d[8].get("epoch_auth_public_key_blob"),d[23]=d[8].get("epoch_auth_private_key_blob"),d[24]=d[8].get("mailbox_root_key_blob"),d[25]=d[8].get("ocmf_client_state_blob"),d[26]=d[8].get("orf_client_state_v2_blob"),d[27]=d[8].get("orf_v2_authority_level"),d[28]=d[8].get("oblivious_validation_token_blob"),d[29]=d[8].get("device_id"),d[30]=d[8].get("backup_tenancy"),d[31]=d[8].get("encryption_version"),d[32]=d[8].get("revision_version"),d[33]=d[8].get("initialize_restore_result"),d[34]=d[8].get("device_creation_timestamp_sec"),d[35]=d[8].get("authority_level"),c.i64.neq(d[29],void 0)?c.sequence([function(a){return d[38]=void 0,c.i64.neq(d[38],void 0)?c.resolve(d[39]=d[38]):c.sequence([function(a){return d[44]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[54]=(d[44].push(c.i64.cast([0,0])),d[44]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[54]=(d[44].push(c.i64.cast([0,2])),d[44]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[54]=(d[44].push(c.i64.cast([0,3])),d[44]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[48]?d[54]=(d[44].push(c.i64.cast([0,4])),d[44]):0,d[49]=c.createArray(),d[50]=c.i64.of_int32(d[44].length),c.i64.gt(d[50],c.i64.cast([0,0]))?c.loopAsync(d[50],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[44],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[49].push(d[55]),d[49])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[54]=c.createArray(),d[55]=c.i64.of_int32(d[49].length),c.i64.gt(d[55],c.i64.cast([0,0]))?c.loopAsync(d[55],function(a){return d[57]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[49],d[57]).then(function(a){return a=a,d[58]=a[0],d[59]=a[1],a})},function(a){return d[60]=(d[54].push(c.i64.to_string(d[58])),d[54])}])}):c.resolve()},function(a){return d[56]=d[54].join(","),d[51]=d[56]}])},function(a){return d[49].some(function(a){return c.i64.eq(d[31],a)})?d[52]=d[31]:d[52]=void 0,c.i64.neq(d[52],void 0)?d[53]=d[52]:d[53]=void 0,d[39]=d[53]}])},function(e){return c.i64.neq(d[39],void 0)?d[40]=d[39]:d[40]=c.i64.cast([0,0]),c.i64.neq(d[30],void 0)?d[41]=d[30]:d[41]=c.i64.cast([0,1]),c.i64.eq(a[4],c.i64.cast([0,0]))?c.sequence([function(e){return d[44]=c.createArray(),d[45]=c.i64.of_int32(a[0].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(e){return d[61]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[61]).then(function(a){return a=a,d[62]=a[0],d[63]=a[1],a})},function(e){return d[64]=d[62].get("media_type"),d[65]=d[62].get("zippy_object_id"),d[84]=d[65],d[66]=d[62].get("attachment_trace_id"),d[67]=c.createArray(),d[85]=(d[67].push(c.i64.to_string(d[17])),d[67]),d[85]=(d[67].push(d[84]),d[67]),d[68]=c.toJSON(d[67]),d[69]=c.createArray(),d[85]=(d[69].push(a[1]),d[69]),d[85]=(d[69].push(d[84]),d[69]),d[70]=c.toJSON(d[69]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[68]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[73]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[70]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[76]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[77]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[68]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[79]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[80]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[81]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return d[83]=new c.Map(),d[83].set("attachment_index_key",d[74]==null?"":d[74]),d[83].set("media_type",d[64]),d[83].set("zippy_object_id",d[84]),d[83].set("attachment_trace_id",d[66]),d[83].set("salt_partial_access_token",d[78]==null?"":d[78]),d[83].set("salt_partial_attachment_index_key",d[82]==null?"":d[82]),d[85]=(d[44].push(d[83]),d[44])}])}):c.resolve()},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[25],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(b){return d[58]=new c.Map(),d[58].set("attachment_infos",d[44]),d[58].set("message_partial_id",d[49]==null?"":d[49]),d[58].set("product_type",a[3]),d[58].set("salt_partial_id",d[53]==null?"":d[53]),d[58].set("thread_partial_id",d[57]==null?"":d[57]),d[59]=c.toJSON(d[58]),d[60]=new c.Map(),d[60].set("payload",d[59]),b=[d[60],void 0],d[42]=b[0],d[43]=b[1],b}]):c.resolve((a[5]!==void 0?d[44]=a[5]:d[44]="",d[45]=".",d[46]=new c.Map(),d[46].set("error_code",c.i64.cast([-1,4294967295])),d[46].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[46].set("error_message",d[44]),e=[void 0,d[46]],d[42]=e[0],d[43]=e[1],e))},function(a){return a=[d[42],d[43]],d[36]=a[0],d[37]=a[1],a}]):c.resolve((d[38]=".",d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,24])),d[39].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[39].set("error_message",""),e=[void 0,d[39]],d[36]=e[0],d[37]=e[1],e))},function(a){return a=[d[36],d[37]],d[9]=a[0],d[10]=a[1],a}]):c.resolve((d[17]=d[7].get("errors"),d[18]=d[7].get("errors"),d[19]=".",d[20]=new c.Map(),d[20].set("error_code",c.i64.cast([0,1])),d[20].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[20].set("error_message",""),e=[void 0,d[20]],d[9]=e[0],d[10]=e[1],e))},function(a){return d[11]=c.i64.of_float(Date.now()),d[12]=c.i64.random(),d[14]="Finishing execution. Execution time: ",d[15]=c.i64.to_string(c.i64.sub(d[11],d[0])),d[16]=" ms",d[13]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][serializeAttachmentBackupPayload] ",d[13],d[14],d[13],d[15],d[13],d[16]].join("")),c.i64.eq(c.i64.mod_(d[12],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[17]=",",d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeAttachmentBackupPayload",[d[14],d[17],d[15],d[17],d[16]].join(""),d[18],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[9],d[10]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSWriteToPendingProtobufBackupsContextV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(305).add({pk:void 0,pendingBackupTaskId:a[0],actThreadId:a[1],toplevelOfflineThreadingId:a[2],messageTimestampMs:a[6],backupAction:a[7],supplementalKey:a[5],attachmentPayload:a[8],senderId:a[9]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSEncryptedBackupsWriteToPendingProtobufBackupsContextV2StoredProcedure";a.__tables__=["pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSIssueMessageBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSSerializeAttachmentBackupPayload","LSWriteToPendingProtobufBackupsContextV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageBackup] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1],e)})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[36]=void 0,c.i64.neq(d[36],void 0)?c.resolve(d[37]=d[36]):c.sequence([function(a){return d[48]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[49]=a[0],a})},function(a){return d[49]?d[58]=(d[48].push(c.i64.cast([0,0])),d[48]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[50]?d[58]=(d[48].push(c.i64.cast([0,2])),d[48]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[51]?d[58]=(d[48].push(c.i64.cast([0,3])),d[48]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[52]?d[58]=(d[48].push(c.i64.cast([0,4])),d[48]):0,d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[58]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[58]).then(function(a){return a=a,d[59]=a[0],d[60]=a[1],a})},function(a){return d[61]=(d[53].push(d[59]),d[53])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[58]=c.createArray(),d[59]=c.i64.of_int32(d[53].length),c.i64.gt(d[59],c.i64.cast([0,0]))?c.loopAsync(d[59],function(a){return d[61]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[53],d[61]).then(function(a){return a=a,d[62]=a[0],d[63]=a[1],a})},function(a){return d[64]=(d[58].push(c.i64.to_string(d[62])),d[58])}])}):c.resolve()},function(a){return d[60]=d[58].join(","),d[55]=d[60]}])},function(a){return d[53].some(function(a){return c.i64.eq(d[29],a)})?d[56]=d[29]:d[56]=void 0,c.i64.neq(d[56],void 0)?d[57]=d[56]:d[57]=void 0,d[37]=d[57]}])},function(e){var f;return c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[39]=d[28]:d[39]=c.i64.cast([0,1]),c.sequence([function(e){return a[11]!==void 0?c.sequence([function(e){return d[50]=a[11].get("attachment_infos"),d[51]=a[11].get("attachment_infos"),d[52]=a[11].get("product_type"),d[53]=a[11].get("error"),d[54]=a[11].get("error_message"),c.storedProcedure(b("LSSerializeAttachmentBackupPayload"),d[51],a[1],a[0],d[52],d[53],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[55]?d[57]=!1:d[57]=!0,d[57]?c.sequence([function(a){return d[56]?d[63]=!1:d[63]=!0,d[63]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Invalid Attachment payload generated"),d[68]="Invalid Attachment payload generated",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[68]].join("")),d[67]=c.createArray(),void 0!==void 0?d[69]=(d[67].push(void 0),d[67]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[68],d[67],c.i64.cast([0,3]))},function(a){return a=[void 0,void 0,d[50]],d[64]=a[0],d[65]=a[1],d[66]=a[2],a}]):c.resolve((a=[void 0,d[56],d[50]],d[64]=a[0],d[65]=a[1],d[66]=a[2],a))},function(a){return a=[d[64],d[65],d[66]],d[58]=a[0],d[59]=a[1],d[60]=a[2],a}]):c.resolve((d[63]=d[55].get("payload"),a=[d[63],void 0,d[50]],d[58]=a[0],d[59]=a[1],d[60]=a[2],a))},function(b){return d[63]=new c.Map(),d[64]=d[63].set("success",d[58]),d[65]=d[63].set("failure",d[59]),d[66]=d[63].set("upload_context",d[60]),d[67]=c.toJSON(d[63]),d[61]=d[67],d[62]=a[11].get("error"),b=[d[61],d[62]],d[48]=b[0],d[49]=b[1],b}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Null Attachments for the message"),e=[void 0,void 0],d[48]=e[0],d[49]=e[1],e))},function(a){return a=[d[48],d[49]],d[40]=a[0],d[41]=a[1],a}])},function(e){return d[46]=c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100]))),a[9]!==void 0?(d[48]=a[9].get("backup_action"),c.i64.eq(d[48],c.i64.cast([0,4]))?d[49]=a[2]:d[49]=d[46],d[42]=d[49]):d[42]=d[46],d[47]=["Sort Key (",c.i64.to_string(d[42]),") is not in MS. ","auth_ts (",c.i64.to_string(a[2]),"), otid (",a[1],")"].join(""),c.i64.lt(d[42],c.i64.cast([2,1410065408]))?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[47]].join("")),d[48]=c.createArray(),void 0!==void 0?d[49]=(d[48].push(void 0),d[48]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[47],d[48],c.i64.cast([0,3]))):c.i64.gt(c.i64.sub(d[42],c.i64.cast([249,3468343296])),c.i64.cast([255,4294967295]))?(function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ","",d[47]].join("")),d[48]=c.createArray(),void 0!==void 0?d[49]=(d[48].push(void 0),d[48]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[47],d[48],c.i64.cast([0,3]))):c.resolve()},function(e){return d[43]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[43],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[43],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[44],actionType:c.i64.cast([0,1]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(d[42]),persistentId:"",isInstamadillo:a[12],echoContent:a[4],lsTraceId:a[5],error:a[6],echoEncodingLatencyNs:a[7],errorMessage:a[8],attachmentPayload:d[40],attachmentErrorCode:d[41]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?(d[48]=c.createArray(),d[50]=(d[48].push("Successfully issued message backup task. act thread id = "),d[48]),d[50]=(d[48].push(a[0]),d[48]),d[50]=(d[48].push(", otid = "),d[48]),d[50]=(d[48].push(a[1]),d[48]),d[49]=d[48].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[49]].join("")),c.resolve()):(d[48]=c.createArray(),d[50]=(d[48].push("Successfully issued message remove task. act thread id = "),d[48]),d[50]=(d[48].push(a[0]),d[48]),d[50]=(d[48].push(", otid = "),d[48]),d[50]=(d[48].push(a[1]),d[48]),d[49]=d[48].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[49]].join("")),c.resolve()):(d[48]=c.createArray(),d[50]=(d[48].push("Successfully issued thread remove task. act thread id = "),d[48]),d[50]=(d[48].push(a[0]),d[48]),d[49]=d[48].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[49]].join("")),c.resolve())},function(e){return a[9]!==void 0?c.sequence([function(e){return d[48]=a[9].get("act_thread_id"),d[49]=a[9].get("backup_action"),d[50]=a[9].get("toplevel_offline_threading_id"),d[51]=a[9].get("supplemental_offline_threading_id"),d[52]=a[9].get("message_timestamp_ms"),d[53]=a[9].get("supplemental_key"),d[54]=a[9].get("attachment_payload"),d[55]=a[9].get("extra_data_for_eb_upload"),d[56]=a[9].get("message_protobuf"),c.storedProcedure(b("LSWriteToPendingProtobufBackupsContextV2"),d[44],d[48],d[50],d[51],void 0,d[53],d[52],d[49],d[54],void 0,d[56],d[55])},function(e){return d[57]=a[9].get("backup_action"),c.i64.eq(d[42],a[2])?(d[59]=["Sort key and authoritative_ts are equal for event type: ",c.i64.to_string(d[57])].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[59]].join("")),d[58]=c.createArray(),void 0!==void 0?d[60]=(d[58].push(void 0),d[58]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[59],d[58],c.i64.cast([0,4]))):(d[59]=["Sort key (",c.i64.to_string(d[42]),") and authoritative_ts (",c.i64.to_string(a[2]),") are not equal given OTID (",a[1],") for event type: ",c.i64.to_string(d[57])].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[59]].join("")),d[58]=c.createArray(),void 0!==void 0?d[60]=(d[58].push(void 0),d[58]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[59],d[58],c.i64.cast([0,4])))}]):c.i64.eq(d[42],a[2])?(d[49]=["Sort key and authoritative_ts are equal for event type: ",c.i64.to_string(c.i64.cast([-1,4294967295]))].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[49]].join("")),d[48]=c.createArray(),void 0!==void 0?d[50]=(d[48].push(void 0),d[48]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[49],d[48],c.i64.cast([0,4]))):(d[49]=["Sort key (",c.i64.to_string(d[42]),") and authoritative_ts (",c.i64.to_string(a[2]),") are not equal given OTID (",a[1],") for event type: ",c.i64.to_string(c.i64.cast([-1,4294967295]))].join(""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] ",d[49]].join("")),d[48]=c.createArray(),void 0!==void 0?d[50]=(d[48].push(void 0),d[48]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure",d[49],d[48],c.i64.cast([0,4])))},function(a){return d[45]=new c.Map(),d[45].set("task_id",d[44]),a=[d[45],void 0],d[34]=a[0],d[35]=a[1],a}]):c.sequence([function(b){return d[36]=c.createArray(),d[39]=(d[36].push("Skipping the message upload since EB is disabled. act thread id = "),d[36]),d[39]=(d[36].push(a[0]),d[36]),d[39]=(d[36].push(", otid = "),d[36]),d[39]=(d[36].push(a[1]),d[36]),d[37]=d[36].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[37]].join("")),c.resolve()},function(a){return d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),d[38].set("error_message",""),a=[void 0,d[38]],d[34]=a[0],d[35]=a[1],a}])},function(a){return a=[d[34],d[35]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping the message upload since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[20]=(d[17].push(", otid = "),d[17]),d[20]=(d[17].push(a[1]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1],a}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageBackup",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageBackupStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueMessageBackupStoredProcedure",["LSIssueMessageBackup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageBackup"),e.actThreadId,e.otid,e.authoritativeTs,e.source,e.echoDocument,e.traceId,e.error,e.echoEncodingLatencyNs,e.errorMessage,e.protobufBackupContext,e.tamThreadSubtype,e.attachmentBackupContext,e.isInstamadillo);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueMessageRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1],e)})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[36]=void 0,c.i64.neq(d[36],void 0)?c.resolve(d[37]=d[36]):c.sequence([function(a){return d[43]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[53]=(d[43].push(c.i64.cast([0,0])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[53]=(d[43].push(c.i64.cast([0,2])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[53]=(d[43].push(c.i64.cast([0,3])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[53]=(d[43].push(c.i64.cast([0,4])),d[43]):0,d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[53]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[53]).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[56]=(d[48].push(d[54]),d[48])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[56]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[56]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return d[59]=(d[53].push(c.i64.to_string(d[57])),d[53])}])}):c.resolve()},function(a){return d[55]=d[53].join(","),d[50]=d[55]}])},function(a){return d[48].some(function(a){return c.i64.eq(d[29],a)})?d[51]=d[29]:d[51]=void 0,c.i64.neq(d[51],void 0)?d[52]=d[51]:d[52]=void 0,d[37]=d[52]}])},function(e){return c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[39]=d[28]:d[39]=c.i64.cast([0,1]),d[40]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[40],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[40],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[41],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100])))),persistentId:"",isInstamadillo:!1,lsTraceId:a[4],error:a[5]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message backup task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[1]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[1]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued thread remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[44]].join("")),c.resolve())},function(a){return d[42]=new c.Map(),d[42].set("task_id",d[41]),a=[d[42],void 0],d[34]=a[0],d[35]=a[1],a}]):c.sequence([function(b){return d[36]=c.createArray(),d[39]=(d[36].push("Skipping message upload since EB is disabled. act thread id = "),d[36]),d[39]=(d[36].push(a[0]),d[36]),d[39]=(d[36].push(", otid = "),d[36]),d[39]=(d[36].push(a[1]),d[36]),d[37]=d[36].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[37]].join("")),c.resolve()},function(a){return d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[38].set("error_message",""),a=[void 0,d[38]],d[34]=a[0],d[35]=a[1],a}])},function(a){return a=[d[34],d[35]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping message upload since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[20]=(d[17].push(", otid = "),d[17]),d[20]=(d[17].push(a[1]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1],a}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageRemove",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueMessageRemoveStoredProcedure",["LSIssueMessageRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageRemove"),e.actThreadId,e.otid,e.authoritativeTs,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSTamThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({STANDARD:0,VANISH_MODE:1,DUAL_SEND_SHADOW:2,BTV_COMPANION:3,BLEND_DUAL_SEND:4,BLEND_DUAL_SEND_NO_NETWORK:5});f["default"]=a}),66);
__d("MAWBridgeUploadMessageHandler",["EBIsEbEnabled","EncryptedBackupsWriteToMPSTables","FBLogger","I64","LSDataTraceCheckPoint","LSEncryptedBackupsAttachmentErrorCode","LSFactory","LSIntEnum","LSIssueMessageBackupStoredProcedure","LSIssueMessageRemoveStoredProcedure","LSMEBTaskCreationSource","LSShape","LSTamThreadSubtype","LSVec","MAWCastToMsgrServerMediaType","MAWEBFrontendQPLLogger","MAWMsgType","MAWTraceUtils","MWEBODSEntityName.enum","MWEBODSUtils","WATimeUtils","cr:17101","gkx","isInstamadillo","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,e){var f,g;if(c("isInstamadilloEB")())return Promise.resolve();var l=k(e.uploadTrackingInstanceKey);e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_bridge_handler");d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+((f=e.messageType)!=null?f:"unknown"));f=e.protoMsg;var m=e.traceId;g=((g=e.uploadTrackingInstanceKey)!=null?g:e.traceId).toString();if(!await d("EBIsEbEnabled").isEbEnabledLS(a,m,l)){if(e.uploadTrackingInstanceKey!=null){m=e.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(m,"user_device_not_enrolled_invalid_echo_request");d("MAWEBFrontendQPLLogger").endEBUploadTracking(m)}d("MAWTraceUtils").recordCheckpointForTrace(g,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED),[],!1);d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(g,h.ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return}m=e.echoDocument;var n=d("WATimeUtils").castMilliSecondsToUnixTime(e.sortOrderMs);if(e.actionType===1){var o=e.echoEncodingLatencyNs,p=e.errorCode,q=e.errorMessage;e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"issuing_message_backup");var r;if(f!=null)try{var s=f.sortOrderMs;if(s==null)throw c("FBLogger")("messenger_web").mustfixThrow("sort order is null for the protobuf message");await d("EncryptedBackupsWriteToMPSTables").writeToMPSTables(a,f,e.threadId,!1,l);r=d("LSShape").ofRecord({act_thread_id:e.threadId,attachment_payload:null,backup_action:(h||(h=d("LSIntEnum"))).ofNumber(f.backupActionType),message_timestamp_ms:(i||(i=d("I64"))).of_float(s),supplemental_key:f.supplementalKey,toplevel_offline_threading_id:(s=(l=f.originalMsgProtocolId)==null?void 0:l.externalId)!=null?s:f.msgId.externalId})}catch(a){a instanceof Error?c("FBLogger")("labyrinth_web").catching(a).mustfix("[labyrinth_web] Error writing to MPSTables for the upload message due to runtime error"):c("FBLogger")("labyrinth_web").mustfix("[labyrinth_web] Error writing to MPSTables for the upload message")}var t;if(e.attachmentBackupContext!=null){l=j({bridgeUploadAttachmentBackupContext:e.attachmentBackupContext,messageId:e.messageId,serverThreadKey:null,threadId:e.threadId,traceId:e.traceId});l!=null&&(t=d("LSShape").ofRecord(l))}e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_handler_echo_protobuf_context",{bool:{attachment_backup_context:t!=null,protobuf_context:r!=null}});if(e.messageType!=null){s=d("MAWMsgType").isMAWSupportedMediaType(e.messageType)?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+s)}t!=null&&d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.attachment_unified_backup");await c("LSIssueMessageBackupStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,attachmentBackupContext:t,authoritativeTs:(i||(i=d("I64"))).of_float(n*1e3),echoDocument:(f=m)!=null?f:"",echoEncodingLatencyNs:o!=null?(i||(i=d("I64"))).of_float(o):void 0,error:p!=null?(h||(h=d("LSIntEnum"))).ofNumber(p):void 0,errorMessage:q!=null?q:void 0,isInstamadillo:c("isInstamadillo")(),otid:e.messageId,protobufBackupContext:r,source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),tamThreadSubtype:h.ofNumber(c("isInstamadillo")()?c("LSTamThreadSubtype").BLEND_DUAL_SEND:c("LSTamThreadSubtype").STANDARD),traceId:g});e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_upload_task_issued");void b("cr:17101").log(function(){return{message_id:e.messageId,trace_id:e.traceId}})}else e.actionType===2&&(await c("LSIssueMessageRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,authoritativeTs:(i||(i=d("I64"))).of_float(n*1e3),otid:e.messageId,source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),traceId:g}),e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_remove_task_issued"))}function j(a){var b;if(!c("gkx")("6956"))return void 0;var e=a.bridgeUploadAttachmentBackupContext,f=a.messageId,g=a.serverThreadKey,i=a.threadId;a=a.traceId;if(e.attachmentInfos.length===0)return;var j=e.attachmentInfos;d("MAWEBFrontendQPLLogger").startFlowUploadAttachmentBackup({deliveryObjectId:j[0].zippyObjectId,flow:"unified",mediaType:(b=d("MAWCastToMsgrServerMediaType").castMediaAttachmentTypeToServerMediaType(j[0].mediaType))!=null?b:"unknown",messageId:f,threadId:i,traceId:a});b=c("LSVec").ofArray(j.map(function(a){return d("LSShape").ofRecord({attachment_trace_id:a.attachmentTraceId,media_type:a.mediaType,zippy_object_id:a.zippyObjectId})}));f=(h||(h=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").NO_ERROR);e.error!=null&&(f=(h||(h=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").UNKNOWN_ERROR));i={attachment_infos:b,error:f,error_message:null,product_type:e.productType,server_thread_key:g};return i}function k(a){return a==null?null:d("MAWEBFrontendQPLLogger").makeEBFrontendQplFlowFromInstanceKey(a)}g.call=a;g.getMessageUploadAttachmentBackupContext=j}),98);
__d("MAWEBFalcoLoggerUtils",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=(f=c("requireDeferred"))("EncryptedBackupTaskFailureFalcoEvent").__setRef("MAWEBFalcoLoggerUtils"),i=f("EncryptedBackupTaskIssuedFalcoEvent").__setRef("MAWEBFalcoLoggerUtils"),j=f("EncryptedBackupTaskSkippedFalcoEvent").__setRef("MAWEBFalcoLoggerUtils"),k=f("EncryptedBackupUploadSuccessFalcoEvent").__setRef("MAWEBFalcoLoggerUtils"),l={0:"unknown",1:"upsert_top_level",2:"upsert_supplemental",3:"delete_top_level",4:"delete_top_level_with_placeholder"};function a(a,b){m(a,b)}function b(a,b,c){m(a,b,c)}function d(a,b,c){m(a,b,void 0,c)}function m(a,b,c,d){c!=null?void h.onReady(function(d){d.log(function(){var d;return{backup_action:(d=l[(d=(d=a.protoMsg)==null?void 0:d.backupActionType)!=null?d:0])!=null?d:"unknown",backup_protocol:b,failure_reason:c,labyrinth_version:0,message_id:(d=(d=a.protoMsg)==null?void 0:(d=d.msgId)==null?void 0:d.externalId)!=null?d:a.messageId,thread_id:a.threadId,trace_id:a.traceId}})}):d!=null?void j.onReady(function(c){c.log(function(){var c;return{backup_action:(c=l[(c=(c=a.protoMsg)==null?void 0:c.backupActionType)!=null?c:0])!=null?c:"unknown",backup_protocol:b,labyrinth_version:0,message_id:(c=(c=a.protoMsg)==null?void 0:(c=c.msgId)==null?void 0:c.externalId)!=null?c:a.messageId,skipped_reason:d,thread_id:a.threadId,trace_id:a.traceId}})}):void i.onReady(function(c){c.log(function(){var c;return{backup_action:(c=l[(c=(c=a.protoMsg)==null?void 0:c.backupActionType)!=null?c:0])!=null?c:"unknown",backup_protocol:b,labyrinth_version:0,message_id:(c=(c=a.protoMsg)==null?void 0:(c=c.msgId)==null?void 0:c.externalId)!=null?c:a.messageId,thread_id:a.threadId,trace_id:a.traceId}})})}function e(a){void k.onReady(function(b){b.log(function(){var b;return{labyrinth_version:0,message_id:(b=(b=a.protoMsg)==null?void 0:(b=b.msgId)==null?void 0:b.externalId)!=null?b:a.messageId,thread_id:a.threadId,trace_id:a.traceId}})})}g.BackupActionMap=l;g.logEBFalcoTaskIssued=a;g.logEBFalcoTaskFailure=b;g.logEBFalcoTaskSkipped=d;g.logEBFalcoEncryptedBackupUploadSuccess=e}),98);/*FB_PKG_DELIM*/
__d("CometContactPresenceUpdaterWithANScore_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometContactPresenceUpdaterWithANScore_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"mnet_rank_type",value:["INBOX_ACTIVE_NOW"]}],concreteType:"MNetRankConnection",kind:"LinkedField",name:"mnet_ranks",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetRankEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MNetRank",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetItemConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rank_score",storageKey:null}],type:"MNetContactItem",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'mnet_ranks(mnet_rank_type:["INBOX_ACTIVE_NOW"])'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometContactPresenceUtils_ContactProfilesQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23927746473517173"}),null);
__d("CometContactPresenceUtils_ContactProfilesQuery.graphql",["CometContactPresenceUtils_ContactProfilesQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"contactsProfilePictureDimensionPx"},c={defaultValue:null,kind:"LocalArgument",name:"ids"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e=[{kind:"Variable",name:"ids",variableName:"ids"}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:[{kind:"Variable",name:"height",variableName:"contactsProfilePictureDimensionPx"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"contactsProfilePictureDimensionPx"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},i={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometContactPresenceUtils_ContactProfilesQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contact_nodes",plural:!0,selections:[f,g,h,i],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"CometContactPresenceUtils_ContactProfilesQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contact_nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},g,h,i],storageKey:null}],storageKey:null}]},params:{id:b("CometContactPresenceUtils_ContactProfilesQuery_facebookRelayOperation"),metadata:{},name:"CometContactPresenceUtils_ContactProfilesQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("chunkArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=[],d=0;while(a.length>d)c.push(a.slice(d,d+b)),d+=b;return c}f["default"]=a}),66);
__d("CometContactPresenceUtils",["CometContactPresenceUtils_ContactProfilesQuery.graphql","CometHomeContactsConfig","CometRelay","CurrentUser","FBLogger","MWInboxTrayGating","PresenceCommonPresenceCommonTypes","WebPixelRatio","chunkArray","react-compiler-runtime","usePresenceUnifiedMapContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometContactPresenceUtils_ContactProfilesQuery.graphql"),j={height:c("CometHomeContactsConfig").contactsProfilePictureDimensionPx,scale:d("WebPixelRatio").get(),width:c("CometHomeContactsConfig").contactsProfilePictureDimensionPx},k=500;function l(a,b){a=c("chunkArray")(Array.from(a),k);a=a.map(function(a){return d("CometRelay").fetchQuery(b,i,{contactsProfilePictureDimensionPx:c("CometHomeContactsConfig").contactsProfilePictureDimensionPx,ids:a,scale:d("WebPixelRatio").get()},{fetchPolicy:"store-or-network"}).toPromise()});return Promise.all(a)}async function m(a,b){var c=new Map(),d=new Set(a);b.commitUpdate(function(a){for(var b of d){var e=a.get(b);if((e==null?void 0:e.getType())!=="User"||(e==null?void 0:e.getValue("name"))==null)continue;var f=e.getLinkedRecord("profile_picture",j);(f==null?void 0:f.getValue("uri"))!=null&&(c.set(b,e),d.delete(b))}});var e=[];a=await l(d,b);a.forEach(function(a){a=(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_sidebar_contact_nodes)||[];a.forEach(function(a){a!=null&&e.push(a)})});b.commitUpdate(function(a){for(var b of e){var d=n(b,a);d!=null&&b.id!=null&&c.set(b.id,d)}});return c}function n(a,b){var c=a==null?void 0:a.id;if(c==null)return;var d=b.get(c);d==null&&(d=b.create(c,"User"));b=a==null?void 0:a.name;if(b==null)return;d.setValue(b,"name");c=d.getOrCreateLinkedRecord("profile_picture","Image",j);b=a==null?void 0:(b=a.profile_picture)==null?void 0:b.uri;if(b==null)return;c.setValue(a==null?void 0:(b=a.profile_picture)==null?void 0:b.uri,"uri");d.setLinkedRecord(c,"profile_picture",j);b=a==null?void 0:a.short_name;b!=null&&d.setValue(b,"short_name");return d}function o(a,b){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("messenger_presence_web").mustfix("Viewer should not be null here, something has gone horribly wrong");return}a.setLinkedRecords(b,"chat_sidebar_contacts",{count:c("CometHomeContactsConfig").numContactsToFetch});c("CometHomeContactsConfig").numContactsToFetch!==d("MWInboxTrayGating").getNumberOfContactsToFetch()&&a.setLinkedRecords(b,"chat_sidebar_contacts",{count:d("MWInboxTrayGating").getNumberOfContactsToFetch()})}function a(a,b){a=p(a);return(a==null?void 0:a.presenceStatus)!=null?(a==null?void 0:a.presenceStatus)===d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active:(a=b)!=null?a:!1}function e(a,b){a=p(a);return(a==null?void 0:a.lastActiveTimeSeconds)!=null?Number(a.lastActiveTimeSeconds):b}function p(a){var b=d("react-compiler-runtime").c(3),c=d("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),e;b[0]!==a||b[1]!==c?(e=c.get(a),b[0]=a,b[1]=c,b[2]=e):e=b[2];return e}function q(a,b,c){for(b of b){var e=a.get(b);e==null&&(e=a.create(b,"User"));var f=!1,g=null,h=c.get(b);if(h!=null){var i=h.presenceStatus;f=i===d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active;g=Number(h.lastActiveTimeSeconds);i=f?"ACTIVE":"IDLE";e.getValue("availability")!==i&&e.setValue(i,"availability");e.getValue("last_active_time")!==g&&e.setValue(g,"last_active_time")}}}async function f(a,b,e,f){f===void 0&&(f=!1);e=Array.from(e.entries());e=new Map(e.sort(function(a,b){return b[1]-a[1]}));e=Array.from(e.keys());var g=new Set(),h=new Set();g=new Set(Array.from(b.values()).filter(function(a){var b=a.presenceStatus;a=a.userId;return c("CurrentUser").getID()!==a&&b===d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active}).map(function(a){return a.userId}));f&&(h=new Set(Array.from(b.values()).filter(function(a){var b=a.presenceStatus;a=a.userId;return c("CurrentUser").getID()!==a&&b!==d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active}).map(function(a){return a.userId})));var i=new Set(),k=[];for(f of e){if(f==null||i.has(f))continue;i.add(f);k.push(f);g.delete(f);h.delete(f)}a.commitUpdate(function(a){for(var c of g){var d=a.get(c);if(d==null)continue;if((d==null?void 0:d.getValue("name"))!=null){d=d.getLinkedRecord("profile_picture",j);(d==null?void 0:d.getValue("uri"))!=null&&(k.push(c),g.delete(c))}}k.push.apply(k,Array.from(g.values()));for(d of h){c=a.get(d);if(c==null||i.has(d))continue;if((c==null?void 0:c.getValue("name"))!=null){c=c.getLinkedRecord("profile_picture",j);(c==null?void 0:c.getValue("uri"))!=null&&(k.push(d),i.add(d),h.delete(d))}}k.push.apply(k,Array.from(h.values()));q(a,k,b)});var l=await m(new Set(k),a),n=k.map(function(a){return l.get(a)}).filter(Boolean);a.commitUpdate(function(a){o(a,n)})}g.useGetPresenceIsOnlineForContact=a;g.useGetPresenceLastActiveTimeSecondsForContact=e;g.useGetPresenceDataForContact=p;g.updateRelayContactPresenceWithANScore=f}),98);
__d("CometContactPresenceUpdaterWithANScore.react",["CometContactPresenceUpdaterWithANScore_viewer.graphql","CometContactPresenceUtils","CometRelay","ODS","promiseDone","react","react-compiler-runtime","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useEffect;e.useMemo;function l(a){var b=d("react-compiler-runtime").c(2);a=(a=a==null?void 0:(a=a.mnet_ranks)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:(a=a.items)==null?void 0:a.edges)!=null?a:null;a==null&&(j||(j=d("ODS"))).bumpEntityKey(3185,"mw_contact_list","an_ranking_graphql_empty");var c;b[0]!==a?(c=a!=null?new Map(a.map(m)):new Map(),b[0]=a,b[1]=c):c=b[1];a=c;return a}function m(a){var b;return[(b=(b=a.node)==null?void 0:b.user_id)!=null?b:"",(a=(b=a.node)==null?void 0:b.rank_score)!=null?a:0]}function a(a){var e=d("react-compiler-runtime").c(11),f=a.shouldUseFallback;a=a.viewer$key;var g=f===void 0?!1:f;f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometContactPresenceUpdaterWithANScore_viewer.graphql"),a);a=d("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext();var i=d("CometRelay").useRelayEnvironment(),j=d("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),m=l(f);e[0]!==m||e[1]!==i||e[2]!==j||e[3]!==g?(f=function(){c("promiseDone")(d("CometContactPresenceUtils").updateRelayContactPresenceWithANScore(i,j,m,g))},e[0]=m,e[1]=i,e[2]=j,e[3]=g,e[4]=f):f=e[4];var n;e[5]!==m||e[6]!==a||e[7]!==i||e[8]!==j||e[9]!==g?(n=[a,i,j,m,g],e[5]=m,e[6]=a,e[7]=i,e[8]=j,e[9]=g,e[10]=n):n=e[10];k(f,n);return null}g["default"]=a}),98);
__d("CometHomeContactListItems_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactListItems_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},{fragment:{kind:"InlineFragment",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometContactPresenceUpdaterWithANScore_viewer"}]}],type:"Viewer",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"an_rankings"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWChatContactCommon_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"contactsProfilePictureDimensionPx"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatContactCommon_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Variable",name:"height",variableName:"contactsProfilePictureDimensionPx"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"contactsProfilePictureDimensionPx"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("XCometActiveContactsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/active/t/{thread_key}/",Object.freeze({}),["/messages/active/"],void 0);b=a;g["default"]=b}),98);
__d("MWChatContactImpl.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CurrentEnvironment","I64","JSResourceForInteraction","JSScheduler","LSContactListConversionAttributionStore","LSThreadAttributionStore","LSVerifyContactExistsWithID","MAWChatVerifyCutover.react","MWInboxRouteBuilder","MWXListCellStrict.react","MessengerSidebarClickImpressionEventsLoggerImpl","XCometActiveContactsControllerRouteBuilder","gkx","justknobx","qex","react","react-compiler-runtime","useAsyncReStore","useCometPreloader","useServerTime","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;b.useCallback;b.useMemo;var m=b.useState,n=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWChatContactImpl.react");function a(a){var b=d("react-compiler-runtime").c(63),e=a.contactInfo,g=a.entryPoint,i=a.logsEnabled,j=a.openTabForUser,n=a.preloadTabForUser,p=a.preventLocalNavigation;a=a.selected;var q=e.id,r=e.isOnline,s=e.lastActiveTime,t=e.name,u=e.position,v=e.preloadedNavigationData,w=e.profilePictureUrl;e=e.storyInfo;var x=m(),y=x[0];x=x[1];var z;b[0]!==q||b[1]!==n||b[2]!==v?(z=function(){n({preloadedNavigationData:v,userId:q})},b[0]=q,b[1]=n,b[2]=v,b[3]=z):z=b[3];z=z;var A=o;A=c("useCometPreloader")("button",A,z);var B=A.onHighIntentPreloader,C=A.onHoverInPreloader;z=A.onHoverOutPreloader;A=A.onPressInPreloader;var D=e==null?void 0:e.storyIds,E;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(E={entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_one_on_one_chats"},b[4]=E):E=b[4];b[5]!==q||b[6]!==r||b[7]!==u||b[8]!==D?(E={id:q,isOnline:r,position:u,storyIds:D,surface:E,targetType:"user"},b[5]=q,b[6]=r,b[7]=u,b[8]=D,b[9]=E):E=b[9];u=E;var F=u;b[10]!==F||b[11]!==i?(D={onVisible:function(){i===!0&&d("MessengerSidebarClickImpressionEventsLoggerImpl").logImpressionEvent(F)},options:d("MessengerSidebarClickImpressionEventsLoggerImpl").IMPRESSION_LOG_OPTIONS},b[10]=F,b[11]=i,b[12]=D):D=b[12];E=c("useVisibilityObserver")(D);u=y!=null?y:q;b[13]!==q||b[14]!==F||b[15]!==i||b[16]!==j||b[17]!==v?(D=function(){i===!0&&(d("MessengerSidebarClickImpressionEventsLoggerImpl").logClickEvent(F),d("LSContactListConversionAttributionStore").setAttribution(q,F)),j({preloadedNavigationData:v,userId:q})},b[13]=q,b[14]=F,b[15]=i,b[16]=j,b[17]=v,b[18]=D):D=b[18];D=D;var G;b[19]!==g||b[20]!==q?(G=function(){d("LSThreadAttributionStore").setSource(q,g)},b[19]=g,b[20]=q,b[21]=G):G=b[21];G=G;var H=c("useAsyncReStore")(),I;b[22]!==q||b[23]!==B||b[24]!==C||b[25]!==H?(I=function(a){C(a),B(!0),c("qex")._("3542")&&H.then(function(a){return d("LSVerifyContactExistsWithID").runInTransaction(a,(k||(k=d("I64"))).of_string(q),!1,void 0,f.id+":167")})},b[22]=q,b[23]=B,b[24]=C,b[25]=H,b[26]=I):I=b[26];I=I;var J=c("useServerTime")(),K;b[27]!==r||b[28]!==s||b[29]!==J?(K=r?{type:"availabilityBadge"}:s!=null&&Math.floor((J.valueOf()-new Date(s*1e3).getTime())/36e5)<=1?{border:"web-wash",time:s,type:"lastActiveTimeBadge"}:void 0,b[27]=r,b[28]=s,b[29]=J,b[30]=K):K=b[30];b[31]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"Profile photo"),b[31]=r):r=b[31];s=e==null?void 0:e.linkProps;b[32]!==w?(J={uri:w},b[32]=w,b[33]=J):J=b[33];w=e==null?void 0:e.storyStatus;b[34]!==K||b[35]!==s||b[36]!==J||b[37]!==w?(e={addOn:K,"aria-label":r,linkProps:s,shape:"circle",size:36,source:J,storyStatus:w,type:"profile-photo"},b[34]=K,b[35]=s,b[36]=J,b[37]=w,b[38]=e):e=b[38];r=e;K=c("gkx")("23433");if(K){b[39]!==u?(s=c("CurrentEnvironment").facebookdotcom?c("XCometActiveContactsControllerRouteBuilder").buildURL({thread_key:u}):"/active/t/"+u+"/",b[39]=u,b[40]=s):s=b[40];J=s}else{b[41]!==y||b[42]!==u?(w=y!=null?d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:y}):d("MWInboxRouteBuilder").buildURL({thread_key:u}),b[41]=y,b[42]=u,b[43]=w):w=b[43];J=w}b[44]!==q?(e=l.jsx(c("CometErrorBoundary.react"),{children:l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatContactImpl",children:l.jsx(c("MAWChatVerifyCutover.react"),{id:q,updateThreadKey:x})})}),b[44]=q,b[45]=e):e=b[45];b[46]!==p||b[47]!==J?(K={preventLocalNavigation:p,url:J},b[46]=p,b[47]=J,b[48]=K):K=b[48];s=p?D:G;y="contact_"+q;b[49]!==r||b[50]!==t||b[51]!==I||b[52]!==z||b[53]!==A||b[54]!==E||b[55]!==a||b[56]!==K||b[57]!==s||b[58]!==y?(u=l.jsx(c("MWXListCellStrict.react"),{addOnStart:r,disabled:!1,headline:t,level:4,linkProps:K,onHoverIn:I,onHoverOut:z,onPress:s,onPressIn:A,ref:E,selected:a,testid:void 0}),b[49]=r,b[50]=t,b[51]=I,b[52]=z,b[53]=A,b[54]=E,b[55]=a,b[56]=K,b[57]=s,b[58]=y,b[59]=u):u=b[59];b[60]!==e||b[61]!==u?(w=l.jsxs(l.Fragment,{children:[e,u]}),b[60]=e,b[61]=u,b[62]=w):w=b[62];return w}function o(){c("justknobx")._("761")&&(i||(i=c("JSScheduler"))).scheduleSpeculativeCallback(p)}function p(){n.preload()}g["default"]=a}),226);
__d("MWChatContactCommon.react",["CometRelay","MWChatContactCommon_profile.graphql","MWChatContactImpl.react","XCometStoriesControllerRouteBuilder","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(32),f=a.entryPoint,g=a.isOnline,i=a.lastActivetimestampSec,k=a.logsEnabled,l=a.openTabForUser,m=a.position,n=a.preloadedNavigationData,o=a.preloadTabForUser,p=a.preventLocalNavigation,q=a.profile;a=a.selected;k=k===void 0?!1:k;p=p===void 0?!0:p;a=a===void 0?!1:a;q=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContactCommon_profile.graphql"),q);var r=q.id,s=q.name,t=q.profile_picture,u,v="none";q=(q=q.story_bucket)==null?void 0:q.nodes;q=q?q[0]:null;var w=null,x=null;if(q!=null){var y;w=q.id;x=(y=q.first_story_to_show)==null?void 0:y.id;y=q==null?void 0:(y=q.first_story_to_show)==null?void 0:(q=y.story_card_seen_state)==null?void 0:q.is_seen_by_viewer;y!=null&&(v=y?"seen":"unseen");if(v!=="none"&&w!=null&&x!=null){e[0]!==w||e[1]!==x?(q=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:w,card_id:x,view_single:!1}),e[0]=w,e[1]=x,e[2]=q):q=e[2];y=q;e[3]!==y?(q={prefetchQueriesOnHover:!0,url:y},e[3]=y,e[4]=q):q=e[4];u=q}}y=t==null?void 0:t.uri;if(r==null){e[5]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("recoverableViolation")("Chat contact list cell is missing id","comet_ui"),e[5]=q):q=e[5];return q}if(s==null){e[6]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("recoverableViolation")("Chat contact list cell is missing name","comet_ui"),e[6]=t):t=e[6];return t}if(y==null){e[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui"),e[7]=q):q=e[7];return q}e[8]!==w||e[9]!==x?(t={bucketId:w,firstCardId:x},e[8]=w,e[9]=x,e[10]=t):t=e[10];e[11]!==u||e[12]!==v||e[13]!==t?(q={linkProps:u,storyIds:t,storyStatus:v},e[11]=u,e[12]=v,e[13]=t,e[14]=q):q=e[14];e[15]!==r||e[16]!==g||e[17]!==i||e[18]!==s||e[19]!==m||e[20]!==n||e[21]!==y||e[22]!==q?(w={id:r,isOnline:g,lastActiveTime:i,name:s,position:m,preloadedNavigationData:n,profilePictureUrl:y,storyInfo:q},e[15]=r,e[16]=g,e[17]=i,e[18]=s,e[19]=m,e[20]=n,e[21]=y,e[22]=q,e[23]=w):w=e[23];e[24]!==f||e[25]!==k||e[26]!==l||e[27]!==o||e[28]!==p||e[29]!==a||e[30]!==w?(x=j.jsx(c("MWChatContactImpl.react"),{contactInfo:w,entryPoint:f,logsEnabled:k,openTabForUser:l,preloadTabForUser:o,preventLocalNavigation:p,selected:a}),e[24]=f,e[25]=k,e[26]=l,e[27]=o,e[28]=p,e[29]=a,e[30]=w,e[31]=x):x=e[31];return x}e=j.memo(a);g["default"]=e}),98);
__d("MWChatContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[{args:null,kind:"FragmentSpread",name:"MWChatContactCommon_profile"},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useUserThreadNavigationData_user"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("MWChatContact.react",["CometRelay","MWChatContactCommon.react","MWChatContact_profile.graphql","Promise","react","react-compiler-runtime","useUserThreadNavigationData"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var e=d("react-compiler-runtime").c(14),f=a.activeStatusOn,g=a.entryPoint,j=a.logsEnabled,l=a.openTabForUser,m=a.position,n=a.preloadTabForUser,o=a.preventLocalNavigation,p=a.profile;a=a.selected;j=j===void 0?!1:j;o=o===void 0?!0:o;a=a===void 0?!1:a;p=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContact_profile.graphql"),p);var q=d("useUserThreadNavigationData").useUserThreadNavigationData(p),r=p.availability,s=p.last_active_time;r=f&&r==="ACTIVE";f=f?s:void 0;e[0]!==n?(s=function(a){n(a);return(i||(i=b("Promise"))).resolve()},e[0]=n,e[1]=s):s=e[1];var t;e[2]!==g||e[3]!==r||e[4]!==f||e[5]!==j||e[6]!==l||e[7]!==m||e[8]!==q||e[9]!==o||e[10]!==p||e[11]!==a||e[12]!==s?(t=k.jsx(c("MWChatContactCommon.react"),{entryPoint:g,isOnline:r,lastActivetimestampSec:f,logsEnabled:j,openTabForUser:l,position:m,preloadTabForUser:s,preloadedNavigationData:q,preventLocalNavigation:o,profile:p,selected:a}),e[2]=g,e[3]=r,e[4]=f,e[5]=j,e[6]=l,e[7]=m,e[8]=q,e[9]=o,e[10]=p,e[11]=a,e[12]=s,e[13]=t):t=e[13];return t}e=k.memo(a);g["default"]=e}),98);
__d("CometHomeContactListItems.react",["CometContactPresenceUpdaterWithANScore.react","CometErrorBoundary.react","CometHeroInteractionContextPassthrough.react","CometHomeContactListItems_viewer.graphql","CometHomeContactsConfig","CometPlaceholder.react","CometRelay","MWChatContact.react","MWChatMetaAIContact.react","MWGenAIGatingUtils","react","react-compiler-runtime","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useMemo;function a(a){var e=d("react-compiler-runtime").c(20),f=a.activeStatusOn,g=a.shouldUseFallback;a=a.viewer$key;g=g===void 0?!1:g;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactListItems_viewer.graphql"),a);var i;e[0]!==a.chat_sidebar_contacts?(i=a.chat_sidebar_contacts.filter(m),e[0]=a.chat_sidebar_contacts,e[1]=i):i=e[1];i=i;var n;e[2]!==a.chat_sidebar_contacts?(n=a.chat_sidebar_contacts.filter(l),e[2]=a.chat_sidebar_contacts,e[3]=n):n=e[3];n=n;var o;e[4]!==i||e[5]!==n?(o=i.concat(n).slice(0,c("CometHomeContactsConfig").numContactsToFetch),e[4]=i,e[5]=n,e[6]=o):o=e[6];i=o;n=i;o=c("useMWChatOpenTabForUser")("sidebarContactsList");var p=o.openTabForUser,q=o.preloadThread;i=a==null?void 0:a.an_rankings;e[7]!==g||e[8]!==i?(o=j.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:j.jsx(c("CometErrorBoundary.react"),{fallback:k,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"CometContactListUpdater",children:j.jsx(c("CometContactPresenceUpdaterWithANScore.react"),{shouldUseFallback:g,viewer$key:i})})})}),e[7]=g,e[8]=i,e[9]=o):o=e[9];a=o;e[10]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("MWGenAIGatingUtils").getIsMetaAIEntryPointEnabled(d("MWGenAIGatingUtils").MessengerWebMetaAIEntryPoint.SIDEBAR_CONTACT_LIST),e[10]=g):g=e[10];var r=g;e[11]===Symbol["for"]("react.memo_cache_sentinel")?(i=r&&j.jsx(c("MWChatMetaAIContact.react"),{}),e[11]=i):i=e[11];e[12]!==f||e[13]!==n||e[14]!==p||e[15]!==q?(o=n.map(function(a,b){return j.jsx("li",{children:j.jsx("div",{children:j.jsx(c("MWChatContact.react"),{activeStatusOn:f,entryPoint:"sidebarContactsList",logsEnabled:!0,openTabForUser:p,position:r?b+1:b,preloadTabForUser:q,profile:a})})},a.id)}),e[12]=f,e[13]=n,e[14]=p,e[15]=q,e[16]=o):o=e[16];e[17]!==a||e[18]!==o?(g=j.jsxs(j.Fragment,{children:[a,i,o]}),e[17]=a,e[18]=o,e[19]=g):g=e[19];return g}function k(){return null}function l(a){return a.availability!=="ACTIVE"}function m(a){return a.availability==="ACTIVE"}e=j.memo(a,function(a,b){return b.preventReordering});g["default"]=e}),98);
__d("CometHomeContactsCollapsed_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"count",variableName:"count"}],b=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactsCollapsed_viewer",selections:[{condition:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:b,storageKey:null}]},{condition:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:a,concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:b,storageKey:null}]}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContactsCollapsed.react",["fbt","ChevronDownFilled16IconSvg.react","CometHomeContactsCollapsed_viewer.graphql","CometRelay","FDSButton.react","FDSIcon.react","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("requireDeferred")("MWChatSidebarStateSettingMutation").__setRef("CometHomeContactsCollapsed.react");function a(a){var e,f=d("react-compiler-runtime").c(9);a=a.viewer$key;var g=d("CometRelay").useRelayEnvironment();a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometHomeContactsCollapsed_viewer.graphql"),a);e=(a=(e=(e=a.chat_sidebar_contacts)==null?void 0:e.length)!=null?e:(e=a.messenger_inbox_tray_contacts)==null?void 0:e.length)!=null?a:0;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x1y1aw1k x1pi30zi xwib8y2 x1swvt13"},f[0]=a):a=f[0];var j;f[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx(c("FDSIcon.react"),{icon:c("ChevronDownFilled16IconSvg.react"),size:16}),f[1]=j):j=f[1];var m;f[2]!==e?(m=h._(/*BTDS*/"See all {contact count}",[h._param("contact count",e)]),f[2]=e,f[3]=m):m=f[3];f[4]!==g?(e=function(){l.onReadyImmediately(function(a){return a({environment:g,isCollapsed:!1})})},f[4]=g,f[5]=e):e=f[5];f[6]!==m||f[7]!==e?(a=k.jsx("div",babelHelpers["extends"]({},a,{children:k.jsx(c("FDSButton.react"),{addOnSecondary:j,label:m,onPress:e,size:"medium",type:"secondary"})})),f[6]=m,f[7]=e,f[8]=a):a=f[8];return a}g["default"]=a}),226);
__d("CometHomeContactsHeader.react",["fbt","CometHomeChatSettings.entrypoint","Dots3HorizontalFilled20IconSvg.react","FDSEntryPointPopoverTrigger.react","FDSIcon.react","FDSTooltip.react","FDSTooltipGroup.react","FDSUnitHeader.react","MWPBumpEntityKey","MagnifyingGlassFilled16IconSvg.react","MessengerWebEventsFalcoEvent","cometGetKeyCommandConfig","react","useCometHomeOpenNewChatTab","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=h._(/*BTDS*/"Contacts"),n=h._(/*BTDS*/"Search for a name or group"),o=h._(/*BTDS*/"Options");function a(){var a;a=(a=c("useCometHomeOpenNewChatTab")==null?void 0:c("useCometHomeOpenNewChatTab")("sidebarContactsList"))!=null?a:{};var b=a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPress"]);var e=l(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("newsfeed","searchContacts",b)]},[b]);c("useLayerKeyCommands")(e);k(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]);return j.jsx(c("FDSUnitHeader.react"),{addOn_DEPRECATED:j.jsx("div",babelHelpers["extends"]({className:"x78zum5"},{children:j.jsxs(c("FDSTooltipGroup.react"),{children:[j.jsx(c("FDSTooltip.react"),{align:"end",position:"below",tooltip:n,children:j.jsx("div",babelHelpers["extends"]({className:"xq8finb x16n37ib"},{children:j.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a,{"aria-label":n,color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),onPress:function(){b(),d("MWPBumpEntityKey").bumpEntityKey("comet.sidebar","search_button_click")},size:16}))}))}),j.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{chatSettingsContextualSection:"contacts"},popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,b,d){return j.jsx(c("FDSTooltip.react"),{align:"end",position:"below",tooltip:o,children:j.jsx("div",babelHelpers["extends"]({className:"x16n37ib"},{children:j.jsx(c("FDSIcon.react"),{"aria-label":o,color:"secondary",icon:c("Dots3HorizontalFilled20IconSvg.react"),onPress:function(){b()},ref:a,size:20})}))})}})]})})),headline:m,headlineColor:"secondary",level:3})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometHomeContactsListItemsContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"count",variableName:"count"}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactsListItemsContainer_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{condition:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider",kind:"Condition",passingValue:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"CometHomeContactListItems_viewer"}],type:"Viewer",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"home_contact_list_items"}]},{condition:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"CometHomeContactListItemsV2_viewer"}],type:"Viewer",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"home_contact_list_items_v2"}]}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContactsListItemsContainer.react",["CometHomeContactsListItemsContainer_viewer.graphql","CometHomeContactsPresenceAwareList.react","CometRelay","FocusWithinHandler.react","cr:20110","cr:20111","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState;function a(a){var e=d("react-compiler-runtime").c(7),f=a.shouldUseFallback;a=a.viewer$key;var g=f===void 0?!1:f,i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactsListItemsContainer_viewer.graphql"),a),l=(i==null?void 0:i.chat_visibility)===!0;f=k(!1);var m=f[0],n=f[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return n(!0)},f=function(){return n(!1)},e[0]=a,e[1]=f):(a=e[0],f=e[1]);e[2]!==l||e[3]!==m||e[4]!==g||e[5]!==i?(a=j.jsx("div",{"data-testid":void 0,onMouseEnter:a,onMouseLeave:f,children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,d){return j.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:l,children:b("cr:20110")!=null&&i.home_contact_list_items!=null?j.jsx(b("cr:20110"),{activeStatusOn:l,preventReordering:m||a||d,shouldUseFallback:g,viewer$key:i.home_contact_list_items}):b("cr:20111")!=null&&i.home_contact_list_items_v2!=null?j.jsx(b("cr:20111"),{activeStatusOn:l,viewer$key:i.home_contact_list_items_v2}):j.jsx("div",{})})}})}),e[2]=l,e[3]=m,e[4]=g,e[5]=i,e[6]=a):a=e[6];return a}g["default"]=a}),98);
__d("CometHomeContacts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"count",variableName:"count"}],b=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContacts_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{condition:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:b,storageKey:null}]},{condition:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:a,concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:b,storageKey:null}]},{args:a,kind:"FragmentSpread",name:"CometHomeContactsCollapsed_viewer"},{args:a,kind:"FragmentSpread",name:"CometHomeContactsListItemsContainer_viewer"}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContacts.react",["BaseContextualLayerAnchorRootContext","CometHomeContactsCollapsed.react","CometHomeContactsHeader.react","CometHomeContactsListItemsContainer.react","CometHomeContacts_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometVisualCompletionAttributes","MWPBumpEntityKey","MessengerWebEventsFalcoEvent","qex","react","react-compiler-runtime","usePresenceUnifiedMapContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect;e.useMemo;var l=e.useRef,m=h!==void 0?h:h=b("CometHomeContacts_viewer.graphql");function n(){var a;return(a=c("qex")._("3374"))!=null?a:!1}function a(a){var b,e=d("react-compiler-runtime").c(12);a=a.viewer$key;a=d("CometRelay").useFragment(m,a);var f=l(document.body),g=(a==null?void 0:a.chat_sidebar_is_collapsed)===!0,h=d("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=[],e[0]=i):i=e[0];k(o,i);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("CometHomeContactsHeader.react"),{}),e[1]=i):i=e[1];i=i;i=i;((b=a.chat_sidebar_contacts)==null?void 0:b.length)===0&&(d("MWPBumpEntityKey").bumpEntityKey("mw_contact_list","bff_ranking_empty"),h.size===0&&d("MWPBumpEntityKey").bumpEntityKey("mw_contact_list","presence_data_empty"));((b=a.messenger_inbox_tray_contacts)==null?void 0:b.length)===0&&d("MWPBumpEntityKey").bumpEntityKey("mw_contact_list","inbox_tray_ranking_empty");if(c("qex")._("4142")===!0){var p;b=(a==null?void 0:a.messenger_inbox_tray_contacts)!=null&&(a==null?void 0:(b=a.messenger_inbox_tray_contacts)==null?void 0:b.length)>0;p=((p=a.messenger_inbox_tray_contacts)==null?void 0:p.length)===0}else{if(e[2]!==h||e[3]!==a.chat_sidebar_contacts){var q;q=a.chat_sidebar_contacts!=null&&((q=a.chat_sidebar_contacts)==null?void 0:q.length)>0||h.size>0&&n();e[2]=h;e[3]=a.chat_sidebar_contacts;e[4]=q}else q=e[4];b=q;p=((h=a.chat_sidebar_contacts)==null?void 0:h.length)===0}e[5]!==g||e[6]!==p||e[7]!==b||e[8]!==a?(q=b?j.jsx("div",{hidden:p,children:j.jsx(c("CometHomeRightRailUnit.react"),{hasBottomDivider:!g,header:i,children:g?j.jsx(c("CometHomeContactsCollapsed.react"),{viewer$key:a}):j.jsx(c("CometHomeContactsListItemsContainer.react"),{shouldUseFallback:n(),viewer$key:a})})}):null,e[5]=g,e[6]=p,e[7]=b,e[8]=a,e[9]=q):q=e[9];e[10]!==q?(h=j.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:j.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:f,children:q})})),e[10]=q,e[11]=h):h=e[11];return h}function o(){c("MessengerWebEventsFalcoEvent").log(p)}function p(){return{event_name:"show_sidebar_contacts"}}g["default"]=a}),98);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"numContactsToFetch"}],kind:"Fragment",metadata:null,name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],kind:"FragmentSpread",name:"CometHomeContacts_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContactsDefaultRenderer.react",["CometHomeContacts.react","CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.contactsHomeDefaultRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql"),a);a=a.viewer;var f;e[0]!==a?(f=j.jsx(c("CometHomeContacts.react"),{viewer$key:a}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[c,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},e={alias:null,args:[{kind:"Variable",name:"height",variableName:"contactsProfilePictureDimensionPx"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"contactsProfilePictureDimensionPx"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{condition:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[b,c,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]},d,e,{alias:null,args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_od_cutover_eligible",storageKey:null}],type:"User",abstractKey:null},f],storageKey:null},{"if":null,kind:"Defer",label:"CometHomeContactListItems_viewer$defer$CometContactPresenceUpdaterWithANScore_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"mnet_rank_type",value:["INBOX_ACTIVE_NOW"]}],concreteType:"MNetRankConnection",kind:"LinkedField",name:"mnet_ranks",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetRankEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MNetRank",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetItemConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rank_score",storageKey:null}],type:"MNetContactItem",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'mnet_ranks(mnet_rank_type:["INBOX_ACTIVE_NOW"])'}]}]},{condition:"__relay_internal__pv__MWContactListQueryOptimisationEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:a,concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[b,{alias:null,args:null,concreteType:"XFBInboxTrayRankedContactRankingData",kind:"LinkedField",name:"ranking_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"availability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_timestamp_sec",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contact",plural:!1,selections:[c,{kind:"InlineFragment",selections:[f,{kind:"InlineFragment",selections:[d,e],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],storageKey:null}]}],storageKey:null}]}}();e.exports=a}),null);/*FB_PKG_DELIM*/
__d("useGroupThreadViewParams",["getGroupThreadViewParams","react-compiler-runtime","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(3),b=c("useTopMostRouteCometEntityKey")(),e=c("useCometRouterState")(),f;a[0]!==b||a[1]!==e?(f=c("getGroupThreadViewParams")(b,e),a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","mwCMIsAnyCMThread","react-compiler-runtime","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e="Compose";var j="PayFriendPicker",k="PayThread",l="SecureThread",m="Thread";e={Compose:e};j={PayFriendPicker:j,PayThread:k};k={SecureThread:l,Thread:m};var n=babelHelpers["extends"]({},e,j,k);l="Null";m="Payment";e="People";j="Search";k="SearchMessages";var o="SeeAllGroups",p="SeeAllPages",q="SeeAllPeople",r="SeeAllUnread",s="TeamworkSeeAllAnnouncementGroups",t="Recent",u="UnsupportedThread";l={Null:l,Payment:m,People:e,Search:j,SearchMessages:k,SeeAllGroups:o,SeeAllPages:p,SeeAllPeople:q,SeeAllUnread:r,TeamworkSeeAllAnnouncementGroups:s};m={Recent:t};e={UnsupportedThread:u};var v=babelHelpers["extends"]({},l,m,e),w={type:v.Null},x="/?$";function y(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var z=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function A(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(z+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",z);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:v.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:v.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null)return{type:v.Search};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:v.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:v.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:v.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:v.TeamworkSeeAllAnnouncementGroups};if(b==="/read/"&&e!=null)return{type:v.Recent,uriStateDetails:{fbid:(i||(i=d("I64"))).of_string(e),type:n.Thread}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+x)))!=null)return{type:v.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:n.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:v.Recent,uriStateDetails:{fbid:void 0,type:a!=null?n.PayThread:n.PayFriendPicker}};e=C(y(b));return e!=null?{type:v.Recent,uriStateDetails:{fbid:e,type:n.Thread}}:w}var B=c("gkx")("23433")||c("gkx")("22839");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function C(a){try{return a!=null?(i||(i=d("I64"))).of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b=d("react-compiler-runtime").c(40),e=(h||(h=c("useReStore")))(),g=c("useCurrentRoute")(),j=d("CometRouteURL").useRouteURLPath(),k=c("useGroupThreadViewParams")(),l;b[0]!==a?(l=C(a),b[0]=a,b[1]=l):l=b[1];var m=l;a=d("CometRouteParams").useRouteParams();l=(l=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange((a=m)!=null?a:(i||(i=d("I64"))).min_int)},[e,m],f.id+":317"))==null?void 0:l.threadType;var o;b[2]!==l?(o=l!=null?c("mwCMIsAnyCMThread")(l):!1,b[2]=l,b[3]=o):o=b[3];o=o;var p;b[4]!==l?(p=l!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(l):!1,b[4]=l,b[5]=p):p=b[5];p=p;if(k!=null){var q;b[6]!==k.threadKey?(q=(i||(i=d("I64"))).of_string(k.threadKey),b[6]=k.threadKey,b[7]=q):q=b[7];b[8]!==q?(k={type:v.Recent,uriStateDetails:{fbid:q,type:n.Thread}},b[8]=q,b[9]=k):k=b[9];return k}if(g==null)return w;if(!j.startsWith(z)&&!j.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",j);q=a.initial_e2ee_toggle_position==="1"||a.initial_e2ee_toggle_position===1||a.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";k=g.url;if(b[10]!==e.tables.threads||b[11]!==q||b[12]!==p||b[13]!==o||b[14]!==g||b[15]!==m||b[16]!==l){j=Symbol["for"]("react.early_return_sentinel");bb0:{a=k.substring(z.length);a=(k=d("ConstUriUtils").getUriOrThrow(a))==null?void 0:k.getPath().split("/");if(m!=null){if(a.length===4&&a[0]===""&&a[1]==="e2ee"&&a[2]==="t"&&c("isArmadillo")()){b[18]!==m?(k={type:v.Recent,uriStateDetails:{fbid:m,type:n.SecureThread}},b[18]=m,b[19]=k):k=b[19];j=k;break bb0}if(l!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(l)){b[20]!==g?(k=A(g),b[20]=g,b[21]=k):k=b[21];j=k;break bb0}if(o&&!B){j=w;break bb0}if(p){b[22]!==m?(k={fbid:m,type:v.UnsupportedThread},b[22]=m,b[23]=k):k=b[23];j=k;break bb0}b[24]!==m?(k={type:v.Recent,uriStateDetails:{fbid:m,type:n.Thread}},b[24]=m,b[25]=k):k=b[25];j=k;break bb0}if(a==null){b[26]!==g?(k=A(g),b[26]=g,b[27]=k):k=b[27];j=k;break bb0}switch(a.length){case 2:if(a[1]==="new"){b[28]!==q?(k={type:v.Recent,uriStateDetails:{initialTogglePosition:q,type:n.Compose}},b[28]=q,b[29]=k):k=b[29];j=k;break bb0}b[30]!==g?(k=A(g),b[30]=g,b[31]=k):k=b[31];j=k;break bb0;case 3:if(a[1]!=="t"){b[32]!==g?(k=A(g),b[32]=g,b[33]=k):k=b[33];j=k;break bb0}if(a[2]===""){b[34]!==g?(k=A(g),b[34]=g,b[35]=k):k=b[35];j=k;break bb0}k=C(a[2]);a=k!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(k),f.id+":432"):null;if(k!=null&&a!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(a==null?void 0:a.threadType)){b[36]!==k?(a={type:v.Recent,uriStateDetails:{fbid:k,type:n.Thread}},b[36]=k,b[37]=a):a=b[37];j=a;break bb0}j=w;break bb0;case 0:case 1:default:b[38]!==g?(k=A(g),b[38]=g,b[39]=k):k=b[39];j=k;break bb0}}b[10]=e.tables.threads;b[11]=q;b[12]=p;b[13]=o;b[14]=g;b[15]=m;b[16]=l;b[17]=j}else j=b[17];if(j!==Symbol["for"]("react.early_return_sentinel"))return j}g.MWInboxURIStateDetailsType=n;g.MWInboxURIStateTag=v;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);
__d("MWInboxProvider.react",["react","react-compiler-runtime","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.threadKey;a=d("useMWInboxURIState").useMWInboxURIState(a);var e;b[0]!==c||b[1]!==a?(e=i.jsx(j.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g.MWInboxProviderContext=j;g.MWInboxProvider=a}),98);
__d("EncryptedBackupsSupportedPlatformUtils",["$InternalEnum","FBLogger","MWInboxProvider.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j=b("$InternalEnum").Mirrored(["MESSENGER_DOT_COM","FACEBOOK_DOT_COM","FACEBOOK_INBOX","INSTAGRAM_DIRECT_INBOX"]),k=c("gkx")("23433"),l=c("gkx")("23434"),m=c("gkx")("24057"),n=c("gkx")("5575");function a(){var a=i(d("MWInboxProvider.react").MWInboxProviderContext);if(m)return j.INSTAGRAM_DIRECT_INBOX;if(k||n)return j.MESSENGER_DOT_COM;l||c("FBLogger")("labyrinth_web").info("Unknown supported platform type. Falling back to facebook.com as Supported Platform type.");return a!=null?j.FACEBOOK_INBOX:j.FACEBOOK_DOT_COM}g.EncryptedBackupsSupportedPlatform=j;g.useMWEncryptedBackupsGetCurrentSupportedPlatform=a}),98);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("MWEBRestoreDialogWrapperQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23945042468436790"}),null);
__d("MWEBRestoreDialogWrapperQuery$Parameters",["MWEBRestoreDialogWrapperQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEBRestoreDialogWrapperQuery_facebookRelayOperation"),metadata:{},name:"MWEBRestoreDialogWrapperQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MAWEncryptedBackupsRestoreDialog.entrypoint",["JSResourceForInteraction","MWEBRestoreDialogWrapperQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWEBRestoreDialogWrapperQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWEBRestoreDialogWrapper.react").__setRef("MAWEncryptedBackupsRestoreDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsQPLSource.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({JEWEL_RESTORE_SOFTBLOCK:"jewel_restore_softblock",JEWEL_THREADLIST_QP:"jewel_threadlist_qp",JEWEL_THREADLIST_ONBOARDING_QP:"jewel_threadlist_onboarding_qp",JEWEL_THREADLIST_QP_WITH_PIN:"jewel_threadlist_qp_with_pin",JEWEL_THREADLIST_PERSISTENT_BANNER:"jewel_threadlist_persistent_banner",JEWEL_ONBOARDING_SOFTBLOCK:"jewel_onboarding_softblock",JEWEL_ONBOARDING_HARDBLOCK:"jewel_onboarding_hardblock",CHAT_TAB_SOFTBLOCK:"chat_tab_softblock",CHAT_TAB_HARDBLOCK:"chat_tab_hardblock",CHAT_TAB_ONBOARDING_QP:"chat_tab_onboarding_qp",INBOX_INTERSTITIAL_SOFTBLOCK:"inbox_interstitial_softblock",INBOX_INTERSTITIAL_HARDBLOCK:"inbox_interstitial_hardblock",INBOX_THREADLIST_QP:"inbox_threadlist_qp",INBOX_THREADLIST_ONBOARDING_QP:"inbox_threadlist_onboarding_qp",INBOX_THREADLIST_PERSISTENT_BANNER:"inbox_threadlist_persistent_banner",INBOX_THREADLIST_QP_WITH_PIN:"inbox_threadlist_qp_with_pin",IN_THREAD_SCROLL_PERSISTENT_BANNER:"in_thread_scroll_persistent_banner",IN_THREAD_GAP_UI:"in_thread_gap_ui",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",UNKNOWN:"unknown",INBOX_MESSAGE_SEARCH:"inbox_message_search",SETTINGS_RESTORE_HOLDOUT_MENU_ITEM:"settings_restore_holdout_menu_item",UNIVERSAL_MESSAGE_SEARCH:"universal_message_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_WEB_ONBOARDING_DIALOG:"eb_web_onboarding_dialog",IG_SETTINGS:"ig_settings",IG_INBOX_AUTO_RESTORE:"ig_inbox_auto_restore",CHAT_SETTINGS:"chat_settings"});c=a;f["default"]=c}),66);
__d("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9783648461697001"}),null);
__d("MWEBEntrypointsKillswitch.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({JEWEL_THREADLIST:"jewel_threadlist",IN_THREAD_GAP_UI:"in_thread_gap_ui",IN_THREAD_SCROLL_BANNER:"in_thread_scroll_banner",IN_THREAD_SEARCH:"in_thread_search",INBOX_INTERSTITIAL:"inbox_interstitial",INBOX_THREADLIST:"inbox_threadlist",INBOX_THREADLIST_UNIVERSAL_SEARCH:"inbox_threadlist_universal_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",IGD_NO_KILLSWITCH_APPLICABLE:"igd_no_killswitch_applicable",NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:"not_an_entrypoint_no_killswitch_applicable",IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:"in_development_add_a_todo_comment_with_a_task_above_this_to_add_a_killswitch",PINNED_MESSAGES:"pinned_messages",BUMP_MESSAGES:"bump_messages"});c=a;f["default"]=c}),66);
__d("MWEBUpsellDismissedEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NOT_DISMISSED:0,UPSELLS_DISMISSED:1,ALL_DISMISSED:2});f.MWEBUpsellDismissedStateEnum=a}),66);
__d("MWEBVestaUserInfoContext.react",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");e=b.createContext;var i=b.useContext,j=e(null);function k(){var a=i(j);if(a==null)throw c("FBLogger")("messenger_web").mustfixThrow("useMWEBVestaUserInfo must be used inside MWEBVestaUserInfoContext");return a}function a(){var a=k(),b=a.attemptsRemaining;a=a.loginTimeoutRemainingSecs;return b===0||a!=null&&a>0}g.MWEBVestaUserInfoContext=j;g.useMWEBVestaUserInfo=k;g.useMWEBIsCooldownOrLockOutState=a}),98);
__d("MWEBVirtualDevicesContext.react",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext(null);function a(){var a=i(j);if(a==null)throw c("unrecoverableViolation")("useEBVirtualDevices must be used inside MWEBVirtualDevicesContext","messenger_web_product");return a}g.MWEBVirtualDevicesContext=j;g.useMWEBVirtualDevices=a}),98);
__d("MWEncryptedBackupsDeferLocalStorageUpsell",["$InternalEnum","FBLogger","MWEncryptedBackupsSharedState","ReQL","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum").Mirrored(["SOFTBLOCK_JEWEL_AND_CHAT_TAB","QP_JEWEL","QP_WITH_PIN_JEWEL","PERSISTENT_BANNER_JEWEL"]);b=-1;var j=12*60*60*1e3,k=24*60*60*1e3,l=72*60*60*1e3;function m(a){switch(a){case i.SOFTBLOCK_JEWEL_AND_CHAT_TAB:return{countdownInMS:k,impressionsCountKey:"mw_encrypted_backups_soft_block_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_soft_block_last_impression_time_key",maxImpressionLimit:5};case i.QP_JEWEL:return{countdownInMS:j,impressionsCountKey:"mw_encrypted_backups_qp_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_qp_jewel_last_impression_time_key",maxImpressionLimit:1};case i.QP_WITH_PIN_JEWEL:return{countdownInMS:j,impressionsCountKey:"mw_encrypted_backups_qp_with_pin_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_qp_with_pin_jewel_last_impression_time_key",maxImpressionLimit:1};case i.PERSISTENT_BANNER_JEWEL:return{countdownInMS:l,impressionsCountKey:"mw_encrypted_backups_banner_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_banner_jewel_last_impression_time_key",maxImpressionLimit:1}}}function a(a){var b=a.db,e=a.upsellType;a=m(e);var f=a.impressionsCountKey;a=a.lastImpressionTimeKey;c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:b,stateKey:a,stateValue:Date.now().toString()}).then(async function(){var a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.experiences_shared_state));a=(a=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:b,sharedStateTable:a,stateKey:f}))!=null?a:"0";await d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:b,stateKey:f,stateValue:(+a+1).toString()})}),function(){},function(){var a="[Encrypted Backups] Failed to defer EB upsell "+e;c("FBLogger")("labyrinth_web").mustfix(a)})}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=m(a);a=a.lastImpressionTimeKey;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.removeItem(a)}}function f(a){var b=a.db,c=a.sharedStateTable;a=a.upsellType;a=m(a);a=a.impressionsCountKey;return(b=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:b,sharedStateTable:c,stateKey:a}))!=null?b:"0"}g.MWEncryptedBackupsDeferableUpsellType=i;g.INFINITE_IMPRESSIONS_LIMIT=b;g.getLocalStorageKeys=m;g.updateUpsellEntry=a;g.deleteEntry=e;g.getUpsellImpressions=f}),98);
__d("MWEncryptedBackupsRetrieveQplLoggingAnnotations",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","Promise","ReQL","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWEncryptedBackupsRetrieveQplLoggingAnnotations"),l=c("gkx")("609");function a(a){var e=a.db,f=a.onFetch,g=a.upsellType;c("promiseDone")((j||(j=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.experiences_shared_state)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.secure_encrypted_backups_client_state))]),function(a){var b=a[0];a=a[1];var j=a[0],m=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),n=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:e,sharedStateTable:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY}),o=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:e,sharedStateTable:b,stateKey:"auto_restored"});k.onReady(function(a){var k=a.mwEBGetIsLocalStorageEntryValuePresent;a=a.mwEBGetLocalStorageEntryValue;a=a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE);var p=k(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);k=k(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);var q=n!=null,r=g&&d("MWEncryptedBackupsDeferLocalStorageUpsell").getUpsellImpressions({db:e,sharedStateTable:b,upsellType:g}),s=j!=null&&(h||(h=d("I64"))).equal(j.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));f({ebsmWiped:(a=a)!=null?a:"false",firstUpsellTime:m,hasEbKeysLocally:o?"false":s.toString(),hasEBSM:l.toString(),hasPDB:"false",hasUserOnboardedBefore:q.toString(),hasUserRestoredBefore:p.toString(),hasUserRestoredBeforeTemp:k.toString(),impressionsCount:(a=r)!=null?a:"0"})})},function(){c("FBLogger")("labyrinth_web").mustfix("[Encrypted Backups] Failed to fetch QPL annotations from Shared State")})}g.encryptedBackupsRetrieveQplLoggingAnnotations=a}),98);
__d("MWThreadListConsts",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=56;b=900;g.threadlistItemHeight=a;g.minimumPixelsNeededForMaxDisplay=b;g.DEFAULT_MIN_LAST_ACTIVITY_TIMESTAMP=(h||d("I64")).one}),98);
__d("MWEncryptedBackupsThreadListQPWrapper.react",["$InternalEnum","MWThreadListConsts","gkx","react","react-compiler-runtime","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=b("$InternalEnum").Mirrored(["JEWEL","THREAD_LIST","CHAT_TAB"]);function a(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.testid;a=a.trigger;var g=c("gkx")("23433");g=g||a===j.JEWEL;a=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay);var h=!c("gkx")("24056");b[0]!==a||b[1]!==g?(h={0:{className:"x1n2onr6 x1vjfegm"},1:{className:"x1n2onr6 x1vjfegm x1lliihq xqtp20y x6ikm8r x10wlt62 xnalus7"}}[!!(!a&&!g&&h)<<0],b[0]=a,b[1]=g,b[2]=h):h=b[2];b[3]!==e||b[4]!==h||b[5]!==f?(a=i.jsx("div",babelHelpers["extends"]({},h,{"data-testid":void 0,children:e})),b[3]=e,b[4]=h,b[5]=f,b[6]=a):a=b[6];return a}g.MWEncryptedBackupsQPTrigger=j;g.MWEncryptedBackupsThreadListQPWrapper=a}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(15),e,f,g;c[0]!==a?(e=a.objectFit,g=a.src,f=babelHelpers.objectWithoutPropertiesLoose(a,["objectFit","src"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g):(e=c[1],f=c[2],g=c[3]);if(b("cr:6682")!=null){c[4]!==e||c[5]!==f||c[6]!==g?(a=i.jsx(b("cr:6682"),babelHelpers["extends"]({objectFit:e,src:g},f)),c[4]=e,c[5]=f,c[6]=g,c[7]=a):a=c[7];return a}if(typeof g==="string"){c[8]!==e||c[9]!==f||c[10]!==g?(a=b("cr:2838")!=null?i.jsx(b("cr:2838"),babelHelpers["extends"]({objectFit:e,src:g},f)):null,c[8]=e,c[9]=f,c[10]=g,c[11]=a):a=c[11];return a}else{c[12]!==f||c[13]!==g?(e=b("cr:1261")!=null?i.jsx(b("cr:1261"),babelHelpers["extends"]({src:g},f)):null,c[12]=f,c[13]=g,c[14]=e):e=c[14];return e}}g["default"]=a}),98);
__d("MWXQPCard.react",["MWXIconStrict.react","MWXImage.react","cr:10403","cr:2832","cr:6676","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fdsRoot:{boxShadow:"xnw9j1v",$$css:!0},fdsRootMargin:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},mdsRootMargin:{marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(39),f,g,i,l,m,n;e[0]!==a?(f=a.addOnPrimary,g=a.addOnSecondary,i=a.icon,m=a.ref,n=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,["addOnPrimary","addOnSecondary","icon","ref","xstyle"]),e[0]=a,e[1]=f,e[2]=g,e[3]=i,e[4]=l,e[5]=m,e[6]=n):(f=e[1],g=e[2],i=e[3],l=e[4],m=e[5],n=e[6]);var o;if(i!=null)bb0:switch(i.type){case"image":e[7]!==i.props?(a=j.jsx(c("MWXImage.react"),babelHelpers["extends"]({},i.props)),e[7]=i.props,e[8]=a):a=e[8];o=a;break bb0;case"icon":e[9]!==i.props?(a=j.jsx(c("MWXIconStrict.react"),babelHelpers["extends"]({},i.props)),e[9]=i.props,e[10]=a):a=e[10];o=a;break bb0;default:}if(b("cr:2832")!=null){e[11]!==n?(i=(h||(h=c("stylex"))).props(k.mdsRootMargin,n),e[11]=n,e[12]=i):i=e[12];e[13]!==f?(a=f&&{disabled:f.disabled,label:f.label,linkProps:f.linkProps,onPress:f.onPress,reduceEmphasis:f.reduceEmphasis,type:f.type},e[13]=f,e[14]=a):a=e[14];var p;e[15]!==g?(p=g&&{disabled:g.disabled,label:g.label,linkProps:g.linkProps,onPress:g.onPress,reduceEmphasis:g.reduceEmphasis},e[15]=g,e[16]=p):p=e[16];var q;e[17]!==o||e[18]!==l||e[19]!==a||e[20]!==p?(q=j.jsx(b("cr:2832"),babelHelpers["extends"]({},l,{headlineNumberOfLines:2,icon:o,primaryCallToAction:a,secondaryCallToAction:p})),e[17]=o,e[18]=l,e[19]=a,e[20]=p,e[21]=q):q=e[21];e[22]!==m||e[23]!==i||e[24]!==q?(a=j.jsx("div",babelHelpers["extends"]({},i,{ref:m,children:q})),e[22]=m,e[23]=i,e[24]=q,e[25]=a):a=e[25];return a}else if(b("cr:10403")!=null&&b("cr:6676")!=null){e[26]!==n?(p=(h||(h=c("stylex"))).props(k.fdsRoot,k.fdsRootMargin,n),e[26]=n,e[27]=p):p=e[27];e[28]!==f||e[29]!==g?(i=f&&j.jsx(b("cr:6676"),{align:"justify",expanding:!0,paddingHorizontal:12,primary:f,secondary:g}),e[28]=f,e[29]=g,e[30]=i):i=e[30];e[31]!==o||e[32]!==l||e[33]!==i?(q=j.jsx(b("cr:10403"),babelHelpers["extends"]({},l,{addOnPrimary:i,icon:o,level:4,type:"primary"})),e[31]=o,e[32]=l,e[33]=i,e[34]=q):q=e[34];e[35]!==m||e[36]!==p||e[37]!==q?(a=j.jsx("div",babelHelpers["extends"]({},p,{ref:m,children:q})),e[35]=m,e[36]=p,e[37]=q,e[38]=a):a=e[38];return a}return null}g["default"]=a}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a===10?12:a}function k(a){switch(a){case 10:return 12;case 20:return 16;default:return a}}function l(a){return a===10?12:a}function a(a){var c=d("react-compiler-runtime").c(35),e,f;c[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),c[0]=a,c[1]=e,c[2]=f):(e=c[1],f=c[2]);if(b("cr:2667")!=null){var g,h,m,n,o,p;if(c[3]!==e){a=e;g=a.paddingHorizontal;h=a.paddingTop;m=a.paddingVertical;n=a.spacing;o=a.spacingHorizontal;p=a.spacingVertical;a=babelHelpers.objectWithoutPropertiesLoose(a,["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"]);c[3]=e;c[4]=a;c[5]=g;c[6]=h;c[7]=m;c[8]=n;c[9]=o;c[10]=p}else a=c[4],g=c[5],h=c[6],m=c[7],n=c[8],o=c[9],p=c[10];var q;c[11]!==g?(q=j(g),c[11]=g,c[12]=q):q=c[12];c[13]!==h?(g=k(h),c[13]=h,c[14]=g):g=c[14];c[15]!==m?(h=k(m),c[15]=m,c[16]=h):h=c[16];c[17]!==n?(m=l(n),c[17]=n,c[18]=m):m=c[18];c[19]!==o?(n=l(o),c[19]=o,c[20]=n):n=c[20];c[21]!==p?(o=l(p),c[21]=p,c[22]=o):o=c[22];c[23]!==a||c[24]!==f||c[25]!==q||c[26]!==g||c[27]!==h||c[28]!==m||c[29]!==n||c[30]!==o?(p=i.jsx(b("cr:2667"),babelHelpers["extends"]({paddingHorizontal:q,paddingTop:g,paddingVertical:h,ref:f,spacing:m,spacingHorizontal:n,spacingVertical:o},a)),c[23]=a,c[24]=f,c[25]=q,c[26]=g,c[27]=h,c[28]=m,c[29]=n,c[30]=o,c[31]=p):p=c[31];return p}if(b("cr:2922")!=null){c[32]!==e||c[33]!==f?(a=i.jsx(b("cr:2922"),babelHelpers["extends"]({},e,{ref:f})),c[32]=e,c[33]=f,c[34]=a):a=c[34];return a}return null}g["default"]=a}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(9),e,f;c[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),c[0]=a,c[1]=e,c[2]=f):(e=c[1],f=c[2]);if(b("cr:3083")!=null){c[3]!==e||c[4]!==f?(a=i.jsx(b("cr:3083"),babelHelpers["extends"]({},e,{ref:f})),c[3]=e,c[4]=f,c[5]=a):a=c[5];return a}if(b("cr:3084")!=null){c[6]!==e||c[7]!==f?(a=i.jsx(b("cr:3084"),babelHelpers["extends"]({},e,{ref:f})),c[6]=e,c[7]=f,c[8]=a):a=c[8];return a}return null}g["default"]=a}),98);
__d("isMWEBEntrypointEnabled",["MWEBEntrypointsKillswitch.enum","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("MWEBEntrypointsKillswitch.enum").INBOX_INTERSTITIAL:return c("justknobx")._("2598");case c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST:return c("justknobx")._("2599");case c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST:return c("justknobx")._("2600");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI:return c("justknobx")._("2601");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER:return c("justknobx")._("2602");case c("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE:return c("justknobx")._("2603");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SEARCH:return c("justknobx")._("2604");case c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST_UNIVERSAL_SEARCH:return c("justknobx")._("2768");case c("MWEBEntrypointsKillswitch.enum").MEDIA_GALLERY_RESTORE:return c("justknobx")._("2841");case c("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES:return c("justknobx")._("2937");case c("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES:return c("justknobx")._("3682");case c("MWEBEntrypointsKillswitch.enum").DYI:case c("MWEBEntrypointsKillswitch.enum").EB_SETTINGS:case c("MWEBEntrypointsKillswitch.enum").IGD_NO_KILLSWITCH_APPLICABLE:case c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:case c("MWEBEntrypointsKillswitch.enum").IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:return!0}}g["default"]=a}),98);
__d("useHasRestoreInterstitialSoftblockBeenDismissed",["MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=a.backupState;a=a.isCooldownOrLockOutState;var g=(h||(h=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return e===4?d("ReQL").fromTableAscending(g.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED).map(i):d("ReQL").empty()},[e,g],f.id+":34"))!=null?b:!1;var j=e===4&&b===!1&&d("MWEncryptedBackupsSharedState").getEntryPresentInLocalStorage({db:g,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED})!=null;return b===!0||j===!0||a}function i(a){a=a.stateValue;return a!=null}g["default"]=a}),98);
__d("useLabyrinthLogging",["EncryptedBackupsSupportedPlatformUtils","MWEBODSCategory","MWEBODSEntityKey.enum","MWEncryptedBackupsDeviceRegistrationId","ODS","QPLEvent","QPLUserFlow","QuickPerformanceLogger","WebSession","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(7),b=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform(),e;a[0]!==b?(e=function(a){var f=a.additionalAnnotations,g=a.event,e=a.instanceKey,j=a.odsEntityName;a=a.source;e=e===void 0?0:e;if(!(h||(h=c("QuickPerformanceLogger"))).isMarkerOn(g,e)){j&&(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),j,c("MWEBODSEntityKey.enum").START);j=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();j={deviceRegistrationId:j,platform:b,sessionTabId:d("WebSession").getId(),source:a!=null?a:void 0};c("QPLUserFlow").start(g,{annotations:{string:babelHelpers["extends"]({},f,j)},instanceKey:e})}},a[0]=b,a[1]=e):e=a[1];e=e;var f;a[2]!==b?(f=function(a){var e=a.additionalAnnotations,f=a.event,g=a.marker;a=a.odsEntityName;if(!c("QPLUserFlow").getActiveFlowIDs().includes((j||(j=d("QPLEvent"))).getMarkerId(f))){a&&(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),a,c("MWEBODSEntityKey.enum").START);a={platform:b,sessionTabId:d("WebSession").getId()};c("QPLUserFlow").start(f,{annotations:{string:babelHelpers["extends"]({},e,a)}})}c("QPLUserFlow").addPoint(f,g)},a[2]=b,a[3]=f):f=a[3];f=f;var g;a[4]!==f||a[5]!==e?(g={addMarkerAndStartFlowIfNotActive:f,startFlow:e},a[4]=f,a[5]=e,a[6]=g):g=a[6];return g}g.useLabyrinthLoggingFlow=a}),98);
__d("useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse",selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],type:"VestaGetUserInfoResponse",abstractKey:null};e.exports=a}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo",["CometRelay","react-compiler-runtime","useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e,f=d("react-compiler-runtime").c(4);a=a.vestaGetUserInfoResponse$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql"),a);c=(c=a==null?void 0:a.attempts_remaining)!=null?c:null;e=(e=a==null?void 0:a.is_registered)!=null?e:null;a=(a=a==null?void 0:a.login_timeout_remaining_secs)!=null?a:null;var g;f[0]!==c||f[1]!==e||f[2]!==a?(g={attemptsRemaining:c,isRegistered:e,loginTimeoutRemainingSecs:a},f[0]=c,f[1]=e,f[2]=a,f[3]=g):g=f[3];return g}g["default"]=a}),98);
__d("useMWEBBackupStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBBackupStateQuery",selections:[{kind:"RequiredField",field:a,action:"LOG",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBBackupStateQuery",selections:[a]},params:{cacheID:"780695c71d771c39c4d001bd676844c7",id:null,metadata:{},name:"useMWEBBackupStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBBackupState",["CometRelay","isMWEBEntrypointEnabled","react-compiler-runtime","useMWEBBackupStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(2);a=a.entrypoint;var f,g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("useMWEBBackupStateQuery.graphql"),g={},e[0]=f,e[1]=g):(f=e[0],g=e[1]);e=d("CometRelay").useClientQuery(f,g);return!c("isMWEBEntrypointEnabled")(a)||(e==null?void 0:e.viewer)==null?0:(f=e.viewer.backup_state)!=null?f:1}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(6),b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g;a[0]!==e||a[1]!==b.tables.messaging_privacy_settings?(g=function(){return d("ReQL").fromTableAscending(b.tables.messaging_privacy_settings).getKeyRange(e)},a[0]=e,a[1]=b.tables.messaging_privacy_settings,a[2]=g):g=a[2];var j;a[3]!==e||a[4]!==b?(j=[b,e],a[3]=e,a[4]=b,a[5]=j):j=a[5];a=d("ReQLSuspense").useFirst(g,j,f.id+":23");if(a==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;g=a.readReceiptsDisabled!=null?(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return g===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MDCAction",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({IMPRESSION:1,TAP:2,FOCUS:3,UNFOCUS:4,SCROLL:5});c=a;f["default"]=c}),66);
__d("MDCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ADD_AS_ADMIN_INITATION:1,BLOCK_FROM_CHAT:2,BLOCK_MESSAGES_AND_CALLS:3,BLOCK_MESSAGES_AND_CALLS_FAILURE:4,BLOCK_MESSAGES_AND_CALLS_SUCCESS:5,BLOCK_ON_FACEBOOK:6,BLOCK_ON_FB_FAILURE:7,BLOCK_ON_FB_SUCCESS:8,BLOCK_USER_INITIATION:9,CHAT_SETUP_SELECT_LINK_RECIPIENT:10,CHAT_SETUP_SHEET_RENDERED:11,CHAT_SETUP_UNSELECT_LINK_RECIPIENT:12,CHAT_SHARE_LINK_SHEET_RENDERED:13,CONFIRM_PUBLIC_CHAT_ACKNOWLEDGEMENT:14,CREATOR_NUX_SHEET_RENDERED:15,DISCOVER_GROUP_CHAT:16,EDIT_CHAT:17,EDIT_CHAT_DESCRIPTION:18,EDIT_CHAT_FAILURE:19,EDIT_CHAT_NAME:20,EDIT_CHAT_SUCCESS:21,EDIT_MEMBER_REQUESTS:22,EVENT_COPY_LINK:23,EVENT_REMINDER_QP_CLICK:24,EVENT_REMINDER_QP_IMPRESSION:25,EVENT_REMINDER_XMA_IMPRESSION:26,EVENT_REMINDER_XMA_TAP:27,EVENT_SHARE_LINK:28,GROUP_CHAT_BUTTON_IMPRESSION:29,INVITE_LINK_IMPRESSION:30,INVITE_LINK_TAPPED:31,JOIN_CHAT_CLOSED:32,JOIN_CHAT_CONFIRM:33,JOIN_CHAT_CONSENT_CONFIRM:34,JOIN_CHAT_INITIATION:35,JOIN_CHAT_SHEET_RENDERED:36,MEMBER_REQUEST_JOIN_APPROVED:37,MEMBER_REQUEST_JOIN_DENIED:38,REMOVE_FROM_CHAT:39,REMOVE_FROM_CHAT_FAILURE:40,REMOVE_FROM_CHAT_INITIATION:41,REMOVE_FROM_CHAT_SUCCESS:42,REPORT_CHAT_TO_ADMIN_FAILURE:43,REPORT_CHAT_TO_ADMIN_INITIATION:44,REPORT_CHAT_TO_ADMIN_SUCCESS:45,REPORT_MESSAGE_TO_ADMINS:46,REPORT_MESSAGE_TO_ADMINS_FAILURE:47,REPORT_MESSAGE_TO_ADMINS_INITIATION:48,REPORT_MESSAGE_TO_ADMINS_SUCCESS:49,REQUEST_JOIN_CHAT_ERROR:50,REQUEST_JOIN_CHAT_SUCCESS:51,REQUEST_JOIN_GROUP_CHAT:52,REQUIRE_APPROVAL_TO_JOIN_DISABLED:53,REQUIRE_APPROVAL_TO_JOIN_ENABLED:54,SET_CHAT_CREATION_PHOTO:55,SET_CHAT_PHOTO:56,SET_GROUP_TYPE:57,THREAD_CREATE_ATTEMPT:58,THREAD_CREATE_ERROR:59,THREAD_CREATE_SUCCESS:60,THREAD_SETTINGS_RENDERED:61,UNBLOCK_FROM_CHAT:62,UNDO_APPROVE_MEMBER_REQUESTS:63,UNDO_DENY_MEMBER_REQUESTS:64,VIEW_ADMIN_MEMBERS:65,VIEW_ALL_MEMBERS:66,VIEW_EVENT:67,VIEW_MEMBER_REQUESTS:68,VIEW_USER_FB_PROFILE:69,VIEW_USER_PROFILE:70,BAN_FROM_CHAT_INITIATION:71,BAN_FROM_CHAT_SUCCESS:72,BAN_FROM_CHAT_FAILURE:73,UNBAN_FROM_CHAT_INITIATION:74,UNBAN_FROM_CHAT_SUCCESS:75,UNBAN_FROM_CHAT_FAILURE:76,COPY_LINK:77,SHARE_LINK_TO_FB_INITIATION:78,SHARE_LINK_TO_FB_CONFIRM:79,SUBMIT_FEEDBACK_INITATION:80,SUBMIT_FEEDBACK:81,SUBMIT_FEEDBACK_FAILURE:82,SUBMIT_FEEDBACK_SUCCESS:83,BAN_FROM_CHAT:84,ADD_THREAD_PHOTO:85,CHANGE_THREAD_PHOTO:86,SHARE_LINK_SENT:87,REMOVE_THREAD_PHOTO:88,INSTALL_MESSENGER_UPSELL_VIEWED:89,DOWNLOAD_MESSENGER_BUTTON_CLICKED:90,POST_XMA_VIEWED:91,THREAD_JOIN:92,SHARE_TO_FACEBOOK_BUTTON_CLICKED:93,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:94,CHAT_SHARED_TO_FACEBOOK:95,THREAD_OPEN:96,CHAT_RENDERED_IN_MIB_INBOX:97,REPORT_MESSAGE_TO_META:98,ADMIN_REMOVE_MESSAGE:99,REMOVE_MESSAGE:100,MESSAGE_SEND:101,DELETE_CHAT:102,LEAVE_CHAT:103,MUTE_CHAT:104,UNMUTE_CHAT:105,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:106,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:107,NOTIF_IMPRESSION:108,NOTIF_CLICKED:109,REPORT_CHAT_TO_FACEBOOK:110,REPORTED_CONTENTS_RENDERED:111,NOTIFICATION_CONTROL_RENDERED:112,NOTIFICATION_CONTROL_HIGHLIGHTS_SELECTED:113,NOTIFICATION_CONTROL_ALL_SELECTED:114,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:115,NOTIFICATION_CONTROL_NONE_SELECTED:116,NOTIFICATION_CONTROL_MUTE_SELECTED:117,NOTIFICATION_CONTROL_UNMUTE_SELECTED:118,USER_PROFILE_BOTTOMSHEET:119,MESSAGE_USER:120,BLOCKED_USER_WARNING_RENDERED:121,BLOCKED_USER_WARNING_CONFIRM:122,BLOCKED_USER_WARNING_LEAVE:123,PUSH_NOTIFICATION_MESSAGE_RECEIVED_RENDERED:124,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:125,NOTIF_SENT:126,NOTIF_CONVERTED:127,OPEN_INVITE_LINK_VIEW:128,INVITE_SCREEN_RENDERED:129,INVITE_BUTTON_TAPPED:130,SEND_BUTTON_TAPPED:131,VIEW_CHAT_BUTTON_TAPPED:132,PROMOTE_ADMIN_BUTTON_TAPPED:133,DEMOTE_ADMIN_BUTTON_TAPPED:134,ADMIN_LIMIT_REACHED_IMPRESSION:135,PROMOTE_ADMIN_FAIL_IMPRESSION:136,DEMOTE_ADMIN_FAIL_IMPRESSION:137,FIRST_CREATE_BOTTOMSHEET_RENDERED:138,CREATE_CHANNEL_SCREEN_RENDERED:139,SHOW_ON_PROFILE_TOGGLE:140,JOIN_APPROVAL_TOGGLE:141,NAME_TEXT_INPUT:142,CHANGE_IMAGE_TAPPED:143,THREAD_CREATE:144,DISMISS_BUTTON_TAPPED:145,SHARE_TO_FEED_SCREEN_RENDERED:146,SHARE_TO_FEED_SKIPPED:147,SHARE_TO_FEED_BUTTON_TAPPED:148,POST_TEXT_INPUT:149,INVITE_TO_CHAT_SCREEN_RENDERED:150,COPY_LINK_TAPPED:151,DONE_BUTTON_TAPPED:152,INVITE_SENT_SUCCESS:153,SEARCH_BAR_INPUT_FOCUS:154,SEARCH_BAR_INPUT_UNFOCUS:155,SHOW_ON_PROFILE_RENDERED:156,SHOW_ON_PROFILE_TAPPED:157,PRIMARY_PROFILE_QP_RENDERED:158,CREATE_CHANNEL_TAPPED:159,NOT_NOW_TAPPED:160,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:161,VIEW_PINNED_CHANNELS:162,UNDO_BUTTON_TAPPED:163,INVITE_SENT_FAILED:164,INVITE_ACCEPT:165,INVITE_DECLINE:166,DIRECT_INVITE_NOTIFICATION_RENDERED:167,DIRECT_INVITE_SHEET_RENDERED:168,DIRECT_INVITE_BULK_SENT_SUCCESS:169,DIRECT_INVITE_BULK_SENT_FAIL:170,CHAT_INVITE_SHEET_RENDERED:171,DIRECT_INVITE_SENT_SUCCESS:172,DIRECT_INVITE_SENT_FAIL:173,PAUSE_CHANNEL:174,RESUME_CHANNEL:175,FEATURED_UNIT_PROFILE_QP_RENDERED:176,PIN_CARD_TAPPED:177,PIN_FEATURED_CARD_SUCCESS:178,PIN_FEATURED_CARD_FAILURE:179,CHANNELS_FEATURED_UNIT_RENDERED:180,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:181,RENDER_CHAT_INVITE_SHEET:182,RENDER_INVITE_PRESET_LIST:183,INVITE_PRESET_LIST_RENDERED:184,CREATE_POST_BUTTON_TAPPED:185,PUBLIC_CHAT_BUTTON_IMPRESSION:186,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:187,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:188,DISMISS_PAUSE_CHANNEL_DIALOG:189,DISMISS_RESUME_CHANNEL_DIALOG:190,CANCEL_RESUME_CHANNEL:191,CANCEL_PAUSE_CHANNEL:192,DEEPLINK_LANDING_PAGE_RENDERED:193,DIRECT_INVITE_SHEET_SKIPPED:194,CREATE_POST_BUTTON:195,CYSC_QP_CARD_IMPRESSION:196,CONVO_PROMPT_REMOVED:197,CONVO_PROMPT_RENDERED:198,CONVO_PROMPT_SCROLLED:199,CONVO_PROMPT_SENT:200,THREAD_PREVIEW_OPEN:201,NON_MEMBER_COMPOSER_SHOWN:202,PIN_FEATURED_CARD_TOGGLE:203,CHANNELS_TAB_ITEM_RENDERED:204,CHANNELS_TAB_ITEM_TAPPED:205,PROFILE_CHANNELS_TAB_RENDERED:206,PIN_TO_INBOX_SUCCESS:207,PIN_TO_INBOX_FAILURE:208,UNPIN_FROM_INBOX_SUCCESS:209,UNPIN_FROM_INBOX_FAILURE:210,PINNED_THREAD_RENDERED:211,CREATE_CHANNEL_OPTION_RENDERED:212,KEEP_EDITING_BUTTON_TAPPED:213,DIRECTORY_FEED_QP_IMPRESSION:214,DIRECTORY_RECOMMENDATION_LIST_IMPRESSION:215,DIRECTORY_FEED_SEE_ALL_TAPPED:216,DIRECTORY_FEED_QP_PREVIEW_TAPPED:217,INVITED_AND_DIRECTORY_SCREEN_IMPRESSION:218,INVITED_CHANNELS_SCREEN_IMPRESSION:219,INVITED_AND_DIRECTORY_SCREEN_TAP_SEE_ALL:220,DIRECTORY_FEED_QP_DISMISS_BUTTON_TAPPED:221,CHANNEL_INSIGHTS:222,CHANNEL_INSIGHTS_HOME_IMPRESSION:223,CHANNEL_INSIGHTS_INTERACTION_HEADER:224,CHANNEL_INSIGHTS_INTERACTION_BREAKDOWN:225});c=a;f["default"]=c}),66);
__d("MDCParentSurface",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MESSENGER:1,FACEBOOK:2,FACEBOOK_NEWSFEED:3,NOTIF_JEWEL:4,CHAT_SETUP:5,THREAD_VIEW:6,THREAD_DETAILS:7,CHAT_INVITE_SHEET:8,DM_CREATION_OMNIPICKER:9,CREATE_PUBLIC_CHAT_DIALOG:10,CHAT_SHARE_LINK:11,MESSENGER_INBOX:12,LONG_PRESS_MENU:13,SWIPE_LEFT_MENU:14,CHANNEL_DELETE_SHEET:15,EDIT_PUBLIC_CHAT_DIALOG:16});c=a;f["default"]=c}),66);
__d("MWInboxHeaderPublicChatSubText.react",["fbt","BaseMiddot.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.count;var e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Social channel"),f=j.jsx(c("BaseMiddot.react"),{}),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=j.jsxs(j.Fragment,{children:[e,f,h._(/*BTDS*/"_j{\"*\":\"{number} members\",\"_1\":\"1 member\"}",[h._plural(a,"number")])]}),b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),226);
__d("MWLogSocialChannelFalcoEvent",["requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerDiscoverableChatClientEventsFalcoEvent").__setRef("MWLogSocialChannelFalcoEvent"),i=new Set([186,180]),j=5*60*1e3,k=null,l=null;function a(a){var b=a.action,d=b===void 0?2:b,e=a.clientExtras,f=a.event;b=a.parentSurface;var g=b===void 0?1:b,m=a.source,n=a.surface,o=a.targetFbids,p=a.threadFbid,q=a.userId;h.onReady(function(a){var b=Date.now();(k==null||l!=null&&b-l>j||i.has(f))&&(k=c("uuidv4")());l=b;a.log(function(){return{action:d,event:f,extra:e,parent_surface:g,session_id:k,source:m,surface:n,target_fbids:o,thread_fbid:p,user_id:q}})})}g.logSocialChannelFalcoEvent=a}),98);
__d("MWMessageListProtectedMedia.react",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWVerticalRhythm","MWXPressable.react","MWXText.react","emptyFunction","react","react-compiler-runtime","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useMemo;var l=e.useRef,m=e.useState,n=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),o={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(21),e=a.mediaType,f=a.state;a=a.uncoverable;a=a===void 0?!0:a;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Videos sent in message requests are covered."),b[0]=g):g=b[0];g=g;var i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Images sent in message requests are covered."),b[1]=i):i=b[1];i=i;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._(/*BTDS*/"Media sent in message requests are covered."),b[2]=j):j=b[2];j=j;var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Click to see blurred video"),b[3]=l):l=b[3];l=l;var m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Click to see blurred image"),b[4]=m):m=b[4];m=m;var o;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Click to see blurred media"),b[5]=o):o=b[5];o=o;var p;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Click to see video"),b[6]=p):p=b[6];p=p;var q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Click to see image"),b[7]=q):q=b[7];q=q;var r;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"Click to see media"),b[8]=r):r=b[8];r=r;i=e==="Image"?i:e==="Video"?g:j;b[9]!==i?(g=k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:i}),b[9]=i,b[10]=g):g=b[10];j=g;if(f===n.Unprotected)return null;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x13vifvy xh8yej3 xhtitgo"},b[11]=i):i=b[11];g=f;var s;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x78zum5 xdt5ytf xurgmgr x2b8uid"},b[12]=s):s=b[12];b[13]!==j||b[14]!==e||b[15]!==f||b[16]!==a?(s=k.jsx("div",babelHelpers["extends"]({},s,{children:f===n.Protected?k.jsxs(k.Fragment,{children:[j,a?k.jsxs(k.Fragment,{children:[k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:e==="Image"?m:e==="Video"?l:o})]}):null]}):k.jsxs(k.Fragment,{children:[j,k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:e==="Image"?q:e==="Video"?p:r})]})})),b[13]=j,b[14]=e,b[15]=f,b[16]=a,b[17]=s):s=b[17];b[18]!==g||b[19]!==s?(m=k.createElement("div",babelHelpers["extends"]({"aria-live":"polite","aria-relevant":"all"},i,{key:g}),s),b[18]=g,b[19]=s,b[20]=m):m=b[20];return m}function a(a){var b=d("react-compiler-runtime").c(48),e=a.ariaLabel,f=a.children,g=a.disabled,h=a.linkProps,j=a.mediaType,q=a.onPress,r=a.overlayDisabled,s=a.testid,t=a.type,u=a.uncoverable,v=a.url;a=a.xstyle;var w=q===void 0?c("emptyFunction"):q;q=r===void 0?!1:r;r=u===void 0?!0:u;u=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var x=m(n.Protected),y=x[0],z=x[1],A=y===n.Unprotected;x=y===n.Blurred;var B=l(null),C;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(C={url:"#"},b[0]=C):C=b[0];C=C;C=C;bb0:{if(t==="video"){t=void 0;break bb0}if(v!=null){v="url("+v+")";var D;b[1]!==v?(D={backgroundImage:v,backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"},b[1]=v,b[2]=D):D=b[2];t=D;break bb0}t=void 0}v=t;b[3]!==u||b[4]!==r?(D=(i||(i=c("stylex"))).props(o.container,u==="Inbox"?o.containerForInbox:!1,r?o.containerUncoverable:!1),b[3]=u,b[4]=r,b[5]=D):D=b[5];b[6]!==v?(t=k.jsx("div",{style:v}),b[6]=v,b[7]=t):t=b[7];u=!A;b[8]!==x||b[9]!==A?(v={0:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x7r5wyf x1ehtkf2 xy7dqi3 x1wl4osp"},2:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x7r5wyf x1ehtkf2 xy7dqi3 x1wl4osp x47corl"},1:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x7r5wyf x1ehtkf2 xy7dqi3 x1wl4osp xj2j9hd"},3:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x7r5wyf x1ehtkf2 xy7dqi3 x1wl4osp x47corl xj2j9hd"}}[!!!A<<1|!!x<<0],b[8]=x,b[9]=A,b[10]=v):v=b[10];var E;b[11]!==f||b[12]!==v||b[13]!==u?(E=k.jsx("div",babelHelpers["extends"]({"aria-hidden":u},v,{children:f})),b[11]=f,b[12]=v,b[13]=u,b[14]=E):E=b[14];b[15]!==x||b[16]!==A?(f=A?null:k.jsx("div",babelHelpers["extends"]({},{0:{className:"x11dxs5c x5yr21d x17qophe x10l6tqk x13vifvy xh8yej3 x1vjfegm"},1:{className:"x5yr21d x17qophe x10l6tqk x13vifvy xh8yej3 x1vjfegm x1cw4mn1"}}[!!x<<0])),b[15]=x,b[16]=A,b[17]=f):f=b[17];b[18]!==j||b[19]!==y||b[20]!==r?(v=k.jsx(p,{mediaType:j,state:y,uncoverable:r}),b[18]=j,b[19]=y,b[20]=r,b[21]=v):v=b[21];b[22]!==E||b[23]!==f||b[24]!==v||b[25]!==D||b[26]!==t?(u=k.jsxs("div",babelHelpers["extends"]({},D,{children:[t,E,f,v]})),b[22]=E,b[23]=f,b[24]=v,b[25]=D,b[26]=t,b[27]=u):u=b[27];x=u;if(!r){b[28]!==a?(j=(i||(i=c("stylex"))).props(a,o.pressable),b[28]=a,b[29]=j):j=b[29];b[30]!==x||b[31]!==j||b[32]!==s?(y=k.jsx("div",babelHelpers["extends"]({},j,{"data-testid":void 0,children:x})),b[30]=x,b[31]=j,b[32]=s,b[33]=y):y=b[33];return y}E=A?e:void 0;f=A?h:C;b[34]!==A||b[35]!==w?(v=function(){A?w():z(function(a){switch(a){case n.Protected:return n.Blurred;case n.Blurred:c("setTimeout")(function(){var a=B.current;if(a!=null)return a.focus()},0);return n.Unprotected;case n.Unprotected:return a}})},b[34]=A,b[35]=w,b[36]=v):v=b[36];b[37]!==a?(D=[a,o.pressable],b[37]=a,b[38]=D):D=b[38];b[39]!==x||b[40]!==g||b[41]!==q||b[42]!==E||b[43]!==f||b[44]!==v||b[45]!==D||b[46]!==s?(t=k.jsx(c("MWXPressable.react"),{"aria-label":E,disabled:g,linkProps:f,onPress:v,overlayDisabled:q,ref:B,testid:void 0,xstyle:D,children:x}),b[39]=x,b[40]=g,b[41]=q,b[42]=E,b[43]=f,b[44]=v,b[45]=D,b[46]=s,b[47]=t):t=b[47];return t}g["default"]=a}),226);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FBLogger","FDSButtonGroup.react","FDSContextualMessage.react","FDSFriendAddFilled16Icon","FDSSkittleIcon.react","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerifyContactRowExistsStoredProcedure","MWCMThreadTypes.react","MWInboxInfoPanelContext.react","Promise","ReQL","ReQLSuspense","cr:4923","promiseDone","react","react-compiler-runtime","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.useState;function p(a){if(a.length===0){c("FBLogger")("messenger_web").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._(/*BTDS*/"{name} wants to join",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._(/*BTDS*/"_j{\"*\":\"{name} and {number} others want to join\",\"_1\":\"{name} and 1 other want to join\"}",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function q(a){var e=d("react-compiler-runtime").c(25),f=a.memberRequests,g=a.setWasClosed;a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var i=a.isOnMemberRequestsPageRef,j=a.pushMemberRequestsPage,k=a.setShouldNavToMemberRequests,l=a.setThreadInfoVisible,n=a.threadInfoVisible;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xcrg951 x7m3og9 x1vjfegm"},e[0]=a):a=e[0];var o;e[1]!==f.length?(o=h._(/*BTDS*/"_j{\"*\":\"See requests\",\"_1\":\"See request\"}",[h._plural(f.length)]),e[1]=f.length,e[2]=o):o=e[2];var q;e[3]!==i||e[4]!==j||e[5]!==k||e[6]!==l||e[7]!==g||e[8]!==n?(q=function(){i.current!==!0&&(n===!0?j():(k(!0),l(!0))),g(!0)},e[3]=i,e[4]=j,e[5]=k,e[6]=l,e[7]=g,e[8]=n,e[9]=q):q=e[9];var r;e[10]!==o||e[11]!==q?(r=m.jsx(c("FDSButtonGroup.react"),{primary:{label:o,onPress:q,padding:"wide",type:"secondary"}}),e[10]=o,e[11]=q,e[12]=r):r=e[12];e[13]!==f?(o=p(f),e[13]=f,e[14]=o):o=e[14];e[15]!==f.length?(q=h._(/*BTDS*/"_j{\"*\":\"{number} member requests\",\"_1\":\"1 member request\"}",[h._plural(f.length,"number")]),e[15]=f.length,e[16]=q):q=e[16];e[17]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):c("FDSFriendAddFilled16Icon"),size:36}),e[17]=f):f=e[17];var s;e[18]!==g?(s=function(){g(!0)},e[18]=g,e[19]=s):s=e[19];e[20]!==r||e[21]!==o||e[22]!==q||e[23]!==s?(a=m.jsx("div",babelHelpers["extends"]({},a,{children:m.jsx(c("FDSContextualMessage.react"),{addOnPrimary:r,body:o,headline:q,icon:f,level:4,onClose:s})})),e[20]=r,e[21]=o,e[22]=q,e[23]=s,e[24]=a):a=e[24];return a}function r(a){var e=d("react-compiler-runtime").c(22),g=a.threadKey;a=o(!1);var h=a[0],l=a[1],p=(k||(k=c("useReStore")))();e[0]!==p.tables.contacts||e[1]!==p.tables.group_membership_approval_requests||e[2]!==g?(a=function(){return d("ReQL").fromTableAscending(p.tables.group_membership_approval_requests).getKeyRange(g).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(p.tables.contacts).getKeyRange(a.contactId),f.id+":173");return[a,b]})},e[0]=p.tables.contacts,e[1]=p.tables.group_membership_approval_requests,e[2]=g,e[3]=a):a=e[3];var r;e[4]!==p||e[5]!==g?(r=[p,g],e[4]=p,e[5]=g,e[6]=r):r=e[6];var t=d("ReQLSuspense").useArray(a,r,f.id+":168"),u=t.length,v=c("usePrevious")(u);a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var w=a.isOnMemberRequestsPageRef;e[7]!==w.current||e[8]!==u||e[9]!==v?(r=function(){w.current!==!0&&v!==null&&u>v&&l(!1)},e[7]=w.current,e[8]=u,e[9]=v,e[10]=r):r=e[10];e[11]!==w||e[12]!==u||e[13]!==v?(a=[u,v,l,w],e[11]=w,e[12]=u,e[13]=v,e[14]=a):a=e[14];n(r,a);e[15]!==p||e[16]!==t?(r=function(){var a=t.map(s);c("promiseDone")(p.runInTransaction(function(e){return(i||(i=b("Promise"))).all(a.map(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite",void 0,void 0,f.id+":205"))},a=[p,t],e[15]=p,e[16]=t,e[17]=r,e[18]=a):(r=e[17],a=e[18]);n(r,a);e[19]!==t||e[20]!==h?(r=!h&&t.length>0?m.jsx(q,{memberRequests:t,setWasClosed:l}):null,e[19]=t,e[20]=h,e[21]=r):r=e[21];return r}function s(a){return a[0].contactId}function t(a){var b=d("react-compiler-runtime").c(8);a=a.thread;var c;b[0]!==a.threadType?(c=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),b[0]=a.threadType,b[1]=c):c=b[1];c=c;var e;b[2]!==a?(e=d("LSThreadBitOffset").has(66,a)&&!d("MWCMThreadTypes.react").isStandardCMThread(a.threadType),b[2]=a,b[3]=e):e=b[3];e=e;var f;b[4]!==c||b[5]!==e||b[6]!==a.threadKey?(f=e&&c?m.jsx(r,{threadKey:a.threadKey}):null,b[4]=c,b[5]=e,b[6]=a.threadKey,b[7]=f):f=b[7];return f}function a(a){var b=d("react-compiler-runtime").c(2);a=a.thread;var e;b[0]!==a?(e=m.jsx(c("CometErrorBoundary.react"),{children:m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWPublicChatMemberRequestsBanner",children:m.jsx(t,{thread:a})})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),226);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9654721567945114"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MWPublicChatNUXDialog.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","LSMessagingThreadTypeUtil","MWPublicChatsNUXQuickPromotionContainer.entrypoint","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(10);a=a.thread;var e=k(),f=e[0],g=e[1],h=c("useCometRelayEntrypointContextualEnvironmentProvider")();b[0]!==a.threadType?(e=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),b[0]=a.threadType,b[1]=e):e=b[1];var l=e;b[2]!==f||b[3]!==h||b[4]!==l?(a=function(){f==null&&l&&g(function(){return d("CometRelay").loadEntryPoint(h,c("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{})});return function(){f==null?void 0:f.dispose()}},e=[f,h,l],b[2]=f,b[3]=h,b[4]=l,b[5]=a,b[6]=e):(a=b[5],e=b[6]);j(a,e);if(f!=null){b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[7]=a):a=b[7];b[8]!==f?(e=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWPublicChatNUXDialog",children:i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:f,props:a})})}),b[8]=f,b[9]=e):e=b[9];return e}else return null}g["default"]=a}),98);
__d("MWV2NegativeFeedbackButton.react",["BaseView.react","MWMessageActionButton.react","MWXIconLike","handleMWV2NoMessageOrTurn","react","react-compiler-runtime","useGenAiNegativeFeedback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{marginEnd:"x11i5rnm",transform:"x19jd1h0",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3),e=a.message;a=a.turn;var f=c("useGenAiNegativeFeedback")(e,a),g=f[0];f=f[1];if(!e&&!a){c("handleMWV2NoMessageOrTurn")();return null}b[0]!==g||b[1]!==f?(e=i.jsx(c("BaseView.react"),{xstyle:j.container,children:i.jsx(c("MWMessageActionButton.react"),{icon:c("MWXIconLike"),label:f,onPress:g,testid:void 0})}),b[0]=g,b[1]=f,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWV2PositiveFeedbackButton.react",["BaseView.react","MWMessageActionButton.react","MWXIconLike","handleMWV2NoMessageOrTurn","react","react-compiler-runtime","useGenAiPositiveFeedback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{marginEnd:"x11i5rnm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3),e=a.message;a=a.turn;var f=c("useGenAiPositiveFeedback")(e,a),g=f[0];f=f[1];if(!e&&!a){c("handleMWV2NoMessageOrTurn")();return null}b[0]!==g||b[1]!==f?(e=i.jsx(c("BaseView.react"),{xstyle:j.container,children:i.jsx(c("MWMessageActionButton.react"),{icon:c("MWXIconLike"),label:f,onPress:g,testid:void 0})}),b[0]=g,b[1]=f,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("useMessengerWebThreadImpressionLogging",["CometDebounce","CometRouteURL","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWThreadCutover","MWCreatorMessagingUtils","MWEncryptedBackupsFirstRestoreUpsellTime","MWLogBroadcastChannelFalcoEvent","MWLogSocialChannelFalcoEvent","MWPActor.react","MWV2IsTabFocusedContext.react","gkx","logMessengerWebFalcoEvent","react-compiler-runtime","requireDeferred","useC4GEngagementSurface","useMWEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("useMessengerWebThreadImpressionLogging"),j=c("gkx")("23219")?3:11,k=c("gkx")("23219")?1:2,l=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=d("react-compiler-runtime").c(27),e=a.thread,f=e.threadKey,g=e.threadSubtype,m=e.threadType,n=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),o=c("useMWEntrypoint")();a=c("useC4GEngagementSurface")();var p=d("MWPActor.react").useActor(),q=d("MAWThreadCutover").useIsCutoverOpenThread(f),r=d("MAWThreadCutover").useGetHasUserRestoredBefore(),s=d("CometRouteURL").useRouteURLParams(),t;b[0]!==m?(t=d("LSMessagingThreadTypeUtil").isArmadilloSecure(m),b[0]=m,b[1]=t):t=b[1];var u=t;b[2]!==p||b[3]!==o||b[4]!==r||b[5]!==n||b[6]!==q||b[7]!==u||b[8]!==(s==null?void 0:s.ref)||b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==m?(t=function(){n&&(l({threadKey:f,threadType:m},"thread_impression",o,{eb_has_user_restored_before:r.toString(),eb_session_identifier:d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime()}),i.onReady(function(a){return a.log(function(){return{entry_point:o,event_type:"thread_impression_event",extra:d("MWCreatorMessagingUtils").isAPPlusMessageRequest(e)?{messaging_source:"creator_messaging_initiation"}:{},group_thread_subtype:g==null?void 0:(h||(h=d("I64"))).to_string(g),is_cutover:q,thread_id:(h||(h=d("I64"))).to_string(f),thread_type:h.to_string(m),transport_type:u?"ACT":"MI"}})}),d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(m)&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:2,event:d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(m)?136:1,parentSurface:j,source:62,surface:(s==null?void 0:s.ref)==="mbs_inbox"?90:7,threadFbid:f}),(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(m)||d("LSMessagingThreadTypeUtil").isSocialChannel(m))&&d("MWLogSocialChannelFalcoEvent").logSocialChannelFalcoEvent({action:1,event:d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(m)?201:96,parentSurface:k,source:46,surface:13,threadFbid:(h||(h=d("I64"))).to_string(f),userId:h.to_string(p)}))},b[2]=p,b[3]=o,b[4]=r,b[5]=n,b[6]=q,b[7]=u,b[8]=s==null?void 0:s.ref,b[9]=e,b[10]=f,b[11]=g,b[12]=m,b[13]=t):t=b[13];var v=s==null?void 0:s.ref,w;b[14]!==p||b[15]!==o||b[16]!==r||b[17]!==n||b[18]!==q||b[19]!==u||b[20]!==a||b[21]!==v||b[22]!==e||b[23]!==f||b[24]!==g||b[25]!==m?(w=[f,o,m,n,p,g,q,a,r,v,e,u],b[14]=p,b[15]=o,b[16]=r,b[17]=n,b[18]=q,b[19]=u,b[20]=a,b[21]=v,b[22]=e,b[23]=f,b[24]=g,b[25]=m,b[26]=w):w=b[26];d("Int64Hooks").useEffectInt64(t,w)}g["default"]=a}),98);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","I64","Int64Hooks","MessengerWebUXLogger","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.consistentThreadFbid,e=a.entryPoint,f=a.threadKey,g=a.threadType,i=c("MessengerWebUXLogger").useInteractionLogger(),j=c("CometDebounce")(function(){var a;e!=null&&c("logMessengerWebFalcoEvent")({threadKey:f,threadType:g},"seen_receipt",e);i==null?void 0:i({entryPoint:e,eventName:"read_receipt",extraData:{consistent_thread_fbid:(h||(h=d("I64"))).to_string((a=b)!=null?a:(h||(h=d("I64"))).zero)},threadKey:f,threadType:g})});return d("Int64Hooks").useCallbackInt64(function(){return j()},[j])}g["default"]=a}),98);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","react-compiler-runtime","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var g=d("react-compiler-runtime").c(6),i=(h||(h=c("useReStore")))();e=c("useIsGenAiFeedbackEnabled")(b,e);var j;g[0]!==i.tables.messages||g[1]!==a?(j=function(){return d("ReQL").fromTableDescending(i.tables.messages.index("threadKeyPrimarySortKeySecondarySortKeyBotResponseId"),["botResponseId"]).getKeyRange(a)},g[0]=i.tables.messages,g[1]=a,g[2]=j):j=g[2];var k;g[3]!==i||g[4]!==a?(k=[i,a],g[3]=i,g[4]=a,g[5]=k):k=g[5];g=d("ReQLSuspense").useFirst(j,k,f.id+":43");j=c("useGenAIFeedbackSubmissionStatus")(b);return e&&(g==null?void 0:g.botResponseId)===b&&j==null}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9CQ8-4bFd8Y/
 */
__d("wasm-feature-detect-1.8.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){const a={bigInt:()=>(async a=>{try{return(await WebAssembly.instantiate(a)).instance.exports.b(BigInt(0))===BigInt(0)}catch(a){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,126,1,126,3,2,1,0,7,5,1,1,98,0,0,10,6,1,4,0,32,0,11])),bulkMemory:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),exceptions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),exceptionsFinal:()=>(async()=>{try{return new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABBAFgAAADAgEAChABDgACaR9AAQMAAAsACxoL"),a=>a.codePointAt(0))),!0}catch(a){return!1}})(),extendedConst:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,0,1,11,9,1,0,65,1,65,2,106,11,0])),gc:()=>(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,95,1,120,0])))(),jsStringBuiltins:()=>(async()=>{try{return await WebAssembly.instantiate(Uint8Array.from(atob("AGFzbQEAAAABBgFgAW8BfwIXAQ53YXNtOmpzLXN0cmluZwR0ZXN0AAA="),a=>a.codePointAt(0)),{},{builtins:["js-string"]}),!0}catch(a){return!1}})(),jspi:()=>(async()=>"Suspending"in WebAssembly)(),memory64:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1])),multiMemory:()=>(async()=>{try{return new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,5,5,2,0,0,0,0])),!0}catch(a){return!1}})(),multiValue:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,0,2,127,127,3,2,1,0,10,8,1,6,0,65,0,65,0,11])),mutableGlobals:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),referenceTypes:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),relaxedSimd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,15,1,13,0,65,1,253,15,65,2,253,15,253,128,2,11])),saturatedFloatToInt:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),signExtensions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),simd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),streamingCompilation:()=>(async()=>"compileStreaming"in WebAssembly)(),tailCall:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,6,1,4,0,18,0,11])),threads:()=>(async a=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(a)}catch(a){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),typeReflection:()=>(async()=>"Function"in WebAssembly)(),typedFunctionReferences:()=>(async()=>{try{return new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABEANgAX8Bf2ABZAABf2AAAX8DBAMBAAIJBQEDAAEBChwDCwBBCkEqIAAUAGoLBwAgAEEBagsGANIBEAAL"),a=>a.codePointAt(0))),!0}catch(a){return!1}})()};g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("wasm-feature-detect",["wasm-feature-detect-1.8.0"],(function(a,b,c,d,e,f){e.exports=b("wasm-feature-detect-1.8.0")()}),null);/*FB_PKG_DELIM*/
__d("ColorUtils",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("^[#]{0,1}([\\w]{1,2})?([\\w]{1,2})([\\w]{1,2})([\\w]{1,2})$"),h=function(a,b){if(a==null)return null;a=a.match(g);if(a==null)return null;a=a.slice(1).map(function(a){return parseInt(a.length==1?a+a:a,16)});if(a.length==4){b==="ARGB"&&a.push(a.shift());return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]/100+")"}return"rgb("+a[0]+","+a[1]+","+a[2]+")"};function a(a){return h(a,"ARGB")}function b(a){return h(a,"RGBA")}f.hexARGBToCSSRGBA=a;f.hexRGBAToCSSRGBA=b}),66);
__d("useLayoutEffect_SAFE_FOR_SSR",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).useLayoutEffect;b=a;g["default"]=b}),98);
__d("FDSTab.react",["BaseNonBreakingSpace.react","CometFocusGroupContext","CometPressable.react","FBLogger","FDSIcon.react","FDSText.react","FDSTextWithBadge.react","XPlatReactEnvironment","react","react-strict-dom","useIntersectionObserver","useLayoutEffect_SAFE_FOR_SSR","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useRef,m=b.useState,n={highlightColor:function(a){return[{color:a==null?null:"xfx01vb",$$css:!0},{"--color":a!=null?a:void 0}]},icon:{lineHeight:"x14ju556",paddingEnd:"xs413o2",$$css:!0},iconEnd:{marginStart:"xzv607s",$$css:!0},iconEnd8:{marginStart:"x1i64zmx",$$css:!0},iconStart:{marginEnd:"xcd5noz",$$css:!0},iconStart8:{marginEnd:"x1emribx",$$css:!0},pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",backgroundImage:"x18o3ruo",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",color:"x1heor9g",cursor:"x1ypdohk",display:"x78zum5",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",textDecoration:"x1hl2dhg",zIndex:"x1vjfegm",$$css:!0},tab:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexShrink:"x2lah0s",minHeight:"x1hshjfz",position:"x1n2onr6",$$css:!0},underline:{backgroundColor:"xholzvs",borderTopEndRadius:"x11t77rh",borderTopStartRadius:"x146dn1l",bottom:"x1ey2m1c",height:"x13np604",end:"xds687c",start:"x17qophe",left:null,right:null,position:"x10l6tqk",$$css:!0},underlineColor:function(a){return[{backgroundColor:a==null?null:"xr5ldyu",$$css:!0},{"--backgroundColor":a!=null?a:void 0}]}};function a(a){var b=a.ref,e=a.badge,f=a.badgeCap,g=a.containerRef,h=a.highlightColor,o=a.icon,p=a.iconColor;p=p===void 0?"secondary":p;var q=a.iconLocation;q=q===void 0?"right":q;var r=a.iconSize;r=r===void 0?16:r;var s=a.label,t=a.labelIsHidden;t=t===void 0?!1:t;var u=a.onHidden,v=a.pressableXStyle,w=a.reduceEmphasis;w=w===void 0?!1:w;var x=a.selected;x=x===void 0?!1:x;var y=a.selectedColor;y=y===void 0?"highlight":y;var z=a.tabRef,A=a.underlineColor,B=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref","badge","badgeCap","containerRef","highlightColor","icon","iconColor","iconLocation","iconSize","label","labelIsHidden","onHidden","pressableXStyle","reduceEmphasis","selected","selectedColor","tabRef","underlineColor","xstyle"]);var C=m(!1),D=C[0],E=C[1],F=l(u);c("useLayoutEffect_SAFE_FOR_SSR")(function(){F.current=u},[u]);C=k(c("CometFocusGroupContext"));C=C.FocusItem;var G=j(function(a){a=a.intersectionRatio;a=a<.5;a!==D&&(E(a),F.current&&F.current(a))},[D,F]),H=j(function(){return g==null?void 0:g.current},[g]);G=c("useIntersectionObserver")(G,{root:H,threshold:.5});H=x?y:"secondary";f=!t&&e!=null?typeof e==="number"?i.jsxs(i.Fragment,{children:[s,i.jsx(c("BaseNonBreakingSpace.react"),{size:.75}),i.jsx(c("FDSText.react"),{color:H,type:"body4",children:f!=null&&e>f?f+"+":e})]}):i.jsx(c("FDSTextWithBadge.react"),{badgeAfter:e,spacing:.75,children:s}):t?null:s;x&&h!=null&&(f=i.jsx(d("react-strict-dom").html.span,{style:n.highlightColor(h),children:f}));w?f=i.jsx(c("FDSText.react"),{color:H,type:"body3",children:f}):f=i.jsx(c("FDSText.react"),{color:H,type:"bodyLink3",children:f});e=o!=null&&q==="left"?i.jsx(d("react-strict-dom").html.div,{style:[n.icon,!t&&(r===16?n.iconStart:n.iconStart8)],children:i.jsx(c("FDSIcon.react"),{color:x?y:p,icon:o,isDecorative:!0,size:r})}):null;h=o!=null&&q==="right"?i.jsx(d("react-strict-dom").html.div,{style:[n.icon,(e!=null||!t)&&(r===16?n.iconEnd:n.iconEnd8)],children:i.jsx(c("FDSIcon.react"),{color:x?y:p,icon:o,isDecorative:!0,size:r})}):null;w=c("useMergeRefs")(G,b);H=i.jsxs(d("react-strict-dom").html.div,{ref:z,style:[n.tab,B],children:[e,f,h,i.jsx(d("react-strict-dom").html.div,{style:[n.underline,x&&A!=null&&n.underlineColor(A)]})]});q=!1;try{q=IntersectionObserver!=null}catch(a){c("FBLogger")("comet_ui").catching(a).warn("IntersectionObserver is not available in current environment")}if(a.onPress!=null||a.linkProps!=null){y=i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a,{"aria-hidden":D,"aria-selected":x,disabled:D,display:d("XPlatReactEnvironment").isWeb()?"inline":void 0,focusable:!D,label:t?s:void 0,overlayDisabled:x,ref:q?w:b,role:"tab",xstyle:[n.pressable,v],children:H}));return C&&!D?i.jsx(C,{children:y}):y}return H}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSTabs.react",["fbt","CometComponentWithKeyCommands.react","CometFocusGroup.react","CometKeys","CometVisualCompletionAttributes","CurrentLocale","FDSDeferredPopoverTrigger.react","FDSTab.react","Locale","ReactDOM","SVGIcon","TriangleDownFilled20.svg.react","focusScopeQueries","mergeRefs","react","react-compiler-runtime","requireDeferred","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useId;b.useMemo;var n=b.useRef,o=b.useState,p=c("requireDeferred")("FDSTabMenu.react").__setRef("FDSTabs.react"),q={invisible:{opacity:"xg01cxk",$$css:!0},moreTab:{height:"x1itg65n",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},moreTabHidden:{display:"x1s85apg",$$css:!0},moreTabVisible:function(a){return[{start:a==null?null:"x1ilu3uo",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},{"--insetInlineStart":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},moreTabVisual:{display:"x3nfvp2",$$css:!0},moreWrapper:{display:"x1rg5ohu",height:"x1itg65n",position:"x1n2onr6",verticalAlign:"x16dsc37",$$css:!0},moreWrapperAdaptive:{height:"x1x4j4od",maxHeight:"xyhpeqk",minHeight:"x2lwn1j",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},root:{height:"x1itg65n",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},tab:{display:"x3nfvp2","float":"xrbpyxo",height:"x1itg65n",verticalAlign:"x16dsc37",$$css:!0},tabsContainer:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",$$css:!0}},r={"default":{width:"x1k51ox",$$css:!0},englishOrShorter:{width:"x192njpj",$$css:!0}},s=["en_US","en_GB","nl_NL","vi_VN","af_ZA","fy_NL","kk_KZ","cs_CZ","sw_KE","it_IT","pt_BR","pt_PT","bg_BG","hr_HR","nn_NO","es_ES","es_LA","fr_FR","ca_ES","fr_CA","si_LK","sr_RS","nb_NO","sv_SE","zh_HK","zh_TW","he_IL","ne_NP","eo_EO"],t=d("Locale").isRTL();function a(a){var b=d("react-compiler-runtime").c(67),e=a["aria-label"],f=a.heightXStyle,g=a.maxHeightXStyle,j=a.maxTabs,y=a.menuSize,z=a.moreTabRef,A=a.moreTabStyles,B=a.moreTabXStyle,C=a.moreWrapperXStyle,D=a.onMoreTabPress,E=a.tabs,F=a.tabsContainerStyle;a=a.truncateMenu;var G=a===void 0?!1:a,H=(a=j)!=null?a:E.length,I=m(),J=m(),ba=n(null);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=[],b[0]=j):j=b[0];var K=n(j),ca=n(null),L=n(v);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){L.current()},b[1]=a):a=b[1];j=a;var M=c("useResizeObserver")(j);b[2]!==H||b[3]!==E.length?(a=x(E.length,H,[]),b[2]=H,b[3]=E.length,b[4]=a):a=b[4];j=o(a);var N=j[0],O=j[1];a=o(!1);var P=a[0],da=a[1];b[5]!==H||b[6]!==E.length?(j=function(){O(function(a){return x(E.length,H,a)})},a=[E.length,H],b[5]=H,b[6]=E.length,b[7]=j,b[8]=a):(j=b[7],a=b[8]);l(j,a);b[9]!==H||b[10]!==E?(j=H<E.length?E.slice(0,H):E,b[9]=H,b[10]=E,b[11]=j):j=b[11];var Q=j,R=H>=E.length;if(b[12]!==N||b[13]!==E){b[15]!==E?(a=function(a){return(a=E[a])==null?void 0:a.selected},b[15]=E,b[16]=a):a=b[16];j=N.some(a);b[12]=N;b[13]=E;b[14]=j}else j=b[14];a=j;var S=a;j=o(null);var T=j[0],U=j[1];a=o(!1);var V=a[0],W=a[1],X=n(null);b[17]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){var a=function(){var a=X.current,b=a==null?void 0:a.parentElement;if(a!=null&&b!=null){a=a.getBoundingClientRect();b=b.getBoundingClientRect();if(a.height<5){U(null);return}t?U(b.right-a.right):U(a.left-b.left)}};a();var b;b=null;var c=function(){b!=null&&window.clearTimeout(b),d("ReactDOM").flushSync(function(){W(!0)}),b=window.setTimeout(function(){a(),W(!1)},300)};L.current=c;return function(){L.current=u,b!=null&&window.clearTimeout(b)}},a=[],b[17]=j,b[18]=a):(j=b[17],a=b[18]);l(j,a);b[19]!==R||b[20]!==f||b[21]!==V||b[22]!==T||b[23]!==C?(j=(i||(i=c("stylex"))).props(q.moreWrapper,r["default"],s.includes(c("CurrentLocale").get())&&r.englishOrShorter,C,f,R&&q.moreWrapperAdaptive,q.moreTabVisual,T!=null&&!V&&q.invisible),b[19]=R,b[20]=f,b[21]=V,b[22]=T,b[23]=C,b[24]=j):j=b[24];b[25]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("SVGIcon").svgIcon(c("TriangleDownFilled20.svg.react")),b[25]=a):a=b[25];var Y;b[26]===Symbol["for"]("react.memo_cache_sentinel")?(Y=h._(/*BTDS*/"More"),b[26]=Y):Y=b[26];b[27]!==S||b[28]!==P||b[29]!==I||b[30]!==J||b[31]!==A||b[32]!==B?(a=k.createElement(c("FDSTab.react"),babelHelpers["extends"]({},A,{"aria-controls":I,"aria-expanded":P,"aria-haspopup":"menu",icon:a,iconSize:16,id:J,key:"more-tab-visual",label:Y,role:"tab",selected:S,testid:void 0,xstyle:B})),b[27]=S,b[28]=P,b[29]=I,b[30]=J,b[31]=A,b[32]=B,b[33]=a):a=b[33];b[34]!==j||b[35]!==a?(Y=k.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},j,{ref:X,children:a})),b[34]=j,b[35]=a,b[36]=Y):Y=b[36];var Z=Y;b[37]!==f||b[38]!==S||b[39]!==P||b[40]!==V||b[41]!==g||b[42]!==T||b[43]!==I||b[44]!==J||b[45]!==z||b[46]!==A||b[47]!==B||b[48]!==C||b[49]!==D?(j=function(a,b){a=c("mergeRefs")(a,ca,z);var e=[{command:{key:c("CometKeys").DOWN},description:h._(/*BTDS*/"Open menu"),handler:b}];return k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:e,xstyle:[r["default"],s.includes(c("CurrentLocale").get())&&r.englishOrShorter,C,g,T==null?q.moreTabHidden:q.moreTabVisible(T),V&&q.invisible],children:k.jsx(c("FDSTab.react"),babelHelpers["extends"]({},A,{"aria-controls":I,"aria-expanded":P,"aria-haspopup":"menu",icon:d("SVGIcon").svgIcon(c("TriangleDownFilled20.svg.react")),iconSize:16,id:J,label:h._(/*BTDS*/"More"),onPress:function(){b(),D==null?void 0:D()},pressableXStyle:[q.moreTab,f],ref:a,role:"tab",selected:S,testid:void 0,xstyle:B}))},"more-tab-functional")},b[37]=f,b[38]=S,b[39]=P,b[40]=V,b[41]=g,b[42]=T,b[43]=I,b[44]=J,b[45]=z,b[46]=A,b[47]=B,b[48]=C,b[49]=D,b[50]=j):j=b[50];var $=j;b[51]!==R||b[52]!==e||b[53]!==f||b[54]!==N||b[55]!==y||b[56]!==T||b[57]!==I||b[58]!==$||b[59]!==J||b[60]!==Z||b[61]!==M||b[62]!==E||b[63]!==F||b[64]!==G||b[65]!==Q?(a=k.jsx(c("CometFocusGroup.react"),{hideArrowSignifiers:!0,orientation:"horizontal",preventScrollOnFocus:!0,role:"tablist",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:function(a){return k.jsx("div",babelHelpers["extends"]({"aria-label":e,"aria-orientation":"horizontal",className:(i||(i=c("stylex")))(q.root,a,f),role:"tablist"},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:k.jsxs("div",babelHelpers["extends"]({className:"x14ju556 x1n2onr6"},{children:[R&&k.jsx("div",babelHelpers["extends"]({className:"x6ikm8r x10wlt62 xlshs6z"},{children:Q.map(function(a,b){a.linkProps;a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["linkProps","onPress"]);return k.createElement(c("FDSTab.react"),babelHelpers["extends"]({},a,{key:b+"tab",ref:function(a){return K.current[b]=a},role:"tab",selected:a.selected,xstyle:[q.tab,a.xstyle]}))})})),k.jsxs("div",babelHelpers["extends"]({},i.props(q.tabsContainer,F),{"data-testid":void 0,ref:M,children:[Z,Q.map(function(a,b){return k.createElement(c("FDSTab.react"),babelHelpers["extends"]({},a,{containerRef:ba,key:b+"tab",onHidden:function(a){O(function(c){return a?w(c,b):aa(c,b)})},pressableXStyle:q.tab,ref:function(a){return K.current[b]=a},role:"tab",selected:a.selected}))}),T!=null&&k.jsx(c("FDSDeferredPopoverTrigger.react"),{onVisibilityChange:da,popoverProps:{ariaLabelledby:J,id:I,menuItems:N.map(function(a){return E[a]}).filter(Boolean),menuSize:y,truncate:G},popoverResource:p,children:$})]}))]}))}))}}),b[51]=R,b[52]=e,b[53]=f,b[54]=N,b[55]=y,b[56]=T,b[57]=I,b[58]=$,b[59]=J,b[60]=Z,b[61]=M,b[62]=E,b[63]=F,b[64]=G,b[65]=Q,b[66]=a):a=b[66];return a}function u(){}function v(){}function w(a,b){return a.includes(b)?a:[].concat(a,[b]).sort(function(a,b){return a-b})}function aa(a,b){return a.includes(b)?a.filter(function(a){return a!==b}):a}function x(a,b,c){var d=Array(a).fill(0).map(function(a,b){return b}).filter(function(a){return a>=b});d=Array.from(new Set([].concat(d,c)));return d.filter(function(b){return b<a})}g["default"]=a}),226);
__d("FDSEntityHeaderTabs.react",["FDSTabs.react","XPlatReactEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={entityHeaderTab:{height:"xng8ra",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.maxTabs,f=a.menuSize,g=a.onMoreTabPress;a=a.tabs;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={overlayOffset:d("XPlatReactEnvironment").isWeb()?{bottom:-4,left:0,right:0,top:-4}:{bottom:4,left:0,right:0,top:4},overlayRadius:6,underlineColor:"var(--accent)"},b[0]=h):h=b[0];var l;b[1]!==a?(l=a.map(k),b[1]=a,b[2]=l):l=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==l?(a=i.jsx(c("FDSTabs.react"),{maxTabs:e,menuSize:f,moreTabStyles:h,moreTabXStyle:j.entityHeaderTab,onMoreTabPress:g,tabs:l,truncateMenu:!0}),b[3]=e,b[4]=f,b[5]=g,b[6]=l,b[7]=a):a=b[7];return a}function k(a){return babelHelpers["extends"]({},a,{overlayOffset:d("XPlatReactEnvironment").isWeb()?{bottom:-4,left:0,right:0,top:-4}:{bottom:4,left:0,right:0,top:4},overlayRadius:6,underlineColor:"var(--accent)",xstyle:j.entityHeaderTab})}g["default"]=a}),98);
__d("FDSEntityHeaderTabBar.react",["FDSEntityHeaderTabs.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.maxTabs,f=a.menuSize,g=a.tabs;a=a.tabsRouteTarget;var h=a===void 0?"self":a;b[0]!==g?(a=g.findIndex(j),b[0]=g,b[1]=a):a=b[1];var k=a;if(b[2]!==k||b[3]!==g||b[4]!==h){b[6]!==k||b[7]!==h?(a=function(a,b){a.isActive;var c=a.linkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["isActive","linkProps"]);return c?babelHelpers["extends"]({},a,{linkProps:babelHelpers["extends"]({},c,{routeTarget:h}),selected:b===k}):babelHelpers["extends"]({},a,{selected:b===k})},b[6]=k,b[7]=h,b[8]=a):a=b[8];a=g.map(a);b[2]=k;b[3]=g;b[4]=h;b[5]=a}else a=b[5];g=a;b[9]!==g||b[10]!==e||b[11]!==f?(a=i.jsx(c("FDSEntityHeaderTabs.react"),{maxTabs:e,menuSize:f,tabs:g}),b[9]=g,b[10]=e,b[11]=f,b[12]=a):a=b[12];return a}function j(a){return a.isActive()}g["default"]=a}),98);
__d("FDSPressableFacepileProfilePhoto.react",["CometPressable.react","FDSProfilePhoto.react","react","react-compiler-runtime","useIntersectionObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(25),e,f,g,h,k,l;b[0]!==a?(l=a.Container,e=a.FocusItemComponent,f=a.divClassName,g=a.parentRef,h=a.pressableProps,k=babelHelpers.objectWithoutPropertiesLoose(a,["Container","FocusItemComponent","divClassName","parentRef","pressableProps"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6]);a=l===void 0?i.Fragment:l;l=j(!1);var m=l[0],n=l[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(a){a=a.intersectionRatio;n(a<.5)},b[7]=l):l=b[7];l=l;var o;b[8]!==g?(o={root:function(){var a;return(a=g.current)!=null?a:null},threshold:.5},b[8]=g,b[9]=o):o=b[9];l=c("useIntersectionObserver")(l,o);b[10]!==m||b[11]!==h||b[12]!==k?(o=h!=null?i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{disabled:m,children:i.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},k,{overlayDisabled:!0}))})):i.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},k,{overlayDisabled:!0})),b[10]=m,b[11]=h,b[12]=k,b[13]=o):o=b[13];b[14]!==a||b[15]!==o?(h=i.jsx(a,{children:o}),b[14]=a,b[15]=o,b[16]=h):h=b[16];b[17]!==e||b[18]!==m||b[19]!==h?(k=i.jsx(e,{disabled:m,children:h}),b[17]=e,b[18]=m,b[19]=h,b[20]=k):k=b[20];b[21]!==f||b[22]!==l||b[23]!==k?(a=i.jsx("div",{className:f,ref:l,role:"listitem",children:k}),b[21]=f,b[22]=l,b[23]=k,b[24]=a):a=b[24];return a}g["default"]=a}),98);
__d("FDSPressableFacepile.react",["fbt","ix","BaseContainerQueryElement.react","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","FDSIcon.react","FDSPressableFacepileProfilePhoto.react","FDSText.react","FDSTooltip.react","FocusGroup.react","ReactDOM","fbicon","focusScopeQueries","react","react-compiler-runtime","useIntersectionObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useId,m=b.useRef,n=b.useState;e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var o=e[0],p=e[1],q=4,r=6,s=-4,t={overflow24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},overflow28:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},overflow32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},overflow40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},overflow48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},overflowItem:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",flexShrink:"x2lah0s",justifyContent:"xl56j7k",pointerEvents:"x71s49j",$$css:!0},pressableItem:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x1lliihq",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(41),e=a.count,f=a.ellipsisTooltip,g=a.isOverlapping,i=a.isTextInline,j=a.items,n=a.linkProps,A=a.onPress,B=a.size,C=a.testid,D=a.testOnly_pressed,E=a.text;a=a.withWrapper;var F=g===void 0?!1:g;g=i===void 0?!1:i;var G=D===void 0?!1:D,H=(i=e)!=null?i:j.length;b[0]!==j?(D=j.some(x),b[0]=j,b[1]=D):D=b[1];e=D;var I=j.some(w),J=F?s:I?r:q,K=Math.min(H,j.length,g?3:Infinity),L=m(null),M=l();i=l();b[2]===Symbol["for"]("react.memo_cache_sentinel")?(D=[{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"Previous item"),handler:v},{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"Next item"),handler:u}],b[2]=D):D=b[2];D=D;var N;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(N={className:"x78zum5 x1q0g3np xhsvlbd x16pr9af x6ikm8r x889kno x1a8lsjc x1n2onr6"},b[3]=N):N=b[3];i=E!=null?i:void 0;var O="list",P=j.slice(0,K).map(function(a,b){var d=a.addOn,e=a.alt,f=a.containerComponent,g=a.isDecorative,h=a.source,i=a.testid;i=babelHelpers.objectWithoutPropertiesLoose(a,["addOn","alt","containerComponent","isDecorative","source","testid"]);g===void 0?!1:g;return k.jsxs(k.Fragment,{children:[k.jsx(c("BaseContainerQueryElement.react"),{breakpoint:(b+1)*(B+J)-J,inverseToContainer:!0,maxWidth:"100%",minWidth:0}),k.jsx(c("FDSPressableFacepileProfilePhoto.react"),{Container:f,FocusItemComponent:p,addOn:d,alt:e,divClassName:{0:"x1n2onr6",4:"x1n2onr6 xsgj6o6",2:"x1n2onr6 x1mnrxsn",6:"x1n2onr6 x1mnrxsn",1:"x1n2onr6 x139jcc6",5:"x1n2onr6 x139jcc6",3:"x1n2onr6 x139jcc6",7:"x1n2onr6 x139jcc6"}[!!(b>0)<<2|!!(b>0&&I)<<1|!!(b>0&&F)<<0],isOverlapped:F&&b>0,parentRef:L,pressableProps:i.onPress||i.linkProps?babelHelpers["extends"]({},i,{display:"inline",overlayDisabled:F,overlayRadius:B/2,xstyle:t.pressableItem}):null,role:"listitem",shape:"circle",size:B,source:h,testid:void 0})]},b)}),Q;b[4]!==H||b[5]!==f||b[6]!==e||b[7]!==F||b[8]!==j||b[9]!==n||b[10]!==M||b[11]!==K||b[12]!==A||b[13]!==B||b[14]!==J||b[15]!==G||b[16]!==C?(Q=!e&&(A||n)&&k.jsxs("div",babelHelpers["extends"]({className:"x1jn9clo x78zum5 x1q0g3np xds687c x17qophe x47corl x10l6tqk x1eu8d0j"},{role:"listitem",children:[j.slice(0,Math.min(j.length,K<H?K:H)).map(function(a,b){return b===0&&H>1?null:k.jsx(c("BaseContainerQueryElement.react"),{breakpoint:(b+1)*(B+J)-J,maxWidth:b===H-1?"100%":B+J,minWidth:0},"overflowPusher"+b)}),k.jsx(z,{FocusItemComponent:p,"aria-label":h._(/*BTDS*/"See everyone"),ellipsisTooltip:f,linkProps:n,onPress:A,overlayDisabled:!0,parentRef:L,size:B,spacing:J,testid:void 0,xstyle:[t.overflowItem,B===24&&t.overflow24,B===28&&t.overflow28,B===32&&t.overflow32,B===40&&t.overflow40,B===48&&t.overflow48],children:function(a){var b=a.hovered;a=a.pressed;return k.jsxs(k.Fragment,{children:[k.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0},{className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy"},{height:B,viewBox:"0 0 "+B+" "+B,width:B,children:[F&&K>1&&k.jsxs("mask",{id:M,suppressHydrationWarning:!0,children:[k.jsx("circle",{cx:B/2,cy:B/2,fill:"white",r:B/2}),k.jsx("circle",{cx:-B/2+4,cy:B/2,fill:"black",r:B/2+2})]}),k.jsx("circle",babelHelpers["extends"]({className:"x1wnuiir",cx:B/2,cy:B/2,r:B/2,suppressHydrationWarning:!0},F&&K>1?{mask:"url(#"+M+")"}:null)),k.jsx("circle",babelHelpers["extends"]({className:{0:"x1wnuiir xg01cxk x1ebt8du x19991ni x1dhq9h",2:"x19991ni x1dhq9h x4bmajx x1hc1fzr x1mq3mr6",1:"x19991ni x1dhq9h x1tgjyoi x1hc1fzr x1mq3mr6",3:"x19991ni x1dhq9h x1tgjyoi x1hc1fzr x1mq3mr6"}[!!b<<1|!!(a||G)<<0],cx:B/2,cy:B/2,r:B/2,suppressHydrationWarning:!0},F&&K>1?{mask:"url(#"+M+")"}:null))]})),k.jsx(c("FDSIcon.react"),{color:"white",icon:y(B)})]})}})]})),b[4]=H,b[5]=f,b[6]=e,b[7]=F,b[8]=j,b[9]=n,b[10]=M,b[11]=K,b[12]=A,b[13]=B,b[14]=J,b[15]=G,b[16]=C,b[17]=Q):Q=b[17];b[18]!==P||b[19]!==Q||b[20]!==N||b[21]!==i?(f=k.jsxs("div",babelHelpers["extends"]({},N,{"aria-describedby":i,ref:L,role:O,children:[P,Q]})),b[18]=P,b[19]=Q,b[20]=N,b[21]=i,b[22]=f):f=b[22];e=f;b[23]!==g?(j={0:{className:"x78zum5 xdt5ytf"},1:{className:"x78zum5 x6s0dn4 x1q0g3np"}}[!!g<<0],b[23]=g,b[24]=j):j=b[24];b[25]!==e?(n=k.jsx(o,{orientation:"horizontal",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:e}),b[25]=e,b[26]=n):n=b[26];b[27]!==D||b[28]!==n?(A=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:D,children:n}),b[27]=D,b[28]=n,b[29]=A):A=b[29];b[30]!==g||b[31]!==E?(O=E!=null?k.jsx("div",babelHelpers["extends"]({},{0:{className:"xz9dl7a"},1:{className:"x1e558r4 xexx8yu"}}[!!g<<0],{children:k.jsx(c("FDSText.react"),{color:"secondary",type:"body3",children:E})})):null,b[30]=g,b[31]=E,b[32]=O):O=b[32];b[33]!==j||b[34]!==A||b[35]!==O||b[36]!==C?(P=k.jsxs("div",babelHelpers["extends"]({},j,{"data-testid":void 0,children:[A,O]})),b[33]=j,b[34]=A,b[35]=O,b[36]=C,b[37]=P):P=b[37];Q=P;b[38]!==Q||b[39]!==a?(N=a?k.jsx("div",babelHelpers["extends"]({className:"xn6708d x1swvt13 xyamay9"},{children:Q})):Q,b[38]=Q,b[39]=a,b[40]=N):N=b[40];return N}function u(){}function v(){}function w(a){return((a=a.addOn)==null?void 0:a.type)==="activityBadge"}function x(a){return a.addOn!=null}function y(a){switch(a){case 32:return d("fbicon")._(i("484386"),16);case 40:case 48:return d("fbicon")._(i("484388"),24);default:return d("fbicon")._(i("484385"),12)}}function z(a){var b=d("react-compiler-runtime").c(26),e,f,g,h,i,j;b[0]!==a?(e=a.FocusItemComponent,f=a.ellipsisTooltip,g=a.parentRef,i=a.size,j=a.spacing,h=babelHelpers.objectWithoutPropertiesLoose(a,["FocusItemComponent","ellipsisTooltip","parentRef","size","spacing"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i,b[6]=j):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6]);a=n(!1);var l=a[0],m=a[1];a=n(null);var o=a[0],p=a[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){var b=a.intersectionRatio;d("ReactDOM").flushSync(function(){m(b<.5)})},b[7]=a):a=b[7];a=a;var q;b[8]!==g?(q={root:function(){var a;return(a=g.current)!=null?a:null},threshold:.5},b[8]=g,b[9]=q):q=b[9];a=c("useIntersectionObserver")(a,q);b[10]!==g||b[11]!==i||b[12]!==j?(q=function(a){if(!a)return;a=g.current;if(!a)return;a=a.getBoundingClientRect();a=a.width;a=Math.floor((a+j)/(i+j));p(a-1)},b[10]=g,b[11]=i,b[12]=j,b[13]=q):q=b[13];q=q;var r;b[14]!==a||b[15]!==h?(r=k.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{ref:a})),b[14]=a,b[15]=h,b[16]=r):r=b[16];a=r;b[17]!==a||b[18]!==f||b[19]!==o||b[20]!==q?(h=f?k.jsx(c("FDSTooltip.react"),{align:"middle",onVisibilityChange:q,position:"below",tooltip:o!=null?f(o):"",children:a}):a,b[17]=a,b[18]=f,b[19]=o,b[20]=q,b[21]=h):h=b[21];b[22]!==e||b[23]!==l||b[24]!==h?(r=k.jsx(e,{disabled:l,children:h}),b[22]=e,b[23]=l,b[24]=h,b[25]=r):r=b[25];return r}g["default"]=a}),226);
__d("useSearchCometResultsTypeaheadDialogTriggerClickHandler",["react","react-compiler-runtime","searchCometScopedTypeaheadDialogFallback","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a,b,e){var f=d("react-compiler-runtime").c(11),g=i(null),h;f[0]!==b?(h={entityID:b},f[0]=b,f[1]=h):h=f[1];a=c("useCometEntryPointDialog")(a,h,"button",c("searchCometScopedTypeaheadDialogFallback"));var k=a[0];h=a[1];var l=a[2];a=a[3];var m;f[2]!==b||f[3]!==e||f[4]!==k?(m=function(){k({entityID:b},j,"comet.search_scoped."+e)},f[2]=b,f[3]=e,f[4]=k,f[5]=m):m=f[5];m=m;f[6]!==h||f[7]!==l||f[8]!==a||f[9]!==m?(g=[m,g,h,l,a],f[6]=h,f[7]=l,f[8]=a,f[9]=m,f[10]=g):g=f[10];return g}function j(){}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("E2EEBackupSecretRegisterModule",["E2EEBackupCommon","QuickPerformanceLogger","VestaClient","VestaClientError","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(235865454,"167");function a(a,b,d){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase,registration_mode:"regular_mode"}});return j(a,b,!1,d)}function b(a,b,d){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase,registration_mode:"re-register_mode"}});return j(a,b,!0,d)}async function j(a,b,e,f){try{var g=await a.initRegister({clientId:b.clientId,productUseCase:b.productUseCase},f),j=g.isRegistered,k=g.islandEd25519Pub,l=g.islandEd25519PubSig,m=g.islandRsaPub;g=g.islandRsaPubSig;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"init_register_network_call");if(j&&!e){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ALREADY_REGISTERED"}});h.markerEnd(i,3376);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ALREADY_REGISTERED)}j=await Promise.all([d("VestaClient").validateHsmKey(m,g),d("VestaClient").validateHsmKey(k,l)]);e=j[0];g=j[1];if(!e){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_RSA_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_RSA_KEY_INVALID)}if(!g){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_ED25519_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_ED25519_KEY_INVALID)}h.markerPoint(i,"verify_island_rsa_key");h.markerPoint(i,"verify_island_ed25519_key");l=b.vestaAccountPin;if(l==null)throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.MISSING_PIN_INPUT);else{j=new TextEncoder();e=await d("VestaClient").beginRegister(j.encode(l));g=e.clientState;j=e.r1Message;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"begin_register_vesta_client");l=await a.beginRegister({clientId:b.clientId,productUseCase:b.productUseCase,opaqueR1:j},f);e=l.opaqueChallenge;var n=l.opaqueR2;l=l.opaqueR2Sig;h.markerPoint(i,"begin_register_network_call");j=await d("VestaClient").finishRegister(j,n,l,k,g,b.secret,e,m);n=j.registerPayload;h.markerPoint(i,"finish_register_vesta_client");l=await a.finishRegister({clientId:b.clientId,productUseCase:b.productUseCase,encRegPayload:n},f);k=l.registerSuccess;h.markerPoint(i,"finish_register_network_call");if(!k){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}h.markerEnd(i,2)}}catch(a){if(a instanceof d("E2EEBackupCommon").BackupError)throw a;else if(a instanceof c("VestaClientError")){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VestaClientException: "+a.name}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_CLIENT_ERROR,a)}else{(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:a.message}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NETWORK_PROVIDER_ERROR,a)}}}g.registerBackupSecret=a;g.reRegisterBackupSecret=b}),98);
__d("LSCreateExtraVirtualDevice",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDebugToken.nop","LSCreateDerivedKeys.nop","LSCreateEncryptionKeyPair.nop","LSCreateSignatureKeyPair.nop","LSCreateSignatureWithArmadilloKey.nop","LSCreateSignature_v2.nop","LSGetArmadilloPublicKey.nop","LSGetBlobFromString.nop","LSGetOpenEpochKeys","LSGetViewerFBID","LSHandleCreateVirtualDeviceFailure","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSOcmfClientEvolve_v2.nop","LSParseRecoveryCode_v2.nop","LSSymmetricEncryptionCreateEncryptedString.nop","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(c){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] Beginning execution."),d.i64.eq(a[0],d.i64.cast([0,1]))?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,["50012"].join("")):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}]):d.i64.eq(a[0],d.i64.cast([0,2]))?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,["50013"].join("")):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}]):d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}])},function(a){return d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,c){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,d.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,d.i64.cast([0,20]),void 0,void 0],e[1]=f[0],e[2]=f[1],e[3]=f[2],e[4]=f[3],e[5]=f[4],e[6]=f[5],e[7]=f[6],e[8]=f[7],e[9]=f[8],e[10]=f[9],e[11]=f[10],e[12]=f[11],e[13]=f[12],e[14]=f[13],e[15]=f[14],e[16]=f[15],e[17]=f[16],e[18]=f[17],f):(c=a.item,d.sequence([function(a){return e[32]=c.backupTenancy,e[31]=c.encryptionVersion,e[27]=void 0,d.i64.neq(e[27],void 0)?d.resolve(e[28]=e[27]):d.sequence([function(a){return e[33]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[34]=a[0],a})},function(a){return e[34]?e[43]=(e[33].push(d.i64.cast([0,0])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[35]=a[0],a})},function(a){return e[35]?e[43]=(e[33].push(d.i64.cast([0,2])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[36]=a[0],a})},function(a){return e[36]?e[43]=(e[33].push(d.i64.cast([0,3])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[37]=a[0],a})},function(a){return e[37]?e[43]=(e[33].push(d.i64.cast([0,4])),e[33]):0,e[38]=d.createArray(),e[39]=d.i64.of_int32(e[33].length),d.i64.gt(e[39],d.i64.cast([0,0]))?d.loopAsync(e[39],function(a){return e[43]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[33],e[43]).then(function(a){return a=a,e[44]=a[0],e[45]=a[1],a})},function(a){return e[46]=(e[38].push(e[44]),e[38])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[43]=d.createArray(),e[44]=d.i64.of_int32(e[38].length),d.i64.gt(e[44],d.i64.cast([0,0]))?d.loopAsync(e[44],function(a){return e[46]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[38],e[46]).then(function(a){return a=a,e[47]=a[0],e[48]=a[1],a})},function(a){return e[49]=(e[43].push(d.i64.to_string(e[47])),e[43])}])}):d.resolve()},function(a){return e[45]=e[43].join(","),e[40]=e[45]}])},function(a){return e[38].some(function(a){return d.i64.eq(e[31],a)})?e[41]=e[31]:e[41]=void 0,d.i64.neq(e[41],void 0)?e[42]=e[41]:e[42]=void 0,e[28]=e[42]}])},function(a){return d.i64.neq(e[28],void 0)?e[29]=e[28]:e[29]=d.i64.cast([0,0]),d.i64.neq(e[32],void 0)?e[30]=e[32]:e[30]=d.i64.cast([0,1]),a=[c.backupId,c.deviceId,c.mailboxRootKeyBlob,c.ocmfClientStateBlob,void 0,void 0,e[29],e[30],c.epochAuthPublicKeyBlob,c.epochAuthPrivateKeyBlob,c.devicePublicKeyBlob,c.devicePrivateKeyBlob,c.epochStoragePublicKeyBlob,c.epochStoragePrivateKeyBlob,c.obliviousValidationTokenBlob,c.authorityLevel,void 0,void 0],e[1]=a[0],e[2]=a[1],e[3]=a[2],e[4]=a[3],e[5]=a[4],e[6]=a[5],e[7]=a[6],e[8]=a[7],e[9]=a[8],e[10]=a[9],e[11]=a[10],e[12]=a[11],e[13]=a[12],e[14]=a[13],e[15]=a[14],e[16]=a[15],e[17]=a[16],e[18]=a[17],a}]))})},function(f){return d.i64.neq(e[1],void 0)?d.sequence([function(f){return d.db.table(174).fetch([[[d.i64.cast([0,1])]]]).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,3])})},function(a){return e[29]="Recovery code not created, will not create extra virtual device",e[29]!==void 0?(function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ","",e[29]].join("")),e[30]=d.createArray(),void 0!==void 0?e[31]=(e[30].push(void 0),e[30]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",e[29],e[30],d.i64.cast([0,3]))):d.resolve()},function(a){return e[27]=d.i64.cast([0,1])}]):(g=f.item,d.sequence([function(a){return e[31]=g.recoveryCode,e[32]=g.virtualDeviceType,e[33]=g.cloudServiceAccount,e[34]=g.hsmPinNormalizationStatus,d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,1])})},function(a){return d.db.table(168).fetch().next().then(function(b,c){var a=b.done;b=b.value;return a?e[29]=d.i64.cast([0,1]):(c=b.item,e[36]=c.backupTenancy,d.i64.neq(e[36],void 0)?e[35]=e[36]:e[35]=d.i64.cast([0,1]),e[29]=e[35])})},function(f){return d.i64.eq(e[29],d.i64.cast([0,1]))&&e[31]==="1SHADOWTESTINGRECOVERYCODE00000000000000"?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Used."),e[36]="Invalid Recovery Code Used.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[36]].join("")),e[35]=d.createArray(),void 0!==void 0?e[37]=(e[35].push(void 0),e[35]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[36],e[35],d.i64.cast([0,3]))):d.sequence([function(a){return e[35]=d.createArray(),d.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,e[36]=a[0],a})},function(a){return d.nativeOperation(b("LSParseRecoveryCode_v2.nop"),e[31],void 0==null?d.i64.to_string(e[36]):void 0,e[35]).then(function(a){return a=a,e[37]=a[0],e[38]=a[1],a})},function(f){return d.blobs.neq(e[38],void 0)?d.blobs.neq(e[37],void 0)?d.sequence([function(a){return d.storedProcedure(b("LSGetOpenEpochKeys"),!1).then(function(a){return a=a,e[39]=a[0],a})},function(f){return e[39]!==void 0?d.sequence([function(a){return e[106]=c("justknobx")._("1310"),void 0!==void 0?e[106]?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,2866]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!0:e[117]=!1,e[117]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[119]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[119],e[118],d.i64.cast([0,3]))):d.resolve()}]):d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,2867]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!0:e[117]=!1,e[117]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[119]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[119],e[118],d.i64.cast([0,3]))):d.resolve()}]):d.resolve()},function(a){return e[106]?d.resolve():d.sequence([function(a){return d.count(d.db.table(169).fetch()).then(function(a){return e[116]=a})},function(a){return d.i64.gt(e[116],d.i64.cast([0,1]))?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Multiple rows in $epoch_tables."),e[118]="Multiple rows in $epoch_tables.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[118]].join("")),e[117]=d.createArray(),void 0!==void 0?e[119]=(e[117].push(void 0),e[117]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[118],e[117],d.i64.cast([0,3]))):d.resolve()}])},function(a){return d.nativeOperation(b("LSCreateSignatureKeyPair.nop")).then(function(a){return a=a,e[40]=a[0],e[41]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateEncryptionKeyPair.nop")).then(function(a){return a=a,e[42]=a[0],e[43]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[40],d.blob("MA=="),e[43]).then(function(a){return a=a,e[44]=a[0],a})},function(a){return e[107]=d.blob(""),e[108]=d.blob(""),e[109]=d.blob(""),d.db.table(168).fetch([[[e[1]]]]).next().then(function(c,f){var a=c.done;c=c.value;return a?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Row with backupid not found in client state table"),e[117]="Row with backupid not found in client state table",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))},function(a){return a=[e[107],e[108],void 0,e[109]],e[45]=a[0],e[46]=a[1],e[47]=a[2],e[48]=a[3],a}]):(f=c.item,a=[f.obliviousValidationTokenBlob,f.mailboxRootKeyBlob,f.deviceId,f.ocmfClientStateBlob],e[45]=a[0],e[46]=a[1],e[47]=a[2],e[48]=a[3],a)})},function(a){return d.blobs.eq(e[45],e[107])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] oblivious_token is empty!"),e[117]="oblivious_token is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.blobs.eq(e[46],e[108])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] mailbox_root_key is empty!"),e[117]="mailbox_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.blobs.eq(e[48],e[109])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ocmf_client_state is empty!"),e[117]="ocmf_client_state is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[50]=e[39].get("epoch_anon_id"),e[51]=e[39].get("epoch_root_key"),e[52]=d.createArray(),e[116]=(e[52].push(d.i64.cast([0,32])),e[52]),d.nativeOperation(b("LSBase64Encode.nop"),e[50]).then(function(a){return a=a,e[53]=a[0],a})},function(a){return e[53]!==void 0?d.sequence([function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blobs.of_string(["epoch_devices","_",e[53]].join("")),void 0,e[51],e[52]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!1:e[117]=!0,e[117]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),e[120]="THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[120]].join("")),e[119]=d.createArray(),void 0!==void 0?e[122]=(e[119].push(void 0),e[119]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[120],e[119],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[121]=a[0],a})},function(a){return e[118]=e[121]}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[116],d.i64.cast([0,0])).then(function(a){return a=a,e[119]=a[0],e[120]=a[1],a})},function(a){return e[118]=e[119]}])},function(a){return e[54]=e[118]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),e[117]="THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[119]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[117],e[116],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[118]=a[0],a})},function(a){return e[54]=e[118]}])},function(a){return d.nativeOperation(b("LSHmac_v2.nop"),e[54],e[41]).then(function(a){return a=a,e[55]=a[0],a})},function(a){return d.blobs.neq(e[55],void 0)?d.resolve(e[56]=e[55]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] device_epoch_hmac is null!"),e[117]="device_epoch_hmac is null!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[119]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[118]=a[0],a})},function(a){return e[56]=e[118]}])},function(a){return e[57]=e[39].get("epoch_root_key"),d.blobs.neq(e[57],void 0)?d.sequence([function(a){return e[116]=d.createArray(),e[122]=(e[116].push(d.i64.cast([0,18])),e[116]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,e[57],e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return e[117]!==void 0?d.sequence([function(a){return e[122]=d.i64.of_int32(e[117].length),d.i64.ge(e[122],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[117],d.i64.cast([0,0])).then(function(a){return a=a,e[124]=a[0],e[125]=a[1],a})},function(a){return e[123]=e[124]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[125]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[125]].join("")),e[124]=d.createArray(),void 0!==void 0?e[126]=(e[124].push(void 0),e[124]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[125],e[124],d.i64.cast([0,3]))},function(a){return e[123]=void 0}])},function(a){return e[118]=e[123]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[123]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[123]].join("")),e[122]=d.createArray(),void 0!==void 0?e[124]=(e[122].push(void 0),e[122]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[123],e[122],d.i64.cast([0,3]))},function(a){return e[118]=void 0}])},function(a){return d.blobs.neq(e[118],void 0)?e[119]=!0:e[119]=!1,e[119]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d.nativeOperation(b("LSBase64Encode.nop"),e[118]).then(function(a){return a=a,e[120]=a[0],a})},function(a){return e[120]!==void 0?e[121]=e[120]:e[121]="encodingfailed",e[58]=e[121]}]):d.resolve(e[58]="null")},function(a){return d.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),e[48]).then(function(a){return a=a,e[59]=a[0],e[60]=a[1],a})},function(a){return d.blobs.neq(void 0,void 0)?d.sequence([function(a){return d.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),void 0).then(function(a){return a=a,e[116]=a[0],e[117]=a[1],a})},function(a){return a=[e[59],e[60],e[116],e[117]],e[61]=a[0],e[62]=a[1],e[63]=a[2],e[64]=a[3],a}]):d.resolve((a=[e[59],e[60],void 0,void 0],e[61]=a[0],e[62]=a[1],e[63]=a[2],e[64]=a[3],a))},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[40]).then(function(a){return a=a,e[65]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6dmlydHVhbF9kZXZpY2VfcHJpdmF0ZV9rZXk="),e[65]==null?"":e[65]).then(function(a){return a=a,e[66]=a[0],a})},function(a){return e[66]!==void 0?e[67]=e[66]:e[67]="",e[67]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_device_private_key is empty!"),e[117]="encrypted_device_private_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[42]).then(function(a){return a=a,e[68]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfc3RvcmFnZV9wcml2YXRlX2tleQ=="),e[68]==null?"":e[68]).then(function(a){return a=a,e[69]=a[0],a})},function(a){return e[69]!==void 0?e[70]=e[69]:e[70]="",e[70]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_storage_private_key is empty!"),e[117]="encrypted_epoch_storage_private_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[61]).then(function(a){return a=a,e[71]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6b2NtZl9jbGllbnRfc3RhdGU="),e[71]==null?"":e[71]).then(function(a){return a=a,e[72]=a[0],a})},function(a){return e[72]!==void 0?e[73]=e[72]:e[73]="",e[73]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_orf_client_state_v1_shape is empty!"),e[117]="encrypted_orf_client_state_v1_shape is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[45]).then(function(a){return a=a,e[74]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6b2JsaXZpb3VzX3ZhbGlkYXRpb25fdG9rZW4="),e[74]==null?"":e[74]).then(function(a){return a=a,e[75]=a[0],a})},function(a){return e[75]!==void 0?e[76]=e[75]:e[76]="",e[76]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_oblivious_validation_token is empty!"),e[117]="encrypted_oblivious_validation_token is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[46]).then(function(a){return a=a,e[77]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6bWFpbGJveF9yb290X2tleQ=="),e[77]==null?"":e[77]).then(function(a){return a=a,e[78]=a[0],a})},function(a){return e[78]!==void 0?e[79]=e[78]:e[79]="",e[79]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_mailbox_root_key is empty!"),e[117]="encrypted_mailbox_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[80]=e[39].get("epoch_anon_id"),d.nativeOperation(b("LSBase64Encode.nop"),e[80]).then(function(a){return a=a,e[81]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfYW5vbl9pZA=="),e[81]==null?"":e[81]).then(function(a){return a=a,e[82]=a[0],a})},function(a){return e[82]!==void 0?e[83]=e[82]:e[83]="",e[83]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_anon_id is empty!"),e[117]="encrypted_epoch_anon_id is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[84]=e[39].get("epoch_root_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[85]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfcm9vdF9rZXk="),e[85]==null?"":e[85]).then(function(a){return a=a,e[86]=a[0],a})},function(a){return e[86]!==void 0?e[87]=e[86]:e[87]="",e[87]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_root_key is empty!"),e[117]="encrypted_epoch_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[88]=new d.Map(),e[88].set("encrypted_device_private_key",e[67]),e[88].set("encrypted_epoch_storage_private_key",e[70]),e[88].set("encrypted_ocmf_client_state",e[73]),e[88].set("encrypted_orf_client_state_v2",void 0),e[88].set("encrypted_oblivious_validation_token_blob",e[76]),e[88].set("encrypted_mailbox_root_key_blob",e[79]),e[88].set("encrypted_epoch_anon_id",e[83]),e[88].set("encrypted_epoch_root_key",e[87]),d.nativeOperation(b("LSBase64Encode.nop"),e[37]).then(function(a){return a=a,e[89]=a[0],a})},function(a){return e[110]=e[89]==null?"":e[89],d.nativeOperation(b("LSBase64Encode.nop"),e[41]).then(function(a){return a=a,e[90]=a[0],a})},function(a){return e[111]=e[90]==null?"":e[90],d.nativeOperation(b("LSBase64Encode.nop"),e[43]).then(function(a){return a=a,e[91]=a[0],a})},function(a){return e[112]=e[91]==null?"":e[91],d.nativeOperation(b("LSBase64Encode.nop"),e[44]==null?d.blob("bnVsbA=="):e[44]).then(function(a){return a=a,e[92]=a[0],a})},function(a){return e[113]=e[92]==null?"":e[92],d.nativeOperation(b("LSBase64Encode.nop"),e[56]).then(function(a){return a=a,e[93]=a[0],a})},function(a){return e[114]=e[93]==null?"":e[93],d.nativeOperation(b("LSBase64Encode.nop"),e[62]).then(function(a){return a=a,e[94]=a[0],a})},function(a){return e[115]=e[94]==null?"":e[94],d.nativeOperation(b("LSGetBlobFromString.nop"),e[31]).then(function(a){return a=a,e[95]=a[0],a})},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"private_key",e[40],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[96]=e[118]}]):d.resolve(e[96]=void 0)},function(a){return d.blobs.neq(e[96],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[96]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[97]=e[116]}]):d.resolve(e[97]=void 0)},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"ocmf_client_state",e[61],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[98]=e[118]}]):d.resolve(e[98]=void 0)},function(a){return d.blobs.neq(e[98],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[98]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[99]=e[116]}]):d.resolve(e[99]=void 0)},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"epoch_storage_private_key",e[42],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[100]=e[118]}]):d.resolve(e[100]=void 0)},function(a){return d.blobs.neq(e[100],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[100]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[101]=e[116]}]):d.resolve(e[101]=void 0)},function(a){return d.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,e[102]=a[0],a})},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),d.i64.to_string(e[102])).then(function(a){return a=a,e[103]=a[0],a})},function(a){return d.blobs.neq(e[103],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[103],"recovery_code",e[95],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[104]=e[118]}]):d.resolve(e[104]=void 0)},function(a){return d.blobs.neq(e[104],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[104]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[105]=e[116]}]):d.resolve(e[105]=void 0)},function(c){return d.i64.neq(e[47],void 0)?d.sequence([function(a){return e[116]=e[39].get("epoch_id"),d.db.table(168).fetch().next().then(function(b,c){var a=b.done;b=b.value;return a?e[117]=d.i64.cast([0,1]):(c=b.item,e[122]=c.backupTenancy,d.i64.neq(e[122],void 0)?e[121]=e[122]:e[121]=d.i64.cast([0,1]),e[117]=e[121])})},function(a){return d.i64.eq(e[117],d.i64.cast([0,2]))?d.resolve(e[119]=void 0):d.sequence([function(a){return d.nativeOperation(b("LSGetArmadilloPublicKey.nop")).then(function(a){return a=a,e[121]=a[0],a})},function(a){return e[119]=e[121]}])},function(a){return d.blobs.neq(e[119],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSCreateSignatureWithArmadilloKey.nop"),e[41]).then(function(a){return a=a,e[121]=a[0],a})},function(a){return d.blobs.neq(e[121],void 0)?d.resolve(e[122]=e[121]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoKeySigningUtils] Failed to create labyrinth signature"),e[127]="Failed to create labyrinth signature",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoKeySigningUtils] ","",e[127]].join("")),e[126]=d.createArray(),void 0!==void 0?e[128]=(e[126].push(void 0),e[126]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoKeySigningUtils",e[127],e[126],d.i64.cast([0,3]))},function(a){return e[122]=void 0}])},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[40],d.blob("Mw=="),e[119]).then(function(a){return a=a,e[123]=a[0],a})},function(a){return d.blobs.neq(e[123],void 0)?d.resolve(e[124]=e[123]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoKeySigningUtils] Failed to create armadillo signature"),e[127]="Failed to create armadillo signature",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoKeySigningUtils] ","",e[127]].join("")),e[126]=d.createArray(),void 0!==void 0?e[128]=(e[126].push(void 0),e[126]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoKeySigningUtils",e[127],e[126],d.i64.cast([0,3]))},function(a){return e[124]=void 0}])},function(a){return d.blobs.neq(e[124],void 0)?(d.blobs.neq(e[122],void 0)?(e[127]=new d.Map(),e[127].set("armadillo_public_key",e[119]),e[127].set("armadillo_key_signature",e[124]),e[127].set("labyrinth_key_signature",e[122]),e[126]=e[127]):e[126]=void 0,e[125]=e[126]):e[125]=void 0,e[120]=e[125]}]):d.resolve(e[120]=void 0)},function(c){return e[120]!==void 0?d.sequence([function(a){return e[121]=e[120].get("armadillo_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[121]).then(function(a){return a=a,e[122]=a[0],a})},function(a){return e[123]=e[120].get("armadillo_key_signature"),d.nativeOperation(b("LSBase64Encode.nop"),e[123]).then(function(a){return a=a,e[124]=a[0],a})},function(a){return e[125]=e[120].get("labyrinth_key_signature"),d.nativeOperation(b("LSBase64Encode.nop"),e[125]).then(function(a){return a=a,e[126]=a[0],a})},function(c){return e[127]=new d.Map(),e[127].set("backup_id",e[1]),e[127].set("request_device_id",e[47]),e[127].set("virtual_device_id",e[110]),e[127].set("encrypted_secret_values",e[88]),e[127].set("public_key",e[111]),e[127].set("epoch_storage_pubkey",e[112]),e[127].set("epoch_storage_pubkey_sig",e[113]),e[127].set("device_epoch_hmac",e[114]),e[127].set("epoch_root_key_fingerprint",e[58]),e[127].set("ocmf_rotation_token",e[115]),e[127].set("is_init",!1),e[127].set("epoch_id",e[116]),e[127].set("virtual_device_type",e[32]),e[127].set("action_type",a[0]),e[127].set("private_key_debug_token",e[97]),e[127].set("ocmf_client_state_debug_token",e[99]),e[127].set("epoch_storage_pvtkey_debug_token",e[101]),e[127].set("recovery_code_debug_token",e[105]),e[127].set("trace_id",void 0),e[127].set("cloud_service_account",e[33]),e[127].set("hsm_pin_normalization_status",e[34]),e[127].set("security_question_type",void 0),e[127].set("trusted_contact_id",void 0),e[127].set("armadillo_public_key",e[122]==null?"":e[122]),e[127].set("armadillo_key_signature",e[124]==null?"":e[124]),e[127].set("labyrinth_key_signature",e[126]==null?"":e[126]),e[128]=d.toJSON(e[127]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50004]),e[128],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[129]=a[0],a})}]):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] failed to get armadillo key and device signatures"),e[121]=new d.Map(),e[121].set("backup_id",e[1]),e[121].set("request_device_id",e[47]),e[121].set("virtual_device_id",e[110]),e[121].set("encrypted_secret_values",e[88]),e[121].set("public_key",e[111]),e[121].set("epoch_storage_pubkey",e[112]),e[121].set("epoch_storage_pubkey_sig",e[113]),e[121].set("device_epoch_hmac",e[114]),e[121].set("epoch_root_key_fingerprint",e[58]),e[121].set("ocmf_rotation_token",e[115]),e[121].set("is_init",!1),e[121].set("epoch_id",e[116]),e[121].set("virtual_device_type",e[32]),e[121].set("action_type",a[0]),e[121].set("private_key_debug_token",e[97]),e[121].set("ocmf_client_state_debug_token",e[99]),e[121].set("epoch_storage_pvtkey_debug_token",e[101]),e[121].set("recovery_code_debug_token",e[105]),e[121].set("trace_id",void 0),e[121].set("cloud_service_account",e[33]),e[121].set("hsm_pin_normalization_status",e[34]),e[121].set("security_question_type",void 0),e[121].set("trusted_contact_id",void 0),e[122]=d.toJSON(e[121]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50004]),e[122],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[123]=a[0],a}))}]):d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Epoch keys are unavailable."),e[41]="Epoch keys are unavailable.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[41]].join("")),e[40]=d.createArray(),void 0!==void 0?e[42]=(e[40].push(void 0),e[40]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[41],e[40],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}])}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Provided"),e[40]="Invalid Recovery Code Provided",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[40]].join("")),e[39]=d.createArray(),void 0!==void 0?e[41]=(e[39].push(void 0),e[39]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[40],e[39],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Provided"),e[40]="Invalid Recovery Code Provided",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[40]].join("")),e[39]=d.createArray(),void 0!==void 0?e[41]=(e[39].push(void 0),e[39]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[40],e[39],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}])}])},function(a){return e[27]=d.i64.cast([0,0])}]))})},function(a){return e[20]=e[27]}]):d.sequence([function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,3])})},function(a){return e[27]="Backup is not initalized",e[27]!==void 0?(function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ","",e[27]].join("")),e[28]=d.createArray(),void 0!==void 0?e[29]=(e[28].push(void 0),e[28]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",e[27],e[28],d.i64.cast([0,3]))):d.resolve()},function(a){return d.forEach(d.db.table(174).fetch(),function(a){return a["delete"]()})},function(a){return e[20]=d.i64.cast([0,1])}])},function(a){return e[21]=d.i64.of_float(Date.now()),e[22]=d.i64.random(),e[24]="Finishing execution. Execution time: ",e[25]=d.i64.to_string(d.i64.sub(e[21],e[0])),e[26]=" ms",e[23]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ",e[23],e[24],e[23],e[25],e[23],e[26]].join("")),d.i64.eq(d.i64.mod_(e[22],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[27]=",",e[28]=d.createArray(),void 0!==void 0?e[29]=(e[28].push(void 0),e[28]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",[e[24],e[27],e[25],e[27],e[26]].join(""),e[28],d.i64.cast([0,4]))):d.resolve()},function(a){return f[0]=e[20]}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_generated_recovery_code","secure_encrypted_backups_recovery_code_status","secure_encrypted_backups_epochs"];d=a;g["default"]=d}),98);
__d("LSCreateExtraVirtualDeviceStoredProcedure",["LSCreateExtraVirtualDevice","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateExtraVirtualDevice"),e.actionType,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEncryptedBackupsCreateExtraVirtualDevice",["LSCreateExtraVirtualDeviceStoredProcedure","LSFactory"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.runInTransaction(function(a){return c("LSCreateExtraVirtualDeviceStoredProcedure")(c("LSFactory")(a),{actionType:b})},"readwrite",void 0,void 0,f.id+":24")}g.initializeCreateExtraVirtualDeviceStoredProcedure=a}),98);
__d("VestaDeleteAccountMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23902987852620802"}),null);
__d("VestaDeleteAccountMutation.graphql",["VestaDeleteAccountMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"delete_account_request",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaDeleteAccountMutation",selections:[{alias:null,args:c,concreteType:"VestaDeleteAccountResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_delete_account",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[d],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaDeleteAccountMutation",selections:[{alias:null,args:c,concreteType:"VestaDeleteAccountResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_delete_account",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("VestaDeleteAccountMutation_facebookRelayOperation"),metadata:{},name:"VestaDeleteAccountMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaDeleteAccount",["CometRelay","VestaDeleteAccountMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.clientId,e=a.environment,f=a.optimisticUpdater,g=a.productUseCase;a=a.updater;var i=h!==void 0?h:h=b("VestaDeleteAccountMutation.graphql");return d("CometRelay").commitMutation(e,{mutation:i,optimisticUpdater:f,updater:a,variables:{input:{fbid:c,product_use_case:g,vesta_client_api_version:6}}})}g.vestaDeleteAccount=a}),98);
__d("VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9596958053703216"}),null);
__d("VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql",["VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"begin_register_request",variableName:"input"}],concreteType:"VestaBeginRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_begin_register",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_r2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_challenge",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_r2_sig",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",selections:c},params:{id:b("VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9551173398333326"}),null);
__d("VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql",["VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"finish_register_request",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"register_success",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",selections:[{alias:null,args:c,concreteType:"VestaFinishRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_register",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[e],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",selections:[{alias:null,args:c,concreteType:"VestaFinishRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_register",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10088892487810238"}),null);
__d("VestaServerGraphQLRegisterProviderInitQuery.graphql",["VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:[{kind:"Variable",name:"vesta_init_request",variableName:"request"}],concreteType:"VestaInitIqResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_register_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderInitQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderInitQuery",selections:c},params:{id:b("VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderInitQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProvider",["E2EEBackupUtil","RelayHooks","RelayModern","VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql","VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql","VestaServerGraphQLRegisterProviderInitQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,c){c=c.environment;c=await d("RelayHooks").fetchQuery(c,h!==void 0?h:h=b("VestaServerGraphQLRegisterProviderInitQuery.graphql"),{request:{fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}}).toPromise();a=c==null?void 0:c.fbid_based_auth_layer_vesta_register_init;c=a==null?void 0:a.base64url_encoded_island_rsa_pub;var e=a==null?void 0:a.base64url_encoded_island_rsa_pub_signature,f=a==null?void 0:a.base64url_encoded_opaque_pub,g=a==null?void 0:a.base64url_encoded_opaque_pub_signature,i=a==null?void 0:a.base64url_encoded_island_ed25519_pub,j=a==null?void 0:a.base64url_encoded_island_ed25519_pub_signature,k=a==null?void 0:a.is_registered;a=a==null?void 0:a.attempts_remaining;if(c!=null&&e!=null&&f!=null&&g!=null&&i!=null&&j!=null&&k!=null){var l;return{islandRsaPub:(l=d("E2EEBackupUtil")).decodeBase64Url(c),islandRsaPubSig:l.decodeBase64Url(e),opaquePub:l.decodeBase64Url(f),opaquePubSig:l.decodeBase64Url(g),islandEd25519Pub:l.decodeBase64Url(i),islandEd25519PubSig:l.decodeBase64Url(j),isRegistered:k,loginAttemptsRemaining:a}}throw new Error("GraphQL Response is Null")}function c(a,c){var e=c.environment,f=i!==void 0?i:i=b("VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql"),g={input:{base64url_encoded_opaque_r1:d("E2EEBackupUtil").encodeBase64Url(a.opaqueR1),fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}};return new Promise(function(a,b){d("RelayModern").commitMutation(e,{mutation:f,variables:g,onCompleted:function(c){c=c.fbid_based_auth_layer_vesta_begin_register;var e=c==null?void 0:c.base64url_encoded_opaque_r2,f=c==null?void 0:c.base64url_encoded_opaque_challenge;c=c==null?void 0:c.base64url_encoded_opaque_r2_sig;if(e!=null&&f!=null&&c!=null){a({opaqueR2:d("E2EEBackupUtil").decodeBase64Url(e),opaqueChallenge:d("E2EEBackupUtil").decodeBase64Url(f),opaqueR2Sig:d("E2EEBackupUtil").decodeBase64Url(c)});return}b(new Error("GraphQL Response is Null"))},onError:function(a){b(a)}})})}function e(a,c){var e=c.environment,f=c.updater;return new Promise(function(c,g){d("RelayModern").commitMutation(e,{mutation:j!==void 0?j:j=b("VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql"),variables:{input:{base64url_encoded_enc_reg_payload:d("E2EEBackupUtil").encodeBase64Url(a.encRegPayload),fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}},onCompleted:function(a){a=(a=a.fbid_based_auth_layer_vesta_finish_register)==null?void 0:a.register_success;if(a!=null){c({registerSuccess:a});return}g(new Error("GraphQL Response is Null"))},onError:function(a){g(a)},updater:f})})}g.initRegister=a;g.beginRegister=c;g.finishRegister=e}),98);/*FB_PKG_DELIM*/
__d("MWInboxTrayContactPOG_rankedContact.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider"}],kind:"Fragment",metadata:null,name:"MWInboxTrayContactPOG_rankedContact",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contact",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"contact.id"},{args:null,kind:"FragmentSpread",name:"MWInboxTrayPOG_actor"}],storageKey:null},action:"THROW",path:"contact"},{condition:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"MsgrUserRichStatus",kind:"LinkedField",name:"last_note",plural:!1,selections:[a],storageKey:null}]}],type:"XFBInboxTrayRankedContact",abstractKey:null}}();e.exports=a}),null);
__d("MWInboxTrayNotePopoverQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9933637570031276"}),null);
__d("MWInboxTrayNotePopoverQuery$Parameters",["MWInboxTrayNotePopoverQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWInboxTrayNotePopoverQuery_facebookRelayOperation"),metadata:{},name:"MWInboxTrayNotePopoverQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWInboxTrayNotePopover.entrypoint",["JSResourceForInteraction","MWInboxTrayNotePopoverQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.noteParams;a=a.userID;return b==null?{}:{queries:{MWInboxTrayNotePopoverQueryRef:{parameters:c("MWInboxTrayNotePopoverQuery$Parameters"),variables:{noteParams:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWInboxTrayNotePopover.react").__setRef("MWInboxTrayNotePopover.entrypoint")};g["default"]=a}),98);
__d("MWInboxTrayPOG_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider"},{kind:"RootArgument",name:"contactsProfilePictureDimensionPx"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWInboxTrayPOG_actor",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW",path:"name"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MsgrUserRichStatus",kind:"LinkedField",name:"msgr_user_rich_status",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{condition:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"profile_picture_large",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:"profile_picture(height:100,width:100)"}]},{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:null,args:[{kind:"Variable",name:"height",variableName:"contactsProfilePictureDimensionPx"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"contactsProfilePictureDimensionPx"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:null}],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}}();e.exports=a}),null);
__d("MWNoteBubbleWrapper.react",["MWXPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(7),e=a["aria-label"],f=a.children,g=a.onHoverIn,h=a.onHoverOut,j=a.onPress;a=a.onPressIn;var k;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==a?(k=j!=null?i.jsx(c("MWXPressable.react"),{"aria-label":e,onHoverIn:g,onHoverOut:h,onPress:j,onPressIn:a,overlayDisabled:!0,children:f}):f,b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=a,b[6]=k):k=b[6];return k}function a(a){var b=d("react-compiler-runtime").c(41),c=a["aria-label"],e=a.bubbleContent,f=a.children,g=a.onHoverIn,h=a.onHoverOut,k=a.onPress,l=a.onPressIn;a=a.renderSmall;a=a===void 0?!1:a;if(e==null)return f;var m;b[0]!==a?(m={0:{className:"x6s0dn4 x78zum5 xdt5ytf xqui205 x1n2onr6"},1:{className:"x6s0dn4 x78zum5 xdt5ytf xjv05ge x1n2onr6 x1dmp6jm"}}[!!a<<0],b[0]=a,b[1]=m):m=b[1];var n;b[2]!==a?(n={0:{className:"x10w3d4m x78zum5 xktpd3l x10l6tqk x2ngsik x1vjfegm"},1:{className:"x10w3d4m xfvyar9 x10l6tqk xs7ilyr x1vjfegm"}}[!!a<<0],b[2]=a,b[3]=n):n=b[3];var o;b[4]!==a?(o={0:{className:"x6s0dn4 xcrg951 x4f5ut0 x78zum5 xl56j7k xisnujt xt4ypqs x1n2onr6 x2b8uid x1vjfegm x1z11no5 xjy5m1g x1mnwbp6 x4pb5v6 xqy66fx xr1496l xbbxn1n xxbr6pl"},1:{className:"x6s0dn4 xcrg951 x4f5ut0 x78zum5 xl56j7k xisnujt xt4ypqs x1n2onr6 x2b8uid x1vjfegm x5scsmk x1quw8hh xmzszn6 x14jlz6l x1yrsyyn x10b6aqq xurb0ha x1sxyh0"}}[!!a<<0],b[4]=a,b[5]=o):o=b[5];var p;b[6]!==a?(p={0:{},1:{className:"xxy8q6d"}}[!!!a<<0],b[6]=a,b[7]=p):p=b[7];var q;b[8]!==e||b[9]!==p?(q=i.jsx("div",babelHelpers["extends"]({},p,{children:e})),b[8]=e,b[9]=p,b[10]=q):q=b[10];b[11]!==o||b[12]!==q?(e=i.jsx("div",babelHelpers["extends"]({},o,{children:q})),b[11]=o,b[12]=q,b[13]=e):e=b[13];b[14]!==c||b[15]!==g||b[16]!==h||b[17]!==k||b[18]!==l||b[19]!==e?(p=i.jsx(j,{"aria-label":c,onHoverIn:g,onHoverOut:h,onPress:k,onPressIn:l,children:e}),b[14]=c,b[15]=g,b[16]=h,b[17]=k,b[18]=l,b[19]=e,b[20]=p):p=b[20];b[21]!==a?(o={0:{className:"xcrg951 x14yjl9h xudhj91 x18nykt9 xww2gxu x10l6tqk x1vjfegm xq6397w x4f5ut0 xlqrtso x10w6t97 x1bwjkdj x1td3qas"},1:{className:"xcrg951 x14yjl9h xudhj91 x18nykt9 xww2gxu x10l6tqk x1vjfegm x1o583il x170jfvy xoyjkpr x1fsd2vl"}}[!!a<<0],b[21]=a,b[22]=o):o=b[22];b[23]!==o?(q=i.jsx("div",babelHelpers["extends"]({},o)),b[23]=o,b[24]=q):q=b[24];b[25]!==a?(c={0:{className:"xcrg951 x14yjl9h xudhj91 x18nykt9 xww2gxu x10l6tqk x1vjfegm x1hsxtra x4f5ut0 x18gnavp xopj1m0 x1fxhmyf"},1:{className:"xcrg951 x14yjl9h xudhj91 x18nykt9 xww2gxu x10l6tqk x1vjfegm xqd3l62 x1ycjhwn x11f4b5y x1ftt334"}}[!!a<<0],b[25]=a,b[26]=c):c=b[26];b[27]!==c?(g=i.jsx("div",babelHelpers["extends"]({},c)),b[27]=c,b[28]=g):g=b[28];b[29]!==q||b[30]!==g||b[31]!==n||b[32]!==p?(h=i.jsxs("div",babelHelpers["extends"]({},n,{children:[p,q,g]})),b[29]=q,b[30]=g,b[31]=n,b[32]=p,b[33]=h):h=b[33];b[34]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x13vifvy x1ja2u2z"},b[34]=k):k=b[34];b[35]!==f?(l=i.jsx("div",babelHelpers["extends"]({},k,{children:f})),b[35]=f,b[36]=l):l=b[36];b[37]!==h||b[38]!==l||b[39]!==m?(e=i.jsxs("div",babelHelpers["extends"]({},m,{children:[h,l]})),b[37]=h,b[38]=l,b[39]=m,b[40]=e):e=b[40];return e}g["default"]=a}),98);
__d("MWNoteContentBubbleWrapper.react",["MWNoteBubbleWrapper.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e,f,g,h;b[0]!==a?(e=a.noteContent,f=a.placeholder,h=a.renderSmall,g=babelHelpers.objectWithoutPropertiesLoose(a,["noteContent","placeholder","renderSmall"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);a=h===void 0?!1:h;if(e==null&&f==null)return g.children;b[5]!==e||b[6]!==f||b[7]!==a?(h=e!=null?i.jsx(c("MWXText.react"),{numberOfLines:a?3:void 0,type:a?"body4":"body3",children:e}):f!=null&&i.jsx(c("MWXText.react"),{numberOfLines:a?3:void 0,type:"meta3",children:f}),b[5]=e,b[6]=f,b[7]=a,b[8]=h):h=b[8];b[9]!==a||b[10]!==g||b[11]!==h?(e=i.jsx(c("MWNoteBubbleWrapper.react"),babelHelpers["extends"]({},g,{bubbleContent:h,renderSmall:a})),b[9]=a,b[10]=g,b[11]=h,b[12]=e):e=b[12];return e}g["default"]=a}),98);
__d("MWInboxTrayPOG.react",["CometRelay","MWInboxTrayCardLayout.react","MWInboxTrayGating","MWInboxTrayPOG_actor.graphql","MWNoteContentBubbleWrapper.react","MWXPressable.react","MWXProfilePhoto.react","MWXText.react","react","react-compiler-runtime","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useId,l=1e3*60*60;function a(a){var e=d("react-compiler-runtime").c(34),f=a.actor,g=a.isOnline,i=a.lastActiveTime,m=a.notesProps,n=a.onHoverIn,o=a.onHoverOut,p=a.onPress,q=a.onPressIn;a=a.ref;f=d("CometRelay").useFragment(h!==void 0?h:h=b("MWInboxTrayPOG_actor.graphql"),f);var r=f.name,s=f.profile_picture,t=f.profile_picture_large,u=f.short_name,v=c("useServerTime")(),w;e[0]!==g||e[1]!==i||e[2]!==v?(w=g===!0?{type:"availabilityBadge"}:i!=null&&Math.floor((v.valueOf()-new Date(i*1e3).getTime())/l)<=1?{border:"web-wash",time:i,type:"lastActiveTimeBadge"}:void 0,e[0]=g,e[1]=i,e[2]=v,e[3]=w):w=e[3];g=w;v=(i=f.msgr_user_rich_status)==null?void 0:i.id;w=v!=null;v=(i=f.msgr_user_rich_status)==null?void 0:i.description;f=m==null?void 0:m.notePlaceholder;i=k();s=(t=(t=t==null?void 0:t.uri)!=null?t:s==null?void 0:s.uri)!=null?t:"";e[4]!==s?(t={uri:s},e[4]=s,e[5]=t):t=e[5];e[6]!==i||e[7]!==g||e[8]!==n||e[9]!==o||e[10]!==p||e[11]!==q||e[12]!==t?(s={addOn:g,"aria-labelledby":i,onHoverIn:n,onHoverOut:o,onPress:p,onPressIn:q,size:60,source:t},e[6]=i,e[7]=g,e[8]=n,e[9]=o,e[10]=p,e[11]=q,e[12]=t,e[13]=s):s=e[13];g=s;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"xpqajaz x78zum5 x5yr21d xl56j7k xh8yej3"},e[14]=t):t=e[14];s=(s=u)!=null?s:r;u=(u=u)!=null?u:r;e[15]!==i||e[16]!==s||e[17]!==u?(r=j.jsx(c("MWXText.react"),{align:"center",color:"primary",id:i,numberOfLines:1,showTruncationTooltip:!0,truncationTooltip:s,type:"meta4",children:u}),e[15]=i,e[16]=s,e[17]=u,e[18]=r):r=e[18];e[19]!==w||e[20]!==v||e[21]!==f||e[22]!==m||e[23]!==g?(i=(w&&v!=null||f!=null)&&d("MWInboxTrayGating").isInboxTrayNotesEnabled()?j.jsx("div",{ref:m==null?void 0:m.contextRef,children:j.jsx(c("MWNoteContentBubbleWrapper.react"),{"aria-label":m==null?void 0:m["aria-label"],noteContent:v,onHoverIn:m==null?void 0:m.onHoverIn,onHoverOut:m==null?void 0:m.onHoverOut,onPress:m==null?void 0:m.onPress,onPressIn:m==null?void 0:m.onPressIn,placeholder:m==null?void 0:m.notePlaceholder,renderSmall:!0,children:j.jsx(c("MWXProfilePhoto.react"),babelHelpers["extends"]({},g))})}):j.jsx(c("MWXProfilePhoto.react"),babelHelpers["extends"]({},g)),e[19]=w,e[20]=v,e[21]=f,e[22]=m,e[23]=g,e[24]=i):i=e[24];e[25]!==r||e[26]!==i?(s=j.jsx(c("MWInboxTrayCardLayout.react"),{nameText:r,profilePhoto:i}),e[25]=r,e[26]=i,e[27]=s):s=e[27];e[28]!==n||e[29]!==o||e[30]!==p||e[31]!==q||e[32]!==s?(u=j.jsx("div",babelHelpers["extends"]({ref:a},t,{children:j.jsx(c("MWXPressable.react"),{hideHoverOverlay:!0,onHoverIn:n,onHoverOut:o,onPress:p,onPressIn:q,overlayDisabled:!0,children:s})})),e[28]=n,e[29]=o,e[30]=p,e[31]=q,e[32]=s,e[33]=u):u=e[33];return u}g["default"]=a}),98);
__d("useMWInboxThreadOpenForUser",["I64","LSIntEnum","promiseDone","react","react-compiler-runtime","useMWGetThreadDataForContact","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(6),e=c("useMWNavigation")(),f=c("useMWGetThreadDataForContact")(),g;b[0]!==a||b[1]!==f||b[2]!==e?(g=function(b){c("promiseDone")(async function(){var c=await f(b);c={threadKey:(i||(i=d("I64"))).of_string(b.userId),threadType:c.threadStatus==="SECURE"||c.threadStatus==="CUTOVER"?(j||(j=d("LSIntEnum"))).ofNumber(15):(j||(j=d("LSIntEnum"))).ofNumber(1)};e.openInbox(c,a);return Promise.resolve()}())},b[0]=a,b[1]=f,b[2]=e,b[3]=g):g=b[3];g=g;g=g;var h;b[4]!==g?(h={openInboxThreadForUser:g},b[4]=g,b[5]=h):h=b[5];g=h;return g}g.default=a}),98);
__d("useMWTabOrInboxThreadOpenForUser",["react","react-compiler-runtime","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabForUser","useMWInboxThreadOpenForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(7),e=c("useMWChatOpenTabForUser")(a),f=e.openTabForUser;e=e.preloadThread;a=c("useMWInboxThreadOpenForUser")(a);var g=a.openInboxThreadForUser,h=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT");b[0]!==h||b[1]!==g||b[2]!==f?(a=function(a){if(h())return f(a);else return g(a)},b[0]=h,b[1]=g,b[2]=f,b[3]=a):a=b[3];a=a;a=a;var i;b[4]!==a||b[5]!==e?(i={openTabOrInboxThreadForUser:a,preloadThread:e},b[4]=a,b[5]=e,b[6]=i):i=b[6];return i}g["default"]=a}),98);
__d("MWInboxTrayContactPOG.react",["CometContactPresenceUtils","CometRelay","I64","LSContactListConversionAttributionStore","LSVerifyContactExistsWithID","MWInboxTrayContactPOG_rankedContact.graphql","MWInboxTrayNotePopover.entrypoint","MWInboxTrayPOG.react","MWXEntryPointPopoverTrigger.react","MessengerInboxTrayClickImpressionEventsLoggerImpl","emptyFunction","qex","react","react-compiler-runtime","useAsyncReStore","useCometPreloader","useMWGetFetchUserThreadNavigationData","useMWTabOrInboxThreadOpenForUser","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;e.useCallback;e.useMemo;var l=e.useRef,m=h!==void 0?h:h=b("MWInboxTrayContactPOG_rankedContact.graphql");function a(a){var b=d("react-compiler-runtime").c(43),e=a.activeStatusOn,g=a.initialAvailabilityStatus,h=a.initialLastActivetimestampSec,i=a.onClicked,n=a.position;a=a.rankedContact;var o=d("CometRelay").useFragment(m,a),p=o.contact.id;a=d("CometContactPresenceUtils").useGetPresenceIsOnlineForContact(p,g==="ACTIVE");var q=e&&a;g=d("CometContactPresenceUtils").useGetPresenceLastActiveTimeSecondsForContact(p,h);var r=e?g:null,s=l(),t=l(!1);a=c("useMWTabOrInboxThreadOpenForUser")("inboxTrayActiveNow");var u=a.openTabOrInboxThreadForUser,v=a.preloadThread,w=c("useMWGetFetchUserThreadNavigationData")();b[0]!==w||b[1]!==p||b[2]!==v?(h=async function(){if(t.current)return;t.current=!0;if(s.current==null){var a=await w(p);s.current=a}v({preloadedNavigationData:s.current,userId:p})},b[0]=w,b[1]=p,b[2]=v,b[3]=h):h=b[3];e=h;g=c("useCometPreloader")("button",e);var x=g.onHighIntentPreloader,y=g.onHoverInPreloader,z=g.onHoverOutPreloader,A=g.onPressInPreloader,B=c("useAsyncReStore")();b[4]!==p||b[5]!==x||b[6]!==y||b[7]!==B?(a=function(a){y(a),x(!0),c("qex")._("3542")&&B.then(function(a){return d("LSVerifyContactExistsWithID").runInTransaction(a,(j||(j=d("I64"))).of_string(p),!1,void 0,f.id+":134")})},b[4]=p,b[5]=x,b[6]=y,b[7]=B,b[8]=a):a=b[8];var C=a;b[9]===Symbol.for("react.memo_cache_sentinel")?(h={entry_point:"inbox_tray",major_surface:"inbox_tab",minor_surface:"inbox_tray"},b[9]=h):h=b[9];b[10]!==p||b[11]!==q||b[12]!==n?(e={id:p,isOnline:q,position:n,surface:h,targetType:"user"},b[10]=p,b[11]=q,b[12]=n,b[13]=e):e=b[13];g=e;var D=g;b[14]!==D?(a={onImpressionStart:function(){d("MessengerInboxTrayClickImpressionEventsLoggerImpl").logImpressionEvent(D)}},b[14]=D,b[15]=a):a=b[15];var E=c("useSinglePartialViewImpression")(a);b[16]!==p||b[17]!==D||b[18]!==i||b[19]!==u?(h=function(){d("MessengerInboxTrayClickImpressionEventsLoggerImpl").logClickEvent(D),d("LSContactListConversionAttributionStore").setAttribution(p,D),u({preloadedNavigationData:s.current,reason:"MWInboxTrayActiveNowContact",userId:p}),i==null?void 0:i()},b[16]=p,b[17]=D,b[18]=i,b[19]=u,b[20]=h):h=b[20];var F=h;b[21]!==F?(n=function(){F()},b[21]=F,b[22]=n):n=b[22];var G=n;g=(e=o.last_note)==null?void 0:e.id;b[23]!==g?(a=g!=null?{note_ids:[g]}:null,b[23]=g,b[24]=a):a=b[24];b[25]!==p||b[26]!==a?(h={noteParams:a,userID:p},b[25]=p,b[26]=a,b[27]=h):h=b[27];b[28]!==i?(n={closeJewel:i,onClose:c("emptyFunction")},b[28]=i,b[29]=n):n=b[29];b[30]!==o.contact||b[31]!==q||b[32]!==r||b[33]!==C||b[34]!==z||b[35]!==G||b[36]!==A||b[37]!==E?(e=function(a,b,d,e,f,g){return k.jsx(c("MWInboxTrayPOG.react"),{actor:o.contact,isOnline:q,lastActiveTime:r,notesProps:{contextRef:a,onHoverIn:e,onHoverOut:f,onPress:b,onPressIn:g},onHoverIn:C,onHoverOut:z,onPress:G,onPressIn:A,ref:E})},b[30]=o.contact,b[31]=q,b[32]=r,b[33]=C,b[34]=z,b[35]=G,b[36]=A,b[37]=E,b[38]=e):e=b[38];b[39]!==h||b[40]!==n||b[41]!==e?(g=k.jsx(c("MWXEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:h,otherProps:n,popoverEntryPoint:c("MWInboxTrayNotePopover.entrypoint"),preloadTrigger:"button",children:e}),b[39]=h,b[40]=n,b[41]=e,b[42]=g):g=b[42];return g}e=k.memo(a);g.default=e}),98);
__d("MWInboxTrayContainerQuery.graphql",["MWInboxTrayContainerQuery_facebookRelayOperation","MWInboxTrayCreationEnabled.relayprovider","MWInboxTrayNumberOfContactsToFetch.relayprovider","MWInboxTrayNotesEnabled.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"contactsProfilePictureDimensionPx"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[d,e],g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],j={condition:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"profile_picture_large",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:"profile_picture(height:100,width:100)"}]},k={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null};i={alias:null,args:[{kind:"Variable",name:"height",variableName:"contactsProfilePictureDimensionPx"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"contactsProfilePictureDimensionPx"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWInboxTrayContainerQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWInboxTrayInner_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWInboxTrayCreationEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWInboxTrayNumberOfContactsToFetchrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider"}],kind:"Operation",name:"MWInboxTrayContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MsgrUserRichStatus",kind:"LinkedField",name:"msgr_user_rich_status",plural:!1,selections:f,storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:[{kind:"Variable",name:"count",variableName:"__relay_internal__pv__MWInboxTrayNumberOfContactsToFetchrelayprovider"},{kind:"Variable",name:"include_notes",variableName:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider"}],concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBInboxTrayRankedContactRankingData",kind:"LinkedField",name:"ranking_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"availability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_timestamp_sec",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contact",plural:!1,selections:[e,{kind:"InlineFragment",selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MsgrUserRichStatus",kind:"LinkedField",name:"msgr_user_rich_status",plural:!1,selections:[e,h],storageKey:null},j,k,i],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],storageKey:null},{condition:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"MsgrUserRichStatus",kind:"LinkedField",name:"last_note",plural:!1,selections:f,storageKey:null}]}],storageKey:null},{condition:"__relay_internal__pv__MWInboxTrayCreationEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"TypeDiscriminator",abstractKey:"__isActor"},g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MsgrUserRichStatus",kind:"LinkedField",name:"msgr_user_rich_status",plural:!1,selections:[h],storageKey:null},k,i,j],type:"User",abstractKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:b("MWInboxTrayContainerQuery_facebookRelayOperation"),metadata:{},name:"MWInboxTrayContainerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWInboxTrayCreationEnabledrelayprovider:b("MWInboxTrayCreationEnabled.relayprovider"),__relay_internal__pv__MWInboxTrayNumberOfContactsToFetchrelayprovider:b("MWInboxTrayNumberOfContactsToFetch.relayprovider"),__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider:b("MWInboxTrayNotesEnabled.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWInboxTrayInner_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWInboxTrayCreationEnabledrelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__MWInboxTrayNumberOfContactsToFetchrelayprovider"}],kind:"Fragment",metadata:null,name:"MWInboxTrayInner_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MsgrUserRichStatus",kind:"LinkedField",name:"msgr_user_rich_status",plural:!1,selections:b,storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:[{kind:"Variable",name:"count",variableName:"__relay_internal__pv__MWInboxTrayNumberOfContactsToFetchrelayprovider"},{kind:"Variable",name:"include_notes",variableName:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider"}],concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBInboxTrayRankedContactRankingData",kind:"LinkedField",name:"ranking_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"availability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_timestamp_sec",storageKey:null}],storageKey:null},action:"THROW",path:"messenger_inbox_tray_contacts.ranking_data"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contact",plural:!1,selections:[a],storageKey:null},action:"THROW",path:"messenger_inbox_tray_contacts.contact"},{condition:"__relay_internal__pv__MWInboxTrayNotesEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"MsgrUserRichStatus",kind:"LinkedField",name:"last_note",plural:!1,selections:b,storageKey:null}]},{args:null,kind:"FragmentSpread",name:"MWInboxTrayContactPOG_rankedContact"}],storageKey:null},{condition:"__relay_internal__pv__MWInboxTrayCreationEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MWInboxTraySelfPOG_viewer"}],type:"Viewer",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"self_POG_viewer"}]}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("MWInboxTrayNoteCreationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9857158084337508"}),null);
__d("MWInboxTrayNoteCreationDialogQuery$Parameters",["MWInboxTrayNoteCreationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWInboxTrayNoteCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"MWInboxTrayNoteCreationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWInboxTrayNoteCreationDialog.entrypoint",["JSResourceForInteraction","MWInboxTrayNoteCreationDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{MWInboxTrayNoteCreationDialogQueryRef:{parameters:c("MWInboxTrayNoteCreationDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MWInboxTrayNoteCreationDialog.react").__setRef("MWInboxTrayNoteCreationDialog.entrypoint")};g["default"]=a}),98);
__d("MWInboxTraySelfPOG_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWInboxTraySelfPOG_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MWInboxTrayPOG_actor"}],type:"Actor",abstractKey:"__isActor"},kind:"AliasedInlineFragmentSpread",name:"self_POG_actor"}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MessengerNoteCreationClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4435");b=d("FalcoLoggerInternal").create("messenger_note_creation_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerNoteCreationImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4436");b=d("FalcoLoggerInternal").create("messenger_note_creation_impression_event",a);e=b;g["default"]=e}),98);
__d("MessengerNoteCreationClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerNoteCreationClickEventFalcoEvent","MessengerNoteCreationImpressionEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function b(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function h(a,b){var e=a.id,f=a.surface;a=a.targetType;var g;if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)g="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)g="vpvd_impression";else return;var h={event_type:g,surface:{entry_point:f.entry_point,major_surface:f.major_surface,minor_surface:f.minor_surface},target:{type:a,user:{id:e}}};b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?c("MessengerNoteCreationClickEventFalcoEvent").log(function(){return h}):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&c("MessengerNoteCreationImpressionEventFalcoEvent").log(function(){return h})}g.logClickEvent=a;g.logImpressionEvent=b}),98);
__d("MWInboxTraySelfPOG.react",["fbt","CometRelay","MWInboxTrayNoteCreationDialog.entrypoint","MWInboxTrayPOG.react","MWInboxTraySelfPOG_viewer.graphql","MessengerNoteCreationClickImpressionEventsLoggerImpl","react","react-compiler-runtime","useMWXEntryPointDialog","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));j.useMemo;function a(a){var e,f=d("react-compiler-runtime").c(24);a=a.viewer;a=d("CometRelay").useFragment(i!==void 0?i:i=b("MWInboxTraySelfPOG_viewer.graphql"),a);a=a.actor;a==null?void 0:a.id;e=(e=a==null?void 0:a.id)!=null?e:"";var g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={entry_point:"inbox_tray",major_surface:"inbox_tab",minor_surface:"inbox_tray"},f[0]=g):g=f[0];f[1]!==e?(g={id:e,surface:g,targetType:"user"},f[1]=e,f[2]=g):g=f[2];e=g;var j=e;f[3]!==j?(g={onImpressionStart:function(){d("MessengerNoteCreationClickImpressionEventsLoggerImpl").logImpressionEvent(j)}},f[3]=j,f[4]=g):g=f[4];e=c("useSinglePartialViewImpression")(g);f[5]===Symbol["for"]("react.memo_cache_sentinel")?(g={},f[5]=g):g=f[5];g=c("useMWXEntryPointDialog")(c("MWInboxTrayNoteCreationDialog.entrypoint"),g);var l=g[0],m=g[1],n=g[2];g=g[3];var o;f[6]!==j||f[7]!==l?(o=function(){d("MessengerNoteCreationClickImpressionEventsLoggerImpl").logClickEvent(j),l({})},f[6]=j,f[7]=l,f[8]=o):o=f[8];o=o;if(a==null)return null;var p=a.self_POG_actor,q,r;f[9]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"Post a new note"),q=h._(/*BTDS*/"Post a note..."),f[9]=q,f[10]=r):(q=f[9],r=f[10]);f[11]!==m||f[12]!==n||f[13]!==o||f[14]!==g?(r={"aria-label":r,notePlaceholder:q,onHoverIn:m,onHoverOut:n,onPress:o,onPressIn:g},f[11]=m,f[12]=n,f[13]=o,f[14]=g,f[15]=r):r=f[15];f[16]!==a.self_POG_actor||f[17]!==m||f[18]!==n||f[19]!==o||f[20]!==g||f[21]!==e||f[22]!==r?(q=k.jsx(c("MWInboxTrayPOG.react"),{actor:p,notesProps:r,onHoverIn:m,onHoverOut:n,onPress:o,onPressIn:g,ref:e}),f[16]=a.self_POG_actor,f[17]=m,f[18]=n,f[19]=o,f[20]=g,f[21]=e,f[22]=r,f[23]=q):q=f[23];return q}g["default"]=a}),226);
__d("MWInboxTray.react",["CometRelay","MWInboxTrayContactPOG.react","MWInboxTrayContainerQuery$Parameters","MWInboxTrayContainerQuery.graphql","MWInboxTrayGating","MWInboxTrayHScrollContainer.react","MWInboxTrayInner_viewer.graphql","MWInboxTraySelfPOG.react","MessengerInboxTrayClickImpressionEventsLoggerImpl","WebPixelRatio","react","react-compiler-runtime","useInterval","useRefetchablePreloadedQuery","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.startTransition;e.useMemo;var m=h!==void 0?h:h=b("MWInboxTrayContainerQuery.graphql"),n=i!==void 0?i:i=b("MWInboxTrayInner_viewer.graphql");function a(a){var b=d("react-compiler-runtime").c(3),c=a.mwInboxTrayContainerQuery;a=a.onClose;var e;b[0]!==c||b[1]!==a?(e=d("MWInboxTrayGating").isInboxTrayLiveQueryEnabled()?k.jsx(p,{mwInboxTrayContainerQuery:c,onClose:a}):k.jsx(o,{mwInboxTrayContainerQuery:c,onClose:a}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function o(a){var b=d("react-compiler-runtime").c(3),c=a.mwInboxTrayContainerQuery;a=a.onClose;c=d("CometRelay").usePreloadedQuery(m,c);var e;b[0]!==a||b[1]!==c.viewer?(e=k.jsx(q,{onClose:a,viewer:c.viewer}),b[0]=a,b[1]=c.viewer,b[2]=e):e=b[2];return e}function p(a){var b=d("react-compiler-runtime").c(5),e=a.mwInboxTrayContainerQuery;a=a.onClose;e=c("useRefetchablePreloadedQuery")(c("MWInboxTrayContainerQuery$Parameters"),e);var f=e[0];e=e[1];e=d("CometRelay").usePreloadedQuery(m,e);var g;b[0]!==f?(g=function(){l(function(){f({contactsProfilePictureDimensionPx:60,scale:d("WebPixelRatio").get()})})},b[0]=f,b[1]=g):g=b[1];c("useInterval")(g,3e5);b[2]!==a||b[3]!==e.viewer?(g=k.jsx(q,{onClose:a,viewer:e.viewer}),b[2]=a,b[3]=e.viewer,b[4]=g):g=b[4];return g}function q(a){var b,e=d("react-compiler-runtime").c(17),f=a.onClose;a=a.viewer;a=d("CometRelay").useFragment(n,a);var g=a.messenger_inbox_tray_contacts,h=(a==null?void 0:a.chat_visibility)===!0;b=(b=a.actor)==null?void 0:b.msgr_user_rich_status;var i;e[0]!==g||e[1]!==b?(i=b!=null,g.forEach(function(a){if(a.last_note!=null){i=!0;return}}),e[0]=g,e[1]=b,e[2]=i):i=e[2];(b=a.actor)==null?void 0:b.id;b=String((b=(b=a.actor)==null?void 0:b.id)!=null?b:0);var j;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(j={entry_point:"inbox_tray",major_surface:"inbox_tab",minor_surface:"inbox_tray"},e[3]=j):j=e[3];e[4]!==b?(j={id:b,surface:j,targetType:"inbox_tray_container"},e[4]=b,e[5]=j):j=e[5];b=j;var l=b;e[6]!==l?(j={onImpressionStart:function(){d("MessengerInboxTrayClickImpressionEventsLoggerImpl").logImpressionEvent(l)}},e[6]=l,e[7]=j):j=e[7];b=c("useSinglePartialViewImpression")(j);e[8]!==h||e[9]!==g||e[10]!==f?(j=g.map(function(a,b){return k.jsx(c("MWInboxTrayContactPOG.react"),{activeStatusOn:h,initialAvailabilityStatus:a.ranking_data.availability_status,initialLastActivetimestampSec:a.ranking_data.last_active_timestamp_sec,onClicked:f,position:b,rankedContact:a},a.contact.id)}),e[8]=h,e[9]=g,e[10]=f,e[11]=j):j=e[11];g=j;e[12]!==g||e[13]!==i||e[14]!==a.self_POG_viewer||e[15]!==b?(j=g.length!==0?k.jsx("div",{ref:b,children:k.jsxs(c("MWInboxTrayHScrollContainer.react"),{hasNotes:i,children:[a.self_POG_viewer!=null?k.jsx(c("MWInboxTraySelfPOG.react"),{viewer:a.self_POG_viewer}):null,g]})}):null,e[12]=g,e[13]=i,e[14]=a.self_POG_viewer,e[15]=b,e[16]=j):j=e[16];return j}f=k.memo(a);g["default"]=f}),98);
__d("MWInboxTrayOpenQPLLogger",["CometHeroInteractionWithDiv.react","InteractionTracing","InteractionTracingMetrics","justknobx","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState,m=c("qpl")._(25312704,"2893"),n="comet.messenger.inbox.tray";function a(a){var b=d("react-compiler-runtime").c(4),e=a.children,f=a.includeInParentVc;a=a.parentInteractionId;if(!c("justknobx")._("4621"))return e;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=i.jsx(o,{children:e,includeInParentVc:f,parentInteractionId:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function o(a){var b=d("react-compiler-runtime").c(8),e=a.children,f=a.includeInParentVc,g=a.parentInteractionId;a=l();var h=a[0],o=a[1],p=k(!1);b[0]!==g?(a=function(){if(p.current===!0)return;var a;if(g!=null){a=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:m,tracePolicy:n,traceType:"INTERACTION"});o(a);var b=c("InteractionTracing").checkAndMarkRevisit(n);c("InteractionTracingMetrics").addMetadata(a,"revisit",b);p.current=!0}return function(){if(a!=null){var b;(b=c("InteractionTracing").getPendingInteractionById(a))==null?void 0:b.cancelTrace("inboxTray_unmounted",!0)}}},b[0]=g,b[1]=a):a=b[1];var q;b[2]!==f||b[3]!==g?(q=[f,g],b[2]=f,b[3]=g,b[4]=q):q=b[4];j(a,q);if(!Boolean(h))return e;b[5]!==e||b[6]!==h?(f=i.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MessengerInboxTray",interactionUUID:h,children:e}),b[5]=e,b[6]=h,b[7]=f):f=b[7];return f}g.MWInboxTrayOpenHeroInteraction=a}),98);
__d("MWInboxTrayDeferred.react",["CometErrorBoundary.react","CometHeroInteractionIDContext","CometPageletWithDiv.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","MWInboxTrayGating","MWInboxTrayOpenQPLLogger","MWInboxTrayPlaceholder.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useHeroErrorMetadata","useHeroFailTrigger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxTray.react").__setRef("MWInboxTrayDeferred.react"));function a(a){var b=d("react-compiler-runtime").c(4),e=a.mwInboxTrayContainerQuery;a=a.onClose;var f=j(c("CometHeroInteractionIDContext")),g;b[0]!==e||b[1]!==a||b[2]!==f?(g=d("MWInboxTrayGating").isInboxTrayIncludedInVisualComplete()?i.jsx(d("MWInboxTrayOpenQPLLogger").MWInboxTrayOpenHeroInteraction,{includeInParentVc:!0,parentInteractionId:f,children:i.jsx(l,{failInteraction:!1,children:i.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:i.jsx(c("MWInboxTrayPlaceholder.react"),{}),name:"MWInboxTray",children:i.jsx(k,{mwInboxTrayContainerQuery:e,onClose:a})})})}):i.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:i.jsx(d("MWInboxTrayOpenQPLLogger").MWInboxTrayOpenHeroInteraction,{includeInParentVc:!1,parentInteractionId:f,children:i.jsx(l,{failInteraction:!0,children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWInboxTrayPlaceholder.react"),{}),name:"MWInboxTrayDeferred.Placeholder",children:i.jsx(k,{mwInboxTrayContainerQuery:e,onClose:a})})})})}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}function l(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.failInteraction,g=c("useHeroFailTrigger")();a=c("useHeroErrorMetadata")();var h;b[0]!==f||b[1]!==g?(h=function(a,b){f&&g({description:"MWInboxTrayDeferred.ErrorBoundary "+b,error:a})},b[0]=f,b[1]=g,b[2]=h):h=b[2];h=h;var j;b[3]!==a||b[4]!==e||b[5]!==h?(j=i.jsx(c("CometErrorBoundary.react"),{augmentError:a,description:"MWInboxTrayDeferred.ErrorBoundary",fallback:m,onError:h,children:e}),b[3]=a,b[4]=e,b[5]=h,b[6]=j):j=b[6];return j}function m(){return null}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("file-saver-2.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a,b){"undefined"!=typeof g?b():(b(),a.FileSaver={exports:{}}.exports)})(this,function(){function b(b,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(!1,a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\ufeff",b],{type:b.type}):b}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){},d.send()}function d(b){var a=new XMLHttpRequest;a.open("HEAD",b,!1);try{a.send()}catch(a){}return 200<=a.status&&299>=a.status}function e(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(c){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(a)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype?function(a,b,g){var h=f.URL||f.webkitURL,i=document.createElement("a");b=b||a.name||"download",i.download=b,i.rel="noopener","string"==typeof a?(i.href=a,i.origin===location.origin?e(i):d(i.href)?c(a,b,g):e(i,i.target="_blank")):(i.href=h.createObjectURL(a),setTimeout(function(){h.revokeObjectURL(i.href)},4e4),setTimeout(function(){e(i)},0))}:"msSaveOrOpenBlob"in navigator?function(a,f,g){if(f=f||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(b(a,g),f);else if(d(a))c(a,f,g);else{var h=document.createElement("a");h.href=a,h.target="_blank",setTimeout(function(){e(h)})}}:function(e,a,b,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof e)return c(e,a,b);a="application/octet-stream"===e.type;b=/constructor/i.test(f.HTMLElement)||f.safari;var g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||a&&b)&&"object"==typeof FileReader){var h=new FileReader;h.onloadend=function(){var a=h.result;a=g?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=a:location=a,d=null},h.readAsDataURL(e)}else{var i=f.URL||f.webkitURL,j=i.createObjectURL(e);d?d.location=j:location.href=j,d=null,setTimeout(function(){i.revokeObjectURL(j)},4e4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof h&&(h.exports=g)})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("file-saver",["file-saver-2.0.2"],(function(a,b,c,d,e,f){e.exports=b("file-saver-2.0.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/PAEKTkKqR_S/
 */
__d("msgpack-msgpack-2.8.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.getUint64=g.getInt64=g.setInt64=g.setUint64=g.UINT32_MAX=void 0;g.UINT32_MAX=4294967295;function a(a,b,c){var d=c/4294967296;c=c;a.setUint32(b,d);a.setUint32(b+4,c)}g.setUint64=a;function b(a,b,c){var d=Math.floor(c/4294967296);c=c;a.setUint32(b,d);a.setUint32(b+4,c)}g.setInt64=b;function c(a,b){var c=a.getInt32(b);a=a.getUint32(b+4);return c*4294967296+a}g.getInt64=c;function d(a,b){var c=a.getUint32(b);a=a.getUint32(b+4);return c*4294967296+a}g.getUint64=d}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){var a;Object.defineProperty(l,"__esModule",{value:!0});l.utf8DecodeTD=l.TEXT_DECODER_THRESHOLD=l.utf8DecodeJs=l.utf8EncodeTE=l.TEXT_ENCODER_THRESHOLD=l.utf8EncodeJs=l.utf8Count=void 0;var b=k();a=(typeof process==="undefined"||((a=process===null||process===void 0?void 0:process.env)===null||a===void 0?void 0:a.TEXT_ENCODING)!=="never")&&typeof TextEncoder!=="undefined"&&typeof TextDecoder!=="undefined";function c(a){var b=a.length,c=0,d=0;while(d<b){var e=a.charCodeAt(d++);if((e&4294967168)===0){c++;continue}else if((e&4294965248)===0)c+=2;else{if(e>=55296&&e<=56319&&d<b){var f=a.charCodeAt(d);(f&64512)===56320&&(++d,e=((e&1023)<<10)+(f&1023)+65536)}(e&4294901760)===0?c+=3:c+=4}}return c}l.utf8Count=c;function d(a,b,c){var d=a.length;c=c;var e=0;while(e<d){var f=a.charCodeAt(e++);if((f&4294967168)===0){b[c++]=f;continue}else if((f&4294965248)===0)b[c++]=f>>6&31|192;else{if(f>=55296&&f<=56319&&e<d){var g=a.charCodeAt(e);(g&64512)===56320&&(++e,f=((f&1023)<<10)+(g&1023)+65536)}(f&4294901760)===0?(b[c++]=f>>12&15|224,b[c++]=f>>6&63|128):(b[c++]=f>>18&7|240,b[c++]=f>>12&63|128,b[c++]=f>>6&63|128)}b[c++]=f&63|128}}l.utf8EncodeJs=d;var e=a?new TextEncoder():void 0;l.TEXT_ENCODER_THRESHOLD=a?typeof process!=="undefined"&&((c=process===null||process===void 0?void 0:process.env)===null||c===void 0?void 0:c.TEXT_ENCODING)!=="force"?200:0:b.UINT32_MAX;function f(a,b,c){b.set(e.encode(a),c)}function g(a,b,c){e.encodeInto(a,b.subarray(c))}l.utf8EncodeTE=(e===null||e===void 0?void 0:e.encodeInto)?g:f;var h=4096;function i(a,b,c){b=b;c=b+c;var d=[],e="";while(b<c){var f=a[b++];if((f&128)===0)d.push(f);else if((f&224)===192){var g=a[b++]&63;d.push((f&31)<<6|g)}else if((f&240)===224){g=a[b++]&63;var i=a[b++]&63;d.push((f&31)<<12|g<<6|i)}else if((f&248)===240){g=a[b++]&63;i=a[b++]&63;var j=a[b++]&63;g=(f&7)<<18|g<<12|i<<6|j;g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|g&1023);d.push(g)}else d.push(f);d.length>=h&&(e+=String.fromCharCode.apply(String,d),d.length=0)}d.length>0&&(e+=String.fromCharCode.apply(String,d));return e}l.utf8DecodeJs=i;var j=a?new TextDecoder():null;l.TEXT_DECODER_THRESHOLD=a?typeof process!=="undefined"&&((d=process===null||process===void 0?void 0:process.env)===null||d===void 0?void 0:d.TEXT_DECODER)!=="force"?200:0:b.UINT32_MAX;function m(a,b,c){a=a.subarray(b,b+c);return j.decode(a)}l.utf8DecodeTD=m}var o=!1;function p(){o||(o=!0,n());return m.exports}var q={},r={exports:q};function aa(){Object.defineProperty(q,"__esModule",{value:!0});q.ExtData=void 0;var a=function(a,b){this.type=a,this.data=b};q.ExtData=a}var s=!1;function t(){s||(s=!0,aa());return r.exports}var u={},ba={exports:u};function ca(){Object.defineProperty(u,"__esModule",{value:!0});u.DecodeError=void 0;var a=function(b){babelHelpers.inheritsLoose(a,b);function a(c){c=b.call(this,c)||this;var d=Object.create(a.prototype);Object.setPrototypeOf(babelHelpers.assertThisInitialized(c),d);Object.defineProperty(babelHelpers.assertThisInitialized(c),"name",{configurable:!0,enumerable:!1,value:a.name});return c}return a}(babelHelpers.wrapNativeSuper(Error));u.DecodeError=a}var v=!1;function w(){v||(v=!0,ca());return ba.exports}var x={},da={exports:x};function ea(){Object.defineProperty(x,"__esModule",{value:!0});x.timestampExtension=x.decodeTimestampExtension=x.decodeTimestampToTimeSpec=x.encodeTimestampExtension=x.encodeDateToTimeSpec=x.encodeTimeSpecToTimestamp=x.EXT_TIMESTAMP=void 0;var a=w(),b=k();x.EXT_TIMESTAMP=-1;var c=4294967296-1,d=17179869184-1;function e(a){var e=a.sec;a=a.nsec;if(e>=0&&a>=0&&e<=d)if(a===0&&e<=c){var f=new Uint8Array(4),g=new DataView(f.buffer);g.setUint32(0,e);return f}else{g=e/4294967296;f=e&4294967295;var h=new Uint8Array(8),i=new DataView(h.buffer);i.setUint32(0,a<<2|g&3);i.setUint32(4,f);return h}else{g=new Uint8Array(12);i=new DataView(g.buffer);i.setUint32(0,a);b.setInt64(i,4,e);return g}}x.encodeTimeSpecToTimestamp=e;function f(a){a=a.getTime();var b=Math.floor(a/1e3);a=(a-b*1e3)*1e6;var c=Math.floor(a/1e9);return{sec:b+c,nsec:a-c*1e9}}x.encodeDateToTimeSpec=f;function g(a){if(a instanceof Date){a=f(a);return e(a)}else return null}x.encodeTimestampExtension=g;function h(c){var d=new DataView(c.buffer,c.byteOffset,c.byteLength);switch(c.byteLength){case 4:var e=d.getUint32(0),f=0;return{sec:e,nsec:f};case 8:e=d.getUint32(0);f=d.getUint32(4);f=(e&3)*4294967296+f;e=e>>>2;return{sec:f,nsec:e};case 12:f=b.getInt64(d,4);e=d.getUint32(0);return{sec:f,nsec:e};default:throw new a.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+c.length)}}x.decodeTimestampToTimeSpec=h;function i(a){a=h(a);return new Date(a.sec*1e3+a.nsec/1e6)}x.decodeTimestampExtension=i;x.timestampExtension={type:x.EXT_TIMESTAMP,encode:g,decode:i}}var y=!1;function z(){y||(y=!0,ea());return da.exports}var A={},fa={exports:A};function ga(){Object.defineProperty(A,"__esModule",{value:!0});A.ExtensionCodec=void 0;var a=t(),b=z(),c=function(){function c(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(b.timestampExtension)}var d=c.prototype;d.register=function(a){var b=a.type,c=a.encode;a=a.decode;if(b>=0)this.encoders[b]=c,this.decoders[b]=a;else{b=1+b;this.builtInEncoders[b]=c;this.builtInDecoders[b]=a}};d.tryToEncode=function(b,c){for(var d=0;d<this.builtInEncoders.length;d++){var e=this.builtInEncoders[d];if(e!=null){e=e(b,c);if(e!=null){var f=-1-d;return new a.ExtData(f,e)}}}for(f=0;f<this.encoders.length;f++){e=this.encoders[f];if(e!=null){d=e(b,c);if(d!=null){e=f;return new a.ExtData(e,d)}}}return b instanceof a.ExtData?b:null};d.decode=function(b,c,d){var e=c<0?this.builtInDecoders[-1-c]:this.decoders[c];if(e)return e(b,c,d);else return new a.ExtData(c,b)};return c}();A.ExtensionCodec=c;c.defaultCodec=new c()}var B=!1;function C(){B||(B=!0,ga());return fa.exports}var D={},ha={exports:D};function ia(){Object.defineProperty(D,"__esModule",{value:!0});D.createDataView=D.ensureUint8Array=void 0;function a(a){if(a instanceof Uint8Array)return a;else if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);else if(a instanceof ArrayBuffer)return new Uint8Array(a);else return Uint8Array.from(a)}D.ensureUint8Array=a;function b(b){if(b instanceof ArrayBuffer)return new DataView(b);b=a(b);return new DataView(b.buffer,b.byteOffset,b.byteLength)}D.createDataView=b}var E=!1;function F(){E||(E=!0,ia());return ha.exports}var G={},ja={exports:G};function ka(){Object.defineProperty(G,"__esModule",{value:!0});G.Encoder=G.DEFAULT_INITIAL_BUFFER_SIZE=G.DEFAULT_MAX_DEPTH=void 0;var a=p(),b=C(),c=k(),d=F();G.DEFAULT_MAX_DEPTH=100;G.DEFAULT_INITIAL_BUFFER_SIZE=2048;var e=function(){function e(a,c,d,e,f,g,h,i){a===void 0&&(a=b.ExtensionCodec.defaultCodec),c===void 0&&(c=void 0),d===void 0&&(d=G.DEFAULT_MAX_DEPTH),e===void 0&&(e=G.DEFAULT_INITIAL_BUFFER_SIZE),f===void 0&&(f=!1),g===void 0&&(g=!1),h===void 0&&(h=!1),i===void 0&&(i=!1),this.extensionCodec=a,this.context=c,this.maxDepth=d,this.initialBufferSize=e,this.sortKeys=f,this.forceFloat32=g,this.ignoreUndefined=h,this.forceIntegerToFloat=i,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}var f=e.prototype;f.reinitializeState=function(){this.pos=0};f.encodeSharedRef=function(a){this.reinitializeState();this.doEncode(a,1);return this.bytes.subarray(0,this.pos)};f.encode=function(a){this.reinitializeState();this.doEncode(a,1);return this.bytes.slice(0,this.pos)};f.doEncode=function(a,b){if(b>this.maxDepth)throw new Error("Too deep objects in depth "+b);a==null?this.encodeNil():typeof a==="boolean"?this.encodeBoolean(a):typeof a==="number"?this.encodeNumber(a):typeof a==="string"?this.encodeString(a):this.encodeObject(a,b)};f.ensureBufferSizeToWrite=function(a){a=this.pos+a;this.view.byteLength<a&&this.resizeBuffer(a*2)};f.resizeBuffer=function(a){a=new ArrayBuffer(a);var b=new Uint8Array(a);a=new DataView(a);b.set(this.bytes);this.view=a;this.bytes=b};f.encodeNil=function(){this.writeU8(192)};f.encodeBoolean=function(a){a===!1?this.writeU8(194):this.writeU8(195)};f.encodeNumber=function(a){Number.isSafeInteger(a)&&!this.forceIntegerToFloat?a>=0?a<128?this.writeU8(a):a<256?(this.writeU8(204),this.writeU8(a)):a<65536?(this.writeU8(205),this.writeU16(a)):a<4294967296?(this.writeU8(206),this.writeU32(a)):(this.writeU8(207),this.writeU64(a)):a>=-32?this.writeU8(224|a+32):a>=-128?(this.writeU8(208),this.writeI8(a)):a>=-32768?(this.writeU8(209),this.writeI16(a)):a>=-2147483648?(this.writeU8(210),this.writeI32(a)):(this.writeU8(211),this.writeI64(a)):this.forceFloat32?(this.writeU8(202),this.writeF32(a)):(this.writeU8(203),this.writeF64(a))};f.writeStringHeader=function(a){if(a<32)this.writeU8(160+a);else if(a<256)this.writeU8(217),this.writeU8(a);else if(a<65536)this.writeU8(218),this.writeU16(a);else if(a<4294967296)this.writeU8(219),this.writeU32(a);else throw new Error("Too long string: "+a+" bytes in UTF-8")};f.encodeString=function(b){var c=1+4,d=b.length;if(d>a.TEXT_ENCODER_THRESHOLD){d=a.utf8Count(b);this.ensureBufferSizeToWrite(c+d);this.writeStringHeader(d);a.utf8EncodeTE(b,this.bytes,this.pos);this.pos+=d}else{d=a.utf8Count(b);this.ensureBufferSizeToWrite(c+d);this.writeStringHeader(d);a.utf8EncodeJs(b,this.bytes,this.pos);this.pos+=d}};f.encodeObject=function(a,b){var c=this.extensionCodec.tryToEncode(a,this.context);if(c!=null)this.encodeExtension(c);else if(Array.isArray(a))this.encodeArray(a,b);else if(ArrayBuffer.isView(a))this.encodeBinary(a);else if(typeof a==="object")this.encodeMap(a,b);else throw new Error("Unrecognized object: "+Object.prototype.toString.apply(a))};f.encodeBinary=function(a){var b=a.byteLength;if(b<256)this.writeU8(196),this.writeU8(b);else if(b<65536)this.writeU8(197),this.writeU16(b);else if(b<4294967296)this.writeU8(198),this.writeU32(b);else throw new Error("Too large binary: "+b);b=d.ensureUint8Array(a);this.writeU8a(b)};f.encodeArray=function(a,b){var c=a.length;if(c<16)this.writeU8(144+c);else if(c<65536)this.writeU8(220),this.writeU16(c);else if(c<4294967296)this.writeU8(221),this.writeU32(c);else throw new Error("Too large array: "+c);for(c of a)this.doEncode(c,b+1)};f.countWithoutUndefined=function(a,b){var c=0;for(b of b)a[b]!==void 0&&c++;return c};f.encodeMap=function(a,b){var c=Object.keys(a);this.sortKeys&&c.sort();var d=this.ignoreUndefined?this.countWithoutUndefined(a,c):c.length;if(d<16)this.writeU8(128+d);else if(d<65536)this.writeU8(222),this.writeU16(d);else if(d<4294967296)this.writeU8(223),this.writeU32(d);else throw new Error("Too large map object: "+d);for(d of c){c=a[d];this.ignoreUndefined&&c===void 0||(this.encodeString(d),this.doEncode(c,b+1))}};f.encodeExtension=function(a){var b=a.data.length;if(b===1)this.writeU8(212);else if(b===2)this.writeU8(213);else if(b===4)this.writeU8(214);else if(b===8)this.writeU8(215);else if(b===16)this.writeU8(216);else if(b<256)this.writeU8(199),this.writeU8(b);else if(b<65536)this.writeU8(200),this.writeU16(b);else if(b<4294967296)this.writeU8(201),this.writeU32(b);else throw new Error("Too large extension object: "+b);this.writeI8(a.type);this.writeU8a(a.data)};f.writeU8=function(a){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,a),this.pos++};f.writeU8a=function(a){var b=a.length;this.ensureBufferSizeToWrite(b);this.bytes.set(a,this.pos);this.pos+=b};f.writeI8=function(a){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,a),this.pos++};f.writeU16=function(a){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,a),this.pos+=2};f.writeI16=function(a){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,a),this.pos+=2};f.writeU32=function(a){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,a),this.pos+=4};f.writeI32=function(a){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,a),this.pos+=4};f.writeF32=function(a){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,a),this.pos+=4};f.writeF64=function(a){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,a),this.pos+=8};f.writeU64=function(a){this.ensureBufferSizeToWrite(8),c.setUint64(this.view,this.pos,a),this.pos+=8};f.writeI64=function(a){this.ensureBufferSizeToWrite(8),c.setInt64(this.view,this.pos,a),this.pos+=8};return e}();G.Encoder=e}var H=!1;function I(){H||(H=!0,ka());return ja.exports}var J={},la={exports:J};function ma(){Object.defineProperty(J,"__esModule",{value:!0});J.encode=void 0;var a=I(),b={};function c(c,d){d===void 0&&(d=b);d=new a.Encoder(d.extensionCodec,d.context,d.maxDepth,d.initialBufferSize,d.sortKeys,d.forceFloat32,d.ignoreUndefined,d.forceIntegerToFloat);return d.encodeSharedRef(c)}J.encode=c}var K=!1;function na(){K||(K=!0,ma());return la.exports}var L={},oa={exports:L};function pa(){Object.defineProperty(L,"__esModule",{value:!0});L.prettyByte=void 0;function a(a){return(a<0?"-":"")+"0x"+Math.abs(a).toString(16).padStart(2,"0")}L.prettyByte=a}var M=!1;function qa(){M||(M=!0,pa());return oa.exports}var N={},ra={exports:N};function sa(){Object.defineProperty(N,"__esModule",{value:!0});N.CachedKeyDecoder=void 0;var a=p(),b=16,c=16,d=function(){function d(a,d){a===void 0&&(a=b);d===void 0&&(d=c);this.maxKeyLength=a;this.maxLengthPerKey=d;this.hit=0;this.miss=0;this.caches=[];for(a=0;a<this.maxKeyLength;a++)this.caches.push([])}var e=d.prototype;e.canBeCached=function(a){return a>0&&a<=this.maxKeyLength};e.find=function(a,b,c){var d=this.caches[c-1];FIND_CHUNK:for(d of d){var e=d.bytes;for(var f=0;f<c;f++)if(e[f]!==a[b+f])continue FIND_CHUNK;return d.str}return null};e.store=function(a,b){var c=this.caches[a.length-1];a={bytes:a,str:b};c.length>=this.maxLengthPerKey?c[Math.random()*c.length|0]=a:c.push(a)};e.decode=function(b,c,d){var e=this.find(b,c,d);if(e!=null){this.hit++;return e}this.miss++;e=a.utf8DecodeJs(b,c,d);b=Uint8Array.prototype.slice.call(b,c,c+d);this.store(b,e);return e};return d}();N.CachedKeyDecoder=d}var O=!1;function ta(){O||(O=!0,sa());return ra.exports}var P={},ua={exports:P};function va(){Object.defineProperty(P,"__esModule",{value:!0});P.Decoder=P.DataViewIndexOutOfBoundsError=void 0;var a=qa(),b=C(),c=k(),d=p(),e=F(),f=ta(),g=w(),h=function(a){a=typeof a;return a==="string"||a==="number"},i=-1,j=new DataView(new ArrayBuffer(0)),l=new Uint8Array(j.buffer);P.DataViewIndexOutOfBoundsError=function(){try{j.getInt8(0)}catch(a){return a.constructor}throw new Error("never reached")}();var m=new P.DataViewIndexOutOfBoundsError("Insufficient data"),n=new f.CachedKeyDecoder();f=function(){function f(a,d,e,f,g,h,k,m){a===void 0&&(a=b.ExtensionCodec.defaultCodec),d===void 0&&(d=void 0),e===void 0&&(e=c.UINT32_MAX),f===void 0&&(f=c.UINT32_MAX),g===void 0&&(g=c.UINT32_MAX),h===void 0&&(h=c.UINT32_MAX),k===void 0&&(k=c.UINT32_MAX),m===void 0&&(m=n),this.extensionCodec=a,this.context=d,this.maxStrLength=e,this.maxBinLength=f,this.maxArrayLength=g,this.maxMapLength=h,this.maxExtLength=k,this.keyDecoder=m,this.totalPos=0,this.pos=0,this.view=j,this.bytes=l,this.headByte=i,this.stack=[]}var k=f.prototype;k.reinitializeState=function(){this.totalPos=0,this.headByte=i,this.stack.length=0};k.setBuffer=function(a){this.bytes=e.ensureUint8Array(a),this.view=e.createDataView(this.bytes),this.pos=0};k.appendBuffer=function(a){if(this.headByte===i&&!this.hasRemaining(1))this.setBuffer(a);else{var b=this.bytes.subarray(this.pos);a=e.ensureUint8Array(a);var c=new Uint8Array(b.length+a.length);c.set(b);c.set(a,b.length);this.setBuffer(c)}};k.hasRemaining=function(a){return this.view.byteLength-this.pos>=a};k.createExtraByteError=function(a){var b=this.view,c=this.pos;return new RangeError("Extra "+(b.byteLength-c)+" of "+b.byteLength+" byte(s) found at buffer["+a+"]")};k.decode=function(a){this.reinitializeState();this.setBuffer(a);a=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return a};k.decodeMulti=function*(a){this.reinitializeState();this.setBuffer(a);while(this.hasRemaining(1))yield this.doDecodeSync()};k.decodeAsync=async function(b){var c=!1,d,e=!0,f=!1,g;try{for(var h=babelHelpers.asyncIterator(b),b,b;b=await h.next(),e=b.done,b=await b.value,!e;e=!0){b=b;if(c)throw this.createExtraByteError(this.totalPos);this.appendBuffer(b);try{d=this.doDecodeSync(),c=!0}catch(a){if(!(a instanceof P.DataViewIndexOutOfBoundsError))throw a}this.totalPos+=this.pos}}catch(a){f=!0,g=a}finally{try{!e&&h.return!=null&&await h.return()}finally{if(f)throw g}}if(c){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return d}b=this.headByte;e=this.pos;f=this.totalPos;throw new RangeError("Insufficient data in parsing "+a.prettyByte(b)+" at "+f+" ("+e+" in the current buffer)")};k.decodeArrayStream=function(a){return this.decodeMultiAsync(a,!0)};k.decodeStream=function(a){return this.decodeMultiAsync(a,!1)};k.decodeMultiAsync=function(){var a=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=b,d=-1,e=!0,f=!1,g;try{for(var h=babelHelpers.asyncIterator(a),a,a;a=(yield babelHelpers.awaitAsyncGenerator(h.next())),e=a.done,a=(yield babelHelpers.awaitAsyncGenerator(a.value)),!e;e=!0){a=a;if(b&&d===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);c&&(d=this.readArraySize(),c=!1,this.complete());try{while(!0){yield this.doDecodeSync();if(--d===0)break}}catch(a){if(!(a instanceof P.DataViewIndexOutOfBoundsError))throw a}this.totalPos+=this.pos}}catch(a){f=!0,g=a}finally{try{!e&&h.return!=null&&(yield babelHelpers.awaitAsyncGenerator(h.return()))}finally{if(f)throw g}}});function b(b,c){return a.apply(this,arguments)}return b}();k.doDecodeSync=function(){DECODE:while(!0){var b=this.readHeadByte(),c=void 0;if(b>=224)c=b-256;else if(b<192)if(b<128)c=b;else if(b<144){var d=b-128;if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b<160){d=b-144;if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else{d=b-160;c=this.decodeUtf8String(d,0)}else if(b===192)c=null;else if(b===194)c=!1;else if(b===195)c=!0;else if(b===202)c=this.readF32();else if(b===203)c=this.readF64();else if(b===204)c=this.readU8();else if(b===205)c=this.readU16();else if(b===206)c=this.readU32();else if(b===207)c=this.readU64();else if(b===208)c=this.readI8();else if(b===209)c=this.readI16();else if(b===210)c=this.readI32();else if(b===211)c=this.readI64();else if(b===217){d=this.lookU8();c=this.decodeUtf8String(d,1)}else if(b===218){d=this.lookU16();c=this.decodeUtf8String(d,2)}else if(b===219){d=this.lookU32();c=this.decodeUtf8String(d,4)}else if(b===220){d=this.readU16();if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else if(b===221){d=this.readU32();if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else if(b===222){d=this.readU16();if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b===223){d=this.readU32();if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b===196){d=this.lookU8();c=this.decodeBinary(d,1)}else if(b===197){d=this.lookU16();c=this.decodeBinary(d,2)}else if(b===198){d=this.lookU32();c=this.decodeBinary(d,4)}else if(b===212)c=this.decodeExtension(1,0);else if(b===213)c=this.decodeExtension(2,0);else if(b===214)c=this.decodeExtension(4,0);else if(b===215)c=this.decodeExtension(8,0);else if(b===216)c=this.decodeExtension(16,0);else if(b===199){d=this.lookU8();c=this.decodeExtension(d,1)}else if(b===200){d=this.lookU16();c=this.decodeExtension(d,2)}else if(b===201){d=this.lookU32();c=this.decodeExtension(d,4)}else throw new g.DecodeError("Unrecognized type byte: "+a.prettyByte(b));this.complete();d=this.stack;while(d.length>0){b=d[d.length-1];if(b.type===0){b.array[b.position]=c;b.position++;if(b.position===b.size)d.pop(),c=b.array;else continue DECODE}else if(b.type===1){if(!h(c))throw new g.DecodeError("The type of key must be string or number but "+typeof c);if(c==="__proto__")throw new g.DecodeError("The key __proto__ is not allowed");b.key=c;b.type=2;continue DECODE}else{b.map[b.key]=c;b.readCount++;if(b.readCount===b.size)d.pop(),c=b.map;else{b.key=null;b.type=1;continue DECODE}}}return c}};k.readHeadByte=function(){this.headByte===i&&(this.headByte=this.readU8());return this.headByte};k.complete=function(){this.headByte=i};k.readArraySize=function(){var b=this.readHeadByte();switch(b){case 220:return this.readU16();case 221:return this.readU32();default:if(b<160)return b-144;else throw new g.DecodeError("Unrecognized array type byte: "+a.prettyByte(b))}};k.pushMapState=function(a){if(a>this.maxMapLength)throw new g.DecodeError("Max length exceeded: map length ("+a+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:a,key:null,readCount:0,map:{}})};k.pushArrayState=function(a){if(a>this.maxArrayLength)throw new g.DecodeError("Max length exceeded: array length ("+a+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:a,array:new Array(a),position:0})};k.decodeUtf8String=function(a,b){var c;if(a>this.maxStrLength)throw new g.DecodeError("Max length exceeded: UTF-8 byte length ("+a+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+b+a)throw m;var e=this.pos+b;this.stateIsMapKey()&&((c=this.keyDecoder)===null||c===void 0?void 0:c.canBeCached(a))?c=this.keyDecoder.decode(this.bytes,e,a):a>d.TEXT_DECODER_THRESHOLD?c=d.utf8DecodeTD(this.bytes,e,a):c=d.utf8DecodeJs(this.bytes,e,a);this.pos+=b+a;return c};k.stateIsMapKey=function(){if(this.stack.length>0){var a=this.stack[this.stack.length-1];return a.type===1}return!1};k.decodeBinary=function(a,b){if(a>this.maxBinLength)throw new g.DecodeError("Max length exceeded: bin length ("+a+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(a+b))throw m;var c=this.pos+b;c=this.bytes.subarray(c,c+a);this.pos+=b+a;return c};k.decodeExtension=function(a,b){if(a>this.maxExtLength)throw new g.DecodeError("Max length exceeded: ext length ("+a+") > maxExtLength ("+this.maxExtLength+")");var c=this.view.getInt8(this.pos+b);a=this.decodeBinary(a,b+1);return this.extensionCodec.decode(a,c,this.context)};k.lookU8=function(){return this.view.getUint8(this.pos)};k.lookU16=function(){return this.view.getUint16(this.pos)};k.lookU32=function(){return this.view.getUint32(this.pos)};k.readU8=function(){var a=this.view.getUint8(this.pos);this.pos++;return a};k.readI8=function(){var a=this.view.getInt8(this.pos);this.pos++;return a};k.readU16=function(){var a=this.view.getUint16(this.pos);this.pos+=2;return a};k.readI16=function(){var a=this.view.getInt16(this.pos);this.pos+=2;return a};k.readU32=function(){var a=this.view.getUint32(this.pos);this.pos+=4;return a};k.readI32=function(){var a=this.view.getInt32(this.pos);this.pos+=4;return a};k.readU64=function(){var a=c.getUint64(this.view,this.pos);this.pos+=8;return a};k.readI64=function(){var a=c.getInt64(this.view,this.pos);this.pos+=8;return a};k.readF32=function(){var a=this.view.getFloat32(this.pos);this.pos+=4;return a};k.readF64=function(){var a=this.view.getFloat64(this.pos);this.pos+=8;return a};return f}();P.Decoder=f}var Q=!1;function R(){Q||(Q=!0,va());return ua.exports}var S={},wa={exports:S};function xa(){Object.defineProperty(S,"__esModule",{value:!0});S.decodeMulti=S.decode=S.defaultDecodeOptions=void 0;var a=R();S.defaultDecodeOptions={};function b(b,c){c===void 0&&(c=S.defaultDecodeOptions);c=new a.Decoder(c.extensionCodec,c.context,c.maxStrLength,c.maxBinLength,c.maxArrayLength,c.maxMapLength,c.maxExtLength);return c.decode(b)}S.decode=b;function c(b,c){c===void 0&&(c=S.defaultDecodeOptions);c=new a.Decoder(c.extensionCodec,c.context,c.maxStrLength,c.maxBinLength,c.maxArrayLength,c.maxMapLength,c.maxExtLength);return c.decodeMulti(b)}S.decodeMulti=c}var T=!1;function U(){T||(T=!0,xa());return wa.exports}var V={},ya={exports:V};function za(){Object.defineProperty(V,"__esModule",{value:!0});V.ensureAsyncIterable=V.asyncIterableFromStream=V.isAsyncIterable=void 0;function a(a){return a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]!=null}V.isAsyncIterable=a;function b(a){if(a==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function c(a){return d.apply(this,arguments)}function d(){d=babelHelpers.wrapAsyncGenerator(function*(a){a=a.getReader();try{while(!0){var c=(yield babelHelpers.awaitAsyncGenerator(a.read())),d=c.done;c=c.value;if(d)return;b(c);yield c}}finally{a.releaseLock()}});return d.apply(this,arguments)}V.asyncIterableFromStream=c;function e(b){if(a(b))return b;else return c(b)}V.ensureAsyncIterable=e}var W=!1;function Aa(){W||(W=!0,za());return ya.exports}var X={},Ba={exports:X};function Ca(){Object.defineProperty(X,"__esModule",{value:!0});X.decodeStream=X.decodeMultiStream=X.decodeArrayStream=X.decodeAsync=void 0;var a=R(),b=Aa(),c=U();async function d(d,e){e===void 0&&(e=c.defaultDecodeOptions);d=b.ensureAsyncIterable(d);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeAsync(d)}X.decodeAsync=d;function e(d,e){e===void 0&&(e=c.defaultDecodeOptions);d=b.ensureAsyncIterable(d);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeArrayStream(d)}X.decodeArrayStream=e;function f(d,e){e===void 0&&(e=c.defaultDecodeOptions);d=b.ensureAsyncIterable(d);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeStream(d)}X.decodeMultiStream=f;function g(a,b){b===void 0&&(b=c.defaultDecodeOptions);return f(a,b)}X.decodeStream=g}var Y=!1;function Da(){Y||(Y=!0,Ca());return Ba.exports}var Z={},Ea={exports:Z};function Fa(){Object.defineProperty(Z,"__esModule",{value:!0});Z.decodeTimestampExtension=Z.encodeTimestampExtension=Z.decodeTimestampToTimeSpec=Z.encodeTimeSpecToTimestamp=Z.encodeDateToTimeSpec=Z.EXT_TIMESTAMP=Z.ExtData=Z.ExtensionCodec=Z.Encoder=Z.DataViewIndexOutOfBoundsError=Z.DecodeError=Z.Decoder=Z.decodeStream=Z.decodeMultiStream=Z.decodeArrayStream=Z.decodeAsync=Z.decodeMulti=Z.decode=Z.encode=void 0;var a=na();Object.defineProperty(Z,"encode",{enumerable:!0,get:function(){return a.encode}});var b=U();Object.defineProperty(Z,"decode",{enumerable:!0,get:function(){return b.decode}});Object.defineProperty(Z,"decodeMulti",{enumerable:!0,get:function(){return b.decodeMulti}});var c=Da();Object.defineProperty(Z,"decodeAsync",{enumerable:!0,get:function(){return c.decodeAsync}});Object.defineProperty(Z,"decodeArrayStream",{enumerable:!0,get:function(){return c.decodeArrayStream}});Object.defineProperty(Z,"decodeMultiStream",{enumerable:!0,get:function(){return c.decodeMultiStream}});Object.defineProperty(Z,"decodeStream",{enumerable:!0,get:function(){return c.decodeStream}});var d=R();Object.defineProperty(Z,"Decoder",{enumerable:!0,get:function(){return d.Decoder}});Object.defineProperty(Z,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return d.DataViewIndexOutOfBoundsError}});var e=w();Object.defineProperty(Z,"DecodeError",{enumerable:!0,get:function(){return e.DecodeError}});var f=I();Object.defineProperty(Z,"Encoder",{enumerable:!0,get:function(){return f.Encoder}});var g=C();Object.defineProperty(Z,"ExtensionCodec",{enumerable:!0,get:function(){return g.ExtensionCodec}});var h=t();Object.defineProperty(Z,"ExtData",{enumerable:!0,get:function(){return h.ExtData}});var i=z();Object.defineProperty(Z,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return i.EXT_TIMESTAMP}});Object.defineProperty(Z,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return i.encodeDateToTimeSpec}});Object.defineProperty(Z,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return i.encodeTimeSpecToTimestamp}});Object.defineProperty(Z,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return i.decodeTimestampToTimeSpec}});Object.defineProperty(Z,"encodeTimestampExtension",{enumerable:!0,get:function(){return i.encodeTimestampExtension}});Object.defineProperty(Z,"decodeTimestampExtension",{enumerable:!0,get:function(){return i.decodeTimestampExtension}})}var $=!1;function Ga(){$||($=!0,Fa());return Ea.exports}function a(a){switch(a){case void 0:return Ga()}}e.exports=a}),null);
__d("msgpack-msgpack",["msgpack-msgpack-2.8.0"],(function(a,b,c,d,e,f){e.exports=b("msgpack-msgpack-2.8.0")()}),null);/*FB_PKG_DELIM*/
__d("RelayFBConsoleLog",["cr:1121434"],(function(a,b,c,d,e,f,g){"use strict";a=b("cr:1121434")!=null?b("cr:1121434")():null;c=a;g["default"]=c}),98);
__d("RelayFBScheduler",[],(function(a,b,c,d,e,f){"use strict";a={cancel:function(){},schedule:function(a){a();return""}};b=a;f["default"]=b}),66);
__d("liveQueryFetchWithWWWInitialWrapper",["JSResource","RelayRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){return e.config_id!=null?d("RelayRuntime").Observable.create(function(d){var g;c("promiseDone")(c("JSResource")("liveQueryFetchWithWWWInitial").__setRef("liveQueryFetchWithWWWInitialWrapper").load().then(function(c){c=c(a,b,e,f);g=c.subscribe(d)})["catch"](function(a){return d.error(a)}));return function(){g&&g.unsubscribe()}}):f}g["default"]=a}),98);
__d("RelayFBEnvironmentDefinitions",["RelayFBConsoleLog","RelayFBEnvironmentActorID","RelayFBGCScheduler","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBScheduler","RelayFieldLogger","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","liveQueryFetchWithWWWInitialWrapper","relay-runtime","relayFBGetDataID"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayFBEnvironmentActorID").getActorID,h=(c=b("relay-runtime")).Environment,i=c.QueryResponseCache,j=c.RecordSource,k=c.Store;function l(a){var c,d,e=a.actorID,f=a.handlerProvider;f=f===void 0?b("RelayFBHandlerProvider"):f;var g=a.log;c=g===void 0?(c=a.log)!=null?c:b("RelayFBConsoleLog"):g;g=a.missingFieldHandlers;g=g===void 0?b("getRelayFBMissingFieldHandlers")():g;var l=a.operationLoader;l=l===void 0?b("RelayFBOperationLoader"):l;var m=a.store;d=m===void 0?new k(new j(),{getDataID:(d=a.getDataID)!=null?d:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("RelayFBGCScheduler"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:5*60*1e3,log:c}):m;m=a.relayFieldLogger;m=m===void 0?b("RelayFieldLogger").create():m;var n=a.scheduler;n=n===void 0?b("RelayFBScheduler"):n;var o=a.getDataID;o=o===void 0?b("relayFBGetDataID"):o;a=babelHelpers.objectWithoutPropertiesLoose(a,["actorID","handlerProvider","log","missingFieldHandlers","operationLoader","store","relayFieldLogger","scheduler","getDataID"]);var p={actorID:e};if(a.network)return new h(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:g,operationLoader:l,store:d,options:p,relayFieldLogger:m,scheduler:n,getDataID:o}));else{var q,r,s=a.networkConfig;a=babelHelpers.objectWithoutPropertiesLoose(a,["networkConfig"]);q=(q=s==null?void 0:s.queryResponseCache)!=null?q:new i({size:10,ttl:5*60*1e3});r=(r=s==null?void 0:s.liveQueryFetchWithWWWInitialFn)!=null?r:b("liveQueryFetchWithWWWInitialWrapper");s=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},s,{liveQueryFetchWithWWWInitialFn:r,queryResponseCache:q,actorID:e})),b("createRelayFBSubscribeFunction")({queryResponseCache:q,actorID:e}));return new h(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:g,operationLoader:l,store:d,network:s,options:p,relayFieldLogger:m,scheduler:n,getDataID:o}))}}function a(a){var b=new Map();return{getForActorID:function(c,d){var e;e=c+((e=d)!=null?e:"");var f=b.get(e);f||(f=l(a(c,d)),b.set(e,f));return f},commitLocalUpdateForEachEnvironment:function(a){var c=function(b){var c=b[1];c.commitUpdate(function(b){a(g(c),c,b)})};for(var d of b)c(d)}}}e.exports={createEnvironment:l,createEnvironmentFactory:a}}),null);
__d("RelayFBEnvironmentFactory",["RelayFBEnvironmentDefinitions"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;e.exports=a(function(a){return{configName:"RelayFBEnvironment",actorID:a}})}),null);
__d("react-relay/ReactRelayContainerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.displayName||a.name||"Component"}function a(a){return"Relay("+g(a)+")"}e.exports={getComponentName:g,getContainerName:a}}),null);
__d("react-relay/isRelayEnvironment",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"&&a!==null&&typeof a.check==="function"&&typeof a.lookup==="function"&&typeof a.retain==="function"&&typeof a.execute==="function"&&typeof a.subscribe==="function"}e.exports=a}),null);
__d("react-relay/RelayContext",["invariant","react-relay/isRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a)||g(0,6172,a);return a}function h(a){return typeof a==="object"&&a!==null&&!Array.isArray(a)&&b("react-relay/isRelayEnvironment")(a.environment)}e.exports={assertRelayContext:a,isRelayContext:h}}),null);
__d("react-relay/ReactRelayQueryRendererContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");e.exports=a.createContext({rootIsQueryRenderer:!1})}),null);
__d("react-relay/buildReactRelayContainer",["invariant","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","react-relay/assertFragmentMap","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("react-relay/ReactRelayContainerUtils").getComponentName,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=h||(h=b("react")),l=b("relay-runtime").getFragment,m=k.useContext;function a(a,c,d){var f=j(a);b("react-relay/assertFragmentMap")(i(a),c);var h={};for(var n in c)h[n]=l(c[n]);var o=d(a,h);o.displayName=f;function p(a,c){var d=m(b("react-relay/ReactRelayContext"));d!=null||g(0,18241,f,f);var e=m(b("react-relay/ReactRelayQueryRendererContext"));return k.jsx(o,babelHelpers["extends"]({},a,{__relayContext:d,__rootIsQueryRenderer:(d=e==null?void 0:e.rootIsQueryRenderer)!=null?d:!1,componentRef:a.componentRef||c}))}p.displayName=p.name+" [from "+e.id+"]";p.displayName=f;c=k.forwardRef(p);return c}e.exports=a}),null);
__d("react-relay/ReactRelayFragmentContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","react-relay/buildReactRelayContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("react-relay/ReactRelayContainerUtils").getContainerName,j=b("react-relay/RelayContext").assertRelayContext,k=g||(g=b("react")),l=b("relay-runtime").createFragmentSpecResolver,m=b("relay-runtime").getDataIDsFromObject,n=b("relay-runtime").isScalarAndEqual;function o(a,c){var d,e=i(a);return d=function(d){babelHelpers.inheritsLoose(f,d);function f(a){var b,f;f=d.call(this,a)||this;f.$3=function(){var a=f.state.resolver;f.setState(function(b){return a===b.resolver?{data:b.resolver.resolve(),relayProp:p(b.relayProp.environment)}:null})};var g=j(a.__relayContext);b=(b=a.__rootIsQueryRenderer)!=null?b:!1;b=l(g,e,c,a,b);f.state={data:b.resolve(),prevProps:a,prevPropsContext:g,relayProp:p(g.environment),resolver:b};return f}f.getDerivedStateFromProps=function(a,d){var f,g=d.prevProps,i=j(a.__relayContext);f=(f=a.__rootIsQueryRenderer)!=null?f:!1;g=m(c,g);var k=m(c,a),n=d.resolver;if(d.prevPropsContext.environment!==i.environment||!(h||(h=b("areEqual")))(g,k)){n=l(i,e,c,a,f);return{data:n.resolve(),prevPropsContext:i,prevProps:a,relayProp:p(i.environment),resolver:n}}else{n.setProps(a);g=n.resolve();if(g!==d.data)return{data:g,prevProps:a,prevPropsContext:i,relayProp:p(i.environment)}}return null};var g=f.prototype;g.componentDidMount=function(){this.$1()};g.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$1()):this.$2()};g.componentWillUnmount=function(){this.state.resolver.dispose()};g.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevPropsContext.environment!==this.state.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!n(a[f],this.props[f]))return!0}return!1};g.$2=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};g.$1=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$3);b!==c&&this.setState({data:c})};g.render=function(){var b=this.props,c=b.componentRef;b.__relayContext;b.__rootIsQueryRenderer;b=babelHelpers.objectWithoutPropertiesLoose(b,["componentRef","__relayContext","__rootIsQueryRenderer"]);return k.jsx(a,babelHelpers["extends"]({},b,this.state.data,{ref:c,relay:this.state.relayProp}))};return f}(k.Component),d.displayName=e,d}function p(a){return{environment:a}}function a(a,c){return b("react-relay/buildReactRelayContainer")(a,c,o)}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayLocalQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;c=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l=i.useLayoutEffect,m=i.useState,n=i.useRef,o=i.useMemo,p={rootIsQueryRenderer:!0};function q(a){var c=i.useRef(a);(h||(h=b("areEqual")))(c.current,a)||(c.current=a);return c.current}function a(a){var c=a.environment,d=a.query,e=a.variables;a=a.render;var f=q(e),g=o(function(){var a=k(d);return j(a,f)},[d,f]);e=o(function(){return{environment:c}},[c]);var h=n(null),r=m(null),s=r[1],t=n(null);r=o(function(){c.check(g);var a=c.lookup(g.fragment);h.current=a.data;var b=c.retain(g),d=c.subscribe(a,function(a){h.current=a.data,s(h.current)}),e=!1;function f(){e||(e=!0,t.current=null,b.dispose(),d.dispose())}t.current&&t.current();t.current=f;return a},[c,g]);l(function(){var a=t.current;return function(){a&&a()}},[r]);return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:p,children:a({props:h.current})})})}a.displayName=a.name+" [from "+e.id+"]";e.exports=a}),null);
__d("react-relay/ReactRelayQueryFetcher",["invariant","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("relay-runtime").__internal.fetchQuery,i=b("relay-runtime").createOperationDescriptor,j=b("relay-runtime").isRelayModernEnvironment;a=function(){function a(a){this.$4=[],this.$8=!1,a!=null&&(this.$7=a.cacheSelectionReference,this.$4=a.selectionReferences)}var b=a.prototype;b.getSelectionReferences=function(){return{cacheSelectionReference:this.$7,selectionReferences:this.$4}};b.lookupInStore=function(a,b,c){if((c==="store-and-network"||c==="store-or-network")&&a.check(b).status==="available"){this.$9(a,b);return a.lookup(b.fragment)}return null};b.getFetchResult=function(){if(this.$8){if(this.$6!=null)return{error:this.$6};else if(this.$5!=null)return{snapshot:this.$5}}else return null};b.execute=function(a){var b=this,c=a.environment,d=a.operation;a=a.preservePreviousReferences;var e=a===void 0?!1:a,f=c.retain(d);a=function(){b.$4=b.$4.concat(f)};var g=function(){e||b.disposeSelectionReferences(),b.$4=b.$4.concat(f)},i=function(){b.$4=b.$4.concat(f)};return!j(c)?c.execute({operation:d})["do"]({error:a,complete:g,unsubscribe:i}):h(c,d)["do"]({error:a,complete:g,unsubscribe:i})};b.setOnDataChange=function(a){this.$1||g(0,4542),typeof a==="function"&&(this.$1.onDataChangeCallbacks=this.$1.onDataChangeCallbacks||[],this.$1.onDataChangeCallbacks.push(a),this.$8&&(this.$6!=null?a({error:this.$6}):this.$5!=null&&a({snapshot:this.$5})))};b.fetch=function(a,b){var c=this,d=a.environment,e=a.operation;a=a.onDataChange;var f=!1,g;this.disposeRequest();var h=this.$1&&this.$1.onDataChangeCallbacks;this.$1={environment:d,onDataChangeCallbacks:h||[],operation:e};a&&this.$1.onDataChangeCallbacks.indexOf(a)===-1&&this.$1.onDataChangeCallbacks.push(a);h=b?i(e.request.node,e.request.variables,b):e;var j=this.execute({environment:d,operation:h})["finally"](function(){c.$2=null}).subscribe({next:function(){c.$8=!0,c.$6=null,c.$10({notifyFirstResult:f})},error:function(a){c.$8=!0;c.$6=a;c.$5=null;var b=c.$1&&c.$1.onDataChangeCallbacks;f?b&&b.forEach(function(b){b({error:a})}):g=a}});this.$2={dispose:function(){j.unsubscribe()}};f=!0;if(g)throw g;return this.$5};b.retry=function(a){this.$1||g(0,4543);return this.fetch({environment:this.$1.environment,operation:this.$1.operation,onDataChange:null},a)};b.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()};b.disposeRequest=function(){this.$6=null,this.$5=null,this.$2&&this.$2.dispose(),this.$3&&(this.$3.dispose(),this.$3=null)};b.$9=function(a,b){this.$11(),this.$7=a.retain(b)};b.$11=function(){this.$7&&this.$7.dispose(),this.$7=null};b.disposeSelectionReferences=function(){this.$11(),this.$4.forEach(function(a){return a.dispose()}),this.$4=[]};b.$10=function(a){var b=this;a=a.notifyFirstResult;this.$1||g(0,4544);var c=this.$1,d=c.environment,e=c.onDataChangeCallbacks;c=c.operation;if(this.$5)return;this.$5=d.lookup(c.fragment);this.$3=d.subscribe(this.$5,function(a){if(b.$1!=null){var c=b.$1.onDataChangeCallbacks;Array.isArray(c)&&c.forEach(function(b){return b({snapshot:a})})}});if(this.$5&&a&&Array.isArray(e)){var f=this.$5;e.forEach(function(a){return a({snapshot:f})})}};return a}();e.exports=a}),null);
__d("react-relay/getRootVariablesForFragments",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").getSelector;function a(a,b){var c={};Object.keys(a).forEach(function(d){var e=a[d];d=b[d];e=g(e,d);e=e!=null&&e.kind==="PluralReaderSelector"?(d=(d=e.selectors[0])==null?void 0:d.owner.variables)!=null?d:{}:(d=e==null?void 0:e.owner.variables)!=null?d:{};c=babelHelpers["extends"]({},c,e)});return c}e.exports=a}),null);
__d("react-relay/ReactRelayPaginationContainer",["invariant","areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("react-relay/ReactRelayContainerUtils").getComponentName,k=b("react-relay/ReactRelayContainerUtils").getContainerName,l=b("react-relay/RelayContext").assertRelayContext,m=h||(h=b("react")),n=b("relay-runtime").ConnectionInterface,o=b("relay-runtime").Observable,p=b("relay-runtime").RelayFeatureFlags,q=b("relay-runtime").createFragmentSpecResolver,r=b("relay-runtime").createOperationDescriptor,s=b("relay-runtime").getDataIDsFromObject,t=b("relay-runtime").getRequest,u=b("relay-runtime").getVariablesFromObject,v=b("relay-runtime").isScalarAndEqual,w="forward";function x(a){var b=a.path;b||g(0,1219);return function(c){c=c[a.fragmentName];for(var d=0;d<b.length;d++){if(!c||typeof c!=="object")return null;c=c[b[d]]}return c}}function y(a){var b=a.count;b||g(0,1220);return function(a,c){return babelHelpers["extends"]({},a,(a={},a[b]=c,a))}}function z(a){var b=null,c=!1;for(var d in a){var e=a[d],f=e.metadata&&e.metadata.connection;e.metadata!==void 0&&(c=!0);f&&(f.length===1||g(0,1221,d,f.length),b&&g(0,1222),b=babelHelpers["extends"]({},f[0],{fragmentName:d}))}!c||b!==null||g(0,1223);return b||{}}function A(a){return typeof a==="function"?{error:a,complete:a,unsubscribe:function(b){typeof a==="function"&&a()}}:a||{}}function B(a,c,d){var e=j(a),f=k(a),h=z(c),B=d.getConnectionFromProps||x(h),C=d.direction||h.direction;C||g(0,1224);var D=d.getFragmentVariables||y(h);return h=function(h){babelHelpers.inheritsLoose(j,h);function j(a){var d,e;e=h.call(this,a)||this;e.$8=function(){e.setState({data:e.$4.resolve()})};e.$13=function(){var a=e.$17();return!!(a&&a.hasMore&&a.cursor)};e.$14=function(){return!!e.$2};e.$16=function(a,b,c){if(!e.$18("refetchConnection"))return{dispose:function(){}};e.$3=c;c={count:a,cursor:null,totalCount:a};a=e.$19(c,A(b),{force:!0});return{dispose:a.unsubscribe}};e.$15=function(a,c,d){if(!e.$18("loadMore"))return{dispose:function(){}};var f=A(c),g=e.$17();if(!g){o.create(function(a){return a.complete()}).subscribe(f);return null}var h=g.edgeCount+a;if(d&&d.force)return e.$16(h,c);c=n.get();var i=c.END_CURSOR;c=c.START_CURSOR;g=g.cursor;b("warning")(g!=null&&g!=="","ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)",C===w?i:c,g);i={count:a,cursor:g,totalCount:h};c=e.$19(i,f,d);return{dispose:c.unsubscribe}};var g=l(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;e.$1=!1;e.$2=null;e.$3=null;p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?e.$4=q(g,f,c,a,d):e.$4=q(g,f,c,a,d,e.$8);e.state={data:e.$4.resolve(),prevContext:g,contextForChildren:g,relayProp:e.$9(g),resolverGeneration:0};e.$6=!1;e.$7=!1;return e}var k=j.prototype;k.componentDidMount=function(){this.$6=!1,p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.$10()};k.componentDidUpdate=function(a,b){p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&(b.resolverGeneration!==this.state.resolverGeneration?this.$10():this.$11())};k.UNSAFE_componentWillReceiveProps=function(a){var d,e=this,g=l(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;var h=s(c,this.props),j=s(c,a),k=b("react-relay/getRootVariablesForFragments")(c,this.props),m=b("react-relay/getRootVariablesForFragments")(c,a);g.environment!==this.state.prevContext.environment||!(i||(i=b("areEqual")))(k,m)||!(i||(i=b("areEqual")))(h,j)?(this.$12(),p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?this.$4=q(g,f,c,a,d):this.$4=q(g,f,c,a,d,this.$8),this.setState(function(a){return{prevContext:g,contextForChildren:g,relayProp:e.$9(g),resolverGeneration:a.resolverGeneration+1}})):this.$7||this.$4.setProps(a);k=this.$4.resolve();k!==this.state.data&&this.setState({data:k})};k.componentWillUnmount=function(){this.$6=!0,this.$12()};k.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp||b.resolverGeneration!==this.state.resolverGeneration)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevContext.environment!==this.state.prevContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!v(a[f],this.props[f]))return!0}return!1};k.$9=function(a){return{hasMore:this.$13,isLoading:this.$14,loadMore:this.$15,refetchConnection:this.$16,environment:a.environment}};k.$11=function(){var a=this.state.data,b=this.$4.resolve();a!==b&&this.setState({data:b})};k.$10=function(){var a=this.state.data,b=this.$4.resolve();this.$4.setCallback(this.props,this.$8);a!==b&&this.setState({data:b})};k.$17=function(){var a=this.props;a.componentRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["componentRef"]);a=babelHelpers["extends"]({},a,this.state.data);a=B(a);if(a==null)return null;var c=n.get(),d=c.EDGES,f=c.PAGE_INFO,h=c.HAS_NEXT_PAGE,i=c.HAS_PREV_PAGE,j=c.END_CURSOR;c=c.START_CURSOR;typeof a==="object"||g(0,1225,e,d,f,a);var k=a[d];a=a[f];if(k==null||a==null)return null;Array.isArray(k)||g(0,1226,e,d,k);typeof a==="object"||g(0,1227,e,f,a);d=C===w?a[h]:a[i];a=C===w?a[j]:a[c];if(typeof d!=="boolean"||k.length!==0&&typeof a==="undefined"){b("warning")(!1,"ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. Be sure to fetch %s (got `%s`) and %s (got `%s`).",f,e,C===w?h:i,d,C===w?j:c,a);return null}return{cursor:a,edgeCount:k.length,hasMore:d}};k.$20=function(){this.$5||(this.$5=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$5};k.$18=function(a){if(this.$6){b("warning")(!1,"ReactRelayPaginationContainer: Unexpected call of `%s` on unmounted container `%s`. It looks like some instances of your container still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `%s` call.",a,f,a);return!1}return!0};k.$19=function(a,f,h){var j=this,k=l(this.props.__relayContext);k=k.environment;var m=this.props;m.componentRef;m.__relayContext;m.__rootIsQueryRenderer;m=babelHelpers.objectWithoutPropertiesLoose(m,["componentRef","__relayContext","__rootIsQueryRenderer"]);var n=babelHelpers["extends"]({},m,this.state.data),p,q=b("react-relay/getRootVariablesForFragments")(c,m);p=u(c,m);p=babelHelpers["extends"]({},q,p,this.$3);m=d.getVariables(n,{count:a.count,cursor:a.cursor},p);typeof m==="object"&&m!==null||g(0,1228,m,e);m=babelHelpers["extends"]({},m,this.$3);p=babelHelpers["extends"]({},m,p);q=h?{force:!!h.force}:void 0;q!=null&&(h==null?void 0:h.metadata)!=null&&(q.metadata=h==null?void 0:h.metadata);n=t(d.query);var s=r(n,m,q),v=null;this.$2&&this.$2.unsubscribe();this.$7=!0;var w=function(c,d){c=j.$4.resolve();j.$4.setVariables(D(p,a.totalCount),s.request.node);var e=j.$4.resolve();!(i||(i=b("areEqual")))(c,e)?j.setState({data:e,contextForChildren:{environment:j.props.__relayContext.environment}},d):d()};h=function(){j.$2===v&&(j.$2=null,j.$1=!1)};this.$1=!0;v=this.$20().execute({environment:k,operation:s,preservePreviousReferences:!0}).mergeMap(function(a){return o.create(function(b){w(a,function(){b.next(),b.complete()})})})["do"]({error:h,complete:h,unsubscribe:h}).subscribe(f||{});this.$2=this.$1?v:null;return v};k.$12=function(){this.$4.dispose(),this.$3=null,this.$7=!1,this.$2&&(this.$2.unsubscribe(),this.$2=null,this.$1=!1),this.$5&&this.$5.dispose()};k.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext","__rootIsQueryRenderer"]);return m.jsx(b("react-relay/ReactRelayContext").Provider,{value:this.state.contextForChildren,children:m.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:this.state.relayProp}))})};return j}(m.Component),h.displayName=f,h}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return B(a,b,d)})}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;a=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l={},m={rootIsQueryRenderer:!0};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(a){var b=a.error==null?null:a.error,c=a.snapshot==null?null:a.snapshot;d.setState(function(a){var d=a.requestCacheKey;d&&delete l[d];return c===a.snapshot&&b===a.error?null:{renderProps:p(b,c,a.queryFetcher,a.retryCallbacks),snapshot:c,requestCacheKey:null}})};var e={handleDataChange:null,handleRetryAfterError:null},f;if(c.query){var g=c.query;g=k(g);f=q(g.params,c.variables);g=l[f]?l[f].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))()}else g=new(b("react-relay/ReactRelayQueryFetcher"))();d.$1=!1;d.state=babelHelpers["extends"]({prevPropsEnvironment:c.environment,prevPropsVariables:c.variables,prevQuery:c.query,queryFetcher:g,retryCallbacks:e},s(c,g,e,f));return d}c.getDerivedStateFromProps=function(a,c){return c.prevQuery!==a.query||c.prevPropsEnvironment!==a.environment||!(h||(h=b("areEqual")))(c.prevPropsVariables,a.variables)?r(a,c):null};var d=c.prototype;d.componentDidMount=function(){var a=this;if(this.$1===!0){this.$1=!1;this.setState(function(c){c=r(a.props,c);var d=c.requestCacheKey,b=c.queryFetcher;d!=null&&l[d]!=null&&b.setOnDataChange(a.$2);return c});return}var b=this.state,c=b.retryCallbacks,d=b.queryFetcher;b=b.requestCacheKey;b&&delete l[b];c.handleDataChange=this.$2;c.handleRetryAfterError=function(b){return a.setState(function(a){a=a.requestCacheKey;a&&delete l[a];return{renderProps:n(),requestCacheKey:null}})};this.props.query&&d.setOnDataChange(this.$2)};d.componentDidUpdate=function(a,b){a=this.state;var c=a.queryFetcher;a=a.requestCacheKey;a&&(delete l[a],delete this.state.requestCacheKey);this.props.query&&c!==b.queryFetcher&&c.setOnDataChange(this.$2)};d.componentWillUnmount=function(){this.state.queryFetcher.dispose(),this.$1=!0};d.shouldComponentUpdate=function(a,b){return a.render!==this.props.render||b.renderProps!==this.state.renderProps};d.render=function(){var a=this.state,c=a.renderProps;a=a.relayContext;return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:a,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:m,children:this.props.render(c)})})};return c}(i.Component);function n(){return{error:null,props:null,retry:null}}function o(){return{error:null,props:{},retry:null}}function p(a,b,c,d){return{error:a?a:null,props:b?b.data:null,retry:function(b){b=c.retry(b);b&&typeof d.handleDataChange==="function"?d.handleDataChange({snapshot:b}):a&&typeof d.handleRetryAfterError==="function"&&d.handleRetryAfterError(a)}}}function q(a,b){return JSON.stringify({id:a.cacheID?a.cacheID:a.id,variables:b})}function r(a,c){var d=a.query,e=c.queryFetcher.getSelectionReferences();c.queryFetcher.disposeRequest();if(d){d=k(d);d=q(d.params,a.variables);d=l[d]?l[d].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))(e)}else d=new(b("react-relay/ReactRelayQueryFetcher"))(e);return babelHelpers["extends"]({prevQuery:a.query,prevPropsEnvironment:a.environment,prevPropsVariables:a.variables,queryFetcher:d},s(a,d,c.retryCallbacks))}function s(a,b,c,d){var e=a.environment,f=a.query,g=a.variables,h=a.cacheConfig;e=e;if(f){f=k(f);g=j(f,g,h);h={environment:e};if(typeof d==="string"&&l[d]){var i=l[d].snapshot;if(i)return{error:null,relayContext:h,renderProps:p(null,i,b,c),snapshot:i,requestCacheKey:d};else return{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}}try{i=b.lookupInStore(e,g,a.fetchPolicy);g=b.fetch({environment:e,onDataChange:null,operation:g});g=g||i;d=d||q(f.params,a.variables);l[d]={queryFetcher:b,snapshot:g};return!g?{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}:{error:null,relayContext:h,renderProps:p(null,g,b,c),snapshot:g,requestCacheKey:d}}catch(a){return{error:a,relayContext:h,renderProps:p(a,null,b,c),snapshot:null,requestCacheKey:d}}}else{b.dispose();i={environment:e};return{error:null,relayContext:i,renderProps:o(),requestCacheKey:null}}}e.exports=c}),null);
__d("react-relay/ReactRelayRefetchContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("react-relay/ReactRelayContainerUtils").getContainerName,j=b("react-relay/RelayContext").assertRelayContext,k=g||(g=b("react")),l=b("relay-runtime").Observable,m=b("relay-runtime").createFragmentSpecResolver,n=b("relay-runtime").createOperationDescriptor,o=b("relay-runtime").getDataIDsFromObject,p=b("relay-runtime").getRequest,q=b("relay-runtime").getVariablesFromObject,r=b("relay-runtime").isScalarAndEqual;function s(a,c,d){var e,f=i(a);return e=function(e){babelHelpers.inheritsLoose(g,e);function g(a){var g,h;h=e.call(this,a)||this;h.$7=function(){var a=h.state.resolver;h.setState(function(b){return a===b.resolver?{data:b.resolver.resolve()}:null})};h.$4=function(a,e,g,i){if(h.$3){b("warning")(!1,"ReactRelayRefetchContainer: Unexpected call of `refetch` on unmounted container `%s`. It looks like some instances of your container still trying to refetch the data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `refetch`.",f);return{dispose:function(){}}}var k=j(h.props.__relayContext);k=k.environment;var m=b("react-relay/getRootVariablesForFragments")(c,h.props);a=typeof a==="function"?a(h.$8()):a;a=babelHelpers["extends"]({},m,a);var o=e?babelHelpers["extends"]({},a,e):a;m=i?{force:!!i.force}:void 0;m!=null&&(i==null?void 0:i.metadata)!=null&&(m.metadata=i==null?void 0:i.metadata);var q=typeof g==="function"?{next:g,error:g}:g||{};e=p(d);var r=n(e,a,m);h.state.localVariables=a;h.$1&&h.$1.unsubscribe();var s;g=h.$9().lookupInStore(k,r,i==null?void 0:i.fetchPolicy);if(g!=null){h.state.resolver.setVariables(o,r.request.node);h.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:h.props.__relayContext.environment}}},function(){q.next&&q.next(),q.complete&&q.complete()});return{dispose:function(){}}}h.$9().execute({environment:k,operation:r,preservePreviousReferences:!0}).mergeMap(function(a){h.state.resolver.setVariables(o,r.request.node);return l.create(function(a){return h.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:h.props.__relayContext.environment}}},function(){a.next(),a.complete()})})})["finally"](function(){h.$1===s&&(h.$1=null)}).subscribe(babelHelpers["extends"]({},q,{start:function(a){h.$1=s=a,q.start&&q.start(a)}}));return{dispose:function(){s&&s.unsubscribe()}}};var i=j(a.__relayContext);g=(g=a.__rootIsQueryRenderer)!=null?g:!1;h.$1=null;g=m(i,f,c,a,g);h.state={data:g.resolve(),localVariables:null,prevProps:a,prevPropsContext:i,contextForChildren:i,relayProp:t(i.environment,h.$4),resolver:g};h.$3=!1;return h}var i=g.prototype;i.componentDidMount=function(){this.$3=!1,this.$5()};i.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe(),this.$5()):this.$6()};g.getDerivedStateFromProps=function(a,d){var e,g=d.prevProps,i=j(a.__relayContext);e=(e=a.__rootIsQueryRenderer)!=null?e:!1;var k=o(c,g),l=o(c,a);g=b("react-relay/getRootVariablesForFragments")(c,g);var n=b("react-relay/getRootVariablesForFragments")(c,a),p=d.resolver;if(d.prevPropsContext.environment!==i.environment||!(h||(h=b("areEqual")))(g,n)||!(h||(h=b("areEqual")))(k,l)){p=m(i,f,c,a,e);return{data:p.resolve(),localVariables:null,prevProps:a,prevPropsContext:i,contextForChildren:i,relayProp:t(i.environment,d.relayProp.refetch),resolver:p}}else d.localVariables||p.setProps(a);g=p.resolve();return g!==d.data?{data:g,prevProps:a}:null};i.componentWillUnmount=function(){this.$3=!0,this.state.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe()};i.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(this.state.prevPropsContext.environment!==b.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!r(a[f],this.props[f]))return!0}return!1};i.$6=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};i.$5=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$7);b!==c&&this.setState({data:c})};i.$8=function(){return q(c,this.props)};i.$9=function(){this.$2||(this.$2=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$2};i.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext","__rootIsQueryRenderer"]);var e=this.state,f=e.relayProp;e=e.contextForChildren;return k.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:k.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:f}))})};return g}(k.Component),e.displayName=f,e}function t(a,b){return{environment:a,refetch:b}}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return s(a,b,d)})}e.exports={createContainer:a}}),null);
__d("RelayModern",["RelayFBEnvironmentDefinitions","RelayFBMutations","RelayFBSubscription","configureRelayForWWW","enqueueMutation","react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironment;c=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;d=b("enqueueMutation").enqueueMutation;var g=(f=b("relay-runtime")).fetchQuery_DEPRECATED;b("configureRelayForWWW")();var h=b("RelayFBSubscription").addFBisms(f.requestSubscription);e.exports={ConnectionHandler:f.ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:f.MutationTypes,RangeOperations:f.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:f.applyOptimisticMutation,commitLocalUpdate:f.commitLocalUpdate,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:f.fetchQuery_DEPRECATED,graphql:f.graphql,readInlineData:f.readInlineData,commitMutation:b("RelayFBMutations").addFBisms(f.commitMutation),enqueueMutation:b("RelayFBMutations").addFBisms(d),requestSubscription:h,createEnvironment:a,createEnvironmentFactory:c,fetchQuery:g}}),null);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}f["default"]=a}),66);
__d("react-relay",["react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","react-relay/relay-hooks/EntryPointContainer.react","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/RelayEnvironmentProvider","react-relay/relay-hooks/loadEntryPoint","react-relay/relay-hooks/loadQuery","react-relay/relay-hooks/useClientQuery","react-relay/relay-hooks/useEntryPointLoader","react-relay/relay-hooks/useFragment","react-relay/relay-hooks/useLazyLoadQuery","react-relay/relay-hooks/useMutation","react-relay/relay-hooks/usePaginationFragment","react-relay/relay-hooks/usePrefetchableForwardPaginationFragment","react-relay/relay-hooks/usePreloadedQuery","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRefetchableFragment","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useSubscribeToInvalidationState","react-relay/relay-hooks/useSubscription","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("react-relay/relay-hooks/loadQuery").loadQuery;e.exports={ConnectionHandler:(c=b("relay-runtime")).ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:c.MutationTypes,RangeOperations:c.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:c.applyOptimisticMutation,commitLocalUpdate:c.commitLocalUpdate,commitMutation:c.commitMutation,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:c.fetchQuery_DEPRECATED,graphql:c.graphql,readInlineData:c.readInlineData,requestSubscription:c.requestSubscription,EntryPointContainer:b("react-relay/relay-hooks/EntryPointContainer.react"),RelayEnvironmentProvider:b("react-relay/relay-hooks/RelayEnvironmentProvider"),ProfilerContext:b("react-relay/relay-hooks/ProfilerContext"),fetchQuery:c.fetchQuery,loadQuery:a,loadEntryPoint:b("react-relay/relay-hooks/loadEntryPoint"),useClientQuery:b("react-relay/relay-hooks/useClientQuery"),useFragment:b("react-relay/relay-hooks/useFragment"),useLazyLoadQuery:b("react-relay/relay-hooks/useLazyLoadQuery"),useEntryPointLoader:b("react-relay/relay-hooks/useEntryPointLoader"),useQueryLoader:b("react-relay/relay-hooks/useQueryLoader"),useMutation:b("react-relay/relay-hooks/useMutation"),usePaginationFragment:b("react-relay/relay-hooks/usePaginationFragment"),usePreloadedQuery:b("react-relay/relay-hooks/usePreloadedQuery"),useRefetchableFragment:b("react-relay/relay-hooks/useRefetchableFragment"),usePrefetchableForwardPaginationFragment:b("react-relay/relay-hooks/usePrefetchableForwardPaginationFragment"),useRelayEnvironment:b("react-relay/relay-hooks/useRelayEnvironment"),useSubscribeToInvalidationState:b("react-relay/relay-hooks/useSubscribeToInvalidationState"),useSubscription:b("react-relay/relay-hooks/useSubscription")}}),null);/*FB_PKG_DELIM*/
__d("LSDeleteMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[1]]],"messageId"]),function(c){return c.messageId===a[1]&&b.i64.eq(c.threadKey,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSFeatureLimitsType",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONLY:1,GENERIC_READ_ONLY_BLOCK:2,MESSAGE_SEND:4,MESSENGER_ONLY_ACCOUNTS_READ_ONLY_BLOCK:8,MESSAGE_SEND_PRIVATE:16,MESSAGE_SEND_PUBLIC:32,MESSAGE_SEND_FROM_PAGE:64,COMMERCE_MESSAGE_SEND:128,PAGE_MESSAGING:256,APPEALABLE_MESSAGE_SEND:512,SCREEN_CAPTURE_VIDEO_CALL:1024});f["default"]=a}),66);
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:c.i64.cast([0,20])})},function(d){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],void 0,!1,c.i64.eq(a[5],c.i64.cast([0,1]))||c.i64.eq(a[5],c.i64.cast([0,15])))}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxInsertOptimisticAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSIssueNewTaskWithExtraOperationsAndGetTaskID",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[11]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsAndGetTaskIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3,NONE:4,CREATOR_MESSAGING_BIIM:5,CREATOR_MESSAGING_FBM:6,CREATOR_MESSAGING_MBS_WEB:7});f["default"]=a}),66);
__d("LSPredefineTraceForTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(2).fetch([[[a[1]]]]),function(b){var d=b.update;b.item;return d({dataTraceId:a[0],initTraceTimestampMs:c[0]})})},function(d){return b.db.table(153).add({traceId:a[0],initTimestampMs:c[0],foregroundTimestampMs:b.i64.cast([0,0]),traceType:b.i64.cast([0,1]),shouldFlush:!1,contextOne:a[2],contextTwo:b.i64.to_string(a[1]),predefinedId:a[3]})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSDataTracePredefineTraceForTaskStoredProcedure";a.__tables__=["pending_tasks","data_trace_meta"];e.exports=a}),null);
__d("LSSetPinnedMessage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("pinned_message_state",a[3]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"set_pinned_message_search",c.i64.cast([0,751]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.db.table(205).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(b){return c.forEach(c.filter(c.db.table(205).fetch([[[a[0],a[1],a[2]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]&&c.i64.eq(b.pinnedTimestampMs,a[2])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(205).add({threadKey:a[0],messageId:a[1],pinnedTimestampMs:a[2],authorityLevel:c.i64.cast([0,80])})}]):c.forEach(c.db.table(205).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSetPinnedMessageStoredProcedure";a.__tables__=["msg_pinned_messages_v2"];e.exports=a}),null);
__d("LSShimThreadPinMessage.nop",["FBLogger","I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;a=async function(a,b,e,f,g){if(g==null){c("FBLogger")("messenger_web_pinned_messages").warn("threadKey is null in LSShimThreadPinMessage");return}b=await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.client_web_pinned_messages).getKeyRange(g,e));await Promise.all(b.map(function(b){return a.client_web_pinned_messages.delete(b.threadKey,b.offlineThreadingId,b.pinnedTimestampMs)}));await a.client_web_pinned_messages.put({offlineThreadingId:e,pinnedTimestampMs:f!=null?f:(h||(h=d("I64"))).of_float(Date.now()),threadKey:g})};a.__nop_name__="LSShimThreadPinMessage";g.default=a}),98);
__d("LSShimThreadUnpinMessage.nop",["FBLogger","ReQL"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,e,f){if(f==null){c("FBLogger")("messenger_web_pinned_messages").warn("threadKey is null in LSShimThreadUnpinMessage");return}b=await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.client_web_pinned_messages).getKeyRange(f,e));await Promise.all(b.map(function(b){return a.client_web_pinned_messages.delete(b.threadKey,b.offlineThreadingId,b.pinnedTimestampMs)}))};a.__nop_name__="LSShimThreadUnpinMessage";g.default=a}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743853");b=d("FalcoLoggerInternal").create("ls_message_click",a);e=b;g["default"]=e}),98);
__d("MAWDownloadMediaInWorker",["I64","LSAuthorityLevel","LSIntEnum","LSXmaContentType","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","MAWMediaDownloadStatus","WAHashUtils","cr:17329","justknobx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.attachment,d=a.dbPromise,e=a.dispatch,f=a.downloadType,g=a.mediaRenderQpl;a=a.triggerUIView;if(n(b))return;k({attachment:c("nullthrows")(b),dbPromise:d,dispatch:e,downloadType:f,mediaRenderQpl:g,triggerUIView:a})}function e(a){var b=a.attachment,c=a.dbPromise,d=a.dispatch,e=a.downloadType,f=a.mediaRenderQpl,g=a.plaintextHash,h=a.triggerUIView;a=a.xmaMediaType;if(n(b)||g==null)return;j({dbPromise:c,dispatch:d,downloadType:e,mediaRenderQpl:f,plaintextHash:g,triggerUIView:h,xmaMediaType:a})}function j(a){var d=a.dbPromise,e=a.dispatch,f=a.downloadType,g=a.mediaRenderQpl,h=a.plaintextHash,i=a.triggerUIView;a=a.xmaMediaType;g==null?void 0:g.addPoint("download_media_in_worker_start",{bool:{using_plaintext_hash:!0}});b("cr:17329")==null?e({tag:"SetMediaDownloadStatusState",value:{key:h,newMediaDownloadState:null}}):b("cr:17329").call(d,h,{mainMediaStatus:c("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"download-media-in-worker-with-plaintext-hash",previewMediaStatus:c("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"download-media-in-worker-with-plaintext-hash"});e={downloadType:f,plaintextHash:h,triggerUIView:i,type:"plaintextHash",xmaMediaType:a};l(e,g)}function k(a){var e=a.attachment,f=a.dbPromise,g=a.dispatch,h=a.downloadType,i=a.mediaRenderQpl;a=a.triggerUIView;i==null?void 0:i.addPoint("download_media_in_worker_start");var j=isNaN(e.attachmentFbid)?d("WAHashUtils").stringToPlaintextHash(e.attachmentFbid):d("MAWDbMedia").convertNumberToMediaId(parseInt(e.attachmentFbid,10));b("cr:17329")==null?g({tag:"SetMediaDownloadStatusState",value:{key:j,newMediaDownloadState:null}}):b("cr:17329").call(f,j.toString(),{mainMediaStatus:c("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"download-media-in-worker",previewMediaStatus:c("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"download-media-in-worker"});g=o(e,a,h);l(g,i)}function l(a,b){c("justknobx")._("3243")?void d("MAWBridgeFireAndForget").fireAndForget("backend","downloadMediaForUI",a):void d("MAWBridgeSendAndReceive").sendAndReceive("backend","downloadMediaForUI",a).then(function(a){if(a.success){b==null?void 0:b.addPoint("download_media_in_worker_end");return}b==null?void 0:b.addPoint("download_media_in_worker_fail",{string:{download_media_in_worker_fail_reason:(a=a.error)!=null?a:"unknown"}})})["catch"](function(a){b==null?void 0:b.addPoint("download_media_in_worker_fail",{string:{download_media_in_worker_fail_reason:(a=a.name)!=null?a:"unknown"}})})}function f(a){var b=a.attachmentsWithQpl,c=a.dbPromise,d=a.dispatch,e=a.downloadType;a=a.triggerUIView;b=b.filter(function(a){return!n(a.attachment)});m({attachmentsWithQpl:b,dbPromise:c,dispatch:d,downloadType:e,triggerUIView:a})}function m(a){var e=a.attachmentsWithQpl,f=a.dbPromise,g=a.dispatch,h=a.downloadType,i=a.triggerUIView;a=e.map(function(a){var e=a.attachment;a=a.mediaRenderQpl;a==null?void 0:a.addPoint("download_media_in_worker_start");a=isNaN(e.attachmentFbid)?d("WAHashUtils").stringToPlaintextHash(e.attachmentFbid):d("MAWDbMedia").convertNumberToMediaId(parseInt(e.attachmentFbid,10));b("cr:17329")==null?g({tag:"SetMediaDownloadStatusState",value:{key:a,newMediaDownloadState:null}}):b("cr:17329").call(f,a.toString(),{mainMediaStatus:c("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"bulk-download-media-in-worker",previewMediaStatus:c("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"bulnk-download-media-in-worker"});return o(e,i,h)});if(c("justknobx")._("3243"))void d("MAWBridgeFireAndForget").fireAndForget("backend","bulkDownloadMediaForUI",{media:a});else{var j=new Map(e.map(function(a){var b=a.attachment;a=a.mediaRenderQpl;return[b.attachmentFbid,a]}));void d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkDownloadMediaForUI",{media:a}).then(function(a){a.forEach(function(a){var b=a.arg;a=a.result;b=b.type==="xmaId"?String(b.xmaId):b.type==="mediaId"?String(b.mediaId):b.plaintextHash;b=j.get(b);if(a.success){b==null?void 0:b.addPoint("download_media_in_worker_end");return}b==null?void 0:b.addPoint("download_media_in_worker_fail",{string:{download_media_in_worker_fail_reason:(b=a.error)!=null?b:"unknown"}})})})["catch"](function(a){e.forEach(function(b){(b=b.mediaRenderQpl)==null?void 0:b.addPoint("download_media_in_worker_fail",{string:{download_media_in_worker_fail_reason:(b=a.name)!=null?b:"unknown"}})})})}}function n(a){return a==null||(h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))||(a==null?void 0:a.hasXma)===!0&&(a==null?void 0:a.xmaContentType)!=null&&(h||(h=d("I64"))).equal(a.xmaContentType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH))||(a==null?void 0:a.hasXma)===!0&&(a==null?void 0:a.hasXmaPreview)!==!0||a.receiverFetchId!=null}function o(a,b,c){var e=a.attachmentFbid,f=a.hasXma;return f?{triggerUIView:b,type:"xmaId",xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(a.attachmentFbid,10))}:{downloadType:c,plaintextHash:d("WAHashUtils").stringToPlaintextHash(e),triggerUIView:b,type:"plaintextHash"}}g.maybeDownloadMediaInWorker=a;g.maybeDownloadMediaInWorkerWithPlaintextHash=e;g.downloadMediaInWorkerWithPlaintextHash=j;g.downloadMediaInWorker=k;g.maybeBulkDownloadMediaInWorker=f}),98);
__d("MWChatForwardDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29676447045302300"}),null);
__d("MWChatMessageBothOrientationFocusGroup.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusGroup.react","emptyFunction","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);e=b[0];f=b[1];b={key:c("CometKeys").UP};var k={key:c("CometKeys").DOWN},l={key:c("CometKeys").LEFT},m={key:c("CometKeys").RIGHT},n=[{command:b,description:h._(/*BTDS*/"Previous item"),handler:c("emptyFunction")},{command:k,description:h._(/*BTDS*/"Next item"),handler:c("emptyFunction")},{command:l,description:h._(/*BTDS*/"Next item"),handler:c("emptyFunction")},{command:m,description:h._(/*BTDS*/"Previous item"),handler:c("emptyFunction")}];function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:n,xstyle:!1,children:a}),b[0]=a,b[1]=e):e=b[1];return e}b=a;g.FocusGroup=e;g.FocusGroupItem=f;g.keyCommands=b}),226);
__d("MWChatMessageId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a.type==="sent")return a.value.messageId}function b(a){if(a.type==="sent")return a.value.threadId}function c(a){if(a.type==="sent")return a.value.timestamp}function e(a,b,c){return{type:"sent",value:{messageId:b,threadId:(h||(h=d("I64"))).of_string(a),timestamp:h.of_string(c)}}}function f(a){return{type:"sent",value:{messageId:a,threadId:(h||(h=d("I64"))).zero,timestamp:h.zero}}}var i={type:"sent",value:{messageId:"",threadId:(h||(h=d("I64"))).zero,timestamp:h.zero}};g.getMessageId=a;g.getThreadId=b;g.getTimestamp=c;g.makeSent=e;g.emptyForExamplesWithId=f;g.emptyForExamples=i}),98);
__d("MlsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1401");b=d("FalcoLoggerInternal").create("mls_message_action",a);e=b;g["default"]=e}),98);
__d("MWLogMessageAction",["I64","MWLSContactTypeExactUtils","MlsMessageActionFalcoEvent","ReQL","coerceMessagingThreadTypeToLSThreadType"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e,f,g,i,j,k,l,m,n){var o,p=await (o=d("ReQL")).firstAsync(o.fromTableAscending(a.tables.threads).getKeyRange(e)),q=await o.toArrayAsync(o.fromTableAscending(a.tables.participants).getKeyRange(e)),r=await o.firstAsync(o.mergeJoin(o.fromTableAscending(a.tables.participants).getKeyRange(e),o.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1].contactTypeExact;return d("MWLSContactTypeExactUtils").isIgContact(a)}))!=null;p!=null&&c("MlsMessageActionFalcoEvent").log(function(){var a;return{action:g,browser_window_height:window.innerHeight,browser_window_width:window.innerWidth,device_screen_height:window.screen.height,device_screen_width:window.screen.width,error_text:j,extra:i,group_size:String(q.length),is_xac_thread:r,ls_thread_type:c("coerceMessagingThreadTypeToLSThreadType")(p.threadType),message_type:(a=m)!=null?a:"text",mid:b,reaction:k,recipient_id:l!=null?(h||(h=d("I64"))).to_string(l):void 0,sender_id:(h||(h=d("I64"))).to_string(n),source:f,thread_id:h.to_string(e)}})}b={log:a};g.default=b}),98);
__d("MWPFeatureLimitedData",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","ServerTime","gkx","react-compiler-runtime","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=[(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").READ_ONLY),i.ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),i.ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)];function l(a){for(var b of k)if((j||(j=d("I64"))).equal(b,a.type_))return!0;return!1}function m(a,b){return(j||(j=d("I64"))).equal((i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC),a.type_)&&d("LSMessagingThreadTypeUtil").isPublicCMThread(b)&&c("gkx")("26351")}function n(a,b){return(j||(j=d("I64"))).equal((i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE),a.type_)&&d("LSMessagingThreadTypeUtil").isPrivateThread(b)}var o=function(a){var b=(j||(j=d("I64"))).of_float(d("ServerTime").getMillis()/1e3);return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return l(a)&&(j||(j=d("I64"))).gt(a.expirationTimestampSeconds,b)})};function p(a,b){var e=d("react-compiler-runtime").c(8),f=(j||(j=d("I64"))).of_float(c("useServerTime")().valueOf()/1e3),g;e[0]!==f||e[1]!==a.tables.feature_limits||e[2]!==b?(g=function(){return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return(b!=null?l(a)||m(a,b)||n(a,b):l(a))&&(j||(j=d("I64"))).gt(a.expirationTimestampSeconds,f)})},e[0]=f,e[1]=a.tables.feature_limits,e[2]=b,e[3]=g):g=e[3];var h;e[4]!==f||e[5]!==a||e[6]!==b?(h=[f,a,b],e[4]=f,e[5]=a,e[6]=b,e[7]=h):h=e[7];return d("Int64Hooks").useMemoInt64(g,h)}function a(){var a=d("react-compiler-runtime").c(3),b=(h||(h=c("useReStore")))(),e,g;a[0]!==b?(e=function(){return o(b)},g=[b],a[0]=b,a[1]=e,a[2]=g):(e=a[1],g=a[2]);return d("ReQLSuspense").useFirst(e,g,f.id+":127")}function b(a){var b=d("react-compiler-runtime").c(3),e=(h||(h=c("useReStore")))(),g=p(e,a);b[0]!==g?(e=function(){return g},a=[g],b[0]=g,b[1]=e,b[2]=a):(e=b[1],a=b[2]);return d("ReQLSuspense").useFirst(e,a,f.id+":136")}g.readonlyFeatureLimitQuery=o;g.useReadOnlyFeatureLimitData=a;g.useReadOnlyFeatureLimitDataWithThreadType=b}),98);
__d("MWV2LogMessageClick",["I64","LSMessagingThreadTypeUtil","Promise","ReQL","UserAgentData","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick");function a(a,e,f,g){var k=e.threadKey;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(k)).then(function(a){a!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&j.onReady(function(a){a.log(function(){var a;return{click:{category:2},click_target:{type:f},extra:JSON.stringify({action:(a=g)!=null?a:void 0,browserName:c("UserAgentData").browserName}),message:{id:e.messageId,sender_id:void 0,sent_time:(i||(i=d("I64"))).to_float(e.timestampMs)},thread:{id:i.to_string(e.threadKey),key:void 0,type:void 0},xma:void 0}})});return(h||(h=b("Promise"))).resolve()}))}g.log=a}),98);
__d("MWV2MessageRowIsRowFocusedContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.createContext;var j=e.useContext;e={isDialogOpened:!1,setFocused:c("emptyFunction"),setIsDialogOpened:c("emptyFunction")};var k=f(e);function a(){return j(k)}function b(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.value;var e=k.Provider;b[0]!==c||b[1]!==a?(e=i.jsx(e,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g.context=k;g.useMWV2MessageRowIsRowFocusedContext=a;g.MWV2MessageRowIsRowFocusedContextProvider=b}),98);
__d("MessageRequestsBulkActionConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("256");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_confirmed",a);e=b;g["default"]=e}),98);
__d("MessageRequestsBulkActionEditFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2614");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_edit",a);e=b;g["default"]=e}),98);
__d("MessageRequestsBulkActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("257");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsInfoBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("258");b=d("FalcoLoggerInternal").create("message_requests_info_banner_shown",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadActionConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("259");b=d("FalcoLoggerInternal").create("message_requests_thread_action_confirmed",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("260");b=d("FalcoLoggerInternal").create("message_requests_thread_action_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadDenialOptionsTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("261");b=d("FalcoLoggerInternal").create("message_requests_thread_denial_options_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsViewThreadlistFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("263");b=d("FalcoLoggerInternal").create("message_requests_view_threadlist",a);e=b;g["default"]=e}),98);
__d("MessengerDiscoverableChatClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1254");b=d("FalcoLoggerInternal").create("messenger_discoverable_chat_client_events",a);e=b;g["default"]=e}),98);
__d("MetaBrandExclamationTriangleFilled24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.203 2.088a2.028 2.028 0 0 1 3.594 0l8.956 16.86C23.486 20.326 22.5 22 20.956 22H3.044c-1.545 0-2.53-1.673-1.797-3.053l8.956-16.859zm3.048 14.91c0 .6-.417 1-1.25 1-.834 0-1.25-.4-1.25-1s.416-1 1.25-1c.833 0 1.25.4 1.25 1zm-.375-8.125a.875.875 0 0 0-1.75 0v4.975a.875.875 0 1 0 1.75 0V8.873z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MwbCmInformTreatmentEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6736");b=d("FalcoLoggerInternal").create("mwb_cm_inform_treatment_event",a);e=b;g["default"]=e}),98);
__d("MwbInformTreatmentShownImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6735");b=d("FalcoLoggerInternal").create("mwb_inform_treatment_shown_impression",a);e=b;g["default"]=e}),98);
__d("OfflineThreadingId",["I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=d("XPlatReactCrypto").getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b;g.extractTimestamp=m}),98);
__d("ZenonUserActionLoggerCommon",["ZenonUserActionLogger"],(function(a,b,c,d,e,f,g){"use strict";g.logClick=c("ZenonUserActionLogger").logClick,g.logImpression=c("ZenonUserActionLogger").logImpression}),98);
__d("cdsPushToast",["BaseToasterStateManager","CDSIcon.react","MetaBrandExclamationTriangleFilled24.svg.react","basePushToast","deferredLoadComponent","getToastDurationFromTextLength","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("BaseToasterStateManager").getInstance(),k=c("deferredLoadComponent")(c("requireDeferred")("CDSToast.react").__setRef("cdsPushToast"));function l(a,b){var e=(b=b)!=null?b:j;if(d("basePushToast").passesNewToastAPIGK())if(d("basePushToast").isInteractiveToast(a)){var f=d("basePushToast").pushPersistentToast(i.jsx(k,babelHelpers["extends"]({},a,{loadImmediately:!0,onDismiss:function(){return e.expire(f)}})),e);return f}else{a.action;b=babelHelpers.objectWithoutPropertiesLoose(a,["action"]);b=babelHelpers["extends"]({withoutCloseButton:!0},b);var g=d("basePushToast").pushAlertToast(babelHelpers["extends"]({},b),i.jsx(k,babelHelpers["extends"]({},b,{loadImmediately:!0,onDismiss:function(){return e.expire(g)}})),e);return g}else{b=c("getToastDurationFromTextLength")(a.message.toString());var h=e.push(i.jsx(k,babelHelpers["extends"]({},a,{loadImmediately:!0,onDismiss:function(){return e.expire(h)}})),b);return h}}function a(a){return l({message:a})}function b(a,b){return l(babelHelpers["extends"]({},a,{addOnStart:i.jsx(c("CDSIcon.react"),{icon:c("MetaBrandExclamationTriangleFilled24.svg.react"),size:24})}),b)}function e(a,b){var c=(b=b)!=null?b:j,d=c.push(i.jsx(k,babelHelpers["extends"]({},a,{loadImmediately:!0,onDismiss:function(){return c.expire(d)}})),Infinity);return d}g.pushToast=l;g.pushSimpleToast=a;g.pushErrorToast=b;g.pushPersistentToast=e}),98);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(g||(g=b("Promise")))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}f["default"]=a}),66);
__d("genIsNonAnimatedWebPFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";var h=8;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(12,16).reduce(function(a,b,c){return a+String.fromCharCode(b)},"");if(b==="VP8X"){b=a[20];b=b.toString(2).padStart(8,"0");if(b[6]==="1")return!i(a)}return!0})}function i(a){var b=12,c=0;while(c<2&&b+h<a.length){var d=j(a,b);d==="ANMF"&&c++;d=k(a,b+4);var e=d%2;d=h+d+e;b+=d}return c>1}function j(a,b){return a.slice(b,b+4).reduce(function(a,b,c){return a+String.fromCharCode(b)},"")}function k(a,b){return parseInt(a.slice(b,b+4).reduce(function(a,b,c){return b.toString(2).padStart(8,"0")+a},""),2)}g["default"]=a}),98);
__d("getFBTSafeGenderFromGenderConst",["GenderConst","IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("GenderConst").MALE_SINGULAR:return c("IntlVariations").GENDER_MALE;case c("GenderConst").FEMALE_SINGULAR:return c("IntlVariations").GENDER_FEMALE;default:return c("IntlVariations").GENDER_UNKNOWN}}g["default"]=a}),98);
__d("handleMWV2NoMessageOrTurn",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("FBLogger")("gen_ai_feedback_actions").mustfix("Either message or turn must be provided")}g["default"]=a}),98);
__d("isEbEnabledWithIGDEligibilityCheck",["EBIsEbEnabled","Promise","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return!c("gkx")("23914")?(h||(h=b("Promise"))).resolve(!1):d("EBIsEbEnabled").isEbEnabledLS(a.tables)}g.isEbEnabledWithIGDEligibilityCheck=a}),98);
__d("isFeatureLimitEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("588")===!0}g["default"]=a}),98);
__d("useGenAiFeedbackSubmittedToast",["fbt","cdsPushToast","handleMWV2NoMessageOrTurn","react","react-compiler-runtime","useMWXPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(2),f=c("useMWXPushToast")(),g=j,i;a?i=f:b?i=g:c("handleMWV2NoMessageOrTurn")();e[0]!==i?(a=function(){i&&i({title:h._(/*BTDS*/"Feedback has been submitted")})},e[0]=i,e[1]=a):a=e[1];i;return a}function j(a){a=a.title;d("cdsPushToast").pushToast({message:a})}g["default"]=a}),226);
__d("useIsMultiReactionEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","ReQL","ReQLSuspense","isUnjoinedCMThread","mwCMIsAnyCMThread","react-compiler-runtime","useIsChatPreviewsEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),g=d("MWLSThread").useThread(a,i),j,k;b[0]!==e||b[1]!==g?(j=function(){return g!=null?d("ReQL").fromTableAscending(e.tables.community_folders).getKeyRange(g):d("ReQL").empty()},k=[e,g],b[0]=e,b[1]=g,b[2]=j,b[3]=k):(j=b[2],k=b[3]);var l=d("ReQLSuspense").useFirst(j,k,f.id+":28");return(b=d("MWLSThread").useThread(a,function(a){if(d("isUnjoinedCMThread").isUnjoinedCMThread(a.threadType))return d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,l==null?void 0:l.communityType);if(!d("LSThreadBitOffset").has(156,a))return!1;if(c("mwCMIsAnyCMThread")(a.threadType))return!0;if(d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType))return!0}))!=null?b:!1}function i(a){return a.parentThreadKey}g.useIsMultiReactEnabled=a}),98);
__d("useIsReactionsV2Enabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWLSThread","ReQL","ReQLSuspense","react-compiler-runtime","useIsChatPreviewsEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),g=d("MWLSThread").useThread(a,i),k,l;b[0]!==e||b[1]!==g?(k=function(){return g!=null?d("ReQL").fromTableAscending(e.tables.community_folders).getKeyRange(g):d("ReQL").empty()},l=[e,g],b[0]=e,b[1]=g,b[2]=k,b[3]=l):(k=b[2],l=b[3]);var m=d("ReQLSuspense").useFirst(k,l,f.id+":34");return(b=d("MWLSThread").useThread(a,function(a){return j(a,m==null?void 0:m.communityType)}))!=null?b:!1}function i(a){return a.parentThreadKey}function j(a,b){if(d("LSMessagingThreadTypeUtil").isOpenFnFThread(a)&&!d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype))return!1;if(d("LSThreadBitOffset").has(139,a))return!0;a=d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,b);return a?!0:!1}function b(a,b){var c=d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)||d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType);a=d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,b);return c||a}g.useIsReactionsV2Enabled=a;g.isReactionsV2Enabled=j;g.isReactionsV2ReadOnly=b}),98);
__d("useIsReadOnlyFeatureLimitedWithThreadType",["MWPFeatureLimitedData","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(a);if(a!=null)return c("gkx")("24070");else return!1}g["default"]=a}),98);
__d("useMAWMediaDownloadStatusUIState",["react","react-compiler-runtime","useMAWBulkMediaDownloadStatusUIState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(4);if(f[0]!==a||f[1]!==e||f[2]!==b){var g;g=a!=null?[{attachment:a,mediaRenderQpl:b,statusKey:(g=e)!=null?g:a.attachmentFbid}]:[];f[0]=a;f[1]=e;f[2]=b;f[3]=g}else g=f[3];a=g;e=a;b=c("useMAWBulkMediaDownloadStatusUIState")(e);return b.length>0?b[0]:null}g["default"]=a}),98);
__d("useMAWMediaStatusUIState",["react-compiler-runtime","useMAWMediaDownloadStatusUIState","useMAWMediaValidationResultState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("react-compiler-runtime").c(3),g=c("useMAWMediaDownloadStatusUIState")(a,b,e);a=c("useMAWMediaValidationResultState")(a,b,e);f[0]!==g||f[1]!==a?(b={downloadStatus:g,validationResult:a},f[0]=g,f[1]=a,f[2]=b):b=f[2];return b}g["default"]=a}),98);
__d("useMWGetOtherUserContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a,b,e){var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),l=(i||(i=d("I64"))).equal(j,a),m=k(function(){return e},[].concat(e));return d("ReQLSuspense").useFirst(function(){return!d("LSMessagingThreadTypeUtil").isOneToOne(b)?d("ReQL").empty():d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.tables.participants,["contactId"]).getKeyRange(a),d("ReQL").fromTableAscending(g.tables.contacts,e)).filter(function(a){var b=a[0];a[1];return l||!(i||(i=d("I64"))).equal(b.contactId,j)}).map(function(a){a[0];a=a[1];return a})},[b,g,a,l,j,m],f.id+":35")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BizKitRelayEnvironmentFactory",["cr:9515"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9515")}),98);
__d("BizKitScopingContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({assets:[],globalScope:null,setAssets:c("emptyFunction"),setGlobalScope:c("emptyFunction")});b.displayName="BizKitScopingContext";e=b;g["default"]=e}),98);
__d("BusinessAssetTypeEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ADS_EVENT_SOURCE","ADVANCED_ANALYTICS_INSTANCE","AD_ACCOUNT","AD_ACCOUNT_CREATION_REQUEST","AD_DRAFT_WORKSPACE","AD_IMAGE","AD_STUDY","APP","BANK","BLOCK_LIST","BRAND","BUSINESS_CREATIVE_ASSET","BUSINESS_CREATIVE_FOLDER","BUSINESS_FRANCHISE_CONFIG","BUSINESS_IMAGE","BUSINESS_LOCATIONS_WRAPPER","BUSINESS_LOYALTY_PROGRAM","BUSINESS_PAYOUT_ACCOUNT","BUSINESS_PERSON","BUSINESS_REQUEST","BUSINESS_RESOURCE_GROUP","BUSINESS_UNIT","BUSINESS_VIDEO","CAIPT_ASSET","CLOUD_PLAYABLE_ASSET","CONTENT_BLOCK_LIST","CREATOR_MARKETPLACE_BRAND_PROFILE","CREATOR_SELLER_PROFILE","CREDENTIAL_SHARE_REQUEST","CREDIT_CARD","CREDIT_PARTITION","CREDIT_PARTITION_CONFIG","CUSTOM_AUDIENCE","CUSTOM_CONVERSION","DYNAMIC_CONTENT_SET","EVENTS_DATASET","EVENTS_DATASET_AND_PIXEL","EVENTS_DATASET_NEW","EVENT_SOURCE_GROUP","EXAMPLE_CAT","FINANCE","FUNDING_SOURCE","GRP_PLAN","HOTEL_PRICE_FETCHER_PULL_CONFIG","INSTAGRAM_ACCOUNT","INSTAGRAM_ACCOUNT_V2","INSTAGRAM_BUSINESS_ASSET","IP","LEADS_ACCESS","LEGACY_LOGIN","LEGAL_ENTITY","MARKETPLACE_PARTNER_BILLABLE_ACCOUNT","MESSAGING_DATASET","MONETIZATION_PROPERTY","MV4B_BILLABLE_ACCOUNT","NEWS_PAGE","NME_BUSINESS_SUBSCRIPTION_ASSET","OFFLINE_CONVERSION_DATA_SET","OFFSITE_EMAIL_ACCOUNT","OWNED_DOMAIN","PAGE","PAGE_FOR_LOCATIONS","PAYOUT_ACCOUNT","PHOTO","PIXEL","PLACE_PAGE_SET","PLATFORM_CUSTOM_AUDIENCE","PRODUCT_CATALOG","PROFILE_PLUS","PROJECT","PUBLISHER_WHITE_LIST","RECEIPT","REGISTERED_TRADEMARK","RESELLER_VETTING_OE_REQUEST","SAVED_AUDIENCE","SELLER_PROFILE","SIGNALS_EVENT_NAME","SIGNAL_SEGMENT","SLICED_EVENT_SOURCE_GROUP","SPACO_DS_DATA_COLLECTION","SYSTEM_USER","UNKNOWN","USER","VIDEO_ASSET","WHATSAPP_BUSINESS_ACCOUNT","WHATSAPP_MARKETING_MESSAGE_SUBSCRIBER_POOL"]);c=a;f["default"]=c}),66);
__d("BusinessCometRelayEnvironmentFactory",["cr:9829"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9829")}),98);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});var g=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,E2eeStateP2PSFrameExpStatus:g,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("FDSArrowsCircleFilled24Icon",["cr:14428"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14428")}),98);
__d("FDSArrowsCircleFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("538038"),24);b=a;g["default"]=b}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJID",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("wa_jid"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,1021]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithGroupJID","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSThreadPointQueryAndRestoreMessagesWithGroupJID"),e.waJid);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeUploadMessageGQLHandlerSingleTxn",["EBIsEbEnabled","EncryptedBackupsWriteToMPSTables","MAWBridgeGQLUploadUtils","MAWEBFalcoLoggerUtils","MAWEBFrontendQPLLogger","MWEBODSCategory","MWEBODSEntityName.enum","MWEBODSUtils","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","ODS","WAErrorMessage","WAResultOrError","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){try{if(c("isInstamadilloEB")()){d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_cancelled_instamadillo");b.forEach(function(a){var b=a.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskFailure(a,b,"gql_cancelled_instamadillo")});return d("WAResultOrError").makeError("gql_cancelled_instamadillo")}d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_single_txn_start");var e="mps_write_failure",g=await a.runInTransaction(async function(f){if(!await d("EBIsEbEnabled").isEbEnabledLS(a.tables)){b.forEach(function(a){if(a.uploadTrackingInstanceKey!=null){var b,e=a.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e,"user_device_not_enrolled_invalid_gql_request");var f=d("MWEBUseLocalStorage").mwEBGetIsLocalStorageEntryValuePresent(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b=(b=d("MWEBUseLocalStorage").mwEBGetLocalStorageEntryValue(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE))!=null?b:"no";f={bool:{wasEBEnabledPreviously:f},string:{wasEBSMWiped:b}};b=a.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskSkipped(a,b,"user_device_not_enrolled");d("MAWEBFrontendQPLLogger").endEBUploadTracking(e,f)}});var g=[];e="user_device_not_enrolled";return g}else{d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_mps_write_start");g=await i(f,b);d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_mps_write_end");return g}},"readwrite",void 0,void 0,f.id+":84");g=g.filter(Boolean);if(g.length===0)return d("WAResultOrError").makeError(e);(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,"graphql.batch.size."+g.length);h.bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,"graphql.batch.bucket"+d("MWEBODSUtils").getBucketName(g.length));d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_upload_start");g.forEach(function(a){var b=a.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskIssued(a,b)});var j=await d("MAWBridgeGQLUploadUtils").uploadMessageOverGQL(a,g);d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_single_txn_end");!j.success?g.forEach(function(a){var b=a.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskFailure(a,b,j.error)}):g.forEach(function(a){d("MAWEBFalcoLoggerUtils").logEBFalcoEncryptedBackupUploadSuccess(a)});return j}catch(a){b.forEach(function(b){var c=b.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskFailure(b,c,d("WAErrorMessage").maybeGetMessageFromError(a));b.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").failEBUploadTracking(b.uploadTrackingInstanceKey,"gql_upload_runtime_error",a instanceof Error?{string:{runtime_error:a.message}}:void 0)});return d("WAResultOrError").makeError("gql_upload_runtime_error")}}async function i(a,b){b=b.map(async function(b){var c=b.protoMsg,e=b.uploadTrackingInstanceKey!=null?d("MAWEBFrontendQPLLogger").makeEBFrontendQplFlowFromInstanceKey(b.uploadTrackingInstanceKey):null;if(c!=null){c=c.backupActionType===1?Promise.all([d("EncryptedBackupsWriteToMPSTables").writeToMPSTables(a,c,b.threadId,!1,e),d("EncryptedBackupsWriteToMPSTables").writeTagsToMPSTables(a,c,b.threadId)]):d("EncryptedBackupsWriteToMPSTables").writeToMPSTables(a,c,b.threadId,!1,e);e=await c.then(function(){return b},function(a){b.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").failEBUploadTracking(b.uploadTrackingInstanceKey,"upload_tracking_gql_handler_failed_mps_write",{string:{error:d("WAErrorMessage").maybeGetMessageFromError(a),errorMsgType:b.messageType}});return null});return e}return b});b=await Promise.all(b);return b.filter(Boolean)}g.call=a}),98);
__d("MAWFTSRawStringMatcher",["JSResourceForInteraction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("WAFtsMultiLangTokenizer").__setRef("MAWFTSRawStringMatcher"),i=null;async function a(){i=await h.load();return k}function j(a){return new(c("nullthrows")(i))().tokenize(a)}function k(a,b){a=Array.from(j(a)).filter(function(a){return a.length>1});if(a.length===0)return!1;var c=Array.from(j(b));return a.every(function(a){return c.some(function(b){return b.startsWith(a)})})}g.load=a}),98);
__d("MDSIcon.react",["BaseTheme.react","Box.react","FDSIcon.react","SVGIcon","XPlatReactEnvironment","getMDSIconColorCometFallback","react","react-compiler-runtime","useMDSIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={iconBackground:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"x17zif9m",borderTopEndRadius:"xfjaqqx",borderBottomEndRadius:"x1il12k9",borderBottomStartRadius:"x32snf2",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},themeWrapper:{display:"xt0psk2",$$css:!0}},k={dark:{"secondary-button-background":"rgba(255, 255, 255, 0.14)"},light:{"secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"};function a(a){var b=d("react-compiler-runtime").c(19),e,f,g,h;b[0]!==a?(g=a.ref,h=a.backgroundEnabled,e=a.color,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref","backgroundEnabled","color"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);a=h===void 0?!1:h;h=c("useMDSIconColors")(!0);h=e!=null&&e!=="primary"?h[e]:void 0;var l;b[5]!==h?(l=h!=null?{dark:{"primary-icon":h},light:{"primary-icon":h},type:"VARIABLES"}:void 0,b[5]=h,b[6]=l):l=b[6];h=l;l=h;h=f.icon instanceof d("SVGIcon").SVGIcon;var m;b[7]!==e||b[8]!==h?(m=h?"primary":d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(e),b[7]=e,b[8]=h,b[9]=m):m=b[9];b[10]!==f||b[11]!==g||b[12]!==m?(e=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({color:m,ref:g},f)),b[10]=f,b[11]=g,b[12]=m,b[13]=e):e=b[13];h=e;if(l!=null){b[14]!==l||b[15]!==h?(f=i.jsx(c("BaseTheme.react"),{config:l,xstyle:d("XPlatReactEnvironment").isWeb()?j.themeWrapper:null,children:h}),b[14]=l,b[15]=h,b[16]=f):f=b[16];h=f}if(a){b[17]!==h?(g=i.jsx(c("BaseTheme.react"),{config:k,children:i.jsx(c("Box.react"),{xstyle:j.iconBackground,children:h})}),b[17]=h,b[18]=g):g=b[18];return g}return h}g["default"]=a}),98);
__d("getLSMediaContactProfilePictureLargeUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureLargeUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=a.profilePictureLargeFallbackUrl)!=null?b:a.profilePictureLargeUrl}else return a.profilePictureLargeUrl}g["default"]=a}),98);
__d("MWDesktopNotifications",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MessagingAttachmentType","ReQL","cr:2472","getLSMediaContactProfilePictureLargeUrl","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","getMWPAttachmentMessageAnnouncement","isReceiverFetchReceivingEnabled","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;async function a(a,b,e){var f;if(((f=Notification)==null?void 0:f.permission)!=="granted")return;f=await Promise.all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b.threadKey,b.senderId)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(b.threadKey,b.messageId))]);var g=f[0],h=f[1],j=f[2];f=f[3];if(g==null||h==null||j==null)return;var n=d("LSMessagingThreadTypeUtil").isGroup(g.threadType);n=k(n,g.threadName,j.nickname,h.name);j=l(b,f);f=await m(f,d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType));g=new Notification(n,{body:j,icon:(j=(n=c("getLSMediaThreadPictureUrl")(g))!=null?n:c("getLSMediaContactProfilePictureLargeUrl")(h))!=null?j:c("getLSMediaContactProfilePictureUrl")(h),image:f,tag:b.messageId,timestamp:(i||(i=d("I64"))).to_float(b.timestampMs)});g.onclick=function(){window.focus(),c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey)),function(a){a!=null&&e.openInbox({threadKey:b.threadKey,threadType:a.threadType},"desktopNotification")})}}function k(a,b,c,d){c=(c=c)!=null?c:d;return a&&b!=null?h._(/*BTDS*/"{senderName} to {threadName}",[h._param("senderName",c),h._param("threadName",b)]).toString():a?h._(/*BTDS*/"{senderName} to your group",[h._param("senderName",c)]).toString():c}function l(a,d){a=a.text;a=a!=null?b("cr:2472")==null?a:b("cr:2472").unvault(a):null;return a!=null&&a!==""?a:(a=c("getMWPAttachmentMessageAnnouncement")(d,!1))==null?void 0:a.toString()}async function m(a,b){if(a.length===0)return;a=a[0];if(!b)return d("LSMediaUrlAttachment").previewUrl(a);b=a.attachmentFbid;var e=a.attachmentType,f=a.authorityLevel;if(b===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return;switch(!0){case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):try{return d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense(a,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):if(a.previewUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0))return d("LSMediaUrlAttachment").previewUrl(a);try{return d("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"preview","MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):try{return d("MAWAttachmentBlob.react").getAttachmentBlobNonOptional_CausesSuspense(a.attachmentFbid,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}}}g.triggerLocalNotification=a}),226);
__d("MWEncryptedBackupsListenForChangesToBackupStateInitPathGated",["cr:8784","cr:8786"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:8784"))!=null?a:b("cr:8786");d=c;g["default"]=d}),98);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24429620016626810"}),null);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql",["RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtwebCallBlockedSettingSubscribeResponsePayload",kind:"LinkedField",name:"rtweb_call_blocked_setting_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:c},params:{id:b("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"),metadata:{subscriptionName:"rtweb_call_blocked_setting_subscribe"},name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("RTWebCallBlockedSettingSubscription",["CometRelay","RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{onNext:c,subscription:i,variables:{input:b}})}g.subscribe=a}),98);
__d("RTWebCometIncomingUnsupportedDialogNameQuery$Parameters",["RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation"),metadata:{},name:"RTWebCometIncomingUnsupportedDialogNameQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("RTWebCometIncomingUnsupportedDialog.entrypoint",["JSResourceForInteraction","RTWebCometIncomingUnsupportedDialogNameQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.id;return{queries:{queryReference:{parameters:b("RTWebCometIncomingUnsupportedDialogNameQuery$Parameters"),variables:{id:a}}}}},root:c("JSResourceForInteraction")("RTWebCometIncomingUnsupportedDialog.react").__setRef("RTWebCometIncomingUnsupportedDialog.entrypoint")};g["default"]=a}),98);
__d("RTWebDropInUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("RTWebUnsupportedUpsellDialogWrapper.react",["CometPlaceholder.react","RTWebCometIncomingUnsupportedDialog.entrypoint","RelayHooks","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.inviterID,f=a.onClose;a=a.threadType;var g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),h;b[0]!==g||b[1]!==e?(h=d("RelayHooks").loadEntryPoint(g,c("RTWebCometIncomingUnsupportedDialog.entrypoint"),{id:e}),b[0]=g,b[1]=e,b[2]=h):h=b[2];g=h;b[3]!==f||b[4]!==a?(e={onClose:f,threadType:a},b[3]=f,b[4]=a,b[5]=e):e=b[5];b[6]!==g||b[7]!==e?(h=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:g,props:e})}),b[6]=g,b[7]=e,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("XBizSuiteControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/latest/{?*rest}",Object.freeze({boosted_auto_open:!1,auto_open_saved_replies:!1,auto_open_order_tip:!1,auto_open_promote:!1,launch_notifications:!1,launch_onboarding:!1,partnership_messages:!1,preloaded_with_autodraft:!1,unified_composer_mode:"REEL",should_open_edit_fb_profile:!1,long_form_to_reels_playlist_flow:!1,redirect_notice:!1}),void 0);b=a;g["default"]=b}),98);
__d("getAssetsByType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{adAccount:a.filter(function(a){return a.type==="AD_ACCOUNT"}),appAccount:a.filter(function(a){return a.type==="APP"}),igAccount:a.filter(function(a){return a.type==="INSTAGRAM_ACCOUNT_V2"}),pageAccount:a.filter(function(a){return a.type==="PAGE"}),wabAccount:a.filter(function(a){return a.type==="WHATSAPP_BUSINESS_ACCOUNT"})}}f["default"]=a}),66);
__d("getFirstAssetOfType",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.find(function(a){return a.type===b})}f["default"]=a}),66);
__d("useBizKitSelectedAssets",["BizKitScopingContext","getAssetsByType","getFirstAssetOfType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BizKitScopingContext")),b=a.assets,d=a.setAssets;a=(a=(a=c("getFirstAssetOfType")(b,"PAGE"))!=null?a:b[0])!=null?a:null;return{assetID:a==null?void 0:a.id,assets:b,assetsByType:c("getAssetsByType")(b),assetType:a==null?void 0:a.type,setAssets:d,setSelectedLinkedAsset:function(a){d(a.assets)}}}g["default"]=a}),98);
__d("useMAWEncryptedBackupsRestoreToast",["fbt","ix","BaseToasterStateManager","FDSArrowsCircleFilled24Icon","FDSCheckmarkFilled24Icon","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","SVGIcon","cr:1376","cr:4027","cr:6570","mwPushToast","react","react-compiler-runtime","useLabyrinthLogging"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useRef;function a(){var a=d("react-compiler-runtime").c(10),e=l(null),f=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),g=f.startFlow;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:6570")?k.jsx(b("cr:6570"),{color:"primary",icon:c("FDSArrowsCircleFilled24Icon")}):void 0,a[0]=f):f=a[0];var j=f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:1376")?new(b("cr:1376"))(i("685423"),32,32):void 0,a[1]=f):f=a[1];var m=f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("BaseToasterStateManager").getInstance(),a[2]=f):f=a[2];var n=f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){if(e.current==null)return;n.expire(e.current);e.current=null},a[3]=f):f=a[3];var o=f;a[4]!==g?(f=function(){o(),e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"Loading messages..."),icon:{comet:j,mds:m},testid:"mw-chat-encrypted-backups-restore-in-progress-toast"}),g({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_begin_toast")},a[4]=g,a[5]=f):f=a[5];f=f;var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){o(),d("mwPushToast").mwPushErrorToast({body:h._(/*BTDS*/"Failed to restore end-to-end encrypted messages. Try again.")})},a[6]=p):p=a[6];p=p;var q;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){var a=b("cr:6570")?k.jsx(b("cr:6570"),{icon:c("FDSCheckmarkFilled24Icon")}):void 0,f=b("cr:4027")?d("SVGIcon").svgIcon(b("cr:4027")):void 0;o();e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"End-to-end encrypted messages restored."),icon:{comet:a,mds:f},testid:"mw-chat-encrypted-backups-restore-successful-toast"});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_successful_toast");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent})},a[7]=q):q=a[7];q=q;a[8]!==f?(p={hideToast:o,showErrorToast:p,showInProgressToast:f,showSuccessToast:q},a[8]=f,a[9]=p):p=a[9];return p}g["default"]=a}),226);
__d("useMWChatOpenTabCount",["MWChatStateContext","MWChatStateV2TabGroups","react-compiler-runtime","useMWChatStateV2MaxTabCount","useMWIsTopLevelRouteMediaViewerExperiment"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(5),b=d("MWChatStateContext").useChatState(h),e=b[0],f=b[1];b=b[2];var g=c("useMWIsTopLevelRouteMediaViewerExperiment")(),i=c("useMWChatStateV2MaxTabCount")(g);g=g?b:void 0;a[0]!==f||a[1]!==i||a[2]!==g||a[3]!==e?(b=d("MWChatStateV2TabGroups").getTabGroups(g,e,f,i),a[0]=f,a[1]=i,a[2]=g,a[3]=e,a[4]=b):b=a[4];f=b;i=f.openTabs;return i.length}function h(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}g["default"]=a}),98);
__d("waitForMiActMappingForUniversalSearch",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCurrentUser","MAWJids","ReQL","WAJids","emptyFunction","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3e4,j=3e4;async function k(a){a=await d("ReQL").toArrayAsync(a);return a.some(function(a){return a==null||(h||(h=d("I64"))).lt(a.authorityLevel,(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))})===!1}async function l(a,b,e,f){e===void 0&&(e=c("emptyFunction"));f===void 0&&(f=c("emptyFunction"));var g=(h||(h=d("I64"))).of_string(d("MAWCurrentUser").getID()),i=d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(b.serverThreadKey).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,g)}),d("ReQL").fromTableAscending(a.tables.contacts)).map(function(a){a[0];a=a[1];return a}),l=null,m={contents:function(){}};function n(){e(b),m.contents()}if(await k(i))return n();m.contents=i.subscribe(async function(a,b){if(b.operation==="delete")return;l!=null&&window.clearTimeout(l);if(await k(i))return n()});l=window.setTimeout(function(){m.contents(),f(c("err")("Contacts timed out"))},j)}async function a(a,b){var e=d("MAWJids").convertChatJidToIntJid(b),g=d("WAJids").interpretAsGroupJid(b)!=null,h=d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(e);b=await d("ReQL").firstAsync(h);if(b!=null){await l(a,b);return Promise.resolve(b)}var j=null,k=new Promise(function(b,d){var e={contents:function(){}};function f(a){e.contents(),b(a)}function g(a){e.contents(),d(a)}e.contents=h.subscribe(async function(b,c){if(c.operation==="delete")return;j!=null&&window.clearTimeout(j);await l(a,c.value,f,g)});j=window.setTimeout(function(){g(c("err")("MiActMapping timed out"))},i)});c("promiseDone")(a.runInTransaction(function(a){return g?c("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure")(c("LSFactory")(a),{waJid:e}):c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:e})},"readwrite",void 0,void 0,f.id+":149"));try{b=await k}catch(a){c("FBLogger")("messenger_web").warn("[FTS] Issue waiting for mi_act_mapping to be ready",a)}return b}g.default=a}),98);/*FB_PKG_DELIM*/
__d("DisappearingMessagesMode",[],(function(a,b,c,d,e,f){a=Object.freeze({OFF:0,ON:1,OPEN_ON_DEPRECATED_DO_NOT_USE:2});f["default"]=a}),66);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(67).fetch([[[a[0],a[4]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],surfaceType:a[4],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=c.i64.cast([0,0]),d[3]=new c.Map(),d[3].set("query",a[0]),d[3].set("supported_types",a[1]),d[3].set("session_id",a[2]),d[3].set("surface_type",a[4]),d[3].set("selected_participants",a[5]),d[3].set("group_id",a[6]),d[3].set("community_id",a[8]),d[3].set("thread_id",a[7]),d[3].set("query_id",a[3]),d[4]=c.createArray(),d[10]=(d[4].push("search_primary"),d[4]),d[5]=c.i64.of_float(Date.now()),d[10]=(d[4].push(c.i64.to_string(d[5])),d[4]),d[6]=c.toJSON(d[4]),d[7]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),d[6],c.i64.cast([0,30]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),d[2])},function(e){return d[8]=new c.Map(),d[8].set("query",a[0]),d[8].set("supported_types",a[1]),d[8].set("session_id",a[2]),d[8].set("surface_type",a[4]),d[8].set("selected_participants",a[5]),d[8].set("group_id",a[6]),d[8].set("community_id",a[8]),d[8].set("thread_id",a[7]),d[8].set("query_id",a[3]),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[9],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchIssueSearchQueryStoredProcedure";a.__tables__=["search_queries"];e.exports=a}),null);
__d("LSIssueSearchQueryStoredProcedure",["LSIssueSearchQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueSearchQuery"),e.query,e.supportedTypes,e.sessionId,e.queryId,e.surfaceType,e.selectedParticipants,e.groupId,e.threadId,e.communityId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16,MSGR_PUBLIC_CHANNEL:17,MSGR_SOCIAL_CHANNEL:18,NETEGO_IG_PUBLIC_CHANNELS:19,CONTACT_BIRTHDAY:20});f["default"]=a}),66);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){if(a.length>4)return"("+a.length+") "+a.join(", ");else return a.join(", ")}function k(a){switch(a.length){case 0:return c("gkx")("22885")?"":h._(/*BTDS*/"No participants");case 1:return a[0];case 2:return h._(/*BTDS*/"{participant1} and {participant2}",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._(/*BTDS*/"{participant1}, {participant2}  and {participant3}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._(/*BTDS*/"{participant1}, {participant2} and {others_count} others",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}function l(a,b,c,e,f,g,h){h===void 0&&(h=!1);if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(e);e=c.filter(function(a){return!(i||(i=d("I64"))).equal(a.contact_id,b)});if(a)return h?j(e.map(f)):k(e.map(f));return c.length!==1?k(e.map(g)):g(c[0])}function a(a,b,c,d,e){e===void 0&&(e=!1);return l(a,b,c,d,function(a){var b=a.name;a=a.nickname;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.nickname;return(a=a)!=null?a:b},e).toString()}function b(a,b,c,d){return l(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}function e(a,b,c,d){return l(a,b,c,d,function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b}).toString()}g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b;g.getThreadTitleWithSecondaryNames=e}),226);
__d("MWChatTemporarySearchResult",["DisappearingMessagesMode","FBLogger","I64","LSContactBitOffset","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMessagingThreadTypeUtil","LSRestrictionType","LSThreadBitOffset","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWLSContactTypeExactUtils","MWLSThreadTitle","MWSearchStandardResultTypeMappings","getLSMediaContactProfilePictureUrl","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(6))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(9))}function k(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||j(a))return c("MWChatSearchResultType").USER;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(14))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(13)))return c("MWChatSearchResultType").GROUP;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4)))return c("MWChatSearchResultType").PAGE;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5)))return c("MWChatSearchResultType").MESSAGE;c("FBLogger")("messenger_web").warn("Unknown Search Result Type "+(h||(h=d("I64"))).to_string(a));return c("MWChatSearchResultType").USER}function l(a,b){if(!c("gkx")("23433")||!c("gkx")("6710"))return!1;if(b==null)return!1;if(b.startsWith("@"))return!0;if(b.trim().length===b.length&&b.indexOf(".")!==-1)return!0;return b.trim()===a?!0:!1}function m(a){return(a==null?void 0:a.threadType)==null?!1:d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}function n(a,b){b=l(a.username,b);var e=c("gkx")("6992");if(b&&a.username!=null)return(e&&a.username.length>0?"@":"")+a.username;b=d("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact);return b&&a.secondaryName!=null?a.secondaryName:""}function o(a){var b=l(a.contextLine,a.query);if(b&&a.contextLine!=null)return a.contextLine;b=m(a);return b&&a.contextLine!=null?a.contextLine:""}function a(a,b,e,f,g,j,k){var l=e.contactType,m=e.contactTypeExact;m=d("MWLSContactTypeExactUtils").isIgContact(m);k=n(e,k);var o=f!=null?[f.e2eeEligibility,!(h||(h=d("I64"))).equal(f.e2eeEligibility,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],p=o[0];o=o[1];return{defaultE2eeThreadOneToOne:d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:e}),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(76,e),id:(h||(h=d("I64"))).to_string(e.id),imageUrl:c("getLSMediaContactProfilePictureUrl")(e),isAiBot:h.equal(e.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:h.equal(e.contactViewerRelationship,i.ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isDisappearingModeSettingOn:d("LSContactBitOffset").has(94,e),isE2EE:b===!0,isEPD:h.equal(e.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInstagramAccount:m,isInstamadilloCutover:d("LSContactBitOffset").has(95,e),isInteropEligible:d("LSContactBitOffset").has(67,e),isTTLCClipEnabled:d("LSContactBitOffset").has(96,e),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,e),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,e),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,e),isVerified:(b=d("LSContactBitOffset").has(23,e))!=null?b:!1,isViewerUnconnected:d("MWChatTemporarySearchResultUtils").isViewerUnconnectedForContact(e),isWAEligible:o,matchedTerms:j,rankingScore:a,reachabilityStatus:e.contactReachabilityStatusType,resultIgid:(m=f==null?void 0:f.igId)!=null?m:void 0,resultType:(h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))||!((h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)))?c("MWChatSearchResultType").USER:c("MWChatSearchResultType").PAGE,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(e),searchSource:g,section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForContact(e),subtext:k,supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,waAddressable:h.equal(e.waConnectStatus,i.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:p}}function p(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;return f!=null&&f!==""?d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString():""}function q(a,b,c){if(!d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(a.threadType))return;a=b.find(function(a){return!(h||(h=d("I64"))).equal(a.contact_id,c)});if(a==null)return;return a.contact_id}function b(a,b,e,f,g,j,k,l,m){var n=p(a,e,j),o=q(a,j,e);o=o!=null?(h||(h=d("I64"))).to_string(o):void 0;return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,e,j,a.threadType).toString(),id:(h||(h=d("I64"))).to_string(a.threadKey),imageUrl:f,isAiBot:h.equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:h.to_int32((e=m==null?void 0:m.igDmSettingsMode)!=null?e:(h||(h=d("I64"))).zero)===c("DisappearingMessagesMode").ON,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:l,otherUserId:o,rankingScore:k,resultType:c("MWChatSearchResultType").GROUP,searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(a.threadType),searchSource:b,secondaryImageUrl:g,section:"",subtext:n,threadKey:a.threadKey,threadType:a.threadType}}function e(a,b,e){var f,g=(h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(1)),l=o(a),m=j(a.type_),n=a.defaultE2eeThreadOneToOne,p=a.defaultE2eeThreads,q=a.hasCutoverThread,r=a.isVerified,s=a.otherUserId,t=a.query,u=a.supportsE2eeSpamdStorage,v=a.waEligibility;f=b!=null?(f=b.displayName)!=null?f:"":"";t===""&&(f=d("MWChatTemporarySearchResultUtils").getSectionHeaderForContactsNullstate());return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:n!==null?n:void 0,defaultE2eeThreads:p!==null?p:void 0,displayName:a.displayName,hasCutoverThread:q!==null?q:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isAiBot:h.equal(a.type_,i.ofNumber(16)),isContact:g,isDisappearingModeSettingOn:Boolean(a.isDisappearingModeSettingOn),isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:m,isInstamadilloCutover:Boolean(a.isInstamadilloCutover),isInteropEligible:a.isInteropEligible,isRestrictedByViewer:a.isRestrictedByViewer,isTTLCClipEnabled:Boolean(a.hasTtlcClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.hasTtlcGenericXmaShareEnabled),isTTLCMediaShareEnabled:Boolean(a.hasTtlcMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.hasTtlcStoryShareEnabled),isVerified:r!=null?r:!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:v!=null?!(h||(h=d("I64"))).equal(v,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:s!=null?(h||(h=d("I64"))).to_string(s):void 0,reachabilityStatus:a.reachabilityStatus,restrictionType:a.restrictionType,resultIgid:a.resultIgid,resultType:k(a.type_),searchResultType:d("MWSearchStandardResultTypeMappings").mapServerSearchResultToSearchStandardResultType(a.threadType,a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:f,sectionAnalyticsName:b==null?void 0:b.analyticsName,serverSearchResult:a,subtext:l,subtextAdditional:(t=a.secondaryContextLine)!=null?t:"",supportsE2eeSpamdStorage:u,threadJoinLinkHash:a.threadJoinLinkHash,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility}}g.checkIsInstagramAccount=j;g.getResultType=k;g.fromContact=a;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactTypeExact","LSContactUtils","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult","MWGenAIUtils","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","gkx","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;(i||d("react")).useMemo;function m(a){if(a<0)return-1;return a>0?1:0}function n(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return m(d.score-c.score);if(a!=null&&b!=null)return m(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function o(a){var b=a.contactTypeExact;a=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(b)){if((j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return(l||(l=d("LSIntEnum"))).ofNumber(8);return(j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?(l||(l=d("LSIntEnum"))).ofNumber(6):(l||(l=d("LSIntEnum"))).ofNumber(9)}else if((j||(j=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return(l||(l=d("LSIntEnum"))).ofNumber(16);return(l||(l=d("LSIntEnum"))).ofNumber(1)}function p(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;var g=e.contactTypeExact;f=(l||(l=d("LSIntEnum"))).toNumber(f.contactType);var h;d("LSContactBitOffset").has(76,e)&&!c("gkx")("2268")?h=15:h=f===c("MNetContactItemType").GROUP?2:1;var i;switch(f){case c("MNetContactItemType").CONTACT:i=o(e);break;case c("MNetContactItemType").GROUP:i=(l||(l=d("LSIntEnum"))).ofNumber(3);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:i=(l||(l=d("LSIntEnum"))).ofNumber(4);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:i=(l||(l=d("LSIntEnum"))).ofNumber(5);break;case c("MNetContactItemType").IG_USER:i=(l||(l=d("LSIntEnum"))).ofNumber(6);break;default:i=(l||(l=d("LSIntEnum"))).ofNumber(2)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:e}),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,globalIndex:(j||(j=d("I64"))).of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(76,e),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(g)?d("LSContactBitOffset").has(67,e):void 0,isVerified:d("LSContactBitOffset").has(23,e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,e,!0),isWaAddressable:j.equal(e.waConnectStatus,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:c("getLSMediaContactProfilePictureUrl")(e),query:"",resultId:j.to_string(e.id),resultIgid:a==null?void 0:a.igId,threadType:l.ofNumber(h),type_:i,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function q(a,b){var c;return(c=d("ReQL")).leftJoin(c.leftJoin(c.fromTableAscending(a.tables.ranking_scores.index("scoreTypeContactId")).getKeyRange(b),c.fromTableAscending(a.tables.contacts)),c.fromTableAscending(a.tables.ig_contact_info))}function a(a){var b=d("react-compiler-runtime").c(8),e;b[0]!==a?(e=a===void 0?(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a,b[0]=a,b[1]=e):e=b[1];var g=e,i=(h||(h=c("useReStore")))();b[2]!==g||b[3]!==i?(a=function(){return q(i,g)},e=[g,i],b[2]=g,b[3]=i,b[4]=a,b[5]=e):(a=b[4],e=b[5]);a=d("ReQLSuspense").useArray(a,e,f.id+":255");b[6]!==a?(e=p(n(a)).filter(r),b[6]=a,b[7]=e):e=b[7];a=e;return a}function r(a){a=a[0];return a.isAiBot===!1&&d("MWGenAIUtils").isMetaAIContact(a.id)===!1}function b(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return d("ReQL").toArrayAsync(q(b,a))}).then(function(a){return p(n(a))})}async function e(a,b,c){a=await d("ReQL").toArrayAsync(q(a,b));return p(n(a)).filter(function(a){a[0];a=a[1];return((j||(j=d("I64"))).equal(c,(l||(l=d("LSIntEnum"))).ofNumber(5))||(j||(j=d("I64"))).equal(c,(l||(l=d("LSIntEnum"))).ofNumber(11)))&&d("LSContactUtils").isContactBlocked({blockedByViewerStatus:a.blockedByViewerStatus})?!1:!0}).map(function(a){a=a[0];return a})}g.sortInPlaceQueryResults=n;g.mapToServerSearchResults=p;g.makeQuery=q;g.useChatSearchContactRecommendations=a;g.fetchRecommendations=b;g.fetchContacts=e}),98);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b={actual_name:"",blocked_by_viewer_status:(h||(h=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(i||(i=d("I64"))).zero,contactType:h.ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:i.zero,gender:h.ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:h.ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:i.zero,read_watermark_timestamp_ms:i.zero,secondary_name:void 0,thread_key:i.zero,work_company_name:void 0,work_foreign_entity_info:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function j(a){var b=a[0];a=a[1];var e=b.nickname,f=a.authorityLevel,g=a.blockedByViewerStatus,i=a.contactTypeExact,j=a.firstName,k=a.name,l=a.secondaryName,m=a.waConnectStatus;return{actual_name:k,authority_level:f,blocked_by_viewer_status:g,contact_id:b.contactId,contactType:a.contactType,delivered_watermark_timestamp_ms:b.deliveredWatermarkTimestampMs,gender:a.gender,is_admin:(f=b.isAdmin)!=null?f:!1,is_messenger_user:a.isMessengerUser,mailbox_type:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),name:(f=(g=e)!=null?g:j)!=null?f:k,nickname:e,profile_picture_url:c("getLSMediaContactProfilePictureUrl")(a),rank:a.rank,read_action_timestamp_ms:b.readActionTimestampMs,read_watermark_timestamp_ms:b.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(i)?l:void 0,thread_key:b.threadKey,wa_connect_status:m,work_company_name:a.workCompanyName,work_foreign_entity_info:a.workForeignEntityType,work_job_title:a.workJobTitle}}function a(a,b,c){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c),b).map(j)}g.empty=b;g.projectOpen=j;g.getAllInOpenThread=a}),98);
__d("MWSearchThreadUtils",["I64","LSIntEnum","LSMessageSearchType","MAWChatJid","MWLSParticipant","MWLSThreadTitle","ReQL","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){var f=c("getLSMediaThreadPictureUrl")(a);if(f!=null)return Promise.resolve([f,void 0]);else{a=(f=d("ReQL")).toArrayAsync(f.leftJoin(f.fromTableAscending(e.tables.participants,[]).getKeyRange(a.threadKey),f.fromTableAscending(e.tables.contacts)).map(function(a){a[0];a=a[1];return a}).filter(Boolean));f=a.then(function(a){var e=a.length===1&&(h||(h=d("I64"))).equal(a[0].id,b);return a.sort(function(a,b){return a.rank-b.rank}).filter(function(a){return(h||(h=d("I64"))).equal(a.id,b)?e:!0}).map(function(a){return c("getLSMediaContactProfilePictureUrl")(a)})}).then(function(a){var b=a[0];return b!=null?[b,a[1]]:["",void 0]});return f}}function k(a,b){return d("ReQL").toArrayAsync(d("MWLSParticipant").getAllInOpenThread(b,d("ReQL").fromTableAscending(b.tables.contacts),a.threadKey))}function l(a,b,e,f,g){if((h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&f!=null){g=(g=e.find(function(a){return a.contact_id===f.id}))==null?void 0:g.nickname;return(g=g)!=null?g:f.name}return d("MWLSThreadTitle").getThreadTitleWithFullName(b.threadName,a,e,b.threadType)}async function a(a,b,c,e){b=await d("MAWChatJid").toThreadKeyMaybe(a.tables,b);return b==null?null:m(a,b,c,e)}async function m(a,b,c,e){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b));return b==null?null:n(a,b,c,e)}async function n(a,b,c,d){a=await Promise.all([j(b,c,a),k(b,a)]);var e=a[0],f=e[0];e=e[1];a=a[1];c=await l(c,b,a,void 0,d);return{profilePicUrl:f,secondaryProfilePicUrl:e,threadDisplayName:c,threadKey:b.threadKey,threadType:b.threadType}}g.getThreadPics=j;g.getThreadParticipants=k;g.getThreadDisplayName=l;g.getThreadDataForSearchResult=a;g.getThreadDataByThreadKey=m}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactUtils","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSWhatsAppConnectStatus","MWChatSearchResultType","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchThreadUtils","ReQL","gkx","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info))}function l(a,b,e,f,g,j,k){var l=(h||(h=d("I64"))).to_float(b.lastActivityTimestampMs);l={contactId:h.zero,contactType:h.zero,score:l,scoreIndex:h.zero,scoreType:h.zero};var n=e.length===2?e.find(function(b){return!(h||(h=d("I64"))).equal(b.contact_id,a)}):null;return{defaultE2eeThreadOneToOne:(k=k)!=null?k:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(b.threadName,a,e,b.threadType).toString(),hasCutoverThread:(k=j)!=null?k:void 0,id:h.to_string(b.threadKey),imageUrl:f,isAiBot:h.equal(b.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,b),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,b),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,b),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,b),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,b),isVerified:!1,otherUserName:(e=n==null?void 0:n.name)!=null?e:void 0,rankingScore:l,resultType:d("LSMessagingThreadTypeUtil").isGroup(b.threadType)?c("MWChatSearchResultType").GROUP:c("MWChatSearchResultType").USER,searchSource:"offline_nullstate",secondaryImageUrl:g,section:"",subtext:(j=b.threadDescription)!=null?j:"",threadKey:b.threadKey,threadType:b.threadType,waAddressable:d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(b.threadType)?!m(n):void 0}}function m(a){return a==null?void 0:a.authority_level!=null&&(h||(h=d("I64"))).ge(a.authority_level,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))&&a.wa_connect_status!=null&&(h||(h=d("I64"))).equal(a.wa_connect_status,(i||(i=d("LSIntEnum"))).ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))}function n(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs"))).then(async function(b){var c=await Promise.all(b.map(function(b){return o(a,b)}));return b.filter(function(a,b){return!c[b]})})}async function a(){var a=await (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,b=await Promise.all([k(a),n(a)]),e=b[0];b=b[1];return Promise.all(b.map(async function(b){var f=await Promise.all([d("MWSearchThreadUtils").getThreadPics(b,e.facebookUserId,a),d("MWSearchThreadUtils").getThreadParticipants(b,a),d("LSMessagingThreadTypeUtil").isOpenOneToOne(b.threadType)?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(b.threadKey)):null,d("LSMessagingThreadTypeUtil").isOpenOneToOne(b.threadType)?c("hasDefaultThreadOneToOneCapability")(b.threadKey,a):null]),g=f[0],h=f[1],i=f[2];f=f[3];var j=g[0];g=g[1];return l(e.facebookUserId,b,h,j,g,Boolean(i),f)}))}function o(a,b){if(!(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(b.threadType)&&d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(b.folderName)))return!0;if(d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(b.threadType)&&(i||(i=d("LSIntEnum"))).toNumber(b.authorityLevel)<c("LSAuthorityLevel").AUTHORITATIVE)return!0;return d("LSThreadBitOffset").has(44,b)?!0:p(a,b)}async function p(a,b){var e;e=await Promise.all([(e=d("ReQL")).firstAsync(e.fromTableAscending(a.tables.contacts).getKeyRange(b.threadKey)),e.firstExnAsync(e.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}))]);var f=e[0];e=e[1];b=await d("MWGetOtherContactOrSelf").getOtherContactOrSelf(b.threadKey,e,a);a=(e=b)!=null?e:f;b=!1;e=!1;f=!1;a&&(b=d("LSContactBitOffset").has(28,a)||d("LSContactBitOffset").has(29,a)||a.blockedByViewerStatus!=null&&d("LSContactUtils").isContactBlocked(a)&&c("gkx")("9160"),e=d("LSContactUtils").isContactUnreachable(a)&&c("gkx")("9161"),f=d("LSContactUtils").isContactRestricted(a)&&c("gkx")("11667"));return b||e||f}g.fetchThreadRecommendations=a;g.shouldFilterBlockedOrUnreachableUser=p}),98);
__d("MWChatSearchIssueLightspeedQuery",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSPlatformWaitForTaskCompletion","LSSearchRequestStatusType","LSVec","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatTemporarySearchResult","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("gkx")("26360");function l(a,b){var e=a[0];a=a[1];var f=[],g=0;e.sort(function(a,b){return(h||(h=d("I64"))).compare(a.globalIndex,b.globalIndex)});a.sort(function(a,b){return(h||(h=d("I64"))).compare(a.globalIndex,b.globalIndex)});for(var i=0,j=e.length;i<j;++i){var k=e[i];while(g<a.length&&(h||(h=d("I64"))).ge(a[g].globalIndex,k.startIndex)&&(h||(h=d("I64"))).le(a[g].globalIndex,k.endIndex)){var l=a[g];f.push(d("MWChatTemporarySearchResult").fromServerSearchResult(l,k,"server"));g+=1}}return f.filter(function(a){if(b)return!0;else return a.resultType!==c("MWChatSearchResultType").GROUP})}function m(a,b,e){var g=e.query;return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(d),{query:g,supportedTypes:c("LSVec").ofArray(a),surfaceType:b})},"readwrite",void 0,void 0,f.id+":105").then(function(){return d})})}function a(a,b,e,f,g){var k=g.query;if(b.length>0&&!b.includes("server"))return Promise.resolve([]);else return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(b),{query:k,supportedTypes:c("LSVec").ofArray(a),surfaceType:e})},"issueSearchQuery").then(function(){return b})}).then(async function(a){var b,e=(b=d("ReQL")).toArrayAsync(b.fromTableAscending(a.tables.server_search_results).getKeyRange(k).filter(function(a){return(h||(h=d("I64"))).equal(a.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));b=b.toArrayAsync(b.fromTableAscending(a.tables.server_search_sections).getKeyRange(k));a=await Promise.all([b,e]);return l(a,f)})}function b(a,b,c,e){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(e).then(function(a){return Promise.resolve(a.map(function(a){a=a[0];return a}))})}function n(a,b){if(!b.has(a.resultType))return!0;if(!a.isE2EE&&a.defaultE2eeThreadOneToOne===!0)return!0;if(a.hasCutoverThread===!0)return!0;return a.isAiBot?!0:!1}function o(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.id)||(b.push(a),c.add(a.id))});return b}async function e(){var a=await d("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations();if(a.length===0)return[];var b=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);a=o(a);return a.filter(function(a){return!n(a,b)})}function p(a,b,e,f){var g=[],i=[],k=[],m=function(){if(g.length===0||i.length===0||k.length!==1)return;(h||(h=d("I64"))).equal(k[0].statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))||f(l([i,g],e))},n=a.tables.server_search_results.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(b)),function(a){g=a;return m()})}),o=a.tables.server_search_sections.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(b)),function(a){i=a;return m()})}),p=a.tables.search_queries.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.search_queries).getKeyRange(b).filter(function(a){return!(h||(h=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})),function(a){k=a;return m()})});return function(){n(),o(),p()}}function q(a,b,e,f){return a.tables.search_queries.subscribe(function(g,i){g=g[0];if(g!==b||i.operation==="delete"||(h||(h=d("I64"))).equal(i.value.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING)))return;c("promiseDone")(Promise.all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(b)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(b))]).then(function(a){var b=a[0];a=a[1];f(l([a,b],e))}))})}function r(a,b,e,f,g,i){var n=g.query;!k?c("promiseDone")(m(b,e,g)):c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.search_queries).getKeyRange(n).filter(function(a){return!(h||(h=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})).then(function(c){return c==null||c.length!==1?m(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(n)).then(function(c){return c==null||c.length===0?m(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(n)).then(function(a){if(a==null||a.length===0)return m(b,e,g);i(l([a,c],f))})})}));return p(a,g.query,f,i)}function s(a,b,d,e,g,h){e=q(a,g.query,e,h);c("promiseDone")(a.runInTransaction(function(a){return a.search_queries.delete(g.query,d)},"readwrite",void 0,void 0,f.id+":436").then(function(){return m(b,d,g)}));return e}g.toSearchResults=l;g.makeSearchQuery=m;g.fetchResults=a;g.fetchRecommendations=b;g.shouldFilterSearchResultsForSharingNS=n;g.dedupeByThreadKey=o;g.fetchThreadRecommendations=e;g.requestResults=r;g.requestResults_T200619723=s}),98);/*FB_PKG_DELIM*/
__d("CometLinkSharingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={getWrappedShareUrlID:function(a){return null},shareSheetSurface:null,wrappedShareUrl:""};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("CometMessengerReshareContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={LSResults:[],addSelectedTarget:function(a){},addSelectedThreadData:function(a){},getXMAFileArgsPromise:function(){return null},getXMAPreviewPromise:function(){return null},removeSelectedTargetID:function(a){},selectedContacts:new Map(),selectedTargets:new Map(),setXMADataPromise:function(a){}};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("CometUnifiedShareSheetGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24315")}function b(){return c("gkx")("24317")}function d(){return c("gkx")("8866")}g.shouldEnableE2EEDebugIndicator=a;g.shouldDisableMessengerListRanking=b;g.shouldEnablePSLoggingIntentFixes=d}),98);
__d("MAWBumpThread",["ODS","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){a.description;var b=a.lastActivityTs,c=a.lastMessageCtaType,e=a.lastReadTs,f=a.snippet,g=a.snippetSenderContactId,i=a.threadKey;a=a.txn;i=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(i));if(i==null)return(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");f=(f=f)!=null?f:i.snippet;g=(g=g)!=null?g:i.snippetSenderContactId;c=babelHelpers.extends({},i,{lastActivityTimestampMs:(b=b)!=null?b:i.lastActivityTimestampMs,lastMessageCtaType:c,lastReadWatermarkTimestampMs:(b=e)!=null?b:i.lastReadWatermarkTimestampMs,snippet:f,snippetSenderContactId:g});await a.threads.put(c)}g.threadMutation_DEPRECATED=a}),98);
__d("MAWCreateOptimisticSecureMessage",["EntMessageReplyType","I64","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBridgeBuildMsg","MAWMsgReplySnippet","MessagingAttachmentType","QPLUserFlow","ReQL","isMWBumpMessage","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a,b,e,f){if(e==null)return[void 0,void 0];var g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,e.timestampMs,e.messageId));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_msg_end",{instanceKey:f});a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e.messageId));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_attachment_end",{instanceKey:f});return[g,a]}async function k(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b));return a==null?void 0:a.firstName}async function l(a,b,e,f){if(b==null)return;var g=c("isMWBumpMessage")(b.replyType)&&b.replyToUserId!=null?b.replyToUserId:b.senderId;a=await k(a,g);return(f=d("MAWMsgReplySnippet").buildLocalizedReplySnippet({isAuthorMe:!0,isBumpMsg:f,isDeletedMsg:b.replyStatus===c("LSReplyMessageStatus").DELETED,recipientName:a,replySenderIsMe:(h||(h=d("I64"))).equal(g,e)}))==null?void 0:f.toString()}function m(a){if(a==null)return;var b=a.attachmentType;return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?a.previewUrl:void 0}function n(a){if(a!=null){if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);return(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER)}}async function a(a,b,e,f,g,h,k,o,p,q,r,s,t,u){var v=await d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_get_reply",o,function(){return j(b,h,f,o)}),w=v[0];v=v[1];g=d("MAWBridgeBuildMsg").buildOptimisticMessage(g,w,p,t);p=await d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_reply_snippet",o,function(){return l(a,w,e,u===!0)});t=babelHelpers.extends({},g,{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:i.ofNumber(s),hasQuickReplies:!1,hotEmojiSize:k,isAdminMessage:!1,isCollapsed:!1,isUnsent:!1,messageId:q,offlineThreadingId:q,primarySortKey:r,quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentType:n(v),replyMediaPreviewHeight:v==null?void 0:v.previewHeight,replyMediaPreviewWidth:v==null?void 0:v.previewWidth,replyMediaUrl:m(v),replyMediaUrlMimeType:v==null?void 0:v.playableUrlMimeType,replySnippet:p,replySourceId:f==null?void 0:f.messageId,replySourceType:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,replyType:u===!0?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):void 0,senderId:e,sendStatus:i.ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.ofNumber(1),textHasLinks:!1,threadKey:h,timestampMs:r,transportKey:"WhatsApp",viewFlags:i.ofNumber(0)});return t}g.buildOptimisticLsMessage=a}),98);
__d("MAWOptimisticMessageUtils",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","MAWAckLevel","MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWBumpThread","MAWLocalizationType","MAWMsgType","MAWThreadUpdateMiddlewareGatingUtil","MessagingAttachmentType","ReQL","WAJids","WATimeUtils","cr:2472"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return d("WATimeUtils").millisTime()}async function j(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.threads.index("lastActivityTimestampMs")));return a==null||(h||(h=d("I64"))).equal(a.threadKey,b)?null:(h||(h=d("I64"))).add(a.lastActivityTimestampMs,h.one)}async function e(a,e){var f=e.hotEmojiSize,g=e.mentionedJids,l=e.messageText,m=e.senderId;e=e.threadKey;l=b("cr:2472")==null?l:b("cr:2472").unvault(l);f=f!=null&&(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))&&l==="\ud83d\udc4d";f=f?"(Y)":k(l,g);l=!d("MAWThreadUpdateMiddlewareGatingUtil").isMAWCacheServiceEnabled();g=l?d("MAWAdminMsg").buildLocalizedString([f],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT):void 0;f=await j(a,e);await d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWOptimisticMessageUtils",lastActivityTs:f,lastReadTs:f,snippet:g,snippetSenderContactId:l?m:void 0,threadKey:e,txn:a})}function k(a,b){b=d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(a,b,[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT);var c=b[0];b[1];return(b=c)!=null?b:a}async function f(a,b){var c=b.optimisticMediaAttachment,e=b.senderId;b=b.threadKey;c=o(c.type);if(c!=null){var f=await j(a,b);await d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWCreateOptimisticSecureMessageWithAttachment",lastActivityTs:f,lastReadTs:f,snippet:c,snippetSenderContactId:e,threadKey:b,txn:a})}}function l(a){var b=a.ephemeralSettings,c=a.externalId,e=a.threadJid;a=a.ts;return{ack:d("MAWAckLevel").ACK.partialOptimistic,altIndex:void 0,author:d("WAJids").AUTHOR_ME,ephemeralSetting:(b=b)!=null?b:void 0,externalId:c,isForwarded:!1,specialTextSize:void 0,threadJid:e,ts:d("WATimeUtils").castMilliSecondsToUnixTime(a)}}function m(a){var b=a.commands,c=a.content,d=a.initiatingSource,e=a.isFirstMsg,f=a.mentionedJids,g=a.optimisticMsg,h=a.quote,i=a.specialTextSize;a=a.threadSource;return{commands:b==null?void 0:b.slice(),content:c,initiatingSource:d,isFirstMsg:e,isForwarded:!1,mentionedJids:f==null?void 0:f.slice(),openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:g,participantCount:void 0,quote:h,source:a,specialTextSize:i}}function n(a){var b=a.optimisticMediaAttachment,e=a.threadKey,f=a.timestampMsI64;e={actionUrl:a.actionUrl,attachmentFbid:a.offlineAttachmentId,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a.attachmentType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),filename:b==null?void 0:b.filename,hasMedia:!h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),hasXma:h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),isHd:a.isHd,isSharable:!1,messageId:a.messageExternalId,offlineAttachmentId:a.offlineAttachmentId,receiverFetchId:a.contentRef,subtitleText:a.subtitleText,threadKey:e,timestampMs:f,titleText:a.titleText,transportKey:"WhatsApp",xmaContentType:a.xmaContentType};if(b){e=babelHelpers.extends({},e,{filesize:(h||(h=d("I64"))).of_float(b.file.size),previewUrl:b.url});if(b.type==="image"||b.type==="animated_image"||b.type==="video"||b.type==="sticker"){e=babelHelpers.extends({},e,{previewHeight:((f=b.thumbnailSpec)==null?void 0:f.height)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.height):void 0,previewWidth:((f=b.thumbnailSpec)==null?void 0:f.width)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.width):void 0})}}return e}function o(a){switch(a){case"animated_image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_GIF);case"image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_IMAGE);case"video":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_VIDEO);case"audio":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_AUDIO);case"document":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_ATTACHMENT);case"sticker":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_STICKER);default:return null}}function p(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER):return d("MAWMsgType").MSG_TYPE.STICKER;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE):return d("MAWMsgType").MSG_TYPE.IMAGE;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE):return d("MAWMsgType").MSG_TYPE.GIF;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO):return d("MAWMsgType").MSG_TYPE.VIDEO;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO):return d("MAWMsgType").MSG_TYPE.PTT;default:return d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE}}function q(a){if(a==null)return;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))return 3}g.getOptimisticMessageTimestamp=a;g.getOptimisticThreadBumpTimestamp=j;g.optimisticBumpThread=e;g.optimisticBumpThreadMedia=f;g.buildMAWOptimisticBaseMsg=l;g.buildMAWBaseSendMsgArgs=m;g.buildOptimisticAttachment=n;g.lsAttachmentTypeToMsgType=p;g.getSpecialTextSize=q}),98);
__d("MAWShareAttachmentDeferred",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("MAWShareAttachment").__setRef("MAWShareAttachmentDeferred");b=a;g["default"]=b}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_sent_message";function j(){return c("justknobx")._("1630")}function a(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),i,String(Date.now()))}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(i))<j()}g.sentMessage=a;g.hasSentMessagesRecently=b}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=e.isCommunityEvent,g=e.isMessageRequest,i=e.source;e=e.threadType;var j=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction").set(b,j);j={entrypoint:d("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(i),is_community_event:f===!0?"true":"false",is_message_request:g===!0?"true":"false",thread_type:e==null?"unknown":(h||(h=d("I64"))).to_string(e)};Object.entries(j).forEach(function(b){var c=b[0];b=b[1];a.addMetadata(c,String(b))});d("MessengerIntent").sentMessage();return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.logSentHeroInteraction=a}),98);
__d("UnifiedShareSheetMultiSelectionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={AddSeletectTarget:function(a){},RemoveSelectedTarget:function(a){},getXMAFileArgsPromise:function(){return null},getXMAPreviewPromise:function(){return null},selectedContacts:new Map(),selectedTargets:new Map()};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("UnifiedShareSheetSharingOptionsItemButton.react",["CometColumn.react","CometColumnItem.react","CometLinkSharingContext","CometPlaceholder.react","CometPressable.react","FDSSkittleIcon.react","FDSText.react","UnifiedShareSheetHScrollTilesItemPlaceholder.react","cr:8265","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={button:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xnfxvih",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",width:"x19v3vle",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(22),f,g,h,l;e[0]!==a?(f=a.icon,g=a.onPress,l=a.text,h=babelHelpers.objectWithoutPropertiesLoose(a,["icon","onPress","text"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=l):(f=e[1],g=e[2],h=e[3],l=e[4]);a=j(c("CometLinkSharingContext"));var m=a.shareSheetSurface,n=a.wrappedShareUrl,o=b("cr:8265")();e[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("UnifiedShareSheetHScrollTilesItemPlaceholder.react"),{}),e[5]=a):a=e[5];var p;e[6]!==g||e[7]!==m||e[8]!==o||e[9]!==n?(p=function(){g(),o&&n.includes("/share/")&&o({loggingMetrics:{off_platform_sharing:{entry_point:"AGNOSTIC_UNIFIED_SHARE_SHEET_ENTRYPOINT"}},shareSheetSurface:m,wrappedUrl:n})},e[6]=g,e[7]=m,e[8]=o,e[9]=n,e[10]=p):p=e[10];var q;e[11]!==f?(q=i.jsx(c("CometColumnItem.react"),{align:"center",children:i.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:f,size:60})}),e[11]=f,e[12]=q):q=e[12];e[13]!==l?(f=i.jsx(c("CometColumnItem.react"),{align:"center",children:i.jsx(c("FDSText.react"),{align:"center",numberOfLines:2,type:"body4",children:l})}),e[13]=l,e[14]=f):f=e[14];e[15]!==q||e[16]!==f?(l=i.jsxs(c("CometColumn.react"),{expanding:!0,paddingVertical:8,spacing:12,children:[q,f]}),e[15]=q,e[16]=f,e[17]=l):l=e[17];e[18]!==h||e[19]!==p||e[20]!==l?(q=i.jsx(c("CometPlaceholder.react"),{fallback:a,children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({onPress:p,xstyle:k.button},h,{children:l}))}),e[18]=h,e[19]=p,e[20]=l,e[21]=q):q=e[21];return q}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithXMAAttachment",["I64","LSIntEnum","MAWAdminMsg","MAWBumpThread","MAWCreateOptimisticSecureMessage","MAWLocalizationType","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","MAWVault","MWPActor.react","MessagingAttachmentType","QPLUserFlow","qpl","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(3),b=c("useAsyncReStore")(),e=d("MWPActor.react").useActor(),g;a[0]!==b||a[1]!==e?(g=function(a){var d=a.actionUrl,g=a.associatedMsgId,h=a.associatedMsgText,i=a.commands,k=a.contentRef,l=a.instanceKey,m=a.isReceiverFetch,n=a.lssTraceApi,o=a.mentionedJids,p=a.messageExternalId,q=a.messageText,r=a.offlineAttachmentId,s=a.onOfflineMsgId,t=a.optimisticMediaAttachment,u=a.reply,v=a.subtitleText,w=a.threadKey,x=a.titleText,y=a.xmaContentType,z=m===void 0?!1:m;return Promise.resolve(b).then(function(a){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message_restore_resolved",{instanceKey:l});return a.runInTransaction(function(b){return j({actionUrl:d,associatedMsgId:g,associatedMsgText:h,commands:i,contentRef:k,db:a,instanceKey:l,isReceiverFetch:z,lssTraceApi:n,mentionedJids:o,messageExternalId:p,messageText:q,offlineAttachmentId:r,onOfflineMsgId:s,optimisticMediaAttachment:t,reply:u,senderId:e,subtitleText:v,threadKey:w,titleText:x,txn:b,xmaContentType:y})},"readwrite","ui",void 0,f.id+":95")})},a[0]=b,a[1]=e,a[2]=g):g=a[2];return g}async function j(a){var b,e=a.actionUrl,f=a.associatedMsgId,g=a.associatedMsgText,j=a.commands,k=a.contentRef,l=a.db,m=a.instanceKey,n=a.isReceiverFetch;n=n===void 0?!1:n;var o=a.lssTraceApi,p=a.mentionedJids,q=a.messageExternalId,r=a.messageText,s=a.offlineAttachmentId,t=a.onOfflineMsgId,u=a.optimisticMediaAttachment,v=a.reply,w=a.senderId,x=a.subtitleText,y=a.threadKey,z=a.titleText,A=a.txn;a=a.xmaContentType;t(q);o==null?void 0:o.addMarkerPoint("set_offline_message_external_id_for_ls_message","AppTiming");t=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();o=(h||(h=d("I64"))).of_float(t);n=n?536870912:1024;b=await d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(l,A,w,v,(b=d("MAWVault").unvault(r))!=null?b:"",y,void 0,m,p,q,o,n,j);await A.messages.add(b);n=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({actionUrl:e,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),contentRef:k,messageExternalId:q,offlineAttachmentId:s,optimisticMediaAttachment:u,senderId:w,subtitleText:x,threadKey:y,timestampMsI64:o,titleText:z,xmaContentType:a});await A.attachments.add(n);if(f!=null&&g!=null&&g!==""){e=await d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(l,A,w,v,(b=d("MAWVault").unvault(g))!=null?b:"",y,void 0,m,p,f,o,1,j);await A.messages.add(e)}c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:m});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:m});await d("MAWBumpThread").threadMutation_DEPRECATED({description:"useMAWCreateOptimisticSecureMessageWithXMAAttachment",lastActivityTs:o,lastReadTs:o,snippet:d("MAWAdminMsg").buildLocalizedString([d("MAWVault").unvault(r)],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT),snippetSenderContactId:w,threadKey:y,txn:A});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:m});return{messageExternalId:q,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(s),offlineMsgTimestamp:t}}g.useMAWCreateOptimisticSecureMessageWithXMAAttachment=a}),98);
__d("useMWSendAttachment",["$InternalEnum","CometMessengerReshareContext","CometRelay","FBLogger","JSResourceForInteraction","LSDatabaseSingleton","LSMessagingThreadAttributionType","MAWMIC","MAWMessageSendReporterV2","MAWStateContext.react","MAWVerifyThreadCutoverDeferred","MWLSLogSend","MWVersion","MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred","UnifiedShareSheetMultiSelectionContext","WAResultOrError","cr:19817","isThreadLevelCutoverEnabled","qex","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageWithXMAAttachment"],(function(a,b,c,d,e,f,g){"use strict";var h,i;f=h||d("react");var j=f.useCallback,k=f.useContext,l=b("$InternalEnum").Mirrored(["USS_H_SCROLL","BCF"]);function m(){if(c("qex")._("564")===!0)return!0;else return c("qex")._("121")===!0}var n=c("JSResourceForInteraction")("LSShareAttachment").__setRef("useMWSendAttachment");function a(){var a=d("CometRelay").useRelayEnvironment(),e=d("useMAWCreateOptimisticSecureMessageWithXMAAttachment").useMAWCreateOptimisticSecureMessageWithXMAAttachment(),f=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),g=k(c("UnifiedShareSheetMultiSelectionContext")),h=g.getXMAFileArgsPromise;g=g.getXMAPreviewPromise;var o=k(c("CometMessengerReshareContext")),p=o.getXMAFileArgsPromise;o=o.getXMAPreviewPromise;var q=(g=(g=g())!=null?g:o())!=null?g:null,r=(g=(o=h())!=null?o:p())!=null?g:null;return j(async function(g){var h=g.attachment,j=g.contactWithCapabilityPromises,k=g.lssTraceApi,o=g.offlineMsgId,p=g.reshareTarget,s=g.s2sInstanceKey,t=g.sharingComponent,u=g.source,v=g.thread,w=g.xmaDataPromise,x=g.xmaDataProps;g=g.xmaMsgExternalId;var y=m(),z=y||c("isThreadLevelCutoverEnabled")();d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_deferred_component_load_start");var A=await c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred").load();d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_deferred_component_load_end");var B=d("MAWMIC").duringMIC();d("sendToSentQPLLogger").addSendToSentAnnotations(s,{bool:{during_mic:B}});d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_start");B=await A(p,(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,a,"sendAttachment",s,j);d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_end");A=B.targetID!==h.targetID?babelHelpers.extends({},h,{targetID:B.targetID}):h;d("MWLSLogSend").logSentHeroInteraction(k,o,{isMessageRequest:!1,mwVersion:d("MWVersion").v2,source:(j=u)!=null?j:c("LSMessagingThreadAttributionType").UNKNOWN,threadType:v==null?void 0:v.threadType});d("sendToSentQPLLogger").markSendToSentPoint(s,"offline_msg_id_generated");k.addMarkerPoint("offline_msg_id_generated","AppTiming");j=(h=B.isTargetE2E)!=null?h:y;v=!1;d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_thread_cutover_start");k.addMarkerPoint("verify_thread_cutover_start","AppTiming");if(c("MAWVerifyThreadCutoverDeferred")!=null){d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_cutover_deferred_component_load_start");h=await c("MAWVerifyThreadCutoverDeferred").load();y=h.verifyThreadCutoverWithStringInput;d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_cutover_deferred_component_load_end");v=await y((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,B.targetID)}d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_thread_cutover_end");if(z&&j||v){if(b("cr:19817")===null){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(s,"MAWShareAttachmentDeferred_null");k.addMarkerPoint("MAWShareAttachmentDeferred_null","AppTiming");throw c("FBLogger")("messenger_web_media").mustfixThrow("Failed to fetch MAWShareAttachmentDeferred")}d("sendToSentQPLLogger").markSendToSentPoint(s,"share_attachment_deferred_component_load_start");h=await b("cr:19817").load();y=h.shareSecureAttachment;d("sendToSentQPLLogger").markSendToSentPoint(s,"share_attachment_deferred_component_load_end");d("sendToSentQPLLogger").markSendToSentPoint(s,"share_secure_attachment_start");z=t===l.USS_H_SCROLL;j=await y(z?void 0:a,A,B,u,s,"useMWSendAttachment",k,z?x:void 0,w,o,g,e,f,q,r);if((j==null?void 0:j.success)===!1)return d("WAResultOrError").makeError(j.error);else{d("sendToSentQPLLogger").markSendToSentPoint(s,"share_secure_attachment_end");return d("WAResultOrError").makeResult({report:(j==null?void 0:j.value)||{description:"removal pending rollout of Message Send Reporter V2",messageType:"fixMe"},target:B})}}else try{v=await n.load();h=v.share;await h(A,s);return d("WAResultOrError").makeResult({report:{description:"open message",messageType:"fixMe"},target:p})}catch(a){throw a}},[e,f,a])}function e(){return o}function o(){b("cr:19817")==null?void 0:b("cr:19817").preload(),c("MAWVerifyThreadCutoverDeferred")==null?void 0:c("MAWVerifyThreadCutoverDeferred").preload(),c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred")==null?void 0:c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred").preload(),n.preload()}g.SharingComponentType=l;g.useMWSendAttachment=a;g.useMWPreloadSendAttachmentComponents=e}),98);
__d("useCometFeedToMessengerReshareV3PushPage",["CometMessengerResharesDialogPlaceholder.react","CometMessengerResharesUpdatedDialog.entrypoint","LSMessagingThreadAttributionType","react","react-compiler-runtime","useMWSendAttachment","usePushPage","useShareLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b=d("react-compiler-runtime").c(20),e=a.feedLocation,f=a.feedTracking,g=a.onClose,h=a.shareableID,k=a.sharingComponentName,l=a.storyData,m=a.url;b[0]!==m?(a={url:m},b[0]=m,b[1]=a):a=b[1];a=a;var n=j(null);a=c("usePushPage")(c("CometMessengerResharesUpdatedDialog.entrypoint"),a,"button_aggressive");var o=a[0];a=a[1];var p=a.onHoverIn,q=a.onHoverOut;a=a.onPressIn;var r=c("useShareLogger")(),s=r.onOpenBCFButtonClicked;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==s||b[6]!==o||b[7]!==h||b[8]!==k||b[9]!==l||b[10]!==m?(r=function(){s({entry_point:e,feed_tracking:f,is_anything_shared_in_current_session:!1,shareable_entity_fbid:h,sharing_component_name:k}),o({feedLocation:e,feedTracking:f,isPushPageView:!0,onClose:g,shareableID:h,source:c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE,storyData:l,url:m},{fallback:i.jsx(c("CometMessengerResharesDialogPlaceholder.react"),{isPushPageView:!0,onClose:g})})},b[2]=e,b[3]=f,b[4]=g,b[5]=s,b[6]=o,b[7]=h,b[8]=k,b[9]=l,b[10]=m,b[11]=r):r=b[11];r=r;var t=d("useMWSendAttachment").useMWPreloadSendAttachmentComponents(),u;b[12]!==p||b[13]!==t?(u=function(a){p(a),t()},b[12]=p,b[13]=t,b[14]=u):u=b[14];u=u;b[15]!==r||b[16]!==u||b[17]!==q||b[18]!==a?(n={onClick:r,onHoverIn:u,onHoverOut:q,onPressIn:a,triggerRef:n},b[15]=r,b[16]=u,b[17]=q,b[18]=a,b[19]=n):n=b[19];return n}g["default"]=a}),98);